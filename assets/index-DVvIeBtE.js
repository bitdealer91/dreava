const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ChhyusO2.js","assets/wagmi-Ck0DqXmB.js","assets/vendor-CgHzTxSQ.js","assets/VirtualList-CkN222eY.js"])))=>i.map(i=>d[i]);
var Eb=Object.defineProperty;var _b=(e,t,n)=>t in e?Eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var a0=(e,t,n)=>_b(e,typeof t!="symbol"?t+"":t,n);import{r as N,R as ou,u as Sb,a as kb,b as jb,c as Ab,d as Tb,e as Ib,j as s,f as ym,g as i0,h as Xi,i as wm,k as Cm,S as gd,P as o0,C as Rb,n as c0,U as El,_ as ws,l as _l,m as Nm,w as Pb,o as Fb,p as Ob,q as Db,s as Mb,t as zb,v as Bb,x as Lb,y as Ub,z as $b,A as Wb,B as Hb,D as jr,E as Sl,F as l0,G as d0,H as qb,I as u0,Q as Em,W as Gb,J as _m,K as Se}from"./wagmi-Ck0DqXmB.js";import{a as Sm,g as tl,b as km}from"./vendor-CgHzTxSQ.js";import{B as Zt,C as rt,Z as jm,p as cu,J as Nt,k as Ja,g as lu,s as xd,f as ii,i as Vb,a as kl,b as Co}from"./ethers-CnlGr5sJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var Qi={},h0;function Yb(){if(h0)return Qi;h0=1;var e=Sm();return Qi.createRoot=e.createRoot,Qi.hydrateRoot=e.hydrateRoot,Qi}var Zb=Yb();const Kb=tl(Zb);var rr=Sm();const Am=tl(rr);/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(this,arguments)}var Wr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wr||(Wr={}));const f0="popstate";function Jb(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:c,hash:o}=r.location;return bd("",{pathname:i,search:c,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:vc(a)}return Qb(t,n,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xb(){return Math.random().toString(36).substr(2,8)}function m0(e,t){return{usr:e.state,key:e.key,idx:t}}function bd(e,t,n,r){return n===void 0&&(n=null),oi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ea(t):t,{state:n,key:t&&t.key||r||Xb()})}function vc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ea(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Qb(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,c=a.history,o=Wr.Pop,l=null,d=u();d==null&&(d=0,c.replaceState(oi({},c.state,{idx:d}),""));function u(){return(c.state||{idx:null}).idx}function h(){o=Wr.Pop;let g=u(),b=g==null?null:g-d;d=g,l&&l({action:o,location:p.location,delta:b})}function f(g,b){o=Wr.Push;let v=bd(p.location,g,b);d=u()+1;let w=m0(v,d),C=p.createHref(v);try{c.pushState(w,"",C)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;a.location.assign(C)}i&&l&&l({action:o,location:p.location,delta:1})}function m(g,b){o=Wr.Replace;let v=bd(p.location,g,b);d=u();let w=m0(v,d),C=p.createHref(v);c.replaceState(w,"",C),i&&l&&l({action:o,location:p.location,delta:0})}function x(g){let b=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof g=="string"?g:vc(g);return v=v.replace(/ $/,"%20"),Kt(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return o},get location(){return e(a,c)},listen(g){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(f0,h),l=g,()=>{a.removeEventListener(f0,h),l=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let b=x(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:m,go(g){return c.go(g)}};return p}var p0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(p0||(p0={}));function ev(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Ea(t):t,a=du(r.pathname||"/",n);if(a==null)return null;let i=Im(e);tv(i);let c=null;for(let o=0;c==null&&o<i.length;++o){let l=fv(a);c=dv(i[o],l)}return c}function Im(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,c,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};l.relativePath.startsWith("/")&&(Kt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Gr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Kt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Im(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:cv(d,i.index),routesMeta:u})};return e.forEach((i,c)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,c);else for(let l of Rm(i.path))a(i,c,l)}),t}function Rm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let c=Rm(r.join("/")),o=[];return o.push(...c.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...c),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function tv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nv=/^:[\w-]+$/,rv=3,sv=2,av=1,iv=10,ov=-2,g0=e=>e==="*";function cv(e,t){let n=e.split("/"),r=n.length;return n.some(g0)&&(r+=ov),t&&(r+=sv),n.filter(a=>!g0(a)).reduce((a,i)=>a+(nv.test(i)?rv:i===""?av:iv),r)}function lv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function dv(e,t){let{routesMeta:n}=e,r={},a="/",i=[];for(let c=0;c<n.length;++c){let o=n[c],l=c===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",u=uv({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},d);if(!u)return null;Object.assign(r,u.params);let h=o.route;i.push({params:r,pathname:Gr([a,u.pathname]),pathnameBase:xv(Gr([a,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(a=Gr([a,u.pathnameBase]))}return i}function uv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hv(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=o[h]||"";c=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=o[h];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:c,pattern:e}}function hv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function fv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function du(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mv(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ea(e):e;return{pathname:n?n.startsWith("/")?n:pv(n,t):t,search:bv(r),hash:vv(a)}}function pv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function jl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Pm(e,t){let n=gv(e);return t?n.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fm(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=Ea(e):(a=oi({},e),Kt(!a.pathname||!a.pathname.includes("?"),jl("?","pathname","search",a)),Kt(!a.pathname||!a.pathname.includes("#"),jl("#","pathname","hash",a)),Kt(!a.search||!a.search.includes("#"),jl("#","search","hash",a)));let i=e===""||a.pathname==="",c=i?"/":a.pathname,o;if(c==null)o=n;else{let h=t.length-1;if(!r&&c.startsWith("..")){let f=c.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=mv(a,o),d=c&&c!=="/"&&c.endsWith("/"),u=(i||c===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const Gr=e=>e.join("/").replace(/\/\/+/g,"/"),xv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function yv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Om=["post","put","patch","delete"];new Set(Om);const wv=["get",...Om];new Set(wv);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ci.apply(this,arguments)}const uu=N.createContext(null),Cv=N.createContext(null),Ms=N.createContext(null),nl=N.createContext(null),ns=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Dm=N.createContext(null);function Nv(e,t){let{relative:n}=t===void 0?{}:t;Ri()||Kt(!1);let{basename:r,navigator:a}=N.useContext(Ms),{hash:i,pathname:c,search:o}=zm(e,{relative:n}),l=c;return r!=="/"&&(l=c==="/"?r:Gr([r,c])),a.createHref({pathname:l,search:o,hash:i})}function Ri(){return N.useContext(nl)!=null}function Pi(){return Ri()||Kt(!1),N.useContext(nl).location}function Mm(e){N.useContext(Ms).static||N.useLayoutEffect(e)}function an(){let{isDataRoute:e}=N.useContext(ns);return e?Dv():Ev()}function Ev(){Ri()||Kt(!1);let e=N.useContext(uu),{basename:t,future:n,navigator:r}=N.useContext(Ms),{matches:a}=N.useContext(ns),{pathname:i}=Pi(),c=JSON.stringify(Pm(a,n.v7_relativeSplatPath)),o=N.useRef(!1);return Mm(()=>{o.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let h=Fm(d,JSON.parse(c),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Gr([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,c,i,e])}function Fi(){let{matches:e}=N.useContext(ns),t=e[e.length-1];return t?t.params:{}}function zm(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=N.useContext(Ms),{matches:a}=N.useContext(ns),{pathname:i}=Pi(),c=JSON.stringify(Pm(a,r.v7_relativeSplatPath));return N.useMemo(()=>Fm(e,JSON.parse(c),i,n==="path"),[e,c,i,n])}function _v(e,t){return Sv(e,t)}function Sv(e,t,n,r){Ri()||Kt(!1);let{navigator:a}=N.useContext(Ms),{matches:i}=N.useContext(ns),c=i[i.length-1],o=c?c.params:{};c&&c.pathname;let l=c?c.pathnameBase:"/";c&&c.route;let d=Pi(),u;if(t){var h;let g=typeof t=="string"?Ea(t):t;l==="/"||(h=g.pathname)!=null&&h.startsWith(l)||Kt(!1),u=g}else u=d;let f=u.pathname||"/",m=f;if(l!=="/"){let g=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=ev(e,{pathname:m}),p=Iv(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Gr([l,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Gr([l,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n,r);return t&&p?N.createElement(nl.Provider,{value:{location:ci({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wr.Pop}},p):p}function kv(){let e=Ov(),t=yv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:a},n):null,null)}const jv=N.createElement(kv,null);class Av extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?N.createElement(ns.Provider,{value:this.props.routeContext},N.createElement(Dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tv(e){let{routeContext:t,match:n,children:r}=e,a=N.useContext(uu);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ns.Provider,{value:t},r)}function Iv(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let c=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let u=c.findIndex(h=>h.route.id&&o?.[h.route.id]);u>=0||Kt(!1),c=c.slice(0,Math.min(c.length,u+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<c.length;u++){let h=c[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:m}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){l=!0,d>=0?c=c.slice(0,d+1):c=[c[0]];break}}}return c.reduceRight((u,h,f)=>{let m,x=!1,p=null,g=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||jv,l&&(d<0&&f===0?(Mv("route-fallback"),x=!0,g=null):d===f&&(x=!0,g=h.route.hydrateFallbackElement||null)));let b=t.concat(c.slice(0,f+1)),v=()=>{let w;return m?w=p:x?w=g:h.route.Component?w=N.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,N.createElement(Tv,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(Av,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var Bm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bm||{}),Lm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lm||{});function Rv(e){let t=N.useContext(uu);return t||Kt(!1),t}function Pv(e){let t=N.useContext(Cv);return t||Kt(!1),t}function Fv(e){let t=N.useContext(ns);return t||Kt(!1),t}function Um(e){let t=Fv(),n=t.matches[t.matches.length-1];return n.route.id||Kt(!1),n.route.id}function Ov(){var e;let t=N.useContext(Dm),n=Pv(),r=Um();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Dv(){let{router:e}=Rv(Bm.UseNavigateStable),t=Um(Lm.UseNavigateStable),n=N.useRef(!1);return Mm(()=>{n.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ci({fromRouteId:t},i)))},[e,t])}const x0={};function Mv(e,t,n){x0[e]||(x0[e]=!0)}function Ut(e){Kt(!1)}function zv(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Wr.Pop,navigator:i,static:c=!1,future:o}=e;Ri()&&Kt(!1);let l=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:i,static:c,future:ci({v7_relativeSplatPath:!1},o)}),[l,o,i,c]);typeof r=="string"&&(r=Ea(r));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:x="default"}=r,p=N.useMemo(()=>{let g=du(u,l);return g==null?null:{location:{pathname:g,search:h,hash:f,state:m,key:x},navigationType:a}},[l,u,h,f,m,x,a]);return p==null?null:N.createElement(Ms.Provider,{value:d},N.createElement(nl.Provider,{children:n,value:p}))}function Bv(e){let{children:t,location:n}=e;return _v(vd(t),n)}new Promise(()=>{});function vd(e,t){t===void 0&&(t=[]);let n=[];return N.Children.forEach(e,(r,a)=>{if(!N.isValidElement(r))return;let i=[...t,a];if(r.type===N.Fragment){n.push.apply(n,vd(r.props.children,i));return}r.type!==Ut&&Kt(!1),!r.props.index||!r.props.children||Kt(!1);let c={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=vd(r.props.children,i)),n.push(c)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(this,arguments)}function Lv(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Uv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $v(e,t){return e.button===0&&(!t||t==="_self")&&!Uv(e)}const Wv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Hv="6";try{window.__reactRouterVersion=Hv}catch{}const qv="startTransition",b0=ou[qv];function Gv(e){let{basename:t,children:n,future:r,window:a}=e,i=N.useRef();i.current==null&&(i.current=Jb({window:a,v5Compat:!0}));let c=i.current,[o,l]=N.useState({action:c.action,location:c.location}),{v7_startTransition:d}=r||{},u=N.useCallback(h=>{d&&b0?b0(()=>l(h)):l(h)},[l,d]);return N.useLayoutEffect(()=>c.listen(u),[c,u]),N.createElement(zv,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:c,future:r})}const Vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=N.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:c,state:o,target:l,to:d,preventScrollReset:u,unstable_viewTransition:h}=t,f=Lv(t,Wv),{basename:m}=N.useContext(Ms),x,p=!1;if(typeof d=="string"&&Yv.test(d)&&(x=d,Vv))try{let w=new URL(window.location.href),C=d.startsWith("//")?new URL(w.protocol+d):new URL(d),y=du(C.pathname,m);C.origin===w.origin&&y!=null?d=y+C.search+C.hash:p=!0}catch{}let g=Nv(d,{relative:a}),b=Zv(d,{replace:c,state:o,target:l,preventScrollReset:u,relative:a,unstable_viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||b(w)}return N.createElement("a",yd({},f,{href:x||g,onClick:p||i?r:v,ref:n,target:l}))});var v0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v0||(v0={}));var y0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function Zv(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:c,unstable_viewTransition:o}=t===void 0?{}:t,l=an(),d=Pi(),u=zm(e,{relative:c});return N.useCallback(h=>{if($v(h,n)){h.preventDefault();let f=r!==void 0?r:vc(d)===vc(u);l(e,{replace:f,state:a,preventScrollReset:i,relative:c,unstable_viewTransition:o})}},[d,l,u,r,a,n,e,i,c,o])}const yc={projectId:"24290d0dec9f291cdba39d39f76c1c33",chains:[{id:50312,name:"Somnia Testnet",nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},rpcUrls:{default:{http:["https://dream-rpc.somnia.network/"]},public:{http:["https://dream-rpc.somnia.network/"]}},blockExplorers:{default:{name:"Shannon Explorer",url:"https://shannon-explorer.somnia.network/"}},testnet:!0,chainNamespace:"eip155"}]},eo=yc.chains[0],dr=()=>{const{address:e,isConnected:t}=Sb(),n=kb(),{data:r}=jb({address:e}),{disconnect:a}=Ab(),{connect:i,connectors:c}=Tb(),{switchChainAsync:o}=Ib(),[l,d]=N.useState(null),[u,h]=N.useState(!1),f=async(b,v)=>{if(!(!b||!v))try{h(!0);const C=await(await fetch("https://dream-rpc.somnia.network/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBalance",params:[b,"latest"],id:1})})).json();if(C.result){const y=BigInt(C.result),E=Number(y)/Math.pow(10,18);d(E.toFixed(4))}}catch(w){console.error("Failed to fetch balance:",w),d("0.00")}finally{h(!1)}};N.useEffect(()=>{e&&n?f(e,n):d(null)},[e,n]);const m=async b=>{try{if(console.log("[Wallet] switchNetwork requested:",b,"current:",n),n===b)return console.log("[Wallet] already on target chain"),{success:!0};if(typeof o=="function")try{return console.log("[Wallet] trying wagmi switchChainAsync"),await o({chainId:b,chain:eo}),console.log("[Wallet] wagmi switchChainAsync success"),{success:!0}}catch(v){console.warn("[Wallet] wagmi switchChainAsync error:",v?.message||v)}if(typeof window.ethereum<"u"){try{await window.ethereum.request({method:"eth_requestAccounts"})}catch{}try{return console.log("[Wallet] trying window.ethereum wallet_switchEthereumChain"),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${b.toString(16)}`}]}),console.log("[Wallet] window.ethereum switch success"),{success:!0}}catch(v){if(console.warn("[Wallet] window.ethereum switch error:",v?.code,v?.message||v),v.code===4902)try{return console.log("[Wallet] trying wallet_addEthereumChain"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${b.toString(16)}`,chainName:"Somnia Testnet",nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},rpcUrls:["https://dream-rpc.somnia.network/"],blockExplorerUrls:["https://shannon-explorer.somnia.network/"]}]}),await new Promise(w=>setTimeout(w,300)),console.log("[Wallet] addEthereumChain success, retrying wagmi switch"),typeof o=="function"?(await o({chainId:b,chain:eo}),{success:!0}):{success:!0}}catch(w){return console.error("Failed to add network:",w),{success:!1,error:w}}return{success:!1,error:v}}}return{success:!1,error:"No ethereum provider available"}}catch(v){return console.error("[Wallet] switchNetwork fatal error:",v),{success:!1,error:v}}},x=async b=>null,p=async b=>{try{console.log("[Wallet] connect requested",b);const v=b?.connectorId?c.find(w=>w.id===b.connectorId):b?.connectorName?c.find(w=>(w.name||"").toLowerCase().includes(String(b.connectorName).toLowerCase())):null;if(v){const w=await i({connector:v,chainId:eo.id});return console.log("[Wallet] connect via preferred result:",w),{success:!0,result:w}}if(c.length>0){const w=await i({connector:c[0],chainId:eo.id});return console.log("[Wallet] connect via fallback result:",w),{success:!0,result:w}}return{success:!1,error:new Error("No connectors available")}}catch(v){return console.error("Failed to connect:",v),{success:!1,error:v}}},g=async()=>{try{d(null),h(!1),a()}catch(b){throw console.error("Failed to disconnect:",b),b}};return{address:e,isConnected:t,chainId:n,isLoading:!1,connect:p,connectors:c,disconnect:g,switchNetwork:m,balance:l||(r?Number(r.value)/Math.pow(10,r.decimals):null),isLoadingBalance:u,getEnsName:x,reown:{appKitState:{initialized:!0},appKitNetwork:{chainId:n},appKitAccount:{address:e},appKitBalance:{balance:r},appKit:null,disconnectHook:{disconnect:g}}}},Kv=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!0),[a,i]=N.useState(null),[c,o]=N.useState(0),l=()=>Date.now()-c>6e5,d=async(h=!1)=>{if(!h&&!l()&&e.length>0){console.log("üì¶ Using cached all collections data");return}try{console.log("üîÑ Fetching all collections from API...");const f=new AbortController,m=setTimeout(()=>f.abort(),1e4),x=await fetch("/api/active-collections",{method:"GET",headers:{"Content-Type":"application/json"},signal:f.signal});if(clearTimeout(m),!x.ok)throw x.status===404?new Error("Collections data not available yet. Please wait for the indexer to run."):x.status===429?new Error("Too many requests. Please wait a moment and try again."):new Error(`HTTP ${x.status}: ${x.statusText}`);const p=await x.json();console.log("‚úÖ Received all collections from API:",{totalCollections:p.totalCollections,validCollections:p.validCollections,activeCollections:p.activeCollections,lastUpdate:p.lastUpdate,collections:p.collections.map(g=>({address:g.address,name:g.name,description:g.description,symbol:g.symbol,banner:g.banner,metadataBanner:g.metadata?.banner,cover:g.cover,hasBanner:!!(g.banner||g.metadata?.banner),hasCover:!!g.cover,nfts:g.nfts||[],hasNFTs:!!(g.nfts&&g.nfts.length>0),firstNFTImage:g.nfts&&g.nfts.length>0?g.nfts[0].image||g.nfts[0].image_url||g.nfts[0].media_url:null,nftsCount:g.nfts?.length||0,firstNFT:g.nfts?.[0]||null}))}),t(p.collections||[]),o(Date.now()),i(null)}catch(f){console.error("‚ùå Failed to fetch all collections:",f),f.name==="AbortError"?i("Request timeout. Please check your connection."):f.message.includes("Too many requests")?i("Server is busy. Please wait a moment and refresh."):i(f.message),e.length===0&&t([])}finally{r(!1)}};return N.useEffect(()=>{d(!0);const h=setInterval(()=>d(),6e5);return()=>clearInterval(h)},[]),{collections:N.useMemo(()=>e,[e]),loading:n,error:a,refetch:()=>d(!0)}},$m=N.createContext(),hu=()=>{const e=N.useContext($m);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},Jv=({children:e})=>{const[t,n]=N.useState(""),[r,a]=N.useState({priceRange:"all",supplyRange:"all",status:"all"}),[i,c]=N.useState(!1),[o,l]=N.useState({collections:[],nfts:[],isLoading:!1}),[d,u]=N.useState(!1),[h,f]=N.useState([]),{address:m,isConnected:x}=dr(),{collections:p}=Kv();N.useEffect(()=>{p&&p.length>0&&console.log("üîç SearchContext received allCollections:",{total:p.length,sample:p.slice(0,3).map(I=>({name:I.name,nfts:I.nfts?.length||0,firstNFTImage:I.nfts?.[0]?.image,firstNFT:I.nfts?.[0]}))})},[p]);const g=N.useCallback((I,T)=>{if(!T||!I)return[];const M=T.toLowerCase(),P=I.filter(F=>F.name?.toLowerCase().includes(M)||F.description?.toLowerCase().includes(M)||F.symbol?.toLowerCase().includes(M));return P.length>0&&console.log("üîç SearchCollections results:",{term:T,total:P.length,sample:P.slice(0,3).map(F=>({name:F.name,nfts:F.nfts?.length||0,firstNFTImage:F.nfts?.[0]?.image,firstNFT:F.nfts?.[0]}))}),P},[]),b=N.useCallback((I,T)=>{if(!T||!I)return[];const M=T.toLowerCase(),P=I.filter(F=>F.metadata?.name?.toLowerCase().includes(M)||F.metadata?.description?.toLowerCase().includes(M)||F.collectionName?.toLowerCase().includes(M)||F.id?.toString().includes(M)||F.token?.name?.toLowerCase().includes(M)||F.token?.symbol?.toLowerCase().includes(M));return P.length>0&&console.log("üîç SearchNFTs results:",{term:T,total:P.length,sample:P.slice(0,3).map(F=>({id:F.id,name:F.metadata?.name,collectionName:F.collectionName,directImage:F.image,metadataImage:F.metadata?.image}))}),P},[]),v=N.useCallback(async()=>{if(!x||!m)return[];try{console.log("üîç Fetching user NFTs for search from API...");const I=await fetch(`https://somnia.w3us.site/api/v2/addresses/${m}/nft/collections?type=ERC-721%2CERC-404%2CERC-1155`);if(!I.ok)return console.warn("API response not ok:",I.status),[];const T=await I.json();if(!T.items||!Array.isArray(T.items))return console.warn("Invalid API response format"),[];let M=T.items.flatMap(F=>!F.token_instances||!Array.isArray(F.token_instances)?[]:F.token_instances.map(k=>({...k,id:k.id,collectionName:F.token?.name||"Unknown",collectionSymbol:F.token?.symbol||"",tokenType:F.token?.type||"ERC-721",token:F.token||{},isFactoryNFT:F.token?.address?.toLowerCase()==="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09".toLowerCase()})));if(M.length>0&&console.log("üîç fetchUserNFTs received NFTs:",{total:M.length,sample:M.slice(0,3).map(F=>({id:F.id,name:F.metadata?.name,collectionName:F.collectionName,directImage:F.image,metadataImage:F.metadata?.image}))}),!M||M.length===0)try{const F=await fetch(`https://somnia.w3us.site/api/v2/addresses/${m}/nft/tokens?type=ERC-721%2CERC-404%2CERC-1155`);if(F.ok){const k=await F.json();Array.isArray(k.items)&&(M=k.items.map(D=>({...D,id:D.id,collectionName:D.token?.name||"Unknown",collectionSymbol:D.token?.symbol||"",tokenType:D.token?.type||"ERC-721",token:D.token||{},isFactoryNFT:D.token?.address?.toLowerCase()==="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09".toLowerCase()})))}}catch(F){console.warn("Fallback token fetch failed:",F.message)}const P=M.filter((F,k,D)=>k===D.findIndex(L=>L.id===F.id&&L.token?.address===F.token?.address));return console.log("‚úÖ Fetched user NFTs for search:",P.length),P}catch(I){return console.warn("Error fetching user NFTs for search:",I),[]}},[x,m]);N.useEffect(()=>{let I=!1;return(async()=>{try{if(x&&m){const M=await v();I||f(Array.isArray(M)?M:[])}else f([])}catch(M){console.warn("Failed to load user NFTs for search:",M?.message||M),I||f([])}})(),()=>{I=!0}},[x,m,v]);const w=N.useCallback(async I=>{if(!I||I.trim().length<2){l({collections:[],nfts:[],isLoading:!1});return}l(T=>({...T,isLoading:!0}));try{const T=g(p,I),M=b(h,I);console.log("üîç performSearch results:",{term:I,collections:{total:T.length,sample:T.slice(0,3).map(P=>({name:P.name,nfts:P.nfts?.length||0,firstNFTImage:P.nfts?.[0]?.image}))},nfts:{total:M.length,sample:M.slice(0,3).map(P=>({id:P.id,name:P.metadata?.name,collectionName:P.collectionName}))}}),l({collections:T,nfts:M,isLoading:!1})}catch(T){console.error("Search error:",T),l({collections:[],nfts:[],isLoading:!1})}},[p,h,g,b]),C=N.useCallback(I=>{n(I),I&&I.trim().length>=2?(console.log("üîç updateSearch called with term:",I),w(I),u(!0)):l({collections:[],nfts:[],isLoading:!1})},[w]);N.useCallback(()=>{console.log("üîç handleSearchFocus called, searchTerm:",t),t&&t.trim().length>=2&&u(!0)},[t]),N.useCallback(()=>{console.log("üîç handleSearchBlur called"),setTimeout(()=>{u(!1)},200)},[]),N.useCallback(()=>{console.log("üîç handleViewAllCollections called, collections:",o.collections.length),u(!1)},[o.collections.length]),N.useCallback(()=>{console.log("üîç handleViewAllNFTs called, nfts:",o.nfts.length),u(!1)},[o.nfts.length]),N.useCallback(I=>{console.log("üîç handleCollectionClick called for collection:",{name:I.name,address:I.address,nfts:I.nfts?.length||0,firstNFTImage:I.nfts?.[0]?.image}),u(!1)},[]),N.useCallback(I=>{console.log("üîç handleNFTClick called for NFT:",{id:I.id,name:I.metadata?.name,collectionName:I.collectionName,directImage:I.image,metadataImage:I.metadata?.image}),u(!1)},[]);const y=N.useCallback(I=>{console.log("üîç updateFilters called with:",I),a(T=>({...T,...I}))},[]);N.useCallback(()=>{console.log("üîç resetFilters called"),a({priceRange:"all",supplyRange:"all",status:"all"})},[]);const E=N.useCallback(()=>{console.log("üîç clearSearch called"),n(""),l({collections:[],nfts:[],isLoading:!1}),u(!1),c(!1)},[]),S=N.useCallback(()=>{u(!1)},[]);N.useCallback(()=>{console.log("üîç toggleSearch called, current state:",{isSearchActive:i,showSearchResults:d}),c(!i),i||u(!1)},[i]),N.useEffect(()=>{t.length>=2&&C(t)},[p,t,C]),N.useCallback(()=>{console.log("üîç getFilteredResults called with filters:",r);let I=o.collections,T=o.nfts;return r.priceRange!=="all"&&console.log("üîç Applying price filter:",r.priceRange),r.supplyRange!=="all"&&console.log("üîç Applying supply filter:",r.supplyRange),r.status!=="all"&&console.log("üîç Applying status filter:",r.status),{collections:I,nfts:T}},[o,r]),N.useCallback(()=>{console.log("üîç getSearchStats called");const I=o.collections.length+o.nfts.length,T=I>0;return console.log("üîç Search stats:",{totalResults:I,hasResults:T,collections:o.collections.length,nfts:o.nfts.length,isLoading:o.isLoading}),{totalResults:I,hasResults:T,collections:o.collections.length,nfts:o.nfts.length,isLoading:o.isLoading}},[o]),N.useCallback(I=>{if(!I||I.length<1)return[];console.log("üîç getSearchSuggestions called with:",I);const T=[];if(p){const M=p.filter(P=>P.name?.toLowerCase().includes(I.toLowerCase())).slice(0,3).map(P=>({type:"collection",name:P.name,description:P.description,image:P.nfts?.[0]?.image||P.cover}));T.push(...M),console.log("üîç Collection suggestions:",M)}if(h){const M=h.filter(P=>P.metadata?.name?.toLowerCase().includes(I.toLowerCase())).slice(0,2).map(P=>({type:"nft",name:P.metadata?.name,description:P.collectionName,image:P.image||P.metadata?.image}));T.push(...M),console.log("üîç NFT suggestions:",M)}return console.log("üîç Total suggestions:",T.length),T},[p,h]),N.useCallback(()=>{console.log("üîç getSearchHistory called");const I=[];return console.log("üîç Search history:",I),I},[]),N.useCallback(I=>{console.log("üîç addRecentSearch called with:",I),console.log("üîç Adding recent search:",I)},[]),N.useCallback(()=>{console.log("üîç clearRecentSearches called"),console.log("üîç Clearing recent searches")},[]);const R={searchTerm:t,filters:r,isSearchActive:i,searchResults:o,showSearchResults:d,updateSearch:C,updateFilters:y,clearSearch:E,hideSearchResults:S};return s.jsx($m.Provider,{value:R,children:e})};var Al={},Oa={},w0;function Xv(){if(w0)return Oa;w0=1,Oa.byteLength=o,Oa.toByteArray=d,Oa.fromByteArray=f;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,i=r.length;a<i;++a)e[a]=r[a],t[r.charCodeAt(a)]=a;t[45]=62,t[95]=63;function c(m){var x=m.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=m.indexOf("=");p===-1&&(p=x);var g=p===x?0:4-p%4;return[p,g]}function o(m){var x=c(m),p=x[0],g=x[1];return(p+g)*3/4-g}function l(m,x,p){return(x+p)*3/4-p}function d(m){var x,p=c(m),g=p[0],b=p[1],v=new n(l(m,g,b)),w=0,C=b>0?g-4:g,y;for(y=0;y<C;y+=4)x=t[m.charCodeAt(y)]<<18|t[m.charCodeAt(y+1)]<<12|t[m.charCodeAt(y+2)]<<6|t[m.charCodeAt(y+3)],v[w++]=x>>16&255,v[w++]=x>>8&255,v[w++]=x&255;return b===2&&(x=t[m.charCodeAt(y)]<<2|t[m.charCodeAt(y+1)]>>4,v[w++]=x&255),b===1&&(x=t[m.charCodeAt(y)]<<10|t[m.charCodeAt(y+1)]<<4|t[m.charCodeAt(y+2)]>>2,v[w++]=x>>8&255,v[w++]=x&255),v}function u(m){return e[m>>18&63]+e[m>>12&63]+e[m>>6&63]+e[m&63]}function h(m,x,p){for(var g,b=[],v=x;v<p;v+=3)g=(m[v]<<16&16711680)+(m[v+1]<<8&65280)+(m[v+2]&255),b.push(u(g));return b.join("")}function f(m){for(var x,p=m.length,g=p%3,b=[],v=16383,w=0,C=p-g;w<C;w+=v)b.push(h(m,w,w+v>C?C:w+v));return g===1?(x=m[p-1],b.push(e[x>>2]+e[x<<4&63]+"==")):g===2&&(x=(m[p-2]<<8)+m[p-1],b.push(e[x>>10]+e[x>>4&63]+e[x<<2&63]+"=")),b.join("")}return Oa}var to={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var C0;function Qv(){return C0||(C0=1,to.read=function(e,t,n,r,a){var i,c,o=a*8-r-1,l=(1<<o)-1,d=l>>1,u=-7,h=n?a-1:0,f=n?-1:1,m=e[t+h];for(h+=f,i=m&(1<<-u)-1,m>>=-u,u+=o;u>0;i=i*256+e[t+h],h+=f,u-=8);for(c=i&(1<<-u)-1,i>>=-u,u+=r;u>0;c=c*256+e[t+h],h+=f,u-=8);if(i===0)i=1-d;else{if(i===l)return c?NaN:(m?-1:1)*(1/0);c=c+Math.pow(2,r),i=i-d}return(m?-1:1)*c*Math.pow(2,i-r)},to.write=function(e,t,n,r,a,i){var c,o,l,d=i*8-a-1,u=(1<<d)-1,h=u>>1,f=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,x=r?1:-1,p=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,c=u):(c=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-c))<1&&(c--,l*=2),c+h>=1?t+=f/l:t+=f*Math.pow(2,1-h),t*l>=2&&(c++,l/=2),c+h>=u?(o=0,c=u):c+h>=1?(o=(t*l-1)*Math.pow(2,a),c=c+h):(o=t*Math.pow(2,h-1)*Math.pow(2,a),c=0));a>=8;e[n+m]=o&255,m+=x,o/=256,a-=8);for(c=c<<a|o,d+=a;d>0;e[n+m]=c&255,m+=x,c/=256,d-=8);e[n+m-x]|=p*128}),to}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var N0;function rl(){return N0||(N0=1,function(e){const t=Xv(),n=Qv(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const O=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(O,_),O.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function c(O){if(O>a)throw new RangeError('The value "'+O+'" is invalid for option "size"');const _=new Uint8Array(O);return Object.setPrototypeOf(_,o.prototype),_}function o(O,_,j){if(typeof O=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(O)}return l(O,_,j)}o.poolSize=8192;function l(O,_,j){if(typeof O=="string")return f(O,_);if(ArrayBuffer.isView(O))return x(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(re(O,ArrayBuffer)||O&&re(O.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(re(O,SharedArrayBuffer)||O&&re(O.buffer,SharedArrayBuffer)))return p(O,_,j);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Z=O.valueOf&&O.valueOf();if(Z!=null&&Z!==O)return o.from(Z,_,j);const te=g(O);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return o.from(O[Symbol.toPrimitive]("string"),_,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}o.from=function(O,_,j){return l(O,_,j)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function u(O,_,j){return d(O),O<=0?c(O):_!==void 0?typeof j=="string"?c(O).fill(_,j):c(O).fill(_):c(O)}o.alloc=function(O,_,j){return u(O,_,j)};function h(O){return d(O),c(O<0?0:b(O)|0)}o.allocUnsafe=function(O){return h(O)},o.allocUnsafeSlow=function(O){return h(O)};function f(O,_){if((typeof _!="string"||_==="")&&(_="utf8"),!o.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const j=w(O,_)|0;let Z=c(j);const te=Z.write(O,_);return te!==j&&(Z=Z.slice(0,te)),Z}function m(O){const _=O.length<0?0:b(O.length)|0,j=c(_);for(let Z=0;Z<_;Z+=1)j[Z]=O[Z]&255;return j}function x(O){if(re(O,Uint8Array)){const _=new Uint8Array(O);return p(_.buffer,_.byteOffset,_.byteLength)}return m(O)}function p(O,_,j){if(_<0||O.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<_+(j||0))throw new RangeError('"length" is outside of buffer bounds');let Z;return _===void 0&&j===void 0?Z=new Uint8Array(O):j===void 0?Z=new Uint8Array(O,_):Z=new Uint8Array(O,_,j),Object.setPrototypeOf(Z,o.prototype),Z}function g(O){if(o.isBuffer(O)){const _=b(O.length)|0,j=c(_);return j.length===0||O.copy(j,0,0,_),j}if(O.length!==void 0)return typeof O.length!="number"||be(O.length)?c(0):m(O);if(O.type==="Buffer"&&Array.isArray(O.data))return m(O.data)}function b(O){if(O>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return O|0}function v(O){return+O!=O&&(O=0),o.alloc(+O)}o.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==o.prototype},o.compare=function(_,j){if(re(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),re(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),!o.isBuffer(_)||!o.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===j)return 0;let Z=_.length,te=j.length;for(let le=0,ue=Math.min(Z,te);le<ue;++le)if(_[le]!==j[le]){Z=_[le],te=j[le];break}return Z<te?-1:te<Z?1:0},o.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(_,j){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return o.alloc(0);let Z;if(j===void 0)for(j=0,Z=0;Z<_.length;++Z)j+=_[Z].length;const te=o.allocUnsafe(j);let le=0;for(Z=0;Z<_.length;++Z){let ue=_[Z];if(re(ue,Uint8Array))le+ue.length>te.length?(o.isBuffer(ue)||(ue=o.from(ue)),ue.copy(te,le)):Uint8Array.prototype.set.call(te,ue,le);else if(o.isBuffer(ue))ue.copy(te,le);else throw new TypeError('"list" argument must be an Array of Buffers');le+=ue.length}return te};function w(O,_){if(o.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||re(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const j=O.length,Z=arguments.length>2&&arguments[2]===!0;if(!Z&&j===0)return 0;let te=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return V(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return pe(O).length;default:if(te)return Z?-1:V(O).length;_=(""+_).toLowerCase(),te=!0}}o.byteLength=w;function C(O,_,j){let Z=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,_>>>=0,j<=_))return"";for(O||(O="utf8");;)switch(O){case"hex":return $(this,_,j);case"utf8":case"utf-8":return k(this,_,j);case"ascii":return G(this,_,j);case"latin1":case"binary":return z(this,_,j);case"base64":return F(this,_,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,_,j);default:if(Z)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),Z=!0}}o.prototype._isBuffer=!0;function y(O,_,j){const Z=O[_];O[_]=O[j],O[j]=Z}o.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let j=0;j<_;j+=2)y(this,j,j+1);return this},o.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let j=0;j<_;j+=4)y(this,j,j+3),y(this,j+1,j+2);return this},o.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let j=0;j<_;j+=8)y(this,j,j+7),y(this,j+1,j+6),y(this,j+2,j+5),y(this,j+3,j+4);return this},o.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?k(this,0,_):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(_){if(!o.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:o.compare(this,_)===0},o.prototype.inspect=function(){let _="";const j=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(_+=" ... "),"<Buffer "+_+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(_,j,Z,te,le){if(re(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),!o.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(j===void 0&&(j=0),Z===void 0&&(Z=_?_.length:0),te===void 0&&(te=0),le===void 0&&(le=this.length),j<0||Z>_.length||te<0||le>this.length)throw new RangeError("out of range index");if(te>=le&&j>=Z)return 0;if(te>=le)return-1;if(j>=Z)return 1;if(j>>>=0,Z>>>=0,te>>>=0,le>>>=0,this===_)return 0;let ue=le-te,Ne=Z-j;const De=Math.min(ue,Ne),Ie=this.slice(te,le),Ze=_.slice(j,Z);for(let je=0;je<De;++je)if(Ie[je]!==Ze[je]){ue=Ie[je],Ne=Ze[je];break}return ue<Ne?-1:Ne<ue?1:0};function E(O,_,j,Z,te){if(O.length===0)return-1;if(typeof j=="string"?(Z=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,be(j)&&(j=te?0:O.length-1),j<0&&(j=O.length+j),j>=O.length){if(te)return-1;j=O.length-1}else if(j<0)if(te)j=0;else return-1;if(typeof _=="string"&&(_=o.from(_,Z)),o.isBuffer(_))return _.length===0?-1:S(O,_,j,Z,te);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(O,_,j):Uint8Array.prototype.lastIndexOf.call(O,_,j):S(O,[_],j,Z,te);throw new TypeError("val must be string, number or Buffer")}function S(O,_,j,Z,te){let le=1,ue=O.length,Ne=_.length;if(Z!==void 0&&(Z=String(Z).toLowerCase(),Z==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(O.length<2||_.length<2)return-1;le=2,ue/=2,Ne/=2,j/=2}function De(Ze,je){return le===1?Ze[je]:Ze.readUInt16BE(je*le)}let Ie;if(te){let Ze=-1;for(Ie=j;Ie<ue;Ie++)if(De(O,Ie)===De(_,Ze===-1?0:Ie-Ze)){if(Ze===-1&&(Ze=Ie),Ie-Ze+1===Ne)return Ze*le}else Ze!==-1&&(Ie-=Ie-Ze),Ze=-1}else for(j+Ne>ue&&(j=ue-Ne),Ie=j;Ie>=0;Ie--){let Ze=!0;for(let je=0;je<Ne;je++)if(De(O,Ie+je)!==De(_,je)){Ze=!1;break}if(Ze)return Ie}return-1}o.prototype.includes=function(_,j,Z){return this.indexOf(_,j,Z)!==-1},o.prototype.indexOf=function(_,j,Z){return E(this,_,j,Z,!0)},o.prototype.lastIndexOf=function(_,j,Z){return E(this,_,j,Z,!1)};function R(O,_,j,Z){j=Number(j)||0;const te=O.length-j;Z?(Z=Number(Z),Z>te&&(Z=te)):Z=te;const le=_.length;Z>le/2&&(Z=le/2);let ue;for(ue=0;ue<Z;++ue){const Ne=parseInt(_.substr(ue*2,2),16);if(be(Ne))return ue;O[j+ue]=Ne}return ue}function I(O,_,j,Z){return de(V(_,O.length-j),O,j,Z)}function T(O,_,j,Z){return de(Y(_),O,j,Z)}function M(O,_,j,Z){return de(pe(_),O,j,Z)}function P(O,_,j,Z){return de(se(_,O.length-j),O,j,Z)}o.prototype.write=function(_,j,Z,te){if(j===void 0)te="utf8",Z=this.length,j=0;else if(Z===void 0&&typeof j=="string")te=j,Z=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(Z)?(Z=Z>>>0,te===void 0&&(te="utf8")):(te=Z,Z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const le=this.length-j;if((Z===void 0||Z>le)&&(Z=le),_.length>0&&(Z<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");let ue=!1;for(;;)switch(te){case"hex":return R(this,_,j,Z);case"utf8":case"utf-8":return I(this,_,j,Z);case"ascii":case"latin1":case"binary":return T(this,_,j,Z);case"base64":return M(this,_,j,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,_,j,Z);default:if(ue)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ue=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(O,_,j){return _===0&&j===O.length?t.fromByteArray(O):t.fromByteArray(O.slice(_,j))}function k(O,_,j){j=Math.min(O.length,j);const Z=[];let te=_;for(;te<j;){const le=O[te];let ue=null,Ne=le>239?4:le>223?3:le>191?2:1;if(te+Ne<=j){let De,Ie,Ze,je;switch(Ne){case 1:le<128&&(ue=le);break;case 2:De=O[te+1],(De&192)===128&&(je=(le&31)<<6|De&63,je>127&&(ue=je));break;case 3:De=O[te+1],Ie=O[te+2],(De&192)===128&&(Ie&192)===128&&(je=(le&15)<<12|(De&63)<<6|Ie&63,je>2047&&(je<55296||je>57343)&&(ue=je));break;case 4:De=O[te+1],Ie=O[te+2],Ze=O[te+3],(De&192)===128&&(Ie&192)===128&&(Ze&192)===128&&(je=(le&15)<<18|(De&63)<<12|(Ie&63)<<6|Ze&63,je>65535&&je<1114112&&(ue=je))}}ue===null?(ue=65533,Ne=1):ue>65535&&(ue-=65536,Z.push(ue>>>10&1023|55296),ue=56320|ue&1023),Z.push(ue),te+=Ne}return L(Z)}const D=4096;function L(O){const _=O.length;if(_<=D)return String.fromCharCode.apply(String,O);let j="",Z=0;for(;Z<_;)j+=String.fromCharCode.apply(String,O.slice(Z,Z+=D));return j}function G(O,_,j){let Z="";j=Math.min(O.length,j);for(let te=_;te<j;++te)Z+=String.fromCharCode(O[te]&127);return Z}function z(O,_,j){let Z="";j=Math.min(O.length,j);for(let te=_;te<j;++te)Z+=String.fromCharCode(O[te]);return Z}function $(O,_,j){const Z=O.length;(!_||_<0)&&(_=0),(!j||j<0||j>Z)&&(j=Z);let te="";for(let le=_;le<j;++le)te+=we[O[le]];return te}function ne(O,_,j){const Z=O.slice(_,j);let te="";for(let le=0;le<Z.length-1;le+=2)te+=String.fromCharCode(Z[le]+Z[le+1]*256);return te}o.prototype.slice=function(_,j){const Z=this.length;_=~~_,j=j===void 0?Z:~~j,_<0?(_+=Z,_<0&&(_=0)):_>Z&&(_=Z),j<0?(j+=Z,j<0&&(j=0)):j>Z&&(j=Z),j<_&&(j=_);const te=this.subarray(_,j);return Object.setPrototypeOf(te,o.prototype),te};function B(O,_,j){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+_>j)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(_,j,Z){_=_>>>0,j=j>>>0,Z||B(_,j,this.length);let te=this[_],le=1,ue=0;for(;++ue<j&&(le*=256);)te+=this[_+ue]*le;return te},o.prototype.readUintBE=o.prototype.readUIntBE=function(_,j,Z){_=_>>>0,j=j>>>0,Z||B(_,j,this.length);let te=this[_+--j],le=1;for(;j>0&&(le*=256);)te+=this[_+--j]*le;return te},o.prototype.readUint8=o.prototype.readUInt8=function(_,j){return _=_>>>0,j||B(_,1,this.length),this[_]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(_,j){return _=_>>>0,j||B(_,2,this.length),this[_]|this[_+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(_,j){return _=_>>>0,j||B(_,2,this.length),this[_]<<8|this[_+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(_,j){return _=_>>>0,j||B(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(_,j){return _=_>>>0,j||B(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},o.prototype.readBigUInt64LE=ve(function(_){_=_>>>0,xe(_,"offset");const j=this[_],Z=this[_+7];(j===void 0||Z===void 0)&&A(_,this.length-8);const te=j+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,le=this[++_]+this[++_]*2**8+this[++_]*2**16+Z*2**24;return BigInt(te)+(BigInt(le)<<BigInt(32))}),o.prototype.readBigUInt64BE=ve(function(_){_=_>>>0,xe(_,"offset");const j=this[_],Z=this[_+7];(j===void 0||Z===void 0)&&A(_,this.length-8);const te=j*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],le=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Z;return(BigInt(te)<<BigInt(32))+BigInt(le)}),o.prototype.readIntLE=function(_,j,Z){_=_>>>0,j=j>>>0,Z||B(_,j,this.length);let te=this[_],le=1,ue=0;for(;++ue<j&&(le*=256);)te+=this[_+ue]*le;return le*=128,te>=le&&(te-=Math.pow(2,8*j)),te},o.prototype.readIntBE=function(_,j,Z){_=_>>>0,j=j>>>0,Z||B(_,j,this.length);let te=j,le=1,ue=this[_+--te];for(;te>0&&(le*=256);)ue+=this[_+--te]*le;return le*=128,ue>=le&&(ue-=Math.pow(2,8*j)),ue},o.prototype.readInt8=function(_,j){return _=_>>>0,j||B(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},o.prototype.readInt16LE=function(_,j){_=_>>>0,j||B(_,2,this.length);const Z=this[_]|this[_+1]<<8;return Z&32768?Z|4294901760:Z},o.prototype.readInt16BE=function(_,j){_=_>>>0,j||B(_,2,this.length);const Z=this[_+1]|this[_]<<8;return Z&32768?Z|4294901760:Z},o.prototype.readInt32LE=function(_,j){return _=_>>>0,j||B(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},o.prototype.readInt32BE=function(_,j){return _=_>>>0,j||B(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},o.prototype.readBigInt64LE=ve(function(_){_=_>>>0,xe(_,"offset");const j=this[_],Z=this[_+7];(j===void 0||Z===void 0)&&A(_,this.length-8);const te=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(Z<<24);return(BigInt(te)<<BigInt(32))+BigInt(j+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),o.prototype.readBigInt64BE=ve(function(_){_=_>>>0,xe(_,"offset");const j=this[_],Z=this[_+7];(j===void 0||Z===void 0)&&A(_,this.length-8);const te=(j<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(te)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+Z)}),o.prototype.readFloatLE=function(_,j){return _=_>>>0,j||B(_,4,this.length),n.read(this,_,!0,23,4)},o.prototype.readFloatBE=function(_,j){return _=_>>>0,j||B(_,4,this.length),n.read(this,_,!1,23,4)},o.prototype.readDoubleLE=function(_,j){return _=_>>>0,j||B(_,8,this.length),n.read(this,_,!0,52,8)},o.prototype.readDoubleBE=function(_,j){return _=_>>>0,j||B(_,8,this.length),n.read(this,_,!1,52,8)};function H(O,_,j,Z,te,le){if(!o.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>te||_<le)throw new RangeError('"value" argument is out of bounds');if(j+Z>O.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(_,j,Z,te){if(_=+_,j=j>>>0,Z=Z>>>0,!te){const Ne=Math.pow(2,8*Z)-1;H(this,_,j,Z,Ne,0)}let le=1,ue=0;for(this[j]=_&255;++ue<Z&&(le*=256);)this[j+ue]=_/le&255;return j+Z},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(_,j,Z,te){if(_=+_,j=j>>>0,Z=Z>>>0,!te){const Ne=Math.pow(2,8*Z)-1;H(this,_,j,Z,Ne,0)}let le=Z-1,ue=1;for(this[j+le]=_&255;--le>=0&&(ue*=256);)this[j+le]=_/ue&255;return j+Z},o.prototype.writeUint8=o.prototype.writeUInt8=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,1,255,0),this[j]=_&255,j+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,2,65535,0),this[j]=_&255,this[j+1]=_>>>8,j+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,2,65535,0),this[j]=_>>>8,this[j+1]=_&255,j+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,4,4294967295,0),this[j+3]=_>>>24,this[j+2]=_>>>16,this[j+1]=_>>>8,this[j]=_&255,j+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,4,4294967295,0),this[j]=_>>>24,this[j+1]=_>>>16,this[j+2]=_>>>8,this[j+3]=_&255,j+4};function W(O,_,j,Z,te){fe(_,Z,te,O,j,7);let le=Number(_&BigInt(4294967295));O[j++]=le,le=le>>8,O[j++]=le,le=le>>8,O[j++]=le,le=le>>8,O[j++]=le;let ue=Number(_>>BigInt(32)&BigInt(4294967295));return O[j++]=ue,ue=ue>>8,O[j++]=ue,ue=ue>>8,O[j++]=ue,ue=ue>>8,O[j++]=ue,j}function q(O,_,j,Z,te){fe(_,Z,te,O,j,7);let le=Number(_&BigInt(4294967295));O[j+7]=le,le=le>>8,O[j+6]=le,le=le>>8,O[j+5]=le,le=le>>8,O[j+4]=le;let ue=Number(_>>BigInt(32)&BigInt(4294967295));return O[j+3]=ue,ue=ue>>8,O[j+2]=ue,ue=ue>>8,O[j+1]=ue,ue=ue>>8,O[j]=ue,j+8}o.prototype.writeBigUInt64LE=ve(function(_,j=0){return W(this,_,j,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ve(function(_,j=0){return q(this,_,j,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(_,j,Z,te){if(_=+_,j=j>>>0,!te){const De=Math.pow(2,8*Z-1);H(this,_,j,Z,De-1,-De)}let le=0,ue=1,Ne=0;for(this[j]=_&255;++le<Z&&(ue*=256);)_<0&&Ne===0&&this[j+le-1]!==0&&(Ne=1),this[j+le]=(_/ue>>0)-Ne&255;return j+Z},o.prototype.writeIntBE=function(_,j,Z,te){if(_=+_,j=j>>>0,!te){const De=Math.pow(2,8*Z-1);H(this,_,j,Z,De-1,-De)}let le=Z-1,ue=1,Ne=0;for(this[j+le]=_&255;--le>=0&&(ue*=256);)_<0&&Ne===0&&this[j+le+1]!==0&&(Ne=1),this[j+le]=(_/ue>>0)-Ne&255;return j+Z},o.prototype.writeInt8=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,1,127,-128),_<0&&(_=255+_+1),this[j]=_&255,j+1},o.prototype.writeInt16LE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,2,32767,-32768),this[j]=_&255,this[j+1]=_>>>8,j+2},o.prototype.writeInt16BE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,2,32767,-32768),this[j]=_>>>8,this[j+1]=_&255,j+2},o.prototype.writeInt32LE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,4,2147483647,-2147483648),this[j]=_&255,this[j+1]=_>>>8,this[j+2]=_>>>16,this[j+3]=_>>>24,j+4},o.prototype.writeInt32BE=function(_,j,Z){return _=+_,j=j>>>0,Z||H(this,_,j,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[j]=_>>>24,this[j+1]=_>>>16,this[j+2]=_>>>8,this[j+3]=_&255,j+4},o.prototype.writeBigInt64LE=ve(function(_,j=0){return W(this,_,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ve(function(_,j=0){return q(this,_,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Q(O,_,j,Z,te,le){if(j+Z>O.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function he(O,_,j,Z,te){return _=+_,j=j>>>0,te||Q(O,_,j,4),n.write(O,_,j,Z,23,4),j+4}o.prototype.writeFloatLE=function(_,j,Z){return he(this,_,j,!0,Z)},o.prototype.writeFloatBE=function(_,j,Z){return he(this,_,j,!1,Z)};function K(O,_,j,Z,te){return _=+_,j=j>>>0,te||Q(O,_,j,8),n.write(O,_,j,Z,52,8),j+8}o.prototype.writeDoubleLE=function(_,j,Z){return K(this,_,j,!0,Z)},o.prototype.writeDoubleBE=function(_,j,Z){return K(this,_,j,!1,Z)},o.prototype.copy=function(_,j,Z,te){if(!o.isBuffer(_))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),!te&&te!==0&&(te=this.length),j>=_.length&&(j=_.length),j||(j=0),te>0&&te<Z&&(te=Z),te===Z||_.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),_.length-j<te-Z&&(te=_.length-j+Z);const le=te-Z;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(j,Z,te):Uint8Array.prototype.set.call(_,this.subarray(Z,te),j),le},o.prototype.fill=function(_,j,Z,te){if(typeof _=="string"){if(typeof j=="string"?(te=j,j=0,Z=this.length):typeof Z=="string"&&(te=Z,Z=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!o.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(_.length===1){const ue=_.charCodeAt(0);(te==="utf8"&&ue<128||te==="latin1")&&(_=ue)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(j<0||this.length<j||this.length<Z)throw new RangeError("Out of range index");if(Z<=j)return this;j=j>>>0,Z=Z===void 0?this.length:Z>>>0,_||(_=0);let le;if(typeof _=="number")for(le=j;le<Z;++le)this[le]=_;else{const ue=o.isBuffer(_)?_:o.from(_,te),Ne=ue.length;if(Ne===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(le=0;le<Z-j;++le)this[le+j]=ue[le%Ne]}return this};const J={};function ce(O,_,j){J[O]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(te){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:te,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(O,_){return`The "${O}" argument must be of type number. Received type ${typeof _}`},TypeError),ce("ERR_OUT_OF_RANGE",function(O,_,j){let Z=`The value of "${O}" is out of range.`,te=j;return Number.isInteger(j)&&Math.abs(j)>2**32?te=X(String(j)):typeof j=="bigint"&&(te=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(te=X(te)),te+="n"),Z+=` It must be ${_}. Received ${te}`,Z},RangeError);function X(O){let _="",j=O.length;const Z=O[0]==="-"?1:0;for(;j>=Z+4;j-=3)_=`_${O.slice(j-3,j)}${_}`;return`${O.slice(0,j)}${_}`}function ie(O,_,j){xe(_,"offset"),(O[_]===void 0||O[_+j]===void 0)&&A(_,O.length-(j+1))}function fe(O,_,j,Z,te,le){if(O>j||O<_){const ue=typeof _=="bigint"?"n":"";let Ne;throw _===0||_===BigInt(0)?Ne=`>= 0${ue} and < 2${ue} ** ${(le+1)*8}${ue}`:Ne=`>= -(2${ue} ** ${(le+1)*8-1}${ue}) and < 2 ** ${(le+1)*8-1}${ue}`,new J.ERR_OUT_OF_RANGE("value",Ne,O)}ie(Z,te,le)}function xe(O,_){if(typeof O!="number")throw new J.ERR_INVALID_ARG_TYPE(_,"number",O)}function A(O,_,j){throw Math.floor(O)!==O?(xe(O,j),new J.ERR_OUT_OF_RANGE("offset","an integer",O)):_<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,O)}const ae=/[^+/0-9A-Za-z-_]/g;function oe(O){if(O=O.split("=")[0],O=O.trim().replace(ae,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function V(O,_){_=_||1/0;let j;const Z=O.length;let te=null;const le=[];for(let ue=0;ue<Z;++ue){if(j=O.charCodeAt(ue),j>55295&&j<57344){if(!te){if(j>56319){(_-=3)>-1&&le.push(239,191,189);continue}else if(ue+1===Z){(_-=3)>-1&&le.push(239,191,189);continue}te=j;continue}if(j<56320){(_-=3)>-1&&le.push(239,191,189),te=j;continue}j=(te-55296<<10|j-56320)+65536}else te&&(_-=3)>-1&&le.push(239,191,189);if(te=null,j<128){if((_-=1)<0)break;le.push(j)}else if(j<2048){if((_-=2)<0)break;le.push(j>>6|192,j&63|128)}else if(j<65536){if((_-=3)<0)break;le.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((_-=4)<0)break;le.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return le}function Y(O){const _=[];for(let j=0;j<O.length;++j)_.push(O.charCodeAt(j)&255);return _}function se(O,_){let j,Z,te;const le=[];for(let ue=0;ue<O.length&&!((_-=2)<0);++ue)j=O.charCodeAt(ue),Z=j>>8,te=j%256,le.push(te),le.push(Z);return le}function pe(O){return t.toByteArray(oe(O))}function de(O,_,j,Z){let te;for(te=0;te<Z&&!(te+j>=_.length||te>=O.length);++te)_[te+j]=O[te];return te}function re(O,_){return O instanceof _||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===_.name}function be(O){return O!==O}const we=function(){const O="0123456789abcdef",_=new Array(256);for(let j=0;j<16;++j){const Z=j*16;for(let te=0;te<16;++te)_[Z+te]=O[j]+O[te]}return _}();function ve(O){return typeof BigInt>"u"?ee:O}function ee(){throw new Error("BigInt not supported")}}(Al)),Al}const ey=Symbol(),E0=Object.getPrototypeOf,wd=new WeakMap,ty=e=>e&&(wd.has(e)?wd.get(e):E0(e)===Object.prototype||E0(e)===Array.prototype),ny=e=>ty(e)&&e[ey]||null,_0=(e,t=!0)=>{wd.set(e,t)},wc={},fu=e=>typeof e=="object"&&e!==null,ry=e=>fu(e)&&!Oi.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),Wm=(e,t)=>{const n=Cd.get(e);if(n?.[0]===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return _0(r,!0),Cd.set(e,[t,r]),Reflect.ownKeys(e).forEach(a=>{if(Object.getOwnPropertyDescriptor(r,a))return;const i=Reflect.get(e,a),{enumerable:c}=Reflect.getOwnPropertyDescriptor(e,a),o={value:i,enumerable:c,configurable:!0};if(Oi.has(i))_0(i,!1);else if(Zr.has(i)){const[l,d]=Zr.get(i);o.value=Wm(l,d())}Object.defineProperty(r,a,o)}),Object.preventExtensions(r)},sy=(e,t,n,r)=>({deleteProperty(a,i){const c=Reflect.get(a,i);n(i);const o=Reflect.deleteProperty(a,i);return o&&r(["delete",[i],c]),o},set(a,i,c,o){const l=!e()&&Reflect.has(a,i),d=Reflect.get(a,i,o);if(l&&(S0(d,c)||li.has(c)&&S0(d,li.get(c))))return!0;n(i),fu(c)&&(c=ny(c)||c);const u=!Zr.has(c)&&iy(c)?Ot(c):c;return t(i,u),Reflect.set(a,i,u,o),r(["set",[i],c,d]),!0}}),Zr=new WeakMap,Oi=new WeakSet,Cd=new WeakMap,Ga=[1,1],li=new WeakMap;let S0=Object.is,ay=(e,t)=>new Proxy(e,t),iy=ry,oy=Wm,cy=sy;function Ot(e={}){if(!fu(e))throw new Error("object required");const t=li.get(e);if(t)return t;let n=Ga[0];const r=new Set,a=(g,b=++Ga[0])=>{n!==b&&(n=b,r.forEach(v=>v(g,b)))};let i=Ga[1];const c=(g=++Ga[1])=>(i!==g&&!r.size&&(i=g,l.forEach(([b])=>{const v=b[1](g);v>n&&(n=v)})),n),o=g=>(b,v)=>{const w=[...b];w[1]=[g,...w[1]],a(w,v)},l=new Map,d=(g,b)=>{const v=!Oi.has(b)&&Zr.get(b);if(v){if((wc?"production":void 0)!=="production"&&l.has(g))throw new Error("prop listener already exists");if(r.size){const w=v[2](o(g));l.set(g,[v,w])}else l.set(g,[v])}},u=g=>{var b;const v=l.get(g);v&&(l.delete(g),(b=v[1])==null||b.call(v))},h=g=>(r.add(g),r.size===1&&l.forEach(([v,w],C)=>{if((wc?"production":void 0)!=="production"&&w)throw new Error("remove already exists");const y=v[2](o(C));l.set(C,[v,y])}),()=>{r.delete(g),r.size===0&&l.forEach(([v,w],C)=>{w&&(w(),l.set(C,[v]))})});let f=!0;const m=cy(()=>f,d,u,a),x=ay(e,m);li.set(e,x);const p=[e,c,h];return Zr.set(x,p),Reflect.ownKeys(e).forEach(g=>{const b=Object.getOwnPropertyDescriptor(e,g);"value"in b&&b.writable&&(x[g]=e[g])}),f=!1,x}function Cn(e,t,n){const r=Zr.get(e);(wc?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let a;const i=[],c=r[2];let o=!1;const d=c(u=>{i.push(u),a||(a=Promise.resolve().then(()=>{a=void 0,o&&t(i.splice(0))}))});return o=!0,()=>{o=!1,d()}}function di(e){const t=Zr.get(e);(wc?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return oy(n,r())}function ua(e){return Oi.add(e),e}function ly(){return{proxyStateMap:Zr,refSet:Oi,snapCache:Cd,versionHolder:Ga,proxyCache:li}}function mn(e,t,n,r){let a=e[t];return Cn(e,()=>{const i=e[t];Object.is(a,i)||n(a=i)})}const{proxyStateMap:dy,snapCache:uy}=ly(),no=e=>dy.has(e);function hy(e){const t=[];let n=0;const r=new Map,a=new WeakMap,i=()=>{const d=uy.get(o),u=d?.[1];if(u&&!a.has(u)){const h=new Map(r);a.set(u,h)}},c=d=>a.get(d)||r,o={data:t,index:n,epoch:0,get size(){return no(this)||i(),c(this).size},get(d){const h=c(this).get(d);if(h===void 0){this.epoch;return}return this.data[h]},has(d){const u=c(this);return this.epoch,u.has(d)},set(d,u){if(!no(this))throw new Error("Cannot perform mutations on a snapshot");const h=r.get(d);return h===void 0?(r.set(d,this.index),this.data[this.index++]=u):this.data[h]=u,this.epoch++,this},delete(d){if(!no(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(d);return u===void 0?!1:(delete this.data[u],r.delete(d),this.epoch++,!0)},clear(){if(!no(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(d){this.epoch,c(this).forEach((h,f)=>{d(this.data[h],f,this)})},*entries(){this.epoch;const d=c(this);for(const[u,h]of d)yield[u,this.data[h]]},*keys(){this.epoch;const d=c(this);for(const u of d.keys())yield u},*values(){this.epoch;const d=c(this);for(const u of d.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},l=Ot(o);return Object.defineProperties(l,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(l),l}var k0={};const Ce={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof k0<"u"?k0.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},Cc={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(a=>a.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return Ce.CHAIN_NAME_MAP?.[r]||void 0}},Hm=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var fy=20,my=1,ks=1e6,j0=1e6,py=-7,gy=21,xy=!1,Di="[big.js] ",zs=Di+"Invalid ",sl=zs+"decimal places",by=zs+"rounding mode",qm=Di+"Division by zero",Tt={},sr=void 0,vy=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Gm(){function e(t){var n=this;if(!(n instanceof e))return t===sr?Gm():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(zs+"value");t=t===0&&1/t<0?"-0":String(t)}yy(n,t)}n.constructor=e}return e.prototype=Tt,e.DP=fy,e.RM=my,e.NE=py,e.PE=gy,e.strict=xy,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function yy(e,t){var n,r,a;if(!vy.test(t))throw Error(zs+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),a=t.length,r=0;r<a&&t.charAt(r)=="0";)++r;if(r==a)e.c=[e.e=0];else{for(;a>0&&t.charAt(--a)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=a;)e.c[n++]=+t.charAt(r++)}return e}function Bs(e,t,n,r){var a=e.c;if(n===sr&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(by);if(t<1)r=n===3&&(r||!!a[0])||t===0&&(n===1&&a[0]>=5||n===2&&(a[0]>5||a[0]===5&&(r||a[1]!==sr))),a.length=1,r?(e.e=e.e-t+1,a[0]=1):a[0]=e.e=0;else if(t<a.length){if(r=n===1&&a[t]>=5||n===2&&(a[t]>5||a[t]===5&&(r||a[t+1]!==sr||a[t-1]&1))||n===3&&(r||!!a[0]),a.length=t,r){for(;++a[--t]>9;)if(a[t]=0,t===0){++e.e,a.unshift(1);break}}for(t=a.length;!a[--t];)a.pop()}return e}function Ls(e,t,n){var r=e.e,a=e.c.join(""),i=a.length;if(t)a=a.charAt(0)+(i>1?"."+a.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)a="0"+a;a="0."+a}else if(r>0)if(++r>i)for(r-=i;r--;)a+="0";else r<i&&(a=a.slice(0,r)+"."+a.slice(r));else i>1&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&n?"-"+a:a}Tt.abs=function(){var e=new this.constructor(this);return e.s=1,e};Tt.cmp=function(e){var t,n=this,r=n.c,a=(e=new n.constructor(e)).c,i=n.s,c=e.s,o=n.e,l=e.e;if(!r[0]||!a[0])return r[0]?i:a[0]?-c:0;if(i!=c)return i;if(t=i<0,o!=l)return o>l^t?1:-1;for(c=(o=r.length)<(l=a.length)?o:l,i=-1;++i<c;)if(r[i]!=a[i])return r[i]>a[i]^t?1:-1;return o==l?0:o>l^t?1:-1};Tt.div=function(e){var t=this,n=t.constructor,r=t.c,a=(e=new n(e)).c,i=t.s==e.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>ks)throw Error(sl);if(!a[0])throw Error(qm);if(!r[0])return e.s=i,e.c=[e.e=0],e;var o,l,d,u,h,f=a.slice(),m=o=a.length,x=r.length,p=r.slice(0,o),g=p.length,b=e,v=b.c=[],w=0,C=c+(b.e=t.e-e.e)+1;for(b.s=i,i=C<0?0:C,f.unshift(0);g++<o;)p.push(0);do{for(d=0;d<10;d++){if(o!=(g=p.length))u=o>g?1:-1;else for(h=-1,u=0;++h<o;)if(a[h]!=p[h]){u=a[h]>p[h]?1:-1;break}if(u<0){for(l=g==o?a:f;g;){if(p[--g]<l[g]){for(h=g;h&&!p[--h];)p[h]=9;--p[h],p[g]+=10}p[g]-=l[g]}for(;!p[0];)p.shift()}else break}v[w++]=u?d:++d,p[0]&&u?p[g]=r[m]||0:p=[r[m]]}while((m++<x||p[0]!==sr)&&i--);return!v[0]&&w!=1&&(v.shift(),b.e--,C--),w>C&&Bs(b,C,n.RM,p[0]!==sr),b};Tt.eq=function(e){return this.cmp(e)===0};Tt.gt=function(e){return this.cmp(e)>0};Tt.gte=function(e){return this.cmp(e)>-1};Tt.lt=function(e){return this.cmp(e)<0};Tt.lte=function(e){return this.cmp(e)<1};Tt.minus=Tt.sub=function(e){var t,n,r,a,i=this,c=i.constructor,o=i.s,l=(e=new c(e)).s;if(o!=l)return e.s=-l,i.plus(e);var d=i.c.slice(),u=i.e,h=e.c,f=e.e;if(!d[0]||!h[0])return h[0]?e.s=-l:d[0]?e=new c(i):e.s=1,e;if(o=u-f){for((a=o<0)?(o=-o,r=d):(f=u,r=h),r.reverse(),l=o;l--;)r.push(0);r.reverse()}else for(n=((a=d.length<h.length)?d:h).length,o=l=0;l<n;l++)if(d[l]!=h[l]){a=d[l]<h[l];break}if(a&&(r=d,d=h,h=r,e.s=-e.s),(l=(n=h.length)-(t=d.length))>0)for(;l--;)d[t++]=0;for(l=t;n>o;){if(d[--n]<h[n]){for(t=n;t&&!d[--t];)d[t]=9;--d[t],d[n]+=10}d[n]-=h[n]}for(;d[--l]===0;)d.pop();for(;d[0]===0;)d.shift(),--f;return d[0]||(e.s=1,d=[f=0]),e.c=d,e.e=f,e};Tt.mod=function(e){var t,n=this,r=n.constructor,a=n.s,i=(e=new r(e)).s;if(!e.c[0])throw Error(qm);return n.s=e.s=1,t=e.cmp(n)==1,n.s=a,e.s=i,t?new r(n):(a=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=a,r.RM=i,this.minus(n.times(e)))};Tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};Tt.plus=Tt.add=function(e){var t,n,r,a=this,i=a.constructor;if(e=new i(e),a.s!=e.s)return e.s=-e.s,a.minus(e);var c=a.e,o=a.c,l=e.e,d=e.c;if(!o[0]||!d[0])return d[0]||(o[0]?e=new i(a):e.s=a.s),e;if(o=o.slice(),t=c-l){for(t>0?(l=c,r=d):(t=-t,r=o),r.reverse();t--;)r.push(0);r.reverse()}for(o.length-d.length<0&&(r=d,d=o,o=r),t=d.length,n=0;t;o[t]%=10)n=(o[--t]=o[t]+d[t]+n)/10|0;for(n&&(o.unshift(n),++l),t=o.length;o[--t]===0;)o.pop();return e.c=o,e.e=l,e};Tt.pow=function(e){var t=this,n=new t.constructor("1"),r=n,a=e<0;if(e!==~~e||e<-j0||e>j0)throw Error(zs+"exponent");for(a&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return a?n.div(r):r};Tt.prec=function(e,t){if(e!==~~e||e<1||e>ks)throw Error(zs+"precision");return Bs(new this.constructor(this),e,t)};Tt.round=function(e,t){if(e===sr)e=0;else if(e!==~~e||e<-ks||e>ks)throw Error(sl);return Bs(new this.constructor(this),e+this.e+1,t)};Tt.sqrt=function(){var e,t,n,r=this,a=r.constructor,i=r.s,c=r.e,o=new a("0.5");if(!r.c[0])return new a(r);if(i<0)throw Error(Di+"No square root");i=Math.sqrt(+Ls(r,!0,!0)),i===0||i===1/0?(t=r.c.join(""),t.length+c&1||(t+="0"),i=Math.sqrt(t),c=((c+1)/2|0)-(c<0||c&1),e=new a((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+c)):e=new a(i+""),c=e.e+(a.DP+=4);do n=e,e=o.times(n.plus(r.div(n)));while(n.c.slice(0,c).join("")!==e.c.slice(0,c).join(""));return Bs(e,(a.DP-=4)+e.e+1,a.RM)};Tt.times=Tt.mul=function(e){var t,n=this,r=n.constructor,a=n.c,i=(e=new r(e)).c,c=a.length,o=i.length,l=n.e,d=e.e;if(e.s=n.s==e.s?1:-1,!a[0]||!i[0])return e.c=[e.e=0],e;for(e.e=l+d,c<o&&(t=a,a=i,i=t,d=c,c=o,o=d),t=new Array(d=c+o);d--;)t[d]=0;for(l=o;l--;){for(o=0,d=c+l;d>l;)o=t[d]+i[l]*a[d-l-1]+o,t[d--]=o%10,o=o/10|0;t[d]=o}for(o?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e};Tt.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==sr){if(e!==~~e||e<0||e>ks)throw Error(sl);for(n=Bs(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Ls(n,!0,!!r)};Tt.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==sr){if(e!==~~e||e<0||e>ks)throw Error(sl);for(n=Bs(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return Ls(n,!1,!!r)};Tt[Symbol.for("nodejs.util.inspect.custom")]=Tt.toJSON=Tt.toString=function(){var e=this,t=e.constructor;return Ls(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};Tt.toNumber=function(){var e=+Ls(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Di+"Imprecise conversion");return e};Tt.toPrecision=function(e,t){var n=this,r=n.constructor,a=n.c[0];if(e!==sr){if(e!==~~e||e<1||e>ks)throw Error(zs+"precision");for(n=Bs(new r(n),e,t);n.c.length<e;)n.c.push(0)}return Ls(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!a)};Tt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Di+"valueOf disallowed");return Ls(e,e.e<=t.NE||e.e>=t.PE,!0)};var Ar=Gm();const wy={bigNumber(e){return e?new Ar(e):new Ar(0)},multiply(e,t){if(e===void 0||t===void 0)return new Ar(0);const n=new Ar(e),r=new Ar(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new Ar(0).toFixed(t):new Ar(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;const t=e.replace(/,/gu,"");return new Ar(t).toNumber()}},Cy=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Ny=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Ey=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],_y={getERC20Abi:e=>Ce.USDT_CONTRACT_ADDRESSES.includes(e)?Ey:Cy,getSwapAbi:()=>Ny},Hr={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,a]=t;if(!n||!r||!a)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:a}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},Qe={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function Tl(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const Ge={setItem(e,t){Va()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Va())return localStorage.getItem(e)||void 0},removeItem(e){Va()&&localStorage.removeItem(e)},clear(){Va()&&localStorage.clear()}};function Va(){return typeof window<"u"&&typeof localStorage<"u"}function Nc(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const hn={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,NAMES_SUPPORTED_CHAIN_NAMESPACES:[Ce.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,DEFAULT_REMOTE_FEATURES:{socials:["google","x","discord","farcaster","github","apple","facebook"]},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},Pe={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=Pe.getActiveNamespace(),t=Pe.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{Ge.setItem(Qe.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=Ge.getItem(Qe.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Ge.removeItem(Qe.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{Ge.setItem(Qe.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{Ge.setItem(Qe.ACTIVE_CAIP_NETWORK_ID,e),Pe.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Ge.getItem(Qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Ge.removeItem(Qe.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=Tl(e);Ge.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=Pe.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),Ge.setItem(Qe.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=Ge.getItem(Qe.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const n=Tl(e);Ge.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Ge.getItem(Qe.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=Tl(e);return Ge.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{Ge.setItem(Qe.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Ge.getItem(Qe.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Ge.removeItem(Qe.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Ge.getItem(Qe.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Ge.getItem(Qe.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{Ge.setItem(Qe.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Ge.getItem(Qe.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=Ge.getItem(Qe.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));Ge.setItem(Qe.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=Pe.getConnectedNamespaces();t.includes(e)||(t.push(e),Pe.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=Pe.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),Pe.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Ge.getItem(Qe.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{Ge.setItem(Qe.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Ge.removeItem(Qe.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=Ge.getItem(Qe.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=Pe.getBalanceCache();Ge.setItem(Qe.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=Pe.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;Pe.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=Pe.getBalanceCache();t[e.caipAddress]=e,Ge.setItem(Qe.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=Ge.getItem(Qe.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=Pe.getBalanceCache();Ge.setItem(Qe.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=Pe.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),Pe.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=Pe.getNativeBalanceCache();t[e.caipAddress]=e,Ge.setItem(Qe.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=Ge.getItem(Qe.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=Pe.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;Pe.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=Pe.getEnsCache();t[e.address]=e,Ge.setItem(Qe.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=Pe.getEnsCache();Ge.setItem(Qe.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=Ge.getItem(Qe.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=Pe.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;Pe.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=Pe.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},Ge.setItem(Qe.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=Pe.getIdentityCache();Ge.setItem(Qe.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{Ge.removeItem(Qe.PORTFOLIO_CACHE),Ge.removeItem(Qe.NATIVE_BALANCE_CACHE),Ge.removeItem(Qe.ENS_CACHE),Ge.removeItem(Qe.IDENTITY_CACHE),Ge.removeItem(Qe.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{Ge.setItem(Qe.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=Ge.getItem(Qe.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=Pe.getConnections(),r=n[t]??[],a=new Map;for(const c of r)a.set(c.connectorId,{...c});for(const c of e){const o=a.get(c.connectorId),l=c.connectorId===Ce.CONNECTOR_ID.AUTH;if(o&&!l){const d=new Set(o.accounts.map(h=>h.address.toLowerCase())),u=c.accounts.filter(h=>!d.has(h.address.toLowerCase()));o.accounts.push(...u)}else a.set(c.connectorId,{...c})}const i={...n,[t]:Array.from(a.values())};Ge.setItem(Qe.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=Ge.getItem(Qe.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=Pe.getConnections(),a=r[n]??[],i=new Map(a.map(o=>[o.connectorId,o])),c=i.get(e);c&&(c.accounts.filter(l=>l.address.toLowerCase()!==t.toLowerCase()).length===0?i.delete(e):i.set(e,{...c,accounts:c.accounts.filter(l=>l.address.toLowerCase()!==t.toLowerCase())})),Ge.setItem(Qe.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=Ge.getItem(Qe.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=Pe.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),Ge.setItem(Qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=Pe.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(a=>a.toLowerCase()!==e.toLowerCase()),Ge.setItem(Qe.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(Pe.getDisconnectedConnectorIds()[t]??[]).some(a=>a.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=Ge.getItem(Qe.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=Pe.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;Pe.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const a=Pe.getTransactionsCache();a[e]={...a[e],[t]:{timestamp:n,transactions:r}},Ge.setItem(Qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(a))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=Pe.getTransactionsCache(),r=n?.[e]||{},{[t]:a,...i}=r;Ge.setItem(Qe.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=Ge.getItem(Qe.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=Pe.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;Pe.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=Pe.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},Ge.setItem(Qe.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=Pe.getTokenPriceCache();Ge.setItem(Qe.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}}},tt={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return tt.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=hn.TEN_SEC_MS:!0},isAllowedRetry(e,t=hn.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(tt.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+hn.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function a(){e(...r)}n&&clearTimeout(n),n=setTimeout(a,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(tt.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,a=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),a&&!a?.endsWith("/")&&(a=`${a}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:a?`${a}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!tt.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?Pe.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const a=new Image;a.onload=n,a.onerror=r,a.crossOrigin="anonymous",a.src=e});return Promise.race([t,tt.wait(2e3)])},formatBalance(e,t){let n="0.000";if(typeof e=="string"){const r=Number(e);if(r){const a=Math.floor(r*1e3)/1e3;a&&(n=a.toString())}}return`${n}${t?` ${t}`:""}`},getApiUrl(){return Ce.W3M_API_URL},getBlockchainApiUrl(){return Ce.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ce.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,a)=>{n[r]=a}),t.sort((r,a)=>{const i=n[r.id],c=n[a.id];return i!==void 0&&c!==void 0?i-c:i!==void 0?-1:c!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const a=r[t];return n.has(a)?!1:(n.add(a),!0)})},generateSdkVersion(e,t,n){const a=e.length===0?hn.ADAPTER_TYPES.UNIVERSAL:e.map(i=>i.adapterType).join(",");return`${t}-${a}-${n}`},createAccount(e,t,n,r,a){return{namespace:e,address:t,type:n,publicKey:r,path:a}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in Ce.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const a="provider_authorization_url=",i=e.substring(e.indexOf(a)+a.length),c=this.injectIntoUrl(decodeURIComponent(i),n,t);return e.replace(i,encodeURIComponent(c))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const a=e.indexOf("&",r),i=t.length,c=a!==-1?a:e.length,o=e.substring(0,r+i),l=e.substring(r+i,c),d=e.substring(a),u=l+n;return o+u+d}};async function Da(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class Mi{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...a}){const i=this.createUrl(a);return(await Da(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const a=this.createUrl(r);return(await Da(a,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...a}){const i=this.createUrl(a);return(await Da(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...a}){const i=this.createUrl(a);return(await Da(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...a}){const i=this.createUrl(a);return(await Da(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([a,i])=>{i&&r.searchParams.append(a,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Sy={getFeatureValue(e,t){const n=t?.[e];return n===void 0?hn.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(tt.isTelegram()){if(tt.isIos())return e.filter(t=>t!=="google");if(tt.isMac())return e.filter(t=>t!=="x");if(tt.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},qe=Ot({features:hn.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:hn.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),ot={state:qe,subscribeKey(e,t){return mn(qe,e,t)},setOptions(e){Object.assign(qe,e)},setRemoteFeatures(e){if(!e)return;const t={...qe.remoteFeatures,...e};qe.remoteFeatures=t,qe.remoteFeatures?.socials&&(qe.remoteFeatures.socials=Sy.filterSocialsByPlatform(qe.remoteFeatures.socials)),qe.features?.pay&&(qe.remoteFeatures.email=!1,qe.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;qe.features||(qe.features=hn.DEFAULT_FEATURES);const t={...qe.features,...e};qe.features=t,qe.features?.pay&&qe.remoteFeatures&&(qe.remoteFeatures.email=!1,qe.remoteFeatures.socials=!1)},setProjectId(e){qe.projectId=e},setCustomRpcUrls(e){qe.customRpcUrls=e},setAllWallets(e){qe.allWallets=e},setIncludeWalletIds(e){qe.includeWalletIds=e},setExcludeWalletIds(e){qe.excludeWalletIds=e},setFeaturedWalletIds(e){qe.featuredWalletIds=e},setTokens(e){qe.tokens=e},setTermsConditionsUrl(e){qe.termsConditionsUrl=e},setPrivacyPolicyUrl(e){qe.privacyPolicyUrl=e},setCustomWallets(e){qe.customWallets=e},setIsSiweEnabled(e){qe.isSiweEnabled=e},setIsUniversalProvider(e){qe.isUniversalProvider=e},setSdkVersion(e){qe.sdkVersion=e},setMetadata(e){qe.metadata=e},setDisableAppend(e){qe.disableAppend=e},setEIP6963Enabled(e){qe.enableEIP6963=e},setDebug(e){qe.debug=e},setEnableWalletConnect(e){qe.enableWalletConnect=e},setEnableWalletGuide(e){qe.enableWalletGuide=e},setEnableAuthLogger(e){qe.enableAuthLogger=e},setEnableWallets(e){qe.enableWallets=e},setPreferUniversalLinks(e){qe.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(hn.SIWX_DEFAULTS))e[t]??(e[t]=n);qe.siwx=e},setConnectMethodsOrder(e){qe.features={...qe.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){qe.features={...qe.features,walletFeaturesOrder:e}},setSocialsOrder(e){qe.remoteFeatures={...qe.remoteFeatures,socials:e}},setCollapseWallets(e){qe.features={...qe.features,collapseWallets:e}},setEnableEmbedded(e){qe.enableEmbedded=e},setAllowUnsupportedChain(e){qe.allowUnsupportedChain=e},setManualWCControl(e){qe.manualWCControl=e},setEnableNetworkSwitch(e){qe.enableNetworkSwitch=e},setEnableReconnect(e){qe.enableReconnect=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(qe.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){qe.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return qe.universalProviderConfigOverride},getSnapshot(){return di(qe)}},ky=Object.freeze({enabled:!0,events:[]}),jy=new Mi({baseUrl:tt.getAnalyticsUrl(),clientId:null}),Ay=5,Ty=60*1e3,Tr=Ot({...ky}),Iy={state:Tr,subscribeKey(e,t){return mn(Tr,e,t)},async sendError(e,t){if(!Tr.enabled)return;const n=Date.now();if(Tr.events.filter(i=>{const c=new Date(i.properties.timestamp||"").getTime();return n-c<Ty}).length>=Ay)return;const a={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Tr.events.push(a);try{if(typeof window>"u")return;const{projectId:i,sdkType:c,sdkVersion:o}=ot.state;await jy.post({path:"/e",params:{projectId:i,st:c,sv:o||"html-wagmi-4.2.2"},body:{eventId:tt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Tr.enabled=!0},disable(){Tr.enabled=!1},clearEvents(){Tr.events=[]}};class ha extends Error{constructor(t,n,r){super(t),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,ha.prototype);let a=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,c=i.indexOf(`
`);if(c>-1){const o=i.substring(c+1);this.stack=`${this.name}: ${this.message}
${o}`,a=!0}}a||(Error.captureStackTrace?Error.captureStackTrace(this,ha):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function A0(e,t){const n=e instanceof ha?e:new ha(e instanceof Error?e.message:String(e),t,e);throw Iy.sendError(n,n.category),n}function Mn(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const a=e[r];if(typeof a=="function"){let i=a;a.constructor.name==="AsyncFunction"?i=async(...c)=>{try{return await a(...c)}catch(o){return A0(o,t)}}:i=(...c)=>{try{return a(...c)}catch(o){return A0(o,t)}},n[r]=i}else n[r]=a}),n}var fa={};const Ry="https://secure.walletconnect.org/sdk",Py=(typeof process<"u"&&typeof fa<"u"?fa.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Ry,Fy=(typeof process<"u"&&typeof fa<"u"?fa.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Oy=(typeof process<"u"&&typeof fa<"u"?fa.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ue={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},sn={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},un={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Dy={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===un.PHANTOM.id&&!("phantom"in window)){const a=n.startsWith("https")?"https":"http",i=n.split("/")[2],c=encodeURIComponent(`${a}://${i}`);window.location.href=`${un.PHANTOM.url}/ul/browse/${r}?ref=${c}`}if(e===un.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${un.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===Ce.CHAIN.SOLANA&&e===un.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${un.COINBASE.url}/dapp?cb_url=${r}`),t===Ce.CHAIN.BITCOIN&&e===un.BINANCE.id&&!("binancew3w"in window)){const a=me.state.activeCaipNetwork,i=window.btoa("/pages/browser/index"),c=window.btoa(`url=${r}&defaultChainId=${a?.id??1}`),o=new URL(un.BINANCE.deeplink);o.searchParams.set("appId",un.BINANCE.appId),o.searchParams.set("startPagePath",i),o.searchParams.set("startPageQuery",c);const l=new URL(un.BINANCE.url);l.searchParams.set("_dp",window.btoa(o.toString())),window.location.href=l.toString()}}},En=Ot({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),My={state:En,subscribeNetworkImages(e){return Cn(En.networkImages,()=>e(En.networkImages))},subscribeKey(e,t){return mn(En,e,t)},subscribe(e){return Cn(En,()=>e(En))},setWalletImage(e,t){En.walletImages[e]=t},setNetworkImage(e,t){En.networkImages[e]=t},setChainImage(e,t){En.chainImages[e]=t},setConnectorImage(e,t){En.connectorImages={...En.connectorImages,[e]:t}},setTokenImage(e,t){En.tokenImages[e]=t},setCurrencyImage(e,t){En.currencyImages[e]=t}},Bn=Mn(My),zy={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},Il=Ot({networkImagePromises:{}}),By={async fetchWalletImage(e){if(e)return await st._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(Il.networkImagePromises[e]||(Il.networkImagePromises[e]=st._fetchNetworkImage(e)),await Il.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return Bn.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return Bn.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return Bn.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Bn.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return Bn.state.connectorImages[e.imageId]},getChainImage(e){return Bn.state.networkImages[zy[e]]}},Ir=Ot({message:"",variant:"info",open:!1}),Ly={state:Ir,subscribeKey(e,t){return mn(Ir,e,t)},open(e,t){const{debug:n}=ot.state,{code:r,displayMessage:a,debugMessage:i}=e;a&&n&&(Ir.message=a,Ir.variant=t,Ir.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},close(){Ir.open=!1,Ir.message="",Ir.variant="info"}},hs=Mn(Ly),Uy=tt.getAnalyticsUrl(),$y=new Mi({baseUrl:Uy,clientId:null}),Wy=["MODAL_CREATED"],fr=Ot({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Ht={state:fr,subscribe(e){return Cn(fr,()=>e(fr))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=ot.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{let t=Et.state.address;if("address"in e.data&&e.data.address&&(t=e.data.address),Wy.includes(e.data.event)||typeof window>"u")return;const n=me.getActiveCaipNetwork()?.caipNetworkId;await $y.post({path:"/e",params:Ht.getSdkProperties(),body:{eventId:tt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}}),fr.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===Ce.HTTP_STATUS_CODES.FORBIDDEN&&!fr.reportedErrors.FORBIDDEN&&(hs.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Va()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),fr.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){fr.timestamp=Date.now(),fr.data=e,(ot.state.features?.analytics||e.event==="INITIALIZE")&&Ht._sendAnalyticsEvent(fr)}},Hy=tt.getApiUrl(),xn=new Mi({baseUrl:Hy,clientId:null}),qy=40,T0=4,Gy=20,dt=Ot({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),st={state:dt,subscribeKey(e,t){return mn(dt,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=ot.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return ot.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${xn.baseUrl}/getWalletImage/${e}`,n=await xn.getBlob({path:t,params:st._getSdkProperties()});Bn.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${xn.baseUrl}/public/getAssetImage/${e}`,n=await xn.getBlob({path:t,params:st._getSdkProperties()});Bn.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${xn.baseUrl}/public/getAssetImage/${e}`,n=await xn.getBlob({path:t,params:st._getSdkProperties()});Bn.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${xn.baseUrl}/public/getCurrencyImage/${e}`,n=await xn.getBlob({path:t,params:st._getSdkProperties()});Bn.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${xn.baseUrl}/public/getTokenImage/${e}`,n=await xn.getBlob({path:t,params:st._getSdkProperties()});Bn.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){return tt.isMobile()?e?.filter(n=>n.mobile_link||n.id===un.COINBASE.id||n.id===un.BINANCE.id?!0:me.state.activeChain==="solana"&&(n.id===un.SOLFLARE.id||n.id===un.PHANTOM.id)):e},async fetchProjectConfig(){return(await xn.get({path:"/appkit/v1/config",params:st._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await xn.get({path:"/projects/v1/origins",params:st._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===Ce.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=Ce.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const t=me.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!By.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>st._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=Ye.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>st._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>st._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>st._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];st._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(un).map(i=>i.id));const r=await xn.get({path:"/getWallets",params:{...st._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}});return{data:st._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=ot.state;if(e?.length){const t={...st._getSdkProperties(),page:1,entries:e?.length??T0,include:e},{data:n}=await st.fetchWallets(t),r=[...n].sort((i,c)=>e.indexOf(i.id)-e.indexOf(c.id)),a=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(a.map(i=>st._fetchWalletImage(i))),dt.featured=r,dt.allFeatured=r}},async fetchRecommendedWallets(){try{dt.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=ot.state,r=[...t??[],...n??[]].filter(Boolean),a=me.getRequestedCaipNetworkIds().join(","),i={page:1,entries:T0,include:e,exclude:r,chains:a},{data:c,count:o}=await st.fetchWallets(i),l=Pe.getRecentWallets(),d=c.map(h=>h.image_id).filter(Boolean),u=l.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...d,...u].map(h=>st._fetchWalletImage(h))),dt.recommended=c,dt.allRecommended=c,dt.count=o??0}catch{}finally{dt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=ot.state,a=me.getRequestedCaipNetworkIds().join(","),i=[...dt.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),c={page:e,entries:qy,include:t,exclude:i,chains:a},{data:o,count:l}=await st.fetchWallets(c),d=o.slice(0,Gy).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(d.map(u=>st._fetchWalletImage(u))),dt.wallets=tt.uniqueBy([...dt.wallets,...st._filterOutExtensions(o)],"id").filter(u=>u.chains?.some(h=>a.includes(h))),dt.count=l>dt.count?l:dt.count,dt.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await st.fetchWallets(t);n&&n.forEach(r=>{dt.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=ot.state,a=me.getRequestedCaipNetworkIds().join(",");dt.search=[];const i={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:a},{data:c}=await st.fetchWallets(i);Ht.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const o=c.map(l=>l.image_id).filter(Boolean);await Promise.allSettled([...o.map(l=>st._fetchWalletImage(l)),tt.wait(300)]),dt.search=st._filterOutExtensions(c)},initPromise(e,t){const n=dt.promises[e];return n||(dt.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const a=[e&&st.initPromise("connectorImages",st.fetchConnectorImages),t&&st.initPromise("featuredWallets",st.fetchFeaturedWallets),n&&st.initPromise("recommendedWallets",st.fetchRecommendedWallets),r&&st.initPromise("networkImages",st.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(a)},prefetchAnalyticsConfig(){ot.state.features?.analytics&&st.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await xn.get({path:"/getAnalyticsConfig",params:st._getSdkProperties()});ot.setFeatures({analytics:e})}catch{ot.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){dt.featured=dt.allFeatured,dt.recommended=dt.allRecommended;return}const t=me.getRequestedCaipNetworkIds().join(",");dt.featured=dt.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),dt.recommended=dt.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),dt.filteredWallets=dt.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){dt.filteredWallets=[]},setFilterByNamespace(e){if(!e){dt.featured=dt.allFeatured,dt.recommended=dt.allRecommended;return}const t=me.getRequestedCaipNetworkIds().join(",");dt.featured=dt.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),dt.recommended=dt.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),dt.filteredWallets=dt.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},It=Ot({view:"Connect",history:["Connect"],transactionStack:[]}),Vy={state:It,subscribeKey(e,t){return mn(It,e,t)},pushTransactionStack(e){It.transactionStack.push(e)},popTransactionStack(e){const t=It.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:a}=t;switch(e){case"success":n?.();break;case"error":r?.(),ct.goBack();break;case"cancel":a?.(),ct.goBack();break}},push(e,t){e!==It.view&&(It.view=e,It.history.push(e),It.data=t)},reset(e,t){It.view=e,It.history=[e],It.data=t},replace(e,t){It.history.at(-1)===e||(It.view=e,It.history[It.history.length-1]=e,It.data=t)},goBack(){const e=me.state.activeCaipAddress,t=ct.state.view==="ConnectingFarcaster",n=!e&&t;if(It.history.length>1){It.history.pop();const[r]=It.history.slice(-1);r&&(e&&r==="Connect"?It.view="Account":It.view=r)}else Rt.close();It.data?.wallet&&(It.data.wallet=void 0),setTimeout(()=>{if(n){Et.setFarcasterUrl(void 0,me.state.activeChain);const r=Ye.getAuthConnector();r?.provider?.reload();const a=di(ot.state);r?.provider?.syncDappData?.({metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType})}},100)},goBackToIndex(e){if(It.history.length>1){It.history=It.history.slice(0,e+1);const[t]=It.history.slice(-1);t&&(It.view=t)}},goBackOrCloseModal(){ct.state.history.length>1?ct.goBack():Rt.close()}},ct=Mn(Vy),mr=Ot({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Nd={state:mr,subscribe(e){return Cn(mr,()=>e(mr))},setThemeMode(e){mr.themeMode=e;try{const t=Ye.getAuthConnector();if(t){const n=Nd.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:Nc(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){mr.themeVariables={...mr.themeVariables,...e};try{const t=Ye.getAuthConnector();if(t){const n=Nd.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:Nc(mr.themeVariables,mr.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return di(mr)}},ro=Mn(Nd),Vm=Object.fromEntries(Hm.map(e=>[e,void 0])),Yy=Object.fromEntries(Hm.map(e=>[e,!0])),xt=Ot({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Vm,filterByNamespaceMap:Yy}),Zy={state:xt,subscribe(e){return Cn(xt,()=>{e(xt)})},subscribeKey(e,t){return mn(xt,e,t)},initialize(e){e.forEach(t=>{const n=Pe.getConnectedConnectorId(t);n&&Ye.setConnectorId(n,t)})},setActiveConnector(e){e&&(xt.activeConnector=ua(e))},setConnectors(e){e.filter(a=>!xt.allConnectors.some(i=>i.id===a.id&&Ye.getConnectorName(i.name)===Ye.getConnectorName(a.name)&&i.chain===a.chain)).forEach(a=>{a.type!=="MULTI_CHAIN"&&xt.allConnectors.push(ua(a))});const n=Ye.getEnabledNamespaces(),r=Ye.getEnabledConnectors(n);xt.connectors=Ye.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(xt.filterByNamespaceMap).forEach(t=>{xt.filterByNamespaceMap[t]=!1}),e.forEach(t=>{xt.filterByNamespaceMap[t]=!0}),Ye.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){xt.filterByNamespaceMap[e]=t,Ye.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=Ye.getEnabledNamespaces(),t=Ye.getEnabledConnectors(e),n=Ye.areAllNamespacesEnabled();xt.connectors=Ye.mergeMultiChainConnectors(t),n?st.clearFilterByNamespaces():st.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(xt.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return xt.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(xt.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=Ye.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const a=r[0],i=a?.id===Ce.CONNECTOR_ID.AUTH;r.length>1&&a?n.push({name:a.name,imageUrl:a.imageUrl,imageId:a.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:a?.id||""}):a&&n.push(a)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,a=Ye.getConnectorName(r);if(!a)return;const i=t.get(a)||[];i.find(o=>o.chain===n.chain)||i.push(n),t.set(a,i)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===Ce.CONNECTOR_ID.AUTH){const t=e,n=di(ot.state),r=ro.getSnapshot().themeMode,a=ro.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:a,w3mThemeVariables:Nc(a,r)}),Ye.setConnectors([e])}else Ye.setConnectors([e])},getAuthConnector(e){const t=e||me.state.activeChain,n=xt.connectors.find(r=>r.id===Ce.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(a=>a.chain===t):n},getAnnouncedConnectorRdns(){return xt.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return xt.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){const r=n||me.state.activeChain;return xt.allConnectors.filter(i=>i.chain===r).find(i=>i.explorerId===e||i.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="ID_AUTH")return;const t=e,n=di(ot.state),r=ro.getSnapshot().themeMode,a=ro.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:a,w3mThemeVariables:Nc(a,r)})},getConnectorsByNamespace(e){const t=xt.allConnectors.filter(n=>n.chain===e);return Ye.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return me.checkIfSmartAccountEnabled()&&ir(e)===sn.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=Ye.getConnector({id:e.id,rdns:e.rdns});Dy.handleMobileDeeplinkRedirect(t?.explorerId||e.id,me.state.activeChain),t?ct.push("ConnectingExternal",{connector:t,wallet:e}):ct.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?Ye.getConnectorsByNamespace(e):Ye.mergeMultiChainConnectors(xt.allConnectors)},setFilterByNamespace(e){xt.filterByNamespace=e,xt.connectors=Ye.getConnectors(e),st.setFilterByNamespace(e)},setConnectorId(e,t){e&&(xt.activeConnectorIds={...xt.activeConnectorIds,[t]:e},Pe.setConnectedConnectorId(t,e))},removeConnectorId(e){xt.activeConnectorIds={...xt.activeConnectorIds,[e]:void 0},Pe.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return xt.activeConnectorIds[e]},isConnected(e){return e?!!xt.activeConnectorIds[e]:Object.values(xt.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){xt.activeConnectorIds={...Vm}}},Ye=Mn(Zy),Ky=1e3,Ma={checkNamespaceConnectorId(e,t){return Ye.getConnectorId(e)===t},isSocialProvider(e){return hn.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:a,onConnect:i}){return new Promise((c,o)=>{if(e&&Ye.setActiveConnector(t),a?.(tt.isMobile()&&e),r){const d=Rt.subscribeKey("open",u=>{u||(ct.state.view!==r&&ct.replace(r),d(),o(new Error("Modal closed")))})}const l=me.subscribeKey("activeCaipAddress",d=>{d&&(i?.(),n&&Rt.close(),l(),c(Hr.parseCaipAddress(d)))})})},connectExternal(e){return new Promise((t,n)=>{const r=me.subscribeKey("activeCaipAddress",a=>{a&&(Rt.close(),r(),t(Hr.parseCaipAddress(a)))});Je.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:a}){let i=Et.state.socialWindow,c=Et.state.socialProvider,o=!1,l=null;const d=t||me.state.activeChain,u=me.subscribeKey("activeCaipAddress",h=>{h&&(n&&Rt.close(),u())});return new Promise((h,f)=>{async function m(p){if(p.data?.resultUri)if(p.origin===Ce.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",m,!1);try{const g=Ye.getAuthConnector(d);if(g&&!o){i&&(i.close(),Et.setSocialWindow(void 0,d),i=Et.state.socialWindow),o=!0;const b=p.data.resultUri;if(c&&Ht.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:c}}),c){Pe.setConnectedSocialProvider(c),await Je.connectExternal({id:g.id,type:g.type,socialUri:b},g.chain);const v=me.state.activeCaipAddress;if(!v){f(new Error("Failed to connect"));return}h(Hr.parseCaipAddress(v)),Ht.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:c}})}}}catch{c&&Ht.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}}),f(new Error("Failed to connect"))}}else c&&Ht.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}})}async function x(){if(e&&(Et.setSocialProvider(e,d),c=Et.state.socialProvider,Ht.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:c}})),c==="farcaster"){r?.();const p=Rt.subscribeKey("open",b=>{!b&&e==="farcaster"&&(f(new Error("Popup closed")),a?.(),p())}),g=Ye.getAuthConnector();if(g&&!Et.state.farcasterUrl)try{const{url:b}=await g.provider.getFarcasterUri();Et.setFarcasterUrl(b,d)}catch{f(new Error("Failed to connect to farcaster"))}}else{const p=Ye.getAuthConnector();l=tt.returnOpenHref(`${Ce.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(p&&c){const{uri:g}=await p.provider.getSocialRedirectUri({provider:c});if(l&&g){Et.setSocialWindow(l,d),i=Et.state.socialWindow,l.location.href=g;const b=setInterval(()=>{i?.closed&&!o&&(f(new Error("Popup closed")),clearInterval(b))},1e3);window.addEventListener("message",m,!1)}else l?.close(),f(new Error("Failed to initiate social connection"))}}catch{f(new Error("Failed to initiate social connection")),l?.close()}}}x()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((a,i)=>{if(n?.(),t){const o=Rt.subscribeKey("open",l=>{l||(ct.state.view!==t&&ct.replace(t),o(),i(new Error("Modal closed")))})}const c=me.subscribeKey("activeCaipAddress",o=>{o&&(r?.(),e&&Rt.close(),c(),a(Hr.parseCaipAddress(o)))})})},async updateEmail(){const e=Pe.getConnectedConnectorId(me.state.activeChain),t=Ye.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==Ce.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await Rt.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,a)=>{const i=setInterval(()=>{const o=t.provider.getEmail()??"";o!==n&&(Rt.close(),clearInterval(i),c(),r({email:o}))},Ky),c=Rt.subscribeKey("open",o=>{o||(ct.state.view!=="Connect"&&ct.push("Connect"),clearInterval(i),c(),a(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return me.checkIfSmartAccountEnabled()&&ir(e)===sn.ACCOUNT_TYPES.EOA}};function Ym(){const e=me.state.activeCaipNetwork?.chainNamespace||"eip155",t=me.state.activeCaipNetwork?.id||1,n=hn.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function ir(e){return me.getAccountData(e)?.preferredAccountType}function xs(e){return e?me.state.chains.get(e)?.networkState?.caipNetwork:me.state.activeCaipNetwork}const Zm={getConnectionStatus(e,t){const n=Ye.state.activeConnectorIds[t],r=Je.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(c=>c.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const i=r.accounts.filter(c=>!n.some(l=>l.toLowerCase()===c.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!ot.state.remoteFeatures?.multiWallet,n=Ye.state.activeConnectorIds[e],r=Je.getConnections(e),i=(Je.state.recentConnections.get(e)??[]).filter(o=>Ye.getConnectorById(o.connectorId)),c=Zm.excludeExistingConnections([...r.map(o=>o.connectorId),...n?[n]:[]],i);return t?{connections:r,recentConnections:c}:{connections:r.filter(o=>o.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},fs=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Jt=Ot({...fs}),Jy={state:Jt,subscribeKey(e,t){return mn(Jt,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=tt.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Jt.message=fs.message,Jt.variant=fs.variant,Jt.svg=fs.svg,Jt.open=fs.open,Jt.autoClose=fs.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=fs.autoClose}){Jt.open?(Jt.open=!1,setTimeout(()=>{Jt.message=e,Jt.variant=n,Jt.svg=t,Jt.open=!0,Jt.autoClose=r},150)):(Jt.message=e,Jt.variant=n,Jt.svg=t,Jt.open=!0,Jt.autoClose=r)}},qr=Jy,zt=Ot({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Xy={state:zt,subscribe(e){return Cn(zt,()=>e(zt))},setLastNetworkInView(e){zt.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");zt.loading=!0;try{const t=await it.fetchTransactions({account:e,cursor:zt.next,chainId:me.state.activeCaipNetwork?.caipNetworkId}),n=No.filterSpamTransactions(t.data),r=No.filterByConnectedChain(n),a=[...zt.transactions,...r];zt.loading=!1,zt.transactions=a,zt.transactionsByYear=No.groupTransactionsByYearAndMonth(zt.transactionsByYear,r),zt.empty=a.length===0,zt.next=t.next?t.next:void 0}catch{const n=me.state.activeChain;Ht.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:ot.state.projectId,cursor:zt.next,isSmartAccount:ir(n)===sn.ACCOUNT_TYPES.SMART_ACCOUNT}}),qr.showError("Failed to fetch transactions"),zt.loading=!1,zt.empty=!0,zt.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const a=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),c=n[a]??{},l=(c[i]??[]).filter(d=>d.id!==r.id);n[a]={...c,[i]:[...l,r].sort((d,u)=>new Date(u.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=me.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){zt.next=void 0},resetTransactions(){zt.transactions=[],zt.transactionsByYear={},zt.lastNetworkInView=void 0,zt.loading=!1,zt.empty=!1,zt.next=void 0}},No=Mn(Xy,"API_ERROR"),bt=Ot({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let os;const Qy={state:bt,subscribe(e){return Cn(bt,()=>e(bt))},subscribeKey(e,t){return mn(bt,e,t)},_getClient(){return bt._client},setClient(e){bt._client=ua(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);Je.syncStorageConnections(t)},syncStorageConnections(e){const t=Pe.getConnections(),n=e??Array.from(me.state.chains.keys());for(const r of n){const a=t[r]??[],i=new Map(bt.recentConnections);i.set(r,a),bt.recentConnections=i}},getConnections(e){return e?bt.connections.get(e)??[]:[]},hasAnyConnection(e){const t=Je.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect(){if(tt.isTelegram()||tt.isSafari()&&tt.isIos()){if(os){await os,os=void 0;return}if(!tt.isPairingExpired(bt?.wcPairingExpiry)){const e=bt.wcUri;bt.wcUri=e;return}os=Je._getClient()?.connectWalletConnect?.().catch(()=>{}),Je.state.status="connecting",await os,os=void 0,bt.wcPairingExpiry=void 0,Je.state.status="connected"}else await Je._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await Je._getClient()?.connectExternal?.(e);return n&&me.setActiveNamespace(t),r},async reconnectExternal(e){await Je._getClient()?.reconnectExternal?.(e);const t=e.chain||me.state.activeChain;t&&Ye.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;Rt.setLoading(!0,me.state.activeChain);const n=Ye.getAuthConnector();n&&(Et.setPreferredAccountType(e,t),await n.provider.setPreferredAccount(e),Pe.setPreferredAccountTypes(Object.entries(me.state.chains).reduce((r,[a,i])=>{const c=a,o=ir(c);return o!==void 0&&(r[c]=o),r},{})),await Je.reconnectExternal(n),Rt.setLoading(!1,me.state.activeChain),Ht.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:me.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return Je._getClient()?.signMessage(e)},parseUnits(e,t){return Je._getClient()?.parseUnits(e,t)},formatUnits(e,t){return Je._getClient()?.formatUnits(e,t)},async sendTransaction(e){return Je._getClient()?.sendTransaction(e)},async getCapabilities(e){return Je._getClient()?.getCapabilities(e)},async grantPermissions(e){return Je._getClient()?.grantPermissions(e)},async walletGetAssets(e){return Je._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return Je._getClient()?.estimateGas(e)},async writeContract(e){return Je._getClient()?.writeContract(e)},async getEnsAddress(e){return Je._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return Je._getClient()?.getEnsAvatar(e)},checkInstalled(e){return Je._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){bt.wcUri=void 0,bt.wcPairingExpiry=void 0,bt.wcLinking=void 0,bt.recentWallet=void 0,bt.status="disconnected",No.resetTransactions(),Pe.deleteWalletConnectDeepLink()},resetUri(){bt.wcUri=void 0,bt.wcPairingExpiry=void 0,os=void 0},finalizeWcConnection(e){const{wcLinking:t,recentWallet:n}=Je.state;t&&Pe.setWalletConnectDeepLink(t),n&&Pe.setAppKitRecent(n),Ht.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:ct.state.data?.wallet?.name||"Unknown"}})},setWcBasic(e){bt.wcBasic=e},setUri(e){bt.wcUri=e,bt.wcPairingExpiry=tt.getPairingExpiry()},setWcLinking(e){bt.wcLinking=e},setWcError(e){bt.wcError=e,bt.buffering=!1},setRecentWallet(e){bt.recentWallet=e},setBuffering(e){bt.buffering=e},setStatus(e){bt.status=e},setIsSwitchingConnection(e){bt.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await Je._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new ha("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(e,t){const n=new Map(bt.connections);n.set(t,e),bt.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const n=Et.state.user?.accounts?.find(a=>a.type==="smartAccount"),r=n&&n.address.toLowerCase()===e.toLowerCase()&&Ma.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await Je.setPreferredAccountType(r,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=Ye.getConnectorById(e.connectorId),a=e.connectorId===Ce.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(a)a&&n&&await Je.handleAuthAccountSwitch({address:n,namespace:t});else return(await Je.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const a=Ye.getConnectorById(e.connectorId),i=e.auth?.name?.toLowerCase(),c=e.connectorId===Ce.CONNECTOR_ID.AUTH,o=e.connectorId===Ce.CONNECTOR_ID.WALLET_CONNECT;if(!a)throw new Error(`No connector found for connection: ${e.connectorId}`);let l;if(c)if(i&&Ma.isSocialProvider(i)){const{address:d}=await Ma.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Rt.open({view:"ConnectingFarcaster"})},onConnect(){ct.replace("ProfileWallets")}});l=d}else{const{address:d}=await Ma.connectEmail({closeModalOnConnect:r,onOpen(){Rt.open({view:"EmailLogin"})},onConnect(){ct.replace("ProfileWallets")}});l=d}else if(o){const{address:d}=await Ma.connectWalletConnect({walletConnect:!0,connector:a,closeModalOnConnect:r,onOpen(u){Rt.open({view:u?"AllWallets":"ConnectingWalletConnect"})},onConnect(){ct.replace("ProfileWallets")}});l=d}else{const d=await Je.connectExternal({id:a.id,type:a.type,provider:a.provider,chain:t},t);d&&(l=d.address)}return c&&n&&await Je.handleAuthAccountSwitch({address:n,namespace:t}),l},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:a}){let i;const c=Et.getCaipAddress(n);if(c){const{address:l}=Hr.parseCaipAddress(c);i=l}const o=Zm.getConnectionStatus(e,n);switch(o){case"connected":case"active":{const l=await Je.handleActiveConnection({connection:e,namespace:n,address:t});if(i&&l){const d=l.toLowerCase()!==i.toLowerCase();a?.({address:l,namespace:n,hasSwitchedAccount:d,hasSwitchedWallet:o==="active"})}break}case"disconnected":{const l=await Je.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});l&&a?.({address:l,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${o}`)}}},Je=Mn(Qy),Vs=Ot({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),bs={state:Vs,subscribe(e){return Cn(Vs,()=>e(Vs))},subscribeOpen(e){return mn(Vs,"open",e)},set(e){Object.assign(Vs,{...Vs,...e})}},ew={async getTokenList(e){return(await it.fetchSwapTokens({chainId:e}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=me.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await Je?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await it.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const a=await it.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(a?.allowance&&n&&r){const i=Je.parseUnits(n,r)||0;return BigInt(a.allowance)>=i}return!1},async getMyTokensWithBalance(e){const t=await mu.getMyTokensWithBalance(e);return Et.setTokenBalance(t,me.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:Ym(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]}},_t=Ot({tokenBalances:[],loading:!1}),tw={state:_t,subscribe(e){return Cn(_t,()=>e(_t))},subscribeKey(e,t){return mn(_t,e,t)},setToken(e){e&&(_t.token=ua(e))},setTokenAmount(e){_t.sendTokenAmount=e},setReceiverAddress(e){_t.receiverAddress=e},setReceiverProfileImageUrl(e){_t.receiverProfileImageUrl=e},setReceiverProfileName(e){_t.receiverProfileName=e},setNetworkBalanceInUsd(e){_t.networkBalanceInUSD=e},setLoading(e){_t.loading=e},async sendToken(){try{switch(Ct.setLoading(!0),me.state.activeCaipNetwork?.chainNamespace){case"eip155":await Ct.sendEvmToken();return;case"solana":await Ct.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Ct.setLoading(!1)}},async sendEvmToken(){const e=me.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=ir(e);if(!Ct.state.sendTokenAmount||!Ct.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Ct.state.token)throw new Error("A token is required");Ct.state.token?.address?(Ht.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ct.state.token.address,amount:Ct.state.sendTokenAmount,network:me.state.activeCaipNetwork?.caipNetworkId||""}}),await Ct.sendERC20Token({receiverAddress:Ct.state.receiverAddress,tokenAddress:Ct.state.token.address,sendTokenAmount:Ct.state.sendTokenAmount,decimals:Ct.state.token.quantity.decimals})):(Ht.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ct.state.token.symbol||"",amount:Ct.state.sendTokenAmount,network:me.state.activeCaipNetwork?.caipNetworkId||""}}),await Ct.sendNativeToken({receiverAddress:Ct.state.receiverAddress,sendTokenAmount:Ct.state.sendTokenAmount,decimals:Ct.state.token.quantity.decimals}))},async fetchTokenBalance(e){_t.loading=!0;const t=me.state.activeCaipNetwork?.caipNetworkId,n=me.state.activeCaipNetwork?.chainNamespace,r=me.state.activeCaipAddress,a=r?tt.getPlainAddress(r):void 0;if(_t.lastRetry&&!tt.isAllowedRetry(_t.lastRetry,30*hn.ONE_SEC_MS))return _t.loading=!1,[];try{if(a&&t&&n){const i=await mu.getMyTokensWithBalance();return _t.tokenBalances=i,_t.lastRetry=void 0,i}}catch(i){_t.lastRetry=Date.now(),e?.(i),qr.showError("Token Balance Unavailable")}finally{_t.loading=!1}return[]},fetchNetworkBalance(){if(_t.tokenBalances.length===0)return;const e=ew.mapBalancesToSwapTokens(_t.tokenBalances);if(!e)return;const t=e.find(n=>n.address===Ym());t&&(_t.networkBalanceInUSD=t?wy.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){ct.pushTransactionStack({});const t=e.receiverAddress,n=Et.state.address,r=Je.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await Je.sendTransaction({chainNamespace:Ce.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)}),Ht.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:ir("eip155")===sn.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ct.state.token?.symbol||"",amount:e.sendTokenAmount,network:me.state.activeCaipNetwork?.caipNetworkId||""}}),Je._getClient()?.updateBalance("eip155"),Ct.resetSend()},async sendERC20Token(e){ct.pushTransactionStack({onSuccess(){ct.replace("Account")}});const t=Je.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(Et.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=tt.getPlainAddress(e.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await Je.writeContract({fromAddress:Et.state.address,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:_y.getERC20Abi(n),chainNamespace:Ce.CHAIN.EVM}),Ct.resetSend()}},async sendSolanaToken(){if(!Ct.state.sendTokenAmount||!Ct.state.receiverAddress)throw new Error("An amount and receiver address are required");ct.pushTransactionStack({onSuccess(){ct.replace("Account")}}),await Je.sendTransaction({chainNamespace:"solana",to:Ct.state.receiverAddress,value:Ct.state.sendTokenAmount}),Je._getClient()?.updateBalance("solana"),Ct.resetSend()},resetSend(){_t.token=void 0,_t.sendTokenAmount=void 0,_t.receiverAddress=void 0,_t.receiverProfileImageUrl=void 0,_t.receiverProfileName=void 0,_t.loading=!1,_t.tokenBalances=[]}},Ct=Mn(tw),Rl={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},so={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Oe=Ot({chains:hy(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),nw={state:Oe,subscribe(e){return Cn(Oe,()=>{e(Oe)})},subscribeKey(e,t){return mn(Oe,e,t)},subscribeChainProp(e,t,n){let r;return Cn(Oe.chains,()=>{const a=n||Oe.activeChain;if(a){const i=Oe.chains.get(a)?.[e];r!==i&&(r=i,t(i))}})},initialize(e,t,n){const{chainId:r,namespace:a}=Pe.getActiveNetworkProps(),i=t?.find(u=>u.id.toString()===r?.toString()),o=e.find(u=>u?.namespace===a)||e?.[0],l=e.map(u=>u.namespace).filter(u=>u!==void 0),d=ot.state.enableEmbedded?new Set([...l]):new Set([...t?.map(u=>u.chainNamespace)??[]]);(e?.length===0||!o)&&(Oe.noAdapters=!0),Oe.noAdapters||(Oe.activeChain=o?.namespace,Oe.activeCaipNetwork=i,me.setChainNetworkData(o?.namespace,{caipNetwork:i}),Oe.activeChain&&bs.set({activeChain:o?.namespace})),d.forEach(u=>{const h=t?.filter(x=>x.chainNamespace===u),f=Pe.getPreferredAccountTypes()||{},m={...ot.state.defaultAccountTypes,...f};me.state.chains.set(u,{namespace:u,networkState:Ot({...so,caipNetwork:h?.[0]}),accountState:Ot({...Rl,preferredAccountType:m[u]}),caipNetworks:h??[],...n}),me.setRequestedCaipNetworks(h??[],u)})},removeAdapter(e){if(Oe.activeChain===e){const t=Array.from(Oe.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&me.setActiveCaipNetwork(n)}}Oe.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:n},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Oe.chains.set(e.namespace,{namespace:e.namespace,networkState:{...so,caipNetwork:r[0]},accountState:Rl,caipNetworks:r,connectionControllerClient:n,networkControllerClient:t}),me.setRequestedCaipNetworks(r?.filter(a=>a.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=Oe.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),Oe.chains.set(e.chainNamespace,{...t,caipNetworks:n}),me.setRequestedCaipNetworks(n,e.chainNamespace),Ye.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=Oe.chains.get(e);if(n){const r=Oe.activeCaipNetwork?.id===t,a=[...n.caipNetworks?.filter(i=>i.id!==t)||[]];r&&n?.caipNetworks?.[0]&&me.setActiveCaipNetwork(n.caipNetworks[0]),Oe.chains.set(e,{...n,caipNetworks:a}),me.setRequestedCaipNetworks(a||[],e),a.length===0&&Ye.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=Oe.chains.get(e);n&&(n.networkState={...n.networkState||so,...t},Oe.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=Oe.chains.get(e);if(r){const a={...r.accountState||Rl,...t};Oe.chains.set(e,{...r,accountState:a}),(Oe.chains.size===1||Oe.activeChain===e)&&(t.caipAddress&&(Oe.activeCaipAddress=t.caipAddress),Et.replaceState(a))}},setChainNetworkData(e,t){if(!e)return;const n=Oe.chains.get(e);if(n){const r={...n.networkState||so,...t};Oe.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){me.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){Oe.activeChain=e;const t=e?Oe.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(Oe.activeCaipAddress=t?.accountState?.caipAddress,Oe.activeCaipNetwork=n,me.setChainNetworkData(e,{caipNetwork:n}),Pe.setActiveCaipNetworkId(n?.caipNetworkId),bs.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;Oe.activeChain!==e.chainNamespace&&me.setIsSwitchingNamespace(!0);const t=Oe.chains.get(e.chainNamespace);Oe.activeChain=e.chainNamespace,Oe.activeCaipNetwork=e,me.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),t?.accountState?.address?Oe.activeCaipAddress=`${e.chainNamespace}:${e.id}:${t?.accountState?.address}`:Oe.activeCaipAddress=void 0,me.setAccountProp("caipAddress",Oe.activeCaipAddress,e.chainNamespace),t&&Et.replaceState(t.accountState),Ct.resetSend(),bs.set({activeChain:Oe.activeChain,selectedNetworkId:Oe.activeCaipNetwork?.caipNetworkId}),Pe.setActiveCaipNetworkId(e.caipNetworkId),!me.checkIfSupportedNetwork(e.chainNamespace)&&ot.state.enableNetworkSwitch&&!ot.state.allowUnsupportedChain&&!Je.state.wcBasic&&me.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=Oe.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==me.state.activeChain,n=me.getNetworkData(e)?.caipNetwork,r=me.getCaipNetworkByNamespace(e,n?.id);t&&r&&await me.switchActiveNetwork(r)},async switchActiveNetwork(e){const t=me.state.activeChain;if(!t)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=!me.state.chains.get(t)?.caipNetworks?.some(i=>i.id===Oe.activeCaipNetwork?.id),a=me.getNetworkControllerClient(e.chainNamespace);if(a){try{await a.switchCaipNetwork(e),r&&Rt.close()}catch{ct.goBack()}Ht.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||Oe.activeChain;if(!t)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=Oe.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||Oe.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=Oe.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=Oe.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=Oe.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return tt.sortRequestedNetworks(n,r).filter(c=>c?.id)},getAllRequestedCaipNetworks(){const e=[];return Oe.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=me.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){me.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=me.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),a=Array.from(new Set(r));Ye.filterByNamespaces(a)},getAllApprovedCaipNetworkIds(){const e=[];return Oe.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=me.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?Oe.chains.get(e)?.networkState?.caipNetwork:Oe.activeCaipNetwork},getActiveCaipAddress(){return Oe.activeCaipAddress},getApprovedCaipNetworkIds(e){return Oe.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(e){const n=await me.getNetworkControllerClient()?.getApprovedCaipNetworksData();me.setAdapterNetworkState(e,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const n=t||Oe.activeCaipNetwork?.caipNetworkId,r=me.getRequestedCaipNetworks(e);return r.length?r?.some(a=>a.caipNetworkId===n):!0},checkIfSupportedChainId(e){return Oe.activeChain?me.getRequestedCaipNetworks(Oe.activeChain)?.some(n=>n.id===e):!0},setSmartAccountEnabledNetworks(e,t){me.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){const e=Cc.caipNetworkIdToNumber(Oe.activeCaipNetwork?.caipNetworkId),t=Oe.activeChain;return!t||!e?!1:!!me.getNetworkProp("smartAccountEnabledNetworks",t)?.includes(Number(e))},showUnsupportedChainUI(){Rt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=Oe.activeCaipNetwork;return!!(e?.chainNamespace&&hn.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){me.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=me.state.chains.get(t)?.accountState?.preferredAccountType,r=ot.state.defaultAccountTypes[t];Oe.activeCaipAddress=void 0,me.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),Ye.removeConnectorId(t)},setIsSwitchingNamespace(e){Oe.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(Oe.chains.forEach(n=>{Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?Oe.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||Oe.activeChain;if(t)return me.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||Oe.activeChain;if(t)return me.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=me.state.chains.get(e),r=n?.caipNetworks?.find(a=>a.id===t);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=Ye.state.filterByNamespace;return(e?[Oe.chains.get(e)]:Array.from(Oe.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?me.getRequestedCaipNetworks(e):me.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(e){Oe.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return Oe.lastConnectedSIWECaipNetwork}},me=Mn(nw),rw={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Km=tt.getBlockchainApiUrl(),bn=Ot({clientId:null,api:new Mi({baseUrl:Km,clientId:null}),supportedChains:{http:[],ws:[]}}),it={state:bn,async get(e){const{st:t,sv:n}=it.getSdkProperties(),r=ot.state.projectId,a={...e.params||{},st:t,sv:n,projectId:r};return bn.api.get({...e,params:a})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=ot.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{bn.supportedChains.http.length||await it.getSupportedNetworks()}catch{return!1}return bn.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await it.get({path:"v1/supported-chains"});return bn.supportedChains=e,e}catch{return bn.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await it.isNetworkSupported(t))return{avatar:"",name:""};const r=Pe.getIdentityFromCacheForAddress(e);if(r)return r;const a=await it.get({path:`/v1/identity/${e}`,params:{sender:me.state.activeCaipAddress?tt.getPlainAddress(me.state.activeCaipAddress):void 0}});return Pe.updateIdentityCache({address:e,identity:a,timestamp:Date.now()}),a},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:a}){if(!await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const c=Pe.getTransactionsCacheForAddress({address:e,chainId:a});if(c)return c;const o=await it.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:a},signal:n,cache:r});return Pe.updateTransactionsCache({address:e,chainId:a,timestamp:Date.now(),transactions:o}),o},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:a}){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?it.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:a}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?it.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){if(!await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=Pe.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await bn.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:ot.state.projectId},headers:{"Content-Type":"application/json"}});return Pe.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?it.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=it.getSdkProperties();if(!await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return it.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:a}){if(!await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return bn.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:hn.CONVERT_SLIPPAGE_TOLERANCE},projectId:ot.state.projectId,from:t,to:n,userAddress:r,disableEstimate:a}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:a}=it.getSdkProperties();if(!await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return it.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:a}})},async getBalance(e,t,n){const{st:r,sv:a}=it.getSdkProperties();if(!await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId))return qr.showError("Token Balance Unavailable"),{balances:[]};const c=`${t}:${e}`,o=Pe.getBalanceCacheForCaipAddress(c);if(o)return o;const l=await it.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:a}});return Pe.updateBalanceCache({caipAddress:c,balance:l,timestamp:Date.now()}),l},async lookupEnsName(e){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?it.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?it.get({path:`/v1/profile/reverse/${e}`,params:{sender:Et.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?it.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?bn.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:a}){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?(await bn.api.post({path:"/v1/generators/onrampurl",params:{projectId:ot.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:a}})).url:""},async getOnrampOptions(){if(!await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await it.get({path:"/v1/onramp/options"})}catch{return rw}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?await bn.api.post({path:"/v1/onramp/quote",params:{projectId:ot.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?it.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await it.isNetworkSupported(me.state.activeCaipNetwork?.caipNetworkId)?bn.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:ot.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){bn.clientId=e,bn.api=new Mi({baseUrl:Km,clientId:e})}},Pl={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return ym(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},mu={async getMyTokensWithBalance(e){const t=Et.state.address,n=me.state.activeCaipNetwork,r=Ye.getConnectorId("eip155")===Ce.CONNECTOR_ID.AUTH;if(!t||!n)return[];const a=`${n.caipNetworkId}:${t}`,i=Pe.getBalanceCacheForCaipAddress(a);if(i)return i.balances;if(n.chainNamespace===Ce.CHAIN.EVM&&r){const o=await this.getEIP155Balances(t,n);if(o)return this.filterLowQualityTokens(o)}const c=await it.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(c.balances)},async getEIP155Balances(e,t){try{const n=Pl.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await Je.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const a=await Je.walletGetAssets({account:e,chainFilter:[n]});if(!Pl.isWalletGetAssetsResponse(a))return null;const c=(a[n]||[]).map(o=>Pl.createBalance(o,t.caipNetworkId));return Pe.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")}},Kn=Ot({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),sw={state:Kn,replaceState(e){e&&Object.assign(Kn,ua(e))},subscribe(e){return me.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,n){let r;return me.subscribeChainProp("accountState",a=>{if(a){const i=a[e];r!==i&&(r=i,t(i))}},n)},setStatus(e,t){me.setAccountProp("status",e,t)},getCaipAddress(e){if(e)return me.state.chains.get(e)?.accountState?.caipAddress},setCaipAddress(e,t){const n=e?tt.getPlainAddress(e):void 0;t===me.state.activeChain&&(me.state.activeCaipAddress=e),me.setAccountProp("caipAddress",e,t),me.setAccountProp("address",n,t)},setBalance(e,t,n){me.setAccountProp("balance",e,n),me.setAccountProp("balanceSymbol",t,n)},setProfileName(e,t){me.setAccountProp("profileName",e,t)},setProfileImage(e,t){me.setAccountProp("profileImage",e,t)},setUser(e,t){me.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){me.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){me.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){me.setAccountProp("currentTab",e,me.state.activeChain)},setTokenBalance(e,t){e&&me.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){me.setAccountProp("shouldUpdateToAddress",e,t)},addAddressLabel(e,t,n){if(!n)return;const r=me.state.chains.get(n)?.accountState?.addressLabels||new Map;r.set(e,t),me.setAccountProp("addressLabels",r,n)},removeAddressLabel(e,t){if(!t)return;const n=me.state.chains.get(t)?.accountState?.addressLabels||new Map;n.delete(e),me.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo(e,t){me.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){me.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&me.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){me.setAccountProp("socialWindow",e?ua(e):void 0,t)},setFarcasterUrl(e,t){me.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){Kn.balanceLoading=!0;const t=me.state.activeCaipNetwork?.caipNetworkId,n=me.state.activeCaipNetwork?.chainNamespace,r=me.state.activeCaipAddress,a=r?tt.getPlainAddress(r):void 0;if(Kn.lastRetry&&!tt.isAllowedRetry(Kn.lastRetry,30*hn.ONE_SEC_MS))return Kn.balanceLoading=!1,[];try{if(a&&t&&n){const i=await mu.getMyTokensWithBalance();return Et.setTokenBalance(i,n),Kn.lastRetry=void 0,Kn.balanceLoading=!1,i}}catch(i){Kn.lastRetry=Date.now(),e?.(i),qr.showError("Token Balance Unavailable")}finally{Kn.balanceLoading=!1}return[]},resetAccount(e){me.resetAccount(e)}},Et=Mn(sw),aw={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=me.state.activeCaipNetwork,r=ct.state.data;if(e.id===n?.id)return;const i=Et.getCaipAddress(me.state.activeChain),c=e.chainNamespace!==me.state.activeChain,o=Et.getCaipAddress(e.chainNamespace),d=Ye.getConnectorId(me.state.activeChain)===Ce.CONNECTOR_ID.AUTH,u=Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(h=>h===e.chainNamespace);t||d&&u?ct.push("SwitchNetwork",{...r,network:e}):i&&c&&!o?ct.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ct.push("SwitchNetwork",{...r,network:e})}},vn=Ot({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),iw={state:vn,subscribe(e){return Cn(vn,()=>e(vn))},subscribeKey(e,t){return mn(vn,e,t)},async open(e){const t=e?.namespace,n=me.state.activeChain,r=t&&t!==n,a=me.getAccountData(e?.namespace)?.caipAddress;if(Je.state.wcBasic?st.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await st.prefetch(),Ye.setFilterByNamespace(e?.namespace),Rt.setLoading(!0,t),t&&r){const i=me.getNetworkData(t)?.caipNetwork||me.getRequestedCaipNetworks(t)[0];i&&aw.onSwitchNetwork({network:i,ignoreSwitchConfirmation:!0})}else{const i=me.state.noAdapters;ot.state.manualWCControl||i&&!a?tt.isMobile()?ct.reset("AllWallets"):ct.reset("ConnectingWalletConnectBasic"):e?.view?ct.reset(e.view,e.data):a?ct.reset("Account"):ct.reset("Connect")}vn.open=!0,bs.set({open:!0}),Ht.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!a}})},close(){const e=ot.state.enableEmbedded,t=!!me.state.activeCaipAddress;vn.open&&Ht.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),vn.open=!1,ct.reset("Connect"),Rt.clearLoading(),e?t?ct.replace("Account"):ct.push("Connect"):bs.set({open:!1}),Je.resetUri()},setLoading(e,t){t&&vn.loadingNamespaceMap.set(t,e),vn.loading=e,bs.set({loading:e})},clearLoading(){vn.loadingNamespaceMap.clear(),vn.loading=!1,bs.set({loading:!1})},shake(){vn.shake||(vn.shake=!0,setTimeout(()=>{vn.shake=!1},500))}},Rt=Mn(iw),I0=2147483648,ow={convertEVMChainIdToCoinType(e){if(e>=I0)throw new Error("Invalid chainId");return(I0|e)>>>0}},Pn=Ot({suggestions:[],loading:!1}),cw={state:Pn,subscribe(e){return Cn(Pn,()=>e(Pn))},subscribeKey(e,t){return mn(Pn,e,t)},async resolveName(e){try{return await it.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await it.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{Pn.loading=!0,Pn.suggestions=[];const t=await it.getEnsNameSuggestions(e);return Pn.suggestions=t.suggestions||[],Pn.suggestions}catch(t){const n=Eo.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{Pn.loading=!1}},async getNamesForAddress(e){try{if(!me.state.activeCaipNetwork)return[];const n=Pe.getEnsFromCacheForAddress(e);if(n)return n;const r=await it.reverseLookupEnsName({address:e});return Pe.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=Eo.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=me.state.activeCaipNetwork,n=Et.state.address,r=Ye.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");Pn.loading=!0;try{const a=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ct.pushTransactionStack({onCancel(){ct.replace("RegisterAccountName")}});const i=await Je.signMessage(a);Pn.loading=!1;const c=t.id;if(!c)throw new Error("Network not found");const o=ow.convertEVMChainIdToCoinType(Number(c));await it.registerEnsName({coinType:o,address:n,signature:i,message:a}),Et.setProfileName(e,t.chainNamespace),Pe.updateEnsCache({address:n,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),ct.replace("RegisterAccountNameSuccess")}catch(a){const i=Eo.parseEnsApiError(a,`Error registering name ${e}`);throw ct.replace("RegisterAccountName"),new Error(i)}finally{Pn.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},Eo=Mn(cw);var ao={exports:{}},R0;function lw(){if(R0)return ao.exports;R0=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(y,E,S){return Function.prototype.apply.call(y,E,S)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:n=function(y){return Object.getOwnPropertyNames(y)};function r(C){console&&console.warn&&console.warn(C)}var a=Number.isNaN||function(y){return y!==y};function i(){i.init.call(this)}ao.exports=i,ao.exports.once=b,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var c=10;function o(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");c=C}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||a(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this};function l(C){return C._maxListeners===void 0?i.defaultMaxListeners:C._maxListeners}i.prototype.getMaxListeners=function(){return l(this)},i.prototype.emit=function(y){for(var E=[],S=1;S<arguments.length;S++)E.push(arguments[S]);var R=y==="error",I=this._events;if(I!==void 0)R=R&&I.error===void 0;else if(!R)return!1;if(R){var T;if(E.length>0&&(T=E[0]),T instanceof Error)throw T;var M=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw M.context=T,M}var P=I[y];if(P===void 0)return!1;if(typeof P=="function")t(P,this,E);else for(var F=P.length,k=x(P,F),S=0;S<F;++S)t(k[S],this,E);return!0};function d(C,y,E,S){var R,I,T;if(o(E),I=C._events,I===void 0?(I=C._events=Object.create(null),C._eventsCount=0):(I.newListener!==void 0&&(C.emit("newListener",y,E.listener?E.listener:E),I=C._events),T=I[y]),T===void 0)T=I[y]=E,++C._eventsCount;else if(typeof T=="function"?T=I[y]=S?[E,T]:[T,E]:S?T.unshift(E):T.push(E),R=l(C),R>0&&T.length>R&&!T.warned){T.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=C,M.type=y,M.count=T.length,r(M)}return C}i.prototype.addListener=function(y,E){return d(this,y,E,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(y,E){return d(this,y,E,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(C,y,E){var S={fired:!1,wrapFn:void 0,target:C,type:y,listener:E},R=u.bind(S);return R.listener=E,S.wrapFn=R,R}i.prototype.once=function(y,E){return o(E),this.on(y,h(this,y,E)),this},i.prototype.prependOnceListener=function(y,E){return o(E),this.prependListener(y,h(this,y,E)),this},i.prototype.removeListener=function(y,E){var S,R,I,T,M;if(o(E),R=this._events,R===void 0)return this;if(S=R[y],S===void 0)return this;if(S===E||S.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete R[y],R.removeListener&&this.emit("removeListener",y,S.listener||E));else if(typeof S!="function"){for(I=-1,T=S.length-1;T>=0;T--)if(S[T]===E||S[T].listener===E){M=S[T].listener,I=T;break}if(I<0)return this;I===0?S.shift():p(S,I),S.length===1&&(R[y]=S[0]),R.removeListener!==void 0&&this.emit("removeListener",y,M||E)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(y){var E,S,R;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[y]),this;if(arguments.length===0){var I=Object.keys(S),T;for(R=0;R<I.length;++R)T=I[R],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=S[y],typeof E=="function")this.removeListener(y,E);else if(E!==void 0)for(R=E.length-1;R>=0;R--)this.removeListener(y,E[R]);return this};function f(C,y,E){var S=C._events;if(S===void 0)return[];var R=S[y];return R===void 0?[]:typeof R=="function"?E?[R.listener||R]:[R]:E?g(R):x(R,R.length)}i.prototype.listeners=function(y){return f(this,y,!0)},i.prototype.rawListeners=function(y){return f(this,y,!1)},i.listenerCount=function(C,y){return typeof C.listenerCount=="function"?C.listenerCount(y):m.call(C,y)},i.prototype.listenerCount=m;function m(C){var y=this._events;if(y!==void 0){var E=y[C];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function x(C,y){for(var E=new Array(y),S=0;S<y;++S)E[S]=C[S];return E}function p(C,y){for(;y+1<C.length;y++)C[y]=C[y+1];C.pop()}function g(C){for(var y=new Array(C.length),E=0;E<y.length;++E)y[E]=C[E].listener||C[E];return y}function b(C,y){return new Promise(function(E,S){function R(T){C.removeListener(y,I),S(T)}function I(){typeof C.removeListener=="function"&&C.removeListener("error",R),E([].slice.call(arguments))}w(C,y,I,{once:!0}),y!=="error"&&v(C,R,{once:!0})})}function v(C,y,E){typeof C.on=="function"&&w(C,"error",y,E)}function w(C,y,E,S){if(typeof C.on=="function")S.once?C.once(y,E):C.on(y,E);else if(typeof C.addEventListener=="function")C.addEventListener(y,function R(I){S.once&&C.removeEventListener(y,R),E(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return ao.exports}lw();const dw=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n);function P0(e){return typeof e=="string"?e:dw(e)||""}var Fl,F0;function uw(){if(F0)return Fl;F0=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Fl=t;function t(n,r,a){var i=a&&a.stringify||e,c=1;if(typeof n=="object"&&n!==null){var o=r.length+c;if(o===1)return n;var l=new Array(o);l[0]=i(n);for(var d=1;d<o;d++)l[d]=i(r[d]);return l.join(" ")}if(typeof n!="string")return n;var u=r.length;if(u===0)return n;for(var h="",f=1-c,m=-1,x=n&&n.length||0,p=0;p<x;){if(n.charCodeAt(p)===37&&p+1<x){switch(m=m>-1?m:0,n.charCodeAt(p+1)){case 100:case 102:if(f>=u||r[f]==null)break;m<p&&(h+=n.slice(m,p)),h+=Number(r[f]),m=p+2,p++;break;case 105:if(f>=u||r[f]==null)break;m<p&&(h+=n.slice(m,p)),h+=Math.floor(Number(r[f])),m=p+2,p++;break;case 79:case 111:case 106:if(f>=u||r[f]===void 0)break;m<p&&(h+=n.slice(m,p));var g=typeof r[f];if(g==="string"){h+="'"+r[f]+"'",m=p+2,p++;break}if(g==="function"){h+=r[f].name||"<anonymous>",m=p+2,p++;break}h+=i(r[f]),m=p+2,p++;break;case 115:if(f>=u)break;m<p&&(h+=n.slice(m,p)),h+=String(r[f]),m=p+2,p++;break;case 37:m<p&&(h+=n.slice(m,p)),h+="%",m=p+2,p++,f--;break}++f}++p}return m===-1?n:(m<x&&(h+=n.slice(m)),h)}return Fl}var Ol,O0;function hw(){if(O0)return Ol;O0=1;const e=uw();Ol=a;const t=y().console||{},n={mapHttpRequest:x,mapHttpResponse:x,wrapRequestSerializer:p,wrapResponseSerializer:p,wrapErrorSerializer:p,req:x,res:x,err:f};function r(E,S){return Array.isArray(E)?E.filter(function(I){return I!=="!stdSerializers.err"}):E===!0?Object.keys(S):!1}function a(E){E=E||{},E.browser=E.browser||{};const S=E.browser.transmit;if(S&&typeof S.send!="function")throw Error("pino: transmit option must have a send function");const R=E.browser.write||t;E.browser.write&&(E.browser.asObject=!0);const I=E.serializers||{},T=r(E.browser.serialize,I);let M=E.browser.serialize;Array.isArray(E.browser.serialize)&&E.browser.serialize.indexOf("!stdSerializers.err")>-1&&(M=!1);const P=["error","fatal","warn","info","debug","trace"];typeof R=="function"&&(R.error=R.fatal=R.warn=R.info=R.debug=R.trace=R),E.enabled===!1&&(E.level="silent");const F=E.level||"info",k=Object.create(R);k.log||(k.log=g),Object.defineProperty(k,"levelVal",{get:L}),Object.defineProperty(k,"level",{get:G,set:z});const D={transmit:S,serialize:T,asObject:E.browser.asObject,levels:P,timestamp:m(E)};k.levels=a.levels,k.level=F,k.setMaxListeners=k.getMaxListeners=k.emit=k.addListener=k.on=k.prependListener=k.once=k.prependOnceListener=k.removeListener=k.removeAllListeners=k.listeners=k.listenerCount=k.eventNames=k.write=k.flush=g,k.serializers=I,k._serialize=T,k._stdErrSerialize=M,k.child=$,S&&(k._logEvent=h());function L(){return this.level==="silent"?1/0:this.levels.values[this.level]}function G(){return this._level}function z(ne){if(ne!=="silent"&&!this.levels.values[ne])throw Error("unknown level "+ne);this._level=ne,i(D,k,"error","log"),i(D,k,"fatal","error"),i(D,k,"warn","error"),i(D,k,"info","log"),i(D,k,"debug","log"),i(D,k,"trace","log")}function $(ne,B){if(!ne)throw new Error("missing bindings for child Pino");B=B||{},T&&ne.serializers&&(B.serializers=ne.serializers);const H=B.serializers;if(T&&H){var W=Object.assign({},I,H),q=E.browser.serialize===!0?Object.keys(W):T;delete ne.serializers,l([ne],q,W,this._stdErrSerialize)}function Q(he){this._childLevel=(he._childLevel|0)+1,this.error=d(he,ne,"error"),this.fatal=d(he,ne,"fatal"),this.warn=d(he,ne,"warn"),this.info=d(he,ne,"info"),this.debug=d(he,ne,"debug"),this.trace=d(he,ne,"trace"),W&&(this.serializers=W,this._serialize=q),S&&(this._logEvent=h([].concat(he._logEvent.bindings,ne)))}return Q.prototype=this,new Q(this)}return k}a.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},a.stdSerializers=n,a.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:v,unixTime:w,isoTime:C});function i(E,S,R,I){const T=Object.getPrototypeOf(S);S[R]=S.levelVal>S.levels.values[R]?g:T[R]?T[R]:t[R]||t[I]||g,c(E,S,R)}function c(E,S,R){!E.transmit&&S[R]===g||(S[R]=function(I){return function(){const M=E.timestamp(),P=new Array(arguments.length),F=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var k=0;k<P.length;k++)P[k]=arguments[k];if(E.serialize&&!E.asObject&&l(P,this._serialize,this.serializers,this._stdErrSerialize),E.asObject?I.call(F,o(this,R,P,M)):I.apply(F,P),E.transmit){const D=E.transmit.level||S.level,L=a.levels.values[D],G=a.levels.values[R];if(G<L)return;u(this,{ts:M,methodLevel:R,methodValue:G,transmitValue:a.levels.values[E.transmit.level||S.level],send:E.transmit.send,val:S.levelVal},P)}}}(S[R]))}function o(E,S,R,I){E._serialize&&l(R,E._serialize,E.serializers,E._stdErrSerialize);const T=R.slice();let M=T[0];const P={};I&&(P.time=I),P.level=a.levels.values[S];let F=(E._childLevel|0)+1;if(F<1&&(F=1),M!==null&&typeof M=="object"){for(;F--&&typeof T[0]=="object";)Object.assign(P,T.shift());M=T.length?e(T.shift(),T):void 0}else typeof M=="string"&&(M=e(T.shift(),T));return M!==void 0&&(P.msg=M),P}function l(E,S,R,I){for(const T in E)if(I&&E[T]instanceof Error)E[T]=a.stdSerializers.err(E[T]);else if(typeof E[T]=="object"&&!Array.isArray(E[T]))for(const M in E[T])S&&S.indexOf(M)>-1&&M in R&&(E[T][M]=R[M](E[T][M]))}function d(E,S,R){return function(){const I=new Array(1+arguments.length);I[0]=S;for(var T=1;T<I.length;T++)I[T]=arguments[T-1];return E[R].apply(this,I)}}function u(E,S,R){const I=S.send,T=S.ts,M=S.methodLevel,P=S.methodValue,F=S.val,k=E._logEvent.bindings;l(R,E._serialize||Object.keys(E.serializers),E.serializers,E._stdErrSerialize===void 0?!0:E._stdErrSerialize),E._logEvent.ts=T,E._logEvent.messages=R.filter(function(D){return k.indexOf(D)===-1}),E._logEvent.level.label=M,E._logEvent.level.value=P,I(M,E._logEvent,F),E._logEvent=h(k)}function h(E){return{ts:0,messages:[],bindings:E||[],level:{label:"",value:0}}}function f(E){const S={type:E.constructor.name,msg:E.message,stack:E.stack};for(const R in E)S[R]===void 0&&(S[R]=E[R]);return S}function m(E){return typeof E.timestamp=="function"?E.timestamp:E.timestamp===!1?b:v}function x(){return{}}function p(E){return E}function g(){}function b(){return!1}function v(){return Date.now()}function w(){return Math.round(Date.now()/1e3)}function C(){return new Date(Date.now()).toISOString()}function y(){function E(S){return typeof S<"u"&&S}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return E(self)||E(window)||E(this)||{}}}return Ol}var ea=hw();const Jm=tl(ea),fw={level:"info"},zi="custom_context",pu=1e3*1024;let mw=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},D0=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new mw(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},Xm=class{constructor(t,n=pu){this.level=t??"error",this.levelValue=ea.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new D0(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===ea.levels.values.error?console.error(t):n===ea.levels.values.warn?console.warn(t):n===ea.levels.values.debug?console.debug(t):n===ea.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(P0({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new D0(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(P0({extraMetadata:t})),new Blob(n,{type:"application/json"})}},pw=class{constructor(t,n=pu){this.baseChunkLogger=new Xm(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},gw=class{constructor(t,n=pu){this.baseChunkLogger=new Xm(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var xw=Object.defineProperty,bw=Object.defineProperties,vw=Object.getOwnPropertyDescriptors,M0=Object.getOwnPropertySymbols,yw=Object.prototype.hasOwnProperty,ww=Object.prototype.propertyIsEnumerable,z0=(e,t,n)=>t in e?xw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ec=(e,t)=>{for(var n in t||(t={}))yw.call(t,n)&&z0(e,n,t[n]);if(M0)for(var n of M0(t))ww.call(t,n)&&z0(e,n,t[n]);return e},_c=(e,t)=>bw(e,vw(t));function Cw(e){return _c(Ec({},e),{level:e?.level||fw.level})}function Nw(e,t=zi){return e[t]||""}function Ew(e,t,n=zi){return e[n]=t,e}function _w(e,t=zi){let n="";return typeof e.bindings>"u"?n=Nw(e,t):n=e.bindings().context||"",n}function Sw(e,t,n=zi){const r=_w(e,n);return r.trim()?`${r}/${t}`:t}function kw(e,t,n=zi){const r=Sw(e,t,n),a=e.child({context:r});return Ew(a,r,n)}function jw(e){var t,n;const r=new pw((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Jm(_c(Ec({},e.opts),{level:"trace",browser:_c(Ec({},(n=e.opts)==null?void 0:n.browser),{write:a=>r.write(a)})})),chunkLoggerController:r}}function Aw(e){var t;const n=new gw((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Jm(_c(Ec({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function Tw(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?jw(e):Aw(e)}function Iw(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let d=0;d<t.length;d++)t[d]=255;for(let d=0;d<e.length;d++){const u=e.charAt(d),h=u.charCodeAt(0);if(t[h]!==255)throw new TypeError(u+" is ambiguous");t[h]=d}const n=e.length,r=e.charAt(0),a=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function c(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let u=0,h=0,f=0;const m=d.length;for(;f!==m&&d[f]===0;)f++,u++;const x=(m-f)*i+1>>>0,p=new Uint8Array(x);for(;f!==m;){let v=d[f],w=0;for(let C=x-1;(v!==0||w<h)&&C!==-1;C--,w++)v+=256*p[C]>>>0,p[C]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");h=w,f++}let g=x-h;for(;g!==x&&p[g]===0;)g++;let b=r.repeat(u);for(;g<x;++g)b+=e.charAt(p[g]);return b}function o(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;d[u]===r;)h++,u++;const m=(d.length-u)*a+1>>>0,x=new Uint8Array(m);for(;u<d.length;){const v=d.charCodeAt(u);if(v>255)return;let w=t[v];if(w===255)return;let C=0;for(let y=m-1;(w!==0||C<f)&&y!==-1;y--,C++)w+=n*x[y]>>>0,x[y]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");f=C,u++}let p=m-f;for(;p!==m&&x[p]===0;)p++;const g=new Uint8Array(h+(m-p));let b=h;for(;p!==m;)g[b++]=x[p++];return g}function l(d){const u=o(d);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:o,decode:l}}var Rw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Iw(Rw);var Dl={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ed=function(e,t){return Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Ed(e,t)};function Pw(e,t){Ed(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _d=function(){return _d=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_d.apply(this,arguments)};function Fw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Ow(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(c=e[o])&&(i=(a<3?c(i):a>3?c(t,n,i):c(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function Dw(e,t){return function(n,r){t(n,r,e)}}function Mw(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function zw(e,t,n,r){function a(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function o(u){try{d(r.next(u))}catch(h){c(h)}}function l(u){try{d(r.throw(u))}catch(h){c(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,l)}d((r=r.apply(e,t||[])).next())})}function Bw(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,c;return c={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(d){return function(u){return l([d,u])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,a=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(u){d=[6,u],a=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Lw(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function Uw(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Sd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qm(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],c;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){c={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return i}function $w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qm(arguments[t]));return e}function Ww(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],c=0,o=i.length;c<o;c++,a++)r[a]=i[c];return r}function ui(e){return this instanceof ui?(this.v=e,this):new ui(e)}function Hw(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,i=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(f){r[f]&&(a[f]=function(m){return new Promise(function(x,p){i.push([f,m,x,p])>1||o(f,m)})})}function o(f,m){try{l(r[f](m))}catch(x){h(i[0][3],x)}}function l(f){f.value instanceof ui?Promise.resolve(f.value.v).then(d,u):h(i[0][2],f)}function d(f){o("next",f)}function u(f){o("throw",f)}function h(f,m){f(m),i.shift(),i.length&&o(i[0][0],i[0][1])}}function qw(e){var t,n;return t={},r("next"),r("throw",function(a){throw a}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(a,i){t[a]=e[a]?function(c){return(n=!n)?{value:ui(e[a](c)),done:a==="return"}:i?i(c):c}:i}}function Gw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Sd=="function"?Sd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(c){return new Promise(function(o,l){c=e[i](c),a(o,l,c.done,c.value)})}}function a(i,c,o,l){Promise.resolve(l).then(function(d){i({value:d,done:o})},c)}}function Vw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Yw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Zw(e){return e&&e.__esModule?e:{default:e}}function Kw(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Jw(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const Xw=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return _d},__asyncDelegator:qw,__asyncGenerator:Hw,__asyncValues:Gw,__await:ui,__awaiter:zw,__classPrivateFieldGet:Kw,__classPrivateFieldSet:Jw,__createBinding:Lw,__decorate:Ow,__exportStar:Uw,__extends:Pw,__generator:Bw,__importDefault:Zw,__importStar:Yw,__makeTemplateObject:Vw,__metadata:Mw,__param:Dw,__read:Qm,__rest:Fw,__spread:$w,__spreadArrays:Ww,__values:Sd},Symbol.toStringTag,{value:"Module"})),Qw=km(Xw);var pr={},B0;function e1(){if(B0)return pr;B0=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.isBrowserCryptoAvailable=pr.getSubtleCrypto=pr.getBrowerCrypto=void 0;function e(){return globalThis?.crypto||globalThis?.msCrypto||{}}pr.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}pr.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return pr.isBrowserCryptoAvailable=n,pr}var gr={},L0;function t1(){if(L0)return gr;L0=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.isBrowser=gr.isNode=gr.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}gr.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}gr.isNode=t;function n(){return!e()&&!t()}return gr.isBrowser=n,gr}var U0;function n1(){return U0||(U0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Qw;t.__exportStar(e1(),e),t.__exportStar(t1(),e)}(Dl)),Dl}n1();var io={exports:{}},$0;function r1(){return $0||($0=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(c){var o=typeof i<"u"&&i||typeof self<"u"&&self||typeof i<"u"&&i||{},l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function d(D){return D&&DataView.prototype.isPrototypeOf(D)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(D){return D&&u.indexOf(Object.prototype.toString.call(D))>-1};function f(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function m(D){return typeof D!="string"&&(D=String(D)),D}function x(D){var L={next:function(){var G=D.shift();return{done:G===void 0,value:G}}};return l.iterable&&(L[Symbol.iterator]=function(){return L}),L}function p(D){this.map={},D instanceof p?D.forEach(function(L,G){this.append(G,L)},this):Array.isArray(D)?D.forEach(function(L){if(L.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+L.length);this.append(L[0],L[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(L){this.append(L,D[L])},this)}p.prototype.append=function(D,L){D=f(D),L=m(L);var G=this.map[D];this.map[D]=G?G+", "+L:L},p.prototype.delete=function(D){delete this.map[f(D)]},p.prototype.get=function(D){return D=f(D),this.has(D)?this.map[D]:null},p.prototype.has=function(D){return this.map.hasOwnProperty(f(D))},p.prototype.set=function(D,L){this.map[f(D)]=m(L)},p.prototype.forEach=function(D,L){for(var G in this.map)this.map.hasOwnProperty(G)&&D.call(L,this.map[G],G,this)},p.prototype.keys=function(){var D=[];return this.forEach(function(L,G){D.push(G)}),x(D)},p.prototype.values=function(){var D=[];return this.forEach(function(L){D.push(L)}),x(D)},p.prototype.entries=function(){var D=[];return this.forEach(function(L,G){D.push([G,L])}),x(D)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(D){if(!D._noBody){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}}function b(D){return new Promise(function(L,G){D.onload=function(){L(D.result)},D.onerror=function(){G(D.error)}})}function v(D){var L=new FileReader,G=b(L);return L.readAsArrayBuffer(D),G}function w(D){var L=new FileReader,G=b(L),z=/charset=([A-Za-z0-9_-]+)/.exec(D.type),$=z?z[1]:"utf-8";return L.readAsText(D,$),G}function C(D){for(var L=new Uint8Array(D),G=new Array(L.length),z=0;z<L.length;z++)G[z]=String.fromCharCode(L[z]);return G.join("")}function y(D){if(D.slice)return D.slice(0);var L=new Uint8Array(D.byteLength);return L.set(new Uint8Array(D)),L.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:l.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:l.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():l.arrayBuffer&&l.blob&&d(D)?(this._bodyArrayBuffer=y(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||h(D))?this._bodyArrayBuffer=y(D):this._bodyText=D=Object.prototype.toString.call(D):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var D=g(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=g(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var D=g(this);if(D)return D;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var S=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function R(D){var L=D.toUpperCase();return S.indexOf(L)>-1?L:D}function I(D,L){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');L=L||{};var G=L.body;if(D instanceof I){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,L.headers||(this.headers=new p(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!G&&D._bodyInit!=null&&(G=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=L.credentials||this.credentials||"same-origin",(L.headers||!this.headers)&&(this.headers=new p(L.headers)),this.method=R(L.method||this.method||"GET"),this.mode=L.mode||this.mode||null,this.signal=L.signal||this.signal||function(){if("AbortController"in o){var ne=new AbortController;return ne.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(G),(this.method==="GET"||this.method==="HEAD")&&(L.cache==="no-store"||L.cache==="no-cache")){var z=/([?&])_=[^&]*/;if(z.test(this.url))this.url=this.url.replace(z,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function T(D){var L=new FormData;return D.trim().split("&").forEach(function(G){if(G){var z=G.split("="),$=z.shift().replace(/\+/g," "),ne=z.join("=").replace(/\+/g," ");L.append(decodeURIComponent($),decodeURIComponent(ne))}}),L}function M(D){var L=new p,G=D.replace(/\r?\n[\t ]+/g," ");return G.split("\r").map(function(z){return z.indexOf(`
`)===0?z.substr(1,z.length):z}).forEach(function(z){var $=z.split(":"),ne=$.shift().trim();if(ne){var B=$.join(":").trim();try{L.append(ne,B)}catch(H){console.warn("Response "+H.message)}}}),L}E.call(I.prototype);function P(D,L){if(!(this instanceof P))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(L||(L={}),this.type="default",this.status=L.status===void 0?200:L.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=L.statusText===void 0?"":""+L.statusText,this.headers=new p(L.headers),this.url=L.url||"",this._initBody(D)}E.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},P.error=function(){var D=new P(null,{status:200,statusText:""});return D.ok=!1,D.status=0,D.type="error",D};var F=[301,302,303,307,308];P.redirect=function(D,L){if(F.indexOf(L)===-1)throw new RangeError("Invalid status code");return new P(null,{status:L,headers:{location:D}})},c.DOMException=o.DOMException;try{new c.DOMException}catch{c.DOMException=function(L,G){this.message=L,this.name=G;var z=Error(L);this.stack=z.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function k(D,L){return new Promise(function(G,z){var $=new I(D,L);if($.signal&&$.signal.aborted)return z(new c.DOMException("Aborted","AbortError"));var ne=new XMLHttpRequest;function B(){ne.abort()}ne.onload=function(){var q={statusText:ne.statusText,headers:M(ne.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(ne.status<200||ne.status>599)?q.status=200:q.status=ne.status,q.url="responseURL"in ne?ne.responseURL:q.headers.get("X-Request-URL");var Q="response"in ne?ne.response:ne.responseText;setTimeout(function(){G(new P(Q,q))},0)},ne.onerror=function(){setTimeout(function(){z(new TypeError("Network request failed"))},0)},ne.ontimeout=function(){setTimeout(function(){z(new TypeError("Network request timed out"))},0)},ne.onabort=function(){setTimeout(function(){z(new c.DOMException("Aborted","AbortError"))},0)};function H(q){try{return q===""&&o.location.href?o.location.href:q}catch{return q}}if(ne.open($.method,H($.url),!0),$.credentials==="include"?ne.withCredentials=!0:$.credentials==="omit"&&(ne.withCredentials=!1),"responseType"in ne&&(l.blob?ne.responseType="blob":l.arrayBuffer&&(ne.responseType="arraybuffer")),L&&typeof L.headers=="object"&&!(L.headers instanceof p||o.Headers&&L.headers instanceof o.Headers)){var W=[];Object.getOwnPropertyNames(L.headers).forEach(function(q){W.push(f(q)),ne.setRequestHeader(q,m(L.headers[q]))}),$.headers.forEach(function(q,Q){W.indexOf(Q)===-1&&ne.setRequestHeader(Q,q)})}else $.headers.forEach(function(q,Q){ne.setRequestHeader(Q,q)});$.signal&&($.signal.addEventListener("abort",B),ne.onreadystatechange=function(){ne.readyState===4&&$.signal.removeEventListener("abort",B)}),ne.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return k.polyfill=!0,o.fetch||(o.fetch=k,o.Headers=p,o.Request=I,o.Response=P),c.Headers=p,c.Request=I,c.Response=P,c.fetch=k,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var a=n.fetch?n:r;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t}(io,io.exports)),io.exports}r1();let cs=null;const Lr={getSIWX(){return ot.state.siwx},async initializeIfEnabled(e=me.getActiveCaipAddress()){const t=ot.state.siwx;if(!(t&&e))return;const[n,r,a]=e.split(":");if(me.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(ot.state.remoteFeatures?.emailCapture){const c=me.getAccountData(n)?.user;await Rt.open({view:"DataCapture",data:{email:c?.email??void 0}});return}if(cs&&await cs,(await t.getSessions(`${n}:${r}`,a)).length)return;await Rt.open({view:"SIWXSignMessage"})}catch(i){console.error("SIWXUtil:initializeIfEnabled",i),Ht.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Je._getClient()?.disconnect().catch(console.error),ct.reset("Connect"),qr.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=ot.state.siwx,t=tt.getPlainAddress(me.getActiveCaipAddress()),n=xs(),r=Je._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const a=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),i=a.toString();Ye.getConnectorId(n.chainNamespace)===Ce.CONNECTOR_ID.AUTH&&ct.pushTransactionStack({});const o=await r.signMessage(i);await e.addSession({data:a,message:i,signature:o}),me.setLastConnectedSIWECaipNetwork(n),Rt.close(),Ht.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(a){const i=this.getSIWXEventProperties();(!Rt.state.open||ct.state.view==="ApproveTransaction")&&await Rt.open({view:"SIWXSignMessage"}),qr.showError("Error signing message"),Ht.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",a)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const n=me.getLastConnectedSIWECaipNetwork();if(n){const r=await e?.getSessions(n?.caipNetworkId,tt.getPlainAddress(me.getActiveCaipAddress())||"");r&&r.length>0?await me.switchActiveNetwork(n):await Je.disconnect()}else await Je.disconnect()}else Rt.close();Rt.close(),Ht.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=me.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const a=await e?.getSessions(r.caipNetworkId,tt.getPlainAddress(me.getActiveCaipAddress())||"");a&&n.push(...a)})),n},async getSessions(e){const t=ot.state.siwx;let n=e?.address;if(!n){const a=me.getActiveCaipAddress();n=tt.getPlainAddress(a)}let r=e?.caipNetworkId;return r||(r=me.getActiveCaipNetwork()?.caipNetworkId),t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=ct.state.view==="ApproveTransaction",n=ct.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:a}){const i=Lr.getSIWX();if(!i||!a.includes(Ce.CHAIN.EVM)||ot.state.remoteFeatures?.emailCapture){const u=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:u.address,chainId:u.chainId,accounts:u.accounts}}const c=`${a}:${t}`,o=await i.createMessage({chainId:c,accountAddress:"<<AccountAddress>>"}),l={accountAddress:o.accountAddress,chainId:o.chainId,domain:o.domain,uri:o.uri,version:o.version,nonce:o.nonce,notBefore:o.notBefore,statement:o.statement,resources:o.resources,requestId:o.requestId,issuedAt:o.issuedAt,expirationTime:o.expirationTime,serializedMessage:o.toString()},d=await e.connect({chainId:t,socialUri:n,siwxMessage:l,preferredAccountType:r});return l.accountAddress=d.address,l.serializedMessage=d.message||"",d.signature&&d.message&&await Lr.addEmbeddedWalletSession(l,d.message,d.signature),{address:d.address,chainId:d.chainId,accounts:d.accounts}},async addEmbeddedWalletSession(e,t,n){if(cs)return cs;const r=Lr.getSIWX();return r?(cs=r.addSession({data:e,message:t,signature:n}).finally(()=>{cs=null}),cs):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=Lr.getSIWX(),a=xs(),i=new Set(t.map(l=>l.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const c=await r.createMessage({chainId:xs()?.caipNetworkId||"",accountAddress:""}),o=await e.authenticate({nonce:c.nonce,domain:c.domain,uri:c.uri,exp:c.expirationTime,iat:c.issuedAt,nbf:c.notBefore,requestId:c.requestId,version:c.version,resources:c.resources,statement:c.statement,chainId:c.chainId,methods:n,chains:[c.chainId,...t.filter(l=>l!==c.chainId)]});if(qr.showLoading("Authenticating...",{autoClose:!1}),Et.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),o?.auths?.length){const l=o.auths.map(d=>{const u=e.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||c.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:u,signature:d.s.s,cacao:d}});try{await r.setSessions(l),a&&me.setLastConnectedSIWECaipNetwork(a),Ht.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Lr.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),Ht.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Lr.getSIWXEventProperties()}),await e.disconnect().catch(console.error),d}finally{qr.hide()}}return!0},getSIWXEventProperties(){const e=me.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:me.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:ir(e)===sn.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},_n={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:Ce.CHAIN.EVM,CONNECTOR_TYPE_AUTH:"AUTH"},Sn={ConnectorExplorerIds:{[Ce.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ce.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ce.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ce.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ce.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[_n.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[_n.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[_n.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[_n.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[_n.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[_n.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[_n.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[_n.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[_n.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[_n.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[_n.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ce.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ce.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ce.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ce.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ce.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ce.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ce.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ce.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ce.CONNECTOR_ID.COINBASE]:"Coinbase",[Ce.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ce.CONNECTOR_ID.LEDGER]:"Ledger",[Ce.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ce.CONNECTOR_ID.INJECTED]:"INJECTED",[Ce.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ce.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ce.CONNECTOR_ID.AUTH]:"AUTH",[_n.CONNECTOR_TYPE_AUTH]:"AUTH"}},yn={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${_n.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const e=me.state.activeChain;return Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>Ye.getConnectorId(t)===Ce.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(a=>{async function i(){return r+=1,await e()?a(!0):r>=n?a(!1):(setTimeout(i,t),null)}i()})}},s1=new AbortController,Rr={EmbeddedWalletAbortController:s1,ALERT_ERRORS:{IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."}}},a1="rpc.walletconnect.org";function W0(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const Ml=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Ya={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===a1}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:Ce.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${Ce.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return Ml.includes(t)?W0(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const a=this.getChainNamespace(e),i=this.getCaipNetworkId(e),c=e.rpcUrls?.default?.http?.[0],o=this.getDefaultRpcUrl(e,i,n),l=e?.rpcUrls?.chainDefault?.http?.[0]||c,d=r?.[i]?.map(f=>f.url)||[],u=[...d,...o?[o]:[]],h=[...d];return l&&!h.includes(l)&&h.push(l),{...e,chainNamespace:a,caipNetworkId:i,assets:{imageId:Sn.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:u},chainDefault:{http:h}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(a=>Ya.extendCaipNetwork(a,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(a=>{r.push(Xi(a.url,a.config))}),Ml.includes(e.caipNetworkId)&&r.push(Xi(W0(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(a=>{r.push(Xi(a))}),i0(r)},extendWagmiTransports(e,t,n){if(Ml.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return i0([n,Xi(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:Ce.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=Pe.getActiveCaipNetworkId(),n=me.getAllRequestedCaipNetworks(),r=Array.from(me.state.chains?.keys()||[]),a=t?.split(":")[0],i=a?r.includes(a):!1,c=n?.find(l=>l.caipNetworkId===t);return i&&!c&&t?this.getUnsupportedNetwork(t):c||e||n?.[0]}},H0={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},rn={set(e,t){Xn.isClient&&localStorage.setItem(`${Ue.STORAGE_KEY}${e}`,t)},get(e){return Xn.isClient?localStorage.getItem(`${Ue.STORAGE_KEY}${e}`):null},delete(e,t){Xn.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Ue.STORAGE_KEY}${e}`))}},oo=30*1e3,Xn={checkIfAllowedToTriggerEmail(){const e=rn.get(Ue.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<oo){const n=Math.ceil((oo-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const e=rn.get(Ue.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<oo)return Math.ceil((oo-t)/1e3)}return 0},checkIfRequestExists(e){return sn.NOT_SAFE_RPC_METHODS.includes(e.method)||sn.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(H0.transactionHash)||e?.match(H0.signedMessage))?Ue.RPC_RESPONSE_TYPE_TX:Ue.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return sn.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};var vt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const c of a)i[c]=c;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),c={};for(const o of i)c[o]=a[o];return e.objectValues(c)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&i.push(c);return i},e.find=(a,i)=>{for(const c of a)if(i(c))return c},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(vt||(vt={}));var kd;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(kd||(kd={}));const Me=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ur=e=>{switch(typeof e){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return isNaN(e)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(e)?Me.array:e===null?Me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Me.promise:typeof Map<"u"&&e instanceof Map?Me.map:typeof Set<"u"&&e instanceof Set?Me.set:typeof Date<"u"&&e instanceof Date?Me.date:Me.object;default:return Me.unknown}},Ae=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),i1=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Wn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const c of i.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let o=r,l=0;for(;l<c.path.length;){const d=c.path[l];l===c.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(c))):o[d]=o[d]||{_errors:[]},o=o[d],l++}}};return a(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wn.create=e=>new Wn(e);const hi=(e,t)=>{let n;switch(e.code){case Ae.invalid_type:e.received===Me.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,vt.jsonStringifyReplacer)}`;break;case Ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${vt.joinValues(e.keys,", ")}`;break;case Ae.invalid_union:n="Invalid input";break;case Ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vt.joinValues(e.options)}`;break;case Ae.invalid_enum_value:n=`Invalid enum value. Expected ${vt.joinValues(e.options)}, received '${e.received}'`;break;case Ae.invalid_arguments:n="Invalid function arguments";break;case Ae.invalid_return_type:n="Invalid function return type";break;case Ae.invalid_date:n="Invalid date";break;case Ae.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:vt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ae.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ae.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ae.custom:n="Invalid input";break;case Ae.invalid_intersection_types:n="Intersection results could not be merged";break;case Ae.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ae.not_finite:n="Number must be finite";break;default:n=t.defaultError,vt.assertNever(e)}return{message:n}};let ep=hi;function o1(e){ep=e}function Sc(){return ep}const kc=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],c={...a,path:i};let o="";const l=r.filter(d=>!!d).slice().reverse();for(const d of l)o=d(c,{data:t,defaultError:o}).message;return{...a,path:i,message:a.message||o}},c1=[];function Le(e,t){const n=kc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Sc(),hi].filter(r=>!!r)});e.common.issues.push(n)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return lt;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n)r.push({key:await a.key,value:await a.value});return ln.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:c}=a;if(i.status==="aborted"||c.status==="aborted")return lt;i.status==="dirty"&&t.dirty(),c.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(r[i.value]=c.value)}return{status:t.value,value:r}}}const lt=Object.freeze({status:"aborted"}),tp=e=>({status:"dirty",value:e}),fn=e=>({status:"valid",value:e}),jd=e=>e.status==="aborted",Ad=e=>e.status==="dirty",fi=e=>e.status==="valid",jc=e=>typeof Promise<"u"&&e instanceof Promise;var et;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(et||(et={}));class or{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const q0=(e,t)=>{if(fi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wn(e.common.issues);return this._error=n,this._error}}};function ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(c,o)=>c.code!=="invalid_type"?{message:o.defaultError}:typeof o.data>"u"?{message:r??o.defaultError}:{message:n??o.defaultError},description:a}}class ht{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ur(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ur(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ln,ctx:{common:t.parent.common,data:t.data,parsedType:Ur(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(jc(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ur(t)},i=this._parseSync({data:t,path:a.path,parent:a});return q0(a,i)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ur(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(jc(a)?a:Promise.resolve(a));return q0(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const c=t(a),o=()=>i.addIssue({code:Ae.custom,...r(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(l=>l?!0:(o(),!1)):c?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new qn({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return wr.create(this,this._def)}nullable(){return Ts.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hn.create(this,this._def)}promise(){return pa.create(this,this._def)}or(t){return xi.create([this,t],this._def)}and(t){return bi.create(this,t,this._def)}transform(t){return new qn({...ut(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ni({...ut(this._def),innerType:this,defaultValue:n,typeName:at.ZodDefault})}brand(){return new rp({typeName:at.ZodBranded,type:this,...ut(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Rc({...ut(this._def),innerType:this,catchValue:n,typeName:at.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Bi.create(this,t)}readonly(){return Fc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const l1=/^c[^\s-]{8,}$/i,d1=/^[a-z][a-z0-9]*$/,u1=/^[0-9A-HJKMNP-TV-Z]{26}$/,h1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,f1=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,m1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zl;const p1=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,g1=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,x1=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function b1(e,t){return!!((t==="v4"||!t)&&p1.test(e)||(t==="v6"||!t)&&g1.test(e))}class Ln extends ht{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Me.string){const i=this._getOrReturnCtx(t);return Le(i,{code:Ae.invalid_type,expected:Me.string,received:i.parsedType}),lt}const r=new ln;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const c=t.data.length>i.value,o=t.data.length<i.value;(c||o)&&(a=this._getOrReturnCtx(t,a),c?Le(a,{code:Ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Le(a,{code:Ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")f1.test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"email",code:Ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")zl||(zl=new RegExp(m1,"u")),zl.test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"emoji",code:Ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")h1.test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"uuid",code:Ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")l1.test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"cuid",code:Ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")d1.test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"cuid2",code:Ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")u1.test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"ulid",code:Ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Le(a,{validation:"url",code:Ae.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"regex",code:Ae.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?x1(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?b1(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Le(a,{validation:"ip",code:Ae.invalid_string,message:i.message}),r.dirty()):vt.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:Ae.invalid_string,...et.errToObj(r)})}_addCheck(t){return new Ln({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...et.errToObj(t)})}url(t){return this._addCheck({kind:"url",...et.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...et.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...et.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...et.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...et.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...et.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...et.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,...et.errToObj(t?.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...et.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...et.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...et.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...et.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...et.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...et.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...et.errToObj(n)})}nonempty(t){return this.min(1,et.errToObj(t))}trim(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ln({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ln.create=e=>{var t;return new Ln({checks:[],typeName:at.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ut(e)})};function v1(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),c=parseInt(t.toFixed(a).replace(".",""));return i%c/Math.pow(10,a)}class Kr extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Me.number){const i=this._getOrReturnCtx(t);return Le(i,{code:Ae.invalid_type,expected:Me.number,received:i.parsedType}),lt}let r;const a=new ln;for(const i of this._def.checks)i.kind==="int"?vt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?v1(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.not_finite,message:i.message}),a.dirty()):vt.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,et.toString(n))}gt(t,n){return this.setLimit("min",t,!1,et.toString(n))}lte(t,n){return this.setLimit("max",t,!0,et.toString(n))}lt(t,n){return this.setLimit("max",t,!1,et.toString(n))}setLimit(t,n,r,a){return new Kr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:et.toString(a)}]})}_addCheck(t){return new Kr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:et.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:et.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:et.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:et.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:et.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:et.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:et.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:et.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:et.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&vt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Kr.create=e=>new Kr({checks:[],typeName:at.ZodNumber,coerce:e?.coerce||!1,...ut(e)});class Jr extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Me.bigint){const i=this._getOrReturnCtx(t);return Le(i,{code:Ae.invalid_type,expected:Me.bigint,received:i.parsedType}),lt}let r;const a=new ln;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Le(r,{code:Ae.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):vt.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,et.toString(n))}gt(t,n){return this.setLimit("min",t,!1,et.toString(n))}lte(t,n){return this.setLimit("max",t,!0,et.toString(n))}lt(t,n){return this.setLimit("max",t,!1,et.toString(n))}setLimit(t,n,r,a){return new Jr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:et.toString(a)}]})}_addCheck(t){return new Jr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:et.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:et.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:et.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:et.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:et.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Jr.create=e=>{var t;return new Jr({checks:[],typeName:at.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...ut(e)})};class mi extends ht{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Me.boolean){const r=this._getOrReturnCtx(t);return Le(r,{code:Ae.invalid_type,expected:Me.boolean,received:r.parsedType}),lt}return fn(t.data)}}mi.create=e=>new mi({typeName:at.ZodBoolean,coerce:e?.coerce||!1,...ut(e)});class js extends ht{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Me.date){const i=this._getOrReturnCtx(t);return Le(i,{code:Ae.invalid_type,expected:Me.date,received:i.parsedType}),lt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Le(i,{code:Ae.invalid_date}),lt}const r=new ln;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Le(a,{code:Ae.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):vt.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new js({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:et.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:et.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}js.create=e=>new js({checks:[],coerce:e?.coerce||!1,typeName:at.ZodDate,...ut(e)});class Ac extends ht{_parse(t){if(this._getType(t)!==Me.symbol){const r=this._getOrReturnCtx(t);return Le(r,{code:Ae.invalid_type,expected:Me.symbol,received:r.parsedType}),lt}return fn(t.data)}}Ac.create=e=>new Ac({typeName:at.ZodSymbol,...ut(e)});class pi extends ht{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Le(r,{code:Ae.invalid_type,expected:Me.undefined,received:r.parsedType}),lt}return fn(t.data)}}pi.create=e=>new pi({typeName:at.ZodUndefined,...ut(e)});class gi extends ht{_parse(t){if(this._getType(t)!==Me.null){const r=this._getOrReturnCtx(t);return Le(r,{code:Ae.invalid_type,expected:Me.null,received:r.parsedType}),lt}return fn(t.data)}}gi.create=e=>new gi({typeName:at.ZodNull,...ut(e)});class ma extends ht{constructor(){super(...arguments),this._any=!0}_parse(t){return fn(t.data)}}ma.create=e=>new ma({typeName:at.ZodAny,...ut(e)});class Cs extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fn(t.data)}}Cs.create=e=>new Cs({typeName:at.ZodUnknown,...ut(e)});class Cr extends ht{_parse(t){const n=this._getOrReturnCtx(t);return Le(n,{code:Ae.invalid_type,expected:Me.never,received:n.parsedType}),lt}}Cr.create=e=>new Cr({typeName:at.ZodNever,...ut(e)});class Tc extends ht{_parse(t){if(this._getType(t)!==Me.undefined){const r=this._getOrReturnCtx(t);return Le(r,{code:Ae.invalid_type,expected:Me.void,received:r.parsedType}),lt}return fn(t.data)}}Tc.create=e=>new Tc({typeName:at.ZodVoid,...ut(e)});class Hn extends ht{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==Me.array)return Le(n,{code:Ae.invalid_type,expected:Me.array,received:n.parsedType}),lt;if(a.exactLength!==null){const c=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(c||o)&&(Le(n,{code:c?Ae.too_big:Ae.too_small,minimum:o?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Le(n,{code:Ae.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Le(n,{code:Ae.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,o)=>a.type._parseAsync(new or(n,c,n.path,o)))).then(c=>ln.mergeArray(r,c));const i=[...n.data].map((c,o)=>a.type._parseSync(new or(n,c,n.path,o)));return ln.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Hn({...this._def,minLength:{value:t,message:et.toString(n)}})}max(t,n){return new Hn({...this._def,maxLength:{value:t,message:et.toString(n)}})}length(t,n){return new Hn({...this._def,exactLength:{value:t,message:et.toString(n)}})}nonempty(t){return this.min(1,t)}}Hn.create=(e,t)=>new Hn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...ut(t)});function ta(e){if(e instanceof $t){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=wr.create(ta(r))}return new $t({...e._def,shape:()=>t})}else return e instanceof Hn?new Hn({...e._def,type:ta(e.element)}):e instanceof wr?wr.create(ta(e.unwrap())):e instanceof Ts?Ts.create(ta(e.unwrap())):e instanceof cr?cr.create(e.items.map(t=>ta(t))):e}class $t extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=vt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Me.object){const d=this._getOrReturnCtx(t);return Le(d,{code:Ae.invalid_type,expected:Me.object,received:d.parsedType}),lt}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:c}=this._getCached(),o=[];if(!(this._def.catchall instanceof Cr&&this._def.unknownKeys==="strip"))for(const d in a.data)c.includes(d)||o.push(d);const l=[];for(const d of c){const u=i[d],h=a.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new or(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Cr){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")o.length>0&&(Le(a,{code:Ae.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const h=a.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new or(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of l){const h=await u.key;d.push({key:h,value:await u.value,alwaysSet:u.alwaysSet})}return d}).then(d=>ln.mergeObjectSync(r,d)):ln.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return et.errToObj,new $t({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,c,o;const l=(c=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&c!==void 0?c:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=et.errToObj(t).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new $t({...this._def,unknownKeys:"strip"})}passthrough(){return new $t({...this._def,unknownKeys:"passthrough"})}extend(t){return new $t({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new $t({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new $t({...this._def,catchall:t})}pick(t){const n={};return vt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new $t({...this._def,shape:()=>n})}omit(t){const n={};return vt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new $t({...this._def,shape:()=>n})}deepPartial(){return ta(this)}partial(t){const n={};return vt.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new $t({...this._def,shape:()=>n})}required(t){const n={};return vt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof wr;)i=i._def.innerType;n[r]=i}}),new $t({...this._def,shape:()=>n})}keyof(){return np(vt.objectKeys(this.shape))}}$t.create=(e,t)=>new $t({shape:()=>e,unknownKeys:"strip",catchall:Cr.create(),typeName:at.ZodObject,...ut(t)});$t.strictCreate=(e,t)=>new $t({shape:()=>e,unknownKeys:"strict",catchall:Cr.create(),typeName:at.ZodObject,...ut(t)});$t.lazycreate=(e,t)=>new $t({shape:e,unknownKeys:"strip",catchall:Cr.create(),typeName:at.ZodObject,...ut(t)});class xi extends ht{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const c=i.map(o=>new Wn(o.ctx.common.issues));return Le(n,{code:Ae.invalid_union,unionErrors:c}),lt}if(n.common.async)return Promise.all(r.map(async i=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(a);{let i;const c=[];for(const l of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&c.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=c.map(l=>new Wn(l));return Le(n,{code:Ae.invalid_union,unionErrors:o}),lt}}get options(){return this._def.options}}xi.create=(e,t)=>new xi({options:e,typeName:at.ZodUnion,...ut(t)});const _o=e=>e instanceof yi?_o(e.schema):e instanceof qn?_o(e.innerType()):e instanceof wi?[e.value]:e instanceof Xr?e.options:e instanceof Ci?Object.keys(e.enum):e instanceof Ni?_o(e._def.innerType):e instanceof pi?[void 0]:e instanceof gi?[null]:null;class al extends ht{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.object)return Le(n,{code:Ae.invalid_type,expected:Me.object,received:n.parsedType}),lt;const r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Le(n,{code:Ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const i of n){const c=_o(i.shape[t]);if(!c)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of c){if(a.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);a.set(o,i)}}return new al({typeName:at.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...ut(r)})}}function Td(e,t){const n=Ur(e),r=Ur(t);if(e===t)return{valid:!0,data:e};if(n===Me.object&&r===Me.object){const a=vt.objectKeys(t),i=vt.objectKeys(e).filter(o=>a.indexOf(o)!==-1),c={...e,...t};for(const o of i){const l=Td(e[o],t[o]);if(!l.valid)return{valid:!1};c[o]=l.data}return{valid:!0,data:c}}else if(n===Me.array&&r===Me.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const c=e[i],o=t[i],l=Td(c,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return n===Me.date&&r===Me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class bi extends ht{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,c)=>{if(jd(i)||jd(c))return lt;const o=Td(i.value,c.value);return o.valid?((Ad(i)||Ad(c))&&n.dirty(),{status:n.value,value:o.data}):(Le(r,{code:Ae.invalid_intersection_types}),lt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,c])=>a(i,c)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}bi.create=(e,t,n)=>new bi({left:e,right:t,typeName:at.ZodIntersection,...ut(n)});class cr extends ht{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.array)return Le(r,{code:Ae.invalid_type,expected:Me.array,received:r.parsedType}),lt;if(r.data.length<this._def.items.length)return Le(r,{code:Ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&r.data.length>this._def.items.length&&(Le(r,{code:Ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((c,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new or(r,c,r.path,o)):null}).filter(c=>!!c);return r.common.async?Promise.all(i).then(c=>ln.mergeArray(n,c)):ln.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new cr({...this._def,rest:t})}}cr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new cr({items:e,typeName:at.ZodTuple,rest:null,...ut(t)})};class vi extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.object)return Le(r,{code:Ae.invalid_type,expected:Me.object,received:r.parsedType}),lt;const a=[],i=this._def.keyType,c=this._def.valueType;for(const o in r.data)a.push({key:i._parse(new or(r,o,r.path,o)),value:c._parse(new or(r,r.data[o],r.path,o))});return r.common.async?ln.mergeObjectAsync(n,a):ln.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ht?new vi({keyType:t,valueType:n,typeName:at.ZodRecord,...ut(r)}):new vi({keyType:Ln.create(),valueType:t,typeName:at.ZodRecord,...ut(n)})}}class Ic extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.map)return Le(r,{code:Ae.invalid_type,expected:Me.map,received:r.parsedType}),lt;const a=this._def.keyType,i=this._def.valueType,c=[...r.data.entries()].map(([o,l],d)=>({key:a._parse(new or(r,o,r.path,[d,"key"])),value:i._parse(new or(r,l,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of c){const d=await l.key,u=await l.value;if(d.status==="aborted"||u.status==="aborted")return lt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(d.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of c){const d=l.key,u=l.value;if(d.status==="aborted"||u.status==="aborted")return lt;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(d.value,u.value)}return{status:n.value,value:o}}}}Ic.create=(e,t,n)=>new Ic({valueType:t,keyType:e,typeName:at.ZodMap,...ut(n)});class As extends ht{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.set)return Le(r,{code:Ae.invalid_type,expected:Me.set,received:r.parsedType}),lt;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Le(r,{code:Ae.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Le(r,{code:Ae.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function c(l){const d=new Set;for(const u of l){if(u.status==="aborted")return lt;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((l,d)=>i._parse(new or(r,l,r.path,d)));return r.common.async?Promise.all(o).then(l=>c(l)):c(o)}min(t,n){return new As({...this._def,minSize:{value:t,message:et.toString(n)}})}max(t,n){return new As({...this._def,maxSize:{value:t,message:et.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}As.create=(e,t)=>new As({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...ut(t)});class ia extends ht{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.function)return Le(n,{code:Ae.invalid_type,expected:Me.function,received:n.parsedType}),lt;function r(o,l){return kc({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sc(),hi].filter(d=>!!d),issueData:{code:Ae.invalid_arguments,argumentsError:l}})}function a(o,l){return kc({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sc(),hi].filter(d=>!!d),issueData:{code:Ae.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof pa){const o=this;return fn(async function(...l){const d=new Wn([]),u=await o._def.args.parseAsync(l,i).catch(m=>{throw d.addIssue(r(l,m)),d}),h=await Reflect.apply(c,this,u);return await o._def.returns._def.type.parseAsync(h,i).catch(m=>{throw d.addIssue(a(h,m)),d})})}else{const o=this;return fn(function(...l){const d=o._def.args.safeParse(l,i);if(!d.success)throw new Wn([r(l,d.error)]);const u=Reflect.apply(c,this,d.data),h=o._def.returns.safeParse(u,i);if(!h.success)throw new Wn([a(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ia({...this._def,args:cr.create(t).rest(Cs.create())})}returns(t){return new ia({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ia({args:t||cr.create([]).rest(Cs.create()),returns:n||Cs.create(),typeName:at.ZodFunction,...ut(r)})}}class yi extends ht{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}yi.create=(e,t)=>new yi({getter:e,typeName:at.ZodLazy,...ut(t)});class wi extends ht{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Le(n,{received:n.data,code:Ae.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:t.data}}get value(){return this._def.value}}wi.create=(e,t)=>new wi({value:e,typeName:at.ZodLiteral,...ut(t)});function np(e,t){return new Xr({values:e,typeName:at.ZodEnum,...ut(t)})}class Xr extends ht{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Le(n,{expected:vt.joinValues(r),received:n.parsedType,code:Ae.invalid_type}),lt}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return Le(n,{received:n.data,code:Ae.invalid_enum_value,options:r}),lt}return fn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Xr.create(t)}exclude(t){return Xr.create(this.options.filter(n=>!t.includes(n)))}}Xr.create=np;class Ci extends ht{_parse(t){const n=vt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Me.string&&r.parsedType!==Me.number){const a=vt.objectValues(n);return Le(r,{expected:vt.joinValues(a),received:r.parsedType,code:Ae.invalid_type}),lt}if(n.indexOf(t.data)===-1){const a=vt.objectValues(n);return Le(r,{received:r.data,code:Ae.invalid_enum_value,options:a}),lt}return fn(t.data)}get enum(){return this._def.values}}Ci.create=(e,t)=>new Ci({values:e,typeName:at.ZodNativeEnum,...ut(t)});class pa extends ht{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.promise&&n.common.async===!1)return Le(n,{code:Ae.invalid_type,expected:Me.promise,received:n.parsedType}),lt;const r=n.parsedType===Me.promise?n.data:Promise.resolve(n.data);return fn(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}pa.create=(e,t)=>new pa({type:e,typeName:at.ZodPromise,...ut(t)});class qn extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:c=>{Le(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const c=a.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(c).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:c,path:r.path,parent:r})}if(a.type==="refinement"){const c=o=>{const l=a.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?lt:(o.status==="dirty"&&n.dirty(),c(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?lt:(o.status==="dirty"&&n.dirty(),c(o.value).then(()=>({status:n.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!fi(c))return c;const o=a.transform(c.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>fi(c)?Promise.resolve(a.transform(c.value,i)).then(o=>({status:n.value,value:o})):c);vt.assertNever(a)}}qn.create=(e,t,n)=>new qn({schema:e,typeName:at.ZodEffects,effect:t,...ut(n)});qn.createWithPreprocess=(e,t,n)=>new qn({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...ut(n)});class wr extends ht{_parse(t){return this._getType(t)===Me.undefined?fn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wr.create=(e,t)=>new wr({innerType:e,typeName:at.ZodOptional,...ut(t)});class Ts extends ht{_parse(t){return this._getType(t)===Me.null?fn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ts.create=(e,t)=>new Ts({innerType:e,typeName:at.ZodNullable,...ut(t)});class Ni extends ht{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ni.create=(e,t)=>new Ni({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ut(t)});class Rc extends ht{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return jc(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Rc.create=(e,t)=>new Rc({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ut(t)});class Pc extends ht{_parse(t){if(this._getType(t)!==Me.nan){const r=this._getOrReturnCtx(t);return Le(r,{code:Ae.invalid_type,expected:Me.nan,received:r.parsedType}),lt}return{status:"valid",value:t.data}}}Pc.create=e=>new Pc({typeName:at.ZodNaN,...ut(e)});const y1=Symbol("zod_brand");class rp extends ht{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bi extends ht{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?lt:i.status==="dirty"?(n.dirty(),tp(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?lt:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Bi({in:t,out:n,typeName:at.ZodPipeline})}}class Fc extends ht{_parse(t){const n=this._def.innerType._parse(t);return fi(n)&&(n.value=Object.freeze(n.value)),n}}Fc.create=(e,t)=>new Fc({innerType:e,typeName:at.ZodReadonly,...ut(t)});const sp=(e,t={},n)=>e?ma.create().superRefine((r,a)=>{var i,c;if(!e(r)){const o=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(c=(i=o.fatal)!==null&&i!==void 0?i:n)!==null&&c!==void 0?c:!0,d=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...d,fatal:l})}}):ma.create(),w1={object:$t.lazycreate};var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const C1=(e,t={message:`Input not instance of ${e.name}`})=>sp(n=>n instanceof e,t),ap=Ln.create,ip=Kr.create,N1=Pc.create,E1=Jr.create,op=mi.create,_1=js.create,S1=Ac.create,k1=pi.create,j1=gi.create,A1=ma.create,T1=Cs.create,I1=Cr.create,R1=Tc.create,P1=Hn.create,F1=$t.create,O1=$t.strictCreate,D1=xi.create,M1=al.create,z1=bi.create,B1=cr.create,L1=vi.create,U1=Ic.create,$1=As.create,W1=ia.create,H1=yi.create,q1=wi.create,G1=Xr.create,V1=Ci.create,Y1=pa.create,G0=qn.create,Z1=wr.create,K1=Ts.create,J1=qn.createWithPreprocess,X1=Bi.create,Q1=()=>ap().optional(),e2=()=>ip().optional(),t2=()=>op().optional(),n2={string:e=>Ln.create({...e,coerce:!0}),number:e=>Kr.create({...e,coerce:!0}),boolean:e=>mi.create({...e,coerce:!0}),bigint:e=>Jr.create({...e,coerce:!0}),date:e=>js.create({...e,coerce:!0})},r2=lt;var U=Object.freeze({__proto__:null,defaultErrorMap:hi,setErrorMap:o1,getErrorMap:Sc,makeIssue:kc,EMPTY_PATH:c1,addIssueToContext:Le,ParseStatus:ln,INVALID:lt,DIRTY:tp,OK:fn,isAborted:jd,isDirty:Ad,isValid:fi,isAsync:jc,get util(){return vt},get objectUtil(){return kd},ZodParsedType:Me,getParsedType:Ur,ZodType:ht,ZodString:Ln,ZodNumber:Kr,ZodBigInt:Jr,ZodBoolean:mi,ZodDate:js,ZodSymbol:Ac,ZodUndefined:pi,ZodNull:gi,ZodAny:ma,ZodUnknown:Cs,ZodNever:Cr,ZodVoid:Tc,ZodArray:Hn,ZodObject:$t,ZodUnion:xi,ZodDiscriminatedUnion:al,ZodIntersection:bi,ZodTuple:cr,ZodRecord:vi,ZodMap:Ic,ZodSet:As,ZodFunction:ia,ZodLazy:yi,ZodLiteral:wi,ZodEnum:Xr,ZodNativeEnum:Ci,ZodPromise:pa,ZodEffects:qn,ZodTransformer:qn,ZodOptional:wr,ZodNullable:Ts,ZodDefault:Ni,ZodCatch:Rc,ZodNaN:Pc,BRAND:y1,ZodBranded:rp,ZodPipeline:Bi,ZodReadonly:Fc,custom:sp,Schema:ht,ZodSchema:ht,late:w1,get ZodFirstPartyTypeKind(){return at},coerce:n2,any:A1,array:P1,bigint:E1,boolean:op,date:_1,discriminatedUnion:M1,effect:G0,enum:G1,function:W1,instanceof:C1,intersection:z1,lazy:H1,literal:q1,map:U1,nan:N1,nativeEnum:V1,never:I1,null:j1,nullable:K1,number:ip,object:F1,oboolean:t2,onumber:e2,optional:Z1,ostring:Q1,pipeline:X1,preprocess:J1,promise:Y1,record:L1,set:$1,strictObject:O1,string:ap,symbol:S1,transformer:G0,tuple:B1,undefined:k1,union:D1,unknown:T1,void:R1,NEVER:r2,ZodIssueCode:Ae,quotelessJson:i1,ZodError:Wn});const Gt=U.object({message:U.string()});function ze(e){return U.literal(Ue[e])}const il=U.object({serializedMessage:U.string().optional(),accountAddress:U.string(),chainId:U.string(),notBefore:U.string().optional(),domain:U.string(),uri:U.string(),version:U.string(),nonce:U.string(),statement:U.string().optional(),resources:U.array(U.string()).optional(),requestId:U.string().optional(),issuedAt:U.string().optional(),expirationTime:U.string().optional()});U.object({accessList:U.array(U.string()),blockHash:U.string().nullable(),blockNumber:U.string().nullable(),chainId:U.string().or(U.number()),from:U.string(),gas:U.string(),hash:U.string(),input:U.string().nullable(),maxFeePerGas:U.string(),maxPriorityFeePerGas:U.string(),nonce:U.string(),r:U.string(),s:U.string(),to:U.string(),transactionIndex:U.string().nullable(),type:U.string(),v:U.string(),value:U.string()});const s2=U.object({chainId:U.string().or(U.number()),rpcUrl:U.optional(U.string())}),a2=U.object({email:U.string().email()}),i2=U.object({otp:U.string()}),o2=U.object({uri:U.string(),preferredAccountType:U.optional(U.string()),chainId:U.optional(U.string().or(U.number())),siwxMessage:U.optional(il),rpcUrl:U.optional(U.string())}),c2=U.object({chainId:U.optional(U.string().or(U.number())),preferredAccountType:U.optional(U.string()),socialUri:U.optional(U.string()),siwxMessage:U.optional(il),rpcUrl:U.optional(U.string())}),l2=U.object({provider:U.enum(["google","github","apple","facebook","x","discord"])}),d2=U.object({email:U.string().email()}),u2=U.object({otp:U.string()}),h2=U.object({otp:U.string()}),f2=U.object({themeMode:U.optional(U.enum(["light","dark"])),themeVariables:U.optional(U.record(U.string(),U.string().or(U.number()))),w3mThemeVariables:U.optional(U.record(U.string(),U.string()))}),m2=U.object({metadata:U.object({name:U.string(),description:U.string(),url:U.string(),icons:U.array(U.string())}).optional(),sdkVersion:U.string().optional(),sdkType:U.string().optional(),projectId:U.string()}),p2=U.object({type:U.string()}),g2=U.object({action:U.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),x2=U.object({url:U.string()}),b2=U.object({userName:U.string()}),v2=U.object({email:U.string().optional().nullable(),address:U.string(),chainId:U.string().or(U.number()),accounts:U.array(U.object({address:U.string(),type:U.enum([sn.ACCOUNT_TYPES.EOA,sn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:U.string().optional().nullable(),preferredAccountType:U.optional(U.string()),signature:U.string().optional(),message:U.string().optional(),siwxMessage:U.optional(il)}),y2=U.object({action:U.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),w2=U.object({email:U.string().email().optional().nullable(),address:U.string(),chainId:U.string().or(U.number()),smartAccountDeployed:U.optional(U.boolean()),accounts:U.array(U.object({address:U.string(),type:U.enum([sn.ACCOUNT_TYPES.EOA,sn.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:U.optional(U.string()),signature:U.string().optional(),message:U.string().optional(),siwxMessage:U.optional(il)}),C2=U.object({uri:U.string()}),N2=U.object({isConnected:U.boolean()}),E2=U.object({chainId:U.string().or(U.number())}),_2=U.object({chainId:U.string().or(U.number())}),S2=U.object({newEmail:U.string().email()}),k2=U.object({smartAccountEnabledNetworks:U.array(U.number())});U.object({address:U.string(),isDeployed:U.boolean()});const j2=U.object({version:U.string().optional()}),A2=U.object({type:U.string(),address:U.string()}),T2=U.any(),I2=U.object({method:U.literal("eth_accounts")}),R2=U.object({method:U.literal("eth_blockNumber")}),P2=U.object({method:U.literal("eth_call"),params:U.array(U.any())}),F2=U.object({method:U.literal("eth_chainId")}),O2=U.object({method:U.literal("eth_estimateGas"),params:U.array(U.any())}),D2=U.object({method:U.literal("eth_feeHistory"),params:U.array(U.any())}),M2=U.object({method:U.literal("eth_gasPrice")}),z2=U.object({method:U.literal("eth_getAccount"),params:U.array(U.any())}),B2=U.object({method:U.literal("eth_getBalance"),params:U.array(U.any())}),L2=U.object({method:U.literal("eth_getBlockByHash"),params:U.array(U.any())}),U2=U.object({method:U.literal("eth_getBlockByNumber"),params:U.array(U.any())}),$2=U.object({method:U.literal("eth_getBlockReceipts"),params:U.array(U.any())}),W2=U.object({method:U.literal("eth_getBlockTransactionCountByHash"),params:U.array(U.any())}),H2=U.object({method:U.literal("eth_getBlockTransactionCountByNumber"),params:U.array(U.any())}),q2=U.object({method:U.literal("eth_getCode"),params:U.array(U.any())}),G2=U.object({method:U.literal("eth_getFilterChanges"),params:U.array(U.any())}),V2=U.object({method:U.literal("eth_getFilterLogs"),params:U.array(U.any())}),Y2=U.object({method:U.literal("eth_getLogs"),params:U.array(U.any())}),Z2=U.object({method:U.literal("eth_getProof"),params:U.array(U.any())}),K2=U.object({method:U.literal("eth_getStorageAt"),params:U.array(U.any())}),J2=U.object({method:U.literal("eth_getTransactionByBlockHashAndIndex"),params:U.array(U.any())}),X2=U.object({method:U.literal("eth_getTransactionByBlockNumberAndIndex"),params:U.array(U.any())}),Q2=U.object({method:U.literal("eth_getTransactionByHash"),params:U.array(U.any())}),eC=U.object({method:U.literal("eth_getTransactionCount"),params:U.array(U.any())}),tC=U.object({method:U.literal("eth_getTransactionReceipt"),params:U.array(U.any())}),nC=U.object({method:U.literal("eth_getUncleCountByBlockHash"),params:U.array(U.any())}),rC=U.object({method:U.literal("eth_getUncleCountByBlockNumber"),params:U.array(U.any())}),sC=U.object({method:U.literal("eth_maxPriorityFeePerGas")}),aC=U.object({method:U.literal("eth_newBlockFilter")}),iC=U.object({method:U.literal("eth_newFilter"),params:U.array(U.any())}),oC=U.object({method:U.literal("eth_newPendingTransactionFilter")}),cC=U.object({method:U.literal("eth_sendRawTransaction"),params:U.array(U.any())}),lC=U.object({method:U.literal("eth_syncing"),params:U.array(U.any())}),dC=U.object({method:U.literal("eth_uninstallFilter"),params:U.array(U.any())}),V0=U.object({method:U.literal("personal_sign"),params:U.array(U.any())}),uC=U.object({method:U.literal("eth_signTypedData_v4"),params:U.array(U.any())}),hC=U.object({method:U.literal("eth_sendTransaction"),params:U.array(U.any())}),fC=U.object({method:U.literal("solana_signMessage"),params:U.object({message:U.string(),pubkey:U.string()})}),mC=U.object({method:U.literal("solana_signTransaction"),params:U.object({transaction:U.string()})}),pC=U.object({method:U.literal("solana_signAllTransactions"),params:U.object({transactions:U.array(U.string())})}),gC=U.object({method:U.literal("solana_signAndSendTransaction"),params:U.object({transaction:U.string(),options:U.object({skipPreflight:U.boolean().optional(),preflightCommitment:U.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:U.number().optional(),minContextSlot:U.number().optional()}).optional()})}),xC=U.object({method:U.literal("wallet_sendCalls"),params:U.array(U.object({chainId:U.string().or(U.number()).optional(),from:U.string().optional(),version:U.string().optional(),capabilities:U.any().optional(),calls:U.array(U.object({to:U.string().startsWith("0x"),data:U.string().startsWith("0x").optional(),value:U.string().optional()}))}))}),bC=U.object({method:U.literal("wallet_getCallsStatus"),params:U.array(U.string())}),vC=U.object({method:U.literal("wallet_getCapabilities"),params:U.array(U.string().or(U.number()).optional()).optional()}),yC=U.object({method:U.literal("wallet_grantPermissions"),params:U.array(U.any())}),wC=U.object({method:U.literal("wallet_revokePermissions"),params:U.any()}),CC=U.object({method:U.literal("wallet_getAssets"),params:U.any()}),Y0=U.object({token:U.string()}),Be=U.object({id:U.string().optional()}),Bl={appEvent:Be.extend({type:ze("APP_SWITCH_NETWORK"),payload:s2}).or(Be.extend({type:ze("APP_CONNECT_EMAIL"),payload:a2})).or(Be.extend({type:ze("APP_CONNECT_DEVICE")})).or(Be.extend({type:ze("APP_CONNECT_OTP"),payload:i2})).or(Be.extend({type:ze("APP_CONNECT_SOCIAL"),payload:o2})).or(Be.extend({type:ze("APP_GET_FARCASTER_URI")})).or(Be.extend({type:ze("APP_CONNECT_FARCASTER")})).or(Be.extend({type:ze("APP_GET_USER"),payload:U.optional(c2)})).or(Be.extend({type:ze("APP_GET_SOCIAL_REDIRECT_URI"),payload:l2})).or(Be.extend({type:ze("APP_SIGN_OUT")})).or(Be.extend({type:ze("APP_IS_CONNECTED"),payload:U.optional(Y0)})).or(Be.extend({type:ze("APP_GET_CHAIN_ID")})).or(Be.extend({type:ze("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Be.extend({type:ze("APP_INIT_SMART_ACCOUNT")})).or(Be.extend({type:ze("APP_SET_PREFERRED_ACCOUNT"),payload:p2})).or(Be.extend({type:ze("APP_RPC_REQUEST"),payload:V0.or(CC).or(I2).or(R2).or(P2).or(F2).or(O2).or(D2).or(M2).or(z2).or(B2).or(L2).or(U2).or($2).or(W2).or(H2).or(q2).or(G2).or(V2).or(Y2).or(Z2).or(K2).or(J2).or(X2).or(Q2).or(eC).or(tC).or(nC).or(rC).or(sC).or(aC).or(iC).or(oC).or(cC).or(lC).or(dC).or(V0).or(uC).or(hC).or(fC).or(mC).or(pC).or(gC).or(bC).or(xC).or(vC).or(yC).or(wC).and(U.object({chainId:U.string().or(U.number()).optional(),chainNamespace:U.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:U.string().optional()}))})).or(Be.extend({type:ze("APP_UPDATE_EMAIL"),payload:d2})).or(Be.extend({type:ze("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:u2})).or(Be.extend({type:ze("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:h2})).or(Be.extend({type:ze("APP_SYNC_THEME"),payload:f2})).or(Be.extend({type:ze("APP_SYNC_DAPP_DATA"),payload:m2})).or(Be.extend({type:ze("APP_RELOAD")})).or(Be.extend({type:ze("APP_RPC_ABORT")})),frameEvent:Be.extend({type:ze("FRAME_SWITCH_NETWORK_ERROR"),payload:Gt}).or(Be.extend({type:ze("FRAME_SWITCH_NETWORK_SUCCESS"),payload:_2})).or(Be.extend({type:ze("FRAME_CONNECT_EMAIL_SUCCESS"),payload:g2})).or(Be.extend({type:ze("FRAME_CONNECT_EMAIL_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:x2})).or(Be.extend({type:ze("FRAME_GET_FARCASTER_URI_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:b2})).or(Be.extend({type:ze("FRAME_CONNECT_FARCASTER_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_CONNECT_OTP_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_CONNECT_OTP_SUCCESS")})).or(Be.extend({type:ze("FRAME_CONNECT_DEVICE_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Be.extend({type:ze("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:v2})).or(Be.extend({type:ze("FRAME_CONNECT_SOCIAL_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_GET_USER_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_GET_USER_SUCCESS"),payload:w2})).or(Be.extend({type:ze("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:C2})).or(Be.extend({type:ze("FRAME_SIGN_OUT_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_SIGN_OUT_SUCCESS")})).or(Be.extend({type:ze("FRAME_IS_CONNECTED_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_IS_CONNECTED_SUCCESS"),payload:N2})).or(Be.extend({type:ze("FRAME_GET_CHAIN_ID_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_GET_CHAIN_ID_SUCCESS"),payload:E2})).or(Be.extend({type:ze("FRAME_RPC_REQUEST_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_RPC_REQUEST_SUCCESS"),payload:T2})).or(Be.extend({type:ze("FRAME_SESSION_UPDATE"),payload:Y0})).or(Be.extend({type:ze("FRAME_UPDATE_EMAIL_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_UPDATE_EMAIL_SUCCESS"),payload:y2})).or(Be.extend({type:ze("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Be.extend({type:ze("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:S2})).or(Be.extend({type:ze("FRAME_SYNC_THEME_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_SYNC_THEME_SUCCESS")})).or(Be.extend({type:ze("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Be.extend({type:ze("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:k2})).or(Be.extend({type:ze("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:A2})).or(Be.extend({type:ze("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_READY"),payload:j2})).or(Be.extend({type:ze("FRAME_RELOAD_ERROR"),payload:Gt})).or(Be.extend({type:ze("FRAME_RELOAD_SUCCESS")}))};function Ll(e,t={}){return typeof t?.type=="string"&&t?.type?.includes(e)}function NC({projectId:e,chainId:t,enableLogger:n,rpcUrl:r=Ce.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:a=!1}){const i=new URL(Py);return i.searchParams.set("projectId",e),i.searchParams.set("chainId",String(t)),i.searchParams.set("version",Oy),i.searchParams.set("enableLogger",String(n)),i.searchParams.set("rpcUrl",r),a&&i.searchParams.set("enableCloudAuthAccount","true"),i.toString()}class EC{constructor({projectId:t,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:a=!0,enableCloudAuthAccount:i=!1,rpcUrl:c=Ce.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const o=document.getElementById("w3m-iframe");this.iframe&&!o&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(o,l,d)=>{function u({data:h}){if(!Ll(Ue.FRAME_EVENT_KEY,h))return;const f=Bl.frameEvent.safeParse(h);if(!f.success){console.warn("W3mFrame: invalid frame event",f.error.message);return}f.data?.id===o&&(l(f.data),window.removeEventListener("message",u))}Xn.isClient&&(window.addEventListener("message",u),d.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:o=>{Xn.isClient&&window.addEventListener("message",({data:l})=>{if(!Ll(Ue.FRAME_EVENT_KEY,l))return;const d=Bl.frameEvent.safeParse(l);d.success?o(d.data):console.warn("W3mFrame: invalid frame event",d.error.message)})},onAppEvent:o=>{Xn.isClient&&window.addEventListener("message",({data:l})=>{if(!Ll(Ue.APP_EVENT_KEY,l))return;const d=Bl.appEvent.safeParse(l);d.success||console.warn("W3mFrame: invalid app event",d.error.message),o(l)})},postAppEvent:o=>{if(Xn.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(o,"*")}},postFrameEvent:o=>{if(Xn.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(o,"*")}}},this.projectId=t,this.frameLoadPromise=new Promise((o,l)=>{this.frameLoadPromiseResolver={resolve:o,reject:l}}),this.rpcUrl=c,n&&(this.frameLoadPromise=new Promise((o,l)=>{this.frameLoadPromiseResolver={resolve:o,reject:l}}),Xn.isClient)){const o=document.createElement("iframe");o.id="w3m-iframe",o.src=NC({projectId:t,chainId:r,enableLogger:a,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),o.name="w3m-secure-iframe",o.style.position="fixed",o.style.zIndex="999999",o.style.display="none",o.style.border="none",o.style.animationDelay="0s, 50ms",o.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",o.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=o,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(l=>{l.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const t=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...t)}}class _C{constructor(t){const n=Cw({level:Fy}),{logger:r,chunkLoggerController:a}=Tw({opts:n});this.logger=kw(r,this.constructor.name),this.chunkLoggerController=a,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:t})})}}class SC{constructor({projectId:t,chainId:n,enableLogger:r=!0,onTimeout:a,abortController:i,getActiveCaipNetwork:c,getCaipNetworks:o,enableCloudAuthAccount:l}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new _C(t)),this.abortController=i,this.getActiveCaipNetwork=c,this.getCaipNetworks=o;const d=this.getRpcUrl(n);this.w3mFrame=new EC({projectId:t,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:d,enableCloudAuthAccount:l}),this.onTimeout=a,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(t=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===Ue.FRAME_READY&&setTimeout(()=>{t()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!rn.get(Ue.EMAIL_LOGIN_USED_KEY)}getEmail(){return rn.get(Ue.EMAIL)}getUsername(){return rn.get(Ue.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:Ue.APP_RELOAD})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(t){try{Xn.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:Ue.APP_CONNECT_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:Ue.APP_CONNECT_DEVICE})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting device"),t}}async connectOtp(t){try{return this.appEvent({type:Ue.APP_CONNECT_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const t=await this.appEvent({type:Ue.APP_IS_CONNECTED});return t?.isConnected||this.deleteAuthLoginCache(),t}catch(t){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:t},"Error checking connection"),t}}async getChainId(){try{const t=await this.appEvent({type:Ue.APP_GET_CHAIN_ID});return this.setLastUsedChainId(t.chainId),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(t){try{return await this.init(),this.appEvent({type:Ue.APP_GET_SOCIAL_REDIRECT_URI,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(t){try{const n=await this.appEvent({type:Ue.APP_UPDATE_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(t){try{return this.appEvent({type:Ue.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(t){try{const n=await this.appEvent({type:Ue.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:t});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(t){try{return this.appEvent({type:Ue.APP_SYNC_THEME,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(t){try{return this.appEvent({type:Ue.APP_SYNC_DAPP_DATA,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const t=await this.appEvent({type:Ue.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(t.smartAccountEnabledNetworks),t}catch(t){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(t){try{return this.appEvent({type:Ue.APP_SET_PREFERRED_ACCOUNT,payload:{type:t}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(t){if(t?.socialUri)try{await this.init();const n=this.getRpcUrl(t.chainId),r=await this.appEvent({type:Ue.APP_CONNECT_SOCIAL,payload:{uri:t.socialUri,preferredAccountType:t.preferredAccountType,chainId:t.chainId,siwxMessage:t.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:t?.preferredAccountType,siwxMessage:t?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(t){try{await this.init();const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:Ue.APP_GET_USER,payload:{...t,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:t,chainId:n,preferredAccountType:r}){try{await this.init();const a=this.getRpcUrl(n),i=await this.appEvent({type:Ue.APP_CONNECT_SOCIAL,payload:{uri:t,chainId:n,rpcUrl:a,preferredAccountType:r}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(a){throw this.w3mLogger?.logger.error({error:a},"Error connecting social"),a}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:Ue.APP_GET_FARCASTER_URI})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){try{const t=await this.appEvent({type:Ue.APP_CONNECT_FARCASTER});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork({chainId:t}){try{const n=this.getRpcUrl(t),r=await this.appEvent({type:Ue.APP_SWITCH_NETWORK,payload:{chainId:t,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async n=>{const r=setTimeout(()=>{n()},3e3);await this.appEvent({type:Ue.APP_SIGN_OUT}),clearTimeout(r),n()})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error disconnecting"),t}}async request(t){const n=t;try{if(sn.GET_CHAIN_ID===t.method)return this.getLastUsedChainId();const r=t.chainNamespace||"eip155",a=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=a,n.rpcUrl=this.getRpcUrl(a),this.rpcRequestHandler?.(t);const i=await this.appEvent({type:Ue.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(i,n),i}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(t){this.rpcRequestHandler=t}onRpcSuccess(t){this.rpcSuccessHandler=t}onRpcError(t){this.rpcErrorHandler=t}onIsConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ue.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&t()})}onNotConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ue.FRAME_IS_CONNECTED_ERROR&&t(),n.type===Ue.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&t()})}onConnect(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ue.FRAME_GET_USER_SUCCESS&&t(n.payload)})}onSocialConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ue.FRAME_CONNECT_SOCIAL_SUCCESS&&t(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===Ue.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?t(n.payload):n.type===Ue.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&t({type:sn.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(this.openRpcRequests.map(async({abortController:t,method:n})=>{sn.SAFE_RPC_METHODS.includes(n)||t.abort(),await this.appEvent({type:Ue.APP_RPC_ABORT})})),this.openRpcRequests=[]}catch(t){this.w3mLogger?.logger.error({error:t},"Error aborting RPC request")}}async appEvent(t){let n,r;function a(l){return l.replace("@w3m-app/","")}const i=[Ue.APP_SYNC_DAPP_DATA,Ue.APP_SYNC_THEME,Ue.APP_SET_PREFERRED_ACCOUNT],c=a(t.type);return!this.w3mFrame.iframeIsReady&&!i.includes(t.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[Ue.APP_CONNECT_EMAIL,Ue.APP_CONNECT_DEVICE,Ue.APP_CONNECT_OTP,Ue.APP_CONNECT_SOCIAL,Ue.APP_GET_SOCIAL_REDIRECT_URI].map(a).includes(c)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((l,d)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:t,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...t,id:u});const h=new AbortController;if(c==="RPC_REQUEST"){const m=t;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:h}]}h.signal.addEventListener("abort",()=>{c==="RPC_REQUEST"?d(new Error("Request was aborted")):c!=="GET_FARCASTER_URI"&&d(new Error("Something went wrong"))});function f(m,x){m.id===u&&(x?.logger.info?.({framEvent:m,id:u},"Received frame response"),m.type===`@w3m-frame/${c}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&l(m.payload),l(void 0)):m.type===`@w3m-frame/${c}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&d(new Error(m.payload?.message||"An error occurred")),d(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,m=>f(m,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){rn.set(Ue.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(t){rn.set(Ue.SOCIAL_USERNAME,t)}setLoginSuccess(t){t&&rn.set(Ue.EMAIL,t),rn.set(Ue.EMAIL_LOGIN_USED_KEY,"true"),rn.delete(Ue.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){rn.delete(Ue.EMAIL_LOGIN_USED_KEY),rn.delete(Ue.EMAIL),rn.delete(Ue.LAST_USED_CHAIN_KEY),rn.delete(Ue.SOCIAL_USERNAME)}setLastUsedChainId(t){t&&rn.set(Ue.LAST_USED_CHAIN_KEY,String(t))}getLastUsedChainId(){const t=rn.get(Ue.LAST_USED_CHAIN_KEY)??void 0,n=Number(t);return isNaN(n)?t:n}persistSmartAccountEnabledNetworks(t){rn.set(Ue.SMART_ACCOUNT_ENABLED_NETWORKS,t.join(","))}getRpcUrl(t){let n=t===void 0?void 0:"eip155";typeof t=="string"&&(t.includes(":")?n=Hr.parseCaipNetworkId(t)?.chainNamespace:Number.isInteger(Number(t))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(t?r.find(i=>String(i.id)===String(t)||i.caipNetworkId===t):r[0])?.rpcUrls.default.http?.[0]}}class oa{constructor(){}static getInstance({projectId:t,chainId:n,enableLogger:r,onTimeout:a,abortController:i,getActiveCaipNetwork:c,getCaipNetworks:o}){return oa.instance||(oa.instance=new SC({projectId:t,chainId:n,enableLogger:r,onTimeout:a,abortController:i,getActiveCaipNetwork:c,getCaipNetworks:o,enableCloudAuthAccount:!!ot.state.remoteFeatures?.emailCapture})),oa.instance}}const kC={DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]},Z0={filterOutDuplicatesByRDNS(e){const t=ot.state.enableEIP6963?Ye.state.connectors:[],n=Pe.getRecentWallets(),r=t.map(o=>o.info?.rdns).filter(Boolean),a=n.map(o=>o.rdns).filter(Boolean),i=r.concat(a);if(i.includes("io.metamask.mobile")&&tt.isMobile()){const o=i.indexOf("io.metamask.mobile");i[o]="io.metamask"}return e.filter(o=>!(o?.rdns&&i.includes(String(o.rdns))||!o?.rdns&&t.some(d=>d.name===o.name)))},filterOutDuplicatesByIds(e){const t=Ye.state.connectors.filter(o=>o.type==="ANNOUNCED"||o.type==="INJECTED"),n=Pe.getRecentWallets(),r=t.map(o=>o.explorerId),a=n.map(o=>o.id),i=r.concat(a);return e.filter(o=>!i.includes(o?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=Ye.state,{featuredWalletIds:n}=ot.state,r=t.filter(c=>c.type==="ANNOUNCED").reduce((c,o)=>(o.info?.rdns&&(c[o.info.rdns]=!0),c),{});return e.map(c=>({...c,installed:!!c.rdns&&!!r[c.rdns??""]})).sort((c,o)=>{const l=Number(o.installed)-Number(c.installed);if(l!==0)return l;if(n?.length){const d=n.indexOf(c.id),u=n.indexOf(o.id);if(d!==-1&&u!==-1)return d-u;if(d!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const n=e?.connectMethodsOrder||ot.state.features?.connectMethodsOrder,r=t||Ye.state.connectors;if(n)return n;const{injected:a,announced:i}=So.getConnectorsByType(r,st.state.recommended,st.state.featured),c=a.filter(So.showConnector),o=i.filter(So.showConnector);return c.length||o.length?["wallet","email","social"]:kC.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&st.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&st.state.excludedWallets.some(r=>yn.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))}},So={getConnectorsByType(e,t,n){const{customWallets:r}=ot.state,a=Pe.getRecentWallets(),i=Z0.filterOutDuplicateWallets(t),c=Z0.filterOutDuplicateWallets(n),o=e.filter(h=>h.type==="MULTI_CHAIN"),l=e.filter(h=>h.type==="ANNOUNCED"),d=e.filter(h=>h.type==="INJECTED"),u=e.filter(h=>h.type==="EXTERNAL");return{custom:r,recent:a,external:u,multiChain:o,announced:l,injected:d,recommended:i,featured:c}},showConnector(e){const t=e.info?.rdns,n=!!t&&st.state.excludedWallets.some(a=>!!a.rdns&&a.rdns===t),r=!!e.name&&st.state.excludedWallets.some(a=>yn.isLowerCaseMatch(a.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!tt.isMobile()||tt.isMobile()&&!t&&!Je.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(me.state.chains.values()).some(n=>Ye.getConnectorId(n.namespace)===Ce.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:a,injected:i,multiChain:c,external:o,overriddenConnectors:l=ot.state.features?.connectorTypeOrder??[]}){const h=[{type:"walletConnect",isEnabled:ot.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...a,...c].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:o.length>0},{type:"recommended",isEnabled:e.length>0}].filter(p=>p.isEnabled),f=new Set(h.map(p=>p.type)),m=l.filter(p=>f.has(p)).map(p=>({type:p,isEnabled:!0})),x=h.filter(({type:p})=>!m.some(({type:b})=>b===p));return Array.from(new Set([...m,...x].map(({type:p})=>p)))},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!tt.isMobile())return{accounts:[],chainId:void 0};if(e.id===Ce.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[t,n]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:t,chainId:n}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ko=globalThis,gu=ko.ShadowRoot&&(ko.ShadyCSS===void 0||ko.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,xu=Symbol(),K0=new WeakMap;let cp=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==xu)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(gu&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=K0.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&K0.set(n,t))}return t}toString(){return this.cssText}};const jC=e=>new cp(typeof e=="string"?e:e+"",void 0,xu),bu=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,a,i)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(a)+e[i+1],e[0]);return new cp(n,e,xu)},AC=(e,t)=>{if(gu)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),a=ko.litNonce;a!==void 0&&r.setAttribute("nonce",a),r.textContent=n.cssText,e.appendChild(r)}},J0=gu?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return jC(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:TC,defineProperty:IC,getOwnPropertyDescriptor:RC,getOwnPropertyNames:PC,getOwnPropertySymbols:FC,getPrototypeOf:OC}=Object,Vr=globalThis,X0=Vr.trustedTypes,DC=X0?X0.emptyScript:"",MC=Vr.reactiveElementPolyfillSupport,Xa=(e,t)=>e,Id={toAttribute(e,t){switch(t){case Boolean:e=e?DC:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},lp=(e,t)=>!TC(e,t),Q0={attribute:!0,type:String,converter:Id,reflect:!1,useDefault:!1,hasChanged:lp};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Vr.litPropertyMetadata??(Vr.litPropertyMetadata=new WeakMap);let na=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Q0){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),a=this.getPropertyDescriptor(t,r,n);a!==void 0&&IC(this.prototype,t,a)}}static getPropertyDescriptor(t,n,r){const{get:a,set:i}=RC(this.prototype,t)??{get(){return this[n]},set(c){this[n]=c}};return{get:a,set(c){const o=a?.call(this);i?.call(this,c),this.requestUpdate(t,o,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Q0}static _$Ei(){if(this.hasOwnProperty(Xa("elementProperties")))return;const t=OC(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Xa("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Xa("properties"))){const n=this.properties,r=[...PC(n),...FC(n)];for(const a of r)this.createProperty(a,n[a])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,a]of n)this.elementProperties.set(r,a)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const a=this._$Eu(n,r);a!==void 0&&this._$Eh.set(a,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const a of r)n.unshift(J0(a))}else t!==void 0&&n.push(J0(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return AC(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){const r=this.constructor.elementProperties.get(t),a=this.constructor._$Eu(t,r);if(a!==void 0&&r.reflect===!0){const i=(r.converter?.toAttribute!==void 0?r.converter:Id).toAttribute(n,r.type);this._$Em=t,i==null?this.removeAttribute(a):this.setAttribute(a,i),this._$Em=null}}_$AK(t,n){const r=this.constructor,a=r._$Eh.get(t);if(a!==void 0&&this._$Em!==a){const i=r.getPropertyOptions(a),c=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:Id;this._$Em=a;const o=c.fromAttribute(n,i.type);this[a]=o??this._$Ej?.get(a)??o,this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){const a=this.constructor,i=this[t];if(r??(r=a.getPropertyOptions(t)),!((r.hasChanged??lp)(i,n)||r.useDefault&&r.reflect&&i===this._$Ej?.get(t)&&!this.hasAttribute(a._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:a,wrapped:i},c){r&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,c??n??this[t]),i!==!0||c!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),a===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[a,i]of this._$Ep)this[a]=i;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[a,i]of r){const{wrapped:c}=i,o=this[a];c!==!0||this._$AL.has(a)||o===void 0||this.C(a,void 0,i,o)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};na.elementStyles=[],na.shadowRootOptions={mode:"open"},na[Xa("elementProperties")]=new Map,na[Xa("finalized")]=new Map,MC?.({ReactiveElement:na}),(Vr.reactiveElementVersions??(Vr.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qa=globalThis,Oc=Qa.trustedTypes,eh=Oc?Oc.createPolicy("lit-html",{createHTML:e=>e}):void 0,dp="$lit$",$r=`lit$${Math.random().toFixed(9).slice(2)}$`,up="?"+$r,zC=`<${up}>`,Is=document,Ei=()=>Is.createComment(""),_i=e=>e===null||typeof e!="object"&&typeof e!="function",vu=Array.isArray,BC=e=>vu(e)||typeof e?.[Symbol.iterator]=="function",Ul=`[ 	
\f\r]`,za=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,th=/-->/g,nh=/>/g,ls=RegExp(`>|${Ul}(?:([^\\s"'>=/]+)(${Ul}*=${Ul}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),rh=/'/g,sh=/"/g,hp=/^(?:script|style|textarea|title)$/i,ga=Symbol.for("lit-noChange"),tn=Symbol.for("lit-nothing"),ah=new WeakMap,vs=Is.createTreeWalker(Is,129);function fp(e,t){if(!vu(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return eh!==void 0?eh.createHTML(t):t}const LC=(e,t)=>{const n=e.length-1,r=[];let a,i=t===2?"<svg>":t===3?"<math>":"",c=za;for(let o=0;o<n;o++){const l=e[o];let d,u,h=-1,f=0;for(;f<l.length&&(c.lastIndex=f,u=c.exec(l),u!==null);)f=c.lastIndex,c===za?u[1]==="!--"?c=th:u[1]!==void 0?c=nh:u[2]!==void 0?(hp.test(u[2])&&(a=RegExp("</"+u[2],"g")),c=ls):u[3]!==void 0&&(c=ls):c===ls?u[0]===">"?(c=a??za,h=-1):u[1]===void 0?h=-2:(h=c.lastIndex-u[2].length,d=u[1],c=u[3]===void 0?ls:u[3]==='"'?sh:rh):c===sh||c===rh?c=ls:c===th||c===nh?c=za:(c=ls,a=void 0);const m=c===ls&&e[o+1].startsWith("/>")?" ":"";i+=c===za?l+zC:h>=0?(r.push(d),l.slice(0,h)+dp+l.slice(h)+$r+m):l+$r+(h===-2?o:m)}return[fp(e,i+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let Rd=class mp{constructor({strings:t,_$litType$:n},r){let a;this.parts=[];let i=0,c=0;const o=t.length-1,l=this.parts,[d,u]=LC(t,n);if(this.el=mp.createElement(d,r),vs.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(a=vs.nextNode())!==null&&l.length<o;){if(a.nodeType===1){if(a.hasAttributes())for(const h of a.getAttributeNames())if(h.endsWith(dp)){const f=u[c++],m=a.getAttribute(h).split($r),x=/([.?@])?(.*)/.exec(f);l.push({type:1,index:i,name:x[2],strings:m,ctor:x[1]==="."?$C:x[1]==="?"?WC:x[1]==="@"?HC:ol}),a.removeAttribute(h)}else h.startsWith($r)&&(l.push({type:6,index:i}),a.removeAttribute(h));if(hp.test(a.tagName)){const h=a.textContent.split($r),f=h.length-1;if(f>0){a.textContent=Oc?Oc.emptyScript:"";for(let m=0;m<f;m++)a.append(h[m],Ei()),vs.nextNode(),l.push({type:2,index:++i});a.append(h[f],Ei())}}}else if(a.nodeType===8)if(a.data===up)l.push({type:2,index:i});else{let h=-1;for(;(h=a.data.indexOf($r,h+1))!==-1;)l.push({type:7,index:i}),h+=$r.length-1}i++}}static createElement(t,n){const r=Is.createElement("template");return r.innerHTML=t,r}};function xa(e,t,n=e,r){if(t===ga)return t;let a=r!==void 0?n._$Co?.[r]:n._$Cl;const i=_i(t)?void 0:t._$litDirective$;return a?.constructor!==i&&(a?._$AO?.(!1),i===void 0?a=void 0:(a=new i(e),a._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=a:n._$Cl=a),a!==void 0&&(t=xa(e,a._$AS(e,t.values),a,r)),t}class UC{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,a=(t?.creationScope??Is).importNode(n,!0);vs.currentNode=a;let i=vs.nextNode(),c=0,o=0,l=r[0];for(;l!==void 0;){if(c===l.index){let d;l.type===2?d=new Li(i,i.nextSibling,this,t):l.type===1?d=new l.ctor(i,l.name,l.strings,this,t):l.type===6&&(d=new qC(i,this,t)),this._$AV.push(d),l=r[++o]}c!==l?.index&&(i=vs.nextNode(),c++)}return vs.currentNode=Is,a}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class Li{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,a){this.type=2,this._$AH=tn,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=a,this._$Cv=a?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=xa(this,t,n),_i(t)?t===tn||t==null||t===""?(this._$AH!==tn&&this._$AR(),this._$AH=tn):t!==this._$AH&&t!==ga&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):BC(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==tn&&_i(this._$AH)?this._$AA.nextSibling.data=t:this.T(Is.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,a=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Rd.createElement(fp(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===a)this._$AH.p(n);else{const i=new UC(a,this),c=i.u(this.options);i.p(n),this.T(c),this._$AH=i}}_$AC(t){let n=ah.get(t.strings);return n===void 0&&ah.set(t.strings,n=new Rd(t)),n}k(t){vu(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,a=0;for(const i of t)a===n.length?n.push(r=new Li(this.O(Ei()),this.O(Ei()),this,this.options)):r=n[a],r._$AI(i),a++;a<n.length&&(this._$AR(r&&r._$AB.nextSibling,a),n.length=a)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class ol{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,a,i){this.type=1,this._$AH=tn,this._$AN=void 0,this.element=t,this.name=n,this._$AM=a,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=tn}_$AI(t,n=this,r,a){const i=this.strings;let c=!1;if(i===void 0)t=xa(this,t,n,0),c=!_i(t)||t!==this._$AH&&t!==ga,c&&(this._$AH=t);else{const o=t;let l,d;for(t=i[0],l=0;l<i.length-1;l++)d=xa(this,o[r+l],n,l),d===ga&&(d=this._$AH[l]),c||(c=!_i(d)||d!==this._$AH[l]),d===tn?t=tn:t!==tn&&(t+=(d??"")+i[l+1]),this._$AH[l]=d}c&&!a&&this.j(t)}j(t){t===tn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let $C=class extends ol{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===tn?void 0:t}};class WC extends ol{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==tn)}}let HC=class extends ol{constructor(t,n,r,a,i){super(t,n,r,a,i),this.type=5}_$AI(t,n=this){if((t=xa(this,t,n,0)??tn)===ga)return;const r=this._$AH,a=t===tn&&r!==tn||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,i=t!==tn&&(r===tn||a);a&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}};class qC{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){xa(this,t)}}const GC=Qa.litHtmlPolyfillSupport;GC?.(Rd,Li),(Qa.litHtmlVersions??(Qa.litHtmlVersions=[])).push("3.3.1");const VC=(e,t,n)=>{const r=n?.renderBefore??t;let a=r._$litPart$;if(a===void 0){const i=n?.renderBefore??null;r._$litPart$=a=new Li(t.insertBefore(Ei(),i),i,void 0,n??{})}return a._$AI(e),a};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ei=globalThis;let jo=class extends na{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=VC(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ga}};jo._$litElement$=!0,jo.finalized=!0,ei.litElementHydrateSupport?.({LitElement:jo});const YC=ei.litElementPolyfillSupport;YC?.({LitElement:jo});(ei.litElementVersions??(ei.litElementVersions=[])).push("4.2.1");bu`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`;bu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`;bu`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;const Ao={hexStringToNumber(e){const t=e.startsWith("0x")?e.slice(2):e;return parseInt(t,16)},numberToHexString(e){return`0x${e.toString(16)}`},async getUserInfo(e){const[t,n]=await Promise.all([Ao.getAddresses(e),Ao.getChainId(e)]);return{chainId:n,addresses:t}},async getChainId(e){const t=await e.request({method:"eth_chainId"});return Number(t)},async getAddress(e){const[t]=await e.request({method:"eth_accounts"});return t},async getAddresses(e){return await e.request({method:"eth_accounts"})},async addEthereumChain(e,t){const n=t.rpcUrls.chainDefault?.http||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:Ao.numberToHexString(t.id),rpcUrls:[...n],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[t.blockExplorers?.default.url],iconUrls:[Sn.NetworkImageIds[t.id]]}]})}},Ys={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function Ui(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const ih=Ui({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),oh=Ui({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Ui({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Ui({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Ui({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const ZC={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Ns={getMethodsByChainNamespace(e){return ZC[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(a=>r.add(a)),t.chains&&Object.keys(t.chains).forEach(a=>r.add(a)),t.events&&Object.keys(t.events).forEach(a=>r.add(a)),t.rpcMap&&Object.keys(t.rpcMap).forEach(a=>{const[i]=a.split(":");i&&r.add(i)}),r.forEach(a=>{n[a]||(n[a]=this.createDefaultNamespace(a))}),t.methods&&Object.entries(t.methods).forEach(([a,i])=>{n[a]&&(n[a].methods=i)}),t.chains&&Object.entries(t.chains).forEach(([a,i])=>{n[a]&&(n[a].chains=i)}),t.events&&Object.entries(t.events).forEach(([a,i])=>{n[a]&&(n[a].events=i)}),t.rpcMap){const a=new Set;Object.entries(t.rpcMap).forEach(([i,c])=>{const[o,l]=i.split(":");!o||!l||!n[o]||(n[o].rpcMap||(n[o].rpcMap={}),a.has(o)||(n[o].rpcMap={},a.add(o)),n[o].rpcMap[l]=c)})}return n},createNamespaces(e,t){const n=e.reduce((r,a)=>{const{id:i,chainNamespace:c,rpcUrls:o}=a,l=o.default.http[0];r[c]||(r[c]=this.createDefaultNamespace(c));const d=`${c}:${i}`,u=r[c];switch(u.chains.push(d),d){case ih.caipNetworkId:u.chains.push(ih.deprecatedCaipNetworkId);break;case oh.caipNetworkId:u.chains.push(oh.deprecatedCaipNetworkId);break}return u?.rpcMap&&l&&(u.rpcMap[i]=l),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await Eo.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(a=>{const[i,c]=a.split(":");return`${i}:${c}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(e))return!0}else try{if(new URL(r).origin===e)return!0}catch{if(r===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:a,onChainChanged:i,onDisplayUri:c}){n&&e.on("connect",()=>{const o=Ns.getWalletConnectAccounts(e,t);n(o)}),r&&e.on("disconnect",()=>{r()}),a&&e.on("session_event",o=>{if(Ns.isSessionEventData(o)){const{name:l,data:d}=o.params.event;if(l==="accountsChanged"&&Array.isArray(d)){const u=d.filter(h=>tt.isCaipAddress(h)).map(h=>Hr.parseCaipAddress(h)).filter(h=>h.chainNamespace===t);a(u)}}}),i&&e.on("chainChanged",o=>{i(o)}),c&&e.on("display_uri",o=>{c(o)})},getWalletConnectAccounts(e,t){const n=new Set,r=e?.session?.namespaces?.[t]?.accounts?.map(a=>Hr.parseCaipAddress(a)).filter(({address:a})=>n.has(a.toLowerCase())?!1:(n.add(a.toLowerCase()),!0));return r&&r.length>0?r:[]}};class KC{constructor(t){this.namespace=t.namespace}async syncConnections(t){switch(this.namespace){case Ce.CHAIN.EVM:await this.syncEVMConnections(t);break;case Ce.CHAIN.SOLANA:await this.syncSolanaConnections(t);break;case Ce.CHAIN.BITCOIN:await this.syncBitcoinConnections(t);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:t,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:a,onConnection:i,onListenProvider:c}){await Promise.all(t.filter(o=>{const{hasDisconnected:l,hasConnected:d}=a(o.id);return!l&&d}).map(async o=>{if(o.id===Ce.CONNECTOR_ID.WALLET_CONNECT){const l=Ns.getWalletConnectAccounts(r,this.namespace),d=n.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===l[0]?.chainId?.toString());l.length>0&&i({connectorId:o.id,accounts:l.map(u=>({address:u.address})),caipNetwork:d})}else{const{accounts:l,chainId:d}=await So.fetchProviderData(o);if(l.length>0&&d){const u=n.find(h=>h.chainNamespace===this.namespace&&h.id.toString()===d.toString());i({connectorId:o.id,accounts:l.map(h=>({address:h})),caipNetwork:u}),o.provider&&o.id!==Ce.CONNECTOR_ID.AUTH&&o.id!==Ce.CONNECTOR_ID.WALLET_CONNECT&&c(o.id,o.provider)}}}))}async syncSolanaConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:a,onConnection:i,onListenProvider:c}){await Promise.all(t.filter(o=>{const{hasDisconnected:l,hasConnected:d}=a(o.id);return!l&&d}).map(async o=>{if(o.id===Ce.CONNECTOR_ID.WALLET_CONNECT){const l=Ns.getWalletConnectAccounts(r,this.namespace);l.length>0&&i({connectorId:o.id,accounts:l.map(d=>({address:d.address})),caipNetwork:n})}else{const l=await o.connect({chainId:n?.id});l&&(i({connectorId:o.id,accounts:[{address:l}],caipNetwork:n}),c(o.id,o.provider))}}))}async syncBitcoinConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:a,onConnection:i,onListenProvider:c}){await Promise.all(t.filter(o=>{const{hasDisconnected:l,hasConnected:d}=a(o.id);return!l&&d}).map(async o=>{if(o.id===Ce.CONNECTOR_ID.WALLET_CONNECT){const f=Ns.getWalletConnectAccounts(r,this.namespace);f.length>0&&i({connectorId:o.id,accounts:f.map(m=>({address:m.address})),caipNetwork:n});return}const l=await o.connect();let u=(await o.getAccountAddresses())?.map(f=>tt.createAccount(Ce.CHAIN.BITCOIN,f.address,f.purpose||"payment",f.publicKey,f.path));if(u&&u.length>1&&(u=[{namespace:Ce.CHAIN.BITCOIN,publicKey:u[Ys.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[Ys.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[Ys.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:Ce.CHAIN.BITCOIN,publicKey:u[Ys.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[Ys.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[Ys.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(o.chains.find(f=>f.id===n?.id)||o.chains[0]))throw new Error("The connector does not support any of the requested chains");l&&(c(o.id,o.provider),i({connectorId:o.id,accounts:u.map(f=>({address:f.address,type:f.type})),caipNetwork:n}))}))}getConnection({address:t,connectorId:n,connections:r,connectors:a}){if(n){const c=r.find(d=>yn.isLowerCaseMatch(d.connectorId,n));if(!c)return null;const o=a.find(d=>yn.isLowerCaseMatch(d.id,c.connectorId)),l=t?c.accounts.find(d=>yn.isLowerCaseMatch(d.address,t)):c.accounts[0];return{...c,account:l,connector:o}}const i=r.find(c=>c.accounts.length>0&&a.some(o=>yn.isLowerCaseMatch(o.id,c.connectorId)));if(i){const[c]=i.accounts,o=a.find(l=>yn.isLowerCaseMatch(l.id,i.connectorId));return{...i,account:c,connector:o}}return null}}class pp{constructor({provider:t,namespace:n}){this.id=Ce.CONNECTOR_ID.WALLET_CONNECT,this.name=Sn.ConnectorNamesMap[Ce.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Sn.ConnectorImageIds[Ce.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=me.getCaipNetworks.bind(me),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=ot.state.universalProviderConfigOverride,a=Ns.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:a})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return Lr.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:JC})}}const JC=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],XC=[Ce.CONNECTOR_ID.AUTH,Ce.CONNECTOR_ID.WALLET_CONNECT];class QC{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>me.getCaipNetworks(n),this.getConnectorId=n=>Ye.getConnectorId(n),t&&this.construct(t),t?.namespace&&(this.connectionManager=new KC({namespace:t.namespace}))}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===n?.toString());t&&r&&this.addConnection({connectorId:Ce.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:Ce.CONNECTOR_ID.AUTH,type:"AUTH",name:Ce.CONNECTOR_NAMES.AUTH,provider:t,imageId:Sn.ConnectorImageIds[Ce.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>!yn.isLowerCaseMatch(n.connectorId,t)),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){Et.setStatus(t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(a=>a(n))}async connectWalletConnect(t){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(t){const{caipNetwork:n,providerType:r}=t;if(!t.provider)return;const a="provider"in t.provider?t.provider.provider:t.provider;if(r==="WALLET_CONNECT"){a.setDefaultChain(n.caipNetworkId);return}if(a&&r==="AUTH"){const i=a,c=ir(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const o=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:c});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n instanceof pp);if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:a}=tt.getAccount(t[0]),i=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===a?.toString()),c=this.connectors.find(o=>o.id===n);r&&(this.emit("accountChanged",{address:r,chainId:a,connector:c}),this.addConnection({connectorId:n,accounts:t.map(o=>{const{address:l}=tt.getAccount(o);return{address:l}}),caipNetwork:i}))}}onAccountsChanged(t,n,r=!0){if(t.length>0){const{address:a}=tt.getAccount(t[0]),i=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});a&&yn.isLowerCaseMatch(this.getConnectorId(Ce.CHAIN.EVM),n)&&this.emit("accountChanged",{address:a,chainId:i?.caipNetwork?.id,connector:i?.connector}),this.addConnection({connectorId:n,accounts:t.map(c=>{const{address:o}=tt.getAccount(c);return{address:o}}),caipNetwork:i?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),yn.isLowerCaseMatch(this.getConnectorId(Ce.CHAIN.EVM),t)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){const r=typeof t=="string"&&t.startsWith("0x")?Ao.hexStringToNumber(t).toString():t.toString(),a=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(c=>c.chainNamespace===this.namespace).find(c=>c.id.toString()===r);a&&this.addConnection({connectorId:n,accounts:a.accounts,caipNetwork:i}),yn.isLowerCaseMatch(this.getConnectorId(Ce.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(XC.includes(t))return;const r=c=>this.onAccountsChanged(c,t),a=c=>this.onChainChanged(c,t),i=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",a),this.providerHandlers[t]={provider:n,disconnect:i,accountsChanged:r,chainChanged:a})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:a,chainChanged:i}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",a),n.removeListener("chainChanged",i),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){const t=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:n?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}}function eN(e){let t=[],n,r;function a(o){return Cc.parseEvmChainId(o)||1}function i(){return n||(n=oa.getInstance({projectId:e.options.projectId,chainId:xs()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,onTimeout:o=>{o==="iframe_load_failed"?hs.open(Rr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):o==="iframe_request_timeout"?hs.open(Rr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):o==="unverified_domain"&&hs.open(Rr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:Rr.EmbeddedWalletAbortController,getActiveCaipNetwork:o=>xs(o),getCaipNetworks:o=>me.getCaipNetworks(o)})),n}async function c(o={}){const l=i();let d=o.chainId;if(o.isReconnecting){const p=Cc.parseEvmChainId(l.getLastUsedChainId()||""),g=e.chains?.[0].id;if(d=p||g,!d)throw new Error("ChainId not found in provider")}const u=ir("eip155"),{address:h,chainId:f,accounts:m}=await Lr.authConnectorAuthenticate({authConnector:l,chainId:d,preferredAccountType:u,socialUri:o.socialUri,chainNamespace:Ce.CHAIN.EVM});t=m?.map(p=>p.address)||[h];const x=a(f);return{accounts:t,account:h,chainId:x,chain:{id:x,unsuported:!1}}}return wm(o=>({id:Ce.CONNECTOR_ID.AUTH,name:Ce.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:Ce.CHAIN.EVM,async connect(l={}){if(r)return r;r||(r=new Promise(u=>{u(c(l))}));const d=await r;return r=void 0,d},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return t?.length?(o.emitter.emit("change",{accounts:t}),Promise.resolve(t)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=oa.getInstance({projectId:e.options.projectId,chainId:xs()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,abortController:Rr.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?hs.open(Rr.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?hs.open(Rr.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&hs.open(Rr.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>xs(l),getCaipNetworks:l=>me.getCaipNetworks(l)})),Promise.resolve(this.provider)},async getChainId(){const l=await this.getProvider(),{chainId:d}=await l.getChainId();return a(d)},async isAuthorized(){const d=me.state.activeChain===Ce.CHAIN.EVM;if(Ce.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>Ye.getConnectorId(f)===Ce.CONNECTOR_ID.AUTH)&&!d)return!1;const h=await this.getProvider();return Promise.resolve(h.getLoginEmailUsed())},async switchChain({chainId:l}){try{const d=o.chains.find(m=>m.id===l);if(!d)throw new gd(new Error("chain not found on connector."));const u=await this.getProvider(),h=ir("eip155"),f=await u.connect({chainId:l,preferredAccountType:h});return t=f?.accounts?.map(m=>m.address)||[f.address],o.emitter.emit("change",{chainId:Number(l),accounts:t}),d}catch(d){throw d instanceof Error?new gd(d):d}},onAccountsChanged(l){l.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:l.map(Cm)})},onChainChanged(l){const d=Number(l);o.emitter.emit("change",{chainId:d})},async onDisconnect(l){await(await this.getProvider()).disconnect()}}))}yu.type="walletConnect";function yu(e,t){const n=e.isNewChainsStale??!0;let r,a,i,c,o,l,d;return wm(u=>({id:"walletConnect",name:"WalletConnect",type:yu.type,async setup(){const h=await this.getProvider().catch(()=>null);h&&(c||(c=this.onConnect.bind(this),h.on("connect",c)),l||(l=this.onSessionDelete.bind(this),h.on("session_delete",l)))},async connect({...h}={}){try{const f=me.getCaipNetworks(),m=await this.getProvider();if(!m)throw new o0;o||(o=this.onDisplayUri,m.on("display_uri",o));const x=await this.isChainsStale();m.session&&x&&await m.disconnect();const p=ot.state.universalProviderConfigOverride;if(!m.session||x){const E=Ns.createNamespaces(f,p);await m.connect({optionalNamespaces:E,..."pairingTopic"in h?{pairingTopic:h.pairingTopic}:{}}),this.setRequestedChainsIds(f.map(S=>Number(S.id)))}const g=await this.getAccounts(),b=await this.getChainId(),v=m.session?.namespaces?.eip155?.chains,w=v?.some(E=>Number(E.split(":")[1])===b);let C=1;w?C=b:v?.[0]&&(C=Number(v[0].split(":")[1])),o&&(m.removeListener("display_uri",o),o=void 0),c&&(m.removeListener("connect",c),c=void 0),a||(a=this.onAccountsChanged.bind(this),m.on("accountsChanged",a)),i||(i=this.onChainChanged.bind(this),m.on("chainChanged",i)),d||(d=this.onDisconnect.bind(this),m.on("disconnect",d)),l||(l=this.onSessionDelete.bind(this),m.on("session_delete",l));const y=p?.defaultChain;return m.setDefaultChain(y??`eip155:${C}`),{accounts:g,chainId:C}}catch(f){throw/(user rejected|connection request reset)/i.test(f?.message)?new El(f):f}},async disconnect(){const h=await this.getProvider();try{await h?.disconnect()}catch(f){if(!/No matching key/i.test(f.message))throw f}finally{i&&(h?.removeListener("chainChanged",i),i=void 0),d&&(h?.removeListener("disconnect",d),d=void 0),c||(c=this.onConnect.bind(this),h?.on("connect",c)),a&&(h?.removeListener("accountsChanged",a),a=void 0),l&&(h?.removeListener("session_delete",l),l=void 0),this.setRequestedChainsIds([])}},async getAccounts(){const h=await this.getProvider();if(!h?.session?.namespaces)return[];const m=h?.session?.namespaces[Ce.CHAIN.EVM]?.accounts?.map(g=>g.split(":")[2])??[],x=new Set;return m.filter(g=>{const b=g?.toLowerCase();return x.has(b)?!1:(x.add(b),!0)})},async getProvider({chainId:h}={}){r||(r=await t.getUniversalProvider(),r?.events.setMaxListeners(Number.POSITIVE_INFINITY));const f=Pe.getActiveNamespace(),m=t.getCaipNetwork()?.id;if(h&&m!==h&&f){const x=Pe.getStoredActiveCaipNetworkId(),g=(f?t.getCaipNetworks(f):[])?.find(b=>b.id===x);g&&g.chainNamespace===Ce.CHAIN.EVM&&await this.switchChain?.({chainId:Number(g.id)})}return r},async getChainId(){const h=t.getCaipNetwork(Ce.CHAIN.EVM)?.id;if(h)return h;const m=(await this.getProvider()).session?.namespaces[Ce.CHAIN.EVM]?.chains?.[0];return me.getCaipNetworks().find(p=>p.id===m)?.id},async isAuthorized(){try{const[h,f]=await Promise.all([this.getAccounts(),this.getProvider()]);return h.length?await this.isChainsStale()&&f.session?(await f.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:h,chainId:f}){const m=await this.getProvider();if(!m)throw new o0;const x=me.getCaipNetworks().find(p=>p.id===f);if(!x)throw new gd(new Rb);try{await m.request({method:"wallet_switchEthereumChain",params:[{chainId:c0(f)}]}),x?.caipNetworkId&&m.setDefaultChain(x?.caipNetworkId),u.emitter.emit("change",{chainId:Number(f)});const p=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...p,f]),{...x,id:x.id}}catch(p){const g=p;if(/(?:user rejected)/iu.test(g.message))throw new El(g);try{let b;h?.blockExplorerUrls?b=h.blockExplorerUrls:b=x.blockExplorers?.default.url?[x.blockExplorers?.default.url]:[];const v=x.rpcUrls?.chainDefault?.http||[],w={blockExplorerUrls:b,chainId:c0(f),chainName:x.name,iconUrls:h?.iconUrls,nativeCurrency:x.nativeCurrency,rpcUrls:v};await m.request({method:"wallet_addEthereumChain",params:[w]});const C=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...C,f]),{...x,id:x.id}}catch(b){throw new El(b)}}},onAccountsChanged(h){h.length===0?this.onDisconnect():u.emitter.emit("change",{accounts:h.map(f=>Cm(f))})},onChainChanged(h){const f=Number(h);u.emitter.emit("change",{chainId:f})},onConnect(h){this.setRequestedChainsIds(me.getCaipNetworks().map(f=>Number(f.id)))},async onDisconnect(h){this.setRequestedChainsIds([]),u.emitter.emit("disconnect");const f=await this.getProvider();a&&(f.removeListener("accountsChanged",a),a=void 0),i&&(f.removeListener("chainChanged",i),i=void 0),d&&(f.removeListener("disconnect",d),d=void 0),l&&(f.removeListener("session_delete",l),l=void 0),c||(c=this.onConnect.bind(this),f.on("connect",c))},onDisplayUri(h){u.emitter.emit("message",{type:"display_uri",data:h})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return r?.session?.namespaces?r?.session?.namespaces[Ce.CHAIN.EVM]?.accounts?.map(m=>Number.parseInt(m.split(":")[1]??""))??[]:[]},async getRequestedChainsIds(){const h=await u.storage?.getItem(this.requestedChainsStorageKey)??[];return[...new Set(h)]},async isChainsStale(){if(!n)return!1;const h=u.chains.map(x=>x.id),f=this.getNamespaceChainsIds();if(f.length&&!f.some(x=>h.includes(x)))return!1;const m=await this.getRequestedChainsIds();return!h.every(x=>m.includes(Number(x)))},async setRequestedChainsIds(h){await u.storage?.setItem(this.requestedChainsStorageKey,h)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}const Ba=Ot({pendingTransactions:0}),ch={state:Ba,subscribeKey(e,t){return mn(Ba,e,t)},increase(e){Ba[e]+=1},decrease(e){Ba[e]-=1},reset(e){Ba[e]=0}};async function tN(e){if(tt.isSafeApp()){const{safe:t}=await ws(async()=>{const{safe:n}=await import("./index-ChhyusO2.js");return{safe:n}},__vite__mapDeps([0,1,2]));if(t&&!e.some(n=>n.type==="safe"))return t()}return null}async function nN(e){try{const{coinbaseWallet:t}=await ws(async()=>{const{coinbaseWallet:n}=await import("./index-ChhyusO2.js");return{coinbaseWallet:n}},__vite__mapDeps([0,1,2]));if(t&&!e.some(n=>n.id==="coinbaseWalletSDK"))return t()}catch(t){console.error("Failed to import Coinbase Wallet SDK:",t)}return null}const rN={enable:!1,pollingInterval:3e4};class sN extends QC{constructor(t){const n=Ya.extendCaipNetworks(t.networks,{projectId:t.projectId,customNetworkImageUrls:{},customRpcUrls:t.customRpcUrls});super(),this.balancePromises={},this.namespace=Ce.CHAIN.EVM,this.adapterType=Ce.ADAPTER_TYPES.WAGMI,this.projectId=t.projectId,this.pendingTransactionsFilter={...rN,...t.pendingTransactionsFilter??{}},this.createConfig({...t,networks:n}),this.checkChainId()}construct(t){this.checkChainId(),this.setupWatchers()}async getAccounts(t){const n=this.getWagmiConnector(t.id);if(!n)return{accounts:[]};if(n.id===Ce.CONNECTOR_ID.AUTH){const i=await n.getProvider();if(!i?.user)return{accounts:[]};const{address:c,accounts:o}=i.user;return Promise.resolve({accounts:(o||[{address:c,type:"eoa"}]).map(l=>tt.createAccount("eip155",l.address,l.type))})}const{addresses:r,address:a}=_l(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[a])].map(i=>tt.createAccount("eip155",i||"","eoa"))})}checkChainId(){const{chainId:t}=_l(this.wagmiConfig);t&&this.emit("switchNetwork",{chainId:t})}getWagmiConnector(t){return this.wagmiConfig.connectors.find(n=>n.id===t)}createConfig(t){this.wagmiChains=t.networks.filter(a=>a.chainNamespace===Ce.CHAIN.EVM);const n={},r=[...t.connectors??[]];this.wagmiChains.forEach(a=>{const i=t.transports?.[a.id],c=Ya.getCaipNetworkId(a);i?n[a.id]=Ya.extendWagmiTransports(a,t.projectId,i):n[a.id]=Ya.getViemTransport(a,t.projectId,t.customRpcUrls?.[c])}),this.wagmiConfig=Nm({...t,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=Pb(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),ch.increase("pendingTransactions")}});const t=ch.subscribeKey("pendingTransactions",n=>{n>=Ce.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),t())})}setupWatchers(){Fb(this.wagmiConfig,{onChange:t=>{this.clearConnections(),this.addConnection(...t.map(n=>{const r=this.getCaipNetworks().find(i=>i.id===n.chainId),a=n.connector.id===Ce.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(i=>({address:i})),caipNetwork:r,connectorId:n.connector.id,auth:a?{name:Pe.getConnectedSocialProvider(),username:Pe.getConnectedSocialUsername()}:void 0}}))}}),Ob(this.wagmiConfig,{onChange:(t,n)=>{if(t.status==="disconnected"&&n.address&&this.emit("disconnect"),t?.chainId&&t?.chainId!==n?.chainId&&this.emit("switchNetwork",{chainId:t.chainId}),t.status==="connected"){const r=t.address!==n?.address,a=t.connector.id!==n.connector?.id,i=n.status!=="connected";(r||a||i)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:t.address,chainId:t.chainId,connector:t.connector}))}}})}async addThirdPartyConnectors(t){const n=[];if(t.enableCoinbase!==!1){const a=await nN(this.wagmiConfig.connectors);a&&n.push(a)}const r=await tN(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(a=>{const i=this.wagmiConfig._internal.connectors.setup(a);return this.wagmiConfig._internal.connectors.setState(c=>[...c,i]),this.addWagmiConnector(i,t)}))}addWagmiConnectors(t,n){const r=[];t.enableWalletConnect!==!1&&r.push(yu(t,n)),t.enableEIP6963!==!1&&r.push(Db({shimDisconnect:!0}));const a=n?.remoteFeatures?.email??!0,i=Array.isArray(n?.remoteFeatures?.socials)&&n?.remoteFeatures?.socials?.length>0;(a||i)&&r.push(eN({chains:this.wagmiChains,options:{projectId:t.projectId,enableAuthLogger:t.enableAuthLogger}})),r.forEach(c=>{const o=this.wagmiConfig._internal.connectors.setup(c);this.wagmiConfig._internal.connectors.setState(l=>[...l,o])})}async handleAccountChanged({address:t,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const a=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:t,chainId:n,connector:{id:r.id,name:Sn.ConnectorNamesMap[r.id]??r.name,imageId:Sn.ConnectorImageIds[r.id],type:Sn.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===Ce.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:a,chain:this.namespace,chains:[]}})}async signMessage(t){try{return{signature:await Mb(this.wagmiConfig,{message:t.message,account:t.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(t){const{chainId:n,address:r}=_l(this.wagmiConfig),a={account:r,to:t.to,value:Number.isNaN(Number(t.value))?BigInt(0):BigInt(t.value),gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,data:t.data,chainId:n,type:"legacy",parameters:["nonce"]};await zb(this.wagmiConfig,a);const i=await Bb(this.wagmiConfig,a);return await Lb(this.wagmiConfig,{hash:i,timeout:25e3}),{hash:i}}async writeContract(t){const{caipNetwork:n,...r}=t,a=Number(Cc.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await Ub(this.wagmiConfig,{chain:this.wagmiChains?.[a],chainId:a,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(t){try{return{gas:await $b(this.wagmiConfig,{account:t.address,to:t.to,data:t.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(t){return Wb(t.value,t.decimals)}formatUnits(t){return ym(t.value,t.decimals)}async addWagmiConnector(t,n){if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");if(t.type===Ce.CONNECTOR_ID.INJECTED&&n.enableEIP6963===!1||t.id===Ce.CONNECTOR_ID.AUTH||t.id===Ce.CONNECTOR_ID.WALLET_CONNECT)return;const r=await t.getProvider().catch(()=>{});this.addConnector({id:t.id,explorerId:Sn.ConnectorExplorerIds[t.id],imageUrl:n?.connectorImages?.[t.id]??t.icon,name:Sn.ConnectorNamesMap[t.id]??t.name,imageId:Sn.ConnectorImageIds[t.id],type:Sn.ConnectorTypesMap[t.type]??"EXTERNAL",info:t.id===Ce.CONNECTOR_ID.INJECTED?void 0:{rdns:t.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(t,n){Hb(this.wagmiConfig,{onChange:r=>{r.forEach(a=>this.addWagmiConnector(a,t))}}),this.addWagmiConnectors(t,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,t))),this.addThirdPartyConnectors(t)}async syncConnections(){return Promise.resolve()}async syncConnection(t){const{id:n,chainId:r}=t,i=jr(this.wagmiConfig).find(d=>d.connector.id===n),o=await this.getWagmiConnector(n)?.getProvider();if(tt.isSafeApp()&&n===Ce.CONNECTOR_ID.SAFE&&!i?.accounts.length){const d=this.getWagmiConnector("safe");if(d){const u=await Sl(this.wagmiConfig,{connector:d,chainId:Number(r)}),h=await d.getProvider();return{chainId:Number(r),address:u.accounts[0],provider:h,type:i?.connector.type?.toUpperCase(),id:i?.connector.id}}}return{chainId:Number(i?.chainId),address:i?.accounts[0],provider:o,type:i?.connector.type?.toUpperCase(),id:i?.connector.id}}async connectWalletConnect(t){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const a=await Sl(this.wagmiConfig,{connector:r,chainId:t?Number(t):void 0});return a.chainId!==Number(t)&&await l0(this.wagmiConfig,{chainId:a.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(t){const{id:n,address:r,provider:a,type:i,info:c,chainId:o,socialUri:l}=t,d=this.getWagmiConnector(n);if(!d)throw new Error("connectionControllerClient:connectExternal - connector is undefined");a&&c&&d.id===Ce.CONNECTOR_ID.EIP6963&&d.setEip6963Wallet?.({provider:a,info:c});const u=this.wagmiConfig.state?.connections?.get(d.uid);if(u){await this.wagmiConfig.storage?.setItem("recentConnectorId",d.id);const f=[...u.accounts].sort((m,x)=>yn.isLowerCaseMatch(m,r)?-1:yn.isLowerCaseMatch(x,r)?1:0);return this.wagmiConfig?.setState(m=>({...m,connections:new Map(m.connections).set(d.uid,{accounts:f,chainId:u.chainId,connector:u.connector}),current:d.uid,status:"connected"})),{address:f[0],chainId:u.chainId,provider:a,type:i,id:n}}const h=await Sl(this.wagmiConfig,{connector:d,chainId:o?Number(o):void 0,socialUri:l});return{address:h.accounts[0],chainId:h.chainId,provider:a,type:i,id:n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(t=>({accounts:t.accounts.map(n=>({address:n})),connectorId:t.connector.id}))}async reconnect(t){const{id:n}=t,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await d0(this.wagmiConfig,{connectors:[r]})}async getBalance(t){const n=t.address,r=this.getCaipNetworks().find(a=>a.id===t.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const a=`${r.caipNetworkId}:${t.address}`,i=this.balancePromises[a];if(i)return i;const c=Pe.getNativeBalanceCacheForCaipAddress(a);return c?{balance:c.balance,symbol:c.symbol}:(this.balancePromises[a]=new Promise(async o=>{try{const l=Number(t.chainId),d=await qb(this.wagmiConfig,{address:t.address,chainId:l,token:t.tokens?.[r.caipNetworkId]?.address});Pe.updateNativeBalanceCache({caipAddress:a,balance:d.formatted,symbol:d.symbol,timestamp:Date.now()}),o({balance:d.formatted,symbol:d.symbol})}catch(l){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",l),o({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[a]}),this.balancePromises[a]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(t){if(t.id){const n=this.getWagmiConnector(t.id),a=jr(this.wagmiConfig).find(i=>yn.isLowerCaseMatch(i.connector.id,t.id));return await u0(this.wagmiConfig,{connector:n}),ot.state.enableReconnect===!1&&this.deleteConnection(t.id),a?{connections:[{accounts:a.accounts.map(i=>({address:i})),connectorId:a.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const t=jr(this.wagmiConfig),n=await Promise.allSettled(t.map(async r=>{const a=this.getWagmiConnector(r.connector.id);return a&&await u0(this.wagmiConfig,{connector:a}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(a=>({address:a})),connectorId:r.connector.id}))}}async switchNetwork(t){const{caipNetwork:n}=t,r=this.wagmiConfig.chains.find(a=>a.id.toString()===n.id.toString());await l0(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:r?.name??n.name,nativeCurrency:r?.nativeCurrency??n.nativeCurrency,rpcUrls:[n.rpcUrls?.chainDefault?.http?.[0]??r?.rpcUrls?.default?.http?.[0]??""],blockExplorerUrls:[r?.blockExplorers?.default?.url??n.blockExplorers?.default?.url??""]}}),await super.switchNetwork(t)}async getCapabilities(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const r=jr(this.wagmiConfig)[0],a=r?this.getWagmiConnector(r.connector.id):null;if(!a)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const i=await a.getProvider();if(!i)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await i.request({method:"wallet_getCapabilities",params:[t]})}async grantPermissions(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const r=jr(this.wagmiConfig)[0],a=r?this.getWagmiConnector(r.connector.id):null;if(!a)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const i=await a.getProvider();if(!i)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return i.request({method:"wallet_grantPermissions",params:t})}async revokePermissions(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const r=jr(this.wagmiConfig)[0],a=r?this.getWagmiConnector(r.connector.id):null;if(!a)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const i=await a.getProvider();if(!i)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return i.request({method:"wallet_revokePermissions",params:t})}async walletGetAssets(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const r=jr(this.wagmiConfig)[0],a=r?this.getWagmiConnector(r.connector.id):null;if(!a)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const i=await a.getProvider();if(!i)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return i.request({method:"wallet_getAssets",params:[t]})}setAuthProvider(t){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:Ce.CONNECTOR_ID.AUTH,type:"AUTH",name:Ce.CONNECTOR_NAMES.AUTH,provider:t,imageId:Sn.ConnectorImageIds[Ce.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(t){return t.on("connect",()=>{const n=jr(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(a=>a.connector.id===r.id)){if(me.state.activeChain==="eip155")return;d0(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new pp({provider:t,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}}const lh=new sN({networks:yc.chains,projectId:yc.projectId}),aN=Nm({chains:yc.chains,connectors:lh.connectors,transports:lh.transports}),iN=new Em,gp=({children:e})=>{const[t,n]=N.useState(!1),[r,a]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{await new Promise(m=>setTimeout(m,1e3));const c=window.ethereum?.isMetaMask,o=window.ethereum?.isWalletConnect,l=window.ethereum?.isCoinbaseWallet,d=window.ethereum?.isNightlyWallet,u=window.ethereum?.isBackpack,h=window.ethereum?.isEVMAsk,f=window.ethereum?.isReown;console.log("ReownProvider: Wallet detection:",{hasMetaMask:c,hasWalletConnect:o,hasCoinbaseWallet:l,hasNightlyWallet:d,hasBackpack:u,hasEVMAsk:h,hasReown:f}),c||o||l||d||u||h?(console.log("ReownProvider: Other wallet detected, but still initializing Reown as fallback"),n(!0)):(console.log("ReownProvider: No other wallets detected, initializing Reown as primary"),n(!0))}catch(c){console.error("ReownProvider: Error during initialization:",c),n(!1)}finally{a(!1)}})()},[]),r?s.jsx("div",{className:"min-h-screen bg-black"}):s.jsx(Gb,{config:aN,children:s.jsx(_m,{client:iN,children:e})})},Vt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%20104%2074'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1,0,0,1,-62.9053,-11.72)'%3e%3cg%20transform='matrix(0.0278661,0,0,0.0278661,60.3688,-0.633193)'%3e%3cg%20transform='matrix(1.08496,0,0,1.0179,-170.176,2.41367)'%3e%3crect%20x='1560.3'%20y='433.14'%20width='386.277'%20height='1265.57'%20style='fill:url(%23_Linear1);'/%3e%3c/g%3e%3cpath%20d='M3363.03,2953.95C3363.03,2953.95%202976.77,3177.24%202513.2,3001.78C2256.74,2904.7%202027.59,2543.53%202002.52,2505.16C2002.52,2505.16%202255.22,2189.28%202259.54,2193.44C2292.02,2224.76%202448.89,2465.2%202554.79,2537.07C2665.28,2612.07%202779.6,2683.18%202970.3,2652.7C3217.62,2613.18%203363.39,2371.41%203363.39,2371.41'%20style='fill:url(%23_Linear2);'/%3e%3cpath%20d='M3421.17,2470.92C3422.52,2447.75%203443.22,2074.2%203390.09,1942.48C3356.26,1858.59%203268.81,1711.19%203107.17,1645.27C2955.45,1583.38%202779.15,1587.81%202633.79,1670.86C2561.72,1712.03%202397.69,1903.9%202359.97,1958.81C2323.5,2014.7%201972.12,2474.32%201972.12,2474.32C1972.12,2474.32%201792.59,2743.35%201467.02,2979.07C1231.3,3149.74%20857.758,3073.22%20760.787,3048.45C470.205,2974.23%20226.48,2763.69%20134.941,2474.32C98.86,2360.26%2086.861,2240%2092.254,2120.78C97.769,1998.84%20126.508,1879.35%20170.93,1765.41C353.602,1296.86%20821.557,1121.11%201286.23,1228.41C1345.46,1242.09%201587.1,1310.11%201695.77,1400.6C1742.46,1439.48%201890.47,1694.12%201941.78,1731.52C1868.72,1829.34%201662.26,2088.89%201656.22,2080.66C1560.18,1949.87%201466.29,1825.54%201396.67,1752.54C1364.49,1718.8%201326.78,1688.4%201286.07,1665.59C1241.7,1640.73%201192.39,1626.32%201142.77,1616.25C1014.63,1590.25%20875.39,1602.15%20760.787,1668.48C702.968,1701.95%20654.83,1749.35%20615.662,1803.22C515.695,1940.71%20479.125,2123.88%20529.362,2287.5C602.031,2524.17%20860.168,2697.81%201107.83,2651.96C1222.22,2630.78%201318.25,2565.39%201407.08,2493.48C1463.76,2447.6%201853.67,1933.92%201911.86,1861.91C1911.86,1861.91%202075.85,1598.88%202335.58,1385.29C2468.96,1275.61%202633.57,1219.77%202746.42,1203.44C2983.45,1169.14%203319.16,1197.95%203556.91,1456.64C3846.57,1771.78%203807.86,1963.54%203809.45,2200.65C3809.7,2236.87%203809.22,2272.06%203807.84,2306.18L3807.84,3095.05L3421.11,3095.05L3421.11,2472.06L3421.17,2470.92Z'%20style='fill:url(%23_Linear3);'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='_Linear1'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='_Linear2'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='_Linear3'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",wn="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0224%203.58728C12.0281%203.35631%2012.3279%203.27146%2012.4561%203.46284C14.0002%205.76973%2016.6294%207.28848%2019.6139%207.28848C20.7329%207.28848%2021.8019%207.07448%2022.7823%206.68607C20.8309%202.74069%2016.7745%200.0227692%2012.0809%200.000143355C5.4924%20-0.0319099%200.0747474%205.31532%200.0228993%2011.9041C0.0125297%2013.2249%200.216151%2014.4976%200.600769%2015.6883C3.43639%2015.4536%206.2079%2014.2525%208.37704%2012.0823C10.73%209.72924%2011.9451%206.67004%2012.0224%203.58728Z'%20fill='url(%23paint0_linear_728_4516)'/%3e%3cpath%20d='M11.9651%2023.9999C18.5526%2024.031%2023.9694%2018.6866%2024.0222%2012.0987C24.0325%2010.7779%2023.8289%209.50616%2023.4452%208.31548C20.6087%208.55022%2017.8381%209.75127%2015.668%2011.9215C13.315%2014.2745%2012.1008%2017.3337%2012.0235%2020.4165C12.0179%2020.6475%2011.7181%2020.7323%2011.5899%2020.5409C10.0458%2018.2341%207.41658%2016.7153%204.43201%2016.7153C3.31398%2016.7153%202.24496%2016.9284%201.26456%2017.3168C3.21688%2021.2603%207.27235%2023.9772%2011.9651%2023.9999Z'%20fill='url(%23paint1_linear_728_4516)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_728_4516'%20x1='22.7823'%20y1='-8.42108e-07'%20x2='9.57872'%20y2='18.4678'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234B1BF9'/%3e%3cstop%20offset='1'%20stop-color='%233ECCEE'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_728_4516'%20x1='24.0225'%20y1='8.31547'%20x2='10.8228'%20y2='26.7809'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F20A49'/%3e%3cstop%20offset='0.52'%20stop-color='%23C119E7'/%3e%3cstop%20offset='1'%20stop-color='%234675F3'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",oN="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2038%2027'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-1694.3,-36.2585)'%3e%3cg%20transform='matrix(1,0,0,1,-40,-2.12025)'%3e%3cpath%20d='M1769.01,55.819L1764.32,55.819C1763.21,55.819%201762.31,54.916%201762.31,53.805L1762.31,49.777C1762.31,48.665%201763.21,47.763%201764.32,47.763L1769.01,47.763L1769.01,45.557C1769.01,42.116%201766.21,39.323%201762.77,39.323L1741.48,39.323C1738.04,39.323%201735.25,42.116%201735.25,45.557L1735.25,58.025C1735.25,61.465%201738.04,64.258%201741.48,64.258L1762.77,64.258C1766.21,64.258%201769.01,61.465%201769.01,58.025L1769.01,55.819Z'%20style='fill:none;stroke:white;stroke-width:1.89px;'/%3e%3cg%20transform='matrix(0.720727,0,0,1,492.88,0.767239)'%3e%3cpath%20d='M1773.61,49.01C1773.61,47.898%201772.36,46.996%201770.81,46.996L1763.74,46.996C1762.2,46.996%201760.95,47.898%201760.95,49.01L1760.95,53.038C1760.95,54.149%201762.2,55.052%201763.74,55.052L1770.81,55.052C1772.36,55.052%201773.61,54.149%201773.61,53.038L1773.61,49.01Z'%20style='fill:none;stroke:white;stroke-width:2.17px;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lN=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),dh=e=>{const t=lN(e);return t.charAt(0).toUpperCase()+t.slice(1)},xp=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),dN=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:c,...o},l)=>N.createElement("svg",{ref:l,...uN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:xp("lucide",a),...!i&&!dN(o)&&{"aria-hidden":"true"},...o},[...c.map(([d,u])=>N.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const n=N.forwardRef(({className:r,...a},i)=>N.createElement(hN,{ref:i,iconNode:t,className:xp(`lucide-${cN(dh(e))}`,`lucide-${e}`,r),...a}));return n.displayName=dh(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],mN=Xe("activity",fN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dc=Xe("arrow-right",pN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bp=Xe("calendar",gN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Rs=Xe("chart-column",xN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wu=Xe("check",bN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cl=Xe("chevron-down",vN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vp=Xe("chevron-left",yN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yp=Xe("chevron-right",wN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qn=Xe("circle-check-big",CN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],EN=Xe("circle-help",NN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],SN=Xe("circle-stop",_N);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jN=Xe("circle-x",kN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ba=Xe("clock",AN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Pd=Xe("cpu",TN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],RN=Xe("dollar-sign",IN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Mc=Xe("download",PN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ON=Xe("ellipsis",FN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ps=Xe("external-link",DN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zN=Xe("eye",MN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],LN=Xe("funnel",BN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fd=Xe("globe",UN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],WN=Xe("grid-3x3",$N);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],zc=Xe("hard-drive",HN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],GN=Xe("heart",qN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Od=Xe("image",VN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ZN=Xe("list",YN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fs=Xe("loader-circle",KN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],XN=Xe("menu",JN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M5 12h14",key:"1ays0h"}]],wp=Xe("minus",QN);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],tE=Xe("move",eE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],uh=Xe("package",nE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],sE=Xe("party-popper",rE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],iE=Xe("pause",aE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],cE=Xe("play",oE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cp=Xe("plus",lE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Bc=Xe("refresh-cw",dE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],hE=Xe("rocket",uE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],mE=Xe("rotate-cw",fE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],To=Xe("search",pE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xE=Xe("settings",gE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],vE=Xe("share-2",bE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Dd=Xe("sparkles",yE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],CE=Xe("trash-2",wE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hh=Xe("trending-up",NE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],er=Xe("triangle-alert",EE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],SE=Xe("trophy",_E);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],fh=Xe("twitter",kE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lc=Xe("upload",jE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Uc=Xe("users",AE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],$c=Xe("wifi",TE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bt=Xe("x",IE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wc=Xe("zap",RE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],FE=Xe("zoom-in",PE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],DE=Xe("zoom-out",OE),Es=({src:e,alt:t,className:n="",fallbackSrc:r="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMzM0MTU1Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDMTE2LjU2OSA3MCAxMzAgODMuNDMxIDMwIDEwMEMxMzAgMTE2LjU2OSAxMTYuNTY5IDEzMCAxMDAgMTMwQzgzLjQzMSAxMzAgNzAgMTE2LjU2OSA3MCAxMEM3MCA4My40MzEgODMuNDMxIDcwIDEwMCA3MFoiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+",placeholderSrc:a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iMjAiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+",onLoad:i,onError:c,priority:o=!1,sizes:l="100vw",...d})=>{const[u,h]=N.useState(a),[f,m]=N.useState("loading"),[x,p]=N.useState(!1),g=N.useRef(null),b=N.useRef(null),v=N.useMemo(()=>({rootMargin:o?"0px":"100px",threshold:o?0:.1}),[o]),w=N.useMemo(()=>!e||!e.includes("ipfs")||e.includes("data:")?e:e.includes("gateway.lighthouse.storage")?e.replace(/\.(jpg|jpeg|png)$/i,".webp"):e,[e]);return N.useEffect(()=>{if(!e){h(r),m("error");return}if(o){p(!0);return}return b.current=new IntersectionObserver(C=>{C.forEach(y=>{y.isIntersecting&&(p(!0),b.current&&b.current.disconnect())})},v),g.current&&b.current.observe(g.current),()=>{b.current&&b.current.disconnect()}},[e,o,v]),N.useEffect(()=>{if(!x||!e)return;const C=new Image;if(w!==e){const y=new Image;y.src=w}C.onload=()=>{h(e),m("loaded"),i&&i()},C.onerror=()=>{if(w!==e){const y=new Image;y.onload=()=>{h(e),m("loaded"),i&&i()},y.onerror=()=>{h(r),m("error"),c&&c()},y.src=e}else h(r),m("error"),c&&c()},C.src=w},[x,e,w,r,i,c]),s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("img",{ref:g,src:u,alt:t,className:`${n} ${f==="loading"?"animate-pulse blur-sm scale-105":""} ${f==="loaded"?"animate-fade-in":""}`,style:{transition:"all 0.3s ease-in-out",opacity:f==="loaded"?1:.8,filter:f==="loading"?"blur(4px)":"blur(0px)",transform:f==="loading"?"scale(1.05)":"scale(1)"},sizes:l,loading:o?"eager":"lazy",...d}),f==="loading"&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse"})]})},ME=e=>{console.log("üîç getNFTImageUrl called for NFT:",e.metadata?.name||e.id,e.collectionName);let t=e.image||e.image_url||e.media_url||"";if(t&&!t.startsWith("ipfs://")&&(t.startsWith("http://")||t.startsWith("https://")))return console.log("‚úÖ Using pre-converted HTTP image URL:",t),t;if(!t&&e.metadata&&(t=e.metadata.image||e.metadata.image_url||e.metadata.media_url||"",console.log("üìã Using metadata image:",t)),t&&t.startsWith("ipfs://")){const n=t.replace("ipfs://","");e.collectionName?.toLowerCase().includes("somnia")||e.collectionName?.toLowerCase().includes("dreava")||e.collectionName?.toLowerCase().includes("dreava.art")?(t=`https://gateway.lighthouse.storage/ipfs/${n}`,console.log("üè≠ Converting to Lighthouse gateway for collection:",e.collectionName)):(t=`https://cloudflare-ipfs.com/ipfs/${n}`,console.log("üåê Converting to Cloudflare gateway for external collection:",e.collectionName))}return console.log("‚úÖ Final image URL:",t),t},mh=e=>{window.allCollections&&console.log("üîç Available collections in window.allCollections:",{total:window.allCollections.length,sample:window.allCollections.slice(0,3).map(n=>({name:n.name,nfts:n.nfts?.length||0,firstNFTImage:n.nfts?.[0]?.image}))});const t=window.allCollections?.find(n=>n.name===e.collectionName||n.name?.toLowerCase().includes(e.collectionName?.toLowerCase())||e.collectionName?.toLowerCase().includes(n.name?.toLowerCase()));if(t){if(console.log("üîç Found collection for fallback:",{name:t.name,nfts:t.nfts?.length||0,firstNFT:t.nfts?.[0]}),t.nfts&&t.nfts.length>0){const r=t.nfts[0],a=r.image||r.image_url||r.media_url;if(a&&!a.startsWith("ipfs://"))return console.log("üñºÔ∏è Using first NFT image from collection as fallback:",t.name,a),a;if(a&&a.startsWith("ipfs://")){const c=`https://gateway.lighthouse.storage/ipfs/${a.replace("ipfs://","")}`;return console.log("üñºÔ∏è Converting IPFS NFT image for fallback:",t.name,c),c}}const n=t.cover||t.banner||t.metadataBanner;if(n)return console.log("üñºÔ∏è Using collection fallback image:",t.name,n),n}return console.log("‚ö†Ô∏è No fallback image found, using placeholder"),null},Md=()=>{const{searchResults:e,showSearchResults:t,hideSearchResults:n,searchTerm:r}=hu(),a=an(),i=N.useCallback(f=>{n(),a(`/launchpad/collection/${f.address}`),console.log("Collection clicked:",f)},[n,a]),c=N.useCallback(f=>{n();const m=new URLSearchParams;f.id&&m.set("nftId",f.id),f.token?.address&&m.set("contract",f.token.address),f.metadata?.name&&m.set("nftName",f.metadata.name),f.collectionName&&m.set("collection",f.collectionName),a(`/my-nfts?${m.toString()}`),console.log("NFT clicked with search params:",f,m.toString())},[n,a]),o=N.useCallback(()=>{n(),a("/")},[n,a]),l=N.useCallback(()=>{n(),a("/my-nfts")},[n,a]),d=N.useMemo(()=>e.collections.length+e.nfts.length,[e.collections.length,e.nfts.length]),u=N.useMemo(()=>e.collections.slice(0,3),[e.collections]),h=N.useMemo(()=>e.nfts.slice(0,3),[e.nfts]);return!t||!r?null:s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900/95 backdrop-blur-sm border border-zinc-700/30 rounded-xl shadow-xl z-50 max-h-96 overflow-y-auto",children:e.isLoading?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(Fs,{className:"w-6 h-6 animate-spin mx-auto text-zinc-400 mb-2"}),s.jsx("p",{className:"text-zinc-400",children:"Searching..."})]}):d===0?s.jsxs("div",{className:"p-6 text-center",children:[s.jsx(uh,{className:"w-8 h-8 mx-auto text-zinc-400 mb-2"}),s.jsxs("p",{className:"text-zinc-400",children:['No results found for "',r,'"']})]}):s.jsxs("div",{className:"p-4",children:[e.collections.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-semibold text-zinc-300 flex items-center gap-2",children:[s.jsx(uh,{className:"w-4 h-4"}),"Collections (",e.collections.length,")"]}),s.jsx("button",{onClick:o,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"View all"})]}),s.jsx("div",{className:"space-y-2",children:u.map((f,m)=>(m===0&&console.log("üîç First collection in search results:",{name:f.name,cover:f.cover,banner:f.banner,metadataBanner:f.metadataBanner,nfts:f.nfts,nftsCount:f.nfts?.length||0,firstNFTImage:f.nfts?.[0]?.image,firstNFT:f.nfts?.[0],fullCollection:f}),s.jsxs("div",{onClick:()=>i(f),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-zinc-800/50 cursor-pointer transition-colors",children:[s.jsxs("div",{className:"w-10 h-10 rounded-lg bg-zinc-800 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[(()=>{const x=f.cover||f.banner||f.metadataBanner||f.metadata?.image||f.metadata?.banner,p=x;return x?s.jsx(Es,{src:p,alt:f.name,className:"w-full h-full object-cover",priority:m<2,sizes:"40px",onError:g=>{console.warn("‚ö†Ô∏è Collection image failed to load:",g.target.src),g.target.style.display="none",g.target.nextSibling.style.display="flex"}}):null})(),(!f.cover&&!f.banner&&!f.metadataBanner&&!(f.nfts&&f.nfts.length>0),null),!f.cover&&!f.banner&&!f.metadataBanner&&f.nfts&&f.nfts.length>0?s.jsx(Es,{src:f.nfts[0].image,alt:`${f.name} NFT`,className:"w-full h-full object-cover",priority:m<2,sizes:"40px",onError:x=>{console.warn("‚ö†Ô∏è Collection NFT image failed to load:",x.target.src),x.target.style.display="none",x.target.nextSibling.style.display="flex"}}):null,s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:f.cover||f.banner||f.metadataBanner||f.nfts&&f.nfts.length>0?"none":"flex"},children:s.jsx(Od,{className:"w-5 h-5 text-zinc-400"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-white truncate",children:f.name}),s.jsx("p",{className:"text-xs text-zinc-400 truncate",children:f.description||"No description"})]}),s.jsx(Dc,{className:"w-4 h-4 text-zinc-400"})]},`collection-${m}`)))})]}),e.nfts.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"text-sm font-semibold text-zinc-300 flex items-center gap-2",children:[s.jsx(Od,{className:"w-4 h-4"}),"My NFTs (",e.nfts.length,")"]}),s.jsx("button",{onClick:l,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"View all"})]}),s.jsx("div",{className:"space-y-2",children:h.map((f,m)=>{m===0&&console.log("üîç First NFT in search results:",{id:f.id,directImage:f.image,metadataImage:f.metadata?.image,contractAddress:f.contractAddress||f.token?.address,isFactoryNFT:f.isFactoryNFT,collectionName:f.collectionName,fullNft:f});let x=ME(f);if(x||(x=mh(f),console.log("üîÑ Using fallback image for NFT:",f.metadata?.name||f.id)),!x&&f.collectionName){const p=window.allCollections?.find(g=>g.name===f.collectionName||g.name?.toLowerCase().includes(f.collectionName?.toLowerCase())||f.collectionName?.toLowerCase().includes(g.name?.toLowerCase()));if(p&&p.nfts&&p.nfts.length>0){const g=p.nfts[0],b=g.image||g.image_url||g.media_url;b&&(b.startsWith("ipfs://")?x=`https://gateway.lighthouse.storage/ipfs/${b.replace("ipfs://","")}`:x=b,console.log("üñºÔ∏è Using collection NFT image as fallback:",p.name,x))}}return s.jsxs("div",{onClick:()=>c(f),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-zinc-800/50 cursor-pointer transition-colors",children:[s.jsxs("div",{className:"w-10 h-10 rounded-lg bg-zinc-800 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[x?s.jsx(Es,{src:x,alt:f.metadata?.name||`NFT #${f.id}`,className:"w-full h-full object-cover",priority:m<2,sizes:"40px",onError:p=>{console.warn("‚ö†Ô∏è NFT image failed to load:",p.target.src),console.log("üîç NFT data for debugging:",{nft:f.id,directImage:f.image,metadataImage:f.metadata?.image,resolvedUrl:x});const g=mh(f);g&&g!==x?(console.log("üîÑ Retrying with fallback image:",g),p.target.src=g):(p.target.style.display="none",p.target.nextSibling.style.display="flex")}}):null,s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:x?"none":"flex"},children:s.jsx("img",{src:Vt,alt:"Logo",className:"w-5 h-5 opacity-50"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium text-white truncate",children:f.metadata?.name||`NFT #${f.id}`}),s.jsx("p",{className:"text-xs text-zinc-400 truncate",children:f.collectionName})]}),s.jsx(Dc,{className:"w-4 h-4 text-zinc-400"})]},`nft-${f.token?.address}-${f.id}-${m}`)})})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-zinc-700/30",children:s.jsxs("p",{className:"text-xs text-zinc-500 text-center",children:["Found ",d," result",d!==1?"s":"",' for "',r,'"']})})]})})},zE=({isOpen:e,onClose:t})=>{const{connect:n,disconnect:r,isConnected:a,address:i,connectors:c}=dr(),[o,l]=N.useState([]),[d,u]=N.useState(!1);if(!e)return null;N.useEffect(()=>{if(e){document.body.classList.add("modal-open");const x=document.querySelector(".wallet-modal-overlay");x&&(x.style.position="fixed",x.style.top="0",x.style.left="0",x.style.right="0",x.style.bottom="0",x.style.display="flex",x.style.alignItems="center",x.style.justifyContent="center",x.style.zIndex="999999",x.style.width="100vw",x.style.height="100vh")}else document.body.classList.remove("modal-open");return()=>{document.body.classList.remove("modal-open")}},[e]),N.useEffect(()=>{try{console.log("[ConnectModal] available connectors:",c?.map(p=>({id:p.id,name:p.name})))}catch{}const x=m.map(p=>({...p,installed:p.id==="metamask"?window.ethereum&&window.ethereum.isMetaMask:p.id==="rabby"?window.ethereum&&window.ethereum.isRabby:p.id==="keplr"?!!window.keplr:p.id==="subwallet"?!!(window.injectedWeb3&&window.injectedWeb3["polkadot-js"]):p.id==="pontem"?window.ethereum&&window.ethereum.isPontem:p.id==="nightly"?window.ethereum&&window.ethereum.isNightly:p.id==="okx"?window.ethereum&&window.ethereum.isOkxWallet:!0}));l(x)},[]);const h=async x=>{if(!d)try{u(!0),console.log("Attempting to connect with wallet:",x);const p=c?.find(w=>w.id.toLowerCase().includes(x)),g=c?.find(w=>(w.name||"").toLowerCase().includes(x)),b=p||g||c?.[0],v=await n({connectorId:b?.id,connectorName:b?.name});if(!v?.success)throw v?.error||new Error("Failed to connect");t()}catch(p){console.error("Failed to connect:",p),alert(`Connection failed: ${p.message}`)}finally{u(!1)}},f=async()=>{try{await r(),t()}catch(x){console.error("Failed to disconnect:",x)}},m=[{id:"metamask",name:"MetaMask",icon:"ü¶ä",description:"Connect using MetaMask",installed:!0},{id:"walletconnect",name:"WalletConnect",icon:"üîó",description:"Connect using WalletConnect",installed:!0},{id:"rabby",name:"Rabby Wallet",icon:"üê∞",description:"Connect using Rabby Wallet",installed:!0},{id:"keplr",name:"Keplr",icon:"üîµ",description:"Connect using Keplr",installed:window.keplr},{id:"subwallet",name:"SubWallet",icon:"üü¢",description:"Connect using SubWallet",installed:window.injectedWeb3&&window.injectedWeb3["polkadot-js"]},{id:"pontem",name:"Pontem Wallet",icon:"üü£",description:"Connect using Pontem Wallet",installed:window.ethereum&&window.ethereum.isPontem},{id:"nightly",name:"Nightly",icon:"üåô",description:"Connect using Nightly",installed:window.ethereum&&window.ethereum.isNightly},{id:"okx",name:"OKX Wallet",icon:"‚ö´",description:"Connect using OKX Wallet",installed:window.ethereum&&window.ethereum.isOkxWallet}];return rr.createPortal(s.jsx("div",{className:"wallet-modal-overlay fixed inset-0 bg-black/60 backdrop-blur-md p-4 z-[100000]",onClick:t,children:s.jsxs("div",{className:"wallet-modal-content bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl mx-auto my-auto",onClick:x=>x.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:Vt,alt:"Dreava",className:"w-8 h-8"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect"})]}),s.jsx("button",{onClick:t,className:"text-zinc-400 hover:text-white transition-colors duration-200",children:s.jsx(Bt,{size:24})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:a?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-green-400 font-medium",children:"Connected"})]}),s.jsx("p",{className:"text-zinc-300 text-sm font-mono break-all",children:i})]}),s.jsx("button",{onClick:f,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors duration-200",children:"Disconnect Wallet"})]}):s.jsx("div",{className:"space-y-3",children:o.map(x=>s.jsxs("button",{onClick:()=>h(x.id),disabled:!x.installed||d,className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all duration-200 ${x.installed?"bg-zinc-800 border-zinc-700 hover:bg-zinc-700 hover:border-zinc-600 cursor-pointer":"bg-zinc-800/50 border-zinc-700/50 cursor-not-allowed opacity-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:x.icon}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-white",children:x.name}),x.installed&&s.jsx("span",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full",children:"installed"})]}),s.jsx("p",{className:"text-zinc-400 text-sm",children:x.description})]})]}),d&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]},x.id))})}),s.jsx("div",{className:"p-6 border-t border-zinc-800 bg-zinc-900/50",children:s.jsxs("p",{className:"text-center text-zinc-400 text-sm",children:["By connecting your wallet, you agree to our"," ",s.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-blue-300 underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-blue-300 underline",children:"Privacy Policy"})]})})]})}),document.body)},ph=({isMobile:e=!1})=>{const[t,n]=N.useState(!1),[r,a]=N.useState(!1),i=N.useRef(),{disconnect:c,isConnected:o,address:l,isLoading:d}=dr();N.useEffect(()=>{const m=x=>{i.current&&!i.current.contains(x.target)&&n(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const u=()=>{o?n(m=>!m):a(!0)},h=async()=>{try{await c(),n(!1)}catch(m){console.error("Disconnect failed:",m)}},f=m=>m?`${m.slice(0,6)}...${m.slice(-4)}`:"";return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:u,disabled:d,"data-wallet-connect":!0,className:`flex items-center gap-2 rounded-xl text-white font-semibold shadow hover:shadow-lg hover:scale-105 transition-all duration-200 bg-gradient-to-r from-blue-500 to-pink-500 ${e?"px-3 py-2":"px-4 py-2"}`,children:[s.jsx("img",{src:oN,alt:"Wallet",className:"w-5 h-5"}),o?f(l):"Connect"]}),t&&rr.createPortal(s.jsx("div",{ref:i,className:"fixed inset-0 z-[100000]",onClick:()=>n(!1),children:s.jsx("div",{className:"absolute right-3 top-16 w-64 bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl shadow-2xl animate-fadeIn",onClick:m=>m.stopPropagation(),children:s.jsxs("div",{className:"pt-2",children:[s.jsx(An,{to:"/my-nfts",onClick:()=>n(!1),className:"block px-4 py-3 hover:bg-white/5 text-white transition-colors duration-200",children:"My NFTs"}),s.jsx("button",{onClick:h,className:"w-full text-left px-4 py-3 text-red-400 hover:bg-red-400/10 transition-colors duration-200",children:"Disconnect"})]})})}),document.body),r&&s.jsx("div",{className:"relative z-[999999]",children:s.jsx(zE,{isOpen:r,onClose:()=>a(!1)})})]})},br=50312,Io="0xc488",BE={chainId:Io,chainName:"Somnia Testnet",rpcUrls:["https://dream-rpc.somnia.network/"],nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},blockExplorerUrls:["https://shannon-explorer.somnia.network/"]};async function _s(){if(console.log("[Network] ensureSomniaNetwork invoked"),typeof window>"u"||!window.ethereum)throw new Error("Wallet not detected");try{typeof window.ethereum.request=="function"&&(console.log("[Network] requesting permissions: wallet_requestPermissions"),await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))}catch{}const e=await window.ethereum.request({method:"eth_chainId"});if(console.log("[Network] current chainId:",e),e===Io)return console.log("[Network] already on Somnia"),!0;try{return console.log("[Network] trying wallet_switchEthereumChain to",Io),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Io}]}),console.log("[Network] switchEthereumChain success"),!0}catch(t){if(console.warn("[Network] switchEthereumChain error:",t?.code,t?.message||t),t&&(t.code===4902||String(t.message||"").toLowerCase().includes("unrecognized")))return console.log("[Network] trying wallet_addEthereumChain"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[BE]}),console.log("[Network] addEthereumChain success"),!0;throw t}}const LE=()=>{const e=an(),t=Pi(),{searchTerm:n,filters:r,updateSearch:a,updateFilters:i,clearSearch:c,hideSearchResults:o}=hu(),[l,d]=N.useState(!1),[u,h]=N.useState(!1),{isConnected:f,chainId:m,switchNetwork:x,balance:p}=dr();N.useEffect(()=>{f||console.warn("‚ùå Wallet not connected")},[f]),N.useEffect(()=>{(async()=>{if(f&&m!==br)try{console.log("[Header] enforcing network. current chainId:",m),await x(br)}catch(E){console.warn("[Header] Network switch failed (wagmi):",E?.message||E)}})()},[f,m,x]),N.useEffect(()=>{const y=E=>{E.target.closest(".search-container")||o(),!E.target.closest(".mobile-menu")&&u&&h(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[o,u]),N.useEffect(()=>{h(!1),d(!1)},[t.pathname]);const g=()=>{e("/create-dreams"),h(!1)},b=N.useCallback(y=>{a(y.target.value)},[a]),v=N.useCallback((y,E)=>{i({...r,[y]:E})},[r,i]),w=N.useCallback(()=>{c()},[c]),C=y=>{if(!y)return"0.00";try{return parseFloat(y).toFixed(2)}catch{return"0.00"}};return s.jsx(s.Fragment,{children:s.jsxs("header",{className:"bg-black text-white px-4 md:px-6 py-3 flex items-center justify-between border-b border-zinc-800 relative z-[100]",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(An,{to:"/",children:s.jsx("img",{src:Vt,alt:"Logo",className:"h-8 md:h-9"})}),s.jsxs("button",{onClick:g,className:"hidden md:inline-flex items-center bg-zinc-800 hover:bg-zinc-700 text-white font-semibold px-6 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg border border-zinc-700",children:[s.jsx(Dd,{className:"inline w-4 h-4 mr-2"}),"Create your dreams"]})]}),s.jsx("div",{className:"hidden md:block flex-1 md:px-10 md:max-w-xl",children:s.jsxs("div",{className:"search-container relative",children:[s.jsxs("div",{className:"relative",children:[s.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search items, collections and accounts",value:n,onChange:b,className:"w-full px-4 py-2 rounded-full bg-zinc-800 placeholder-zinc-400 text-white focus:outline-none pl-10 pr-20"}),n&&s.jsx("button",{onClick:w,className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:s.jsx(Bt,{size:16})}),s.jsx("button",{onClick:()=>d(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:s.jsx(LN,{size:16})})]}),l&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl p-4 z-40",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Price Range"}),s.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.priceRange||"",onChange:y=>v("priceRange",y.target.value),children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"0-0.1",children:"0 - 0.1 STT"}),s.jsx("option",{value:"0.1-1",children:"0.1 - 1 STT"}),s.jsx("option",{value:"1-10",children:"1 - 10 STT"}),s.jsx("option",{value:"10+",children:"10+ STT"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Supply Range"}),s.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.supplyRange||"",onChange:y=>v("supplyRange",y.target.value),children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"1-100",children:"1 - 100"}),s.jsx("option",{value:"100-1000",children:"100 - 1,000"}),s.jsx("option",{value:"1000-10000",children:"1,000 - 10,000"}),s.jsx("option",{value:"10000+",children:"10,000+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),s.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.type||"",onChange:y=>v("type",y.target.value),children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"collection",children:"Collection"}),s.jsx("option",{value:"nft",children:"NFT"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Sort"}),s.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.sort||"",onChange:y=>v("sort",y.target.value),children:[s.jsx("option",{value:"relevance",children:"Relevance"}),s.jsx("option",{value:"newest",children:"Newest"}),s.jsx("option",{value:"popular",children:"Popular"})]})]})]})}),s.jsx(Md,{})]})}),s.jsxs("div",{className:"hidden md:flex items-center gap-6 relative",children:[s.jsx(An,{to:"/launchpad",className:"font-semibold",children:"Launchpad"}),s.jsx(An,{to:"/marketplace",className:"font-semibold",children:"Marketplace"}),f&&p&&s.jsxs("div",{className:"flex items-center gap-1 pr-2",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-5 h-5"}),s.jsxs("span",{className:"font-bold text-sm",children:[C(p)," STT"]})]}),s.jsx(ph,{})]}),s.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[s.jsx("button",{onClick:()=>d(!l),className:"p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:s.jsx(To,{className:"w-5 h-5"})}),s.jsx("div",{className:"p-2",children:s.jsx(ph,{isMobile:!0})}),s.jsx("button",{onClick:()=>h(!u),className:"p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:s.jsx(XN,{className:"w-5 h-5"})})]}),l&&rr.createPortal(s.jsx("div",{className:"search-container fixed inset-x-0 top-20 z-[100000] md:hidden px-4 animate-fadeIn",children:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl p-3 shadow-2xl mx-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(To,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search collections, NFTs, creators...",value:n,onChange:b,className:"w-full pl-10 pr-10 py-3 bg-zinc-800/60 border border-zinc-700/50 rounded-lg text-white placeholder:text-zinc-500 focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300",autoFocus:!0}),n&&s.jsx("button",{onClick:w,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:s.jsx(Bt,{size:16})})]}),s.jsx("div",{className:"mt-2",children:s.jsx(Md,{})})]})}),document.body),u&&s.jsx("div",{className:"mobile-menu md:hidden absolute top-full left-0 right-0 bg-zinc-900/95 backdrop-blur-xl border-t border-zinc-800/50 animate-fadeIn",children:s.jsxs("div",{className:"p-6 space-y-6 relative",children:[s.jsx("button",{onClick:()=>h(!1),className:"absolute top-0 right-0 p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:s.jsx(Bt,{className:"w-6 h-6"})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("button",{onClick:()=>{g(),h(!1)},className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-semibold px-6 py-4 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg border border-zinc-700 shadow-lg",children:[s.jsx(Dd,{className:"inline w-5 h-5 mr-2"}),"Create Your Dreams"]}),s.jsx("p",{className:"text-zinc-400 text-sm mt-2",children:"Build, populate, and manage your NFT collections."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(An,{to:"/launchpad",onClick:()=>h(!1),className:"block text-center py-3 font-semibold text-white hover:text-pink-400 transition-colors duration-200 border border-zinc-700 rounded-lg hover:bg-zinc-800/50",children:"Launchpad"}),s.jsx(An,{to:"/marketplace",onClick:()=>h(!1),className:"block text-center py-3 font-semibold text-white hover:text-pink-400 transition-colors duration-200 border border-zinc-700 rounded-lg hover:bg-zinc-800/50",children:"Marketplace"})]})]})})]})})};var Np={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gh=Se.createContext&&Se.createContext(Np),UE=["attr","size","title"];function $E(e,t){if(e==null)return{};var n=WE(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WE(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(this,arguments)}function xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xh(Object(n),!0).forEach(function(r){HE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HE(e,t,n){return t=qE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qE(e){var t=GE(e,"string");return typeof t=="symbol"?t:t+""}function GE(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ep(e){return e&&e.map((t,n)=>Se.createElement(t.tag,qc({key:n},t.attr),Ep(t.child)))}function Cu(e){return t=>Se.createElement(VE,Hc({attr:qc({},e.attr)},t),Ep(e.child))}function VE(e){var t=n=>{var{attr:r,size:a,title:i}=e,c=$E(e,UE),o=a||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Se.createElement("svg",Hc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:l,style:qc(qc({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Se.createElement("title",null,i),e.children)};return gh!==void 0?Se.createElement(gh.Consumer,null,n=>t(n)):t(Np)}function YE(e){return Cu({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(e)}function ZE(e){return Cu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(e)}function KE(e){return Cu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}const JE=()=>s.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-[#0d0d0d] border-t border-zinc-700 z-[80]",children:s.jsxs("div",{className:"flex flex-row items-center justify-between px-4 md:px-6 py-3 w-full min-h-[52px]",children:[s.jsxs("div",{className:"flex gap-6 text-xs md:text-sm text-white whitespace-nowrap overflow-x-auto no-scrollbar",children:[s.jsx("a",{href:"https://www.notion.so/dreava-art-NFT-Launchpad-Guide-Step-by-Step-from-Collection-to-Sale-220626bc8ae98000adfffd01b1aff334",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:"Docs"}),s.jsx(An,{to:"/privacy",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"}),s.jsx(An,{to:"/terms",className:"hover:text-blue-400 transition-colors",children:"Terms Of Service"})]}),s.jsxs("div",{className:"flex gap-4 flex-shrink-0",children:[s.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:s.jsx(YE,{className:"text-white w-5 h-5"})}),s.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:s.jsx(KE,{className:"text-white w-5 h-5"})}),s.jsx("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:s.jsx(ZE,{className:"text-white w-5 h-5"})})]})]})}),XE="/assets/blurry%20circle%20on%20the%20left-B9j3xpR6.svg",QE="/assets/blurry%20circle%20on%20the%20right-BrslP2N3.svg",_a=()=>s.jsxs(s.Fragment,{children:[s.jsx("img",{src:XE,alt:"",className:"fixed top-[-400px] left-0 w-[800px] translate-x-[-50%] translate-y-[50%] pointer-events-none select-none z-0"}),s.jsx("img",{src:QE,alt:"",className:"fixed top-[-80px] right-0 w-[800px] translate-x-[50%] pointer-events-none select-none z-0"})]}),Ro="/assets/IMG-ClTlsDTj.mov",e_=({onLoadingComplete:e})=>{const[t,n]=N.useState("Initializing"),[r,a]=N.useState(!0),[i,c]=N.useState(!1),[o,l]=N.useState(0),d=N.useRef(null),u=async()=>{n("Preloading assets"),l(30),await new Promise(f=>setTimeout(f,300)),l(60)},h=async()=>{n("Loading collections"),l(80);try{JSON.parse(localStorage.getItem("dreava_collections")||"[]")}catch{}await new Promise(f=>setTimeout(f,200)),l(90)};return N.useEffect(()=>{(async()=>{try{const m=Date.now(),x=2e3;n("Initializing"),l(10),await new Promise(g=>setTimeout(g,300)),await u(),await h(),n("Almost ready"),l(95),await new Promise(g=>setTimeout(g,300)),l(100),n("Ready");const p=Date.now()-m;p<x&&await new Promise(g=>setTimeout(g,x-p)),a(!1),e&&e()}catch(m){console.error("Loading error:",m),a(!1),e&&e()}})()},[e]),r?s.jsxs("div",{className:"fixed inset-0 bg-black z-[9996] flex flex-col items-center justify-center",children:[s.jsx(_a,{}),i?s.jsx("div",{className:"relative z-10 mb-6 w-64 h-64 bg-zinc-800/80 backdrop-blur-sm rounded-2xl shadow-2xl flex items-center justify-center border border-zinc-700/30",children:s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:Vt,alt:"Dreava",className:"w-32 h-32 mx-auto mb-4"}),s.jsx("div",{className:"text-zinc-300 text-lg font-semibold",children:"Dreava"})]})}):s.jsx("div",{className:"relative z-10 mb-6",children:s.jsx("video",{ref:d,src:Ro,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-64 h-64 object-cover rounded-2xl shadow-2xl",onError:f=>{console.warn("Failed to load video:",f),c(!0),f.target.style.display="none"}})}),s.jsx("div",{className:"relative z-10 w-80 h-2 bg-zinc-800 rounded-full overflow-hidden mb-4",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-blue-500 rounded-full transition-all duration-300 ease-out",style:{width:`${o}%`}})}),s.jsxs("div",{className:"relative z-10 text-zinc-300 text-sm font-medium mb-2",children:[Math.round(o),"%"]}),s.jsx("div",{className:"relative z-10 text-zinc-300 text-sm font-medium",children:t})]}):null},t_=()=>window.ethereum&&(window.ethereum.isMetaMask||window.ethereum.isWalletConnect||window.ethereum.isCoinbaseWallet||window.ethereum.isReown),n_=()=>window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"Coinbase Wallet":window.ethereum.isReown?"Reown":"Unknown Provider":null,r_=async()=>{try{return window.ethereum?await window.ethereum.request({method:"eth_chainId"})!==void 0:!1}catch(e){return console.warn("Network availability check failed:",e),!1}},s_=({enabled:e=!1})=>{const[t,n]=N.useState({hasProvider:!1,providerType:null,networkAvailable:!1,lastCheck:null}),[r,a]=N.useState(!1);return N.useEffect(()=>{if(!e)return;const i=async()=>{try{const o=t_(),l=n_(),d=await r_();n({hasProvider:o,providerType:l,networkAvailable:d,lastCheck:new Date().toLocaleTimeString()})}catch(o){console.error("Wallet status check failed:",o),n(l=>({...l,lastCheck:new Date().toLocaleTimeString()}))}},c=setInterval(i,5e3);return i(),()=>clearInterval(c)},[e]),e?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>a(!r),className:"fixed bottom-4 right-4 z-50 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:[r?"Hide":"Show"," Wallet Status"]}),r&&s.jsxs("div",{className:"fixed bottom-16 right-4 z-50 bg-gray-900 border border-gray-700 rounded-lg p-4 text-white text-sm shadow-xl max-w-xs",children:[s.jsx("h3",{className:"font-bold mb-2 text-blue-400",children:"Wallet Status Monitor"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Provider:"}),s.jsx("span",{className:t.hasProvider?"text-green-400":"text-red-400",children:t.providerType||"None"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Network:"}),s.jsx("span",{className:t.networkAvailable?"text-green-400":"text-red-400",children:t.networkAvailable?"Available":"Unavailable"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Last Check:"}),s.jsx("span",{className:"text-gray-400 text-xs",children:t.lastCheck||"Never"})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsxs("div",{children:["Window.ethereum: ",window.ethereum?"‚úì":"‚úó"]}),s.jsxs("div",{children:["MetaMask: ",window.ethereum?.isMetaMask?"‚úì":"‚úó"]}),s.jsxs("div",{children:["Reown: ",window.ethereum?.isReown?"‚úì":"‚úó"]})]})})]})]}):null},a_=({enabled:e=!1})=>{const[t,n]=N.useState({pageLoadTime:null,errors:[],warnings:[],walletStatus:null,networkRequests:[],domReady:!1}),[r,a]=N.useState(!1);return N.useEffect(()=>{if(!e)return;const i=performance.now(),c=f=>{n(m=>({...m,errors:[...m.errors,{message:f.message||f.error?.message||"Unknown error",source:f.filename||f.target?.src||"Unknown",line:f.lineno||"Unknown",time:new Date().toLocaleTimeString()}]}))},o=f=>{(f.target.tagName==="SCRIPT"||f.target.tagName==="LINK")&&n(m=>({...m,networkRequests:[...m.networkRequests,{url:f.target.src||f.target.href,type:f.target.tagName,success:!f.target.onerror,time:new Date().toLocaleTimeString()}]}))},l=f=>{n(m=>({...m,errors:[...m.errors,{message:`Failed to load resource: ${f.target.src||f.target.href}`,source:f.target.src||f.target.href||"Unknown",time:new Date().toLocaleTimeString()}]}))},d=()=>{n(f=>({...f,domReady:document.readyState==="complete",pageLoadTime:((performance.now()-i)/1e3).toFixed(2)}))};window.addEventListener("error",c),window.addEventListener("unhandledrejection",f=>{c({message:f.reason?.message||"Unhandled promise rejection"})}),window.addEventListener("load",d),document.addEventListener("DOMContentLoaded",d),document.addEventListener("load",o,!0),document.addEventListener("error",l,!0);const u=()=>{const f={hasEthereum:!!window.ethereum,ethereumType:window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isReown?"Reown":"Unknown":"None",time:new Date().toLocaleTimeString()};n(m=>({...m,walletStatus:f}))},h=setInterval(u,2e3);return u(),()=>{window.removeEventListener("error",c),window.removeEventListener("unhandledrejection",c),window.removeEventListener("load",d),document.removeEventListener("DOMContentLoaded",d),document.removeEventListener("load",o,!0),document.removeEventListener("error",l,!0),clearInterval(h)}},[e]),e?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>a(!r),className:"fixed bottom-4 left-4 z-50 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:[r?"Hide":"Show"," Debug"]}),r&&s.jsxs("div",{className:"fixed bottom-16 left-4 z-50 bg-gray-900 border border-gray-700 rounded-lg p-4 text-white text-sm shadow-xl max-w-md max-h-96 overflow-y-auto",children:[s.jsx("h3",{className:"font-bold mb-2 text-red-400",children:"Debug Loader"}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"DOM Ready:"}),s.jsx("span",{className:t.domReady?"text-green-400":"text-red-400",children:t.domReady?"Yes":"No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Load Time:"}),s.jsx("span",{className:"text-blue-400",children:t.pageLoadTime?`${t.pageLoadTime}s`:"Loading..."})]})]}),t.walletStatus&&s.jsxs("div",{className:"mb-3 p-2 bg-gray-800 rounded",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Wallet Status:"}),s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{children:["Ethereum: ",t.walletStatus.hasEthereum?"‚úì":"‚úó"]}),s.jsxs("div",{children:["Type: ",t.walletStatus.ethereumType]}),s.jsxs("div",{children:["Time: ",t.walletStatus.time]})]})]}),t.errors.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"text-xs text-red-400 mb-1",children:["Errors (",t.errors.length,"):"]}),s.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:t.errors.slice(-5).map((i,c)=>s.jsx("div",{className:"text-xs text-red-300 bg-red-900 p-1 rounded",children:i.message},c))})]}),t.warnings.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"text-xs text-yellow-400 mb-1",children:["Warnings (",t.warnings.length,"):"]}),s.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:t.warnings.slice(-5).map((i,c)=>s.jsx("div",{className:"text-xs text-yellow-300 bg-yellow-900 p-1 rounded",children:i.message},c))})]}),t.networkRequests.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-blue-400 mb-1",children:["Network (",t.networkRequests.length,"):"]}),s.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:t.networkRequests.slice(-5).map((i,c)=>s.jsxs("div",{className:`text-xs p-1 rounded ${i.success?"text-green-300 bg-green-900":"text-red-300 bg-red-900"}`,children:[i.type,": ",i.success?"‚úì":"‚úó"]},c))})]})]})]}):null},i_=()=>{const[e,t]=N.useState({hasEthereum:!1,ethereumType:"None",metaMaskAvailable:!1,reownAvailable:!1});return N.useEffect(()=>{const n=()=>{const a=!!window.ethereum,i=window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isReown?"Reown":"Unknown":"None";t({hasEthereum:a,ethereumType:i,metaMaskAvailable:window.ethereum?.isMetaMask||!1,reownAvailable:window.ethereum?.isReown||!1})};n();const r=setInterval(n,2e3);return()=>clearInterval(r)},[]),s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"üß™ Test Page - Wallet Status"}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Wallet Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"Ethereum Provider"}),s.jsx("div",{className:`text-2xl font-bold ${e.hasEthereum?"text-green-400":"text-red-400"}`,children:e.hasEthereum?"‚úì Available":"‚úó Not Available"})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"Provider Type"}),s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.ethereumType})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"MetaMask"}),s.jsx("div",{className:`text-2xl font-bold ${e.metaMaskAvailable?"text-green-400":"text-red-400"}`,children:e.metaMaskAvailable?"‚úì Active":"‚úó Inactive"})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"Reown"}),s.jsx("div",{className:`text-2xl font-bold ${e.reownAvailable?"text-green-400":"text-red-400"}`,children:e.reownAvailable?"‚úì Active":"‚úó Inactive"})]})]})]}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"System Info"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:["User Agent: ",navigator.userAgent]}),s.jsxs("div",{children:["Platform: ",navigator.platform]}),s.jsxs("div",{children:["Language: ",navigator.language]}),s.jsxs("div",{children:["Cookies Enabled: ",navigator.cookieEnabled?"Yes":"No"]}),s.jsxs("div",{children:["Online: ",navigator.onLine?"Yes":"No"]})]})]}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Test Actions"}),s.jsxs("div",{className:"space-x-4",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded",children:"Reload Page"}),s.jsx("button",{onClick:()=>console.log("Current ethereum:",window.ethereum),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded",children:"Log Ethereum to Console"}),s.jsx("button",{onClick:()=>{try{const n=window.ethereum?.request?.({method:"eth_chainId"});console.log("Chain ID test:",n)}catch(n){console.error("Chain ID test failed:",n)}},className:"bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded",children:"Test Chain ID"})]})]}),s.jsxs("div",{className:"bg-blue-900 rounded-lg p-6 mt-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Instructions"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("div",{children:"1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)"}),s.jsx("div",{children:"2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫"}),s.jsx("div",{children:"3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MetaMask —Ä–∞–±–æ—Ç–∞–µ—Ç"}),s.jsx("div",{children:"4. –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å Reown –æ–±—Ä–∞—Ç–Ω–æ"})]})]})]})})},o_=()=>{const[e,t]=N.useState({hasEthereum:!1,ethereumType:"None",metaMaskAvailable:!1,pageLoaded:!1});return N.useEffect(()=>{const n=()=>{const a=!!window.ethereum,i=window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isBackpack?"Backpack":window.ethereum.isEVMAsk?"EVM Ask":window.ethereum.isReown?"Reown":"Unknown":"None";t({hasEthereum:a,ethereumType:i,metaMaskAvailable:window.ethereum?.isMetaMask||!1,pageLoaded:!0})};n();const r=setInterval(n,2e3);return()=>clearInterval(r)},[]),s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"üß™ Simple Test Page"}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"Page Loaded"}),s.jsx("div",{className:`text-2xl font-bold ${e.pageLoaded?"text-green-400":"text-red-400"}`,children:e.pageLoaded?"‚úì Yes":"‚úó No"})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"React Working"}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:"‚úì Yes"})]})]})]}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Wallet Status"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"Ethereum Provider"}),s.jsx("div",{className:`text-2xl font-bold ${e.hasEthereum?"text-green-400":"text-red-400"}`,children:e.hasEthereum?"‚úì Available":"‚úó Not Available"})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"Provider Type"}),s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.ethereumType})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"MetaMask"}),s.jsx("div",{className:`text-2xl font-bold ${e.metaMaskAvailable?"text-green-400":"text-red-400"}`,children:e.metaMaskAvailable?"‚úì Active":"‚úó Inactive"})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[s.jsx("div",{className:"text-lg font-medium",children:"Console Errors"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"Check F12"})]})]})]}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"System Info"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:["User Agent: ",navigator.userAgent]}),s.jsxs("div",{children:["Platform: ",navigator.platform]}),s.jsxs("div",{children:["Language: ",navigator.language]}),s.jsxs("div",{children:["Cookies Enabled: ",navigator.cookieEnabled?"Yes":"No"]}),s.jsxs("div",{children:["Online: ",navigator.onLine?"Yes":"No"]}),s.jsxs("div",{children:["Window Ethereum: ",window.ethereum?"Yes":"No"]})]})]}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Test Actions"}),s.jsxs("div",{className:"space-x-4",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded",children:"Reload Page"}),s.jsx("button",{onClick:()=>console.log("Current ethereum:",window.ethereum),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded",children:"Log Ethereum to Console"}),s.jsx("button",{onClick:()=>{try{window.ethereum?.request?window.ethereum.request({method:"eth_chainId"}).then(n=>console.log("Chain ID:",n)).catch(n=>console.error("Chain ID error:",n)):console.log("No ethereum.request method available")}catch(n){console.error("Chain ID test failed:",n)}},className:"bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded",children:"Test Chain ID"})]})]}),s.jsxs("div",{className:"bg-blue-900 rounded-lg p-6 mt-8",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Instructions"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("div",{children:"1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)"}),s.jsx("div",{children:"2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫"}),s.jsx("div",{children:"3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MetaMask —Ä–∞–±–æ—Ç–∞–µ—Ç"}),s.jsx("div",{children:"4. –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å Reown –ø–æ–∑–∂–µ"})]})]})]})})},c_=()=>{const e=dr();return s.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8",children:"üß™ Reown Test Page"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"üí∞ Wallet Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Connected:"}),s.jsx("span",{className:e.isConnected?"text-green-400":"text-red-400",children:e.isConnected?"Yes":"No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Loading:"}),s.jsx("span",{className:"text-green-400",children:"No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Address:"}),s.jsx("span",{className:"text-blue-400 font-mono text-sm",children:e.address||"Not connected"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Chain ID:"}),s.jsx("span",{className:"text-purple-400",children:e.chainId||"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Balance:"}),s.jsx("span",{className:"text-green-400",children:e.balance?`${e.balance} STT`:"Loading..."})]})]})]}),s.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"üîß Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:e.connect,disabled:e.isLoading,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Connect Wallet"}),s.jsx("button",{onClick:e.disconnect,disabled:!e.isConnected,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Disconnect"}),s.jsx("button",{onClick:()=>e.switchNetwork(50312),disabled:!e.isConnected||e.chainId===50312,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Switch to Somnia Testnet"})]})]}),s.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg md:col-span-2",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"üîç Reown AppKit Info"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"AppKit Initialized:"}),s.jsx("span",{className:e.reown.appKitState.initialized?"text-green-400":"text-red-400",children:e.reown.appKitState.initialized?"Yes":"No"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"AppKit Instance:"}),s.jsx("span",{className:"text-blue-400",children:"Not available"})]})]})]}),s.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg md:col-span-2",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"üêõ Debug Info"}),s.jsx("div",{className:"bg-gray-800 p-4 rounded-lg",children:s.jsx("pre",{className:"text-sm text-gray-300 overflow-x-auto",children:JSON.stringify({wallet:{isConnected:e.isConnected,isLoading:e.isLoading,address:e.address,chainId:e.chainId,balance:e.balance},reown:{appKitState:e.reown.appKitState,appKitNetwork:e.reown.appKitNetwork,appKitAccount:e.reown.appKitAccount,appKitBalance:e.reown.appKitBalance}},null,2)})})]})]})]})})},Nu="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2034%2034'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-291.918,-540.871)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20transform='matrix(1.00333,0,0,1.00574,-419.254,-12.0358)'%3e%3ccircle%20cx='510.859'%20cy='552.602'%20r='16.583'%20style='fill:rgb(22,22,22);stroke:white;stroke-width:0.5px;'/%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20id='svgexport-6.svg'%20transform='matrix(-1.00333,0,0,1.00574,93.3056,543.738)'%3e%3cg%20transform='matrix(1,0,0,1,-12,-12)'%3e%3cpath%20d='M10,6L8.59,7.41L13.17,12L8.59,16.59L10,18L16,12L10,6Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Eu="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2034%2034'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-695.346,-540.871)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20transform='matrix(1.00333,0,0,1.00574,-14.483,-12.0358)'%3e%3ccircle%20cx='510.859'%20cy='552.602'%20r='16.583'%20style='fill:rgb(22,22,22);stroke:white;stroke-width:0.5px;'/%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20id='svgexport-6.svg'%20transform='matrix(1.00333,0,0,1.00574,498.077,543.738)'%3e%3cg%20transform='matrix(1,0,0,1,-12,-12)'%3e%3cpath%20d='M10,6L8.59,7.41L13.17,12L8.59,16.59L10,18L16,12L10,6Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var $l={exports:{}},Wl,bh;function l_(){if(bh)return Wl;bh=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wl=e,Wl}var Hl,vh;function d_(){if(vh)return Hl;vh=1;var e=l_();function t(){}function n(){}return n.resetWarningCache=t,Hl=function(){function r(c,o,l,d,u,h){if(h!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Hl}var yh;function u_(){return yh||(yh=1,$l.exports=d_()()),$l.exports}var Ft=u_();function _p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sp(e,t,n){return t&&h_(e.prototype,t),e}function kp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zd(e,t)}function Gc(e){return Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gc(e)}function zd(e,t){return zd=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},zd(e,t)}function f_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p_(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:m_(e)}function jp(e){var t=f_();return function(){var r=Gc(e),a;if(t){var i=Gc(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return p_(this,a)}}function g_(e){return x_(e)||b_(e)||v_(e)||y_()}function x_(e){if(Array.isArray(e))return Bd(e)}function b_(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function v_(e,t){if(e){if(typeof e=="string")return Bd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bd(e,t)}}function Bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function La(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=String(e);if(t===0)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),a=r?r[1]:"",i=r?r[3]:"",c=r?r[2]:n,o=c.length>=t?c:(g_(Array(t)).map(function(){return"0"}).join("")+c).slice(t*-1);return"".concat(a).concat(o).concat(i)}var Ap={daysInHours:!1,zeroPadTime:2};function w_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.now,r=n===void 0?Date.now:n,a=t.precision,i=a===void 0?0:a,c=t.controlled,o=t.offsetTime,l=o===void 0?0:o,d=t.overtime,u;typeof e=="string"?u=new Date(e).getTime():e instanceof Date?u=e.getTime():u=e,c||(u+=l);var h=c?u:u-r(),f=Math.min(20,Math.max(0,i)),m=Math.round(parseFloat(((d?h:Math.max(0,h))/1e3).toFixed(f))*1e3),x=Math.abs(m)/1e3;return{total:m,days:Math.floor(x/(3600*24)),hours:Math.floor(x/3600%24),minutes:Math.floor(x/60%60),seconds:Math.floor(x%60),milliseconds:Number((x%1*1e3).toFixed()),completed:m<=0}}function C_(e,t){var n=e.days,r=e.hours,a=e.minutes,i=e.seconds,c=Object.assign(Object.assign({},Ap),t),o=c.daysInHours,l=c.zeroPadTime,d=c.zeroPadDays,u=d===void 0?l:d,h=Math.min(2,l),f=o?La(r+n*24,l):La(r,h);return{days:o?"":La(n,u),hours:f,minutes:La(a,h),seconds:La(i,h)}}var Tp=function(e){kp(n,e);var t=jp(n);function n(){var r;return _p(this,n),r=t.apply(this,arguments),r.state={count:r.props.count||3},r.startCountdown=function(){r.interval=window.setInterval(function(){var a=r.state.count-1;a===0?(r.stopCountdown(),r.props.onComplete&&r.props.onComplete()):r.setState(function(i){return{count:i.count-1}})},1e3)},r.stopCountdown=function(){clearInterval(r.interval)},r.addTime=function(a){r.stopCountdown(),r.setState(function(i){return{count:i.count+a}},r.startCountdown)},r}return Sp(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?N.cloneElement(this.props.children,{count:this.state.count}):null}}]),n}(N.Component);Tp.propTypes={count:Ft.number,children:Ft.element,onComplete:Ft.func};var Si=function(e){kp(n,e);var t=jp(n);function n(r){var a;if(_p(this,n),a=t.call(this,r),a.mounted=!1,a.initialTimestamp=a.calcOffsetStartTimestamp(),a.offsetStartTimestamp=a.props.autoStart?0:a.initialTimestamp,a.offsetTime=0,a.legacyMode=!1,a.legacyCountdownRef=null,a.tick=function(){var c=a.calcTimeDelta(),o=c.completed&&!a.props.overtime?void 0:a.props.onTick;a.setTimeDeltaState(c,void 0,o)},a.setLegacyCountdownRef=function(c){a.legacyCountdownRef=c},a.start=function(){if(!a.isStarted()){var c=a.offsetStartTimestamp;a.offsetStartTimestamp=0,a.offsetTime+=c?a.calcOffsetStartTimestamp()-c:0;var o=a.calcTimeDelta();a.setTimeDeltaState(o,"STARTED",a.props.onStart),!a.props.controlled&&(!o.completed||a.props.overtime)&&(a.clearTimer(),a.interval=window.setInterval(a.tick,a.props.intervalDelay))}},a.pause=function(){a.isPaused()||(a.clearTimer(),a.offsetStartTimestamp=a.calcOffsetStartTimestamp(),a.setTimeDeltaState(a.state.timeDelta,"PAUSED",a.props.onPause))},a.stop=function(){a.isStopped()||(a.clearTimer(),a.offsetStartTimestamp=a.calcOffsetStartTimestamp(),a.offsetTime=a.offsetStartTimestamp-a.initialTimestamp,a.setTimeDeltaState(a.calcTimeDelta(),"STOPPED",a.props.onStop))},a.isStarted=function(){return a.isStatus("STARTED")},a.isPaused=function(){return a.isStatus("PAUSED")},a.isStopped=function(){return a.isStatus("STOPPED")},a.isCompleted=function(){return a.isStatus("COMPLETED")},r.date){var i=a.calcTimeDelta();a.state={timeDelta:i,status:i.completed?"COMPLETED":"STOPPED"}}else a.legacyMode=!0;return a}return Sp(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(a){this.legacyMode||this.props.date!==a.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var a=this.props,i=a.date,c=a.now,o=a.precision,l=a.controlled,d=a.overtime;return w_(i,{now:c,precision:o,controlled:l,offsetTime:this.offsetTime,overtime:d})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(a){this.legacyCountdownRef.addTime(a)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(a){return this.state.status===a}},{key:"setTimeDeltaState",value:function(a,i,c){var o=this;if(this.mounted){var l=a.completed&&!this.state.timeDelta.completed,d=a.completed&&i==="STARTED";l&&!this.props.overtime&&this.clearTimer();var u=function(){c&&c(o.state.timeDelta),o.props.onComplete&&(l||d)&&o.props.onComplete(a,d)};return this.setState(function(h){var f=i||h.status;return a.completed&&!o.props.overtime?f="COMPLETED":!i&&f==="COMPLETED"&&(f="STOPPED"),{timeDelta:a,status:f}},u)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var a=this.props,i=a.daysInHours,c=a.zeroPadTime,o=a.zeroPadDays,l=this.state.timeDelta;return Object.assign(Object.assign({},l),{api:this.getApi(),props:this.props,formatted:C_(l,{daysInHours:i,zeroPadTime:c,zeroPadDays:o})})}},{key:"render",value:function(){if(this.legacyMode){var a=this.props,i=a.count,c=a.children,o=a.onComplete;return N.createElement(Tp,{ref:this.setLegacyCountdownRef,count:i,onComplete:o},c)}var l=this.props,d=l.className,u=l.overtime,h=l.children,f=l.renderer,m=this.getRenderProps();if(f)return f(m);if(h&&this.state.timeDelta.completed&&!u)return N.cloneElement(h,{countdown:m});var x=m.formatted,p=x.days,g=x.hours,b=x.minutes,v=x.seconds;return N.createElement("span",{className:d},m.total<0?"-":"",p,p?":":"",g,":",b,":",v)}}]),n}(N.Component);Si.defaultProps=Object.assign(Object.assign({},Ap),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});Si.propTypes={date:Ft.oneOfType([Ft.instanceOf(Date),Ft.string,Ft.number]),daysInHours:Ft.bool,zeroPadTime:Ft.number,zeroPadDays:Ft.number,controlled:Ft.bool,intervalDelay:Ft.number,precision:Ft.number,autoStart:Ft.bool,overtime:Ft.bool,className:Ft.string,children:Ft.element,renderer:Ft.func,now:Ft.func,onMount:Ft.func,onStart:Ft.func,onPause:Ft.func,onStop:Ft.func,onTick:Ft.func,onComplete:Ft.func};const At=e=>e?e.startsWith("ipfs://")?[`https://gateway.lighthouse.storage/ipfs/${e.replace("ipfs://","")}`]:[e]:[],ki=async e=>{const t=async n=>{const r=await fetch(n,{method:"GET",mode:"cors",headers:{Accept:"application/json"}});if(!r.ok)throw new Error(`HTTP ${r.status}`);return await r.json()};if(typeof e=="string")try{return await t(e)}catch{throw new Error("Failed to fetch from URL")}else if(Array.isArray(e)){for(const n of e)try{return await t(n)}catch{continue}throw new Error("All URLs failed")}throw new Error("Invalid URL format")},jt=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"uint256","name":"maxSupply_","type":"uint256"},{"internalType":"string","name":"baseTokenURI_","type":"string"},{"internalType":"string","name":"unrevealedURI_","type":"string"},{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"string","name":"contractURI_","type":"string"},{"internalType":"address","name":"royaltyRecipient","type":"address"},{"internalType":"uint96","name":"royaltyFeeNumerator","type":"uint96"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidDefaultRoyalty","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidDefaultRoyaltyReceiver","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidTokenRoyalty","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidTokenRoyaltyReceiver","type":"error"},{"inputs":[],"name":"ERC721EnumerableForbiddenBatchMint","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"ERC721OutOfBoundsIndex","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"AdminSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uri","type":"string"}],"name":"ContractURISet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"startPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"startTime","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"DutchAuctionStarted","type":"event"},{"anonymous":false,"inputs":[],"name":"DutchAuctionStopped","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"PaymentTokenSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"PhaseActivated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"},{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"indexed":false,"internalType":"struct SomniaNFT.Phase","name":"phase","type":"tuple"}],"name":"PhaseAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"},{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"indexed":false,"internalType":"struct SomniaNFT.Phase","name":"phase","type":"tuple"}],"name":"PhaseUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"revealed","type":"bool"}],"name":"Revealed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"name":"addPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"auction","outputs":[{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"endPrice","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseTokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentPhase","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deleteDefaultRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentAuctionPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentPhase","outputs":[{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"internalType":"struct SomniaNFT.Phase","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"getPhase","outputs":[{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"internalType":"struct SomniaNFT.Phase","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isAdmin","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mintDutch","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"mintWithERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"mintedPerWallet","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ownerMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paymentToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"phases","outputs":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setContractURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"setCurrentPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint96","name":"feeNumerator","type":"uint96"}],"name":"setDefaultRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newMax","type":"uint256"}],"name":"setMaxSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_paused","type":"bool"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setPaymentToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_revealed","type":"bool"}],"name":"setRevealed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"uri","type":"string"}],"name":"setTokenURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"},{"internalType":"string[]","name":"uris","type":"string[]"}],"name":"setTokenURIs","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setUnrevealedURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"endPrice","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"startDutchAuction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stopDutchAuction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateCurrentPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"name":"updatePhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"useERC20","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),N_=({message:e="Loading...",progress:t=null,showVideo:n=!0,showBackground:r=!0,size:a="default",className:i="",onComplete:c=null,autoProgress:o=!1,minDuration:l=2e3,showProgress:d=!0,showDots:u=!0})=>{const[h,f]=N.useState(0),[m,x]=N.useState(!1),[p,g]=N.useState(0),b=N.useRef(null),v=N.useRef(Date.now());N.useEffect(()=>{const E=setInterval(()=>{f(S=>(S+1)%4)},500);return()=>clearInterval(E)},[]),N.useEffect(()=>{if(o&&t===null){const E=setInterval(()=>{g(S=>S>=100?(clearInterval(E),c&&c(),100):S+1)},50);return()=>clearInterval(E)}},[o,t,c]),N.useEffect(()=>{if(c&&!o){const E=Date.now()-v.current,S=Math.max(0,l-E);if(S>0){const R=setTimeout(()=>{c()},S);return()=>clearTimeout(R)}else c()}},[c,o,l]);const C=(()=>{switch(a){case"small":return{container:"py-8",video:"w-32 h-32",logo:"text-2xl",message:"text-sm",progress:"w-48 h-2",dots:"w-2 h-2"};case"large":return{container:"py-20",video:"w-96 h-96",logo:"text-5xl",message:"text-xl",progress:"w-96 h-4",dots:"w-4 h-4"};default:return{container:"py-16",video:"w-64 h-64",logo:"text-4xl",message:"text-lg",progress:"w-80 h-3",dots:"w-3 h-3"}}})(),y=t!==null?t:p;return s.jsxs("div",{className:`flex flex-col items-center justify-center ${C.container} ${i}`,children:[r&&s.jsx(_a,{}),n&&!m?s.jsx("div",{className:"relative z-10 mb-8",children:s.jsx("video",{ref:b,src:Ro,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${C.video} object-cover rounded-2xl shadow-2xl`,onError:E=>{console.warn("Failed to load video:",E),x(!0),E.target.style.display="none"}})}):n&&m?s.jsx("div",{className:`relative z-10 mb-8 ${C.video} bg-zinc-800/80 backdrop-blur-sm rounded-2xl shadow-2xl flex items-center justify-center border border-zinc-700/30`,children:s.jsx("div",{className:"text-center",children:s.jsx("video",{src:Ro,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${C.video} object-cover rounded-2xl`})})}):s.jsx("div",{className:"mb-8",children:s.jsx("video",{src:Ro,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${C.video} object-cover rounded-2xl shadow-2xl`})}),s.jsxs("p",{className:`text-zinc-400 ${C.message} mb-6 text-center`,children:[e,u&&h>0&&s.jsx("span",{className:"ml-1",children:".".repeat(h)})]}),d&&s.jsxs("div",{className:`max-w-full mx-auto mb-6 ${C.progress}`,children:[s.jsx("div",{className:"bg-zinc-800/80 backdrop-blur-sm rounded-full h-full overflow-hidden border border-zinc-700/30",children:s.jsx("div",{className:"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] h-full transition-all duration-300 ease-out rounded-full",style:{width:`${y}%`}})}),s.jsx("div",{className:"flex justify-center items-center mt-2",children:s.jsxs("span",{className:"text-white font-semibold",children:[Math.round(y),"%"]})})]}),u&&s.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(E=>s.jsx("div",{className:`bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] rounded-full animate-pulse ${C.dots}`,style:{animationDelay:`${E*.2}s`,animationDuration:"1s"}},E))})]})},Ss=({message:e="Loading...",progress:t=null,showLogo:n=!0,size:r="default",className:a="",showVideo:i=!1,showBackground:c=!1,showProgress:o=!1,showDots:l=!1})=>s.jsx(N_,{message:e,progress:t,showVideo:i,showBackground:c,size:r,className:a,showProgress:o,showDots:l}),E_=({currentPage:e,totalPages:t,onPageChange:n,itemsPerPage:r=5,totalItems:a,className:i=""})=>{if(t<=1)return null;const c=e*r+1,o=Math.min((e+1)*r,a),d=(()=>{const u=[];if(t<=5)for(let f=0;f<t;f++)u.push(f);else if(e<=2){for(let f=0;f<4;f++)u.push(f);u.push("..."),u.push(t-1)}else if(e>=t-3){u.push(0),u.push("...");for(let f=t-4;f<t;f++)u.push(f)}else{u.push(0),u.push("...");for(let f=e-1;f<=e+1;f++)u.push(f);u.push("..."),u.push(t-1)}return u})();return s.jsxs("div",{className:`flex items-center justify-between ${i}`,children:[s.jsxs("div",{className:"text-sm text-zinc-400",children:["Showing ",c," to ",o," of ",a," collections"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>n(e-1),disabled:e===0,className:`p-2 rounded-lg transition-all duration-200 ${e===0?"bg-zinc-800/50 text-zinc-600 cursor-not-allowed":"bg-zinc-800/80 text-white hover:bg-zinc-700/80 hover:scale-105"}`,children:s.jsx(vp,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex items-center gap-1",children:d.map((u,h)=>s.jsx("button",{onClick:()=>typeof u=="number"&&n(u),disabled:typeof u!="number",className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${u===e?"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white":typeof u=="number"?"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700/80 hover:text-white":"text-zinc-500 cursor-default"}`,children:u==="..."?"...":u+1},h))}),s.jsx("button",{onClick:()=>n(e+1),disabled:e>=t-1,className:`p-2 rounded-lg transition-all duration-200 ${e>=t-1?"bg-zinc-800/50 text-zinc-600 cursor-not-allowed":"bg-zinc-800/80 text-white hover:bg-zinc-700/80 hover:scale-105"}`,children:s.jsx(yp,{className:"w-4 h-4"})})]})]})};class __ extends Se.Component{constructor(n){super(n);a0(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r}),console.error("Error caught by boundary:",n,r)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-700/30 p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(er,{className:"w-8 h-8 text-red-400"})}),s.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-zinc-400 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:this.handleRetry,className:"w-full px-4 py-2 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 flex items-center justify-center gap-2",children:[s.jsx(Bc,{className:"w-4 h-4"}),"Try Again"]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-zinc-800/50 text-zinc-300 rounded-lg hover:bg-zinc-700/50 transition-colors",children:"Refresh Page"})]}),!1]})}):this.props.children}}const _u=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(!0),[a,i]=N.useState(null),[c,o]=N.useState(0),l=()=>Date.now()-c>6e5,d=async(h=!1)=>{if(!h&&!l()&&e.length>0){console.log("üì¶ Using cached collections data");return}try{console.log("üîÑ Fetching active collections from API...");const f=new AbortController,m=setTimeout(()=>f.abort(),1e4),x=h?`/api/active-collections?ts=${Date.now()}`:"/api/active-collections",p=await fetch(x,{method:"GET",headers:{"Content-Type":"application/json"},signal:f.signal});if(clearTimeout(m),!p.ok)throw p.status===404?new Error("Active collections data not available yet. Please wait for the indexer to run."):p.status===429?new Error("Too many requests. Please wait a moment and try again."):new Error(`HTTP ${p.status}: ${p.statusText}`);const g=await p.json();console.log("‚úÖ Received active collections from API:",{totalCollections:g.totalCollections,validCollections:g.validCollections,activeCollections:g.activeCollections,lastUpdate:g.lastUpdate,collections:g.collections.map(b=>({address:b.address,name:b.name,banner:b.banner,metadataBanner:b.metadata?.banner,cover:b.cover,hasBanner:!!(b.banner||b.metadata?.banner),hasCover:!!b.cover,nfts:b.nfts||[],hasNFTs:!!(b.nfts&&b.nfts.length>0),firstNFTImage:b.nfts&&b.nfts.length>0?b.nfts[0].image||b.nfts[0].image_url||b.nfts[0].media_url:null}))});try{const{filterOutBlacklisted:b}=await ws(async()=>{const{filterOutBlacklisted:w}=await import("./blacklist-DCkqdEOg.js");return{filterOutBlacklisted:w}},[]),v=await b(g.collections||[]);t(v)}catch{t(g.collections||[])}o(Date.now()),i(null)}catch(f){console.error("‚ùå Failed to fetch active collections:",f),f.name==="AbortError"?i("Request timeout. Please check your connection."):f.message.includes("Too many requests")?i("Server is busy. Please wait a moment and refresh."):i(f.message),e.length===0&&t([])}finally{r(!1)}};return N.useEffect(()=>{d(!0);const h=setInterval(()=>d(),6e5);return()=>clearInterval(h)},[]),{collections:N.useMemo(()=>e,[e]),loading:n,error:a,refetch:()=>d(!0)}},Vc=({images:e=[],priority:t=!1,onProgress:n=null,onComplete:r=null})=>{const a=N.useRef(0),i=N.useRef(e.length),c=N.useRef(!1);return N.useEffect(()=>{if(!e.length||c.current)return;c.current=!0,a.current=0;const o=d=>new Promise((u,h)=>{const f=new Image;f.onload=()=>{a.current++,n&&n(a.current,i.current),u(d)},f.onerror=()=>{a.current++,n&&n(a.current,i.current),h(new Error(`Failed to load: ${d}`))},f.src=d});(async()=>{try{if(t)await Promise.allSettled(e.map(o));else for(const d of e)await o(d);r&&r(a.current,i.current)}catch{}finally{c.current=!1}})()},[e,t,n,r]),null},Su=({enabled:e=!0,onMetrics:t=null,showUI:n=!1})=>{const[r,a]=N.useState({}),[i,c]=N.useState(!1),o=N.useRef(null),l=N.useRef(null),d=()=>{if(!window.performance)return{};const m=performance.getEntriesByType("navigation")[0],x=performance.getEntriesByType("paint");return m&&(l.current=m),{dns:m?.domainLookupEnd-m?.domainLookupStart||0,tcp:m?.connectEnd-m?.connectStart||0,ttfb:m?.responseStart-m?.requestStart||0,domContentLoaded:m?.domContentLoadedEventEnd-m?.domContentLoadedEventStart||0,loadComplete:m?.loadEventEnd-m?.loadEventStart||0,totalTime:m?.loadEventEnd-m?.navigationStart||0,firstPaint:x.find(g=>g.name==="first-paint")?.startTime||0,firstContentfulPaint:x.find(g=>g.name==="first-contentful-paint")?.startTime||0,memory:window.performance.memory?{usedJSHeapSize:window.performance.memory.usedJSHeapSize,totalJSHeapSize:window.performance.memory.totalJSHeapSize,jsHeapSizeLimit:window.performance.memory.jsHeapSizeLimit,memoryUsagePercent:Math.round(window.performance.memory.usedJSHeapSize/window.performance.memory.totalJSHeapSize*100)}:null,userTiming:performance.getEntriesByType("measure").reduce((g,b)=>(g[b.name]=b.duration,g),{}),timestamp:Date.now(),userAgent:navigator.userAgent,connection:navigator.connection?{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}:null,resources:performance.getEntriesByType("resource").length,resourceTypes:performance.getEntriesByType("resource").reduce((g,b)=>{const v=b.initiatorType||"other";return g[v]=(g[v]||0)+1,g},{}),errors:window.errorCount||0,warnings:window.warningCount||0}},u=()=>{window.errorCount=0,window.warningCount=0,window.addEventListener("error",m=>{window.errorCount++,console.error("üö® Performance Monitor - Error:",m.error)}),window.addEventListener("unhandledrejection",m=>{window.warningCount++,console.warn("‚ö†Ô∏è Performance Monitor - Unhandled Promise Rejection:",m.reason)})},h=()=>{if(window.PerformanceObserver)try{o.current=new PerformanceObserver(g=>{const b=g.getEntries(),v=b[b.length-1];a(w=>({...w,lcp:v.startTime,lcpElement:v.element?.tagName||"unknown"}))}),o.current.observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(g=>{g.getEntries().forEach(v=>{a(w=>({...w,fid:v.processingStart-v.startTime,fidElement:v.name||"unknown"}))})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(g=>{let b=0;g.getEntries().forEach(v=>{v.hadRecentInput||(b+=v.value)}),a(v=>({...v,cls:b}))}).observe({entryTypes:["layout-shift"]}),new PerformanceObserver(g=>{g.getEntries().forEach(b=>{b.entryType==="navigation"&&a(v=>({...v,ttfb:b.responseStart-b.requestStart}))})}).observe({entryTypes:["navigation"]})}catch(m){console.warn("Performance monitoring setup failed:",m)}},f=()=>{const m=d(),x={...r,...m},p={lcp:x.lcp<2500?"good":x.lcp<4e3?"needs-improvement":"poor",fid:x.fid<100?"good":x.fid<300?"needs-improvement":"poor",cls:x.cls<.1?"good":x.cls<.25?"needs-improvement":"poor",ttfb:x.ttfb<800?"good":x.ttfb<1800?"needs-improvement":"poor"},g=Object.values(p).reduce((v,w)=>(w==="good"?v+=1:w==="needs-improvement"&&(v+=.5),v),0)/Object.keys(p).length,b={...x,scores:p,overallScore:Math.round(g*100),timestamp:Date.now()};return a(b),t&&t(b),b};return N.useEffect(()=>{if(!e)return;c(!0);const m=()=>{u(),h(),setTimeout(()=>{f()},1e3);const x=setInterval(f,3e4);return()=>clearInterval(x)};if(document.readyState==="complete")m();else return window.addEventListener("load",m),()=>window.removeEventListener("load",m);return()=>{o.current&&o.current.disconnect()}},[e,t]),N.useEffect(()=>{r.overallScore&&window.gtag&&window.gtag("event","performance_metrics",{event_category:"performance",value:r.overallScore,custom_parameters:{lcp:r.lcp,fid:r.fid,cls:r.cls,ttfb:r.ttfb}})},[r.overallScore]),!n||!i?null:s.jsxs("div",{className:"fixed bottom-4 right-4 bg-zinc-900/90 backdrop-blur-sm border border-zinc-700 rounded-lg p-4 text-white text-sm z-50",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Performance Monitor"}),r.overallScore&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-zinc-400",children:"Overall Score:"}),s.jsxs("span",{className:`ml-2 font-bold ${r.overallScore>=80?"text-green-400":r.overallScore>=60?"text-yellow-400":"text-red-400"}`,children:[r.overallScore,"/100"]})]}),s.jsxs("div",{className:"space-y-1 text-xs",children:[r.lcp&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"LCP:"}),s.jsxs("span",{className:r.scores?.lcp==="good"?"text-green-400":"text-red-400",children:[Math.round(r.lcp),"ms"]})]}),r.fid&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"FID:"}),s.jsxs("span",{className:r.scores?.fid==="good"?"text-green-400":"text-red-400",children:[Math.round(r.fid),"ms"]})]}),r.cls&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"CLS:"}),s.jsx("span",{className:r.scores?.cls==="good"?"text-green-400":"text-red-400",children:r.cls.toFixed(3)})]})]})]})},S_=({metrics:e,showDetails:t=!1,isVisible:n=!1})=>{const[r,a]=N.useState(!1);if(!n||!e||Object.keys(e).length===0)return null;const i=d=>d>=80?"text-green-400":d>=60?"text-yellow-400":"text-red-400",c=d=>d>=80?s.jsx(Qn,{className:"w-4 h-4"}):d>=60?s.jsx(er,{className:"w-4 h-4"}):s.jsx(er,{className:"w-4 h-4"}),o=d=>{if(!d)return"0 B";const u=1024,h=["B","KB","MB","GB"],f=Math.floor(Math.log(d)/Math.log(u));return parseFloat((d/Math.pow(u,f)).toFixed(2))+" "+h[f]},l=d=>d?d<1e3?`${Math.round(d)}ms`:`${(d/1e3).toFixed(2)}s`:"0ms";return s.jsxs("div",{className:"bg-zinc-900/90 backdrop-blur-sm border border-zinc-700 rounded-lg p-4 text-white text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"font-semibold",children:"Performance Stats"})]}),s.jsx("button",{onClick:()=>a(!r),className:"text-zinc-400 hover:text-white transition-colors",children:r?"‚àí":"+"})]}),e.overallScore&&s.jsxs("div",{className:"mb-4 p-3 bg-zinc-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-zinc-400",children:"Overall Score"}),s.jsxs("div",{className:`flex items-center gap-2 ${i(e.overallScore)}`,children:[c(e.overallScore),s.jsxs("span",{className:"font-bold text-lg",children:[e.overallScore,"/100"]})]})]}),s.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e.overallScore>=80?"bg-green-500":e.overallScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${e.overallScore}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.lcp&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[s.jsx(Wc,{className:"w-4 h-4 text-blue-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-zinc-400",children:"LCP"}),s.jsx("div",{className:"font-medium",children:l(e.lcp)})]})]}),e.fid&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[s.jsx(mN,{className:"w-4 h-4 text-green-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-zinc-400",children:"FID"}),s.jsx("div",{className:"font-medium",children:l(e.fid)})]})]}),e.cls&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[s.jsx(er,{className:"w-4 h-4 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-zinc-400",children:"CLS"}),s.jsx("div",{className:"font-medium",children:e.cls.toFixed(3)})]})]}),e.ttfb&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[s.jsx(ba,{className:"w-4 h-4 text-purple-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-zinc-400",children:"TTFB"}),s.jsx("div",{className:"font-medium",children:l(e.ttfb)})]})]})]}),r&&s.jsxs("div",{className:"space-y-3 border-t border-zinc-700 pt-3",children:[e.memory&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[s.jsx(zc,{className:"w-4 h-4 text-cyan-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-zinc-400",children:"Memory Usage"}),s.jsxs("div",{className:"font-medium",children:[o(e.memory.usedJSHeapSize)," / ",o(e.memory.totalJSHeapSize)]}),s.jsxs("div",{className:"text-xs text-zinc-500",children:[e.memory.memoryUsagePercent,"% used"]})]})]}),e.connection&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[s.jsx($c,{className:"w-4 h-4 text-green-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-zinc-400",children:"Network"}),s.jsxs("div",{className:"font-medium",children:[e.connection.effectiveType," ‚Ä¢ ",e.connection.downlink,"Mbps"]}),s.jsxs("div",{className:"text-xs text-zinc-500",children:["RTT: ",e.connection.rtt,"ms"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[s.jsx(Rs,{className:"w-4 h-4 text-orange-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-zinc-400",children:"Resources Loaded"}),s.jsxs("div",{className:"font-medium",children:[e.resources," total"]}),e.resourceTypes&&s.jsx("div",{className:"text-xs text-zinc-500",children:Object.entries(e.resourceTypes).slice(0,3).map(([d,u])=>s.jsxs("span",{className:"mr-2",children:[d,": ",u]},d))})]})]}),(e.errors>0||e.warnings>0)&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-900/30 rounded border border-red-500/30",children:[s.jsx(er,{className:"w-4 h-4 text-red-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-red-400",children:"Issues Detected"}),s.jsxs("div",{className:"font-medium text-red-300",children:[e.errors," errors ‚Ä¢ ",e.warnings," warnings"]})]})]}),s.jsxs("div",{className:"text-xs text-zinc-500 text-center",children:["Last updated: ",new Date(e.timestamp).toLocaleTimeString()]})]})]})},k_=()=>{const{collections:e,loading:t,error:n}=_u(),[r,a]=N.useState(0),[i,c]=N.useState(!1),[o,l]=N.useState("active"),[d,u]=N.useState(0),h=N.useRef(null),f=an(),{searchTerm:m,filters:x,updateSearch:p}=hu(),[g,b]=N.useState({}),[v,w]=N.useState(!1),C=N.useMemo(()=>window.innerWidth<768,[]),y=N.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]),E=N.useMemo(()=>{if(!e||e.length===0)return[];const K=[];return e.slice(0,3).forEach(J=>{J.cover&&K.push(J.cover),J.bannerImage&&K.push(J.bannerImage),J.firstNFTImage&&K.push(J.firstNFTImage)}),e.slice(0,6).forEach(J=>{J.cover&&K.push(J.cover),J.firstNFTImage&&K.push(J.firstNFTImage)}),[...new Set(K)]},[e]),S=N.useMemo(()=>Math.floor(Date.now()/1e3),[]),R=N.useMemo(()=>Math.floor(new Date("2025-06-29T00:00:00Z").getTime()/1e3),[]);N.useCallback(K=>K.totalSupply&&K.minted!==void 0&&Number(K.minted)>=Number(K.totalSupply),[]);const I=N.useCallback(K=>{const J=K.phases||{};if(Object.values(J).length===0)return!1;const ce=Object.values(J).every(ie=>Number(ie.end)<S),X=K.totalSupply&&K.minted!==void 0&&Number(K.minted)>=Number(K.totalSupply);return(K.name==="Somniac visioner"||K.name==="True Friendship in Somnia")&&console.log("üîç isSaleEnded debug for:",K.name,{phases:J,allPhasesEnded:ce,soldOut:X,now:S,phaseEnds:Object.values(J).map(ie=>({end:ie.end,endTime:new Date(ie.end*1e3)}))}),X||ce},[S]),T=N.useCallback(K=>{if(!K||Object.values(K).length===0)return!1;const J=Object.values(K).some(ce=>Number(ce.start)<=S&&S<=Number(ce.end));if(K&&Object.keys(K).length>0){const ce=Object.values(K)[0];ce&&(ce.name==="Somniac visioner"||ce.name==="True Friendship in Somnia")&&console.log("üîç isActiveSale debug:",{phases:K,hasActive:J,now:S,phaseTimes:Object.values(K).map(X=>({start:X.start,end:X.end,startTime:new Date(X.start*1e3),endTime:new Date(X.end*1e3),isActive:Number(X.start)<=S&&S<=Number(X.end)}))})}return J},[S]),M=N.useCallback(K=>K&&Object.values(K).some(J=>Number(J.start)>S),[S]),P=N.useCallback(K=>K.phases||K.metadata?.phases||{},[]),F=N.useCallback(K=>{const J=P(K);return!J||Object.values(J).length===0?0:Math.max(...Object.values(J).map(ce=>Number(ce.end)))},[P]),k=N.useCallback(K=>{const J=P(K);if(!J)return null;const ce=Math.floor(Date.now()/1e3);for(const[X,ie]of Object.entries(J))if(Number(ie.start)<=ce&&ce<=Number(ie.end))return{name:X,...ie};return null},[P]),D=K=>{const J=Number(K);return!isFinite(J)||J===0?"0":J>=1?J.toLocaleString(void 0,{maximumFractionDigits:2}):J>=.1?J.toLocaleString(void 0,{maximumFractionDigits:3}):J>=.01?J.toLocaleString(void 0,{maximumFractionDigits:4}):J.toLocaleString(void 0,{maximumFractionDigits:6})},L=N.useCallback(K=>{const J=k(K);return J?J.price:"0"},[k]),G=N.useMemo(()=>{const K=e.filter(J=>{const ce=P(J),X=T(ce)&&!I(J);return(J.name==="Somniac visioner"||J.name==="True Friendship in Somnia")&&console.log("üîç Debug collection:",J.name,{phases:ce,isActiveSale:T(ce),isSaleEnded:I(J),isActive:X}),X});return console.log("üéØ Active collections found:",K.length,K.map(J=>J.name)),K},[e,P,T,I]),z=N.useMemo(()=>{console.log("üîç Filtering collections for tab:",o,"Total collections:",e.length);let K=e.filter(J=>{const ce=P(J);let X=!1;if(o==="completed")X=I(J)&&F(J)>=R,console.log(`üìä Collection ${J.name}: completed=${X}, isSaleEnded=${I(J)}, lastPhaseEnd=${F(J)}, cutoff=${R}`);else if(o==="active")X=T(ce)&&!I(J),console.log(`üìä Collection ${J.name}: active=${X}, isActiveSale=${T(ce)}, isSaleEnded=${I(J)}`);else if(o==="upcoming"){const ie=M(ce),fe=T(ce);X=(ie||!fe&&!I(J))&&!I(J),console.log(`üìä Collection ${J.name}: upcoming=${X}, hasUpcoming=${ie}, hasActive=${fe}, isSaleEnded=${I(J)}`)}return X});if(console.log(`‚úÖ Filtered collections for ${o}:`,K.length),m){const J=m.toLowerCase();K=K.filter(ce=>ce.name.toLowerCase().includes(J)||ce.description.toLowerCase().includes(J))}return x.priceRange!=="all"&&(K=K.filter(J=>{const ce=k(J),X=ce?parseFloat(ce.price):0;switch(x.priceRange){case"low":return X<.1;case"medium":return X>=.1&&X<=1;case"high":return X>1;default:return!0}})),x.supplyRange!=="all"&&(K=K.filter(J=>{const ce=J.totalSupply||0;switch(x.supplyRange){case"small":return ce<1e3;case"medium":return ce>=1e3&&ce<=1e4;case"large":return ce>1e4;default:return!0}})),x.status!=="all"&&(K=K.filter(J=>{const ce=P(J),X=Math.floor(Date.now()/1e3);switch(x.status){case"active":return Object.values(ce).some(ie=>Number(ie.start)<=X&&X<=Number(ie.end));case"upcoming":return Object.values(ce).some(ie=>Number(ie.start)>X);case"completed":return I(J);default:return!0}})),K},[e,o,m,x,P,I,T,M,F,R,k]);N.useEffect(()=>{if(!(G.length<=1||i))return h.current=setInterval(()=>{a(K=>(K+1)%G.length)},5e3),()=>{h.current&&clearInterval(h.current)}},[G.length,i]),N.useEffect(()=>{m&&m.length>=2&&console.log("üîç Performing search for term:",m)},[m]),N.useEffect(()=>{console.log("üìä Home state:",{loading:t,error:n,collectionsCount:e.length,activeCollectionsCount:G.length,shownCollectionsCount:z.length,activeTab:o,searchTerm:m,filters:x}),e.length>0&&console.log("üìã Collections details:",e.map(K=>({name:K.name,address:K.address,phases:K.phases,totalSupply:K.totalSupply,minted:K.minted,hasPhases:Object.keys(K.phases||{}).length>0})))},[t,n,e.length,G.length,z.length,o,m,x]);const $=N.useCallback(()=>{c(!0),a(K=>(K-1+G.length)%G.length)},[G.length]),ne=N.useCallback(()=>{c(!0),a(K=>(K+1)%G.length)},[G.length]),B=N.useCallback(()=>{G[r]&&f(`/launchpad/collection/${G[r].address}`)},[G,r,f]),H=N.useCallback(K=>{f(`/launchpad/collection/${K.address}`)},[f]);N.useCallback(()=>{u(0)},[]);const W=N.useCallback(({collection:K})=>{if(!K)return null;const J=localStorage.getItem(`collection_${K.address}_banner`),ce=K.metadata?.banner?At(K.metadata.banner)[0]:null,X=K.banner?K.banner.startsWith("ipfs://")?At(K.banner)[0]:K.banner:null,ie=J||ce||X||null,fe=localStorage.getItem(`collection_${K.address}_banner_position`)||"center center",xe=localStorage.getItem(`collection_${K.address}_banner_fit`)||"cover",A=k(K),ae=L(K),oe=K.totalSupply&&K.minted!==void 0&&Number(K.minted)>=Number(K.totalSupply);return s.jsxs("div",{className:"relative h-[250px] md:h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[ie?s.jsx("img",{src:ie,alt:"banner",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:fe,objectFit:xe},onError:V=>{console.warn("‚ö†Ô∏è Banner image failed to load:",ie),V.target.style.display="none";const Y=V.target.nextElementSibling;Y&&(Y.style.display="flex")}}):null,s.jsxs("div",{className:`flex items-center justify-center h-full w-full ${ie?"hidden":""}`,style:{display:ie?"none":"flex"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[s.jsx("div",{className:"text-2xl md:text-4xl font-bold mb-2 md:mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:K.name}),s.jsx("div",{className:"hidden md:block text-xl text-zinc-300 mb-2",children:K.description?K.description.slice(0,100)+"...":"Amazing NFT Collection"}),s.jsx("div",{className:"text-sm md:text-base text-zinc-400",children:"Discover and mint unique NFTs"})]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/60 via-zinc-900/20 to-transparent"}),s.jsx("div",{className:"absolute top-3 md:top-6 right-3 md:right-6 z-30",children:oe?s.jsx("div",{className:"bg-pink-500/20 text-pink-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-pink-500/30",children:"Sold out"}):A?s.jsx("div",{className:"bg-green-500/20 text-green-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-green-500/30 animate-pulse",children:"Live"}):s.jsx("div",{className:"bg-blue-500/20 text-blue-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-blue-500/30",children:"Coming soon"})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-8 z-20",children:s.jsxs("div",{className:"flex items-end gap-3 md:gap-6",children:[s.jsx("img",{src:K.cover||K.firstNFTImage||K.bannerImage||"/placeholder-banner.jpg",alt:K.name,className:"w-20 h-20 md:w-32 md:h-32 object-cover rounded-xl border border-zinc-700/30 flex-shrink-0",onError:V=>{console.warn("‚ö†Ô∏è Cover image failed to load:",V.target.src),K.firstNFTImage&&K.firstNFTImage!==V.target.src?V.target.src=K.firstNFTImage:V.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjMyIiBmaWxsPSIjNjY3MzgwIi8+Cjwvc3ZnPgo="}}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{onClick:()=>window.innerWidth<768&&B(),className:`text-xl md:text-3xl font-bold text-white drop-shadow-lg mb-2 md:mb-4 ${window.innerWidth<768?"cursor-pointer hover:text-pink-400 transition-colors duration-200":""}`,children:K.name}),s.jsx("div",{className:"hidden md:block",children:s.jsx("p",{className:"text-zinc-300 text-base leading-relaxed mb-6",children:K.description||"No description available"})}),s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-4",children:[s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm px-3 py-2 md:px-4 md:py-2 rounded-xl border border-zinc-700/30 w-full md:w-[180px]",children:[s.jsx("span",{className:"text-zinc-400 text-xs md:text-sm",children:"Minted:"}),s.jsxs("span",{className:"text-white font-semibold ml-2 text-sm md:text-base",children:[Number(K.minted)||0," / ",Number(K.totalSupply)||0]})]}),s.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm px-3 py-2 md:px-4 md:py-2 rounded-xl border border-zinc-700/30 w-full md:w-[180px]",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-zinc-400 text-xs md:text-sm",children:"Price:"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-3 h-3 md:w-4 md:h-4"}),s.jsxs("span",{className:"text-white font-semibold text-sm md:text-base",children:[D(ae)," STT"]})]})]})})]})]})]})}),s.jsxs("button",{onClick:B,className:"hidden md:inline-flex absolute bottom-4 md:bottom-6 right-4 md:right-6 items-center gap-2 px-3 py-2 md:px-5 md:py-2.5 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-medium rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-pink-500/25 text-xs md:text-sm z-30",children:["View",s.jsx(Dc,{size:12,className:"md:w-3.5 md:h-3.5"})]}),G.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:$,className:"absolute left-2 md:left-4 top-1/2 transform -translate-y-1/2 bg-black/40 backdrop-blur-sm border border-white/20 rounded-full p-1.5 md:p-2 hover:bg-black/60 transition-all duration-200 z-30",children:s.jsx("img",{src:Nu,alt:"Previous",className:"w-4 h-4 md:w-5 md:h-5"})}),s.jsx("button",{onClick:ne,className:"absolute right-2 md:right-4 top-1/2 transform -translate-y-1/2 bg-black/40 backdrop-blur-sm border border-white/20 rounded-full p-1.5 md:p-2 hover:bg-black/60 transition-all duration-200 z-30",children:s.jsx("img",{src:Eu,alt:"Next",className:"w-4 h-4 md:w-5 md:h-5"})}),s.jsx("div",{className:"absolute bottom-2 md:bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5 md:gap-2 z-30",children:G.map((V,Y)=>s.jsx("button",{onClick:()=>{c(!0),a(Y)},className:`w-1.5 h-1.5 md:w-2 md:h-2 rounded-full transition-all duration-200 ${Y===r?"bg-white":"bg-white/40 hover:bg-white/60"}`},Y))})]})]})},[k,L,B,G.length]),q=N.useCallback(({collection:K,index:J})=>{const ce=k(K),X=L(K),ie=K.totalSupply&&K.minted!==void 0&&Number(K.minted)>=Number(K.totalSupply);return s.jsxs("div",{onClick:()=>H(K),className:"bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-700/30 p-3 md:p-4 hover:border-zinc-600/50 transition-all duration-300 hover:scale-105 cursor-pointer group","data-index":J,children:[s.jsx("div",{className:"aspect-square rounded-xl overflow-hidden mb-3 md:mb-4 border border-zinc-600/30",children:s.jsx(Es,{src:K.cover||K.firstNFTImage||"/default-cover.png",alt:K.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:J<6,sizes:C?"100vw":y?"50vw":"33vw",onError:fe=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",fe.target.src),K.firstNFTImage&&K.firstNFTImage!==fe.target.src?fe.target.src=K.firstNFTImage:fe.target.src="/default-cover.png"}})}),s.jsx("h3",{onClick:()=>window.innerWidth<768&&H(K),className:`text-white font-semibold mb-2 truncate text-sm md:text-base ${window.innerWidth<768?"cursor-pointer hover:text-pink-400 transition-colors duration-200":""}`,children:K.name}),s.jsxs("div",{className:"space-y-1.5 md:space-y-2 text-xs md:text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Price:"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-2.5 h-2.5 md:w-3 md:h-3"}),s.jsx("span",{className:"text-white",children:D(X)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Supply:"}),s.jsx("span",{className:"text-white",children:Number(K.totalSupply)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Minted:"}),s.jsx("span",{className:"text-white",children:Number(K.minted)||0})]})]}),s.jsx("div",{className:"mt-2 md:mt-3",children:ie?s.jsx("div",{className:"text-center text-zinc-400 text-xs md:text-sm",children:"Finished"}):ce?s.jsx("div",{className:"text-center text-green-400 text-xs md:text-sm",children:"Live"}):s.jsx("div",{className:"text-center text-blue-400 text-xs md:text-sm",children:"Coming soon"})})]})},[k,L,H]),Q=N.useCallback(()=>s.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:s.jsx("div",{className:"flex",children:[{id:"completed",name:"Completed Sales"},{id:"active",name:"Active Sales"},{id:"upcoming",name:"Upcoming Sales"}].map(K=>s.jsx("button",{onClick:()=>{l(K.id),u(0)},className:`py-3 md:py-4 px-3 md:px-6 font-medium transition-all duration-200 border-b-2 text-sm md:text-base ${o===K.id?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:K.name},K.id))})})}),[o]),he=N.useCallback(({message:K,icon:J})=>s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-zinc-800/50 rounded-full flex items-center justify-center mb-4",children:s.jsx(J,{className:"w-8 h-8 text-zinc-500"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Collections Found"}),s.jsx("p",{className:"text-zinc-400 max-w-md",children:K})]}),[]);return s.jsx(__,{children:s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(_a,{}),G.length>0?s.jsx("div",{className:"relative z-10",children:s.jsx(W,{collection:G[r]})}):s.jsxs("div",{className:"relative h-[250px] md:h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:"Welcome to Dreava"}),s.jsx("p",{className:"text-xl text-zinc-300 mb-6",children:"Discover amazing NFT collections"}),s.jsx("div",{className:"text-zinc-400",children:"No active sales at the moment"})]})})]}),s.jsx(Q,{}),s.jsx("div",{className:"relative z-10 py-6 md:py-8 pb-20 md:pb-24",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[s.jsx(Su,{onMetrics:b,showUI:!1}),Object.keys(g).length>0&&s.jsx("div",{className:"mb-6",children:s.jsx(S_,{metrics:g,isVisible:localStorage.getItem("showPerformanceStats")==="true"})}),E.length>0&&s.jsx(Vc,{images:E,priority:!0,onComplete:()=>w(!0),onProgress:(K,J)=>{K===J&&w(!0)}}),t?s.jsx(Ss,{message:"Loading collections",showVideo:!0,showBackground:!0,size:"large",showProgress:!1,showDots:!1}):n?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Bt,{className:"w-8 h-8 text-red-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Error Loading Collections"}),s.jsx("p",{className:"text-zinc-400 mb-4",children:n}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300",children:"Try Again"})]}):z.length===0?s.jsx(he,{message:`No ${o} collections found. Check back later for new drops!`,icon:o==="completed"?SE:o==="active"?ba:bp}):s.jsx(s.Fragment,{children:m?s.jsx(Md,{collections:z,searchTerm:m,onCollectionClick:H}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6 mb-6 md:mb-8",children:z.slice(d*5,(d+1)*5).map((K,J)=>s.jsx(q,{collection:K,index:J},K.address))}),s.jsx(E_,{currentPage:d,totalPages:Math.ceil(z.length/5),onPageChange:u,totalItems:z.length,itemsPerPage:5})]})})]})})]})})},Sa=[{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"CollectionCreated",type:"event"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint256",name:"maxSupply_",type:"uint256"},{internalType:"string",name:"baseTokenURI_",type:"string"},{internalType:"string",name:"unrevealedURI_",type:"string"},{internalType:"string",name:"contractURI_",type:"string"},{internalType:"address",name:"royaltyRecipient_",type:"address"},{internalType:"uint96",name:"royaltyFeeNumerator_",type:"uint96"}],name:"createCollection",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newFee",type:"uint256"}],name:"updateCreationFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRecipient",type:"address"}],name:"updateFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collectionAddr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"verifyCollection",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"collections",outputs:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"bool",name:"verified",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"creationFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],j_=()=>{try{const e=typeof window<"u",t=e&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),n=e&&String(window.location.port)==="5173";if(t&&n)return"";const r=import.meta?.env?.VITE_API_BASE;if(r&&typeof r=="string"&&r.trim()){const a=r.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(a))return a}}catch{}return""},ra=e=>{const t=j_(),n=e.startsWith("/")?e:`/${e}`;return t?`${t}${n}`:n},Ip=async e=>{console.log("üì§ uploadFile called with:",e);const t=[ra("/api/upload-file"),"/api/upload-file",ra("/upload-file"),"/upload-file",ra("/api/pin-file"),"/api/pin-file",ra("/pin-file"),"/pin-file"];let n=null;for(const r of t)try{const a=new FormData;a.append("file",e),console.log(`üì§ Sending request to ${r}`);const i=await fetch(r,{method:"POST",body:a});if(console.log("üì§ Response status:",i.status,"for",r),!i.ok){let l={};try{l=await i.json()}catch{}console.error(`‚ùå Upload failed on ${r}:`,l),n=new Error(l.error||`Upload failed (${i.status}) at ${r}`);continue}const c=await i.json();console.log("üì§ Upload response:",c);const o=c.gatewayUrl||c.url||c.cid;return console.log("üì§ Final result URL:",o),c}catch(a){console.error(`‚ùå Request error on ${r}:`,a),n=a;continue}throw n||new Error("File upload failed")},A_=async e=>{console.log("üìã uploadMetadata called with:",e);const t=[{url:ra("/api/upload-metadata"),method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}},{url:"/api/upload-metadata",method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}},{url:ra("/pin-json"),method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}},{url:"/pin-json",method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}}];let n=null;for(const r of t)try{console.log("üìã Trying metadata endpoint:",r.url);const a=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body});if(console.log("üìã Metadata upload response status:",a.status,"for",r.url),!a.ok){const c=await a.json().catch(()=>({}));console.error("‚ùå Metadata upload failed:",c),n=new Error(c.error||`Metadata upload failed (${a.status}) at ${r.url}`);continue}const i=await a.json();return console.log("üìã Metadata upload response data:",i),{url:i.url||i.ipfsUri,...i}}catch(a){console.error(`‚ùå Metadata request error on ${r.url}:`,a),n=a;continue}throw n||new Error("Metadata upload failed")},Rp="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.5187%2027.4077H6.22219C3.52187%2027.4077%201.33325%2025.2191%201.33325%2022.5187V6.22228C1.33325%203.52195%203.52187%201.33333%206.22219%201.33333H22.5187C25.219%201.33333%2027.4076%203.52195%2027.4076%206.22228V22.5187C27.4076%2025.2191%2025.219%2027.4077%2022.5187%2027.4077Z'%20fill='%2352525B'%3e%3c/path%3e%3cpath%20d='M27.1791%204.82062C27.3127%205.26714%2027.4072%205.73159%2027.4072%206.22212V22.5186C27.4072%2025.2189%2025.2186%2027.4075%2022.5183%2027.4075H6.22181C5.73129%2027.4075%205.26684%2027.313%204.82031%2027.1794C5.42654%2029.192%207.2713%2030.6668%209.4811%2030.6668H25.7776C28.4779%2030.6668%2030.6665%2028.4782%2030.6665%2025.7779V9.48141C30.6665%207.27161%2029.1917%205.42685%2027.1791%204.82062Z'%20fill='%2371717A'%3e%3c/path%3e%3cpath%20d='M18.4445%2012.7407C19.7945%2012.7407%2020.8889%2011.6463%2020.8889%2010.2962C20.8889%208.94619%2019.7945%207.85176%2018.4445%207.85176C17.0944%207.85176%2016%208.94619%2016%2010.2962C16%2011.6463%2017.0944%2012.7407%2018.4445%2012.7407Z'%20fill='%23A1A1AA'%3e%3c/path%3e%3cpath%20d='M6.22217%2021.5001C6.22217%2022.0574%206.67847%2022.5186%207.2407%2022.5186H21.5001C22.0623%2022.5186%2022.5186%2022.0655%2022.5186%2021.5001C22.5186%2020.1116%2021.7494%2016%2020.0742%2016C19.2479%2016%2017.9638%2017.6296%2016.8149%2017.6296C14.5334%2017.6296%2012.3333%2012.7407%2010.2963%2012.7407C8.25923%2012.7407%206.22217%2018.8128%206.22217%2021.5001Z'%20fill='%23A1A1AA'%3e%3c/path%3e%3c/svg%3e",ku=({type:e="processing",className:t="",size:n="md"})=>{const r=()=>{switch(n){case"sm":return"w-8 h-8";case"md":return"w-12 h-12";case"lg":return"w-20 h-20";default:return"w-12 h-12"}};return s.jsx("div",{className:`flex items-center justify-center ${t}`,children:s.jsx("div",{className:`${r()} bg-black rounded-full flex items-center justify-center overflow-hidden`,children:s.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",children:[s.jsx("source",{src:"/assets/videos/IMG.mov",type:"video/quicktime"}),s.jsx("source",{src:"/assets/videos/IMG.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})})},ju=({isVisible:e,onConfirm:t,onCancel:n,title:r="Cancel Upload",message:a="Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over."})=>e?s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",children:s.jsxs("div",{className:"relative bg-zinc-900 border border-zinc-700 rounded-2xl p-6 max-w-md w-full animate-fadeIn",tabIndex:-1,autoFocus:!0,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500/20 border border-red-500/30 rounded-full flex items-center justify-center",children:s.jsx(er,{size:24,className:"text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:r}),s.jsx("p",{className:"text-zinc-400 text-sm",children:"This action cannot be undone"})]})]}),s.jsx("p",{className:"text-zinc-300 mb-6 leading-relaxed",children:a}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Continue"}),s.jsx("button",{onClick:t,className:"flex-1 py-3 px-4 rounded-xl bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-red-500/25",children:"Cancel Process"})]}),s.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110","aria-label":"Close",children:s.jsx(Bt,{size:20})})]})}):null,T_="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",I_=["Art","Collectibles","Gaming","Music","Domains","Utility","Other"],wh=["bg-blue-600","bg-pink-600","bg-green-600","bg-purple-600","bg-yellow-600","bg-red-600"],Pp=({onSuccess:e})=>{const[t,n]=N.useState({name:"",description:"",categories:[],royaltyRecipient:"",royaltyPercent:0}),[r,a]=N.useState(null),[i,c]=N.useState(!1),[o,l]=N.useState(""),[d,u]=N.useState(0),[h,f]=N.useState(!1),[m,x]=N.useState(!1),[p,g]=N.useState({visible:!1,message:"",txHash:""}),[b,v]=N.useState(!1),[w,C]=N.useState(!1),[y,E]=N.useState(!1);an();const{switchNetwork:S}=dr();N.useEffect(()=>{if(p.visible){const z=setTimeout(()=>g($=>({...$,visible:!1})),5e3);return()=>clearTimeout(z)}},[p.visible]);const R=(z,$="")=>{g({visible:!0,message:z,txHash:$})},I=z=>{const{name:$,value:ne}=z.target;console.log("üìù Form field changed:",$,ne),n({...t,[$]:ne})},T=z=>{const $=z.target.files[0];if(console.log("üìÅ File selected:",$?{name:$.name,size:$.size,type:$.type}:"No file"),$){if($.size>10485760){const B=($.size/1048576).toFixed(1),H=`File size (${B}MB) exceeds the maximum allowed size of 10MB. Please choose a smaller file.`;R(`‚ùå ${H}`),console.error("‚ùå File too large:",B,"MB"),z.target.value="";return}if(!$.type.startsWith("image/")){R("‚ùå Please select an image file (JPG, PNG, GIF, SVG)"),console.error("‚ùå Invalid file type:",$.type),z.target.value="";return}}a($)},M=z=>{z.preventDefault(),z.currentTarget.classList.add("border-pink-500/50","bg-pink-500/10")},P=z=>{z.preventDefault(),z.currentTarget.classList.remove("border-pink-500/50","bg-pink-500/10")},F=z=>{z.preventDefault(),z.currentTarget.classList.remove("border-pink-500/50","bg-pink-500/10");const $=z.dataTransfer.files;if($.length>0){const ne=$[0];if(!ne.type.startsWith("image/")){R("‚ùå Please drop an image file (JPG, PNG, GIF, SVG)"),console.error("‚ùå Invalid file type dropped:",ne.type);return}const B=10*1024*1024;if(ne.size>B){const H=(ne.size/1048576).toFixed(1),W=`File size (${H}MB) exceeds the maximum allowed size of 10MB. Please choose a smaller file.`;R(`‚ùå ${W}`),console.error("‚ùå File too large dropped:",H,"MB");return}a(ne)}},k=z=>{n($=>{const B=$.categories.includes(z)?$.categories.filter(H=>H!==z):[...$.categories,z];return{...$,categories:B}})},D=async z=>{try{console.log("üì§ Uploading file:",z.name,z.size,z.type),console.log("üì§ File object:",z);const $=await Ip(z);console.log("‚úÖ File uploaded successfully:",$),console.log("‚úÖ Result object:",$);const ne=$.gatewayUrl||$.url;if(console.log("‚úÖ Image URL for collection:",ne),console.log("‚úÖ Full result object:",$),!ne)throw console.error("‚ùå No image URL found in result:",$),new Error("Failed to get image URL from upload result");return ne}catch($){throw console.error("‚ùå Error uploading file:",$),console.error("‚ùå Error details:",{message:$.message,stack:$.stack,response:$.response}),$}},L=async z=>{try{console.log("üìã Uploading metadata JSON:",z);const $=await A_(z);return console.log("‚úÖ Metadata uploaded successfully:",$),$.url}catch($){throw console.error("‚ùå Error uploading metadata:",$),$}},G=async()=>{try{if(v(!0),console.log("üîç Form validation:",{name:t.name,description:t.description,coverFile:r?r.name:"No file",ethereum:!!window.ethereum}),!window.ethereum)throw new Error("Wallet not detected");if(!t.name||!r||!t.description)throw new Error("Name, description, and cover image required");const z=10*1024*1024;if(r.size>z){const A=(r.size/1048576).toFixed(1);throw new Error(`File size (${A}MB) exceeds the maximum allowed size of 10MB`)}if(!r.type.startsWith("image/"))throw new Error("Invalid file type. Please select an image file.");try{(await(async()=>{try{return await S?.(br)}catch{return{success:!1}}})())?.success||await _s();const oe=await new Zt(window.ethereum).getNetwork();if(Number(oe.chainId)!==br){E(!0),v(!1);return}}catch{E(!0),v(!1);return}c(!0),l("üì§ Uploading cover image to IPFS..."),u(10);const $=await D(r);console.log("üéØ Cover URL for metadata:",$),l("üìã Uploading collection metadata..."),u(40);const ne={name:t.name,description:t.description,image:$,categories:t.categories,royaltyRecipient:t.royaltyRecipient,royaltyPercent:t.royaltyPercent};console.log("üéØ Metadata JSON to upload:",ne);const B=await L(ne);l("‚õìÔ∏è Creating collection on blockchain..."),u(70);try{(await(async()=>{try{return await S?.(br)}catch{return{success:!1}}})())?.success||await _s()}catch{R("‚ùå Please switch to Somnia Testnet to create a collection"),v(!1);return}const H=new Zt(window.ethereum),W=await H.getSigner();try{const A=await H.getNetwork();console.log("Connected to network:",A)}catch(A){throw console.error("RPC connection error:",A),new Error("Network error. Please check your connection and try again.")}const q=new rt(T_,Sa,W);console.log("Factory address:",q.target);const Q=t.name.substring(0,3).toUpperCase(),he=[t.name,Q,0,"","",B,t.royaltyRecipient||jm,Math.round(Number(t.royaltyPercent)*100),{value:cu("0.05",18)}];console.log("Creating collection with params:",he);let K=null,J=3;for(;J>0&&!K;)try{K=await q.createCollection(...he);break}catch(A){if(console.warn(`Collection creation attempt ${4-J} failed:`,A),J--,J>0)await new Promise(ae=>setTimeout(ae,2e3));else throw A}console.log("Transaction sent:",K.hash),l("‚è≥ Waiting for blockchain confirmation...");let ce=null;for(J=3;J>0&&!ce;)try{ce=await K.wait();break}catch(A){if(console.warn(`Transaction confirmation attempt ${4-J} failed:`,A),J--,J>0)await new Promise(ae=>setTimeout(ae,2e3));else throw A}console.log("Transaction confirmed:",ce);const X=ce.logs.map(A=>{try{return q.interface.parseLog(A)}catch(ae){return console.warn("Failed to parse log:",ae),null}}).find(A=>A&&A.name==="CollectionCreated");if(!X)throw new Error("CollectionCreated event not found in transaction logs");const ie=X.args.collection;console.log("Collection created at:",ie),ie&&await new rt(ie,jt,W).setContractURI(B);const fe={address:ie,name:t.name,description:t.description,image:$,cover:$,banner:$,metadata:B,createdAt:new Date().toISOString()};console.log("üì¶ Collection data created:",fe),console.log("üì¶ Cover URL in collection data:",fe.cover);const xe=JSON.parse(localStorage.getItem("dreava_collections"))||[];xe.push(fe),localStorage.setItem("dreava_collections",JSON.stringify(xe)),l("‚úÖ Collection created successfully!"),u(100);try{const ae=await(await new Zt(window.ethereum).getSigner()).getAddress();await fetch("/api/quest/record-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:ae,actionType:"collection_created",data:{collectionAddress:ie,collectionName:t.name,txHash:K.hash,metadataUrl:B,coverUrl:$}})})}catch(A){console.warn("‚ö†Ô∏è Failed to record quest action:",A)}setTimeout(()=>{f(!0)},1500),R("‚úÖ Collection created!",K.hash),window.newlyCreatedCollectionData=fe}catch(z){console.error("Error creating collection:",z),l(`‚ùå Error: ${z.reason||z.message}`),u(0),setTimeout(()=>{f(!0)},1e3),R(`‚ùå Error: ${z.reason||z.message}`),delete window.newlyCreatedCollectionData}finally{v(!1)}};return s.jsxs("div",{className:"max-w-4xl mx-auto text-white",children:[s.jsxs("div",{className:"text-left mb-8",children:[s.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-4",children:"Collection Identity"}),s.jsx("p",{className:"text-zinc-400 text-lg leading-relaxed max-w-2xl",children:"Give your collection a unique identity. Set the foundation for your NFT project with a name, description, and visual identity that represents your vision. Once created, you'll be able to add your amazing NFTs in the next step."})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("label",{className:"text-sm font-medium mb-4 block",children:[s.jsx("span",{className:"text-white",children:"Collection Cover Image"})," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[s.jsxs("label",{htmlFor:"cover-upload",className:"w-48 h-48 bg-zinc-800/50 border-2 border-dashed border-zinc-600 rounded-2xl flex items-center justify-center cursor-pointer overflow-hidden hover:border-pink-500/50 transition-all duration-300 group",onDragOver:M,onDragLeave:P,onDrop:F,children:[r?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:URL.createObjectURL(r),alt:"preview",className:"w-full h-full object-cover rounded-2xl",onLoad:()=>console.log("‚úÖ Preview image loaded successfully"),onError:z=>{console.error("‚ùå Preview image failed to load:",z),console.error("‚ùå Image src:",z.target.src)}}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx("div",{className:"text-sm font-medium",children:"Change Image"}),s.jsx("div",{className:"text-xs text-zinc-300",children:"Click to replace"})]})}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:[(r.size/1024/1024).toFixed(2)," MB"]})]}):s.jsxs("div",{className:"text-center text-zinc-400",children:[s.jsx(Lc,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("div",{className:"text-sm",children:"Drop image here or click to upload"}),s.jsx("div",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",onChange:T,className:"hidden"})]}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-6 border border-zinc-700/30",children:[s.jsx("h4",{className:"text-white font-semibold mb-3",children:"Upload Requirements"}),s.jsxs("ul",{className:"space-y-2 text-sm text-zinc-300",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Recommended size: 300 √ó 300px"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"File types: JPG, PNG, SVG or GIF"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Max file size: 10MB"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"This will be your collection's main image"]})]}),s.jsxs("button",{onClick:()=>document.getElementById("cover-upload").click(),className:"mt-4 w-full py-3 px-6 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:from-[#0095E6] hover:to-[#E61CC7] text-white font-semibold transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s.jsx("span",{children:"Choose Image"})]})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium mb-3 block",children:[s.jsx("span",{className:"text-white",children:"Collection Name"})," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:t.name,onChange:I,placeholder:"Enter collection name",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-3 block",children:s.jsx("span",{className:"text-white",children:"Categories"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>x(z=>!z),className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-left text-white text-base flex justify-between items-center focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300",children:[t.categories.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map((z,$)=>s.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${wh[$%wh.length]}`,children:[z,s.jsx("span",{onClick:ne=>{ne.stopPropagation(),k(z)},className:"hover:text-red-400 transition-colors cursor-pointer",children:s.jsx(Bt,{size:12})})]},z))}):"Select Categories",s.jsx(cl,{size:16,className:"ml-2"})]}),m&&s.jsx("div",{className:"absolute bg-zinc-800/95 backdrop-blur-sm border border-zinc-700/50 rounded-2xl w-full max-h-40 overflow-y-auto z-20 mt-2 shadow-2xl",children:I_.map(z=>s.jsx("div",{onClick:()=>k(z),className:`px-4 py-3 cursor-pointer hover:bg-zinc-700/50 transition-colors duration-200 ${t.categories.includes(z)?"bg-zinc-700/50":""}`,children:z},z))})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("label",{className:"text-sm font-medium mb-3 block",children:[s.jsx("span",{className:"text-white",children:"Description"})," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"description",value:t.description,onChange:I,placeholder:"Write a short description about this collection",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white h-32 placeholder:text-zinc-500 text-base focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300 resize-none"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-2xl p-6 border border-blue-500/30 mb-8",children:[s.jsxs("h4",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-[#46ABEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Collection Creation Cost"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-[#46ABEF]/20 p-4 rounded-xl border border-[#46ABEF]/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-[#46ABEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),s.jsx("div",{className:"text-white font-medium text-sm",children:"Gas Fee"})]}),s.jsx("div",{className:"text-white font-bold text-lg",children:"~0.01 STT"}),s.jsx("div",{className:"text-white text-xs",children:"Network transaction cost"})]}),s.jsxs("div",{className:"bg-[#8223D5]/20 p-4 rounded-xl border border-[#8223D5]/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-[#8223D5]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.jsx("div",{className:"text-white font-medium text-sm",children:"Platform Fee"})]}),s.jsx("div",{className:"text-white font-bold text-lg",children:"0.05 STT"}),s.jsx("div",{className:"text-white text-xs",children:"One-time creation fee"})]}),s.jsxs("div",{className:"bg-[#D0139A]/20 p-4 rounded-xl border border-[#D0139A]/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("svg",{className:"w-4 h-4 text-[#D0139A]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("div",{className:"text-white font-medium text-sm",children:"Total Cost"})]}),s.jsx("div",{className:"text-white font-bold text-lg",children:"~0.06 STT"}),s.jsx("div",{className:"text-white text-xs",children:"Estimated total"})]})]})]}),s.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-6 border border-zinc-700/30 mb-8",children:[s.jsxs("h4",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-[#8223D5]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Royalty Settings"]}),s.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Set up royalty payments for your collection. This allows you to earn a percentage of sales when your NFTs are traded."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] items-end gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block text-white",children:"Royalty Recipient Address"}),s.jsx("input",{type:"text",name:"royaltyRecipient",value:t.royaltyRecipient,onChange:I,placeholder:"0x...",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all duration-300"}),s.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Leave empty to use your wallet address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block text-white",children:"Royalty Percentage"}),s.jsxs("div",{className:"relative w-24 md:w-28",children:[s.jsx("input",{type:"number",name:"royaltyPercent",min:0,max:100,value:t.royaltyPercent,onChange:I,placeholder:"0",className:"w-full p-4 pr-10 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all duration-300"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"%"})]}),s.jsx("p",{className:"text-xs text-zinc-500 mt-2 whitespace-nowrap",children:"Recommended: 2.5% - 10%"})]})]})]}),s.jsxs("button",{onClick:G,className:"w-full max-w-xs mx-auto mt-8 py-4 px-8 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-lg transition-all duration-300 hover:from-[#0095E6] hover:to-[#E61CC7] hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx("span",{className:"relative z-10",children:"Create Collection"})]})]}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9998] p-4",children:s.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,children:s.jsxs("div",{className:"relative z-10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[d===100?s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):s.jsx("div",{className:"mb-4",children:s.jsx(ku,{type:"processing",size:"lg"})}),s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:d===100?"Collection Created!":"Creating Collection..."}),s.jsx("p",{className:"text-zinc-400 text-sm",children:d===100?"Your collection has been successfully created on the blockchain":"Please wait while we process your collection"})]}),d<100&&s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${d}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[d,"%"]}),s.jsx("p",{className:"text-sm text-zinc-400",children:o})]})]}),d===100&&s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),s.jsx("p",{className:"text-zinc-300 text-sm",children:"Your collection is now live on the blockchain"})]})}),h&&d===100&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>{if(c(!1),u(0),f(!1),e){const z=window.newlyCreatedCollectionData;e(z),delete window.newlyCreatedCollectionData}},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e?"Continue to Populate Collection":"Continue"]})]}),s.jsx("button",{onClick:()=>{c(!1),u(0),f(!1),delete window.newlyCreatedCollectionData},className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]}),s.jsx("button",{type:"button",onClick:()=>{C(!0)},"aria-label":"Close",className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-pink-500/40 rounded-xl",children:s.jsx(Bt,{size:24})})]})})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9999] p-4",children:s.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",children:s.jsxs("div",{className:"relative z-10 p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Wrong Network"}),s.jsx("p",{className:"text-zinc-400 text-sm",children:"Please switch to Somnia Testnet (50312) to create a collection."})]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("button",{onClick:async()=>{try{(await(async()=>{try{return await S?.(br)}catch{return{success:!1}}})())?.success||await _s();const ne=await new Zt(window.ethereum).getNetwork();Number(ne.chainId)===br?(E(!1),R("‚úÖ Switched to Somnia Testnet. Please retry.")):R("‚ùå Please switch to Somnia Testnet in your wallet")}catch{R("‚ùå Please switch to Somnia Testnet in your wallet")}},className:"flex-1 py-3 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300",children:"Switch to Somnia"}),s.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200",children:"Close"})]})]})})}),p.visible&&s.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-2xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105",children:[s.jsx("p",{className:"text-sm mb-1",children:p.message}),p.txHash&&s.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${p.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[s.jsx(Ps,{size:16}),"View Transaction"]})]}),s.jsx(ju,{isVisible:w,onConfirm:()=>{C(!1),c(!1),u(0),f(!1),delete window.newlyCreatedCollectionData},onCancel:()=>C(!1),title:"Cancel Collection Creation",message:"Are you sure you want to cancel this collection creation? All progress will be lost and you'll need to start over. This action cannot be undone."})]})},R_=()=>(N.useEffect(()=>{const e=window.location.hash;if(e){const t=document.querySelector(e);t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth"})},100)}},[]),s.jsx("main",{className:"max-w-4xl mx-auto px-4 py-10 text-white",children:s.jsx("section",{id:"create",className:"bg-[#1a1a1a] p-8 rounded-2xl shadow-lg mb-10",children:s.jsx(Pp,{})})})),yt={webAssembly:typeof WebAssembly<"u",sharedArrayBuffer:typeof crossOriginIsolated<"u"&&crossOriginIsolated&&"SharedArrayBuffer"in globalThis,webTransport:"WebTransport"in window,serviceWorker:"serviceWorker"in navigator,fileSystemAccess:"showOpenFilePicker"in window,webGPU:"gpu"in navigator,compressionStreams:"CompressionStream"in window,webCodecs:"VideoEncoder"in window,backgroundSync:"serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration?.prototype,webAssemblySimd:typeof WebAssembly<"u"&&WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,0,11]))},St={enableWasm:!0,enableServiceWorker:typeof window<"u"&&!location.port,enableSharedArrayBuffer:!0,enableWebTransport:!0,enableWebGPU:!1,enableFileSystemAccess:!1,enableCompression:!0,enableBackgroundSync:!1},co=e=>({wasm:yt.webAssembly&&St.enableWasm,sharedArrayBuffer:yt.sharedArrayBuffer&&St.enableSharedArrayBuffer,webTransport:yt.webTransport&&St.enableWebTransport,serviceWorker:yt.serviceWorker&&St.enableServiceWorker,fileSystemAccess:yt.fileSystemAccess&&St.enableFileSystemAccess,webGPU:yt.webGPU&&St.enableWebGPU,compression:yt.compressionStreams&&St.enableCompression,backgroundSync:yt.backgroundSync&&St.enableBackgroundSync})[e]||!1,P_=()=>{console.log("üîç Browser Capabilities:",{...yt,flags:St,supported:Object.keys(yt).filter(e=>yt[e])}),console.log("üìä Production Feature Stats:",{timestamp:new Date().toISOString(),userAgent:navigator.userAgent,features:yt,flags:St})};P_();class Fp{constructor(){this.initialized=!1,this.optimizers={},this.initializeOptimizations()}async initializeOptimizations(){try{console.log("üöÄ Initializing SafeOptimizer with advanced features..."),co("wasm")&&(this.optimizers.wasm=await this.createWasmProcessor(),console.log("‚úÖ WASM processor initialized")),co("serviceWorker")&&(this.optimizers.serviceWorker=await this.createServiceWorkerCache(),console.log("‚úÖ Service Worker cache initialized")),co("sharedArrayBuffer")&&(this.optimizers.sharedBuffer=await this.createSharedBufferWorker(),console.log("‚úÖ Shared Buffer Worker initialized")),co("compression")&&(this.optimizers.compression=!0,console.log("‚úÖ Compression API available")),this.initialized=!0,console.log("‚úÖ SafeOptimizer initialized with optimizations:",Object.keys(this.optimizers))}catch(t){console.warn("‚ö†Ô∏è SafeOptimizer initialization failed, using fallbacks:",t),this.initialized=!0}}async createWasmProcessor(){try{const{WasmImageProcessor:t}=await ws(async()=>{const{WasmImageProcessor:n}=await import("./wasmImageProcessor-zC3R95mO.js");return{WasmImageProcessor:n}},[]);return new t}catch(t){return console.warn("‚ö†Ô∏è WASM processor creation failed:",t),null}}async createServiceWorkerCache(){try{const{ServiceWorkerCache:t}=await ws(async()=>{const{ServiceWorkerCache:n}=await import("./serviceWorkerCache-BN3PYH06.js");return{ServiceWorkerCache:n}},[]);return new t}catch(t){return console.warn("‚ö†Ô∏è Service Worker cache creation failed:",t),null}}async createSharedBufferWorker(){try{const{SharedBufferWorker:t}=await ws(async()=>{const{SharedBufferWorker:n}=await import("./sharedBufferWorker-CTA752j6.js");return{SharedBufferWorker:n}},[]);return new t}catch(t){return console.warn("‚ö†Ô∏è Shared Buffer Worker creation failed:",t),null}}async optimizeImage(t,n=.8){if(this.optimizers.wasm)try{const r=await this.optimizers.wasm.optimize(t,n);return console.log("‚úÖ WASM optimization successful"),r}catch(r){console.warn("‚ö†Ô∏è WASM optimization failed, using Canvas fallback:",r)}return await this.canvasOptimize(t,n)}async canvasOptimize(t,n){return new Promise(r=>{const a=document.createElement("canvas"),i=a.getContext("2d"),c=new Image;c.onload=()=>{let{width:d,height:u}=c;if(d>1200||u>900){const h=Math.min(1200/d,900/u);d*=h,u*=h}a.width=d,a.height=u,i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(c,0,0,d,u),a.toBlob(h=>{const f=new File([h],t.name,{type:t.type,lastModified:Date.now()});console.log(`üì± Canvas optimization: ${t.size} -> ${f.size} bytes (${Math.round((1-f.size/t.size)*100)}% reduction)`),r(f)},t.type,n)},c.onerror=()=>{console.warn("‚ö†Ô∏è Image loading failed, returning original file"),r(t)},c.src=URL.createObjectURL(t)})}async uploadFiles(t,n,r={}){const a=[];if(this.optimizers.sharedBuffer)try{console.log("üöÄ Using Shared Buffer Worker for file processing...");const i=await this.optimizers.sharedBuffer.processFiles(t);for(let c=0;c<t.length;c++){const o=t[c],l=i[c];if(l&&l.processed)this.optimizers.serviceWorker&&await this.optimizers.serviceWorker.cacheUpload(o,l),a.push(l);else{const d=await this.regularUpload(o,n,r);a.push(d)}}}catch(i){console.warn("‚ö†Ô∏è Shared Buffer processing failed, using regular upload:",i);for(const c of t){const o=await this.regularUpload(c,n,r);a.push(o)}}else for(const i of t){const c=await this.regularUpload(i,n,r);a.push(c)}return a}async regularUpload(t,n,r={}){const a=new FormData;a.append("file",t),r.metadata&&a.append("metadata",JSON.stringify(r.metadata));const i=await fetch(n,{method:"POST",body:a});if(!i.ok)throw new Error(`Upload failed: ${i.status}`);const c=await i.json();return this.optimizers.serviceWorker&&await this.optimizers.serviceWorker.cacheUpload(t,c),c}async compressData(t){if(this.optimizers.compression&&this.optimizers.sharedBuffer)try{return await this.optimizers.sharedBuffer.compressData(t)}catch(n){console.warn("‚ö†Ô∏è Shared Buffer compression failed, using fallback:",n)}return await this.fallbackCompression(t)}async fallbackCompression(t){try{const n=new CompressionStream("gzip"),r=n.writable.getWriter(),a=n.readable.getReader(),i=new Uint8Array(t);r.write(i),r.close();const c=[];for(;;){const{done:d,value:u}=await a.read();if(d)break;c.push(u)}const o=new Uint8Array(c.reduce((d,u)=>d+u.length,0));let l=0;for(const d of c)o.set(d,l),l+=d.length;return o.buffer}catch(n){return console.warn("‚ö†Ô∏è Fallback compression failed:",n),t}}async decompressData(t){if(this.optimizers.compression&&this.optimizers.sharedBuffer)try{return await this.optimizers.sharedBuffer.decompressData(t)}catch(n){console.warn("‚ö†Ô∏è Shared Buffer decompression failed, using fallback:",n)}return await this.fallbackDecompression(t)}async fallbackDecompression(t){try{const n=new DecompressionStream("gzip"),r=n.writable.getWriter(),a=n.readable.getReader(),i=new Uint8Array(t);r.write(i),r.close();const c=[];for(;;){const{done:d,value:u}=await a.read();if(d)break;c.push(u)}const o=new Uint8Array(c.reduce((d,u)=>d+u.length,0));let l=0;for(const d of c)o.set(d,l),l+=d.length;return o.buffer}catch(n){return console.warn("‚ö†Ô∏è Fallback decompression failed:",n),t}}getOptimizationStats(){const t={initialized:this.initialized,availableOptimizers:Object.keys(this.optimizers),features:yt,featureFlags:St};return this.optimizers.serviceWorker&&(t.serviceWorker=this.optimizers.serviceWorker.getCacheStats()),this.optimizers.sharedBuffer&&(t.sharedBuffer="available"),this.optimizers.wasm&&(t.wasm="available"),this.optimizers.compression&&(t.compression="available"),t}destroy(){this.optimizers.sharedBuffer&&this.optimizers.sharedBuffer.destroy(),this.optimizers.serviceWorker&&this.optimizers.serviceWorker.clearCache(),this.optimizers={},this.initialized=!1}}const Ch=new Fp;class F_{constructor(){this.metrics={uploads:{total:0,successful:0,failed:0,totalBytes:0,averageSpeed:0,averageTime:0},cache:{hits:0,misses:0,hitRate:0,totalItems:0,memoryUsage:0},network:{requests:0,errors:0,averageResponseTime:0,slowestRequest:0},memory:{used:0,peak:0,available:0},timing:{startTime:null,lastUpdate:null,totalDuration:0}},this.history=[],this.maxHistorySize=100,this.isMonitoring=!1,this.monitoringInterval=null}start(){this.isMonitoring||(this.isMonitoring=!0,this.metrics.timing.startTime=Date.now(),this.metrics.timing.lastUpdate=Date.now(),this.monitoringInterval=setInterval(()=>{this.updateMetrics()},2e3),console.log("üìä Performance monitoring started"))}stop(){this.isMonitoring&&(this.isMonitoring=!1,this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null),this.updateMetrics(),this.saveToHistory(),console.log("üìä Performance monitoring stopped"))}updateMetrics(){const t=Date.now();if(this.metrics.timing.lastUpdate=t,this.metrics.timing.totalDuration=t-this.metrics.timing.startTime,"memory"in performance){const r=performance.memory;this.metrics.memory.used=r.usedJSHeapSize,this.metrics.memory.available=r.jsHeapSizeLimit,this.metrics.memory.peak=Math.max(this.metrics.memory.peak,r.usedJSHeapSize)}this.metrics.uploads.total>0&&(this.metrics.uploads.averageSpeed=this.metrics.uploads.totalBytes/(this.metrics.timing.totalDuration/1e3),this.metrics.uploads.averageTime=this.metrics.timing.totalDuration/this.metrics.uploads.total);const n=this.metrics.cache.hits+this.metrics.cache.misses;n>0&&(this.metrics.cache.hitRate=this.metrics.cache.hits/n*100),this.metrics.network.requests>0&&(this.metrics.network.averageResponseTime=this.metrics.network.averageResponseTime/this.metrics.network.requests)}saveToHistory(){const t={timestamp:Date.now(),metrics:JSON.parse(JSON.stringify(this.metrics))};this.history.push(t),this.history.length>this.maxHistorySize&&this.history.shift()}recordSuccessfulUpload(t,n){this.metrics.uploads.total++,this.metrics.uploads.successful++,this.metrics.uploads.totalBytes+=t,n&&(this.metrics.network.averageResponseTime+=n,this.metrics.network.slowestRequest=Math.max(this.metrics.network.slowestRequest,n)),this.metrics.network.requests++}recordFailedUpload(t,n){this.metrics.uploads.total++,this.metrics.uploads.failed++,t&&(this.metrics.uploads.totalBytes+=t),this.metrics.network.requests++,this.metrics.network.errors++,console.warn("üìä Upload failed:",n)}recordCacheHit(){this.metrics.cache.hits++}recordCacheMiss(){this.metrics.cache.misses++}updateCacheStats(t){this.metrics.cache.totalItems=t.totalItems||0,this.metrics.cache.memoryUsage=t.totalMemory||0}getMetrics(){return this.updateMetrics(),this.metrics}getHistory(){return this.history}getPerformanceSummary(){const t=this.getMetrics();return{uploads:{total:t.uploads.total,successRate:t.uploads.total>0?(t.uploads.successful/t.uploads.total*100).toFixed(1):0,averageSpeed:this.formatBytes(t.uploads.averageSpeed)+"/s",totalData:this.formatBytes(t.uploads.totalBytes)},cache:{hitRate:t.cache.hitRate.toFixed(1)+"%",items:t.cache.totalItems,memory:this.formatBytes(t.cache.memoryUsage)},network:{requests:t.network.requests,errorRate:t.network.requests>0?(t.network.errors/t.network.requests*100).toFixed(1):0,averageResponseTime:t.network.averageResponseTime.toFixed(0)+"ms"},memory:{used:this.formatBytes(t.memory.used),peak:this.formatBytes(t.memory.peak),available:this.formatBytes(t.memory.available)},duration:this.formatDuration(t.timing.totalDuration)}}formatBytes(t){if(t===0)return"0 B";const n=1024,r=["B","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,a)).toFixed(2))+" "+r[a]}formatDuration(t){if(t<1e3)return t+"ms";if(t<6e4)return(t/1e3).toFixed(1)+"s";const n=Math.floor(t/6e4),r=(t%6e4/1e3).toFixed(0);return`${n}m ${r}s`}exportMetrics(){return{metrics:this.getMetrics(),history:this.getHistory(),summary:this.getPerformanceSummary(),exportTime:new Date().toISOString()}}reset(){this.metrics={uploads:{total:0,successful:0,failed:0,totalBytes:0,averageSpeed:0,averageTime:0},cache:{hits:0,misses:0,hitRate:0,totalItems:0,memoryUsage:0},network:{requests:0,errors:0,averageResponseTime:0,slowestRequest:0},memory:{used:0,peak:0,available:0},timing:{startTime:null,lastUpdate:null,totalDuration:0}},this.history=[],console.log("üìä Performance metrics reset")}}const cn=new F_,Nh=new Fp;let O_=class{constructor(){this.cache=new Map,this.maxSize=100}async getFileHash(t){const n=await t.arrayBuffer(),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}async get(t,n=""){const a=`${await this.getFileHash(t)}::${n}`;return this.cache.get(a)}async set(t,n,r=""){const i=`${await this.getFileHash(t)}::${r}`;if(this.cache.size>=this.maxSize){const c=this.cache.keys().next().value;this.cache.delete(c)}this.cache.set(i,n)}clear(){this.cache.clear()}};const lo=new O_,Eh={Background:["Blue","Red","Green","Purple","Orange","Yellow","Pink","Black","White","Gradient"],Body:["Alien","Ape","Zombie","Robot","Human","Cat","Dog","Bear","Pig","Frog"],Eyes:["Blue","Green","Brown","Red","Yellow","Purple","Pink","Black","White","Laser"],Mouth:["Smile","Frown","Open","Closed","Tongue","Pipe","Cigar","None"],Hat:["Cap","Beanie","Fedora","Crown","Helmet","Bandana","None"],Clothing:["T-Shirt","Suit","Hoodie","Jacket","Dress","None"],Accessory:["Glasses","Earring","Necklace","Watch","Tattoo","None"],Rarity:["Common","Uncommon","Rare","Epic","Legendary","Mythic"],Type:["Character","Item","Weapon","Armor","Pet","Vehicle"],Element:["Fire","Water","Earth","Air","Lightning","Ice","Dark","Light"],Season:["Spring","Summer","Fall","Winter"],Mood:["Happy","Sad","Angry","Surprised","Calm","Excited"],Style:["Cartoon","Realistic","Pixel","Anime","Abstract","Minimalist"],Color:["Red","Blue","Green","Yellow","Purple","Orange","Pink","Black","White","Gold","Silver"],Pattern:["Stripes","Dots","Zigzag","Solid","Gradient","Camouflage","Geometric"],Material:["Metal","Wood","Plastic","Fabric","Glass","Stone","Leather"],Size:["Tiny","Small","Medium","Large","Huge","Massive"],Age:["Baby","Young","Adult","Elder","Ancient"],Gender:["Male","Female","Non-binary","Unknown"],Class:["Warrior","Mage","Archer","Rogue","Paladin","Druid","Monk"],Faction:["Alliance","Horde","Neutral","Chaos","Order","Nature"]},D_=({trait_type:e,value:t,description:n,onChange:r,onRemove:a,index:i})=>{const[c,o]=N.useState(!1),[l,d]=N.useState(!1),[u,h]=N.useState([]),[f,m]=N.useState(()=>{const E=localStorage.getItem("recent_attributes");return E?JSON.parse(E):{}}),x=E=>{const S=Eh[E]||[],R=f[E]||[];return[...new Set([...R,...S])]},p=(E,S)=>{if(!E||!S)return;const R={...f};R[E]||(R[E]=[]),R[E]=[S,...R[E].filter(I=>I!==S)].slice(0,10),m(R),localStorage.setItem("recent_attributes",JSON.stringify(R))},g=E=>{if(r("trait_type",E),E){const S=x(E);h(S),o(!0)}else o(!1)},b=E=>{g(E),o(!1)},v=E=>{r("value",E),E&&e&&p(e,E)},w=E=>{v(E),d(!1)},C=()=>{if(e){const E=x(e);h(E),d(!0)}},y=E=>{setTimeout(()=>{E==="trait"?o(!1):E==="value"&&d(!1)},150)};return s.jsxs("div",{className:"flex flex-col gap-2 mt-2 p-3 border border-zinc-600 rounded-lg bg-zinc-800/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-xs text-zinc-400 font-medium",children:["Attribute #",i+1]}),s.jsx("button",{onClick:a,className:"px-2 py-1 text-red-400 hover:text-red-300 transition-colors text-xs",children:"Remove"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"w-1/2 relative",children:[s.jsx("input",{type:"text",placeholder:"Trait (e.g., Background)",value:e,onChange:E=>g(E.target.value),onFocus:()=>{e&&o(!0)},onBlur:()=>y("trait"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),e&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(cl,{size:16,className:"text-zinc-400"})}),c&&e&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:Object.keys(Eh).filter(E=>E.toLowerCase().includes(e.toLowerCase())).map(E=>s.jsx("div",{onClick:()=>b(E),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white",children:E},E))})]}),s.jsxs("div",{className:"w-1/2 relative",children:[s.jsx("input",{type:"text",placeholder:"Value",value:t,onChange:E=>v(E.target.value),onFocus:C,onBlur:()=>y("value"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),l&&u.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:u.map(E=>s.jsxs("div",{onClick:()=>w(E),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white flex items-center justify-between",children:[s.jsx("span",{children:E}),f[e]?.includes(E)&&s.jsx(wu,{size:14,className:"text-green-400"})]},E))})]})]}),s.jsx("input",{type:"text",placeholder:"Description for this attribute (optional)",value:n,onChange:E=>r("description",E.target.value),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})]})},_h=500,Op=({collection:e,onSuccess:t})=>{const[n,r]=N.useState(""),[a,i]=N.useState(1),[c,o]=N.useState([]),[l,d]=N.useState(null),[u,h]=N.useState(!1),[f,m]=N.useState(!1),[x,p]=N.useState(!1),[g,b]=N.useState(0),[v,w]=N.useState(""),[C,y]=N.useState(!1),E=N.useRef(null);an(),N.useEffect(()=>{console.log("üîç Loading collection info:",e),e&&e.name?(console.log("‚úÖ Setting collection name:",e.name),r(e.name)):(console.log("‚ùå No collection or collection name provided"),r(""))},[e]);const S=(L,G,z)=>{const $=[...c];$[L][G]=z,console.log(`‚úèÔ∏è Updating attribute ${L+1}:`,{field:G,value:z}),console.log("üìä Updated attributes:",$),o($)},R=()=>{const L={trait_type:"",value:"",description:""},G=[...c,L];console.log("‚ûï Adding attribute:",L),console.log("üìä Total attributes now:",G.length),o(G)},I=async L=>{const G=L.target.files[0];if(G){p(!0);try{console.log("üîÑ Processing uploaded file:",G.name);let z=G;if(G.type.startsWith("image/")&&G.size>1024*1024){console.log("üñºÔ∏è Optimizing image...");try{z=await Nh.optimizeImage(G,.8),console.log(`‚úÖ Image optimized: ${G.size} -> ${z.size} bytes`)}catch($){console.warn("‚ö†Ô∏è Image optimization failed, using original:",$),z=G}}await new Promise($=>setTimeout($,300)),d(z),console.log("‚úÖ File processed successfully")}catch(z){console.error("‚ùå Error processing file:",z)}finally{p(!1)}}},T=L=>L?L.startsWith("ipfs://")?[`https://gateway.lighthouse.storage/ipfs/${L.replace("ipfs://","")}`]:[L]:[],M=async L=>{for(const G of L)try{const z=await fetch(G);if(z.ok)return await z.json()}catch{}throw new Error("All IPFS gateways failed")},P=()=>{const L=Nh.getOptimizationStats(),G=cn.getMetrics();return{optimizer:L,performance:G,cache:{hits:lo.cache.size,maxSize:lo.maxSize}}},F=async(L,G,z,$)=>{console.log("üì§ Uploading file to backend:",L.name,L.size,L.type);const ne=()=>{try{const he=typeof window<"u",K=he&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),J=he&&String(window.location.port)==="5173";if(K&&J)return"";const ce=import.meta?.env?.VITE_API_BASE;if(ce&&typeof ce=="string"&&ce.trim()){const X=ce.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(X))return X}}catch{}return""},B=he=>{const K=ne(),J=he.startsWith("/")?he:`/${he}`;return K?`${K}${J}`:J},H=new FormData;H.append("file",L),H.append("name",G),H.append("description",`A unique NFT from the ${G} collection`),H.append("attributes",JSON.stringify($)),H.append("quantity",z.toString());const W=await fetch(B("/api/pin-nft"),{method:"POST",body:H});if(!W.ok){const he=await W.json().catch(()=>({}));throw console.error("‚ùå NFT upload failed:",he),new Error("Failed to upload NFT to backend server")}const q=await W.json();console.log("‚úÖ NFT uploaded successfully:",q);const Q=Array.isArray(q.metadataUrls)?q.metadataUrls:[];if(Q.length===0)throw new Error("Backend did not return metadataUrls");return Q},k=async(L,G,z,$)=>{console.log("üî• Using optimized upload with caching for SingleNFT..."),cn.start();const ne=Date.now();try{const B=JSON.stringify({name:G,quantity:z,attributes:$}),H=await lo.get(L,B);if(H)return console.log("‚úÖ Cache hit for SingleNFT file (with params)"),cn.recordCacheHit(),H;cn.recordCacheMiss();const W=await F(L,G,z,$);await lo.set(L,W,B);const q=Date.now()-ne;return cn.recordSuccessfulUpload(L.size,q),W}catch(B){throw cn.recordFailedUpload(L.size,B),B}finally{cn.stop()}},D=async()=>{const L=Math.max(1,parseInt(a||1,10));if(!l||!n||L<1||isNaN(L)){alert("Please upload an image and fill in all required fields.");return}if(L>_h){alert(`You can upload a maximum of ${_h} NFTs at once. Please reduce the quantity.`);return}try{h(!0),m(!0),b(0),w("Preparing upload..."),b(20),w("Uploading image to IPFS...");const G=await k(l,n,L,c);b(60),w("Processing metadata..."),await new Promise(Q=>setTimeout(Q,500)),b(80),w("Saving NFTs locally...");const z=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`))||[];console.log("üì¶ Existing NFTs in localStorage:",z.length);const $=z.map(Q=>{const he=Q.name?.match(/#(\d+)$/);return he?parseInt(he[1],10):null}).filter(Q=>Q!==null).sort((Q,he)=>Q-he);console.log("üìä Existing numbers:",$);let ne=1;if($.length>0){for(let Q=1;Q<=Math.max(...$)+1;Q++)if(!$.includes(Q)){ne=Q;break}}console.log("üéØ Starting NFT numbering from:",ne),console.log("üìù Processing",G.length,"metadata URLs");let B="",H="";for(let Q=0;Q<G.length;Q++){const he=G[Q];let K="",J;const ce=80+Math.round(Q/G.length*15);b(ce),w(`Processing NFT ${Q+1}/${G.length}...`),console.log(`üîÑ Processing NFT ${Q+1}/${G.length}:`,he);try{const ie=T(he);console.log("üîó IPFS URLs:",ie),J=await M(ie),console.log("üìã Metadata fetched:",J.name),K=J.image?T(J.image)[0]:"",console.log("üñºÔ∏è Image URL:",K),Q===0&&(B=K,H=he)}catch(ie){console.error("‚ùå Metadata fetch failed for NFT",Q+1,":",ie.message),K=he,Q===0&&(B=K,H=he)}const X={id:Date.now()+Q,name:`${n} #${ne+Q}`,description:c.map(ie=>ie.description).join(" "),tokenURI:he,image:K,quantity:1,attributes:[...c],price:0,status:"draft",type:"single"};console.log("üíæ Saving NFT:",X.name,"with ID:",X.id),z.push(X)}console.log("üíæ Saving",z.length,"NFTs to localStorage"),b(95),w("Saving to local storage..."),localStorage.setItem(`collection_${e.address}_nfts`,JSON.stringify(z));const W=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`))||[];console.log("‚úÖ Verification: Saved",W.length,"NFTs to localStorage"),b(100),w("‚úÖ Upload complete!");const q=P();if(console.log("üìä SingleNFT Optimization Stats:",q),t){const Q={type:"single",collection:e,nft:{name:n,quantity:L,attributes:c,imageUrl:B,metadataUrl:H},timestamp:new Date().toISOString(),optimizationStats:q};t(Q)}}catch(G){console.error(G),alert("Failed to upload NFT metadata to IPFS."),w("‚ùå Upload failed")}finally{m(!1)}};return s.jsxs("div",{className:"flex flex-col gap-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Single NFT Upload"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[s.jsxs("div",{className:"flex-shrink-0",children:[s.jsx("label",{className:"text-sm text-zinc-400 block mb-2",children:"Upload image *"}),s.jsxs("div",{className:`w-[160px] h-[144px] bg-zinc-900 border border-zinc-600 rounded-xl flex items-center justify-center cursor-pointer overflow-hidden ${x?"ring-2 ring-blue-500 bg-blue-900/20":""} ${f?"ring-2 ring-green-500 bg-green-900/20":""}`,onClick:()=>!x&&!f&&E.current.click(),children:[f?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-green-400 border-t-transparent rounded-full animate-spin"}),s.jsx("div",{className:"text-green-400 text-xs",children:"Uploading..."})]}):x?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),s.jsx("div",{className:"text-blue-400 text-xs",children:"Processing..."})]}):l?s.jsx("img",{src:URL.createObjectURL(l),alt:"preview",className:"object-cover w-full h-full"}):s.jsx("img",{src:Rp,alt:"upload",className:"w-8 h-8 opacity-70"}),s.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:I,disabled:x||f,className:"hidden"})]})]}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-zinc-400 mb-1 block",children:"Name *"}),s.jsx("input",{type:"text",value:n,onChange:L=>r(L.target.value),placeholder:e?"Collection name should appear here...":"Enter NFT name",className:`w-full p-3 rounded-xl bg-zinc-800 border text-white text-sm ${e&&!n?"border-yellow-500/50":"border-zinc-600"}`}),e&&!n&&s.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"‚ö†Ô∏è Collection name not found. Please enter a name manually."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{type:"button",onClick:R,className:"text-sm font-medium rounded-lg border border-purple-600 px-4 py-2 text-purple-400 hover:bg-purple-900 hover:text-white transition",children:["Add Attribute (",c.length,")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-zinc-400",children:"Quantity"}),s.jsx("input",{type:"number",min:1,value:isNaN(a)?"":a,onChange:L=>i(parseInt(L.target.value)),className:"w-20 p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})]})]}),c.length>0&&s.jsxs("div",{className:"text-sm text-zinc-400 mb-2",children:["Attributes: ",c.length," ",c.length===1?"attribute":"attributes"," added"]}),c.map((L,G)=>s.jsx(D_,{trait_type:L.trait_type,value:L.value,description:L.description,onChange:(z,$)=>S(G,z,$),onRemove:()=>o(c.filter((z,$)=>$!==G)),index:G},G)),c.length===0&&s.jsx("div",{className:"text-center py-4 text-zinc-500 text-sm border border-dashed border-zinc-700 rounded-lg",children:'No attributes added yet. Click "Add Attribute" to start adding traits like Background, Body, Eyes, etc.'}),s.jsx("button",{onClick:D,disabled:f,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:f?"Uploading...":"Publish NFT"})]})]}),a>10&&s.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[s.jsx("span",{className:"text-lg",children:"üöÄ"}),s.jsx("span",{className:"font-semibold",children:"Performance Optimization Active"})]}),s.jsxs("p",{className:"text-sm text-blue-300",children:["Large quantity detected (",a," NFTs). Using smart caching for faster upload."]}),s.jsx("div",{className:"mt-2 text-xs text-blue-400",children:"‚Ä¢ Smart caching: Enabled ‚Ä¢ File processing: Optimized"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9998] p-4",children:s.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,children:s.jsxs("div",{className:"relative z-10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[g===100?s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):s.jsx("div",{className:"mb-4",children:s.jsx(ku,{type:"uploading",size:"lg"})}),s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:g===100?"NFT Uploaded!":"Uploading NFT..."}),s.jsx("p",{className:"text-zinc-400 text-sm",children:g===100?"Your NFT has been successfully uploaded to IPFS":"Please wait while we process your NFT"})]}),g<100&&s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${g}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[g,"%"]}),s.jsx("p",{className:"text-sm text-zinc-400",children:v})]})]}),g===100&&s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),s.jsx("p",{className:"text-zinc-300 text-sm",children:"Your NFT is now live on IPFS"})]})}),g===100&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>{h(!1)},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t?"Continue to Studio Dashboard":"Continue"]})]}),s.jsx("button",{onClick:()=>h(!1),className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]}),s.jsx("button",{onClick:()=>{g<100?y(!0):h(!1)},className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:24})})]})})}),s.jsx(ju,{isVisible:C,onConfirm:()=>{y(!1),h(!1)},onCancel:()=>y(!1),title:"Cancel Upload Process",message:"Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over. This action cannot be undone."})]})};class M_{constructor(t={}){this.chunkSize=t.chunkSize||1024*1024,this.maxConcurrentChunks=t.maxConcurrentChunks||3,this.onProgress=t.onProgress||(()=>{}),this.onChunk=t.onChunk||(()=>{})}async processFileStream(t){const r=t.stream().getReader(),a=[];let i=0,c=0;try{for(;;){const{done:u,value:h}=await r.read();if(u)break;a.push(h),i+=h.length,c+=h.length,this.onProgress({processed:c,total:t.size,percentage:c/t.size*100})}const o=new ArrayBuffer(i),l=new Uint8Array(o);let d=0;for(const u of a)l.set(u,d),d+=u.length;return o}finally{r.releaseLock()}}async processFilesParallel(t){const n=new z_(this.maxConcurrentChunks),r=[],a=t.map(async(i,c)=>{await n.acquire();try{const o=await this.processFileStream(i);return r[c]={file:i,result:o,index:c},o}finally{n.release()}});return await Promise.all(a),r.filter(Boolean)}async uploadStream(t,n,r={}){const{onProgress:a,chunkSize:i=this.chunkSize}=r,o=t.stream().getReader(),l=[];let d=0;try{for(;;){const{done:u,value:h}=await o.read();if(u)break;l.push(h),d+=h.length,l.length>=i&&(await this.uploadChunk(l,n),l.length=0,a&&a({uploaded:d,total:t.size}))}l.length>0&&await this.uploadChunk(l,n)}finally{o.releaseLock()}}async uploadChunk(t,n){const r=new Blob(t),a=new FormData;a.append("chunk",r);const i=await fetch(n,{method:"POST",body:a});if(!i.ok)throw new Error(`Upload failed: ${i.status}`);return i.json()}}let z_=class{constructor(t){this.max=t,this.current=0,this.queue=[]}async acquire(){return this.current<this.max?(this.current++,Promise.resolve()):new Promise(t=>{this.queue.push(t)})}release(){this.current--,this.queue.length>0&&(this.current++,this.queue.shift()())}};class B_{constructor(t={}){this.maxSize=t.maxSize||100,this.maxMemory=t.maxMemory||100*1024*1024,this.ttl=t.ttl||1440*60*1e3,this.compression=t.compression!==!1,this.cache=new Map,this.indexes=new Map,this.accessOrder=[],this.stats={hits:0,misses:0,sets:0,deletes:0,compressions:0},this.cleanupInterval=setInterval(()=>{this.cleanup()},300*1e3)}generateKey(t){return typeof t=="string"?t:t instanceof File?`file_${t.name}_${t.size}_${t.lastModified}`:t instanceof ArrayBuffer?`buffer_${t.byteLength}`:JSON.stringify(t)}async compress(t){if(!this.compression)return t;try{if(typeof t=="string"){const r=new TextEncoder().encode(t),a=await this.compressUint8Array(r);return this.stats.compressions++,a}if(t instanceof ArrayBuffer){const n=new Uint8Array(t),r=await this.compressUint8Array(n);return this.stats.compressions++,r}return t}catch(n){return console.warn("Compression failed, using original data:",n),t}}async compressUint8Array(t){const n=new CompressionStream("gzip"),r=n.writable.getWriter(),a=n.readable.getReader();r.write(t),r.close();const i=[];for(;;){const{done:l,value:d}=await a.read();if(l)break;i.push(d)}const c=new Uint8Array(i.reduce((l,d)=>l+d.length,0));let o=0;for(const l of i)c.set(l,o),o+=l.length;return c.buffer}async decompress(t){if(!this.compression||!(t instanceof ArrayBuffer))return t;try{const n=new Uint8Array(t),r=new DecompressionStream("gzip"),a=r.writable.getWriter(),i=r.readable.getReader();a.write(n),a.close();const c=[];for(;;){const{done:d,value:u}=await i.read();if(d)break;c.push(u)}const o=new Uint8Array(c.reduce((d,u)=>d+u.length,0));let l=0;for(const d of c)o.set(d,l),l+=d.length;return new TextDecoder().decode(o)}catch(n){return console.warn("Decompression failed, returning original data:",n),t}}async set(t,n,r={}){const a=this.generateKey(t),i=r.ttl||this.ttl,c=await this.compress(n),o={value:c,timestamp:Date.now(),expiresAt:Date.now()+i,accessCount:0,lastAccessed:Date.now(),size:this.calculateSize(c),originalSize:this.calculateSize(n)};return this.shouldEvict(o.size)&&this.evict(),this.cache.set(a,o),this.updateAccessOrder(a),this.updateIndexes(a,n),this.stats.sets++,a}async get(t){const n=this.generateKey(t),r=this.cache.get(n);return r?Date.now()>r.expiresAt?(this.delete(n),this.stats.misses++,null):(r.accessCount++,r.lastAccessed=Date.now(),this.updateAccessOrder(n),this.stats.hits++,await this.decompress(r.value)):(this.stats.misses++,null)}delete(t){const n=this.generateKey(t);this.cache.get(n)&&(this.cache.delete(n),this.removeFromAccessOrder(n),this.removeFromIndexes(n),this.stats.deletes++)}has(t){const n=this.generateKey(t),r=this.cache.get(n);return r?Date.now()>r.expiresAt?(this.delete(n),!1):!0:!1}clear(){this.cache.clear(),this.indexes.clear(),this.accessOrder=[]}getStats(){const t=this.cache.size,n=this.getTotalMemory(),r=this.stats.hits/(this.stats.hits+this.stats.misses)||0;return{...this.stats,totalItems:t,totalMemory:n,hitRate:r*100,compressionRatio:this.getCompressionRatio()}}search(t){const n=[];for(const[r,a]of this.indexes)if(r.includes(t)||t.includes(r))for(const i of a){const c=this.cache.get(i);c&&Date.now()<=c.expiresAt&&n.push({key:i,entry:c})}return n}calculateSize(t){return typeof t=="string"?new TextEncoder().encode(t).length:t instanceof ArrayBuffer?t.byteLength:t instanceof File?t.size:JSON.stringify(t).length}shouldEvict(t){return this.getTotalMemory()+t>this.maxMemory||this.cache.size>=this.maxSize}getTotalMemory(){let t=0;for(const n of this.cache.values())t+=n.size;return t}getCompressionRatio(){let t=0,n=0;for(const r of this.cache.values())t+=r.originalSize,n+=r.size;return t>0?n/t*100:100}updateAccessOrder(t){this.removeFromAccessOrder(t),this.accessOrder.push(t)}removeFromAccessOrder(t){const n=this.accessOrder.indexOf(t);n>-1&&this.accessOrder.splice(n,1)}updateIndexes(t,n){if(typeof n=="string"){const i=n.toLowerCase().split(/\s+/);for(const c of i)c.length>2&&(this.indexes.has(c)||this.indexes.set(c,new Set),this.indexes.get(c).add(t))}const r=this.calculateSize(n),a=this.getSizeRange(r);this.indexes.has(a)||this.indexes.set(a,new Set),this.indexes.get(a).add(t)}removeFromIndexes(t){for(const n of this.indexes.values())n.delete(t)}getSizeRange(t){return t<1024?"small":t<1024*1024?"medium":t<10*1024*1024?"large":"huge"}evict(){for(;this.shouldEvict(0)&&this.accessOrder.length>0;){const t=this.accessOrder.shift();this.delete(t)}}cleanup(){const t=Date.now(),n=[];for(const[r,a]of this.cache.entries())t>a.expiresAt&&n.push(r);for(const r of n)this.delete(r);n.length>0&&console.log(`Cleaned up ${n.length} expired cache entries`)}destroy(){this.cleanupInterval&&clearInterval(this.cleanupInterval),this.clear()}}class L_ extends B_{constructor(t={}){super({maxSize:t.maxSize||50,maxMemory:t.maxMemory||500*1024*1024,ttl:t.ttl||10080*60*1e3,compression:!0,...t})}async setFile(t,n={}){const r=await this.generateFileKey(t),a={file:t,metadata:{name:t.name,size:t.size,type:t.type,lastModified:t.lastModified,...n}};return this.set(r,a)}async getFile(t){return(await this.get(t))?.file||null}async generateFileKey(t){const n=await t.arrayBuffer(),r=await crypto.subtle.digest("SHA-256",n);return`file_${Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}`}searchByType(t){const n=[];for(const[r,a]of this.cache.entries())a.value?.metadata?.type===t&&n.push({key:r,entry:a});return n}searchBySize(t,n){const r=[];for(const[a,i]of this.cache.entries()){const o=i.value?.metadata?.size;o>=t&&o<=n&&r.push({key:a,entry:i})}return r}}class U_{constructor(){this.isMobile=this.detectMobile(),this.isLowEnd=this.detectLowEndDevice(),this.connectionSpeed=this.detectConnectionSpeed(),this.batteryLevel=null,this.batteryCharging=!1,this.initializeBatteryMonitoring(),this.initializeConnectionMonitoring()}detectMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768}detectLowEndDevice(){const t=navigator.deviceMemory||4,n=navigator.hardwareConcurrency||4,r=t<4||n<4;return console.log(`üì± Device specs: ${t}GB RAM, ${n} cores, Low-end: ${r}`),r}detectConnectionSpeed(){if("connection"in navigator){const t=navigator.connection,n=t.effectiveType||"unknown",r=t.downlink||10;return console.log(`üåê Connection: ${n}, ${r}Mbps`),n==="slow-2g"||n==="2g"||r<1?"slow":n==="3g"||r<5?"medium":"fast"}return"unknown"}async initializeBatteryMonitoring(){if("getBattery"in navigator)try{const t=await navigator.getBattery();this.batteryLevel=t.level,this.batteryCharging=t.charging,t.addEventListener("levelchange",()=>{this.batteryLevel=t.level}),t.addEventListener("chargingchange",()=>{this.batteryCharging=t.charging}),console.log(`üîã Battery: ${(this.batteryLevel*100).toFixed(0)}%, Charging: ${this.batteryCharging}`)}catch(t){console.warn("Battery API not available:",t)}}initializeConnectionMonitoring(){"connection"in navigator&&navigator.connection.addEventListener("change",()=>{this.connectionSpeed=this.detectConnectionSpeed(),console.log(`üåê Connection changed: ${this.connectionSpeed}`)})}getOptimalSettings(){const t={batchSize:25,maxConcurrentUploads:3,compressionLevel:"medium",imageQuality:.8,useWebWorker:!0,useStreaming:!1,cacheSize:50,retryAttempts:3,retryDelay:1e3};return this.isMobile&&(t.batchSize=10,t.maxConcurrentUploads=2,t.cacheSize=25,this.isLowEnd&&(t.batchSize=5,t.maxConcurrentUploads=1,t.useWebWorker=!1,t.cacheSize=10,t.retryAttempts=2),this.connectionSpeed==="slow"&&(t.batchSize=3,t.maxConcurrentUploads=1,t.compressionLevel="high",t.imageQuality=.6,t.retryDelay=2e3),this.batteryLevel!==null&&this.batteryLevel<.2&&!this.batteryCharging&&(t.batchSize=Math.max(2,t.batchSize/2),t.maxConcurrentUploads=1,t.useWebWorker=!1,console.log("üîã Low battery detected, reducing performance"))),console.log("üì± Optimal settings:",t),t}async optimizeImage(t,n=.8){return this.isMobile?new Promise(r=>{const a=document.createElement("canvas"),i=a.getContext("2d"),c=new Image;c.onload=()=>{const o=this.isLowEnd?800:1200,l=this.isLowEnd?600:900;let{width:d,height:u}=c;if(d>o||u>l){const h=Math.min(o/d,l/u);d*=h,u*=h}a.width=d,a.height=u,i.drawImage(c,0,0,d,u),a.toBlob(h=>{const f=new File([h],t.name,{type:t.type,lastModified:Date.now()});console.log(`üì± Image optimized: ${t.size} -> ${f.size} bytes`),r(f)},t.type,n)},c.src=URL.createObjectURL(t)}):t}async optimizeFiles(t){if(!this.isMobile)return t;const n=this.getOptimalSettings(),r=[];for(let a=0;a<t.length;a++){const i=t[a];if(i.type.startsWith("image/")){const c=await this.optimizeImage(i,n.imageQuality);r.push(c)}else r.push(i)}return r}getRecommendations(){const t=[];return this.isMobile&&(t.push("üì± Mobile device detected - using optimized settings"),this.isLowEnd&&t.push("‚ö†Ô∏è Low-end device detected - reduced batch size and performance"),this.connectionSpeed==="slow"&&t.push("üåê Slow connection detected - increased compression and reduced batch size"),this.batteryLevel!==null&&this.batteryLevel<.2&&!this.batteryCharging&&t.push("üîã Low battery - consider charging or reducing upload size")),t}canUpload(){return this.batteryLevel!==null&&this.batteryLevel<.1&&!this.batteryCharging?{canUpload:!1,reason:"Battery too low (less than 10%)"}:this.connectionSpeed==="slow"&&this.isLowEnd?{canUpload:!0,reason:"Slow connection and low-end device - uploads may be slow"}:{canUpload:!0,reason:"Ready to upload"}}getDeviceInfo(){return{isMobile:this.isMobile,isLowEnd:this.isLowEnd,connectionSpeed:this.connectionSpeed,batteryLevel:this.batteryLevel,batteryCharging:this.batteryCharging,userAgent:navigator.userAgent,screenSize:`${window.innerWidth}x${window.innerHeight}`,memory:navigator.deviceMemory||"unknown",cores:navigator.hardwareConcurrency||"unknown"}}}const Ua=new U_,$_=({isVisible:e=!1,onClose:t})=>{const[n,r]=N.useState(null),[a,i]=N.useState(!1),[c,o]=N.useState(!0);if(N.useEffect(()=>{if(!e)return;const d=()=>{const u=cn.getMetrics(),h=cn.getPerformanceSummary();r({...u,summary:h})};if(d(),c){const u=setInterval(d,2e3);return()=>clearInterval(u)}},[e,c]),!e||!n)return null;const{summary:l}=n;return s.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!a&&s.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-3 shadow-2xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{size:16,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-white font-medium",children:"Performance"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Mc,{size:12,className:"text-green-400"}),s.jsxs("span",{className:"text-green-400",children:[l.uploads.successRate,"%"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zc,{size:12,className:"text-purple-400"}),s.jsx("span",{className:"text-purple-400",children:l.cache.hitRate})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx($c,{size:12,className:"text-blue-400"}),s.jsxs("span",{className:"text-blue-400",children:[l.network.errorRate,"%"]})]})]}),s.jsx("button",{onClick:()=>i(!0),className:"text-xs text-zinc-400 hover:text-white transition-colors",children:"Expand"}),t&&s.jsx("button",{onClick:t,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"√ó"})]})}),a&&s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-4 shadow-2xl w-80",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{size:18,className:"text-blue-400"}),s.jsx("span",{className:"text-sm text-white font-semibold",children:"Performance Monitor"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>o(!c),className:`text-xs px-2 py-1 rounded ${c?"bg-green-600 text-white":"bg-zinc-700 text-zinc-300"}`,children:"Auto"}),s.jsx("button",{onClick:()=>i(!1),className:"text-xs text-zinc-400 hover:text-white transition-colors",children:"Collapse"}),t&&s.jsx("button",{onClick:t,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"√ó"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Mc,{size:14,className:"text-green-400"}),s.jsx("span",{className:"text-xs text-white font-medium",children:"Uploads"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Total:"}),s.jsx("span",{className:"text-white ml-1",children:l.uploads.total})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Success:"}),s.jsxs("span",{className:"text-green-400 ml-1",children:[l.uploads.successRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Speed:"}),s.jsx("span",{className:"text-blue-400 ml-1",children:l.uploads.averageSpeed})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Data:"}),s.jsx("span",{className:"text-purple-400 ml-1",children:l.uploads.totalData})]})]})]}),s.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(zc,{size:14,className:"text-purple-400"}),s.jsx("span",{className:"text-xs text-white font-medium",children:"Cache"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Hit Rate:"}),s.jsx("span",{className:"text-purple-400 ml-1",children:l.cache.hitRate})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Items:"}),s.jsx("span",{className:"text-white ml-1",children:l.cache.items})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-zinc-400",children:"Memory:"}),s.jsx("span",{className:"text-blue-400 ml-1",children:l.cache.memory})]})]})]}),s.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($c,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-white font-medium",children:"Network"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Requests:"}),s.jsx("span",{className:"text-white ml-1",children:l.network.requests})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Errors:"}),s.jsxs("span",{className:"text-red-400 ml-1",children:[l.network.errorRate,"%"]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-zinc-400",children:"Avg Response:"}),s.jsx("span",{className:"text-green-400 ml-1",children:l.network.averageResponseTime})]})]})]}),s.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Pd,{size:14,className:"text-orange-400"}),s.jsx("span",{className:"text-xs text-white font-medium",children:"Memory"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Used:"}),s.jsx("span",{className:"text-orange-400 ml-1",children:l.memory.used})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Peak:"}),s.jsx("span",{className:"text-red-400 ml-1",children:l.memory.peak})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-zinc-400",children:"Available:"}),s.jsx("span",{className:"text-green-400 ml-1",children:l.memory.available})]})]})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ba,{size:14,className:"text-yellow-400"}),s.jsx("span",{className:"text-xs text-white font-medium",children:"Duration"})]}),s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-zinc-400",children:"Total Time:"}),s.jsx("span",{className:"text-yellow-400 ml-1",children:l.duration})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{const d=cn.exportMetrics(),u=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),h=URL.createObjectURL(u),f=document.createElement("a");f.href=h,f.download=`performance-metrics-${new Date().toISOString().split("T")[0]}.json`,f.click(),URL.revokeObjectURL(h)},className:"flex-1 text-xs bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded transition-colors",children:"Export"}),s.jsx("button",{onClick:()=>{cn.reset(),r(null)},className:"flex-1 text-xs bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded transition-colors",children:"Reset"})]})]})]})]})},W_=({isVisible:e=!1,onClose:t})=>{const[n,r]=N.useState(null);if(N.useEffect(()=>{if(e){const o={features:yt,flags:St,supported:Object.keys(yt).filter(l=>yt[l]),enabled:Object.keys(St).filter(l=>St[l])};r(o)}},[e]),!e||!n)return null;const a=(o,l)=>o&&l?s.jsx(Qn,{size:16,className:"text-green-400"}):o&&!l?s.jsx(er,{size:16,className:"text-yellow-400"}):s.jsx(jN,{size:16,className:"text-red-400"}),i=(o,l)=>o&&l?"Active":o&&!l?"Available":"Not Supported",c=(o,l)=>o&&l?"text-green-400":o&&!l?"text-yellow-400":"text-red-400";return s.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-4 shadow-2xl w-80",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wc,{size:18,className:"text-blue-400"}),s.jsx("span",{className:"text-sm text-white font-semibold",children:"Optimization Status"})]}),t&&s.jsx("button",{onClick:t,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"√ó"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pd,{size:14,className:"text-purple-400"}),s.jsx("span",{className:"text-xs text-white",children:"WebAssembly"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a(yt.webAssembly,St.enableWasm),s.jsx("span",{className:`text-xs ${c(yt.webAssembly,St.enableWasm)}`,children:i(yt.webAssembly,St.enableWasm)})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zc,{size:14,className:"text-blue-400"}),s.jsx("span",{className:"text-xs text-white",children:"Service Worker"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a(yt.serviceWorker,St.enableServiceWorker),s.jsx("span",{className:`text-xs ${c(yt.serviceWorker,St.enableServiceWorker)}`,children:i(yt.serviceWorker,St.enableServiceWorker)})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wc,{size:14,className:"text-green-400"}),s.jsx("span",{className:"text-xs text-white",children:"SharedArrayBuffer"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a(yt.sharedArrayBuffer,St.enableSharedArrayBuffer),s.jsx("span",{className:`text-xs ${c(yt.sharedArrayBuffer,St.enableSharedArrayBuffer)}`,children:i(yt.sharedArrayBuffer,St.enableSharedArrayBuffer)})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($c,{size:14,className:"text-orange-400"}),s.jsx("span",{className:"text-xs text-white",children:"WebTransport"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a(yt.webTransport,St.enableWebTransport),s.jsx("span",{className:`text-xs ${c(yt.webTransport,St.enableWebTransport)}`,children:i(yt.webTransport,St.enableWebTransport)})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pd,{size:14,className:"text-cyan-400"}),s.jsx("span",{className:"text-xs text-white",children:"Compression"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a(yt.compressionStreams,St.enableCompression),s.jsx("span",{className:`text-xs ${c(yt.compressionStreams,St.enableCompression)}`,children:i(yt.compressionStreams,St.enableCompression)})]})]})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-zinc-700",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-zinc-400",children:"Supported"}),s.jsx("div",{className:"text-white font-medium",children:n.supported.length})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-zinc-400",children:"Enabled"}),s.jsx("div",{className:"text-white font-medium",children:n.enabled.length})]})]})}),s.jsxs("div",{className:"mt-3 text-xs text-zinc-400",children:[n.supported.length<3&&s.jsx("div",{className:"text-yellow-400 mb-1",children:"‚ö†Ô∏è Consider updating your browser for better performance"}),n.enabled.length>0&&s.jsxs("div",{className:"text-green-400",children:["‚úÖ ",n.enabled.length," optimizations active"]})]})]})})},H_=()=>{try{const e=typeof window<"u",t=e&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),n=e&&String(window.location.port)==="5173";if(t&&n)return"";const r=import.meta?.env?.VITE_API_BASE;if(r&&typeof r=="string"&&r.trim()){const a=r.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(a))return a}}catch{}return""},Sh=e=>{const t=H_(),n=e.startsWith("/")?e:`/${e}`;return t?`${t}${n}`:n},sa=new L_({maxSize:100,maxMemory:500*1024*1024,ttl:10080*60*1e3,compression:!0}),q_=new M_({chunkSize:1024*1024,maxConcurrentChunks:5,onProgress:e=>{console.log("Stream progress:",e)}});let Tn=null,G_=0;const V_=()=>{if(typeof Worker<"u"&&!Tn)try{const e=`/workers/upload-worker.js?v=${Date.now()}`;Tn=new Worker(e),Tn.onmessage=Y_,Tn.onerror=Z_,console.log("üî• Web Worker initialized successfully with cache busting")}catch(e){console.warn("Web Worker not available, falling back to main thread:",e)}},Y_=e=>{const{type:t,data:n,id:r}=e.data;if(!r)switch(t){case"CACHE_STATS":console.log("üìä Worker cache stats:",n);break;case"BATCH_PROGRESS":console.log("üî• Worker batch progress:",n);break;case"BATCH_COMPLETE":console.log("‚úÖ Worker batch complete:",n);break;case"UPLOAD_COMPLETE":console.log("üéâ Worker upload complete:",n);break;case"ERROR":console.error("‚ùå Worker error:",n);break}},Z_=e=>{console.error("‚ùå Web Worker error:",e)},K_=async(e,t,n,r,a={})=>(console.log("üöÄ Starting uploadWithWorker..."),console.log("üìä Files count:",e.length),console.log("üìä Options:",a),Tn?new Promise((i,c)=>{const o=++G_;console.log("üÜî Generated message ID:",o);const l=setTimeout(()=>{console.error("‚è∞ Worker timeout after 5 minutes"),c(new Error("Worker timeout"))},3e5),d=h=>{console.log("üì® Worker message received:",h.data);const{type:f,data:m,id:x}=h.data;if(console.log("üîç Message details:",{type:f,id:x,messageId:o,match:x===o}),x===o)if(console.log("‚úÖ Message ID matches, processing response..."),f==="UPLOAD_COMPLETE")console.log("üéâ Worker completed successfully, resolving with data:",m),clearTimeout(l),Tn.removeEventListener("message",d),i(m);else if(f==="ERROR"){console.error("‚ùå Worker error:",m);let p="Unknown worker error";typeof m=="string"?p=m:m&&m.error?p=m.error:m&&typeof m=="object"&&(p=JSON.stringify(m)),console.error("‚ùå Worker error details:",{data:m,errorMessage:p}),clearTimeout(l),Tn.removeEventListener("message",d),c(new Error(p))}else console.log("üìä Progress message received:",f,m);else console.log("‚è≠Ô∏è Skipping message with different ID:",x)};Tn.addEventListener("message",d);const u={type:"UPLOAD_FILES",data:{files:e,names:t,descriptions:n,allAttributes:r,options:a},id:o};console.log("üì§ Sending message to worker:",u),Tn.postMessage(u)}):(console.log("üêå Falling back to main thread processing"),Dp(e,t,n,r))),Dp=async(e,t,n,r)=>{console.log("üî• Using advanced cache and streaming...");const a=await Promise.all(e.map(async(d,u)=>{const h=await sa.getFile(d);return h?(console.log(`‚úÖ Advanced cache hit for file ${u+1}`),cn.recordCacheHit(),{cached:!0,data:h,index:u}):(cn.recordCacheMiss(),{cached:!1,file:d,index:u})})),i=a.filter(d=>d.cached),c=a.filter(d=>!d.cached);console.log(`üìä Advanced cache stats: ${i.length} cached, ${c.length} new files`);let o=[];if(c.length>0){const d=c.map(x=>x.file),u=c.map(x=>t[x.index]),h=c.map(x=>n[x.index]),f=c.map(x=>r[x.index]);if(d.some(x=>x.size>10*1024*1024))console.log("üåä Using streaming for large files..."),o=await J_(d,u,h,f);else{console.log("‚ö° Using parallel processing for small files...");const x=[];for(let p=0;p<d.length;p++){const g=await Mp(d[p],u[p],h[p],f[p]);x.push(g)}o={results:x}}const m=c.map((x,p)=>{const g=o.results[p];return g?{...g,index:x.index}:null}).filter(Boolean);for(let x=0;x<c.length;x++){const p=c[x].file,g=m[x];g&&await sa.setFile(p,g)}o=m}const l=[];for(let d=0;d<e.length;d++){const u=i.find(f=>f.index===d),h=o.find(f=>f.index===d);u?l.push(u.data):h&&l.push(h)}return{success:!0,results:l}},J_=async(e,t,n,r)=>{const a=[],i=new X_(3),c=e.map(async(o,l)=>{await i.acquire();try{console.log(`üåä Processing large file ${l+1}/${e.length}: ${o.name}`);const d=await q_.processFileStream(o),u=await Mp(o,t[l],n[l],r[l]);return a[l]=u,u}finally{i.release()}});return await Promise.all(c),{results:a.filter(Boolean)}};class X_{constructor(t){this.max=t,this.current=0,this.queue=[]}async acquire(){return this.current<this.max?(this.current++,Promise.resolve()):new Promise(t=>{this.queue.push(t)})}release(){this.current--,this.queue.length>0&&(this.current++,this.queue.shift()())}}const Mp=async(e,t,n,r,a=3)=>{for(let i=1;i<=a;i++)try{console.log(`üì§ Upload attempt ${i} for file:`,e.name,e.size,e.type);const c=new FormData;c.append("file",e),c.append("name",t),c.append("description",n||""),c.append("quantity","1"),r&&r.length>0&&c.append("attributes",JSON.stringify(r));const o=[Sh("/api/pin-nft"),Sh("/pin-nft")];let l=null;for(const d of o)try{const u=await fetch(d,{method:"POST",body:c});if(!u.ok){const f=await u.text();console.error("‚ùå NFT upload failed:",f),l=new Error(`NFT upload failed: ${u.status} - ${f}`);continue}return await u.json()}catch(u){l=u;continue}throw l||new Error("All endpoints failed")}catch(c){if(console.warn(`Upload attempt ${i} failed:`,c),i===a)throw c;await new Promise(o=>setTimeout(o,500*i))}},kh={Background:["Blue","Red","Green","Purple","Orange","Yellow","Pink","Black","White","Gradient"],Body:["Alien","Ape","Zombie","Robot","Human","Cat","Dog","Bear","Pig","Frog"],Eyes:["Blue","Green","Brown","Red","Yellow","Purple","Pink","Black","White","Laser"],Mouth:["Smile","Frown","Open","Closed","Tongue","Pipe","Cigar","None"],Hat:["Cap","Beanie","Fedora","Crown","Helmet","Bandana","None"],Clothing:["T-Shirt","Suit","Hoodie","Jacket","Dress","None"],Accessory:["Glasses","Earring","Necklace","Watch","Tattoo","None"],Rarity:["Common","Uncommon","Rare","Epic","Legendary","Mythic"],Type:["Character","Item","Weapon","Armor","Pet","Vehicle"],Element:["Fire","Water","Earth","Air","Lightning","Ice","Dark","Light"],Season:["Spring","Summer","Fall","Winter"],Mood:["Happy","Sad","Angry","Surprised","Calm","Excited"],Style:["Cartoon","Realistic","Pixel","Anime","Abstract","Minimalist"],Color:["Red","Blue","Green","Yellow","Purple","Orange","Pink","Black","White","Gold","Silver"],Pattern:["Stripes","Dots","Zigzag","Solid","Gradient","Camouflage","Geometric"],Material:["Metal","Wood","Plastic","Fabric","Glass","Stone","Leather"],Size:["Tiny","Small","Medium","Large","Huge","Massive"],Age:["Baby","Young","Adult","Elder","Ancient"],Gender:["Male","Female","Non-binary","Unknown"],Class:["Warrior","Mage","Archer","Rogue","Paladin","Druid","Monk"],Faction:["Alliance","Horde","Neutral","Chaos","Order","Nature"]},Q_=({trait_type:e,value:t,onChange:n,onRemove:r,index:a})=>{const[i,c]=N.useState(!1),[o,l]=N.useState(!1),[d,u]=N.useState([]),[h,f]=N.useState(()=>{const y=localStorage.getItem("recent_attributes");return y?JSON.parse(y):{}}),m=y=>{const E=kh[y]||[],S=h[y]||[];return[...new Set([...S,...E])]},x=(y,E)=>{if(!y||!E)return;const S={...h};S[y]||(S[y]=[]),S[y]=[E,...S[y].filter(R=>R!==E)].slice(0,10),f(S),localStorage.setItem("recent_attributes",JSON.stringify(S))},p=y=>{if(n("trait_type",y),y){const E=m(y);u(E),c(!0)}else c(!1)},g=y=>{p(y),c(!1)},b=y=>{n("value",y),y&&e&&x(e,y)},v=y=>{b(y),l(!1)},w=()=>{if(e){const y=m(e);u(y),l(!0)}},C=y=>{setTimeout(()=>{y==="trait"?c(!1):y==="value"&&l(!1)},150)};return s.jsxs("div",{className:"flex gap-2 relative",children:[s.jsxs("div",{className:"w-1/2 relative",children:[s.jsx("input",{type:"text",value:e,placeholder:"Trait (e.g., Background)",onChange:y=>p(y.target.value),onFocus:()=>{e&&c(!0)},onBlur:()=>C("trait"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),e&&s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:s.jsx(cl,{size:16,className:"text-zinc-400"})}),i&&e&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:Object.keys(kh).filter(y=>y.toLowerCase().includes(e.toLowerCase())).map(y=>s.jsx("div",{onClick:()=>g(y),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white",children:y},y))})]}),s.jsxs("div",{className:"w-1/2 relative",children:[s.jsx("input",{type:"text",value:t,placeholder:"Value",onChange:y=>b(y.target.value),onFocus:w,onBlur:()=>C("value"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),o&&d.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:d.map(y=>s.jsxs("div",{onClick:()=>v(y),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white flex items-center justify-between",children:[s.jsx("span",{children:y}),h[e]?.includes(y)&&s.jsx(wu,{size:14,className:"text-green-400"})]},y))})]}),s.jsx("button",{onClick:r,className:"px-2 py-2 text-red-400 hover:text-red-300 transition-colors",children:s.jsx(Bt,{size:16})})]})},zp=({collection:e,onSuccess:t})=>{const[n,r]=N.useState({name:"",description:""}),[a,i]=N.useState([]),[c,o]=N.useState(!1),[l,d]=N.useState(0),[u,h]=N.useState(""),[f,m]=N.useState([]),[x,p]=N.useState(!1),[g,b]=N.useState([]),[v,w]=N.useState(!1),C=N.useRef(null);an();const[y,E]=N.useState(1),S=25,R=1e4,[I,T]=N.useState({current:0,total:0,success:0,failed:0}),[M,P]=N.useState(!1),[F,k]=N.useState(!1),[D,L]=N.useState(!1),[G,z]=N.useState([]),[$,ne]=N.useState(!1),[B,H]=N.useState(!1),W=N.useRef(null);N.useEffect(()=>{console.log("üîç Loading collection info:",e),e&&r({name:e.name||"",description:e.description||""});const ie=(JSON.parse(localStorage.getItem(`collection_${e?.address}_nfts`))||[]).map(ae=>{const oe=ae.name?.match(/#(\d+)$/);return oe?parseInt(oe[1],10):null}).filter(ae=>ae!==null),fe=ie.length?Math.max(...ie)+1:1;E(fe),V_(),cn.start();const xe=Ua.getRecommendations();z(xe);const A=Ch.getOptimizationStats();console.log("üöÄ SafeOptimizer stats:",A)},[e]),N.useEffect(()=>{if(a.length===0)E(1);else{const X=a.map((ie,fe)=>({...ie,name:`${n.name||"NFT"} #${fe+1}`}));i(X)}},[a.length,n.name]),N.useEffect(()=>{x&&setTimeout(()=>{try{W.current?.focus(),W.current?.scrollIntoView({block:"center",inline:"nearest"})}catch{}},0)},[x]);const q=async(X,ie,fe,xe)=>{console.log("üî• Using optimized upload with caching...");const A=await Promise.all(X.map(async(se,pe)=>{const de=await sa.getFile(se);return de?(console.log(`‚úÖ Cache hit for file ${pe+1}`),{cached:!0,data:de,index:pe}):{cached:!1,file:se,index:pe}})),ae=A.filter(se=>se.cached),oe=A.filter(se=>!se.cached);console.log(`üìä Cache stats: ${ae.length} cached, ${oe.length} new files`);let V=[];if(oe.length>0){const se=oe.map(ve=>ve.file),pe=oe.map(ve=>ie[ve.index]),de=oe.map(ve=>fe[ve.index]),re=oe.map(ve=>xe[ve.index]),be=await Dp(se,pe,de,re),we=oe.map((ve,ee)=>{const O=be.results[ee];return O?{...O,index:ve.index}:null}).filter(Boolean);for(let ve=0;ve<oe.length;ve++){const ee=oe[ve].file,O=we[ve];O&&await sa.setFile(ee,O)}V=we}const Y=[];for(let se=0;se<X.length;se++){const pe=ae.find(re=>re.index===se),de=V.find(re=>re.index===se);pe?Y.push(pe.data):de&&Y.push(de)}return{success:!0,results:Y}},Q=async X=>{X.preventDefault();const fe=Array.from(X.dataTransfer?.files||X.target.files).filter(xe=>{const A=xe.type.startsWith("image/");return A||console.warn("Skipping non-image file:",xe.name),A});if(fe.length===0){alert("Please select only image files.");return}ne(!0);try{console.log(`üîÑ Processing ${fe.length} files...`);const xe=[];for(let ae=0;ae<fe.length;ae++){const oe=fe[ae];console.log(`üîÑ Optimizing file ${ae+1}/${fe.length}: ${oe.name}`);const V=await Ch.optimizeImage(oe);xe.push(V)}const A=xe.map((ae,oe)=>{const V=ae.name.split(".").pop()||"png",Y=`${n.name||"NFT"}`,se=y+oe;return{file:ae,name:`${Y} #${se}`,description:"",attributes:[{trait_type:"",value:""}],originalName:ae.name,fileExtension:V}});i([...a,...A]),E(ae=>ae+fe.length),console.log("Added images:",A.map(ae=>({name:ae.name,originalName:ae.originalName})))}catch(xe){console.error("Error processing uploaded files:",xe),alert("Error processing files: "+xe.message)}finally{ne(!1)}};function he(X,ie){const fe=[];for(let xe=0;xe<X.length;xe+=ie)fe.push(X.slice(xe,xe+ie));return fe}const K=async()=>{if(!a.length||!n.name){alert("Please upload at least one image.");return}if(a.length>R){alert(`You can upload a maximum of ${R} NFTs per collection. Please reduce the number of images.`);return}const X=a.length>100;P(X);try{o(!0),d(0),h("Preparing upload..."),p(!0),m([]),b([]),w(!1),T({current:0,total:Math.ceil(a.length/S),success:0,failed:0});const ie=X?10:S,fe=he(a,ie);let xe=[],A=[];if(X&&fe.length>3){console.log("üöÄ Using parallel batch processing for large upload..."),console.log("üöÄ Using sequential batch processing for large upload...");for(let ae=0;ae<fe.length;ae++){const oe=fe[ae],V=oe.map(re=>re.file),Y=oe.map(re=>re.name),se=oe.map(re=>re.description||n.description),pe=oe.map(re=>re.attributes);console.log(`üî• Processing batch ${ae+1}/${fe.length} (${oe.length} images)...`);const de=Math.round((ae+1)/fe.length*80);d(de),h(`Uploading batch ${ae+1}/${fe.length} (${oe.length} images)...`);try{const re=await K_(V,Y,se,pe,{batchSize:ie,batchDelay:X?1e3:500,useStreaming:V.some(_=>_.size>10485760),maxConcurrent:1});console.log("üî• Worker response:",re),console.log("üî• Response type:",typeof re),console.log("üî• Response keys:",Object.keys(re||{}));const be=JSON.parse(localStorage.getItem(`collection_${e?.address}_nfts`)||"[]");console.log("üîç Processing worker response..."),console.log("üîç Full response:",re),console.log("üîç Response.results:",re.results),console.log("üîç Response.data?.results:",re.data?.results);const we=re.results||[];if(console.log("üîç Final results array:",we),console.log("üîç Results length:",we.length),console.log("üîç Is array:",Array.isArray(we)),we.forEach((_,j)=>{console.log(`üîç Result ${j}:`,_),console.log(`üîç Result ${j} status:`,_.status||"success"),console.log(`üîç Result ${j} metadataIpfs:`,_.metadataIpfs||(Array.isArray(_.metadataUrls)?_.metadataUrls[0]:void 0)),console.log(`üîç Result ${j} imageIpfs:`,_.imageIpfs||_.imageUrl)}),!Array.isArray(we))throw console.error("‚ùå Invalid response format:",re),new Error("Invalid server response format");const ve=await Promise.all(we.map(async(_,j)=>{try{const Z=_.status==="success"||_.success===!0,te=_.metadataIpfs||Array.isArray(_.metadataUrls)&&_.metadataUrls.length>0;if(!Z&&!te)throw console.error("‚ùå Small upload result marked as failed:",_),new Error(`Server marked as failed: ${_.error||"Unknown error"}`);console.log("üîç Processing result:",_);const le=_.metadataIpfs||(Array.isArray(_.metadataUrls)?_.metadataUrls[0]:void 0),ue=_.imageIpfs||_.imageUrl;if(!le)throw console.error("‚ùå No metadata IPFS hash in result:",_),new Error("No metadata IPFS hash returned");let Ne;if(le&&ue&&le===ue)Ne={image:ue};else try{const Ie=At(le);Ne=await ki(Ie)}catch(Ie){console.warn("‚ö†Ô∏è Failed to fetch metadata JSON, falling back to image URL:",Ie?.message),Ne={image:ue||""}}if(!Ne)throw new Error("Failed to fetch metadata from IPFS");const De=Y[j]||_.name||`${n.name} #${y+ae*ie+j}`;return{id:Date.now()+ae*ie+j,name:De,description:se[j]||"",image:Ne.image?At(Ne.image)[0]:"",price:0,status:"draft",type:"multiple",attributes:pe[j]||[],tokenURI:le,failed:!1,originalIndex:ae*ie+j,verified:!0}}catch(Z){return console.error(`Error processing result ${j}:`,Z),{name:Y[j]||`${n.name} #${y+ae*ie+j}`,index:ae*ie+j,failed:!0,reason:Z.message||"Unknown error",originalIndex:ae*ie+j,verified:!1}}})),ee=ve.filter(_=>!_.failed&&_.verified),O=ve.filter(_=>_.failed||!_.verified);ee.length&&localStorage.setItem(`collection_${e?.address}_nfts`,JSON.stringify([...be,...ee])),T(_=>({..._,current:ae+1,success:_.success+ee.length,failed:_.failed+O.length})),d(Math.round((ae+1)/fe.length*80)),h(`Processing batch ${ae+1}/${fe.length} results...`),await new Promise(_=>setTimeout(_,500)),h(`Completed batch ${ae+1}/${fe.length} (${ee.length} success, ${O.length} failed)`),xe=[...xe,...ee],A=[...A,...O]}catch(re){console.error(`Batch ${ae+1} failed:`,re);const be=oe.map((we,ve)=>({name:we.name,index:ae*ie+ve,failed:!0,reason:re.message||"Batch upload failed"}));T(we=>({...we,current:ae+1,failed:we.failed+oe.length})),A=[...A,...be]}}}else{console.log("üêå Using sequential processing for small upload...");for(let ae=0;ae<fe.length;ae++){const oe=fe[ae],V=oe.map(de=>de.file),Y=oe.map(de=>de.name),se=oe.map(de=>de.description||n.description),pe=oe.map(de=>de.attributes);console.log(`Batch ${ae+1}/${fe.length} (${oe.length} images)...`),h(`Uploading batch ${ae+1}/${fe.length} (${oe.length} images)...`),d(Math.round(ae/fe.length*80)),T(de=>({...de,current:ae+1}));try{const de=await q(V,Y,se,pe),re=JSON.parse(localStorage.getItem(`collection_${e?.address}_nfts`)||"[]");console.log("üîç Processing small upload response:",de);const be=de.results||[];if(!Array.isArray(be))throw console.error("‚ùå Invalid response format:",de),new Error("Invalid server response format");h(`Processing batch ${ae+1}/${fe.length} results...`);const we=await Promise.all(be.map(async(O,_)=>{try{const j=O.status==="success"||O.success===!0,Z=O.metadataIpfs||Array.isArray(O.metadataUrls)&&O.metadataUrls.length>0;if(!j&&!Z)throw console.error("‚ùå Result marked as failed:",O),new Error(`Server marked as failed: ${O.error||"Unknown error"}`);console.log("üîç Processing small upload result:",O);const te=O.metadataIpfs||(Array.isArray(O.metadataUrls)?O.metadataUrls[0]:void 0),le=O.imageIpfs||O.imageUrl;if(!te)throw console.error("‚ùå No metadata IPFS hash in result:",O),new Error("No metadata IPFS hash returned");let ue;if(/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(te||""))ue={image:te};else try{const Ie=At(te);ue=await ki(Ie)}catch(Ie){console.warn("‚ö†Ô∏è Failed to fetch metadata JSON, falling back to image URL:",Ie?.message),ue={image:le||""}}if(!ue)throw new Error("Failed to fetch metadata from IPFS");if(!X&&ue.image){const Ie=At(ue.image);let Ze=!1;for(const je of Ie)try{let Ke=await fetch(je,{method:"HEAD"});if(Ke.ok||(Ke=await fetch(je,{method:"GET"})),Ke.ok){Ze=!0;break}}catch{}if(!Ze)throw new Error("Failed to verify image accessibility")}const De=Y[_]||O.name||`${n.name} #${y+_}`;return{id:Date.now()+_,name:De,description:se[_]||"",image:ue.image?At(ue.image)[0]:"",price:0,status:"draft",type:"multiple",attributes:pe[_]||[],tokenURI:te,failed:!1,originalIndex:_,verified:!0}}catch(j){return console.error(`Error processing result ${_}:`,j),{name:Y[_]||`${n.name} #${y+_}`,index:_,failed:!0,reason:j.message||"Unknown error",originalIndex:_,verified:!1}}})),ve=we.filter(O=>!O.failed&&O.verified),ee=we.filter(O=>O.failed||!O.verified);xe=[...xe,...ve],A=[...A,...ee],T(O=>({...O,success:O.success+ve.length,failed:O.failed+ee.length})),ve.length&&localStorage.setItem(`collection_${e?.address}_nfts`,JSON.stringify([...re,...ve])),X&&ae<fe.length-1&&(h(`Pausing between batches... (${ae+1}/${fe.length})`),await new Promise(O=>setTimeout(O,1e3)))}catch(de){console.error(`Batch ${ae+1} failed:`,de);const re=oe.map((be,we)=>({name:be.name,index:we,failed:!0,reason:de.message||"Batch upload failed"}));A=[...A,...re],T(be=>({...be,failed:be.failed+oe.length}))}}}console.log("üéØ Finalizing upload process..."),console.log("üìä Final results:",{allResults:xe.length,allFailed:A.length}),h("Finalizing upload..."),d(90),console.log("üíæ Setting results and failed arrays..."),m(xe),b(A),d(100),console.log("üéâ Determining final status..."),xe.length&&A.length===0?(console.log("‚úÖ All uploads successful!"),h("‚úÖ Upload completed successfully!"),w(!0)):xe.length>0?(console.log(`‚ö†Ô∏è Upload completed with ${A.length} failures`),h(`‚úÖ Upload completed with ${A.length} failures`)):(console.log("‚ùå All uploads failed"),h("‚ùå Upload failed")),console.log("üèÅ Upload process completed")}catch(ie){console.error("Upload failed:",ie),h(`‚ùå Upload failed: ${ie.message}`),alert("Upload failed: "+ie.message)}finally{o(!1),P(!1)}},J=()=>{const X=g.map(ie=>{const fe=ie.index??0,xe=a[fe];return{...xe,name:ie.name||xe.name,originalIndex:fe}});i(X),b([]),p(!1),console.log("Retrying failed uploads with preserved order:",X.map((ie,fe)=>({newIndex:fe,originalIndex:ie.originalIndex,name:ie.name})))},ce=()=>{const X=sa.getStats(),ie=document.getElementById("cache-items"),fe=document.getElementById("cache-memory"),xe=document.getElementById("cache-hitrate");ie&&(ie.textContent=X.totalItems),fe&&(fe.textContent=`${(X.totalMemory/1024/1024).toFixed(1)}MB`),xe&&(xe.textContent=`${X.hitRate.toFixed(1)}%`),cn.updateCacheStats(X)};return N.useEffect(()=>{ce();const X=setInterval(ce,5e3);return()=>{clearInterval(X),cn.stop()}},[]),s.jsxs("div",{className:"flex flex-col gap-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Multiple NFT Upload"}),s.jsx("div",{className:"flex flex-col lg:flex-row gap-8",children:s.jsxs("div",{className:"w-full",children:[s.jsx("label",{className:"text-sm text-zinc-400 block mb-2",children:"Upload images *"}),s.jsxs("div",{className:`w-full min-h-[192px] bg-zinc-900 border border-zinc-600 rounded-xl p-2 cursor-pointer hover:ring-1 hover:ring-pink-500 transition-all duration-200 ${$?"ring-2 ring-blue-500 bg-blue-900/20":""} ${c?"ring-2 ring-green-500 bg-green-900/20":""}`,onClick:()=>!$&&!c&&C.current.click(),onDragOver:X=>X.preventDefault(),onDrop:!$&&!c?Q:void 0,children:[s.jsx("div",{className:"flex flex-col justify-center items-center h-full min-h-[192px] gap-3",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Fs,{className:"w-8 h-8 text-green-400 animate-spin"}),s.jsx("div",{className:"text-green-400 text-sm font-medium",children:"Uploading NFTs..."}),s.jsx("div",{className:"text-green-300 text-xs",children:"Please wait while we upload to IPFS"})]}):$?s.jsxs(s.Fragment,{children:[s.jsx(Fs,{className:"w-8 h-8 text-blue-400 animate-spin"}),s.jsx("div",{className:"text-blue-400 text-sm font-medium",children:"Processing files..."}),s.jsx("div",{className:"text-blue-300 text-xs",children:"Please wait while we optimize your images"})]}):s.jsxs(s.Fragment,{children:[s.jsx("img",{src:Rp,alt:"upload",className:"w-8 h-8 opacity-70"}),s.jsx("div",{className:"text-zinc-400 text-sm",children:"Drop images here or click to browse"})]})}),s.jsx("input",{ref:C,type:"file",accept:"image/*",multiple:!0,onChange:Q,disabled:$||c,className:"hidden"})]})]})}),s.jsx("div",{className:"space-y-6 overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-zinc-400",children:[s.jsx("thead",{className:"text-xs uppercase bg-zinc-800 text-zinc-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"#"}),s.jsx("th",{className:"px-4 py-2",children:"Preview"}),s.jsx("th",{className:"px-4 py-2",children:"Name"}),s.jsx("th",{className:"px-4 py-2",children:"Description"}),s.jsx("th",{className:"px-4 py-2",children:"Attributes"}),s.jsx("th",{className:"px-4 py-2",children:"Remove"})]})}),s.jsx("tbody",{children:a.map((X,ie)=>s.jsxs("tr",{className:"border-b border-zinc-700",children:[s.jsx("td",{className:"px-4 py-2",children:ie+1}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("img",{src:URL.createObjectURL(X.file),alt:`preview-${ie}`,className:"w-12 h-12 object-cover rounded"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"text",value:X.name,onChange:fe=>{const xe=[...a];xe[ie].name=fe.target.value,i(xe)},className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"text",value:X.description,onChange:fe=>{const xe=[...a];xe[ie].description=fe.target.value,i(xe)},className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})}),s.jsxs("td",{className:"px-4 py-2 space-y-2",children:[X.attributes.map((fe,xe)=>s.jsx(Q_,{trait_type:fe.trait_type,value:fe.value,onChange:(A,ae)=>{const oe=[...a];oe[ie].attributes[xe]={trait_type:A,value:ae},i(oe)},onRemove:()=>{const A=[...a];A[ie].attributes.splice(xe,1),i(A)},index:xe},xe)),s.jsx("button",{onClick:()=>{const fe=[...a];fe[ie].attributes.push({trait_type:"",value:""}),i(fe)},className:"text-xs text-blue-400 hover:underline mt-1 flex items-center gap-1",children:s.jsx("span",{children:"+ Add Attribute"})})]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{onClick:()=>{const fe=[...a];fe.splice(ie,1),i(fe)},className:"text-xs text-red-400 hover:underline",children:"Remove"})})]},ie))})]})}),s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("button",{onClick:K,disabled:c,className:"flex-1 py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:c?"Uploading...":"Publish NFTs"}),s.jsxs("button",{onClick:()=>k(!F),className:"px-4 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white text-sm font-semibold transition-all duration-200 shadow-md hover:shadow-lg",title:"Show performance statistics",children:[s.jsx(Rs,{size:16,className:"inline mr-1"}),"Stats"]}),s.jsxs("button",{onClick:()=>L(!D),className:"px-4 py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-sm font-semibold transition-all duration-200 shadow-md hover:shadow-lg",title:"Show optimization status",children:[s.jsx(Wc,{size:16,className:"inline mr-1"}),"Optimizations"]})]}),a.length>50&&s.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-900/20 to-purple-900/20 border border-blue-500/30 rounded-2xl backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[s.jsx("span",{className:"text-lg",children:"üöÄ"}),s.jsx("span",{className:"font-semibold",children:"Advanced Performance Optimization Active"})]}),s.jsxs("p",{className:"text-sm text-blue-300 mb-3",children:["Large upload detected (",a.length," files). Using cutting-edge optimizations for maximum performance."]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[s.jsxs("div",{className:"bg-blue-900/30 p-3 rounded-xl border border-blue-500/20",children:[s.jsx("div",{className:"text-blue-400 font-medium",children:"Web Worker"}),s.jsx("div",{className:"text-blue-300",children:Tn?"‚úÖ Active":"‚ùå Fallback"})]}),s.jsxs("div",{className:"bg-purple-900/30 p-3 rounded-xl border border-purple-500/20",children:[s.jsx("div",{className:"text-purple-400 font-medium",children:"Streaming"}),s.jsx("div",{className:"text-purple-300",children:a.some(X=>X.file.size>10*1024*1024)?"‚úÖ Large Files":"‚ö° Optimized"})]}),s.jsxs("div",{className:"bg-green-900/30 p-3 rounded-xl border border-green-500/20",children:[s.jsx("div",{className:"text-green-400 font-medium",children:"Advanced Cache"}),s.jsx("div",{className:"text-green-300",children:"‚úÖ Active"})]}),s.jsxs("div",{className:"bg-orange-900/30 p-3 rounded-xl border border-orange-500/20",children:[s.jsx("div",{className:"text-orange-400 font-medium",children:"Batch Size"}),s.jsxs("div",{className:"text-orange-300",children:[a.length>100?"10":"25"," files"]})]})]}),s.jsxs("div",{className:"mt-3 text-xs text-blue-400",children:["‚Ä¢ Parallel processing: ",a.length>100?"Enabled":"Disabled","‚Ä¢ Adaptive batching: Enabled ‚Ä¢ Compression: Enabled ‚Ä¢ Retry mechanism: Enabled"]})]}),G.length>0&&s.jsxs("div",{className:"p-6 bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border border-yellow-500/30 rounded-2xl backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[s.jsx("span",{className:"text-lg",children:"üì±"}),s.jsx("span",{className:"font-semibold",children:"Mobile Optimization"})]}),s.jsx("div",{className:"space-y-1 text-sm text-yellow-300",children:G.map((X,ie)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"‚Ä¢"}),s.jsx("span",{children:X})]},ie))}),s.jsxs("div",{className:"mt-3 text-xs text-yellow-400",children:["Device: ",Ua.getDeviceInfo().screenSize," | Connection: ",Ua.getDeviceInfo().connectionSpeed," | Battery: ",Ua.getDeviceInfo().batteryLevel!==null?`${(Ua.getDeviceInfo().batteryLevel*100).toFixed(0)}%`:"Unknown"]})]}),s.jsxs("div",{className:"p-6 bg-zinc-800/50 border border-zinc-700/30 rounded-2xl backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Cache Statistics"}),s.jsx("button",{onClick:async()=>{const X=sa.getStats();console.log("üìä Cache stats:",X),alert(`Cache Stats:
Hits: ${X.hits}
Misses: ${X.misses}
Hit Rate: ${X.hitRate.toFixed(1)}%
Compression: ${X.compressionRatio.toFixed(1)}%`)},className:"text-xs text-blue-400 hover:text-blue-300",children:"View Stats"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-zinc-400",children:"Items"}),s.jsx("div",{className:"text-white font-medium",id:"cache-items",children:"-"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-zinc-400",children:"Memory"}),s.jsx("div",{className:"text-white font-medium",id:"cache-memory",children:"-"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-zinc-400",children:"Hit Rate"}),s.jsx("div",{className:"text-white font-medium",id:"cache-hitrate",children:"-"})]})]})]}),x&&Am.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[10000] p-4",children:s.jsx("div",{ref:W,tabIndex:-1,className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",autoFocus:!0,children:s.jsxs("div",{className:"relative z-10 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[l===100?s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):s.jsx("div",{className:"mb-4",children:s.jsx(ku,{type:"uploading",size:"lg"})}),s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:l===100?"NFTs Uploaded!":"Uploading NFTs..."}),s.jsx("p",{className:"text-zinc-400 text-sm",children:l===100?"Your NFTs have been successfully uploaded to IPFS":"Please wait while we process your NFTs"})]}),l<100&&s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${l}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[l,"%"]}),s.jsx("p",{className:"text-sm text-zinc-400",children:u})]}),M&&s.jsxs("div",{className:"mb-6 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-semibold text-white",children:"Batch Progress"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:I.current}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Batch"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-green-400",children:I.success}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Success"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-red-400",children:I.failed}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Failed"})]})]}),s.jsx("div",{className:"w-full h-2 bg-zinc-700/50 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-300",style:{width:`${I.current/I.total*100}%`}})})]})]}),l===100&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),s.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),s.jsxs("p",{className:"text-zinc-300 text-sm",children:[f.length," NFTs uploaded successfully",g.length>0&&`, ${g.length} failed`]})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2 mb-6",children:[f.map((X,ie)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-900/20 border border-green-500/30 rounded-xl",children:[s.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(wu,{size:16,className:"text-white"})}),s.jsx("span",{className:"text-sm text-green-400 font-medium",children:X.name})]},ie)),g.map((X,ie)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-900/20 border border-red-500/30 rounded-xl",children:[s.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx(Bt,{size:16,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm text-red-400 font-medium",children:X.name||`Unnamed #${ie+1}`}),s.jsx("div",{className:"text-xs text-red-300",children:X.reason||"failed"})]})]},`f-${ie}`))]})]}),l===100&&s.jsxs("div",{className:"space-y-3",children:[g.length>0&&s.jsxs("button",{onClick:J,className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold hover:from-orange-600 hover:to-red-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-orange-500/25",children:["Retry Failed Uploads (",g.length,")"]}),v&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>{if(p(!1),t){const X={type:"multiple",collection:e,nfts:f,failed:g,totalUploaded:f.length,totalFailed:g.length,timestamp:new Date().toISOString()};t(X)}},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t?"Continue to Studio Dashboard":"Continue"]})]}),s.jsx("button",{onClick:()=>p(!1),className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]})]}),s.jsx("button",{onClick:()=>{l<100?H(!0):p(!1)},className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:24})})]})})}),document.body),s.jsx($_,{isVisible:F,onClose:()=>k(!1)}),s.jsx(W_,{isVisible:D,onClose:()=>L(!1)}),s.jsx(ju,{isVisible:B,onConfirm:()=>{if(H(!1),p(!1),o(!1),d(0),h(""),T({current:0,total:0,success:0,failed:0}),m([]),b([]),Tn){try{Tn.terminate()}catch{}Tn=null}},onCancel:()=>H(!1),title:"Cancel Upload Process",message:"Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over. This action cannot be undone."})]})},eS=({collectionAddress:e,isReady:t})=>{const[n,r]=N.useState("single"),[a,i]=N.useState(null);N.useEffect(()=>{if(!e){i(null);return}try{const l=JSON.parse(localStorage.getItem(`collection_${e}`)||"null");if(l&&l.address){i(l);return}const d=JSON.parse(localStorage.getItem("dreava_collections")||"[]"),u=Array.isArray(d)?d.find(h=>h.address===e):null;if(u){i(u);return}i({address:e})}catch{i({address:e})}},[e]);const c=[{key:"single",label:"Single NFT"},{key:"multiple",label:"Multiple NFTs"}],o=()=>s.jsx("p",{className:"text-xs text-center text-zinc-500 mt-2",children:"‚ö†Ô∏è Draft is not yet published. If you clear browser data, it may be lost."});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex gap-4 text-sm font-medium border-b border-zinc-700 mb-4",children:c.map(({key:l,label:d})=>s.jsx("button",{onClick:()=>r(l),className:`px-4 py-2 transition-colors ${n===l?"border-b-2 border-pink-500 text-pink-500":"text-zinc-400 hover:text-white"}`,children:d},l))}),n==="single"&&s.jsxs(s.Fragment,{children:[s.jsx(Op,{collection:a}),s.jsx(o,{})]}),n==="multiple"&&s.jsxs(s.Fragment,{children:[s.jsx(zp,{collection:a}),s.jsx(o,{})]})]})},tS="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",nS=["https://dream-rpc.somnia.network/","https://rpc.ankr.com/somnia_testnet"];async function jh(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t);try{const a=await e(n);return clearTimeout(r),a}catch(a){throw clearTimeout(r),a}}async function ql(e){for(const t of nS)try{const n=new Nt(t);return await e(n)}catch{}throw new Error("All RPC endpoints failed")}function Bp(e){return`dreava_user_collections_${(e||"").toLowerCase()}`}function rS(e){try{const t=localStorage.getItem(Bp(e));if(!t)return null;const n=JSON.parse(t);return!n||!Array.isArray(n.collections)||!n.ts?null:n}catch{return null}}function sS(e,t){try{const n={ts:Date.now(),collections:t};localStorage.setItem(Bp(e),JSON.stringify(n))}catch{}}function Ah(e,t){const n=new Map;for(const r of[...e||[],...t||[]]){if(!r||!r.address)continue;const a=r.address.toLowerCase();n.has(a)||n.set(a,r)}return Array.from(n.values())}const aS=async e=>{for(const t of e)try{const n=await fetch(t);if(n.ok)return await n.json()}catch{}throw new Error("Failed to fetch metadata")},iS=({cover:e,firstNFTImage:t})=>{if(e){const r=At(e)[0]||Vt;return s.jsx("img",{src:r,alt:"cover",className:"w-8 h-8 object-cover rounded-md border border-zinc-600",loading:"lazy",onError:a=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",a.target.src),t&&t!==a.target.src?a.target.src=t:a.target.src=Vt}})}return t?s.jsx("img",{src:t,alt:"NFT",className:"w-8 h-8 object-cover rounded-md border border-zinc-600",loading:"lazy",onError:n=>{console.warn("‚ö†Ô∏è Collection NFT image failed to load:",n.target.src),n.target.src=Vt}}):s.jsx("img",{src:Vt,alt:"logo",className:"w-8 h-8 object-cover rounded-md border border-zinc-600 opacity-50"})},Ld=({selected:e,onSelect:t,showCreateButton:n=!0,onCreateNew:r})=>{const[a,i]=N.useState([]),[c,o]=N.useState(!1),[l,d]=N.useState("bottom"),u=an();N.useEffect(()=>{(async()=>{try{let p=null;if(window.ethereum)try{const S=await window.ethereum.request({method:"eth_accounts"});S&&S.length>0&&(p=S[0])}catch(S){console.warn("Could not get user address from wallet:",S)}if(!p){console.warn("No user address available, cannot load collections"),i([]);return}const g=rS(p),b=JSON.parse(localStorage.getItem("dreava_collections")||"[]");if(g&&Array.isArray(g.collections)){const S=Ah(g.collections,b);i(S)}else b.length>0&&i(b);const v=await ql(async S=>await new rt(tS,Sa,S).getUserCollections(p)),w=4,C=[];for(let S=0;S<v.length;S+=w){const I=v.slice(S,S+w).map(async M=>{const P={address:M,name:`${M.slice(0,6)}...${M.slice(-4)}`,cover:Vt,description:""};try{const F=await jh(async G=>await ql(async z=>await new rt(M,jt,z).name({signal:G.signal})),5e3).catch(()=>P.name);let k=P.cover,D="";const L=await jh(async G=>await ql(async z=>await new rt(M,jt,z).contractURI({signal:G.signal})),5e3).catch(()=>"");if(L){const G=At(L);try{const z=await aS(G);z.image&&(k=At(z.image)[0]||k),z.description&&(D=String(z.description))}catch{}}return{address:M,name:F,cover:k||Vt,description:D}}catch(F){return console.error(`Error processing contract ${M}:`,F),P}}),T=await Promise.all(I);C.push(...T)}const y=C.filter(S=>S!==null),E=Ah(y,b);sS(p,E),i(E)}catch(p){console.error("Failed to load collections:",p)}})()},[]);const h=x=>{o(!1),t(x)},f=()=>{o(!1),r?r():u("/create-dreams")},m=()=>{if(!c){const x=document.querySelector("[data-collection-selector]");if(x){const p=x.getBoundingClientRect(),g=window.innerHeight-p.bottom,b=p.top;g<200&&b>g?d("top"):d("bottom")}}o(!c)};return s.jsxs("div",{className:"relative w-full max-w-sm",children:[s.jsxs("button",{onClick:m,className:"w-full flex justify-between items-center bg-zinc-900 border border-zinc-700 rounded-xl px-4 py-3 text-white text-sm font-medium hover:border-pink-500 transition","data-collection-selector":!0,children:[e?.name||"Select collection",s.jsx("span",{className:"ml-2 text-zinc-400",children:"‚ñæ"})]}),c&&s.jsxs("div",{className:`absolute w-full bg-zinc-800 border border-zinc-700 rounded-xl shadow-lg z-50 overflow-hidden divide-y divide-zinc-700 max-h-48 overflow-y-auto ${l==="top"?"bottom-full mb-2":"top-full mt-2"}`,children:[n&&s.jsx("button",{onClick:f,className:"block w-full text-left px-4 py-3 text-pink-400 hover:bg-zinc-700 text-sm font-medium",children:"+ Create new collection"}),a.map((x,p)=>s.jsxs("button",{onClick:()=>h(x),className:"flex items-center gap-3 px-4 py-2 w-full hover:bg-zinc-700 text-sm text-white",children:[s.jsx(iS,{cover:x.cover,firstNFTImage:x.firstNFTImage}),s.jsx("span",{className:"truncate max-w-[160px] font-medium",children:x.name})]},x.address+p))]})]})},oS=()=>{const[e,t]=N.useState(null);return s.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-10 text-white space-y-8",children:[s.jsx("div",{className:"space-y-4",children:s.jsx(Ld,{selected:e,onSelect:t})}),s.jsx("div",{className:`rounded-2xl transition-all p-6 border bg-zinc-900 border-zinc-800 shadow-lg ${e?"":"opacity-30 pointer-events-none select-none blur-sm"}`,children:s.jsx(eS,{collectionAddress:e?.address,isReady:!!e})})]})},Lp=typeof document<"u"?Se.useLayoutEffect:()=>{};var Gl;const cS=(Gl=Se.useInsertionEffect)!==null&&Gl!==void 0?Gl:Lp;function lS(e){const t=N.useRef(null);return cS(()=>{t.current=e},[e]),N.useCallback((...n)=>{const r=t.current;return r?.(...n)},[])}const rs=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},ys=e=>e&&"window"in e&&e.window===e?e:rs(e).defaultView||window;function dS(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function uS(e){return dS(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let hS=!1;function Au(){return hS}function Up(e,t){if(!Au())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:uS(n)?n=n.host:n=n.parentNode}return!1}const Ud=(e=document)=>{var t;if(!Au())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function $p(e){return Au()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Wp(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Wp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hp(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Wp(e))&&(r&&(r+=" "),r+=t);return r}function fS(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function mS(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function qp(e){let t=null;return()=>(t==null&&(t=e()),t)}const pS=qp(function(){return mS(/^Mac/i)}),gS=qp(function(){return fS(/Android/i)});function Gp(){let e=N.useRef(new Map),t=N.useCallback((a,i,c,o)=>{let l=o?.once?(...d)=>{e.current.delete(c),c(...d)}:c;e.current.set(c,{type:i,eventTarget:a,fn:l,options:o}),a.addEventListener(i,l,o)},[]),n=N.useCallback((a,i,c,o)=>{var l;let d=((l=e.current.get(c))===null||l===void 0?void 0:l.fn)||c;a.removeEventListener(i,d,o),e.current.delete(c)},[]),r=N.useCallback(()=>{e.current.forEach((a,i)=>{n(a.eventTarget,a.type,i,a.options)})},[n]);return N.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function xS(e){return e.mozInputSource===0&&e.isTrusted?!0:gS()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Vp(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function bS(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Yp(e){let t=N.useRef({isFocused:!1,observer:null});Lp(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=lS(r=>{e?.(r)});return N.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let a=r.target,i=c=>{if(t.current.isFocused=!1,a.disabled){let o=Vp(c);n(o)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};a.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&a.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let o=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),t.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let vS=!1,$i=null,$d=new Set,ti=new Map,Os=!1,Wd=!1;const yS={Tab:!0,Escape:!0};function Tu(e,t){for(let n of $d)n(e,t)}function wS(e){return!(e.metaKey||!pS()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Yc(e){Os=!0,wS(e)&&($i="keyboard",Tu("keyboard",e))}function ca(e){$i="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Os=!0,Tu("pointer",e))}function Zp(e){xS(e)&&(Os=!0,$i="virtual")}function Kp(e){e.target===window||e.target===document||vS||!e.isTrusted||(!Os&&!Wd&&($i="virtual",Tu("virtual",e)),Os=!1,Wd=!1)}function Jp(){Os=!1,Wd=!0}function Hd(e){if(typeof window>"u"||typeof document>"u"||ti.get(ys(e)))return;const t=ys(e),n=rs(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Os=!0,r.apply(this,arguments)},n.addEventListener("keydown",Yc,!0),n.addEventListener("keyup",Yc,!0),n.addEventListener("click",Zp,!0),t.addEventListener("focus",Kp,!0),t.addEventListener("blur",Jp,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",ca,!0),n.addEventListener("pointermove",ca,!0),n.addEventListener("pointerup",ca,!0)),t.addEventListener("beforeunload",()=>{Xp(e)},{once:!0}),ti.set(t,{focus:r})}const Xp=(e,t)=>{const n=ys(e),r=rs(e);t&&r.removeEventListener("DOMContentLoaded",t),ti.has(n)&&(n.HTMLElement.prototype.focus=ti.get(n).focus,r.removeEventListener("keydown",Yc,!0),r.removeEventListener("keyup",Yc,!0),r.removeEventListener("click",Zp,!0),n.removeEventListener("focus",Kp,!0),n.removeEventListener("blur",Jp,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",ca,!0),r.removeEventListener("pointermove",ca,!0),r.removeEventListener("pointerup",ca,!0)),ti.delete(n))};function CS(e){const t=rs(e);let n;return t.readyState!=="loading"?Hd(e):(n=()=>{Hd(e)},t.addEventListener("DOMContentLoaded",n)),()=>Xp(e,n)}typeof document<"u"&&CS();function Qp(){return $i!=="pointer"}const NS=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ES(e,t,n){let r=rs(n?.target);const a=typeof window<"u"?ys(n?.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?ys(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?ys(n?.target).HTMLElement:HTMLElement,o=typeof window<"u"?ys(n?.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof a&&!NS.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof c&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof o&&!yS[n.key])}function _S(e,t,n){Hd(),N.useEffect(()=>{let r=(a,i)=>{ES(!!n?.isTextInput,a,i)&&e(Qp())};return $d.add(r),()=>{$d.delete(r)}},t)}function SS(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:a}=e;const i=N.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),a&&a(!1),!0},[r,a]),c=Yp(i),o=N.useCallback(l=>{const d=rs(l.target),u=d?Ud(d):Ud();l.target===l.currentTarget&&u===$p(l.nativeEvent)&&(n&&n(l),a&&a(!0),c(l))},[a,n,c]);return{focusProps:{onFocus:!t&&(n||a||r)?o:void 0,onBlur:!t&&(r||a)?i:void 0}}}function kS(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:a}=e,i=N.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:o}=Gp(),l=N.useCallback(h=>{h.currentTarget.contains(h.target)&&i.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(i.current.isFocusWithin=!1,o(),n&&n(h),a&&a(!1))},[n,a,i,o]),d=Yp(l),u=N.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=rs(h.target),m=Ud(f);if(!i.current.isFocusWithin&&m===$p(h.nativeEvent)){r&&r(h),a&&a(!0),i.current.isFocusWithin=!0,d(h);let x=h.currentTarget;c(f,"focus",p=>{if(i.current.isFocusWithin&&!Up(x,p.target)){let g=new f.defaultView.FocusEvent("blur",{relatedTarget:p.target});bS(g,x);let b=Vp(g);l(b)}},{capture:!0})}},[r,a,d,c,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let qd=!1,uo=0;function jS(){qd=!0,setTimeout(()=>{qd=!1},50)}function Th(e){e.pointerType==="touch"&&jS()}function AS(){if(!(typeof document>"u"))return uo===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Th),uo++,()=>{uo--,!(uo>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Th)}}function TS(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:a}=e,[i,c]=N.useState(!1),o=N.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;N.useEffect(AS,[]);let{addGlobalListener:l,removeAllGlobalListeners:d}=Gp(),{hoverProps:u,triggerHoverEnd:h}=N.useMemo(()=>{let f=(p,g)=>{if(o.pointerType=g,a||g==="touch"||o.isHovered||!p.currentTarget.contains(p.target))return;o.isHovered=!0;let b=p.currentTarget;o.target=b,l(rs(p.target),"pointerover",v=>{o.isHovered&&o.target&&!Up(o.target,v.target)&&m(v,v.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:g}),n&&n(!0),c(!0)},m=(p,g)=>{let b=o.target;o.pointerType="",o.target=null,!(g==="touch"||!o.isHovered||!b)&&(o.isHovered=!1,d(),r&&r({type:"hoverend",target:b,pointerType:g}),n&&n(!1),c(!1))},x={};return typeof PointerEvent<"u"&&(x.onPointerEnter=p=>{qd&&p.pointerType==="mouse"||f(p,p.pointerType)},x.onPointerLeave=p=>{!a&&p.currentTarget.contains(p.target)&&m(p,p.pointerType)}),{hoverProps:x,triggerHoverEnd:m}},[t,n,r,a,o,l,d]);return N.useEffect(()=>{a&&h({currentTarget:o.target},o.pointerType)},[a]),{hoverProps:u,isHovered:i}}function IS(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,a=N.useRef({isFocused:!1,isFocusVisible:t||Qp()}),[i,c]=N.useState(!1),[o,l]=N.useState(()=>a.current.isFocused&&a.current.isFocusVisible),d=N.useCallback(()=>l(a.current.isFocused&&a.current.isFocusVisible),[]),u=N.useCallback(m=>{a.current.isFocused=m,c(m),d()},[d]);_S(m=>{a.current.isFocusVisible=m,d()},[],{isTextInput:n});let{focusProps:h}=SS({isDisabled:r,onFocusChange:u}),{focusWithinProps:f}=kS({isDisabled:!r,onFocusWithinChange:u});return{isFocused:i,isFocusVisible:o,focusProps:r?f:h}}var RS=Object.defineProperty,PS=(e,t,n)=>t in e?RS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vl=(e,t,n)=>(PS(e,typeof t!="symbol"?t+"":t,n),n);let FS=class{constructor(){Vl(this,"current",this.detect()),Vl(this,"handoffState","pending"),Vl(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},eg=new FS;function OS(e){var t,n;return eg.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function DS(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function tg(){let e=[],t={addEventListener(n,r,a,i){return n.addEventListener(r,a,i),t.add(()=>n.removeEventListener(r,a,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return DS(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,a){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=tg();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let a of e.splice(r,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function Iu(){let[e]=N.useState(tg);return N.useEffect(()=>()=>e.dispose(),[e]),e}let Ru=(e,t)=>{eg.isServer?N.useEffect(e,t):N.useLayoutEffect(e,t)};function MS(e){let t=N.useRef(e);return Ru(()=>{t.current=e},[e]),t}let Un=function(e){let t=MS(e);return Se.useCallback((...n)=>t.current(...n),[t])};function zS(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function BS(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function LS({disabled:e=!1}={}){let t=N.useRef(null),[n,r]=N.useState(!1),a=Iu(),i=Un(()=>{t.current=null,r(!1),a.dispose()}),c=Un(o=>{if(a.dispose(),t.current===null){t.current=o.currentTarget,r(!0);{let l=OS(o.currentTarget);a.addEventListener(l,"pointerup",i,!1),a.addEventListener(l,"pointermove",d=>{if(t.current){let u=zS(d);r(BS(u,t.current.getBoundingClientRect()))}},!1),a.addEventListener(l,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:c,onPointerUp:i,onClick:i}}}let US=N.createContext(void 0);function Pu(){return N.useContext(US)}function Ih(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ng(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ng),r}var $S=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))($S||{}),WS=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(WS||{});function Wi(){let e=qS();return N.useCallback(t=>HS({mergeRefs:e,...t}),[e])}function HS({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:a,visible:i=!0,name:c,mergeRefs:o}){o=o??GS;let l=rg(t,e);if(i)return ho(l,n,r,c,o);let d=a??0;if(d&2){let{static:u=!1,...h}=l;if(u)return ho(h,n,r,c,o)}if(d&1){let{unmount:u=!0,...h}=l;return ng(u?0:1,{0(){return null},1(){return ho({...h,hidden:!0,style:{display:"none"}},n,r,c,o)}})}return ho(l,n,r,c,o)}function ho(e,t={},n,r,a){let{as:i=n,children:c,refName:o="ref",...l}=Yl(e,["unmount","static"]),d=e.ref!==void 0?{[o]:e.ref}:{},u=typeof c=="function"?c(t):c;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let f=!1,m=[];for(let[x,p]of Object.entries(t))typeof p=="boolean"&&(f=!0),p===!0&&m.push(x.replace(/([A-Z])/g,g=>`-${g.toLowerCase()}`));if(f){h["data-headlessui-state"]=m.join(" ");for(let x of m)h[`data-${x}`]=""}}if(i===N.Fragment&&(Object.keys(ms(l)).length>0||Object.keys(ms(h)).length>0))if(!N.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(ms(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ms(l)).concat(Object.keys(ms(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,m=f?.className,x=typeof m=="function"?(...b)=>Ih(m(...b),l.className):Ih(m,l.className),p=x?{className:x}:{},g=rg(u.props,ms(Yl(l,["ref"])));for(let b in h)b in g&&delete h[b];return N.cloneElement(u,Object.assign({},g,h,d,{ref:a(YS(u),d.ref)},p))}return N.createElement(i,Object.assign({},Yl(l,["ref"]),i!==N.Fragment&&d,i!==N.Fragment&&h),u)}function qS(){let e=N.useRef([]),t=N.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function GS(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function rg(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[a=>{var i;return(i=a?.preventDefault)==null?void 0:i.call(a)}]);for(let r in n)Object.assign(t,{[r](a,...i){let c=n[r];for(let o of c){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;o(a,...i)}}});return t}function VS(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];for(let r in n)Object.assign(t,{[r](...a){let i=n[r];for(let c of i)c?.(...a)}});return t}function ll(e){var t;return Object.assign(N.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ms(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Yl(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function YS(e){return Se.version.split(".")[0]>="19"?e.props.ref:e.ref}function ZS(e,t,n){let[r,a]=N.useState(n),i=e!==void 0,c=N.useRef(i),o=N.useRef(!1),l=N.useRef(!1);return i&&!c.current&&!o.current?(o.current=!0,c.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&c.current&&!l.current&&(l.current=!0,c.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,Un(d=>(i||a(d),t?.(d)))]}function KS(e){let[t]=N.useState(e);return t}function sg(e={},t=null,n=[]){for(let[r,a]of Object.entries(e))ig(n,ag(t,r),a);return n}function ag(e,t){return e?e+"["+t+"]":t}function ig(e,t,n){if(Array.isArray(n))for(let[r,a]of n.entries())ig(e,ag(t,r.toString()),a);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):sg(n,t,e)}function JS(e){var t,n;let r=(t=e?.form)!=null?t:e.closest("form");if(r){for(let a of r.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(n=r.requestSubmit)==null||n.call(r)}}let XS="span";var Fu=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Fu||{});function QS(e,t){var n;let{features:r=1,...a}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Wi()({ourProps:i,theirProps:a,slot:{},defaultTag:XS,name:"Hidden"})}let og=ll(QS),ek=N.createContext(null);function tk({children:e}){let t=N.useContext(ek);if(!t)return Se.createElement(Se.Fragment,null,e);let{target:n}=t;return n?rr.createPortal(Se.createElement(Se.Fragment,null,e),n):null}function nk({data:e,form:t,disabled:n,onReset:r,overrides:a}){let[i,c]=N.useState(null),o=Iu();return N.useEffect(()=>{if(r&&i)return o.addEventListener(i,"reset",r)},[i,t,r]),Se.createElement(tk,null,Se.createElement(rk,{setForm:c,formId:t}),sg(e).map(([l,d])=>Se.createElement(og,{features:Fu.Hidden,...ms({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:l,value:d,...a})})))}function rk({setForm:e,formId:t}){return N.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:Se.createElement(og,{features:Fu.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let sk=N.createContext(void 0);function cg(){return N.useContext(sk)}function ak(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function lg(e){return ak(e)&&"tagName"in e}function dl(e){return lg(e)&&"accessKey"in e}function ik(e){return dl(e)&&e.nodeName==="INPUT"}function Gd(e){return dl(e)&&e.nodeName==="LABEL"}function ok(e){return dl(e)&&e.nodeName==="FIELDSET"}function dg(e){return dl(e)&&e.nodeName==="LEGEND"}function ck(e){return lg(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function lk(e){let t=e.parentElement,n=null;for(;t&&!ok(t);)dg(t)&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&dk(n)?!1:r}function dk(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(dg(t))return!1;t=t.previousElementSibling}return!0}let uk=Symbol();function Ou(...e){let t=N.useRef(e);N.useEffect(()=>{t.current=e},[e]);let n=Un(r=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(r):a.current=r)});return e.every(r=>r==null||r?.[uk])?void 0:n}let ul=N.createContext(null);ul.displayName="DescriptionContext";function ug(){let e=N.useContext(ul);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ug),t}return e}function hk(){var e,t;return(t=(e=N.useContext(ul))==null?void 0:e.value)!=null?t:void 0}function fk(){let[e,t]=N.useState([]);return[e.length>0?e.join(" "):void 0,N.useMemo(()=>function(n){let r=Un(i=>(t(c=>[...c,i]),()=>t(c=>{let o=c.slice(),l=o.indexOf(i);return l!==-1&&o.splice(l,1),o}))),a=N.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Se.createElement(ul.Provider,{value:a},n.children)},[t])]}let mk="p";function pk(e,t){let n=N.useId(),r=Pu(),{id:a=`headlessui-description-${n}`,...i}=e,c=ug(),o=Ou(t);Ru(()=>c.register(a),[a,c.register]);let l=r||!1,d=N.useMemo(()=>({...c.slot,disabled:l}),[c.slot,l]),u={ref:o,...c.props,id:a};return Wi()({ourProps:u,theirProps:i,slot:d,defaultTag:mk,name:c.name||"Description"})}let gk=ll(pk),xk=Object.assign(gk,{});var Vd=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Vd||{});let hl=N.createContext(null);hl.displayName="LabelContext";function hg(){let e=N.useContext(hl);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,hg),t}return e}function fg(e){var t,n,r;let a=(n=(t=N.useContext(hl))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[a,...e].filter(Boolean).join(" "):a}function bk({inherit:e=!1}={}){let t=fg(),[n,r]=N.useState([]),a=e?[t,...n].filter(Boolean):n;return[a.length>0?a.join(" "):void 0,N.useMemo(()=>function(i){let c=Un(l=>(r(d=>[...d,l]),()=>r(d=>{let u=d.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=N.useMemo(()=>({register:c,slot:i.slot,name:i.name,props:i.props,value:i.value}),[c,i.slot,i.name,i.props,i.value]);return Se.createElement(hl.Provider,{value:o},i.children)},[r])]}let vk="label";function yk(e,t){var n;let r=N.useId(),a=hg(),i=cg(),c=Pu(),{id:o=`headlessui-label-${r}`,htmlFor:l=i??((n=a.props)==null?void 0:n.htmlFor),passive:d=!1,...u}=e,h=Ou(t);Ru(()=>a.register(o),[o,a.register]);let f=Un(g=>{let b=g.currentTarget;if(!(g.target!==g.currentTarget&&ck(g.target))&&(Gd(b)&&g.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(g),Gd(b))){let v=document.getElementById(b.htmlFor);if(v){let w=v.getAttribute("disabled");if(w==="true"||w==="")return;let C=v.getAttribute("aria-disabled");if(C==="true"||C==="")return;(ik(v)&&(v.type==="file"||v.type==="radio"||v.type==="checkbox")||v.role==="radio"||v.role==="checkbox"||v.role==="switch")&&v.click(),v.focus({preventScroll:!0})}}}),m=c||!1,x=N.useMemo(()=>({...a.slot,disabled:m}),[a.slot,m]),p={ref:h,...a.props,id:o,htmlFor:l,onClick:f};return d&&("onClick"in p&&(delete p.htmlFor,delete p.onClick),"onClick"in u&&delete u.onClick),Wi()({ourProps:p,theirProps:u,slot:x,defaultTag:l?vk:"div",name:a.name||"Label"})}let wk=ll(yk),Ck=Object.assign(wk,{});function Nk(e,t){return N.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function fl(){return typeof window<"u"}function ka(e){return mg(e)?(e.nodeName||"").toLowerCase():"#document"}function In(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ur(e){var t;return(t=(mg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mg(e){return fl()?e instanceof Node||e instanceof In(e).Node:!1}function Gn(e){return fl()?e instanceof Element||e instanceof In(e).Element:!1}function lr(e){return fl()?e instanceof HTMLElement||e instanceof In(e).HTMLElement:!1}function Rh(e){return!fl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof In(e).ShadowRoot}const Ek=new Set(["inline","contents"]);function Hi(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Ek.has(a)}const _k=new Set(["table","td","th"]);function Sk(e){return _k.has(ka(e))}const kk=[":popover-open",":modal"];function ml(e){return kk.some(t=>{try{return e.matches(t)}catch{return!1}})}const jk=["transform","translate","scale","rotate","perspective"],Ak=["transform","translate","scale","rotate","perspective","filter"],Tk=["paint","layout","strict","content"];function Du(e){const t=Mu(),n=Gn(e)?Vn(e):e;return jk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ak.some(r=>(n.willChange||"").includes(r))||Tk.some(r=>(n.contain||"").includes(r))}function Ik(e){let t=Qr(e);for(;lr(t)&&!va(t);){if(Du(t))return t;if(ml(t))return null;t=Qr(t)}return null}function Mu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Rk=new Set(["html","body","#document"]);function va(e){return Rk.has(ka(e))}function Vn(e){return In(e).getComputedStyle(e)}function pl(e){return Gn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qr(e){if(ka(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Rh(e)&&e.host||ur(e);return Rh(t)?t.host:t}function pg(e){const t=Qr(e);return va(t)?e.ownerDocument?e.ownerDocument.body:e.body:lr(t)&&Hi(t)?t:pg(t)}function ji(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=pg(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),c=In(a);if(i){const o=Yd(c);return t.concat(c,c.visualViewport||[],Hi(a)?a:[],o&&n?ji(o):[])}return t.concat(a,ji(a,[],n))}function Yd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Pk=["top","right","bottom","left"],es=Math.min,jn=Math.max,Zc=Math.round,fo=Math.floor,ar=e=>({x:e,y:e}),Fk={left:"right",right:"left",bottom:"top",top:"bottom"},Ok={start:"end",end:"start"};function Zd(e,t,n){return jn(e,es(t,n))}function Nr(e,t){return typeof e=="function"?e(t):e}function Er(e){return e.split("-")[0]}function ja(e){return e.split("-")[1]}function zu(e){return e==="x"?"y":"x"}function Bu(e){return e==="y"?"height":"width"}const Dk=new Set(["top","bottom"]);function tr(e){return Dk.has(Er(e))?"y":"x"}function Lu(e){return zu(tr(e))}function Mk(e,t,n){n===void 0&&(n=!1);const r=ja(e),a=Lu(e),i=Bu(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=Kc(c)),[c,Kc(c)]}function zk(e){const t=Kc(e);return[Kd(e),t,Kd(t)]}function Kd(e){return e.replace(/start|end/g,t=>Ok[t])}const Ph=["left","right"],Fh=["right","left"],Bk=["top","bottom"],Lk=["bottom","top"];function Uk(e,t,n){switch(e){case"top":case"bottom":return n?t?Fh:Ph:t?Ph:Fh;case"left":case"right":return t?Bk:Lk;default:return[]}}function $k(e,t,n,r){const a=ja(e);let i=Uk(Er(e),n==="start",r);return a&&(i=i.map(c=>c+"-"+a),t&&(i=i.concat(i.map(Kd)))),i}function Kc(e){return e.replace(/left|right|bottom|top/g,t=>Fk[t])}function Wk(e){return{top:0,right:0,bottom:0,left:0,...e}}function gg(e){return typeof e!="number"?Wk(e):{top:e,right:e,bottom:e,left:e}}function Jc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Oh(e,t,n){let{reference:r,floating:a}=e;const i=tr(t),c=Lu(t),o=Bu(c),l=Er(t),d=i==="y",u=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[o]/2-a[o]/2;let m;switch(l){case"top":m={x:u,y:r.y-a.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(ja(t)){case"start":m[c]-=f*(n&&d?-1:1);break;case"end":m[c]+=f*(n&&d?-1:1);break}return m}const Hk=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:c}=n,o=i.filter(Boolean),l=await(c.isRTL==null?void 0:c.isRTL(t));let d=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=Oh(d,r,l),f=r,m={},x=0;for(let p=0;p<o.length;p++){const{name:g,fn:b}=o[p],{x:v,y:w,data:C,reset:y}=await b({x:u,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:d,platform:c,elements:{reference:e,floating:t}});u=v??u,h=w??h,m={...m,[g]:{...m[g],...C}},y&&x<=50&&(x++,typeof y=="object"&&(y.placement&&(f=y.placement),y.rects&&(d=y.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):y.rects),{x:u,y:h}=Oh(d,f,l)),p=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:m}};async function Ai(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:c,elements:o,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=Nr(t,e),x=gg(m),g=o[f?h==="floating"?"reference":"floating":h],b=Jc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:l})),v=h==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},y=Jc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:w,strategy:l}):v);return{top:(b.top-y.top+x.top)/C.y,bottom:(y.bottom-b.bottom+x.bottom)/C.y,left:(b.left-y.left+x.left)/C.x,right:(y.right-b.right+x.right)/C.x}}const qk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:c,elements:o,middlewareData:l}=t,{element:d,padding:u=0}=Nr(e,t)||{};if(d==null)return{};const h=gg(u),f={x:n,y:r},m=Lu(a),x=Bu(m),p=await c.getDimensions(d),g=m==="y",b=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",C=i.reference[x]+i.reference[m]-f[m]-i.floating[x],y=f[m]-i.reference[m],E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(d));let S=E?E[w]:0;(!S||!await(c.isElement==null?void 0:c.isElement(E)))&&(S=o.floating[w]||i.floating[x]);const R=C/2-y/2,I=S/2-p[x]/2-1,T=es(h[b],I),M=es(h[v],I),P=T,F=S-p[x]-M,k=S/2-p[x]/2+R,D=Zd(P,k,F),L=!l.arrow&&ja(a)!=null&&k!==D&&i.reference[x]/2-(k<P?T:M)-p[x]/2<0,G=L?k<P?k-P:k-F:0;return{[m]:f[m]+G,data:{[m]:D,centerOffset:k-D-G,...L&&{alignmentOffset:G}},reset:L}}}),Gk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:c,initialPlacement:o,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=Nr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Er(a),v=tr(o),w=Er(o)===o,C=await(l.isRTL==null?void 0:l.isRTL(d.floating)),y=f||(w||!p?[Kc(o)]:zk(o)),E=x!=="none";!f&&E&&y.push(...$k(o,p,x,C));const S=[o,...y],R=await Ai(t,g),I=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&I.push(R[b]),h){const k=Mk(a,c,C);I.push(R[k[0]],R[k[1]])}if(T=[...T,{placement:a,overflows:I}],!I.every(k=>k<=0)){var M,P;const k=(((M=i.flip)==null?void 0:M.index)||0)+1,D=S[k];if(D&&(!(h==="alignment"?v!==tr(D):!1)||T.every(z=>tr(z.placement)===v?z.overflows[0]>0:!0)))return{data:{index:k,overflows:T},reset:{placement:D}};let L=(P=T.filter(G=>G.overflows[0]<=0).sort((G,z)=>G.overflows[1]-z.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(m){case"bestFit":{var F;const G=(F=T.filter(z=>{if(E){const $=tr(z.placement);return $===v||$==="y"}return!0}).map(z=>[z.placement,z.overflows.filter($=>$>0).reduce(($,ne)=>$+ne,0)]).sort((z,$)=>z[1]-$[1])[0])==null?void 0:F[0];G&&(L=G);break}case"initialPlacement":L=o;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function Dh(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mh(e){return Pk.some(t=>e[t]>=0)}const Vk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Nr(e,t);switch(r){case"referenceHidden":{const i=await Ai(t,{...a,elementContext:"reference"}),c=Dh(i,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Mh(c)}}}case"escaped":{const i=await Ai(t,{...a,altBoundary:!0}),c=Dh(i,n.floating);return{data:{escapedOffsets:c,escaped:Mh(c)}}}default:return{}}}}},xg=new Set(["left","top"]);async function Yk(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=Er(n),o=ja(n),l=tr(n)==="y",d=xg.has(c)?-1:1,u=i&&l?-1:1,h=Nr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof x=="number"&&(m=o==="end"?x*-1:x),l?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const Zk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:c,middlewareData:o}=t,l=await Yk(t,e);return c===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:i+l.y,data:{...l,placement:c}}}}},Kk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:c=!1,limiter:o={fn:g=>{let{x:b,y:v}=g;return{x:b,y:v}}},...l}=Nr(e,t),d={x:n,y:r},u=await Ai(t,l),h=tr(Er(a)),f=zu(h);let m=d[f],x=d[h];if(i){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=m+u[g],w=m-u[b];m=Zd(v,m,w)}if(c){const g=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=x+u[g],w=x-u[b];x=Zd(v,x,w)}const p=o.fn({...t,[f]:m,[h]:x});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:c}}}}}},Jk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:c}=t,{offset:o=0,mainAxis:l=!0,crossAxis:d=!0}=Nr(e,t),u={x:n,y:r},h=tr(a),f=zu(h);let m=u[f],x=u[h];const p=Nr(o,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=f==="y"?"height":"width",C=i.reference[f]-i.floating[w]+g.mainAxis,y=i.reference[f]+i.reference[w]-g.mainAxis;m<C?m=C:m>y&&(m=y)}if(d){var b,v;const w=f==="y"?"width":"height",C=xg.has(Er(a)),y=i.reference[h]-i.floating[w]+(C&&((b=c.offset)==null?void 0:b[h])||0)+(C?0:g.crossAxis),E=i.reference[h]+i.reference[w]+(C?0:((v=c.offset)==null?void 0:v[h])||0)-(C?g.crossAxis:0);x<y?x=y:x>E&&(x=E)}return{[f]:m,[h]:x}}}},Xk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:c,elements:o}=t,{apply:l=()=>{},...d}=Nr(e,t),u=await Ai(t,d),h=Er(a),f=ja(a),m=tr(a)==="y",{width:x,height:p}=i.floating;let g,b;h==="top"||h==="bottom"?(g=h,b=f===(await(c.isRTL==null?void 0:c.isRTL(o.floating))?"start":"end")?"left":"right"):(b=h,g=f==="end"?"top":"bottom");const v=p-u.top-u.bottom,w=x-u.left-u.right,C=es(p-u[g],v),y=es(x-u[b],w),E=!t.middlewareData.shift;let S=C,R=y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=v),E&&!f){const T=jn(u.left,0),M=jn(u.right,0),P=jn(u.top,0),F=jn(u.bottom,0);m?R=x-2*(T!==0||M!==0?T+M:jn(u.left,u.right)):S=p-2*(P!==0||F!==0?P+F:jn(u.top,u.bottom))}await l({...t,availableWidth:R,availableHeight:S});const I=await c.getDimensions(o.floating);return x!==I.width||p!==I.height?{reset:{rects:!0}}:{}}}};function bg(e){const t=Vn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=lr(e),i=a?e.offsetWidth:n,c=a?e.offsetHeight:r,o=Zc(n)!==i||Zc(r)!==c;return o&&(n=i,r=c),{width:n,height:r,$:o}}function Uu(e){return Gn(e)?e:e.contextElement}function la(e){const t=Uu(e);if(!lr(t))return ar(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=bg(t);let c=(i?Zc(n.width):n.width)/r,o=(i?Zc(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!o||!Number.isFinite(o))&&(o=1),{x:c,y:o}}const Qk=ar(0);function vg(e){const t=In(e);return!Mu()||!t.visualViewport?Qk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function e4(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==In(e)?!1:t}function Ds(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=Uu(e);let c=ar(1);t&&(r?Gn(r)&&(c=la(r)):c=la(e));const o=e4(i,n,r)?vg(i):ar(0);let l=(a.left+o.x)/c.x,d=(a.top+o.y)/c.y,u=a.width/c.x,h=a.height/c.y;if(i){const f=In(i),m=r&&Gn(r)?In(r):r;let x=f,p=Yd(x);for(;p&&r&&m!==x;){const g=la(p),b=p.getBoundingClientRect(),v=Vn(p),w=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*g.x,C=b.top+(p.clientTop+parseFloat(v.paddingTop))*g.y;l*=g.x,d*=g.y,u*=g.x,h*=g.y,l+=w,d+=C,x=In(p),p=Yd(x)}}return Jc({width:u,height:h,x:l,y:d})}function $u(e,t){const n=pl(e).scrollLeft;return t?t.left+n:Ds(ur(e)).left+n}function yg(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:$u(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function t4(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",c=ur(r),o=t?ml(t.floating):!1;if(r===c||o&&i)return n;let l={scrollLeft:0,scrollTop:0},d=ar(1);const u=ar(0),h=lr(r);if((h||!h&&!i)&&((ka(r)!=="body"||Hi(c))&&(l=pl(r)),lr(r))){const m=Ds(r);d=la(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const f=c&&!h&&!i?yg(c,l,!0):ar(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+u.x+f.x,y:n.y*d.y-l.scrollTop*d.y+u.y+f.y}}function n4(e){return Array.from(e.getClientRects())}function r4(e){const t=ur(e),n=pl(e),r=e.ownerDocument.body,a=jn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=jn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+$u(e);const o=-n.scrollTop;return Vn(r).direction==="rtl"&&(c+=jn(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:c,y:o}}function s4(e,t){const n=In(e),r=ur(e),a=n.visualViewport;let i=r.clientWidth,c=r.clientHeight,o=0,l=0;if(a){i=a.width,c=a.height;const d=Mu();(!d||d&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:c,x:o,y:l}}const a4=new Set(["absolute","fixed"]);function i4(e,t){const n=Ds(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=lr(e)?la(e):ar(1),c=e.clientWidth*i.x,o=e.clientHeight*i.y,l=a*i.x,d=r*i.y;return{width:c,height:o,x:l,y:d}}function zh(e,t,n){let r;if(t==="viewport")r=s4(e,n);else if(t==="document")r=r4(ur(e));else if(Gn(t))r=i4(t,n);else{const a=vg(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Jc(r)}function wg(e,t){const n=Qr(e);return n===t||!Gn(n)||va(n)?!1:Vn(n).position==="fixed"||wg(n,t)}function o4(e,t){const n=t.get(e);if(n)return n;let r=ji(e,[],!1).filter(o=>Gn(o)&&ka(o)!=="body"),a=null;const i=Vn(e).position==="fixed";let c=i?Qr(e):e;for(;Gn(c)&&!va(c);){const o=Vn(c),l=Du(c);!l&&o.position==="fixed"&&(a=null),(i?!l&&!a:!l&&o.position==="static"&&!!a&&a4.has(a.position)||Hi(c)&&!l&&wg(e,c))?r=r.filter(u=>u!==c):a=o,c=Qr(c)}return t.set(e,r),r}function c4(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?ml(t)?[]:o4(t,this._c):[].concat(n),r],o=c[0],l=c.reduce((d,u)=>{const h=zh(t,u,a);return d.top=jn(h.top,d.top),d.right=es(h.right,d.right),d.bottom=es(h.bottom,d.bottom),d.left=jn(h.left,d.left),d},zh(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function l4(e){const{width:t,height:n}=bg(e);return{width:t,height:n}}function d4(e,t,n){const r=lr(t),a=ur(t),i=n==="fixed",c=Ds(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const l=ar(0);function d(){l.x=$u(a)}if(r||!r&&!i)if((ka(t)!=="body"||Hi(a))&&(o=pl(t)),r){const m=Ds(t,!0,i,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&d();i&&!r&&a&&d();const u=a&&!r&&!i?yg(a,o):ar(0),h=c.left+o.scrollLeft-l.x-u.x,f=c.top+o.scrollTop-l.y-u.y;return{x:h,y:f,width:c.width,height:c.height}}function Zl(e){return Vn(e).position==="static"}function Bh(e,t){if(!lr(e)||Vn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ur(e)===n&&(n=n.ownerDocument.body),n}function Cg(e,t){const n=In(e);if(ml(e))return n;if(!lr(e)){let a=Qr(e);for(;a&&!va(a);){if(Gn(a)&&!Zl(a))return a;a=Qr(a)}return n}let r=Bh(e,t);for(;r&&Sk(r)&&Zl(r);)r=Bh(r,t);return r&&va(r)&&Zl(r)&&!Du(r)?n:r||Ik(e)||n}const u4=async function(e){const t=this.getOffsetParent||Cg,n=this.getDimensions,r=await n(e.floating);return{reference:d4(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function h4(e){return Vn(e).direction==="rtl"}const f4={convertOffsetParentRelativeRectToViewportRelativeRect:t4,getDocumentElement:ur,getClippingRect:c4,getOffsetParent:Cg,getElementRects:u4,getClientRects:n4,getDimensions:l4,getScale:la,isElement:Gn,isRTL:h4};function Ng(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function m4(e,t){let n=null,r;const a=ur(e);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function c(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:m}=d;if(o||t(),!f||!m)return;const x=fo(h),p=fo(a.clientWidth-(u+f)),g=fo(a.clientHeight-(h+m)),b=fo(u),w={rootMargin:-x+"px "+-p+"px "+-g+"px "+-b+"px",threshold:jn(0,es(1,l))||1};let C=!0;function y(E){const S=E[0].intersectionRatio;if(S!==l){if(!C)return c();S?c(!1,S):r=setTimeout(()=>{c(!1,1e-7)},1e3)}S===1&&!Ng(d,e.getBoundingClientRect())&&c(),C=!1}try{n=new IntersectionObserver(y,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(y,w)}n.observe(e)}return c(!0),i}function p4(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=Uu(e),u=a||i?[...d?ji(d):[],...ji(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=d&&o?m4(d,n):null;let f=-1,m=null;c&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),d&&!l&&m.observe(d),m.observe(t));let x,p=l?Ds(e):null;l&&g();function g(){const b=Ds(e);p&&!Ng(p,b)&&n(),p=b,x=requestAnimationFrame(g)}return n(),()=>{var b;u.forEach(v=>{a&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),h?.(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const g4=Zk,x4=Kk,b4=Gk,v4=Xk,y4=Vk,Lh=qk,w4=Jk,C4=(e,t,n)=>{const r=new Map,a={platform:f4,...n},i={...a.platform,_c:r};return Hk(e,t,{...a,platform:i})};var N4=typeof document<"u",E4=function(){},Po=N4?N.useLayoutEffect:E4;function Xc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Xc(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!Xc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Eg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uh(e,t){const n=Eg(e);return Math.round(t*n)/n}function Kl(e){const t=N.useRef(e);return Po(()=>{t.current=e}),t}function _4(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:c}={},transform:o=!0,whileElementsMounted:l,open:d}=e,[u,h]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=N.useState(r);Xc(f,r)||m(r);const[x,p]=N.useState(null),[g,b]=N.useState(null),v=N.useCallback(z=>{z!==E.current&&(E.current=z,p(z))},[]),w=N.useCallback(z=>{z!==S.current&&(S.current=z,b(z))},[]),C=i||x,y=c||g,E=N.useRef(null),S=N.useRef(null),R=N.useRef(u),I=l!=null,T=Kl(l),M=Kl(a),P=Kl(d),F=N.useCallback(()=>{if(!E.current||!S.current)return;const z={placement:t,strategy:n,middleware:f};M.current&&(z.platform=M.current),C4(E.current,S.current,z).then($=>{const ne={...$,isPositioned:P.current!==!1};k.current&&!Xc(R.current,ne)&&(R.current=ne,rr.flushSync(()=>{h(ne)}))})},[f,t,n,M,P]);Po(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[d]);const k=N.useRef(!1);Po(()=>(k.current=!0,()=>{k.current=!1}),[]),Po(()=>{if(C&&(E.current=C),y&&(S.current=y),C&&y){if(T.current)return T.current(C,y,F);F()}},[C,y,F,T,I]);const D=N.useMemo(()=>({reference:E,floating:S,setReference:v,setFloating:w}),[v,w]),L=N.useMemo(()=>({reference:C,floating:y}),[C,y]),G=N.useMemo(()=>{const z={position:n,left:0,top:0};if(!L.floating)return z;const $=Uh(L.floating,u.x),ne=Uh(L.floating,u.y);return o?{...z,transform:"translate("+$+"px, "+ne+"px)",...Eg(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:ne}},[n,o,L.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:F,refs:D,elements:L,floatingStyles:G}),[u,F,D,L,G])}const S4=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Lh({element:r.current,padding:a}).fn(n):{}:r?Lh({element:r,padding:a}).fn(n):{}}}},k4=(e,t)=>({...g4(e),options:[e,t]}),j4=(e,t)=>({...x4(e),options:[e,t]}),A4=(e,t)=>({...w4(e),options:[e,t]}),T4=(e,t)=>({...b4(e),options:[e,t]}),I4=(e,t)=>({...v4(e),options:[e,t]}),R4=(e,t)=>({...y4(e),options:[e,t]}),P4=(e,t)=>({...S4(e),options:[e,t]});let Wu=N.createContext(null);Wu.displayName="GroupContext";let F4=N.Fragment;function O4(e){var t;let[n,r]=N.useState(null),[a,i]=bk(),[c,o]=fk(),l=N.useMemo(()=>({switch:n,setSwitch:r}),[n,r]),d={},u=e,h=Wi();return Se.createElement(o,{name:"Switch.Description",value:c},Se.createElement(i,{name:"Switch.Label",value:a,props:{htmlFor:(t=l.switch)==null?void 0:t.id,onClick(f){n&&(Gd(f.currentTarget)&&f.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},Se.createElement(Wu.Provider,{value:l},h({ourProps:d,theirProps:u,slot:{},defaultTag:F4,name:"Switch.Group"}))))}let D4="button";function M4(e,t){var n;let r=N.useId(),a=cg(),i=Pu(),{id:c=a||`headlessui-switch-${r}`,disabled:o=i||!1,checked:l,defaultChecked:d,onChange:u,name:h,value:f,form:m,autoFocus:x=!1,...p}=e,g=N.useContext(Wu),[b,v]=N.useState(null),w=N.useRef(null),C=Ou(w,t,g===null?null:g.setSwitch,v),y=KS(d),[E,S]=ZS(l,u,y??!1),R=Iu(),[I,T]=N.useState(!1),M=Un(()=>{T(!0),S?.(!E),R.nextFrame(()=>{T(!1)})}),P=Un(K=>{if(lk(K.currentTarget))return K.preventDefault();K.preventDefault(),M()}),F=Un(K=>{K.key===Vd.Space?(K.preventDefault(),M()):K.key===Vd.Enter&&JS(K.currentTarget)}),k=Un(K=>K.preventDefault()),D=fg(),L=hk(),{isFocusVisible:G,focusProps:z}=IS({autoFocus:x}),{isHovered:$,hoverProps:ne}=TS({isDisabled:o}),{pressed:B,pressProps:H}=LS({disabled:o}),W=N.useMemo(()=>({checked:E,disabled:o,hover:$,focus:G,active:B,autofocus:x,changing:I}),[E,$,G,B,o,I,x]),q=VS({id:c,ref:C,role:"switch",type:Nk(e,b),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":E,"aria-labelledby":D,"aria-describedby":L,disabled:o||void 0,autoFocus:x,onClick:P,onKeyUp:F,onKeyPress:k},z,ne,H),Q=N.useCallback(()=>{if(y!==void 0)return S?.(y)},[S,y]),he=Wi();return Se.createElement(Se.Fragment,null,h!=null&&Se.createElement(nk,{disabled:o,data:{[h]:f||"on"},overrides:{type:"checkbox",checked:E},form:m,onReset:Q}),he({ourProps:q,theirProps:p,slot:W,defaultTag:D4,name:"Switch"}))}let z4=ll(M4),B4=O4,L4=Ck,U4=xk,$4=Object.assign(z4,{Group:B4,Label:L4,Description:U4});const _g=6048e5,W4=864e5,$h=Symbol.for("constructDateFrom");function Qt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&$h in e?e[$h](t):e instanceof Date?new e.constructor(t):new Date(t)}function Pt(e,t){return Qt(t||e,e)}function Sg(e,t,n){const r=Pt(e,n?.in);return isNaN(t)?Qt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function kg(e,t,n){const r=Pt(e,n?.in);if(isNaN(t))return Qt(e,NaN);if(!t)return r;const a=r.getDate(),i=Qt(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const c=i.getDate();return a>=c?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}let H4={};function qi(){return H4}function ya(e,t){const n=qi(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Pt(e,t?.in),i=a.getDay(),c=(i<r?7:0)+i-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Ti(e,t){return ya(e,{...t,weekStartsOn:1})}function jg(e,t){const n=Pt(e,t?.in),r=n.getFullYear(),a=Qt(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Ti(a),c=Qt(n,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const o=Ti(c);return n.getTime()>=i.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function Wh(e){const t=Pt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Aa(e,...t){const n=Qt.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Ii(e,t){const n=Pt(e,t?.in);return n.setHours(0,0,0,0),n}function Ag(e,t,n){const[r,a]=Aa(n?.in,e,t),i=Ii(r),c=Ii(a),o=+i-Wh(i),l=+c-Wh(c);return Math.round((o-l)/W4)}function q4(e,t){const n=jg(e,t),r=Qt(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ti(r)}function G4(e,t,n){return Sg(e,t*7,n)}function V4(e,t,n){return kg(e,t*12,n)}function Y4(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Qt.bind(null,a));const i=Pt(a,r);(!n||n<i||isNaN(+i))&&(n=i)}),Qt(r,n||NaN)}function Z4(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Qt.bind(null,a));const i=Pt(a,r);(!n||n>i||isNaN(+i))&&(n=i)}),Qt(r,n||NaN)}function K4(e,t,n){const[r,a]=Aa(n?.in,e,t);return+Ii(r)==+Ii(a)}function Tg(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function J4(e){return!(!Tg(e)&&typeof e!="number"||isNaN(+Pt(e)))}function X4(e,t,n){const[r,a]=Aa(n?.in,e,t),i=r.getFullYear()-a.getFullYear(),c=r.getMonth()-a.getMonth();return i*12+c}function Q4(e,t){const n=Pt(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function e3(e,t){const[n,r]=Aa(e,t.start,t.end);return{start:n,end:r}}function t3(e,t){const{start:n,end:r}=e3(t?.in,e);let a=+n>+r;const i=a?+n:+r,c=a?r:n;c.setHours(0,0,0,0),c.setDate(1);let o=1;const l=[];for(;+c<=i;)l.push(Qt(n,c)),c.setMonth(c.getMonth()+o);return a?l.reverse():l}function n3(e,t){const n=Pt(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function r3(e,t){const n=Pt(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Ig(e,t){const n=Pt(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Rg(e,t){const n=qi(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=Pt(e,t?.in),i=a.getDay(),c=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function s3(e,t){return Rg(e,{...t,weekStartsOn:1})}const a3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},i3=(e,t,n)=>{let r;const a=a3[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jl(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const o3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},c3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d3={date:Jl({formats:o3,defaultWidth:"full"}),time:Jl({formats:c3,defaultWidth:"full"}),dateTime:Jl({formats:l3,defaultWidth:"full"})},u3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h3=(e,t,n,r)=>u3[e];function $a(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):c;a=e.formattingValues[o]||e.formattingValues[c]}else{const c=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;a=e.values[o]||e.values[c]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const f3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},m3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v3=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},y3={ordinalNumber:v3,era:$a({values:f3,defaultWidth:"wide"}),quarter:$a({values:m3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$a({values:p3,defaultWidth:"wide"}),day:$a({values:g3,defaultWidth:"wide"}),dayPeriod:$a({values:x3,defaultWidth:"wide",formattingValues:b3,defaultFormattingWidth:"wide"})};function Wa(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const c=i[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?C3(o,h=>h.test(c)):w3(o,h=>h.test(c));let d;d=e.valueCallback?e.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(c.length);return{value:d,rest:u}}}function w3(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function C3(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function N3(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let c=e.valueCallback?e.valueCallback(i[0]):i[0];c=n.valueCallback?n.valueCallback(c):c;const o=t.slice(a.length);return{value:c,rest:o}}}const E3=/^(\d+)(th|st|nd|rd)?/i,_3=/\d+/i,S3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k3={any:[/^b/i,/^(a|c)/i]},j3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},A3={any:[/1/i,/2/i,/3/i,/4/i]},T3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},I3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},R3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},F3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},O3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D3={ordinalNumber:N3({matchPattern:E3,parsePattern:_3,valueCallback:e=>parseInt(e,10)}),era:Wa({matchPatterns:S3,defaultMatchWidth:"wide",parsePatterns:k3,defaultParseWidth:"any"}),quarter:Wa({matchPatterns:j3,defaultMatchWidth:"wide",parsePatterns:A3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wa({matchPatterns:T3,defaultMatchWidth:"wide",parsePatterns:I3,defaultParseWidth:"any"}),day:Wa({matchPatterns:R3,defaultMatchWidth:"wide",parsePatterns:P3,defaultParseWidth:"any"}),dayPeriod:Wa({matchPatterns:F3,defaultMatchWidth:"any",parsePatterns:O3,defaultParseWidth:"any"})},Hu={code:"en-US",formatDistance:i3,formatLong:d3,formatRelative:h3,localize:y3,match:D3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function M3(e,t){const n=Pt(e,t?.in);return Ag(n,Ig(n))+1}function Pg(e,t){const n=Pt(e,t?.in),r=+Ti(n)-+q4(n);return Math.round(r/_g)+1}function Fg(e,t){const n=Pt(e,t?.in),r=n.getFullYear(),a=qi(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Qt(t?.in||e,0);c.setFullYear(r+1,0,i),c.setHours(0,0,0,0);const o=ya(c,t),l=Qt(t?.in||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const d=ya(l,t);return+n>=+o?r+1:+n>=+d?r:r-1}function z3(e,t){const n=qi(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=Fg(e,t),i=Qt(t?.in||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),ya(i,t)}function Og(e,t){const n=Pt(e,t?.in),r=+ya(n,t)-+z3(n,t);return Math.round(r/_g)+1}function kt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Pr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return kt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):kt(n+1,2)},d(e,t){return kt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return kt(e.getHours()%12||12,t.length)},H(e,t){return kt(e.getHours(),t.length)},m(e,t){return kt(e.getMinutes(),t.length)},s(e,t){return kt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return kt(a,t.length)}},Zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Hh={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Pr.y(e,t)},Y:function(e,t,n,r){const a=Fg(e,r),i=a>0?a:1-a;if(t==="YY"){const c=i%100;return kt(c,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):kt(i,t.length)},R:function(e,t){const n=jg(e);return kt(n,t.length)},u:function(e,t){const n=e.getFullYear();return kt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return kt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return kt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Pr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return kt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Og(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):kt(a,t.length)},I:function(e,t,n){const r=Pg(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):kt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Pr.d(e,t)},D:function(e,t,n){const r=M3(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):kt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return kt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return kt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return kt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Zs.noon:r===0?a=Zs.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Zs.evening:r>=12?a=Zs.afternoon:r>=4?a=Zs.morning:a=Zs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Pr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Pr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):kt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Pr.s(e,t)},S:function(e,t){return Pr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Gh(r);case"XXXX":case"XX":return ps(r);case"XXXXX":case"XXX":default:return ps(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Gh(r);case"xxxx":case"xx":return ps(r);case"xxxxx":case"xxx":default:return ps(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qh(r,":");case"OOOO":default:return"GMT"+ps(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qh(r,":");case"zzzz":default:return"GMT"+ps(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return kt(r,t.length)},T:function(e,t,n){return kt(+e,t.length)}};function qh(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+kt(i,2)}function Gh(e,t){return e%60===0?(e>0?"-":"+")+kt(Math.abs(e)/60,2):ps(e,t)}function ps(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=kt(Math.trunc(r/60),2),i=kt(r%60,2);return n+a+t+i}const Vh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Dg=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},B3=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Vh(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Vh(r,t)).replace("{{time}}",Dg(a,t))},L3={p:Dg,P:B3},U3=/^D+$/,$3=/^Y+$/,W3=["D","DD","YY","YYYY"];function H3(e){return U3.test(e)}function q3(e){return $3.test(e)}function G3(e,t,n){const r=V3(e,t,n);if(console.warn(r),W3.includes(e))throw new RangeError(r)}function V3(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Y3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K3=/^'([^]*?)'?$/,J3=/''/g,X3=/[a-zA-Z]/;function Q3(e,t,n){const r=qi(),a=n?.locale??r.locale??Hu,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Pt(e,n?.in);if(!J4(o))throw new RangeError("Invalid time value");let l=t.match(Z3).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=L3[h];return f(u,a.formatLong)}return u}).join("").match(Y3).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:e5(u)};if(Hh[h])return{isToken:!0,value:u};if(h.match(X3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const d={firstWeekContainsDate:i,weekStartsOn:c,locale:a};return l.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!n?.useAdditionalWeekYearTokens&&q3(h)||!n?.useAdditionalDayOfYearTokens&&H3(h))&&G3(h,t,String(e));const f=Hh[h[0]];return f(o,h,a.localize,d)}).join("")}function e5(e){const t=e.match(K3);return t?t[1].replace(J3,"'"):e}function t5(e,t){const n=Pt(e,t?.in),r=n.getFullYear(),a=n.getMonth(),i=Qt(n,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function n5(e,t){return Pt(e,t?.in).getMonth()}function r5(e,t){return Pt(e,t?.in).getFullYear()}function s5(e,t){return+Pt(e)>+Pt(t)}function a5(e,t){return+Pt(e)<+Pt(t)}function i5(e,t,n){const[r,a]=Aa(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function o5(e,t,n){const[r,a]=Aa(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function c5(e,t,n){const r=Pt(e,n?.in),a=r.getFullYear(),i=r.getDate(),c=Qt(e,0);c.setFullYear(a,t,15),c.setHours(0,0,0,0);const o=t5(c);return r.setMonth(t,Math.min(i,o)),r}function l5(e,t,n){const r=Pt(e,n?.in);return isNaN(+r)?Qt(e,NaN):(r.setFullYear(t),r)}const qu="-",d5=e=>{const t=h5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const o=c.split(qu);return o[0]===""&&o.length!==1&&o.shift(),Mg(o,t)||u5(c)},getConflictingClassGroupIds:(c,o)=>{const l=n[c]||[];return o&&r[c]?[...l,...r[c]]:l}}},Mg=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?Mg(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(qu);return t.validators.find(({validator:c})=>c(i))?.classGroupId},Yh=/^\[(.+)\]$/,u5=e=>{if(Yh.test(e)){const t=Yh.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},h5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)Jd(n[a],r,a,t);return r},Jd=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:Zh(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(f5(a)){Jd(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,c])=>{Jd(c,Zh(t,i),n,r)})})},Zh=(e,t)=>{let n=e;return t.split(qu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},f5=e=>e.isThemeGetter,m5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,c)=>{n.set(i,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let c=n.get(i);if(c!==void 0)return c;if((c=r.get(i))!==void 0)return a(i,c),c},set(i,c){n.has(i)?n.set(i,c):a(i,c)}}},Xd="!",Qd=":",p5=Qd.length,g5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const i=[];let c=0,o=0,l=0,d;for(let x=0;x<a.length;x++){let p=a[x];if(c===0&&o===0){if(p===Qd){i.push(a.slice(l,x)),l=x+p5;continue}if(p==="/"){d=x;continue}}p==="["?c++:p==="]"?c--:p==="("?o++:p===")"&&o--}const u=i.length===0?a:a.substring(l),h=x5(u),f=h!==u,m=d&&d>l?d-l:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(t){const a=t+Qd,i=r;r=c=>c.startsWith(a)?i(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=i=>n({className:i,parseClassName:a})}return r},x5=e=>e.endsWith(Xd)?e.substring(0,e.length-1):e.startsWith(Xd)?e.substring(1):e,b5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let i=[];return r.forEach(c=>{c[0]==="["||t[c]?(a.push(...i.sort(),c),i=[]):i.push(c)}),a.push(...i.sort()),a}},v5=e=>({cache:m5(e.cacheSize),parseClassName:g5(e),sortModifiers:b5(e),...d5(e)}),y5=/\s+/,w5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:i}=t,c=[],o=e.trim().split(y5);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}=n(u);if(h){l=u+(l.length>0?" "+l:l);continue}let g=!!p,b=r(g?x.substring(0,p):x);if(!b){if(!g){l=u+(l.length>0?" "+l:l);continue}if(b=r(x),!b){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=i(f).join(":"),w=m?v+Xd:v,C=w+b;if(c.includes(C))continue;c.push(C);const y=a(b,g);for(let E=0;E<y.length;++E){const S=y[E];c.push(w+S)}l=u+(l.length>0?" "+l:l)}return l};function C5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=zg(t))&&(r&&(r+=" "),r+=n);return r}const zg=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=zg(e[r]))&&(n&&(n+=" "),n+=t);return n};function N5(e,...t){let n,r,a,i=c;function c(l){const d=t.reduce((u,h)=>h(u),e());return n=v5(d),r=n.cache.get,a=n.cache.set,i=o,o(l)}function o(l){const d=r(l);if(d)return d;const u=w5(l,n);return a(l,u),u}return function(){return i(C5.apply(null,arguments))}}const Xt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Bg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,E5=/^\d+\/\d+$/,_5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,j5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ks=e=>E5.test(e),ft=e=>!!e&&!Number.isNaN(Number(e)),Fr=e=>!!e&&Number.isInteger(Number(e)),Xl=e=>e.endsWith("%")&&ft(e.slice(0,-1)),xr=e=>_5.test(e),T5=()=>!0,I5=e=>S5.test(e)&&!k5.test(e),Ug=()=>!1,R5=e=>j5.test(e),P5=e=>A5.test(e),F5=e=>!We(e)&&!He(e),O5=e=>Ta(e,Hg,Ug),We=e=>Bg.test(e),ds=e=>Ta(e,qg,I5),Ql=e=>Ta(e,L5,ft),Kh=e=>Ta(e,$g,Ug),D5=e=>Ta(e,Wg,P5),mo=e=>Ta(e,Gg,R5),He=e=>Lg.test(e),Ha=e=>Ia(e,qg),M5=e=>Ia(e,U5),Jh=e=>Ia(e,$g),z5=e=>Ia(e,Hg),B5=e=>Ia(e,Wg),po=e=>Ia(e,Gg,!0),Ta=(e,t,n)=>{const r=Bg.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ia=(e,t,n=!1)=>{const r=Lg.exec(e);return r?r[1]?t(r[1]):n:!1},$g=e=>e==="position"||e==="percentage",Wg=e=>e==="image"||e==="url",Hg=e=>e==="length"||e==="size"||e==="bg-size",qg=e=>e==="length",L5=e=>e==="number",U5=e=>e==="family-name",Gg=e=>e==="shadow",$5=()=>{const e=Xt("color"),t=Xt("font"),n=Xt("text"),r=Xt("font-weight"),a=Xt("tracking"),i=Xt("leading"),c=Xt("breakpoint"),o=Xt("container"),l=Xt("spacing"),d=Xt("radius"),u=Xt("shadow"),h=Xt("inset-shadow"),f=Xt("text-shadow"),m=Xt("drop-shadow"),x=Xt("blur"),p=Xt("perspective"),g=Xt("aspect"),b=Xt("ease"),v=Xt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],y=()=>[...C(),He,We],E=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],R=()=>[He,We,l],I=()=>[Ks,"full","auto",...R()],T=()=>[Fr,"none","subgrid",He,We],M=()=>["auto",{span:["full",Fr,He,We]},Fr,He,We],P=()=>[Fr,"auto",He,We],F=()=>["auto","min","max","fr",He,We],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...R()],G=()=>[Ks,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],z=()=>[e,He,We],$=()=>[...C(),Jh,Kh,{position:[He,We]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",z5,O5,{size:[He,We]}],H=()=>[Xl,Ha,ds],W=()=>["","none","full",d,He,We],q=()=>["",ft,Ha,ds],Q=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[ft,Xl,Jh,Kh],J=()=>["","none",x,He,We],ce=()=>["none",ft,He,We],X=()=>["none",ft,He,We],ie=()=>[ft,He,We],fe=()=>[Ks,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xr],breakpoint:[xr],color:[T5],container:[xr],"drop-shadow":[xr],ease:["in","out","in-out"],font:[F5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xr],shadow:[xr],spacing:["px",ft],text:[xr],"text-shadow":[xr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ks,We,He,g]}],container:["container"],columns:[{columns:[ft,We,He,o]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Fr,"auto",He,We]}],basis:[{basis:[Ks,"full","auto",o,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Ks,"auto","initial","none",We]}],grow:[{grow:["",ft,He,We]}],shrink:[{shrink:["",ft,He,We]}],order:[{order:[Fr,"first","last","none",He,We]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[o,"screen",...G()]}],"min-w":[{"min-w":[o,"screen","none",...G()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[c]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Ha,ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,He,Ql]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xl,We]}],"font-family":[{font:[M5,We,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,He,We]}],"line-clamp":[{"line-clamp":[ft,"none",He,Ql]}],leading:[{leading:[i,...R()]}],"list-image":[{"list-image":["none",He,We]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",He,We]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",He,ds]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[ft,"auto",He,We]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He,We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He,We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fr,He,We],radial:["",He,We],conic:[Fr,He,We]},B5,D5]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,He,We]}],"outline-w":[{outline:["",ft,Ha,ds]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",u,po,mo]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",h,po,mo]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[ft,ds]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",f,po,mo]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[ft,He,We]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[He,We]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",He,We]}],filter:[{filter:["","none",He,We]}],blur:[{blur:J()}],brightness:[{brightness:[ft,He,We]}],contrast:[{contrast:[ft,He,We]}],"drop-shadow":[{"drop-shadow":["","none",m,po,mo]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",ft,He,We]}],"hue-rotate":[{"hue-rotate":[ft,He,We]}],invert:[{invert:["",ft,He,We]}],saturate:[{saturate:[ft,He,We]}],sepia:[{sepia:["",ft,He,We]}],"backdrop-filter":[{"backdrop-filter":["","none",He,We]}],"backdrop-blur":[{"backdrop-blur":J()}],"backdrop-brightness":[{"backdrop-brightness":[ft,He,We]}],"backdrop-contrast":[{"backdrop-contrast":[ft,He,We]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,He,We]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,He,We]}],"backdrop-invert":[{"backdrop-invert":["",ft,He,We]}],"backdrop-opacity":[{"backdrop-opacity":[ft,He,We]}],"backdrop-saturate":[{"backdrop-saturate":[ft,He,We]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,He,We]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",He,We]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",He,We]}],ease:[{ease:["linear","initial",b,He,We]}],delay:[{delay:[ft,He,We]}],animate:[{animate:["none",v,He,We]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,He,We]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:X()}],"scale-x":[{"scale-x":X()}],"scale-y":[{"scale-y":X()}],"scale-z":[{"scale-z":X()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[He,We,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He,We]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He,We]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[ft,Ha,ds,Ql]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},W5=N5($5);function gt(...e){return W5(Hp(e))}function Yr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function Xh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vg(...e){return t=>{let n=!1;const r=e.map(a=>{const i=Xh(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Xh(e[a],null)}}}}function ss(...e){return N.useCallback(Vg(...e),e)}function Yg(e,t=[]){let n=[];function r(i,c){const o=N.createContext(c),l=n.length;n=[...n,c];const d=h=>{const{scope:f,children:m,...x}=h,p=f?.[e]?.[l]||o,g=N.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:g,children:m})};d.displayName=i+"Provider";function u(h,f){const m=f?.[e]?.[l]||o,x=N.useContext(m);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(c=>N.createContext(c));return function(o){const l=o?.[e]||i;return N.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[r,H5(a,...t)]}function H5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const c=r.reduce((o,{useScope:l,scopeName:d})=>{const h=l(i)[`__scope${d}`];return{...o,...h}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Gu(e){const t=G5(e),n=N.forwardRef((r,a)=>{const{children:i,...c}=r,o=N.Children.toArray(i),l=o.find(Y5);if(l){const d=l.props.children,u=o.map(h=>h===l?N.Children.count(d)>1?N.Children.only(null):N.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...c,ref:a,children:N.isValidElement(d)?N.cloneElement(d,void 0,u):null})}return s.jsx(t,{...c,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var q5=Gu("Slot");function G5(e){const t=N.forwardRef((n,r)=>{const{children:a,...i}=n;if(N.isValidElement(a)){const c=K5(a),o=Z5(i,a.props);return a.type!==N.Fragment&&(o.ref=r?Vg(r,c):c),N.cloneElement(a,o)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V5=Symbol("radix.slottable");function Y5(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V5}function Z5(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function K5(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var J5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_r=J5.reduce((e,t)=>{const n=Gu(`Primitive.${t}`),r=N.forwardRef((a,i)=>{const{asChild:c,...o}=a,l=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function X5(e,t){e&&rr.flushSync(()=>e.dispatchEvent(t))}function wa(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>t.current?.(...n),[])}function Q5(e,t=globalThis?.document){const n=wa(e);N.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ej="DismissableLayer",eu="dismissableLayer.update",tj="dismissableLayer.pointerDownOutside",nj="dismissableLayer.focusOutside",Qh,Zg=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kg=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:o,...l}=e,d=N.useContext(Zg),[u,h]=N.useState(null),f=u?.ownerDocument??globalThis?.document,[,m]=N.useState({}),x=ss(t,S=>h(S)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(g),v=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,C=v>=b,y=aj(S=>{const R=S.target,I=[...d.branches].some(T=>T.contains(R));!C||I||(a?.(S),c?.(S),S.defaultPrevented||o?.())},f),E=ij(S=>{const R=S.target;[...d.branches].some(T=>T.contains(R))||(i?.(S),c?.(S),S.defaultPrevented||o?.())},f);return Q5(S=>{v===d.layers.size-1&&(r?.(S),!S.defaultPrevented&&o&&(S.preventDefault(),o()))},f),N.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Qh=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),ef(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Qh)}},[u,f,n,d]),N.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),ef())},[u,d]),N.useEffect(()=>{const S=()=>m({});return document.addEventListener(eu,S),()=>document.removeEventListener(eu,S)},[]),s.jsx(_r.div,{...l,ref:x,style:{pointerEvents:w?C?"auto":"none":void 0,...e.style},onFocusCapture:Yr(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Yr(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Yr(e.onPointerDownCapture,y.onPointerDownCapture)})});Kg.displayName=ej;var rj="DismissableLayerBranch",sj=N.forwardRef((e,t)=>{const n=N.useContext(Zg),r=N.useRef(null),a=ss(t,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(_r.div,{...e,ref:a})});sj.displayName=rj;function aj(e,t=globalThis?.document){const n=wa(e),r=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=o=>{if(o.target&&!r.current){let l=function(){Jg(tj,n,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ij(e,t=globalThis?.document){const n=wa(e),r=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!r.current&&Jg(nj,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ef(){const e=new CustomEvent(eu);document.dispatchEvent(e)}function Jg(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?X5(a,i):a.dispatchEvent(i)}var ed=0;function oj(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tf()),document.body.insertAdjacentElement("beforeend",e[1]??tf()),ed++,()=>{ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ed--}},[])}function tf(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var td="focusScope.autoFocusOnMount",nd="focusScope.autoFocusOnUnmount",nf={bubbles:!1,cancelable:!0},cj="FocusScope",Xg=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...c}=e,[o,l]=N.useState(null),d=wa(a),u=wa(i),h=N.useRef(null),f=ss(t,p=>l(p)),m=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let p=function(w){if(m.paused||!o)return;const C=w.target;o.contains(C)?h.current=C:Br(h.current,{select:!0})},g=function(w){if(m.paused||!o)return;const C=w.relatedTarget;C!==null&&(o.contains(C)||Br(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const y of w)y.removedNodes.length>0&&Br(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const v=new MutationObserver(b);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),v.disconnect()}}},[r,o,m.paused]),N.useEffect(()=>{if(o){sf.add(m);const p=document.activeElement;if(!o.contains(p)){const b=new CustomEvent(td,nf);o.addEventListener(td,d),o.dispatchEvent(b),b.defaultPrevented||(lj(mj(Qg(o)),{select:!0}),document.activeElement===p&&Br(o))}return()=>{o.removeEventListener(td,d),setTimeout(()=>{const b=new CustomEvent(nd,nf);o.addEventListener(nd,u),o.dispatchEvent(b),b.defaultPrevented||Br(p??document.body,{select:!0}),o.removeEventListener(nd,u),sf.remove(m)},0)}}},[o,d,u,m]);const x=N.useCallback(p=>{if(!n&&!r||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(g&&b){const v=p.currentTarget,[w,C]=dj(v);w&&C?!p.shiftKey&&b===C?(p.preventDefault(),n&&Br(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),n&&Br(C,{select:!0})):b===v&&p.preventDefault()}},[n,r,m.paused]);return s.jsx(_r.div,{tabIndex:-1,...c,ref:f,onKeyDown:x})});Xg.displayName=cj;function lj(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Br(r,{select:t}),document.activeElement!==n)return}function dj(e){const t=Qg(e),n=rf(t,e),r=rf(t.reverse(),e);return[n,r]}function Qg(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function rf(e,t){for(const n of e)if(!uj(n,{upTo:t}))return n}function uj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hj(e){return e instanceof HTMLInputElement&&"select"in e}function Br(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&hj(e)&&t&&e.select()}}var sf=fj();function fj(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=af(e,t),e.unshift(t)},remove(t){e=af(e,t),e[0]?.resume()}}}function af(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function mj(e){return e.filter(t=>t.tagName!=="A")}var ts=globalThis?.document?N.useLayoutEffect:()=>{},pj=ou[" useId ".trim().toString()]||(()=>{}),gj=0;function xj(e){const[t,n]=N.useState(pj());return ts(()=>{n(r=>r??String(gj++))},[e]),e||(t?`radix-${t}`:"")}var bj="Arrow",ex=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(_r.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});ex.displayName=bj;var vj=ex;function yj(e){const[t,n]=N.useState(void 0);return ts(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let c,o;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;c=d.inlineSize,o=d.blockSize}else c=e.offsetWidth,o=e.offsetHeight;n({width:c,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Vu="Popper",[tx,nx]=Yg(Vu),[wj,rx]=tx(Vu),sx=e=>{const{__scopePopper:t,children:n}=e,[r,a]=N.useState(null);return s.jsx(wj,{scope:t,anchor:r,onAnchorChange:a,children:n})};sx.displayName=Vu;var ax="PopperAnchor",ix=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=rx(ax,n),c=N.useRef(null),o=ss(t,c);return N.useEffect(()=>{i.onAnchorChange(r?.current||c.current)}),r?null:s.jsx(_r.div,{...a,ref:o})});ix.displayName=ax;var Yu="PopperContent",[Cj,Nj]=tx(Yu),ox=N.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:c=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=e,g=rx(Yu,n),[b,v]=N.useState(null),w=ss(t,K=>v(K)),[C,y]=N.useState(null),E=yj(C),S=E?.width??0,R=E?.height??0,I=r+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(d)?d:[d],P=M.length>0,F={padding:T,boundary:M.filter(_j),altBoundary:P},{refs:k,floatingStyles:D,placement:L,isPositioned:G,middlewareData:z}=_4({strategy:"fixed",placement:I,whileElementsMounted:(...K)=>p4(...K,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[k4({mainAxis:a+R,alignmentAxis:c}),l&&j4({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?A4():void 0,...F}),l&&T4({...F}),I4({...F,apply:({elements:K,rects:J,availableWidth:ce,availableHeight:X})=>{const{width:ie,height:fe}=J.reference,xe=K.floating.style;xe.setProperty("--radix-popper-available-width",`${ce}px`),xe.setProperty("--radix-popper-available-height",`${X}px`),xe.setProperty("--radix-popper-anchor-width",`${ie}px`),xe.setProperty("--radix-popper-anchor-height",`${fe}px`)}}),C&&P4({element:C,padding:o}),Sj({arrowWidth:S,arrowHeight:R}),f&&R4({strategy:"referenceHidden",...F})]}),[$,ne]=dx(L),B=wa(x);ts(()=>{G&&B?.()},[G,B]);const H=z.arrow?.x,W=z.arrow?.y,q=z.arrow?.centerOffset!==0,[Q,he]=N.useState();return ts(()=>{b&&he(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:G?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Cj,{scope:n,placedSide:$,onArrowChange:y,arrowX:H,arrowY:W,shouldHideArrow:q,children:s.jsx(_r.div,{"data-side":$,"data-align":ne,...p,ref:w,style:{...p.style,animation:G?void 0:"none"}})})})});ox.displayName=Yu;var cx="PopperArrow",Ej={top:"bottom",right:"left",bottom:"top",left:"right"},lx=N.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=Nj(cx,r),c=Ej[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(vj,{...a,ref:n,style:{...a.style,display:"block"}})})});lx.displayName=cx;function _j(e){return e!==null}var Sj=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,c=a.arrow?.centerOffset!==0,o=c?0:e.arrowWidth,l=c?0:e.arrowHeight,[d,u]=dx(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(a.arrow?.x??0)+o/2,m=(a.arrow?.y??0)+l/2;let x="",p="";return d==="bottom"?(x=c?h:`${f}px`,p=`${-l}px`):d==="top"?(x=c?h:`${f}px`,p=`${r.floating.height+l}px`):d==="right"?(x=`${-l}px`,p=c?h:`${m}px`):d==="left"&&(x=`${r.floating.width+l}px`,p=c?h:`${m}px`),{data:{x,y:p}}}});function dx(e){const[t,n="center"]=e.split("-");return[t,n]}var kj=sx,ux=ix,jj=ox,Aj=lx,Tj="Portal",hx=N.forwardRef((e,t)=>{const{container:n,...r}=e,[a,i]=N.useState(!1);ts(()=>i(!0),[]);const c=n||a&&globalThis?.document?.body;return c?Am.createPortal(s.jsx(_r.div,{...r,ref:t}),c):null});hx.displayName=Tj;function Ij(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var Zu=e=>{const{present:t,children:n}=e,r=Rj(t),a=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=ss(r.ref,Pj(a));return typeof n=="function"||r.isPresent?N.cloneElement(a,{ref:i}):null};Zu.displayName="Presence";function Rj(e){const[t,n]=N.useState(),r=N.useRef(null),a=N.useRef(e),i=N.useRef("none"),c=e?"mounted":"unmounted",[o,l]=Ij(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=go(r.current);i.current=o==="mounted"?d:"none"},[o]),ts(()=>{const d=r.current,u=a.current;if(u!==e){const f=i.current,m=go(d);e?l("MOUNT"):m==="none"||d?.display==="none"?l("UNMOUNT"):l(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),ts(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=m=>{const p=go(r.current).includes(m.animationName);if(m.target===t&&p&&(l("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},f=m=>{m.target===t&&(i.current=go(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:N.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function go(e){return e?.animationName||"none"}function Pj(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fj=ou[" useInsertionEffect ".trim().toString()]||ts;function Oj({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,c]=Dj({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:a;{const u=N.useRef(e!==void 0);N.useEffect(()=>{const h=u.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const d=N.useCallback(u=>{if(o){const h=Mj(u)?u(e):u;h!==e&&c.current?.(h)}else i(u)},[o,e,i,c]);return[l,d]}function Dj({defaultProp:e,onChange:t}){const[n,r]=N.useState(e),a=N.useRef(n),i=N.useRef(t);return Fj(()=>{i.current=t},[t]),N.useEffect(()=>{a.current!==n&&(i.current?.(n),a.current=n)},[n,a]),[n,r,i]}function Mj(e){return typeof e=="function"}var zj=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Js=new WeakMap,xo=new WeakMap,bo={},rd=0,fx=function(e){return e&&(e.host||fx(e.parentNode))},Bj=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=fx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Lj=function(e,t,n,r){var a=Bj(t,Array.isArray(e)?e:[e]);bo[n]||(bo[n]=new WeakMap);var i=bo[n],c=[],o=new Set,l=new Set(a),d=function(h){!h||o.has(h)||(o.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))u(f);else try{var m=f.getAttribute(r),x=m!==null&&m!=="false",p=(Js.get(f)||0)+1,g=(i.get(f)||0)+1;Js.set(f,p),i.set(f,g),c.push(f),p===1&&x&&xo.set(f,!0),g===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(t),o.clear(),rd++,function(){c.forEach(function(h){var f=Js.get(h)-1,m=i.get(h)-1;Js.set(h,f),i.set(h,m),f||(xo.has(h)||h.removeAttribute(r),xo.delete(h)),m||h.removeAttribute(n)}),rd--,rd||(Js=new WeakMap,Js=new WeakMap,xo=new WeakMap,bo={})}},Uj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=zj(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),Lj(r,a,n,"aria-hidden")):function(){return null}},tu=function(e,t){return tu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},tu(e,t)};function mx(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");tu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Dn=function(){return Dn=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dn.apply(this,arguments)};function gl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function px(e,t,n,r){var a=arguments.length,i=a<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(c=e[o])&&(i=(a<3?c(i):a>3?c(t,n,i):c(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function gx(e,t){return function(n,r){t(n,r,e)}}function xx(e,t,n,r,a,i){function c(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var o=r.kind,l=o==="getter"?"get":o==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),h,f=!1,m=n.length-1;m>=0;m--){var x={};for(var p in r)x[p]=p==="access"?{}:r[p];for(var p in r.access)x.access[p]=r.access[p];x.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(c(b||null))};var g=(0,n[m])(o==="accessor"?{get:u.get,set:u.set}:u[l],x);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(h=c(g.get))&&(u.get=h),(h=c(g.set))&&(u.set=h),(h=c(g.init))&&a.unshift(h)}else(h=c(g))&&(o==="field"?a.unshift(h):u[l]=h)}d&&Object.defineProperty(d,r.name,u),f=!0}function bx(e,t,n){for(var r=arguments.length>2,a=0;a<t.length;a++)n=r?t[a].call(e,n):t[a].call(e);return r?n:void 0}function vx(e){return typeof e=="symbol"?e:"".concat(e)}function yx(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function wx(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Cx(e,t,n,r){function a(i){return i instanceof n?i:new n(function(c){c(i)})}return new(n||(n=Promise))(function(i,c){function o(u){try{d(r.next(u))}catch(h){c(h)}}function l(u){try{d(r.throw(u))}catch(h){c(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,l)}d((r=r.apply(e,t||[])).next())})}function Nx(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=o(0),c.throw=o(1),c.return=o(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function o(d){return function(u){return l([d,u])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,d[0]&&(n=0)),n;)try{if(r=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,a=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(u){d=[6,u],a=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var xl=Object.create?function(e,t,n,r){r===void 0&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function Ex(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&xl(t,e,n)}function Qc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ku(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],c;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){c={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return i}function _x(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ku(arguments[t]));return e}function Sx(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var i=arguments[t],c=0,o=i.length;c<o;c++,a++)r[a]=i[c];return r}function Ju(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Ca(e){return this instanceof Ca?(this.v=e,this):new Ca(e)}function kx(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(m){return function(x){return Promise.resolve(x).then(m,h)}}function o(m,x){r[m]&&(a[m]=function(p){return new Promise(function(g,b){i.push([m,p,g,b])>1||l(m,p)})},x&&(a[m]=x(a[m])))}function l(m,x){try{d(r[m](x))}catch(p){f(i[0][3],p)}}function d(m){m.value instanceof Ca?Promise.resolve(m.value.v).then(u,h):f(i[0][2],m)}function u(m){l("next",m)}function h(m){l("throw",m)}function f(m,x){m(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}function jx(e){var t,n;return t={},r("next"),r("throw",function(a){throw a}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(a,i){t[a]=e[a]?function(c){return(n=!n)?{value:Ca(e[a](c)),done:!1}:i?i(c):c}:i}}function Ax(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Qc=="function"?Qc(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(c){return new Promise(function(o,l){c=e[i](c),a(o,l,c.done,c.value)})}}function a(i,c,o,l){Promise.resolve(l).then(function(d){i({value:d,done:o})},c)}}function Tx(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $j=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},nu=function(e){return nu=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},nu(e)};function Ix(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=nu(e),r=0;r<n.length;r++)n[r]!=="default"&&xl(t,e,n[r]);return $j(t,e),t}function Rx(e){return e&&e.__esModule?e:{default:e}}function Px(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Fx(e,t,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,n):a?a.value=n:t.set(e,n),n}function Ox(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Dx(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(a=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");a&&(r=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var Wj=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Mx(e){function t(i){e.error=e.hasError?new Wj(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function a(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(a);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(a,function(c){return t(c),a()})}else r|=1}catch(c){t(c)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function zx(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,a,i,c){return r?t?".jsx":".js":a&&(!i||!c)?n:a+i+"."+c.toLowerCase()+"js"}):e}const Hj={__extends:mx,__assign:Dn,__rest:gl,__decorate:px,__param:gx,__esDecorate:xx,__runInitializers:bx,__propKey:vx,__setFunctionName:yx,__metadata:wx,__awaiter:Cx,__generator:Nx,__createBinding:xl,__exportStar:Ex,__values:Qc,__read:Ku,__spread:_x,__spreadArrays:Sx,__spreadArray:Ju,__await:Ca,__asyncGenerator:kx,__asyncDelegator:jx,__asyncValues:Ax,__makeTemplateObject:Tx,__importStar:Ix,__importDefault:Rx,__classPrivateFieldGet:Px,__classPrivateFieldSet:Fx,__classPrivateFieldIn:Ox,__addDisposableResource:Dx,__disposeResources:Mx,__rewriteRelativeImportExtension:zx},uR=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Dx,get __assign(){return Dn},__asyncDelegator:jx,__asyncGenerator:kx,__asyncValues:Ax,__await:Ca,__awaiter:Cx,__classPrivateFieldGet:Px,__classPrivateFieldIn:Ox,__classPrivateFieldSet:Fx,__createBinding:xl,__decorate:px,__disposeResources:Mx,__esDecorate:xx,__exportStar:Ex,__extends:mx,__generator:Nx,__importDefault:Rx,__importStar:Ix,__makeTemplateObject:Tx,__metadata:wx,__param:gx,__propKey:vx,__read:Ku,__rest:gl,__rewriteRelativeImportExtension:zx,__runInitializers:bx,__setFunctionName:yx,__spread:_x,__spreadArray:Ju,__spreadArrays:Sx,__values:Qc,default:Hj},Symbol.toStringTag,{value:"Module"}));var Fo="right-scroll-bar-position",Oo="width-before-scroll-bar",qj="with-scroll-bars-hidden",Gj="--removed-body-scroll-bar-size";function sd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Vj(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var Yj=typeof window<"u"?N.useLayoutEffect:N.useEffect,of=new WeakMap;function Zj(e,t){var n=Vj(null,function(r){return e.forEach(function(a){return sd(a,r)})});return Yj(function(){var r=of.get(n);if(r){var a=new Set(r),i=new Set(e),c=n.current;a.forEach(function(o){i.has(o)||sd(o,null)}),i.forEach(function(o){a.has(o)||sd(o,c)})}of.set(n,e)},[e]),n}function Kj(e){return e}function Jj(e,t){t===void 0&&(t=Kj);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var c=t(i,r);return n.push(c),function(){n=n.filter(function(o){return o!==c})}},assignSyncMedium:function(i){for(r=!0;n.length;){var c=n;n=[],c.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var c=[];if(n.length){var o=n;n=[],o.forEach(i),c=n}var l=function(){var u=c;c=[],u.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(u){c.push(u),d()},filter:function(u){return c=c.filter(u),n}}}};return a}function Xj(e){e===void 0&&(e={});var t=Jj(null);return t.options=Dn({async:!0,ssr:!1},e),t}var Bx=function(e){var t=e.sideCar,n=gl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Dn({},n))};Bx.isSideCarExport=!0;function Qj(e,t){return e.useMedium(t),Bx}var Lx=Xj(),ad=function(){},bl=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:ad,onWheelCapture:ad,onTouchMoveCapture:ad}),a=r[0],i=r[1],c=e.forwardProps,o=e.children,l=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,x=e.noIsolation,p=e.inert,g=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,C=gl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),y=f,E=Zj([n,t]),S=Dn(Dn({},C),a);return N.createElement(N.Fragment,null,u&&N.createElement(y,{sideCar:Lx,removeScrollBar:d,shards:h,noRelative:m,noIsolation:x,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),c?N.cloneElement(N.Children.only(o),Dn(Dn({},S),{ref:E})):N.createElement(v,Dn({},S,{className:l,ref:E}),o))});bl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bl.classNames={fullWidth:Oo,zeroRight:Fo};var eA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eA();return t&&e.setAttribute("nonce",t),e}function nA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sA=function(){var e=0,t=null;return{add:function(n){e==0&&(t=tA())&&(nA(t,n),rA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},aA=function(){var e=sA();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ux=function(){var e=aA(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},iA={left:0,top:0,right:0,gap:0},id=function(e){return parseInt(e||"",10)||0},oA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[id(n),id(r),id(a)]},cA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return iA;var t=oA(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},lA=Ux(),da="data-scroll-locked",dA=function(e,t,n,r){var a=e.left,i=e.top,c=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(da,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fo,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Oo,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Fo," .").concat(Fo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Oo," .").concat(Oo,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(da,`] {
    `).concat(Gj,": ").concat(o,`px;
  }
`)},cf=function(){var e=parseInt(document.body.getAttribute(da)||"0",10);return isFinite(e)?e:0},uA=function(){N.useEffect(function(){return document.body.setAttribute(da,(cf()+1).toString()),function(){var e=cf()-1;e<=0?document.body.removeAttribute(da):document.body.setAttribute(da,e.toString())}},[])},hA=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;uA();var i=N.useMemo(function(){return cA(a)},[a]);return N.createElement(lA,{styles:dA(i,!t,a,n?"":"!important")})},ru=!1;if(typeof window<"u")try{var vo=Object.defineProperty({},"passive",{get:function(){return ru=!0,!0}});window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{ru=!1}var Xs=ru?{passive:!1}:!1,fA=function(e){return e.tagName==="TEXTAREA"},$x=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!fA(e)&&n[t]==="visible")},mA=function(e){return $x(e,"overflowY")},pA=function(e){return $x(e,"overflowX")},lf=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Wx(e,r);if(a){var i=Hx(e,r),c=i[1],o=i[2];if(c>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gA=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},xA=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Wx=function(e,t){return e==="v"?mA(t):pA(t)},Hx=function(e,t){return e==="v"?gA(t):xA(t)},bA=function(e,t){return e==="h"&&t==="rtl"?-1:1},vA=function(e,t,n,r,a){var i=bA(e,window.getComputedStyle(t).direction),c=i*r,o=n.target,l=t.contains(o),d=!1,u=c>0,h=0,f=0;do{if(!o)break;var m=Hx(e,o),x=m[0],p=m[1],g=m[2],b=p-g-i*x;(x||b)&&Wx(e,o)&&(h+=b,f+=x);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},yo=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},df=function(e){return[e.deltaX,e.deltaY]},uf=function(e){return e&&"current"in e?e.current:e},yA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},wA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},CA=0,Qs=[];function NA(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),a=N.useState(CA++)[0],i=N.useState(Ux)[0],c=N.useRef(e);N.useEffect(function(){c.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Ju([e.lockRef.current],(e.shards||[]).map(uf),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=N.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!c.current.allowPinchZoom;var b=yo(p),v=n.current,w="deltaX"in p?p.deltaX:v[0]-b[0],C="deltaY"in p?p.deltaY:v[1]-b[1],y,E=p.target,S=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in p&&S==="h"&&E.type==="range")return!1;var R=lf(S,E);if(!R)return!0;if(R?y=S:(y=S==="v"?"h":"v",R=lf(S,E)),!R)return!1;if(!r.current&&"changedTouches"in p&&(w||C)&&(r.current=y),!y)return!0;var I=r.current||y;return vA(I,g,p,I==="h"?w:C)},[]),l=N.useCallback(function(p){var g=p;if(!(!Qs.length||Qs[Qs.length-1]!==i)){var b="deltaY"in g?df(g):yo(g),v=t.current.filter(function(y){return y.name===g.type&&(y.target===g.target||g.target===y.shadowParent)&&yA(y.delta,b)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var w=(c.current.shards||[]).map(uf).filter(Boolean).filter(function(y){return y.contains(g.target)}),C=w.length>0?o(g,w[0]):!c.current.noIsolation;C&&g.cancelable&&g.preventDefault()}}},[]),d=N.useCallback(function(p,g,b,v){var w={name:p,delta:g,target:b,should:v,shadowParent:EA(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(C){return C!==w})},1)},[]),u=N.useCallback(function(p){n.current=yo(p),r.current=void 0},[]),h=N.useCallback(function(p){d(p.type,df(p),p.target,o(p,e.lockRef.current))},[]),f=N.useCallback(function(p){d(p.type,yo(p),p.target,o(p,e.lockRef.current))},[]);N.useEffect(function(){return Qs.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Xs),document.addEventListener("touchmove",l,Xs),document.addEventListener("touchstart",u,Xs),function(){Qs=Qs.filter(function(p){return p!==i}),document.removeEventListener("wheel",l,Xs),document.removeEventListener("touchmove",l,Xs),document.removeEventListener("touchstart",u,Xs)}},[]);var m=e.removeScrollBar,x=e.inert;return N.createElement(N.Fragment,null,x?N.createElement(i,{styles:wA(a)}):null,m?N.createElement(hA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function EA(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const _A=Qj(Lx,NA);var qx=N.forwardRef(function(e,t){return N.createElement(bl,Dn({},e,{ref:t,sideCar:_A}))});qx.classNames=bl.classNames;var vl="Popover",[Gx,hR]=Yg(vl,[nx]),Gi=nx(),[SA,as]=Gx(vl),Vx=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:c=!1}=e,o=Gi(t),l=N.useRef(null),[d,u]=N.useState(!1),[h,f]=Oj({prop:r,defaultProp:a??!1,onChange:i,caller:vl});return s.jsx(kj,{...o,children:s.jsx(SA,{scope:t,contentId:xj(),triggerRef:l,open:h,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:d,onCustomAnchorAdd:N.useCallback(()=>u(!0),[]),onCustomAnchorRemove:N.useCallback(()=>u(!1),[]),modal:c,children:n})})};Vx.displayName=vl;var Yx="PopoverAnchor",kA=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=as(Yx,n),i=Gi(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:o}=a;return N.useEffect(()=>(c(),()=>o()),[c,o]),s.jsx(ux,{...i,...r,ref:t})});kA.displayName=Yx;var Zx="PopoverTrigger",Kx=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=as(Zx,n),i=Gi(n),c=ss(t,a.triggerRef),o=s.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":tb(a.open),...r,ref:c,onClick:Yr(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:s.jsx(ux,{asChild:!0,...i,children:o})});Kx.displayName=Zx;var Xu="PopoverPortal",[jA,AA]=Gx(Xu,{forceMount:void 0}),Jx=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=as(Xu,t);return s.jsx(jA,{scope:t,forceMount:n,children:s.jsx(Zu,{present:n||i.open,children:s.jsx(hx,{asChild:!0,container:a,children:r})})})};Jx.displayName=Xu;var Na="PopoverContent",Xx=N.forwardRef((e,t)=>{const n=AA(Na,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=as(Na,e.__scopePopover);return s.jsx(Zu,{present:r||i.open,children:i.modal?s.jsx(IA,{...a,ref:t}):s.jsx(RA,{...a,ref:t})})});Xx.displayName=Na;var TA=Gu("PopoverContent.RemoveScroll"),IA=N.forwardRef((e,t)=>{const n=as(Na,e.__scopePopover),r=N.useRef(null),a=ss(t,r),i=N.useRef(!1);return N.useEffect(()=>{const c=r.current;if(c)return Uj(c)},[]),s.jsx(qx,{as:TA,allowPinchZoom:!0,children:s.jsx(Qx,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Yr(e.onCloseAutoFocus,c=>{c.preventDefault(),i.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Yr(e.onPointerDownOutside,c=>{const o=c.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,d=o.button===2||l;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Yr(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),RA=N.forwardRef((e,t)=>{const n=as(Na,e.__scopePopover),r=N.useRef(!1),a=N.useRef(!1);return s.jsx(Qx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;n.triggerRef.current?.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Qx=N.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:u,...h}=e,f=as(Na,n),m=Gi(n);return oj(),s.jsx(Xg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Kg,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(jj,{"data-state":tb(f.open),role:"dialog",id:f.contentId,...m,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eb="PopoverClose",PA=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=as(eb,n);return s.jsx(_r.button,{type:"button",...r,ref:t,onClick:Yr(e.onClick,()=>a.onOpenChange(!1))})});PA.displayName=eb;var FA="PopoverArrow",OA=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Gi(n);return s.jsx(Aj,{...a,...r,ref:t})});OA.displayName=FA;function tb(e){return e?"open":"closed"}var DA=Vx,MA=Kx,zA=Jx,BA=Xx;function LA({...e}){return s.jsx(DA,{"data-slot":"popover",...e})}function UA({...e}){return s.jsx(MA,{"data-slot":"popover-trigger",...e})}function $A({className:e,align:t="center",sideOffset:n=4,...r}){return s.jsx(zA,{children:s.jsx(BA,{"data-slot":"popover-content",align:t,sideOffset:n,className:gt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function WA(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const od={},Za={};function ni(e,t){try{const r=(od[e]||(od[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return r in Za?Za[r]:hf(r,r.split(":"))}catch{if(e in Za)return Za[e];const n=e?.match(HA);return n?hf(e,n.slice(1)):NaN}}const HA=/([+-]\d\d):?(\d\d)?/;function hf(e,t){const n=+(t[0]||0),r=+(t[1]||0);return Za[e]=n>0?n*60+r:n*60-r}class nr extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ni(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),nb(this),su(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new nr(...n,t):new nr(Date.now(),t)}withTimeZone(t){return new nr(+this,t)}getTimezoneOffset(){return-ni(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),su(this),+this}[Symbol.for("constructDateFrom")](t){return new nr(+new Date(t),this.timeZone)}}const ff=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!ff.test(e))return;const t=e.replace(ff,"$1UTC");nr.prototype[t]&&(e.startsWith("get")?nr.prototype[e]=function(){return this.internal[t]()}:(nr.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),qA(this),+this},nr.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),su(this),+this}))});function su(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function qA(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),nb(e)}function nb(e){const t=ni(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),a=-new Date(+n).getTimezoneOffset(),i=r-a,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const o=r-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);const l=ni(e.timeZone,e),u=-new Date(+e).getTimezoneOffset()-l,h=l!==t,f=u-o;if(h&&f){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);const m=ni(e.timeZone,e),x=l-m;x&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+x),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+x))}}class on extends nr{static tz(t,...n){return n.length?new on(...n,t):new on(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),a=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,a]=this.tzComponents();return`${t} GMT${n}${r}${a} (${WA(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[n,r,a]}withTimeZone(t){return new on(+this,t)}[Symbol.for("constructDateFrom")](t){return new on(+new Date(t),this.timeZone)}}var Ve;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(Ve||(Ve={}));var Wt;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Wt||(Wt={}));var $n;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})($n||($n={}));var kn;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(kn||(kn={}));const mf=5,GA=4;function VA(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,a=t.addDays(e,-r+1),i=t.addDays(a,mf*7-1);return t.getMonth(e)===t.getMonth(i)?mf:GA}function rb(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function YA(e,t){const n=rb(e,t),r=VA(e,t);return t.addDays(n,r*7-1)}class Sr{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?on.tz(this.options.timeZone):new this.Date,this.newDate=(r,a,i)=>this.overrides?.newDate?this.overrides.newDate(r,a,i):this.options.timeZone?new on(r,a,i,this.options.timeZone):new Date(r,a,i),this.addDays=(r,a)=>this.overrides?.addDays?this.overrides.addDays(r,a):Sg(r,a),this.addMonths=(r,a)=>this.overrides?.addMonths?this.overrides.addMonths(r,a):kg(r,a),this.addWeeks=(r,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,a):G4(r,a),this.addYears=(r,a)=>this.overrides?.addYears?this.overrides.addYears(r,a):V4(r,a),this.differenceInCalendarDays=(r,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,a):Ag(r,a),this.differenceInCalendarMonths=(r,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,a):X4(r,a),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):t3(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):YA(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):s3(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):Q4(r),this.endOfWeek=(r,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,a):Rg(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):r3(r),this.format=(r,a,i)=>{const c=this.overrides?.format?this.overrides.format(r,a,this.options):Q3(r,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):Pg(r),this.getMonth=(r,a)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):n5(r,this.options),this.getYear=(r,a)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):r5(r,this.options),this.getWeek=(r,a)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):Og(r,this.options),this.isAfter=(r,a)=>this.overrides?.isAfter?this.overrides.isAfter(r,a):s5(r,a),this.isBefore=(r,a)=>this.overrides?.isBefore?this.overrides.isBefore(r,a):a5(r,a),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):Tg(r),this.isSameDay=(r,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,a):K4(r,a),this.isSameMonth=(r,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,a):i5(r,a),this.isSameYear=(r,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,a):o5(r,a),this.max=r=>this.overrides?.max?this.overrides.max(r):Y4(r),this.min=r=>this.overrides?.min?this.overrides.min(r):Z4(r),this.setMonth=(r,a)=>this.overrides?.setMonth?this.overrides.setMonth(r,a):c5(r,a),this.setYear=(r,a)=>this.overrides?.setYear?this.overrides.setYear(r,a):l5(r,a),this.startOfBroadcastWeek=(r,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):rb(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Ii(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Ti(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):n3(r),this.startOfWeek=(r,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):ya(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):Ig(r),this.options={locale:Hu,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let a=0;a<10;a++)r[a.toString()]=n.format(a);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}}const hr=new Sr;class sb{constructor(t,n,r=hr){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class ZA{constructor(t,n){this.date=t,this.weeks=n}}class KA{constructor(t,n){this.days=n,this.weekNumber=t}}function vr(e,t,n=!1,r=hr){let{from:a,to:i}=e;const{differenceInCalendarDays:c,isSameDay:o}=r;return a&&i?(c(i,a)<0&&([a,i]=[i,a]),c(t,a)>=(n?1:0)&&c(i,t)>=(n?1:0)):!n&&i?o(i,t):!n&&a?o(a,t):!1}function ab(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Qu(e){return!!(e&&typeof e=="object"&&"from"in e)}function ib(e){return!!(e&&typeof e=="object"&&"after"in e)}function ob(e){return!!(e&&typeof e=="object"&&"before"in e)}function cb(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function lb(e,t){return Array.isArray(e)&&e.every(t.isDate)}function yr(e,t,n=hr){const r=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:c}=n;return r.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return a(e,o);if(lb(o,n))return o.includes(e);if(Qu(o))return vr(o,e,!1,n);if(cb(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(e.getDay()):o.dayOfWeek===e.getDay();if(ab(o)){const l=i(o.before,e),d=i(o.after,e),u=l>0,h=d<0;return c(o.before,o.after)?h&&u:u||h}return ib(o)?i(e,o.after)>0:ob(o)?i(o.before,e)>0:typeof o=="function"?o(e):!1})}function JA(e,t,n,r,a){const{disabled:i,hidden:c,modifiers:o,showOutsideDays:l,broadcastCalendar:d,today:u}=t,{isSameDay:h,isSameMonth:f,startOfMonth:m,isBefore:x,endOfMonth:p,isAfter:g}=a,b=n&&m(n),v=r&&p(r),w={[Wt.focused]:[],[Wt.outside]:[],[Wt.disabled]:[],[Wt.hidden]:[],[Wt.today]:[]},C={};for(const y of e){const{date:E,displayMonth:S}=y,R=!!(S&&!f(E,S)),I=!!(b&&x(E,b)),T=!!(v&&g(E,v)),M=!!(i&&yr(E,i,a)),P=!!(c&&yr(E,c,a))||I||T||!d&&!l&&R||d&&l===!1&&R,F=h(E,u??a.today());R&&w.outside.push(y),M&&w.disabled.push(y),P&&w.hidden.push(y),F&&w.today.push(y),o&&Object.keys(o).forEach(k=>{const D=o?.[k];D&&yr(E,D,a)&&(C[k]?C[k].push(y):C[k]=[y])})}return y=>{const E={[Wt.focused]:!1,[Wt.disabled]:!1,[Wt.hidden]:!1,[Wt.outside]:!1,[Wt.today]:!1},S={};for(const R in w){const I=w[R];E[R]=I.some(T=>T===y)}for(const R in C)S[R]=C[R].some(I=>I===y);return{...E,...S}}}function XA(e,t,n={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(n[i]?a.push(n[i]):t[Wt[i]]?a.push(t[Wt[i]]):t[$n[i]]&&a.push(t[$n[i]]),a),[t[Ve.Day]])}function QA(e){return Se.createElement("button",{...e})}function eT(e){return Se.createElement("span",{...e})}function tT(e){const{size:t=24,orientation:n="left",className:r}=e;return Se.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Se.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Se.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Se.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Se.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function nT(e){const{day:t,modifiers:n,...r}=e;return Se.createElement("td",{...r})}function rT(e){const{day:t,modifiers:n,...r}=e,a=Se.useRef(null);return Se.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),Se.createElement("button",{ref:a,...r})}function sT(e){const{options:t,className:n,components:r,classNames:a,...i}=e,c=[a[Ve.Dropdown],n].join(" "),o=t?.find(({value:l})=>l===i.value);return Se.createElement("span",{"data-disabled":i.disabled,className:a[Ve.DropdownRoot]},Se.createElement(r.Select,{className:c,...i},t?.map(({value:l,label:d,disabled:u})=>Se.createElement(r.Option,{key:l,value:l,disabled:u},d))),Se.createElement("span",{className:a[Ve.CaptionLabel],"aria-hidden":!0},o?.label,Se.createElement(r.Chevron,{orientation:"down",size:18,className:a[Ve.Chevron]})))}function aT(e){return Se.createElement("div",{...e})}function iT(e){return Se.createElement("div",{...e})}function oT(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Se.createElement("div",{...r},e.children)}function cT(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Se.createElement("div",{...r})}function lT(e){return Se.createElement("table",{...e})}function dT(e){return Se.createElement("div",{...e})}const db=N.createContext(void 0);function Vi(){const e=N.useContext(db);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function uT(e){const{components:t}=Vi();return Se.createElement(t.Dropdown,{...e})}function hT(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:a,...i}=e,{components:c,classNames:o,labels:{labelPrevious:l,labelNext:d}}=Vi(),u=N.useCallback(f=>{a&&n?.(f)},[a,n]),h=N.useCallback(f=>{r&&t?.(f)},[r,t]);return Se.createElement("nav",{...i},Se.createElement(c.PreviousMonthButton,{type:"button",className:o[Ve.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":l(r),onClick:h},Se.createElement(c.Chevron,{disabled:r?void 0:!0,className:o[Ve.Chevron],orientation:"left"})),Se.createElement(c.NextMonthButton,{type:"button",className:o[Ve.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":d(a),onClick:u},Se.createElement(c.Chevron,{disabled:a?void 0:!0,orientation:"right",className:o[Ve.Chevron]})))}function fT(e){const{components:t}=Vi();return Se.createElement(t.Button,{...e})}function mT(e){return Se.createElement("option",{...e})}function pT(e){const{components:t}=Vi();return Se.createElement(t.Button,{...e})}function gT(e){const{rootRef:t,...n}=e;return Se.createElement("div",{...n,ref:t})}function xT(e){return Se.createElement("select",{...e})}function bT(e){const{week:t,...n}=e;return Se.createElement("tr",{...n})}function vT(e){return Se.createElement("th",{...e})}function yT(e){return Se.createElement("thead",{"aria-hidden":!0},Se.createElement("tr",{...e}))}function wT(e){const{week:t,...n}=e;return Se.createElement("th",{...n})}function CT(e){return Se.createElement("th",{...e})}function NT(e){return Se.createElement("tbody",{...e})}function ET(e){const{components:t}=Vi();return Se.createElement(t.Dropdown,{...e})}const _T=Object.freeze(Object.defineProperty({__proto__:null,Button:QA,CaptionLabel:eT,Chevron:tT,Day:nT,DayButton:rT,Dropdown:sT,DropdownNav:aT,Footer:iT,Month:oT,MonthCaption:cT,MonthGrid:lT,Months:dT,MonthsDropdown:uT,Nav:hT,NextMonthButton:fT,Option:mT,PreviousMonthButton:pT,Root:gT,Select:xT,Week:bT,WeekNumber:wT,WeekNumberHeader:CT,Weekday:vT,Weekdays:yT,Weeks:NT,YearsDropdown:ET},Symbol.toStringTag,{value:"Module"}));function ST(e){return{..._T,...e}}function kT(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function e0(){const e={};for(const t in Ve)e[Ve[t]]=`rdp-${Ve[t]}`;for(const t in Wt)e[Wt[t]]=`rdp-${Wt[t]}`;for(const t in $n)e[$n[t]]=`rdp-${$n[t]}`;for(const t in kn)e[kn[t]]=`rdp-${kn[t]}`;return e}function ub(e,t,n){return(n??new Sr(t)).format(e,"LLLL y")}const jT=ub;function AT(e,t,n){return(n??new Sr(t)).format(e,"d")}function TT(e,t=hr){return t.format(e,"LLLL")}function IT(e,t=hr){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function RT(){return""}function PT(e,t,n){return(n??new Sr(t)).format(e,"cccccc")}function hb(e,t=hr){return t.format(e,"yyyy")}const FT=hb,OT=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:ub,formatDay:AT,formatMonthCaption:jT,formatMonthDropdown:TT,formatWeekNumber:IT,formatWeekNumberHeader:RT,formatWeekdayName:PT,formatYearCaption:FT,formatYearDropdown:hb},Symbol.toStringTag,{value:"Module"}));function DT(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...OT,...e}}function MT(e,t,n,r,a){const{startOfMonth:i,startOfYear:c,endOfYear:o,eachMonthOfInterval:l,getMonth:d}=a;return l({start:c(e),end:o(e)}).map(f=>{const m=r.formatMonthDropdown(f,a),x=d(f),p=t&&f<i(t)||n&&f>i(n)||!1;return{value:x,label:m,disabled:p}})}function zT(e,t={},n={}){let r={...t?.[Ve.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{r={...r,...n?.[a]}}),r}function BT(e,t,n){const r=e.today(),a=t?e.startOfISOWeek(r):e.startOfWeek(r),i=[];for(let c=0;c<7;c++){const o=e.addDays(a,c);i.push(o)}return i}function LT(e,t,n,r){if(!e||!t)return;const{startOfYear:a,endOfYear:i,addYears:c,getYear:o,isBefore:l,isSameYear:d}=r,u=a(e),h=i(t),f=[];let m=u;for(;l(m,h)||d(m,h);)f.push(m),m=c(m,1);return f.map(x=>{const p=n.formatYearDropdown(x,r);return{value:o(x),label:p,disabled:!1}})}function fb(e,t,n){return(n??new Sr(t)).format(e,"LLLL y")}const UT=fb;function $T(e,t,n,r){let a=(r??new Sr(n)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function mb(e,t,n,r){let a=(r??new Sr(n)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const WT=mb;function HT(){return""}function qT(e){return"Choose the Month"}function GT(e){return"Go to the Next Month"}function VT(e){return"Go to the Previous Month"}function YT(e,t,n){return(n??new Sr(t)).format(e,"cccc")}function ZT(e,t){return`Week ${e}`}function KT(e){return"Week Number"}function JT(e){return"Choose the Year"}const XT=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:UT,labelDay:WT,labelDayButton:mb,labelGrid:fb,labelGridcell:$T,labelMonthDropdown:qT,labelNav:HT,labelNext:GT,labelPrevious:VT,labelWeekNumber:ZT,labelWeekNumberHeader:KT,labelWeekday:YT,labelYearDropdown:JT},Symbol.toStringTag,{value:"Module"})),Yi=e=>e instanceof HTMLElement?e:null,cd=e=>[...e.querySelectorAll("[data-animated-month]")??[]],QT=e=>Yi(e.querySelector("[data-animated-month]")),ld=e=>Yi(e.querySelector("[data-animated-caption]")),dd=e=>Yi(e.querySelector("[data-animated-weeks]")),e6=e=>Yi(e.querySelector("[data-animated-nav]")),t6=e=>Yi(e.querySelector("[data-animated-weekdays]"));function n6(e,t,{classNames:n,months:r,focused:a,dateLib:i}){const c=N.useRef(null),o=N.useRef(r),l=N.useRef(!1);N.useLayoutEffect(()=>{const d=o.current;if(o.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||d.length===0||r.length!==d.length)return;const u=i.isSameMonth(r[0].date,d[0].date),h=i.isAfter(r[0].date,d[0].date),f=h?n[kn.caption_after_enter]:n[kn.caption_before_enter],m=h?n[kn.weeks_after_enter]:n[kn.weeks_before_enter],x=c.current,p=e.current.cloneNode(!0);if(p instanceof HTMLElement?(cd(p).forEach(w=>{if(!(w instanceof HTMLElement))return;const C=QT(w);C&&w.contains(C)&&w.removeChild(C);const y=ld(w);y&&y.classList.remove(f);const E=dd(w);E&&E.classList.remove(m)}),c.current=p):c.current=null,l.current||u||a)return;const g=x instanceof HTMLElement?cd(x):[],b=cd(e.current);if(b&&b.every(v=>v instanceof HTMLElement)&&g&&g.every(v=>v instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const v=e6(e.current);v&&(v.style.zIndex="1"),b.forEach((w,C)=>{const y=g[C];if(!y)return;w.style.position="relative",w.style.overflow="hidden";const E=ld(w);E&&E.classList.add(f);const S=dd(w);S&&S.classList.add(m);const R=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),v&&(v.style.zIndex=""),E&&E.classList.remove(f),S&&S.classList.remove(m),w.style.position="",w.style.overflow="",w.contains(y)&&w.removeChild(y)};y.style.pointerEvents="none",y.style.position="absolute",y.style.overflow="hidden",y.setAttribute("aria-hidden","true");const I=t6(y);I&&(I.style.opacity="0");const T=ld(y);T&&(T.classList.add(h?n[kn.caption_before_exit]:n[kn.caption_after_exit]),T.addEventListener("animationend",R));const M=dd(y);M&&M.classList.add(h?n[kn.weeks_before_exit]:n[kn.weeks_after_exit]),w.insertBefore(y,w.firstChild)})}})}function r6(e,t,n,r){const a=e[0],i=e[e.length-1],{ISOWeek:c,fixedWeeks:o,broadcastCalendar:l}=n??{},{addDays:d,differenceInCalendarDays:u,differenceInCalendarMonths:h,endOfBroadcastWeek:f,endOfISOWeek:m,endOfMonth:x,endOfWeek:p,isAfter:g,startOfBroadcastWeek:b,startOfISOWeek:v,startOfWeek:w}=r,C=l?b(a,r):c?v(a):w(a),y=l?f(i):c?m(x(i)):p(x(i)),E=u(y,C),S=h(i,a)+1,R=[];for(let M=0;M<=E;M++){const P=d(C,M);if(t&&g(P,t))break;R.push(P)}const T=(l?35:42)*S;if(o&&R.length<T){const M=T-R.length;for(let P=0;P<M;P++){const F=d(R[R.length-1],1);R.push(F)}}return R}function s6(e){const t=[];return e.reduce((n,r)=>{const a=r.weeks.reduce((i,c)=>[...i,...c.days],t);return[...n,...a]},t)}function a6(e,t,n,r){const{numberOfMonths:a=1}=n,i=[];for(let c=0;c<a;c++){const o=r.addMonths(e,c);if(t&&o>t)break;i.push(o)}return i}function pf(e,t,n,r){const{month:a,defaultMonth:i,today:c=r.today(),numberOfMonths:o=1}=e;let l=a||i||c;const{differenceInCalendarMonths:d,addMonths:u,startOfMonth:h}=r;if(n&&d(n,l)<o-1){const f=-1*(o-1);l=u(n,f)}return t&&d(l,t)<0&&(l=t),h(l)}function i6(e,t,n,r){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:c,endOfMonth:o,endOfWeek:l,getISOWeek:d,getWeek:u,startOfBroadcastWeek:h,startOfISOWeek:f,startOfWeek:m}=r,x=e.reduce((p,g)=>{const b=n.broadcastCalendar?h(g,r):n.ISOWeek?f(g):m(g),v=n.broadcastCalendar?i(g):n.ISOWeek?c(o(g)):l(o(g)),w=t.filter(S=>S>=b&&S<=v),C=n.broadcastCalendar?35:42;if(n.fixedWeeks&&w.length<C){const S=t.filter(R=>{const I=C-w.length;return R>v&&R<=a(v,I)});w.push(...S)}const y=w.reduce((S,R)=>{const I=n.ISOWeek?d(R):u(R),T=S.find(P=>P.weekNumber===I),M=new sb(R,g,r);return T?T.days.push(M):S.push(new KA(I,[M])),S},[]),E=new ZA(g,y);return p.push(E),p},[]);return n.reverseMonths?x.reverse():x}function o6(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:a,startOfDay:i,startOfMonth:c,endOfMonth:o,addYears:l,endOfYear:d,newDate:u,today:h}=t,{fromYear:f,toYear:m,fromMonth:x,toMonth:p}=e;!n&&x&&(n=x),!n&&f&&(n=t.newDate(f,0,1)),!r&&p&&(r=p),!r&&m&&(r=u(m,11,31));const g=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):f?n=u(f,0,1):!n&&g&&(n=a(l(e.today??h(),-100))),r?r=o(r):m?r=u(m,11,31):!r&&g&&(r=d(e.today??h())),[n&&i(n),r&&i(r)]}function c6(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=n,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:l}=r,d=a?i:1,u=c(e);if(!t)return o(u,d);if(!(l(t,e)<i))return o(u,d)}function l6(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=n,{startOfMonth:c,addMonths:o,differenceInCalendarMonths:l}=r,d=a?i??1:1,u=c(e);if(!t)return o(u,-d);if(!(l(u,t)<=0))return o(u,-d)}function d6(e){const t=[];return e.reduce((n,r)=>[...n,...r.weeks],t)}function yl(e,t){const[n,r]=N.useState(e);return[t===void 0?n:t,r]}function u6(e,t){const[n,r]=o6(e,t),{startOfMonth:a,endOfMonth:i}=t,c=pf(e,n,r,t),[o,l]=yl(c,e.month?c:void 0);N.useEffect(()=>{const E=pf(e,n,r,t);l(E)},[e.timeZone]);const d=a6(o,r,e,t),u=r6(d,e.endMonth?i(e.endMonth):void 0,e,t),h=i6(d,u,e,t),f=d6(h),m=s6(h),x=l6(o,n,e,t),p=c6(o,r,e,t),{disableNavigation:g,onMonthChange:b}=e,v=E=>f.some(S=>S.days.some(R=>R.isEqualTo(E))),w=E=>{if(g)return;let S=a(E);n&&S<a(n)&&(S=a(n)),r&&S>a(r)&&(S=a(r)),l(S),b?.(S)};return{months:h,weeks:f,days:m,navStart:n,navEnd:r,previousMonth:x,nextMonth:p,goToMonth:w,goToDay:E=>{v(E)||w(E.date)}}}var Jn;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Jn||(Jn={}));function gf(e){return!e[Wt.disabled]&&!e[Wt.hidden]&&!e[Wt.outside]}function h6(e,t,n,r){let a,i=-1;for(const c of e){const o=t(c);gf(o)&&(o[Wt.focused]&&i<Jn.FocusedModifier?(a=c,i=Jn.FocusedModifier):r?.isEqualTo(c)&&i<Jn.LastFocused?(a=c,i=Jn.LastFocused):n(c.date)&&i<Jn.Selected?(a=c,i=Jn.Selected):o[Wt.today]&&i<Jn.Today&&(a=c,i=Jn.Today))}return a||(a=e.find(c=>gf(t(c)))),a}function f6(e,t,n,r,a,i,c){const{ISOWeek:o,broadcastCalendar:l}=i,{addDays:d,addMonths:u,addWeeks:h,addYears:f,endOfBroadcastWeek:m,endOfISOWeek:x,endOfWeek:p,max:g,min:b,startOfBroadcastWeek:v,startOfISOWeek:w,startOfWeek:C}=c;let E={day:d,week:h,month:u,year:f,startOfWeek:S=>l?v(S,c):o?w(S):C(S),endOfWeek:S=>l?m(S):o?x(S):p(S)}[e](n,t==="after"?1:-1);return t==="before"&&r?E=g([r,E]):t==="after"&&a&&(E=b([a,E])),E}function pb(e,t,n,r,a,i,c,o=0){if(o>365)return;const l=f6(e,t,n.date,r,a,i,c),d=!!(i.disabled&&yr(l,i.disabled,c)),u=!!(i.hidden&&yr(l,i.hidden,c)),h=l,f=new sb(l,h,c);return!d&&!u?f:pb(e,t,f,r,a,i,c,o+1)}function m6(e,t,n,r,a){const{autoFocus:i}=e,[c,o]=N.useState(),l=h6(t.days,n,r||(()=>!1),c),[d,u]=N.useState(i?l:void 0);return{isFocusTarget:p=>!!l?.isEqualTo(p),setFocused:u,focused:d,blur:()=>{o(d),u(void 0)},moveFocus:(p,g)=>{if(!d)return;const b=pb(p,g,d,t.navStart,t.navEnd,e,a);b&&(t.goToDay(b),u(b))}}}function p6(e,t){const{selected:n,required:r,onSelect:a}=e,[i,c]=yl(n,a?n:void 0),o=a?n:i,{isSameDay:l}=t,d=m=>o?.some(x=>l(x,m))??!1,{min:u,max:h}=e;return{selected:o,select:(m,x,p)=>{let g=[...o??[]];if(d(m)){if(o?.length===u||r&&o?.length===1)return;g=o?.filter(b=>!l(b,m))}else o?.length===h?g=[m]:g=[...g,m];return a||c(g),a?.(g,m,x,p),g},isSelected:d}}function g6(e,t,n=0,r=0,a=!1,i=hr){const{from:c,to:o}=t||{},{isSameDay:l,isAfter:d,isBefore:u}=i;let h;if(!c&&!o)h={from:e,to:n>0?void 0:e};else if(c&&!o)l(c,e)?a?h={from:c,to:void 0}:h=void 0:u(e,c)?h={from:e,to:c}:h={from:c,to:e};else if(c&&o)if(l(c,e)&&l(o,e))a?h={from:c,to:o}:h=void 0;else if(l(c,e))h={from:c,to:n>0?void 0:e};else if(l(o,e))h={from:e,to:n>0?void 0:e};else if(u(e,c))h={from:e,to:o};else if(d(e,c))h={from:c,to:e};else if(d(e,o))h={from:c,to:e};else throw new Error("Invalid range");if(h?.from&&h?.to){const f=i.differenceInCalendarDays(h.to,h.from);r>0&&f>r?h={from:e,to:void 0}:n>1&&f<n&&(h={from:e,to:void 0})}return h}function x6(e,t,n=hr){const r=Array.isArray(t)?t:[t];let a=e.from;const i=n.differenceInCalendarDays(e.to,e.from),c=Math.min(i,6);for(let o=0;o<=c;o++){if(r.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}function xf(e,t,n=hr){return vr(e,t.from,!1,n)||vr(e,t.to,!1,n)||vr(t,e.from,!1,n)||vr(t,e.to,!1,n)}function b6(e,t,n=hr){const r=Array.isArray(t)?t:[t];if(r.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:n.isDate(o)?vr(e,o,!1,n):lb(o,n)?o.some(l=>vr(e,l,!1,n)):Qu(o)?o.from&&o.to?xf(e,{from:o.from,to:o.to},n):!1:cb(o)?x6(e,o.dayOfWeek,n):ab(o)?n.isAfter(o.before,o.after)?xf(e,{from:n.addDays(o.after,1),to:n.addDays(o.before,-1)},n):yr(e.from,o,n)||yr(e.to,o,n):ib(o)||ob(o)?yr(e.from,o,n)||yr(e.to,o,n):!1))return!0;const c=r.filter(o=>typeof o=="function");if(c.length){let o=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=l;d++){if(c.some(u=>u(o)))return!0;o=n.addDays(o,1)}}return!1}function v6(e,t){const{disabled:n,excludeDisabled:r,selected:a,required:i,onSelect:c}=e,[o,l]=yl(a,c?a:void 0),d=c?a:o;return{selected:d,select:(f,m,x)=>{const{min:p,max:g}=e,b=f?g6(f,d,p,g,i,t):void 0;return r&&n&&b?.from&&b.to&&b6({from:b.from,to:b.to},n,t)&&(b.from=f,b.to=void 0),c||l(b),c?.(b,f,m,x),b},isSelected:f=>d&&vr(d,f,!1,t)}}function y6(e,t){const{selected:n,required:r,onSelect:a}=e,[i,c]=yl(n,a?n:void 0),o=a?n:i,{isSameDay:l}=t;return{selected:o,select:(h,f,m)=>{let x=h;return!r&&o&&o&&l(h,o)&&(x=void 0),a||c(x),a?.(x,h,f,m),x},isSelected:h=>o?l(o,h):!1}}function w6(e,t){const n=y6(e,t),r=p6(e,t),a=v6(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return a;default:return}}function C6(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new on(t.today,t.timeZone)),t.month&&(t.month=new on(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new on(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new on(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new on(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new on(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(je=>new on(je,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new on(t.selected.from,t.timeZone):void 0,to:t.selected.to?new on(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:a,dateLib:i,locale:c,classNames:o}=N.useMemo(()=>{const je={...Hu,...t.locale};return{dateLib:new Sr({locale:je,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:ST(t.components),formatters:DT(t.formatters),labels:{...XT,...t.labels},locale:je,classNames:{...e0(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:d,navLayout:u,numberOfMonths:h=1,onDayBlur:f,onDayClick:m,onDayFocus:x,onDayKeyDown:p,onDayMouseEnter:g,onDayMouseLeave:b,onNextClick:v,onPrevClick:w,showWeekNumber:C,styles:y}=t,{formatCaption:E,formatDay:S,formatMonthDropdown:R,formatWeekNumber:I,formatWeekNumberHeader:T,formatWeekdayName:M,formatYearDropdown:P}=r,F=u6(t,i),{days:k,months:D,navStart:L,navEnd:G,previousMonth:z,nextMonth:$,goToMonth:ne}=F,B=JA(k,t,L,G,i),{isSelected:H,select:W,selected:q}=w6(t,i)??{},{blur:Q,focused:he,isFocusTarget:K,moveFocus:J,setFocused:ce}=m6(t,F,B,H??(()=>!1),i),{labelDayButton:X,labelGridcell:ie,labelGrid:fe,labelMonthDropdown:xe,labelNav:A,labelPrevious:ae,labelNext:oe,labelWeekday:V,labelWeekNumber:Y,labelWeekNumberHeader:se,labelYearDropdown:pe}=a,de=N.useMemo(()=>BT(i,t.ISOWeek),[i,t.ISOWeek]),re=d!==void 0||m!==void 0,be=N.useCallback(()=>{z&&(ne(z),w?.(z))},[z,ne,w]),we=N.useCallback(()=>{$&&(ne($),v?.($))},[ne,$,v]),ve=N.useCallback((je,Ke)=>nt=>{nt.preventDefault(),nt.stopPropagation(),ce(je),W?.(je.date,Ke,nt),m?.(je.date,Ke,nt)},[W,m,ce]),ee=N.useCallback((je,Ke)=>nt=>{ce(je),x?.(je.date,Ke,nt)},[x,ce]),O=N.useCallback((je,Ke)=>nt=>{Q(),f?.(je.date,Ke,nt)},[Q,f]),_=N.useCallback((je,Ke)=>nt=>{const Dt={ArrowLeft:[nt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[nt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[nt.shiftKey?"year":"week","after"],ArrowUp:[nt.shiftKey?"year":"week","before"],PageUp:[nt.shiftKey?"year":"month","before"],PageDown:[nt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Dt[nt.key]){nt.preventDefault(),nt.stopPropagation();const[qt,pn]=Dt[nt.key];J(qt,pn)}p?.(je.date,Ke,nt)},[J,p,t.dir]),j=N.useCallback((je,Ke)=>nt=>{g?.(je.date,Ke,nt)},[g]),Z=N.useCallback((je,Ke)=>nt=>{b?.(je.date,Ke,nt)},[b]),te=N.useCallback(je=>Ke=>{const nt=Number(Ke.target.value),Dt=i.setMonth(i.startOfMonth(je),nt);ne(Dt)},[i,ne]),le=N.useCallback(je=>Ke=>{const nt=Number(Ke.target.value),Dt=i.setYear(i.startOfMonth(je),nt);ne(Dt)},[i,ne]),{className:ue,style:Ne}=N.useMemo(()=>({className:[o[Ve.Root],t.className].filter(Boolean).join(" "),style:{...y?.[Ve.Root],...t.style}}),[o,t.className,t.style,y]),De=kT(t),Ie=N.useRef(null);n6(Ie,!!t.animate,{classNames:o,months:D,focused:he,dateLib:i});const Ze={dayPickerProps:t,selected:q,select:W,isSelected:H,months:D,nextMonth:$,previousMonth:z,goToMonth:ne,getModifiers:B,components:n,classNames:o,styles:y,labels:a,formatters:r};return Se.createElement(db.Provider,{value:Ze},Se.createElement(n.Root,{rootRef:t.animate?Ie:void 0,className:ue,style:Ne,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...De},Se.createElement(n.Months,{className:o[Ve.Months],style:y?.[Ve.Months]},!t.hideNavigation&&!u&&Se.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[Ve.Nav],style:y?.[Ve.Nav],"aria-label":A(),onPreviousClick:be,onNextClick:we,previousMonth:z,nextMonth:$}),D.map((je,Ke)=>{const nt=MT(je.date,L,G,r,i),Dt=LT(L,G,r,i);return Se.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:o[Ve.Month],style:y?.[Ve.Month],key:Ke,displayIndex:Ke,calendarMonth:je},u==="around"&&!t.hideNavigation&&Ke===0&&Se.createElement(n.PreviousMonthButton,{type:"button",className:o[Ve.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":ae(z),onClick:be,"data-animated-button":t.animate?"true":void 0},Se.createElement(n.Chevron,{disabled:z?void 0:!0,className:o[Ve.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Se.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[Ve.MonthCaption],style:y?.[Ve.MonthCaption],calendarMonth:je,displayIndex:Ke},l?.startsWith("dropdown")?Se.createElement(n.DropdownNav,{className:o[Ve.Dropdowns],style:y?.[Ve.Dropdowns]},l==="dropdown"||l==="dropdown-months"?Se.createElement(n.MonthsDropdown,{className:o[Ve.MonthsDropdown],"aria-label":xe(),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:te(je.date),options:nt,style:y?.[Ve.Dropdown],value:i.getMonth(je.date)}):Se.createElement("span",null,R(je.date,i)),l==="dropdown"||l==="dropdown-years"?Se.createElement(n.YearsDropdown,{className:o[Ve.YearsDropdown],"aria-label":pe(i.options),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:le(je.date),options:Dt,style:y?.[Ve.Dropdown],value:i.getYear(je.date)}):Se.createElement("span",null,P(je.date,i)),Se.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},E(je.date,i.options,i))):Se.createElement(n.CaptionLabel,{className:o[Ve.CaptionLabel],role:"status","aria-live":"polite"},E(je.date,i.options,i))),u==="around"&&!t.hideNavigation&&Ke===h-1&&Se.createElement(n.NextMonthButton,{type:"button",className:o[Ve.NextMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":oe($),onClick:we,"data-animated-button":t.animate?"true":void 0},Se.createElement(n.Chevron,{disabled:$?void 0:!0,className:o[Ve.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Ke===h-1&&u==="after"&&!t.hideNavigation&&Se.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[Ve.Nav],style:y?.[Ve.Nav],"aria-label":A(),onPreviousClick:be,onNextClick:we,previousMonth:z,nextMonth:$}),Se.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":fe(je.date,i.options,i)||void 0,className:o[Ve.MonthGrid],style:y?.[Ve.MonthGrid]},!t.hideWeekdays&&Se.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[Ve.Weekdays],style:y?.[Ve.Weekdays]},C&&Se.createElement(n.WeekNumberHeader,{"aria-label":se(i.options),className:o[Ve.WeekNumberHeader],style:y?.[Ve.WeekNumberHeader],scope:"col"},T()),de.map((qt,pn)=>Se.createElement(n.Weekday,{"aria-label":V(qt,i.options,i),className:o[Ve.Weekday],key:pn,style:y?.[Ve.Weekday],scope:"col"},M(qt,i.options,i)))),Se.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[Ve.Weeks],style:y?.[Ve.Weeks]},je.weeks.map((qt,pn)=>Se.createElement(n.Week,{className:o[Ve.Week],key:qt.weekNumber,style:y?.[Ve.Week],week:qt},C&&Se.createElement(n.WeekNumber,{week:qt,style:y?.[Ve.WeekNumber],"aria-label":Y(qt.weekNumber,{locale:c}),className:o[Ve.WeekNumber],scope:"row",role:"rowheader"},I(qt.weekNumber,i)),qt.days.map(Yt=>{const{date:gn}=Yt,pt=B(Yt);if(pt[Wt.focused]=!pt.hidden&&!!he?.isEqualTo(Yt),pt[$n.selected]=H?.(gn)||pt.selected,Qu(q)){const{from:Nn,to:kr}=q;pt[$n.range_start]=!!(Nn&&kr&&i.isSameDay(gn,Nn)),pt[$n.range_end]=!!(Nn&&kr&&i.isSameDay(gn,kr)),pt[$n.range_middle]=vr(q,gn,!0,i)}const Pa=zT(pt,y,t.modifiersStyles),Rn=XA(pt,o,t.modifiersClassNames),Ws=!re&&!pt.hidden?ie(gn,pt,i.options,i):void 0;return Se.createElement(n.Day,{key:`${i.format(gn,"yyyy-MM-dd")}_${i.format(Yt.displayMonth,"yyyy-MM")}`,day:Yt,modifiers:pt,className:Rn.join(" "),style:Pa,role:"gridcell","aria-selected":pt.selected||void 0,"aria-label":Ws,"data-day":i.format(gn,"yyyy-MM-dd"),"data-month":Yt.outside?i.format(gn,"yyyy-MM"):void 0,"data-selected":pt.selected||void 0,"data-disabled":pt.disabled||void 0,"data-hidden":pt.hidden||void 0,"data-outside":Yt.outside||void 0,"data-focused":pt.focused||void 0,"data-today":pt.today||void 0},!pt.hidden&&re?Se.createElement(n.DayButton,{className:o[Ve.DayButton],style:y?.[Ve.DayButton],type:"button",day:Yt,modifiers:pt,disabled:pt.disabled||void 0,tabIndex:K(Yt)?0:-1,"aria-label":X(gn,pt,i.options,i),onClick:ve(Yt,pt),onBlur:O(Yt,pt),onFocus:ee(Yt,pt),onKeyDown:_(Yt,pt),onMouseEnter:j(Yt,pt),onMouseLeave:Z(Yt,pt)},S(gn,i.options,i)):!pt.hidden&&S(Yt.date,i.options,i))}))))))})),t.footer&&Se.createElement(n.Footer,{className:o[Ve.Footer],style:y?.[Ve.Footer],role:"status","aria-live":"polite"},t.footer)))}const bf=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vf=Hp,N6=(e,t)=>n=>{var r;if(t?.variants==null)return vf(e,n?.class,n?.className);const{variants:a,defaultVariants:i}=t,c=Object.keys(a).map(d=>{const u=n?.[d],h=i?.[d];if(u===null)return null;const f=bf(u)||bf(h);return a[d][f]}),o=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...m}=u;return Object.entries(m).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...i,...o}[p]):{...i,...o}[p]===g})?[...d,h,f]:d},[]);return vf(e,c,l,n?.class,n?.className)},au=N6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function E6({className:e,variant:t,size:n,asChild:r=!1,...a}){const i=r?q5:"button";return s.jsx(i,{"data-slot":"button",className:gt(au({variant:t,size:n,className:e})),...a})}function _6({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:a="ghost",formatters:i,components:c,...o}){const l=e0();return s.jsx(C6,{showOutsideDays:n,className:gt("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:d=>d.toLocaleString("default",{month:"short"}),...i},classNames:{root:gt("w-fit",l.root),months:gt("flex gap-4 flex-col md:flex-row relative",l.months),month:gt("flex flex-col w-full gap-4",l.month),nav:gt("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:gt(au({variant:a}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:gt(au({variant:a}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:gt("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:gt("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",l.dropdowns),dropdown_root:gt("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:gt("absolute inset-0 opacity-0",l.dropdown),caption_label:gt("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:gt("flex",l.weekdays),weekday:gt("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:gt("flex w-full mt-2",l.week),week_number_header:gt("select-none w-(--cell-size)",l.week_number_header),week_number:gt("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:gt("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",l.day),range_start:gt("rounded-l-md bg-accent",l.range_start),range_middle:gt("rounded-none",l.range_middle),range_end:gt("rounded-r-md bg-accent",l.range_end),today:gt("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:gt("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:gt("text-muted-foreground opacity-50",l.disabled),hidden:gt("invisible",l.hidden),...t},components:{Root:({className:d,rootRef:u,...h})=>s.jsx("div",{"data-slot":"calendar",ref:u,className:gt(d),...h}),Chevron:({className:d,orientation:u,...h})=>u==="left"?s.jsx(vp,{className:gt("size-4",d),...h}):u==="right"?s.jsx(yp,{className:gt("size-4",d),...h}):s.jsx(cl,{className:gt("size-4",d),...h}),DayButton:S6,WeekNumber:({children:d,...u})=>s.jsx("td",{...u,children:s.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:d})}),...c},...o})}function S6({className:e,day:t,modifiers:n,...r}){const a=e0(),i=N.useRef(null);return N.useEffect(()=>{n.focused&&i.current?.focus()},[n.focused]),s.jsx(E6,{ref:i,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:gt("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",a.day,e),...r})}const yf=({value:e,onChange:t,disabled:n=!1})=>{const[r,a]=N.useState("date"),[i,c]=N.useState(e?new Date(e):null);N.useEffect(()=>{e&&c(new Date(e))},[e]);const o=u=>{if(!u)return;const h=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),i?.getUTCHours()||0,i?.getUTCMinutes()||0));c(h),a("time"),t(h.toISOString())},l=u=>{const{name:h,value:f}=u.target,m=i?new Date(i.getTime()):new Date;h==="hour"&&m.setUTCHours(Math.max(0,Math.min(23,Number(f)))),h==="minute"&&m.setUTCMinutes(Math.max(0,Math.min(59,Number(f)))),c(m),t(m.toISOString())},d=u=>{if(!u)return"";const h=u.getUTCHours().toString().padStart(2,"0"),f=u.getUTCMinutes().toString().padStart(2,"0"),m=u.getUTCDate().toString().padStart(2,"0"),x=(u.getUTCMonth()+1).toString().padStart(2,"0");return`${u.getUTCFullYear()}-${x}-${m} ${h}:${f}`};return s.jsxs(LA,{children:[s.jsx(UA,{asChild:!0,children:s.jsxs("button",{className:gt("w-full flex justify-between items-center p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm",!e&&"text-zinc-500"),disabled:n,children:[e?d(new Date(e))+" UTC":"Pick date & time (UTC)",s.jsx(bp,{className:"ml-2 h-4 w-4 text-zinc-400"})]})}),s.jsxs($A,{className:"w-auto bg-zinc-900 border border-zinc-700 text-white",children:[r==="date"&&s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(_6,{mode:"single",selected:i,onSelect:o,className:"bg-zinc-900"}),i&&s.jsx("button",{onClick:()=>a("time"),className:"mt-2 text-xs text-blue-400 hover:underline",children:"Set time for selected date"})]}),r==="time"&&s.jsxs("div",{className:"flex flex-col items-center px-2 py-2 gap-2",children:[s.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"All times are in UTC"}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("label",{className:"text-xs",children:"Hour (UTC):"}),s.jsx("input",{type:"number",name:"hour",min:0,max:23,value:i?.getUTCHours()??0,onChange:l,className:"w-16 p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm"}),s.jsx("label",{className:"text-xs",children:"Minute:"}),s.jsx("input",{type:"number",name:"minute",min:0,max:59,value:i?.getUTCMinutes()??0,onChange:l,className:"w-16 p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm"})]}),s.jsx("button",{onClick:()=>a("date"),className:"mt-2 text-xs text-blue-400 hover:underline",children:"‚Üê Back to date"})]})]})]})},gb=({collectionAddress:e,phases:t,onActivatePhase:n,onRemovePhase:r,nfts:a=[],saleStatus:i,onPauseSale:c,onResumeSale:o})=>{const[l,d]=N.useState({}),[u,h]=N.useState({}),[f,m]=N.useState({visible:!1,message:"",type:"success"}),[x,p]=N.useState({Whitelist:!1,FCFS:!1,Public:!0}),g=N.useRef({}),[b,v]=N.useState(a.length);N.useEffect(()=>{if(f.visible){const F=setTimeout(()=>m(k=>({...k,visible:!1})),3e3);return()=>clearTimeout(F)}},[f.visible]);const w=(F,k="success")=>{m({visible:!0,message:F,type:k})},C=["Whitelist","FCFS","Public"],y=F=>C[C.indexOf(F)-1]||null,E=F=>C[C.indexOf(F)+1]||null,S=(F,k)=>{let D=F[k]?.start?new Date(F[k].start):null,L=F[k]?.end?new Date(F[k].end):null;if(!D||!L)return F;const G=y(k);if(G&&F[G]?.end){const $=new Date(F[G].end);D<$&&(D=new Date($))}const z=E(k);if(z&&F[z]?.start){const $=new Date(F[z].start);L>$&&(L=new Date($))}return L<=D&&(L=new Date(D.getTime()+3600*1e3)),F[k].start=new Date(Date.UTC(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate(),D.getUTCHours(),D.getUTCMinutes())).toISOString(),F[k].end=new Date(Date.UTC(L.getUTCFullYear(),L.getUTCMonth(),L.getUTCDate(),L.getUTCHours(),L.getUTCMinutes())).toISOString(),F};N.useEffect(()=>{const F=()=>{const D=JSON.parse(localStorage.getItem(`phases_${e}`))||{},G=JSON.parse(localStorage.getItem(`collection_${e}_nfts`)||"[]").length;if(v(G),D.Public){const z=Object.entries(D).reduce(($,[ne,B])=>ne==="Public"?$:$+(Number(B.allocated)||0),0);D.Public.allocated=Math.max(0,G-z),D.Public.limit=1,localStorage.setItem(`phases_${e}`,JSON.stringify(D))}else{const z=new Date,$=new Date(z.getTime()+4320*60*1e3);D.Public={price:"0.1",limit:1,allocated:G,start:new Date(Date.UTC(z.getUTCFullYear(),z.getUTCMonth(),z.getUTCDate(),z.getUTCHours(),z.getUTCMinutes())).toISOString(),end:new Date(Date.UTC($.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes())).toISOString(),active:!0,isPublic:!0},localStorage.setItem(`phases_${e}`,JSON.stringify(D))}d(D),p({Whitelist:!!D.Whitelist,FCFS:!!D.FCFS,Public:!0})};window.addEventListener("storage",F);const k=setInterval(F,2e3);return()=>{window.removeEventListener("storage",F),clearInterval(k)}},[e]),N.useEffect(()=>{if(!e)return;const F=JSON.parse(localStorage.getItem(`collection_${e}_nfts`)||"[]");v(F.length);const k=JSON.parse(localStorage.getItem(`phases_${e}`))||{};if(k.Public){const D=Object.entries(k).reduce((L,[G,z])=>G==="Public"?L:L+(Number(z.allocated)||0),0);k.Public.allocated=Math.max(0,F.length-D),k.Public.limit=1,localStorage.setItem(`phases_${e}`,JSON.stringify(k))}else{const D=new Date,L=new Date(D.getTime()+4320*60*1e3);k.Public={price:"0.1",limit:1,allocated:F.length,start:new Date(Date.UTC(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate(),D.getUTCHours(),D.getUTCMinutes())).toISOString(),end:new Date(Date.UTC(L.getUTCFullYear(),L.getUTCMonth(),L.getUTCDate(),L.getUTCHours(),L.getUTCMinutes())).toISOString(),active:!0,isPublic:!0},localStorage.setItem(`phases_${e}`,JSON.stringify(k))}d(k),p({Whitelist:!!k.Whitelist,FCFS:!!k.FCFS,Public:!0})},[e]);const R=F=>{F!=="Public"&&p(k=>{const D={...k,[F]:!k[F]};if(D[F]&&!l[F]){const L=new Date,G=new Date(L.getTime()+3600*1e3),z=new Date(G.getTime()+3600*1e3),$=Math.floor(b/3),ne={price:F==="Whitelist"?"0.05":"0.08",allocated:$,start:new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate(),G.getUTCHours(),G.getUTCMinutes())).toISOString(),end:new Date(Date.UTC(z.getUTCFullYear(),z.getUTCMonth(),z.getUTCDate(),z.getUTCHours(),z.getUTCMinutes())).toISOString(),active:!1,isPublic:!1},B={...l,[F]:ne};if(B.Public){const H=Number(B.Public.allocated)||0;B.Public.allocated=Math.max(0,H-$),B.Public.start="",B.Public.end=""}d(B),localStorage.setItem(`phases_${e}`,JSON.stringify(B)),w(`Added ${F} phase. Public phase dates have been reset for easier configuration.`,"success")}if(!D[F]&&l[F]){const L={...l},G=Number(l[F].allocated)||0;if(L.Public){const z=Number(L.Public.allocated)||0;L.Public.allocated=z+G}delete L[F],d(L),localStorage.setItem(`phases_${e}`,JSON.stringify(L))}return D})},I=N.useCallback(async(F,k)=>{g.current[F]&&clearTimeout(g.current[F]),g.current[F]=setTimeout(async()=>{try{await new Promise(L=>setTimeout(L,200));const D={...l,[F]:k};localStorage.setItem(`phases_${e}`,JSON.stringify(D))}catch(D){console.error(`‚ùå Failed to auto-save ${F} phase:`,D),w(`Failed to save ${F} settings`,"error")}},300)},[l,e]),T=(F,k,D)=>{const L={},G=new Date(k).getTime(),z=new Date(D).getTime();return G>=z?(L[F]="Start time must be before end time",L):(Object.entries(l).forEach(([$,ne])=>{if($===F||!ne.start||!ne.end)return;const B=new Date(ne.start).getTime(),H=new Date(ne.end).getTime();G<H&&z>B&&(L[F]=`Time overlaps with ${$} phase`)}),L)},M=(F,k,D)=>{if(k==="allocated")if(F==="Public"){const G=Object.entries(l).reduce((z,[$,ne])=>$==="Public"?z:z+(Number(ne.allocated)||0),0);D=Math.max(0,b-G)}else{const G=Number(l[F]?.allocated)||0,z=Math.max(0,Number(D)||0),$=z-G;if(l.Public){const ne=Number(l.Public.allocated)||0;l.Public.allocated=Math.max(0,ne-$)}D=z}F==="Public"&&["price","limit","start","end"].includes(k)&&l[F]&&(l[F].userModified=!0);let L={...l,[F]:{...l[F],[k]:D}};if((k==="start"||k==="end")&&D){const G=L[F]||{},z=k==="start"?D:G.start,$=k==="end"?D:G.end;if(z&&$){const ne=T(F,z,$);ne[F]&&(L=S(L,F),w(ne[F],"error"))}}d(L),I(F,L[F])},P=(F,k,D)=>{const L={...l,[F]:{...l[F],active:k}};localStorage.setItem(`phases_${e}`,JSON.stringify(L)),d(L),I(F,L[F]),L[F],n&&n(D),w(`${F} phase ${k?"activated":"deactivated"}`,"success")};return s.jsxs("div",{className:"space-y-6",children:[i?.isInitialized&&s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${i.isPaused?"bg-red-500":"bg-green-500"}`}),s.jsxs("span",{className:"text-sm font-medium text-white",children:["Sale Status: ",i.isPaused?"Paused":"Active"]})]}),s.jsx("div",{className:"flex items-center gap-3",children:i.isPaused?s.jsxs("button",{onClick:o,disabled:i.isLoading,className:"flex items-center gap-2 px-4 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[i.isLoading?s.jsx(Fs,{className:"w-4 h-4 animate-spin"}):s.jsx(cE,{className:"w-4 h-4"}),i.isLoading?"Resuming":"Resume Sale"]}):s.jsxs("button",{onClick:c,disabled:i.isLoading,className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[i.isLoading?s.jsx(Fs,{className:"w-4 h-4 animate-spin"}):s.jsx(iE,{className:"w-4 h-4"}),i.isLoading?"Pausing":"Pause Sale"]})})]}),i.isPaused&&s.jsxs("div",{className:"mt-4 p-4 bg-yellow-900/20 border border-yellow-500/50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[s.jsx(er,{size:16}),s.jsx("span",{className:"font-semibold",children:"Sale is Paused"})]}),s.jsx("p",{className:"text-sm text-yellow-300",children:"The sale is currently paused. Users cannot mint NFTs while the sale is paused. You can edit phase settings while paused, then resume the sale when ready."})]})]}),s.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Phases"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>R("Whitelist"),disabled:i?.isPaused,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${x.Whitelist?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"} ${i?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:"Whitelist"}),s.jsx("button",{onClick:()=>R("FCFS"),disabled:i?.isPaused,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${x.FCFS?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"} ${i?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:"FCFS"})]}),s.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Click to add/remove phases. Public phase is always available."})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-zinc-400",children:["Total NFTs (added): ",s.jsx("span",{className:"text-white font-bold",children:b})]}),s.jsxs("p",{className:"text-sm text-zinc-400",children:["Allocated to phases: ",s.jsx("span",{className:"text-white font-bold",children:Object.values(l).reduce((F,k)=>F+(Number(k.allocated)||0),0)})]}),s.jsxs("p",{className:"text-sm text-zinc-400",children:["Unallocated NFTs: ",s.jsx("span",{className:"text-white font-bold",children:b-Object.values(l).reduce((F,k)=>F+(Number(k.allocated)||0),0)})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(x).map(([F,k])=>{if(!k)return null;const D=l[F]||{};return s.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white",children:[F," Phase"]}),F==="Public"&&s.jsxs("div",{className:"group relative",children:[s.jsxs("div",{className:"text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded flex items-center gap-1 cursor-help",children:["Auto-configured",s.jsx(EN,{className:"w-3 h-3 text-blue-400"})]}),s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-lg shadow-xl text-xs text-zinc-300 w-64 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50",children:[s.jsx("div",{className:"font-semibold text-blue-400 mb-1",children:"Auto-configured Public Phase:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:"‚Ä¢ Price: 0.1 STT (default, editable)"}),s.jsx("div",{children:"‚Ä¢ Limit: 1 NFT per wallet (default, editable)"}),s.jsx("div",{children:"‚Ä¢ Start: Now (UTC) when you enter this menu (editable)"}),s.jsx("div",{children:"‚Ä¢ Duration: 3 days (editable)"}),s.jsx("div",{children:"‚Ä¢ Allocation: Automatically calculated based on other phases"})]})]})]})]}),s.jsxs("div",{className:"mb-1",children:[s.jsxs("label",{className:"text-xs mr-1",children:["Price (",s.jsx("img",{src:wn,alt:"Somnia",className:"inline w-4 h-4 mx-1"})," STT)"]}),s.jsx("input",{type:"number",step:"0.001",min:"0",value:D.price||"",onChange:L=>M(F,"price",L.target.value),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${i?.isPaused?"opacity-50 cursor-not-allowed":""}`,disabled:i?.isPaused})]}),s.jsxs("div",{className:"mb-1",children:[s.jsx("label",{className:"text-xs",children:"Limit per Wallet"}),s.jsx("input",{type:"number",min:0,value:D.limit||"",onChange:L=>M(F,"limit",Math.max(0,L.target.value)),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${i?.isPaused?"opacity-50 cursor-not-allowed":""}`,disabled:i?.isPaused})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("label",{className:"text-xs w-12",children:"Start"}),s.jsx(yf,{value:D.start,onChange:L=>M(F,"start",L),disabled:i?.isPaused})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("label",{className:"text-xs w-12",children:"End"}),s.jsx(yf,{value:D.end,onChange:L=>M(F,"end",L),disabled:i?.isPaused})]}),u[F]&&s.jsxs("div",{className:"mt-1 p-2 bg-yellow-900/20 border border-yellow-500/50 rounded text-xs text-yellow-400",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(er,{size:12}),s.jsx("span",{className:"font-semibold",children:"Time Warning"})]}),s.jsx("p",{className:"text-xs",children:u[F]}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx("button",{onClick:()=>{const L=(()=>{const G=y(F),z=G&&l[G]?.end?new Date(l[G].end):new Date,$=new Date(z),ne=new Date(z.getTime()+3600*1e3);return{start:$.toISOString(),end:ne.toISOString()}})();M(F,"start",L.start),M(F,"end",L.end)},className:"text-xs text-blue-400 hover:underline",children:"Suggest optimal time"}),s.jsx("button",{onClick:()=>h(L=>{const G={...L};return delete G[F],G}),className:"text-xs text-zinc-400 hover:underline",children:"Dismiss"})]})]})]}),s.jsxs("div",{className:"mb-1 mt-1",children:[s.jsx("label",{className:"text-xs",children:"Allocated NFTs"}),s.jsx("input",{type:"number",min:0,max:b,value:D.allocated||"",onChange:L=>M(F,"allocated",L.target.value),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${i?.isPaused||F==="Public"?"opacity-50 cursor-not-allowed":""}`,disabled:i?.isPaused||F==="Public",title:F==="Public"?"Public phase allocation is automatically calculated":""})]}),s.jsx("div",{className:"flex items-center justify-between mt-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-xs text-zinc-400",children:D.active?"Active":"Inactive"}),D.active&&s.jsx(Qn,{className:"w-3 h-3 text-green-400"})]}),s.jsx($4,{checked:D.active||!1,onChange:L=>P(F,L,F),disabled:i?.isPaused,className:`${D.active?"bg-green-500":"bg-zinc-600"} relative inline-flex h-5 w-10 items-center rounded-full transition-colors ${i?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${D.active?"translate-x-5":"translate-x-1"}`})})]})})]},F)})}),f.visible&&s.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${f.type==="error"?"bg-red-800 text-white":f.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:s.jsx("p",{className:"text-sm",children:f.message})})]})},k6=({collection:e})=>{const[t,n]=N.useState([]),[r,a]=N.useState([]),[i,c]=N.useState({visible:!1,message:"",type:"success"}),[o,l]=N.useState({isInitialized:!1,isPaused:!1,isLoading:!1});N.useEffect(()=>{if(i.visible){const b=setTimeout(()=>c(v=>({...v,visible:!1})),3e3);return()=>clearTimeout(b)}},[i.visible]);const d=(b,v="success")=>{c({visible:!0,message:b,type:v})},u=async()=>{if(e?.address)try{l(y=>({...y,isLoading:!0}));const b=new Nt("https://dream-rpc.somnia.network/"),v=new rt(e.address,jt,b);let w=!1,C=!1;try{typeof v.initialized=="function"&&(w=await v.initialized()),w&&typeof v.paused=="function"&&(C=await v.paused())}catch{console.log("Contract not fully initialized or pause function not available")}l({isInitialized:w,isPaused:C,isLoading:!1})}catch(b){console.error("Error checking sale status:",b),l(v=>({...v,isLoading:!1}))}},h=async()=>{if(e?.address)try{l(S=>({...S,isLoading:!0}));const v=await new Zt(window.ethereum).getSigner(),w=new rt(e.address,jt,v),C=await w.owner(),y=await v.getAddress();if(C.toLowerCase()!==y.toLowerCase()){d("Only the collection owner can pause the sale","error");return}await(await w.pause()).wait(),d("Sale paused successfully!","success"),await u()}catch(b){console.error("Error pausing sale:",b),d(`Error pausing sale: ${b.message}`,"error")}finally{l(b=>({...b,isLoading:!1}))}},f=async()=>{if(e?.address)try{l(S=>({...S,isLoading:!0}));const v=await new Zt(window.ethereum).getSigner(),w=new rt(e.address,jt,v),C=await w.owner(),y=await v.getAddress();if(C.toLowerCase()!==y.toLowerCase()){d("Only the collection owner can resume the sale","error");return}await(await w.unpause()).wait(),d("Sale resumed successfully!","success"),await u()}catch(b){console.error("Error resuming sale:",b),d(`Error resuming sale: ${b.message}`,"error")}finally{l(b=>({...b,isLoading:!1}))}},m=async()=>{if(e?.address)try{const b=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`))||[];a(b)}catch(b){console.error("Error loading NFTs:",b)}},x=async()=>{if(!e?.address){n([]);return}try{const b=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{},w=Object.entries(b).map(([C,y])=>({key:C,enumValue:C==="Whitelist"?1:C==="FCFS"?2:3,...y}));console.log("üìã Loaded phases for collection:",e.address,w),n(w)}catch(b){console.error("Error loading phases:",b),n([])}};N.useEffect(()=>{e?.address&&(m(),x(),u())},[e?.address]);const p=b=>{console.log("Removing phase:",b)},g=b=>{console.log("Activating phase:",b)};return e?s.jsxs("div",{className:"space-y-6 pb-24",children:[s.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:s.jsx(gb,{collectionAddress:e.address,phases:t,onActivatePhase:g,onRemovePhase:p,nfts:r,saleStatus:o,onPauseSale:h,onResumeSale:f})}),i.visible&&s.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 ${i.type==="success"?"bg-green-500":i.type==="error"?"bg-red-500":"bg-yellow-500"} text-white`,children:i.message})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})};var qa={},Or={},ud,wf;function j6(){return wf||(wf=1,ud=function(t){for(var n=new Buffer(t.length),r=0,a=t.length-1;r<=a;++r,--a)n[r]=t[a],n[a]=t[r];return n}),ud}var Do={exports:{}};function Ka(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mo={exports:{}};const A6={},T6=Object.freeze(Object.defineProperty({__proto__:null,default:A6},Symbol.toStringTag,{value:"Module"})),I6=km(T6);var R6=Mo.exports,Cf;function mt(){return Cf||(Cf=1,function(e,t){(function(n,r){e.exports=r()})(R6,function(){var n=n||function(r,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof Ka=="function")try{i=I6}catch{}var c=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function v(){}return function(w){var C;return v.prototype=w,C=new v,v.prototype=null,C}}(),l={},d=l.lib={},u=d.Base=function(){return{extend:function(v){var w=o(this);return v&&w.mixIn(v),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var w in v)v.hasOwnProperty(w)&&(this[w]=v[w]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=d.WordArray=u.extend({init:function(v,w){v=this.words=v||[],w!=a?this.sigBytes=w:this.sigBytes=v.length*4},toString:function(v){return(v||m).stringify(this)},concat:function(v){var w=this.words,C=v.words,y=this.sigBytes,E=v.sigBytes;if(this.clamp(),y%4)for(var S=0;S<E;S++){var R=C[S>>>2]>>>24-S%4*8&255;w[y+S>>>2]|=R<<24-(y+S)%4*8}else for(var I=0;I<E;I+=4)w[y+I>>>2]=C[I>>>2];return this.sigBytes+=E,this},clamp:function(){var v=this.words,w=this.sigBytes;v[w>>>2]&=4294967295<<32-w%4*8,v.length=r.ceil(w/4)},clone:function(){var v=u.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var w=[],C=0;C<v;C+=4)w.push(c());return new h.init(w,v)}}),f=l.enc={},m=f.Hex={stringify:function(v){for(var w=v.words,C=v.sigBytes,y=[],E=0;E<C;E++){var S=w[E>>>2]>>>24-E%4*8&255;y.push((S>>>4).toString(16)),y.push((S&15).toString(16))}return y.join("")},parse:function(v){for(var w=v.length,C=[],y=0;y<w;y+=2)C[y>>>3]|=parseInt(v.substr(y,2),16)<<24-y%8*4;return new h.init(C,w/2)}},x=f.Latin1={stringify:function(v){for(var w=v.words,C=v.sigBytes,y=[],E=0;E<C;E++){var S=w[E>>>2]>>>24-E%4*8&255;y.push(String.fromCharCode(S))}return y.join("")},parse:function(v){for(var w=v.length,C=[],y=0;y<w;y++)C[y>>>2]|=(v.charCodeAt(y)&255)<<24-y%4*8;return new h.init(C,w)}},p=f.Utf8={stringify:function(v){try{return decodeURIComponent(escape(x.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return x.parse(unescape(encodeURIComponent(v)))}},g=d.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=p.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var w,C=this._data,y=C.words,E=C.sigBytes,S=this.blockSize,R=S*4,I=E/R;v?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var T=I*S,M=r.min(T*4,E);if(T){for(var P=0;P<T;P+=S)this._doProcessBlock(y,P);w=y.splice(0,T),C.sigBytes-=M}return new h.init(w,M)},clone:function(){var v=u.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});d.Hasher=g.extend({cfg:u.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(v){return function(w,C){return new v.init(C).finalize(w)}},_createHmacHelper:function(v){return function(w,C){return new b.HMAC.init(v,C).finalize(w)}}});var b=l.algo={};return l}(Math);return n})}(Mo)),Mo.exports}var P6=Do.exports,Nf;function Zi(){return Nf||(Nf=1,function(e,t){(function(n,r){e.exports=r(mt())})(P6,function(n){return function(r){var a=n,i=a.lib,c=i.WordArray,o=i.Hasher,l=a.algo,d=[],u=[];(function(){function m(b){for(var v=r.sqrt(b),w=2;w<=v;w++)if(!(b%w))return!1;return!0}function x(b){return(b-(b|0))*4294967296|0}for(var p=2,g=0;g<64;)m(p)&&(g<8&&(d[g]=x(r.pow(p,1/2))),u[g]=x(r.pow(p,1/3)),g++),p++})();var h=[],f=l.SHA256=o.extend({_doReset:function(){this._hash=new c.init(d.slice(0))},_doProcessBlock:function(m,x){for(var p=this._hash.words,g=p[0],b=p[1],v=p[2],w=p[3],C=p[4],y=p[5],E=p[6],S=p[7],R=0;R<64;R++){if(R<16)h[R]=m[x+R]|0;else{var I=h[R-15],T=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,M=h[R-2],P=(M<<15|M>>>17)^(M<<13|M>>>19)^M>>>10;h[R]=T+h[R-7]+P+h[R-16]}var F=C&y^~C&E,k=g&b^g&v^b&v,D=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),L=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),G=S+L+F+u[R]+h[R],z=D+k;S=E,E=y,y=C,C=w+G|0,w=v,v=b,b=g,g=G+z|0}p[0]=p[0]+g|0,p[1]=p[1]+b|0,p[2]=p[2]+v|0,p[3]=p[3]+w|0,p[4]=p[4]+C|0,p[5]=p[5]+y|0,p[6]=p[6]+E|0,p[7]=p[7]+S|0},_doFinalize:function(){var m=this._data,x=m.words,p=this._nDataBytes*8,g=m.sigBytes*8;return x[g>>>5]|=128<<24-g%32,x[(g+64>>>9<<4)+14]=r.floor(p/4294967296),x[(g+64>>>9<<4)+15]=p,m.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});a.SHA256=o._createHelper(f),a.HmacSHA256=o._createHmacHelper(f)}(Math),n.SHA256})}(Do)),Do.exports}var zo={exports:{}},F6=zo.exports,Ef;function xb(){return Ef||(Ef=1,function(e,t){(function(n,r){e.exports=r()})(F6,function(){function n(c,o){var l=o?"‚îî":"‚îú";return c?l+="‚îÄ ":l+="‚îÄ‚îÄ‚îê",l}function r(c,o){var l=[];for(var d in c)c.hasOwnProperty(d)&&(o&&typeof c[d]=="function"||l.push(d));return l}function a(c,o,l,d,u,h,f){var m="",x=0,p,g,b=d.slice(0);if(b.push([o,l])&&d.length>0&&(d.forEach(function(w,C){C>0&&(m+=(w[1]?" ":"‚îÇ")+"  "),!g&&w[0]===o&&(g=!0)}),m+=n(c,l)+c,u&&(typeof o!="object"||o instanceof Date)&&(m+=": "+o),g&&(m+=" (circular ref.)"),f(m)),!g&&typeof o=="object"){var v=r(o,h);v.forEach(function(w){p=++x===v.length,a(w,o[w],p,b,u,h,f)})}}var i={};return i.asLines=function(c,o,l,d){var u=typeof l!="function"?l:!1;a(".",c,!1,[],o,u,d||l)},i.asTree=function(c,o,l){var d="";return a(".",c,!1,[],o,l,function(u){d+=u+`
`}),d},i})}(zo)),zo.exports}var Dr={},Bo={exports:{}},Lo={exports:{}},O6=Lo.exports,_f;function wl(){return _f||(_f=1,function(e,t){(function(n,r){e.exports=r(mt())})(O6,function(n){return function(r){var a=n,i=a.lib,c=i.Base,o=i.WordArray,l=a.x64={};l.Word=c.extend({init:function(d,u){this.high=d,this.low=u}}),l.WordArray=c.extend({init:function(d,u){d=this.words=d||[],u!=r?this.sigBytes=u:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,u=d.length,h=[],f=0;f<u;f++){var m=d[f];h.push(m.high),h.push(m.low)}return o.create(h,this.sigBytes)},clone:function(){for(var d=c.clone.call(this),u=d.words=this.words.slice(0),h=u.length,f=0;f<h;f++)u[f]=u[f].clone();return d}})}(),n})}(Lo)),Lo.exports}var Uo={exports:{}},D6=Uo.exports,Sf;function M6(){return Sf||(Sf=1,function(e,t){(function(n,r){e.exports=r(mt())})(D6,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,a=r.lib,i=a.WordArray,c=i.init,o=i.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var d=l.byteLength,u=[],h=0;h<d;h++)u[h>>>2]|=l[h]<<24-h%4*8;c.call(this,u,d)}else c.apply(this,arguments)};o.prototype=i}}(),n.lib.WordArray})}(Uo)),Uo.exports}var $o={exports:{}},z6=$o.exports,kf;function B6(){return kf||(kf=1,function(e,t){(function(n,r){e.exports=r(mt())})(z6,function(n){return function(){var r=n,a=r.lib,i=a.WordArray,c=r.enc;c.Utf16=c.Utf16BE={stringify:function(l){for(var d=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var m=d[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(m))}return h.join("")},parse:function(l){for(var d=l.length,u=[],h=0;h<d;h++)u[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return i.create(u,d*2)}},c.Utf16LE={stringify:function(l){for(var d=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var m=o(d[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(m))}return h.join("")},parse:function(l){for(var d=l.length,u=[],h=0;h<d;h++)u[h>>>1]|=o(l.charCodeAt(h)<<16-h%2*16);return i.create(u,d*2)}};function o(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}($o)),$o.exports}var Wo={exports:{}},L6=Wo.exports,jf;function Us(){return jf||(jf=1,function(e,t){(function(n,r){e.exports=r(mt())})(L6,function(n){return function(){var r=n,a=r.lib,i=a.WordArray,c=r.enc;c.Base64={stringify:function(l){var d=l.words,u=l.sigBytes,h=this._map;l.clamp();for(var f=[],m=0;m<u;m+=3)for(var x=d[m>>>2]>>>24-m%4*8&255,p=d[m+1>>>2]>>>24-(m+1)%4*8&255,g=d[m+2>>>2]>>>24-(m+2)%4*8&255,b=x<<16|p<<8|g,v=0;v<4&&m+v*.75<u;v++)f.push(h.charAt(b>>>6*(3-v)&63));var w=h.charAt(64);if(w)for(;f.length%4;)f.push(w);return f.join("")},parse:function(l){var d=l.length,u=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<u.length;f++)h[u.charCodeAt(f)]=f}var m=u.charAt(64);if(m){var x=l.indexOf(m);x!==-1&&(d=x)}return o(l,d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(l,d,u){for(var h=[],f=0,m=0;m<d;m++)if(m%4){var x=u[l.charCodeAt(m-1)]<<m%4*2,p=u[l.charCodeAt(m)]>>>6-m%4*2,g=x|p;h[f>>>2]|=g<<24-f%4*8,f++}return i.create(h,f)}}(),n.enc.Base64})}(Wo)),Wo.exports}var Ho={exports:{}},U6=Ho.exports,Af;function $6(){return Af||(Af=1,function(e,t){(function(n,r){e.exports=r(mt())})(U6,function(n){return function(){var r=n,a=r.lib,i=a.WordArray,c=r.enc;c.Base64url={stringify:function(l,d){d===void 0&&(d=!0);var u=l.words,h=l.sigBytes,f=d?this._safe_map:this._map;l.clamp();for(var m=[],x=0;x<h;x+=3)for(var p=u[x>>>2]>>>24-x%4*8&255,g=u[x+1>>>2]>>>24-(x+1)%4*8&255,b=u[x+2>>>2]>>>24-(x+2)%4*8&255,v=p<<16|g<<8|b,w=0;w<4&&x+w*.75<h;w++)m.push(f.charAt(v>>>6*(3-w)&63));var C=f.charAt(64);if(C)for(;m.length%4;)m.push(C);return m.join("")},parse:function(l,d){d===void 0&&(d=!0);var u=l.length,h=d?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<h.length;m++)f[h.charCodeAt(m)]=m}var x=h.charAt(64);if(x){var p=l.indexOf(x);p!==-1&&(u=p)}return o(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(l,d,u){for(var h=[],f=0,m=0;m<d;m++)if(m%4){var x=u[l.charCodeAt(m-1)]<<m%4*2,p=u[l.charCodeAt(m)]>>>6-m%4*2,g=x|p;h[f>>>2]|=g<<24-f%4*8,f++}return i.create(h,f)}}(),n.enc.Base64url})}(Ho)),Ho.exports}var qo={exports:{}},W6=qo.exports,Tf;function $s(){return Tf||(Tf=1,function(e,t){(function(n,r){e.exports=r(mt())})(W6,function(n){return function(r){var a=n,i=a.lib,c=i.WordArray,o=i.Hasher,l=a.algo,d=[];(function(){for(var p=0;p<64;p++)d[p]=r.abs(r.sin(p+1))*4294967296|0})();var u=l.MD5=o.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var b=0;b<16;b++){var v=g+b,w=p[v];p[v]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var C=this._hash.words,y=p[g+0],E=p[g+1],S=p[g+2],R=p[g+3],I=p[g+4],T=p[g+5],M=p[g+6],P=p[g+7],F=p[g+8],k=p[g+9],D=p[g+10],L=p[g+11],G=p[g+12],z=p[g+13],$=p[g+14],ne=p[g+15],B=C[0],H=C[1],W=C[2],q=C[3];B=h(B,H,W,q,y,7,d[0]),q=h(q,B,H,W,E,12,d[1]),W=h(W,q,B,H,S,17,d[2]),H=h(H,W,q,B,R,22,d[3]),B=h(B,H,W,q,I,7,d[4]),q=h(q,B,H,W,T,12,d[5]),W=h(W,q,B,H,M,17,d[6]),H=h(H,W,q,B,P,22,d[7]),B=h(B,H,W,q,F,7,d[8]),q=h(q,B,H,W,k,12,d[9]),W=h(W,q,B,H,D,17,d[10]),H=h(H,W,q,B,L,22,d[11]),B=h(B,H,W,q,G,7,d[12]),q=h(q,B,H,W,z,12,d[13]),W=h(W,q,B,H,$,17,d[14]),H=h(H,W,q,B,ne,22,d[15]),B=f(B,H,W,q,E,5,d[16]),q=f(q,B,H,W,M,9,d[17]),W=f(W,q,B,H,L,14,d[18]),H=f(H,W,q,B,y,20,d[19]),B=f(B,H,W,q,T,5,d[20]),q=f(q,B,H,W,D,9,d[21]),W=f(W,q,B,H,ne,14,d[22]),H=f(H,W,q,B,I,20,d[23]),B=f(B,H,W,q,k,5,d[24]),q=f(q,B,H,W,$,9,d[25]),W=f(W,q,B,H,R,14,d[26]),H=f(H,W,q,B,F,20,d[27]),B=f(B,H,W,q,z,5,d[28]),q=f(q,B,H,W,S,9,d[29]),W=f(W,q,B,H,P,14,d[30]),H=f(H,W,q,B,G,20,d[31]),B=m(B,H,W,q,T,4,d[32]),q=m(q,B,H,W,F,11,d[33]),W=m(W,q,B,H,L,16,d[34]),H=m(H,W,q,B,$,23,d[35]),B=m(B,H,W,q,E,4,d[36]),q=m(q,B,H,W,I,11,d[37]),W=m(W,q,B,H,P,16,d[38]),H=m(H,W,q,B,D,23,d[39]),B=m(B,H,W,q,z,4,d[40]),q=m(q,B,H,W,y,11,d[41]),W=m(W,q,B,H,R,16,d[42]),H=m(H,W,q,B,M,23,d[43]),B=m(B,H,W,q,k,4,d[44]),q=m(q,B,H,W,G,11,d[45]),W=m(W,q,B,H,ne,16,d[46]),H=m(H,W,q,B,S,23,d[47]),B=x(B,H,W,q,y,6,d[48]),q=x(q,B,H,W,P,10,d[49]),W=x(W,q,B,H,$,15,d[50]),H=x(H,W,q,B,T,21,d[51]),B=x(B,H,W,q,G,6,d[52]),q=x(q,B,H,W,R,10,d[53]),W=x(W,q,B,H,D,15,d[54]),H=x(H,W,q,B,E,21,d[55]),B=x(B,H,W,q,F,6,d[56]),q=x(q,B,H,W,ne,10,d[57]),W=x(W,q,B,H,M,15,d[58]),H=x(H,W,q,B,z,21,d[59]),B=x(B,H,W,q,I,6,d[60]),q=x(q,B,H,W,L,10,d[61]),W=x(W,q,B,H,S,15,d[62]),H=x(H,W,q,B,k,21,d[63]),C[0]=C[0]+B|0,C[1]=C[1]+H|0,C[2]=C[2]+W|0,C[3]=C[3]+q|0},_doFinalize:function(){var p=this._data,g=p.words,b=this._nDataBytes*8,v=p.sigBytes*8;g[v>>>5]|=128<<24-v%32;var w=r.floor(b/4294967296),C=b;g[(v+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,p.sigBytes=(g.length+1)*4,this._process();for(var y=this._hash,E=y.words,S=0;S<4;S++){var R=E[S];E[S]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return y},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});function h(p,g,b,v,w,C,y){var E=p+(g&b|~g&v)+w+y;return(E<<C|E>>>32-C)+g}function f(p,g,b,v,w,C,y){var E=p+(g&v|b&~v)+w+y;return(E<<C|E>>>32-C)+g}function m(p,g,b,v,w,C,y){var E=p+(g^b^v)+w+y;return(E<<C|E>>>32-C)+g}function x(p,g,b,v,w,C,y){var E=p+(b^(g|~v))+w+y;return(E<<C|E>>>32-C)+g}a.MD5=o._createHelper(u),a.HmacMD5=o._createHmacHelper(u)}(Math),n.MD5})}(qo)),qo.exports}var Go={exports:{}},H6=Go.exports,If;function bb(){return If||(If=1,function(e,t){(function(n,r){e.exports=r(mt())})(H6,function(n){return function(){var r=n,a=r.lib,i=a.WordArray,c=a.Hasher,o=r.algo,l=[],d=o.SHA1=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,h){for(var f=this._hash.words,m=f[0],x=f[1],p=f[2],g=f[3],b=f[4],v=0;v<80;v++){if(v<16)l[v]=u[h+v]|0;else{var w=l[v-3]^l[v-8]^l[v-14]^l[v-16];l[v]=w<<1|w>>>31}var C=(m<<5|m>>>27)+b+l[v];v<20?C+=(x&p|~x&g)+1518500249:v<40?C+=(x^p^g)+1859775393:v<60?C+=(x&p|x&g|p&g)-1894007588:C+=(x^p^g)-899497514,b=g,g=p,p=x<<30|x>>>2,x=m,m=C}f[0]=f[0]+m|0,f[1]=f[1]+x|0,f[2]=f[2]+p|0,f[3]=f[3]+g|0,f[4]=f[4]+b|0},_doFinalize:function(){var u=this._data,h=u.words,f=this._nDataBytes*8,m=u.sigBytes*8;return h[m>>>5]|=128<<24-m%32,h[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(m+64>>>9<<4)+15]=f,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=c.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=c._createHelper(d),r.HmacSHA1=c._createHmacHelper(d)}(),n.SHA1})}(Go)),Go.exports}var Vo={exports:{}},q6=Vo.exports,Rf;function G6(){return Rf||(Rf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Zi())})(q6,function(n){return function(){var r=n,a=r.lib,i=a.WordArray,c=r.algo,o=c.SHA256,l=c.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=o._doFinalize.call(this);return d.sigBytes-=4,d}});r.SHA224=o._createHelper(l),r.HmacSHA224=o._createHmacHelper(l)}(),n.SHA224})}(Vo)),Vo.exports}var Yo={exports:{}},V6=Yo.exports,Pf;function vb(){return Pf||(Pf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),wl())})(V6,function(n){return function(){var r=n,a=r.lib,i=a.Hasher,c=r.x64,o=c.Word,l=c.WordArray,d=r.algo;function u(){return o.create.apply(o,arguments)}var h=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var x=0;x<80;x++)f[x]=u()})();var m=d.SHA512=i.extend({_doReset:function(){this._hash=new l.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(x,p){for(var g=this._hash.words,b=g[0],v=g[1],w=g[2],C=g[3],y=g[4],E=g[5],S=g[6],R=g[7],I=b.high,T=b.low,M=v.high,P=v.low,F=w.high,k=w.low,D=C.high,L=C.low,G=y.high,z=y.low,$=E.high,ne=E.low,B=S.high,H=S.low,W=R.high,q=R.low,Q=I,he=T,K=M,J=P,ce=F,X=k,ie=D,fe=L,xe=G,A=z,ae=$,oe=ne,V=B,Y=H,se=W,pe=q,de=0;de<80;de++){var re,be,we=f[de];if(de<16)be=we.high=x[p+de*2]|0,re=we.low=x[p+de*2+1]|0;else{var ve=f[de-15],ee=ve.high,O=ve.low,_=(ee>>>1|O<<31)^(ee>>>8|O<<24)^ee>>>7,j=(O>>>1|ee<<31)^(O>>>8|ee<<24)^(O>>>7|ee<<25),Z=f[de-2],te=Z.high,le=Z.low,ue=(te>>>19|le<<13)^(te<<3|le>>>29)^te>>>6,Ne=(le>>>19|te<<13)^(le<<3|te>>>29)^(le>>>6|te<<26),De=f[de-7],Ie=De.high,Ze=De.low,je=f[de-16],Ke=je.high,nt=je.low;re=j+Ze,be=_+Ie+(re>>>0<j>>>0?1:0),re=re+Ne,be=be+ue+(re>>>0<Ne>>>0?1:0),re=re+nt,be=be+Ke+(re>>>0<nt>>>0?1:0),we.high=be,we.low=re}var Dt=xe&ae^~xe&V,qt=A&oe^~A&Y,pn=Q&K^Q&ce^K&ce,Yt=he&J^he&X^J&X,gn=(Q>>>28|he<<4)^(Q<<30|he>>>2)^(Q<<25|he>>>7),pt=(he>>>28|Q<<4)^(he<<30|Q>>>2)^(he<<25|Q>>>7),Pa=(xe>>>14|A<<18)^(xe>>>18|A<<14)^(xe<<23|A>>>9),Rn=(A>>>14|xe<<18)^(A>>>18|xe<<14)^(A<<23|xe>>>9),Ws=h[de],Nn=Ws.high,kr=Ws.low,dn=pe+Rn,Yn=se+Pa+(dn>>>0<pe>>>0?1:0),dn=dn+qt,Yn=Yn+Dt+(dn>>>0<qt>>>0?1:0),dn=dn+kr,Yn=Yn+Nn+(dn>>>0<kr>>>0?1:0),dn=dn+re,Yn=Yn+be+(dn>>>0<re>>>0?1:0),Ki=pt+Yt,ge=gn+pn+(Ki>>>0<pt>>>0?1:0);se=V,pe=Y,V=ae,Y=oe,ae=xe,oe=A,A=fe+dn|0,xe=ie+Yn+(A>>>0<fe>>>0?1:0)|0,ie=ce,fe=X,ce=K,X=J,K=Q,J=he,he=dn+Ki|0,Q=Yn+ge+(he>>>0<dn>>>0?1:0)|0}T=b.low=T+he,b.high=I+Q+(T>>>0<he>>>0?1:0),P=v.low=P+J,v.high=M+K+(P>>>0<J>>>0?1:0),k=w.low=k+X,w.high=F+ce+(k>>>0<X>>>0?1:0),L=C.low=L+fe,C.high=D+ie+(L>>>0<fe>>>0?1:0),z=y.low=z+A,y.high=G+xe+(z>>>0<A>>>0?1:0),ne=E.low=ne+oe,E.high=$+ae+(ne>>>0<oe>>>0?1:0),H=S.low=H+Y,S.high=B+V+(H>>>0<Y>>>0?1:0),q=R.low=q+pe,R.high=W+se+(q>>>0<pe>>>0?1:0)},_doFinalize:function(){var x=this._data,p=x.words,g=this._nDataBytes*8,b=x.sigBytes*8;p[b>>>5]|=128<<24-b%32,p[(b+128>>>10<<5)+30]=Math.floor(g/4294967296),p[(b+128>>>10<<5)+31]=g,x.sigBytes=p.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});r.SHA512=i._createHelper(m),r.HmacSHA512=i._createHmacHelper(m)}(),n.SHA512})}(Yo)),Yo.exports}var Zo={exports:{}},Y6=Zo.exports,Ff;function Z6(){return Ff||(Ff=1,function(e,t){(function(n,r,a){e.exports=r(mt(),wl(),vb())})(Y6,function(n){return function(){var r=n,a=r.x64,i=a.Word,c=a.WordArray,o=r.algo,l=o.SHA512,d=o.SHA384=l.extend({_doReset:function(){this._hash=new c.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(d),r.HmacSHA384=l._createHmacHelper(d)}(),n.SHA384})}(Zo)),Zo.exports}var Ko={exports:{}},K6=Ko.exports,Of;function J6(){return Of||(Of=1,function(e,t){(function(n,r,a){e.exports=r(mt(),wl())})(K6,function(n){return function(r){var a=n,i=a.lib,c=i.WordArray,o=i.Hasher,l=a.x64,d=l.Word,u=a.algo,h=[],f=[],m=[];(function(){for(var g=1,b=0,v=0;v<24;v++){h[g+5*b]=(v+1)*(v+2)/2%64;var w=b%5,C=(2*g+3*b)%5;g=w,b=C}for(var g=0;g<5;g++)for(var b=0;b<5;b++)f[g+5*b]=b+(2*g+3*b)%5*5;for(var y=1,E=0;E<24;E++){for(var S=0,R=0,I=0;I<7;I++){if(y&1){var T=(1<<I)-1;T<32?R^=1<<T:S^=1<<T-32}y&128?y=y<<1^113:y<<=1}m[E]=d.create(S,R)}})();var x=[];(function(){for(var g=0;g<25;g++)x[g]=d.create()})();var p=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],b=0;b<25;b++)g[b]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,b){for(var v=this._state,w=this.blockSize/2,C=0;C<w;C++){var y=g[b+2*C],E=g[b+2*C+1];y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var S=v[C];S.high^=E,S.low^=y}for(var R=0;R<24;R++){for(var I=0;I<5;I++){for(var T=0,M=0,P=0;P<5;P++){var S=v[I+5*P];T^=S.high,M^=S.low}var F=x[I];F.high=T,F.low=M}for(var I=0;I<5;I++)for(var k=x[(I+4)%5],D=x[(I+1)%5],L=D.high,G=D.low,T=k.high^(L<<1|G>>>31),M=k.low^(G<<1|L>>>31),P=0;P<5;P++){var S=v[I+5*P];S.high^=T,S.low^=M}for(var z=1;z<25;z++){var T,M,S=v[z],$=S.high,ne=S.low,B=h[z];B<32?(T=$<<B|ne>>>32-B,M=ne<<B|$>>>32-B):(T=ne<<B-32|$>>>64-B,M=$<<B-32|ne>>>64-B);var H=x[f[z]];H.high=T,H.low=M}var W=x[0],q=v[0];W.high=q.high,W.low=q.low;for(var I=0;I<5;I++)for(var P=0;P<5;P++){var z=I+5*P,S=v[z],Q=x[z],he=x[(I+1)%5+5*P],K=x[(I+2)%5+5*P];S.high=Q.high^~he.high&K.high,S.low=Q.low^~he.low&K.low}var S=v[0],J=m[R];S.high^=J.high,S.low^=J.low}},_doFinalize:function(){var g=this._data,b=g.words;this._nDataBytes*8;var v=g.sigBytes*8,w=this.blockSize*32;b[v>>>5]|=1<<24-v%32,b[(r.ceil((v+1)/w)*w>>>5)-1]|=128,g.sigBytes=b.length*4,this._process();for(var C=this._state,y=this.cfg.outputLength/8,E=y/8,S=[],R=0;R<E;R++){var I=C[R],T=I.high,M=I.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,S.push(M),S.push(T)}return new c.init(S,y)},clone:function(){for(var g=o.clone.call(this),b=g._state=this._state.slice(0),v=0;v<25;v++)b[v]=b[v].clone();return g}});a.SHA3=o._createHelper(p),a.HmacSHA3=o._createHmacHelper(p)}(Math),n.SHA3})}(Ko)),Ko.exports}var Jo={exports:{}},X6=Jo.exports,Df;function Q6(){return Df||(Df=1,function(e,t){(function(n,r){e.exports=r(mt())})(X6,function(n){/** @preserve
			(c) 2012 by C√©dric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var a=n,i=a.lib,c=i.WordArray,o=i.Hasher,l=a.algo,d=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=c.create([0,1518500249,1859775393,2400959708,2840853838]),x=c.create([1352829926,1548603684,1836072691,2053994217,0]),p=l.RIPEMD160=o.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,S){for(var R=0;R<16;R++){var I=S+R,T=E[I];E[I]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var M=this._hash.words,P=m.words,F=x.words,k=d.words,D=u.words,L=h.words,G=f.words,z,$,ne,B,H,W,q,Q,he,K;W=z=M[0],q=$=M[1],Q=ne=M[2],he=B=M[3],K=H=M[4];for(var J,R=0;R<80;R+=1)J=z+E[S+k[R]]|0,R<16?J+=g($,ne,B)+P[0]:R<32?J+=b($,ne,B)+P[1]:R<48?J+=v($,ne,B)+P[2]:R<64?J+=w($,ne,B)+P[3]:J+=C($,ne,B)+P[4],J=J|0,J=y(J,L[R]),J=J+H|0,z=H,H=B,B=y(ne,10),ne=$,$=J,J=W+E[S+D[R]]|0,R<16?J+=C(q,Q,he)+F[0]:R<32?J+=w(q,Q,he)+F[1]:R<48?J+=v(q,Q,he)+F[2]:R<64?J+=b(q,Q,he)+F[3]:J+=g(q,Q,he)+F[4],J=J|0,J=y(J,G[R]),J=J+K|0,W=K,K=he,he=y(Q,10),Q=q,q=J;J=M[1]+ne+he|0,M[1]=M[2]+B+K|0,M[2]=M[3]+H+W|0,M[3]=M[4]+z+q|0,M[4]=M[0]+$+Q|0,M[0]=J},_doFinalize:function(){var E=this._data,S=E.words,R=this._nDataBytes*8,I=E.sigBytes*8;S[I>>>5]|=128<<24-I%32,S[(I+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,E.sigBytes=(S.length+1)*4,this._process();for(var T=this._hash,M=T.words,P=0;P<5;P++){var F=M[P];M[P]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return T},clone:function(){var E=o.clone.call(this);return E._hash=this._hash.clone(),E}});function g(E,S,R){return E^S^R}function b(E,S,R){return E&S|~E&R}function v(E,S,R){return(E|~S)^R}function w(E,S,R){return E&R|S&~R}function C(E,S,R){return E^(S|~R)}function y(E,S){return E<<S|E>>>32-S}a.RIPEMD160=o._createHelper(p),a.HmacRIPEMD160=o._createHmacHelper(p)}(),n.RIPEMD160})}(Jo)),Jo.exports}var Xo={exports:{}},e8=Xo.exports,Mf;function t0(){return Mf||(Mf=1,function(e,t){(function(n,r){e.exports=r(mt())})(e8,function(n){(function(){var r=n,a=r.lib,i=a.Base,c=r.enc,o=c.Utf8,l=r.algo;l.HMAC=i.extend({init:function(d,u){d=this._hasher=new d.init,typeof u=="string"&&(u=o.parse(u));var h=d.blockSize,f=h*4;u.sigBytes>f&&(u=d.finalize(u)),u.clamp();for(var m=this._oKey=u.clone(),x=this._iKey=u.clone(),p=m.words,g=x.words,b=0;b<h;b++)p[b]^=1549556828,g[b]^=909522486;m.sigBytes=x.sigBytes=f,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var u=this._hasher,h=u.finalize(d);u.reset();var f=u.finalize(this._oKey.clone().concat(h));return f}})})()})}(Xo)),Xo.exports}var Qo={exports:{}},t8=Qo.exports,zf;function n8(){return zf||(zf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Zi(),t0())})(t8,function(n){return function(){var r=n,a=r.lib,i=a.Base,c=a.WordArray,o=r.algo,l=o.SHA256,d=o.HMAC,u=o.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var m=this.cfg,x=d.create(m.hasher,h),p=c.create(),g=c.create([1]),b=p.words,v=g.words,w=m.keySize,C=m.iterations;b.length<w;){var y=x.update(f).finalize(g);x.reset();for(var E=y.words,S=E.length,R=y,I=1;I<C;I++){R=x.finalize(R),x.reset();for(var T=R.words,M=0;M<S;M++)E[M]^=T[M]}p.concat(y),v[0]++}return p.sigBytes=w*4,p}});r.PBKDF2=function(h,f,m){return u.create(m).compute(h,f)}}(),n.PBKDF2})}(Qo)),Qo.exports}var ec={exports:{}},r8=ec.exports,Bf;function is(){return Bf||(Bf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),bb(),t0())})(r8,function(n){return function(){var r=n,a=r.lib,i=a.Base,c=a.WordArray,o=r.algo,l=o.MD5,d=o.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,h){for(var f,m=this.cfg,x=m.hasher.create(),p=c.create(),g=p.words,b=m.keySize,v=m.iterations;g.length<b;){f&&x.update(f),f=x.update(u).finalize(h),x.reset();for(var w=1;w<v;w++)f=x.finalize(f),x.reset();p.concat(f)}return p.sigBytes=b*4,p}});r.EvpKDF=function(u,h,f){return d.create(f).compute(u,h)}}(),n.EvpKDF})}(ec)),ec.exports}var tc={exports:{}},s8=tc.exports,Lf;function nn(){return Lf||(Lf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),is())})(s8,function(n){n.lib.Cipher||function(r){var a=n,i=a.lib,c=i.Base,o=i.WordArray,l=i.BufferedBlockAlgorithm,d=a.enc;d.Utf8;var u=d.Base64,h=a.algo,f=h.EvpKDF,m=i.Cipher=l.extend({cfg:c.extend(),createEncryptor:function(T,M){return this.create(this._ENC_XFORM_MODE,T,M)},createDecryptor:function(T,M){return this.create(this._DEC_XFORM_MODE,T,M)},init:function(T,M,P){this.cfg=this.cfg.extend(P),this._xformMode=T,this._key=M,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var M=this._doFinalize();return M},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(M){return typeof M=="string"?I:E}return function(M){return{encrypt:function(P,F,k){return T(F).encrypt(M,P,F,k)},decrypt:function(P,F,k){return T(F).decrypt(M,P,F,k)}}}}()});i.StreamCipher=m.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var x=a.mode={},p=i.BlockCipherMode=c.extend({createEncryptor:function(T,M){return this.Encryptor.create(T,M)},createDecryptor:function(T,M){return this.Decryptor.create(T,M)},init:function(T,M){this._cipher=T,this._iv=M}}),g=x.CBC=function(){var T=p.extend();T.Encryptor=T.extend({processBlock:function(P,F){var k=this._cipher,D=k.blockSize;M.call(this,P,F,D),k.encryptBlock(P,F),this._prevBlock=P.slice(F,F+D)}}),T.Decryptor=T.extend({processBlock:function(P,F){var k=this._cipher,D=k.blockSize,L=P.slice(F,F+D);k.decryptBlock(P,F),M.call(this,P,F,D),this._prevBlock=L}});function M(P,F,k){var D,L=this._iv;L?(D=L,this._iv=r):D=this._prevBlock;for(var G=0;G<k;G++)P[F+G]^=D[G]}return T}(),b=a.pad={},v=b.Pkcs7={pad:function(T,M){for(var P=M*4,F=P-T.sigBytes%P,k=F<<24|F<<16|F<<8|F,D=[],L=0;L<F;L+=4)D.push(k);var G=o.create(D,F);T.concat(G)},unpad:function(T){var M=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=M}};i.BlockCipher=m.extend({cfg:m.cfg.extend({mode:g,padding:v}),reset:function(){var T;m.reset.call(this);var M=this.cfg,P=M.iv,F=M.mode;this._xformMode==this._ENC_XFORM_MODE?T=F.createEncryptor:(T=F.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,P&&P.words):(this._mode=T.call(F,this,P&&P.words),this._mode.__creator=T)},_doProcessBlock:function(T,M){this._mode.processBlock(T,M)},_doFinalize:function(){var T,M=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(M.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),M.unpad(T)),T},blockSize:128/32});var w=i.CipherParams=c.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),C=a.format={},y=C.OpenSSL={stringify:function(T){var M,P=T.ciphertext,F=T.salt;return F?M=o.create([1398893684,1701076831]).concat(F).concat(P):M=P,M.toString(u)},parse:function(T){var M,P=u.parse(T),F=P.words;return F[0]==1398893684&&F[1]==1701076831&&(M=o.create(F.slice(2,4)),F.splice(0,4),P.sigBytes-=16),w.create({ciphertext:P,salt:M})}},E=i.SerializableCipher=c.extend({cfg:c.extend({format:y}),encrypt:function(T,M,P,F){F=this.cfg.extend(F);var k=T.createEncryptor(P,F),D=k.finalize(M),L=k.cfg;return w.create({ciphertext:D,key:P,iv:L.iv,algorithm:T,mode:L.mode,padding:L.padding,blockSize:T.blockSize,formatter:F.format})},decrypt:function(T,M,P,F){F=this.cfg.extend(F),M=this._parse(M,F.format);var k=T.createDecryptor(P,F).finalize(M.ciphertext);return k},_parse:function(T,M){return typeof T=="string"?M.parse(T,this):T}}),S=a.kdf={},R=S.OpenSSL={execute:function(T,M,P,F,k){if(F||(F=o.random(64/8)),k)var D=f.create({keySize:M+P,hasher:k}).compute(T,F);else var D=f.create({keySize:M+P}).compute(T,F);var L=o.create(D.words.slice(M),P*4);return D.sigBytes=M*4,w.create({key:D,iv:L,salt:F})}},I=i.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:R}),encrypt:function(T,M,P,F){F=this.cfg.extend(F);var k=F.kdf.execute(P,T.keySize,T.ivSize,F.salt,F.hasher);F.iv=k.iv;var D=E.encrypt.call(this,T,M,k.key,F);return D.mixIn(k),D},decrypt:function(T,M,P,F){F=this.cfg.extend(F),M=this._parse(M,F.format);var k=F.kdf.execute(P,T.keySize,T.ivSize,M.salt,F.hasher);F.iv=k.iv;var D=E.decrypt.call(this,T,M,k.key,F);return D}})}()})}(tc)),tc.exports}var nc={exports:{}},a8=nc.exports,Uf;function i8(){return Uf||(Uf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(a8,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,c){var o=this._cipher,l=o.blockSize;a.call(this,i,c,l,o),this._prevBlock=i.slice(c,c+l)}}),r.Decryptor=r.extend({processBlock:function(i,c){var o=this._cipher,l=o.blockSize,d=i.slice(c,c+l);a.call(this,i,c,l,o),this._prevBlock=d}});function a(i,c,o,l){var d,u=this._iv;u?(d=u.slice(0),this._iv=void 0):d=this._prevBlock,l.encryptBlock(d,0);for(var h=0;h<o;h++)i[c+h]^=d[h]}return r}(),n.mode.CFB})}(nc)),nc.exports}var rc={exports:{}},o8=rc.exports,$f;function c8(){return $f||($f=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(o8,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),a=r.Encryptor=r.extend({processBlock:function(i,c){var o=this._cipher,l=o.blockSize,d=this._iv,u=this._counter;d&&(u=this._counter=d.slice(0),this._iv=void 0);var h=u.slice(0);o.encryptBlock(h,0),u[l-1]=u[l-1]+1|0;for(var f=0;f<l;f++)i[c+f]^=h[f]}});return r.Decryptor=a,r}(),n.mode.CTR})}(rc)),rc.exports}var sc={exports:{}},l8=sc.exports,Wf;function d8(){return Wf||(Wf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(l8,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function a(o){if((o>>24&255)===255){var l=o>>16&255,d=o>>8&255,u=o&255;l===255?(l=0,d===255?(d=0,u===255?u=0:++u):++d):++l,o=0,o+=l<<16,o+=d<<8,o+=u}else o+=1<<24;return o}function i(o){return(o[0]=a(o[0]))===0&&(o[1]=a(o[1])),o}var c=r.Encryptor=r.extend({processBlock:function(o,l){var d=this._cipher,u=d.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),i(f);var m=f.slice(0);d.encryptBlock(m,0);for(var x=0;x<u;x++)o[l+x]^=m[x]}});return r.Decryptor=c,r}(),n.mode.CTRGladman})}(sc)),sc.exports}var ac={exports:{}},u8=ac.exports,Hf;function h8(){return Hf||(Hf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(u8,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),a=r.Encryptor=r.extend({processBlock:function(i,c){var o=this._cipher,l=o.blockSize,d=this._iv,u=this._keystream;d&&(u=this._keystream=d.slice(0),this._iv=void 0),o.encryptBlock(u,0);for(var h=0;h<l;h++)i[c+h]^=u[h]}});return r.Decryptor=a,r}(),n.mode.OFB})}(ac)),ac.exports}var ic={exports:{}},f8=ic.exports,qf;function m8(){return qf||(qf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(f8,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),r.Decryptor=r.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),r}(),n.mode.ECB})}(ic)),ic.exports}var oc={exports:{}},p8=oc.exports,Gf;function g8(){return Gf||(Gf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(p8,function(n){return n.pad.AnsiX923={pad:function(r,a){var i=r.sigBytes,c=a*4,o=c-i%c,l=i+o-1;r.clamp(),r.words[l>>>2]|=o<<24-l%4*8,r.sigBytes+=o},unpad:function(r){var a=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=a}},n.pad.Ansix923})}(oc)),oc.exports}var cc={exports:{}},x8=cc.exports,Vf;function b8(){return Vf||(Vf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(x8,function(n){return n.pad.Iso10126={pad:function(r,a){var i=a*4,c=i-r.sigBytes%i;r.concat(n.lib.WordArray.random(c-1)).concat(n.lib.WordArray.create([c<<24],1))},unpad:function(r){var a=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=a}},n.pad.Iso10126})}(cc)),cc.exports}var lc={exports:{}},v8=lc.exports,Yf;function y8(){return Yf||(Yf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(v8,function(n){return n.pad.Iso97971={pad:function(r,a){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,a)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(lc)),lc.exports}var dc={exports:{}},w8=dc.exports,Zf;function C8(){return Zf||(Zf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(w8,function(n){return n.pad.ZeroPadding={pad:function(r,a){var i=a*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var a=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},n.pad.ZeroPadding})}(dc)),dc.exports}var uc={exports:{}},N8=uc.exports,Kf;function E8(){return Kf||(Kf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(N8,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(uc)),uc.exports}var hc={exports:{}},_8=hc.exports,Jf;function S8(){return Jf||(Jf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),nn())})(_8,function(n){return function(r){var a=n,i=a.lib,c=i.CipherParams,o=a.enc,l=o.Hex,d=a.format;d.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var h=l.parse(u);return c.create({ciphertext:h})}}}(),n.format.Hex})}(hc)),hc.exports}var fc={exports:{}},k8=fc.exports,Xf;function j8(){return Xf||(Xf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Us(),$s(),is(),nn())})(k8,function(n){return function(){var r=n,a=r.lib,i=a.BlockCipher,c=r.algo,o=[],l=[],d=[],u=[],h=[],f=[],m=[],x=[],p=[],g=[];(function(){for(var w=[],C=0;C<256;C++)C<128?w[C]=C<<1:w[C]=C<<1^283;for(var y=0,E=0,C=0;C<256;C++){var S=E^E<<1^E<<2^E<<3^E<<4;S=S>>>8^S&255^99,o[y]=S,l[S]=y;var R=w[y],I=w[R],T=w[I],M=w[S]*257^S*16843008;d[y]=M<<24|M>>>8,u[y]=M<<16|M>>>16,h[y]=M<<8|M>>>24,f[y]=M;var M=T*16843009^I*65537^R*257^y*16843008;m[S]=M<<24|M>>>8,x[S]=M<<16|M>>>16,p[S]=M<<8|M>>>24,g[S]=M,y?(y=R^w[w[w[T^R]]],E^=w[w[E]]):y=E=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],v=c.AES=i.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,y=C.words,E=C.sigBytes/4,S=this._nRounds=E+6,R=(S+1)*4,I=this._keySchedule=[],T=0;T<R;T++)T<E?I[T]=y[T]:(w=I[T-1],T%E?E>6&&T%E==4&&(w=o[w>>>24]<<24|o[w>>>16&255]<<16|o[w>>>8&255]<<8|o[w&255]):(w=w<<8|w>>>24,w=o[w>>>24]<<24|o[w>>>16&255]<<16|o[w>>>8&255]<<8|o[w&255],w^=b[T/E|0]<<24),I[T]=I[T-E]^w);for(var M=this._invKeySchedule=[],P=0;P<R;P++){var T=R-P;if(P%4)var w=I[T];else var w=I[T-4];P<4||T<=4?M[P]=w:M[P]=m[o[w>>>24]]^x[o[w>>>16&255]]^p[o[w>>>8&255]]^g[o[w&255]]}}},encryptBlock:function(w,C){this._doCryptBlock(w,C,this._keySchedule,d,u,h,f,o)},decryptBlock:function(w,C){var y=w[C+1];w[C+1]=w[C+3],w[C+3]=y,this._doCryptBlock(w,C,this._invKeySchedule,m,x,p,g,l);var y=w[C+1];w[C+1]=w[C+3],w[C+3]=y},_doCryptBlock:function(w,C,y,E,S,R,I,T){for(var M=this._nRounds,P=w[C]^y[0],F=w[C+1]^y[1],k=w[C+2]^y[2],D=w[C+3]^y[3],L=4,G=1;G<M;G++){var z=E[P>>>24]^S[F>>>16&255]^R[k>>>8&255]^I[D&255]^y[L++],$=E[F>>>24]^S[k>>>16&255]^R[D>>>8&255]^I[P&255]^y[L++],ne=E[k>>>24]^S[D>>>16&255]^R[P>>>8&255]^I[F&255]^y[L++],B=E[D>>>24]^S[P>>>16&255]^R[F>>>8&255]^I[k&255]^y[L++];P=z,F=$,k=ne,D=B}var z=(T[P>>>24]<<24|T[F>>>16&255]<<16|T[k>>>8&255]<<8|T[D&255])^y[L++],$=(T[F>>>24]<<24|T[k>>>16&255]<<16|T[D>>>8&255]<<8|T[P&255])^y[L++],ne=(T[k>>>24]<<24|T[D>>>16&255]<<16|T[P>>>8&255]<<8|T[F&255])^y[L++],B=(T[D>>>24]<<24|T[P>>>16&255]<<16|T[F>>>8&255]<<8|T[k&255])^y[L++];w[C]=z,w[C+1]=$,w[C+2]=ne,w[C+3]=B},keySize:256/32});r.AES=i._createHelper(v)}(),n.AES})}(fc)),fc.exports}var mc={exports:{}},A8=mc.exports,Qf;function T8(){return Qf||(Qf=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Us(),$s(),is(),nn())})(A8,function(n){return function(){var r=n,a=r.lib,i=a.WordArray,c=a.BlockCipher,o=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=o.DES=c.extend({_doReset:function(){for(var b=this._key,v=b.words,w=[],C=0;C<56;C++){var y=l[C]-1;w[C]=v[y>>>5]>>>31-y%32&1}for(var E=this._subKeys=[],S=0;S<16;S++){for(var R=E[S]=[],I=u[S],C=0;C<24;C++)R[C/6|0]|=w[(d[C]-1+I)%28]<<31-C%6,R[4+(C/6|0)]|=w[28+(d[C+24]-1+I)%28]<<31-C%6;R[0]=R[0]<<1|R[0]>>>31;for(var C=1;C<7;C++)R[C]=R[C]>>>(C-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var T=this._invSubKeys=[],C=0;C<16;C++)T[C]=E[15-C]},encryptBlock:function(b,v){this._doCryptBlock(b,v,this._subKeys)},decryptBlock:function(b,v){this._doCryptBlock(b,v,this._invSubKeys)},_doCryptBlock:function(b,v,w){this._lBlock=b[v],this._rBlock=b[v+1],x.call(this,4,252645135),x.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),x.call(this,1,1431655765);for(var C=0;C<16;C++){for(var y=w[C],E=this._lBlock,S=this._rBlock,R=0,I=0;I<8;I++)R|=h[I][((S^y[I])&f[I])>>>0];this._lBlock=S,this._rBlock=E^R}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,x.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),b[v]=this._lBlock,b[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(b,v){var w=(this._lBlock>>>b^this._rBlock)&v;this._rBlock^=w,this._lBlock^=w<<b}function p(b,v){var w=(this._rBlock>>>b^this._lBlock)&v;this._lBlock^=w,this._rBlock^=w<<b}r.DES=c._createHelper(m);var g=o.TripleDES=c.extend({_doReset:function(){var b=this._key,v=b.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=v.slice(0,2),C=v.length<4?v.slice(0,2):v.slice(2,4),y=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=m.createEncryptor(i.create(w)),this._des2=m.createEncryptor(i.create(C)),this._des3=m.createEncryptor(i.create(y))},encryptBlock:function(b,v){this._des1.encryptBlock(b,v),this._des2.decryptBlock(b,v),this._des3.encryptBlock(b,v)},decryptBlock:function(b,v){this._des3.decryptBlock(b,v),this._des2.encryptBlock(b,v),this._des1.decryptBlock(b,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=c._createHelper(g)}(),n.TripleDES})}(mc)),mc.exports}var pc={exports:{}},I8=pc.exports,em;function R8(){return em||(em=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Us(),$s(),is(),nn())})(I8,function(n){return function(){var r=n,a=r.lib,i=a.StreamCipher,c=r.algo,o=c.RC4=i.extend({_doReset:function(){for(var u=this._key,h=u.words,f=u.sigBytes,m=this._S=[],x=0;x<256;x++)m[x]=x;for(var x=0,p=0;x<256;x++){var g=x%f,b=h[g>>>2]>>>24-g%4*8&255;p=(p+m[x]+b)%256;var v=m[x];m[x]=m[p],m[p]=v}this._i=this._j=0},_doProcessBlock:function(u,h){u[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,h=this._i,f=this._j,m=0,x=0;x<4;x++){h=(h+1)%256,f=(f+u[h])%256;var p=u[h];u[h]=u[f],u[f]=p,m|=u[(u[h]+u[f])%256]<<24-x*8}return this._i=h,this._j=f,m}r.RC4=i._createHelper(o);var d=c.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=i._createHelper(d)}(),n.RC4})}(pc)),pc.exports}var gc={exports:{}},P8=gc.exports,tm;function F8(){return tm||(tm=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Us(),$s(),is(),nn())})(P8,function(n){return function(){var r=n,a=r.lib,i=a.StreamCipher,c=r.algo,o=[],l=[],d=[],u=c.Rabbit=i.extend({_doReset:function(){for(var f=this._key.words,m=this.cfg.iv,x=0;x<4;x++)f[x]=(f[x]<<8|f[x]>>>24)&16711935|(f[x]<<24|f[x]>>>8)&4278255360;var p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var x=0;x<4;x++)h.call(this);for(var x=0;x<8;x++)g[x]^=p[x+4&7];if(m){var b=m.words,v=b[0],w=b[1],C=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,y=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=C>>>16|y&4294901760,S=y<<16|C&65535;g[0]^=C,g[1]^=E,g[2]^=y,g[3]^=S,g[4]^=C,g[5]^=E,g[6]^=y,g[7]^=S;for(var x=0;x<4;x++)h.call(this)}},_doProcessBlock:function(f,m){var x=this._X;h.call(this),o[0]=x[0]^x[5]>>>16^x[3]<<16,o[1]=x[2]^x[7]>>>16^x[5]<<16,o[2]=x[4]^x[1]>>>16^x[7]<<16,o[3]=x[6]^x[3]>>>16^x[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,f[m+p]^=o[p]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,m=this._C,x=0;x<8;x++)l[x]=m[x];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var p=f[x]+m[x],g=p&65535,b=p>>>16,v=((g*g>>>17)+g*b>>>15)+b*b,w=((p&4294901760)*p|0)+((p&65535)*p|0);d[x]=v^w}f[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,f[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,f[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,f[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,f[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,f[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,f[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,f[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.Rabbit=i._createHelper(u)}(),n.Rabbit})}(gc)),gc.exports}var xc={exports:{}},O8=xc.exports,nm;function D8(){return nm||(nm=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Us(),$s(),is(),nn())})(O8,function(n){return function(){var r=n,a=r.lib,i=a.StreamCipher,c=r.algo,o=[],l=[],d=[],u=c.RabbitLegacy=i.extend({_doReset:function(){var f=this._key.words,m=this.cfg.iv,x=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)h.call(this);for(var g=0;g<8;g++)p[g]^=x[g+4&7];if(m){var b=m.words,v=b[0],w=b[1],C=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,y=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E=C>>>16|y&4294901760,S=y<<16|C&65535;p[0]^=C,p[1]^=E,p[2]^=y,p[3]^=S,p[4]^=C,p[5]^=E,p[6]^=y,p[7]^=S;for(var g=0;g<4;g++)h.call(this)}},_doProcessBlock:function(f,m){var x=this._X;h.call(this),o[0]=x[0]^x[5]>>>16^x[3]<<16,o[1]=x[2]^x[7]>>>16^x[5]<<16,o[2]=x[4]^x[1]>>>16^x[7]<<16,o[3]=x[6]^x[3]>>>16^x[1]<<16;for(var p=0;p<4;p++)o[p]=(o[p]<<8|o[p]>>>24)&16711935|(o[p]<<24|o[p]>>>8)&4278255360,f[m+p]^=o[p]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,m=this._C,x=0;x<8;x++)l[x]=m[x];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<l[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<l[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<l[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<l[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<l[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<l[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<l[6]>>>0?1:0)|0,this._b=m[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var p=f[x]+m[x],g=p&65535,b=p>>>16,v=((g*g>>>17)+g*b>>>15)+b*b,w=((p&4294901760)*p|0)+((p&65535)*p|0);d[x]=v^w}f[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,f[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,f[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,f[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,f[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,f[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,f[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,f[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}r.RabbitLegacy=i._createHelper(u)}(),n.RabbitLegacy})}(xc)),xc.exports}var bc={exports:{}},M8=bc.exports,rm;function z8(){return rm||(rm=1,function(e,t){(function(n,r,a){e.exports=r(mt(),Us(),$s(),is(),nn())})(M8,function(n){return function(){var r=n,a=r.lib,i=a.BlockCipher,c=r.algo;const o=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function h(g,b){let v=b>>24&255,w=b>>16&255,C=b>>8&255,y=b&255,E=g.sbox[0][v]+g.sbox[1][w];return E=E^g.sbox[2][C],E=E+g.sbox[3][y],E}function f(g,b,v){let w=b,C=v,y;for(let E=0;E<o;++E)w=w^g.pbox[E],C=h(g,w)^C,y=w,w=C,C=y;return y=w,w=C,C=y,C=C^g.pbox[o],w=w^g.pbox[o+1],{left:w,right:C}}function m(g,b,v){let w=b,C=v,y;for(let E=o+1;E>1;--E)w=w^g.pbox[E],C=h(g,w)^C,y=w,w=C,C=y;return y=w,w=C,C=y,C=C^g.pbox[1],w=w^g.pbox[0],{left:w,right:C}}function x(g,b,v){for(let S=0;S<4;S++){g.sbox[S]=[];for(let R=0;R<256;R++)g.sbox[S][R]=d[S][R]}let w=0;for(let S=0;S<o+2;S++)g.pbox[S]=l[S]^b[w],w++,w>=v&&(w=0);let C=0,y=0,E=0;for(let S=0;S<o+2;S+=2)E=f(g,C,y),C=E.left,y=E.right,g.pbox[S]=C,g.pbox[S+1]=y;for(let S=0;S<4;S++)for(let R=0;R<256;R+=2)E=f(g,C,y),C=E.left,y=E.right,g.sbox[S][R]=C,g.sbox[S][R+1]=y;return!0}var p=c.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,b=g.words,v=g.sigBytes/4;x(u,b,v)}},encryptBlock:function(g,b){var v=f(u,g[b],g[b+1]);g[b]=v.left,g[b+1]=v.right},decryptBlock:function(g,b){var v=m(u,g[b],g[b+1]);g[b]=v.left,g[b+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(p)}(),n.Blowfish})}(bc)),bc.exports}var B8=Bo.exports,sm;function L8(){return sm||(sm=1,function(e,t){(function(n,r,a){e.exports=r(mt(),wl(),M6(),B6(),Us(),$6(),$s(),bb(),Zi(),G6(),vb(),Z6(),J6(),Q6(),t0(),n8(),is(),nn(),i8(),c8(),d8(),h8(),m8(),g8(),b8(),y8(),C8(),E8(),S8(),j8(),T8(),R8(),F8(),D8(),z8())})(B8,function(n){return n})}(Bo)),Bo.exports}var am;function Ra(){if(am)return Dr;am=1;var e=Dr&&Dr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.Base=void 0;const t=rl(),n=e(L8());let r=class On{print(){On.print(this)}bufferIndexOf(i,c,o=!1){if(o)return this.binarySearch(i,c,t.Buffer.compare);const l=(d,u)=>d.equals(u);return this.linearSearch(i,c,l)}static binarySearch(i,c,o){let l=0,d=i.length-1;for(;l<=d;){const u=Math.floor((l+d)/2),h=o(i[u],c);if(h===0){for(let f=u-1;f>=0;f--)if(o(i[f],c)!==0)return f+1;return 0}else h<0?l=u+1:d=u-1}return-1}binarySearch(i,c,o){return On.binarySearch(i,c,o)}static linearSearch(i,c,o){for(let l=0;l<i.length;l++)if(o(i[l],c))return l;return-1}linearSearch(i,c,o){return On.linearSearch(i,c,o)}static bufferify(i){if(!t.Buffer.isBuffer(i)){if(typeof i=="object"&&i.words)return t.Buffer.from(i.toString(n.default.enc.Hex),"hex");if(On.isHexString(i)){const c=i.replace("0x",""),o=c.length%2?"0"+c:c;return t.Buffer.from(o,"hex")}else{if(typeof i=="string")return t.Buffer.from(i);if(typeof i=="bigint"){const c=i.toString(16).length%2?"0"+i.toString(16):i.toString(16);return t.Buffer.from(c,"hex")}else{if(i instanceof Uint8Array)return t.Buffer.from(i.buffer,i.byteOffset,i.byteLength);if(typeof i=="number"){let c=i.toString();return c.length%2&&(c=`0${c}`),t.Buffer.from(c,"hex")}else if(ArrayBuffer.isView(i))return t.Buffer.from(i.buffer,i.byteOffset,i.byteLength)}}}return i}static bufferifyFn(i){if(typeof i!="function")throw new Error(`bufferifyFn expects a function, received: ${typeof i}`);return c=>{const o=i(c);if(t.Buffer.isBuffer(o))return o;if(On.isHexString(o)){const l=o.replace("0x",""),d=l.length%2?"0"+l:l;return t.Buffer.from(d,"hex")}if(typeof o=="string")return t.Buffer.from(o);if(typeof o=="bigint"){const l=o.toString(16).length%2?"0"+o.toString(16):o.toString(16);return t.Buffer.from(l,"hex")}return ArrayBuffer.isView(o)?t.Buffer.from(o.buffer,o.byteOffset,o.byteLength):t.Buffer.from(i(n.default.enc.Hex.parse(c.toString("hex"))).toString(n.default.enc.Hex),"hex")}}bigNumberify(i){return On.bigNumberify(i)}static bigNumberify(i){if(typeof i=="bigint")return i;if(typeof i=="string"){if(i.startsWith("0x")&&On.isHexString(i)){const c=i.replace("0x",""),o=c.length%2?"0"+c:c||"0";return BigInt("0x"+o)}return BigInt(i)}if(t.Buffer.isBuffer(i)){const c=i.toString("hex"),o=c.length%2?"0"+c:c||"0";return BigInt("0x"+o)}if(i instanceof Uint8Array){const c=t.Buffer.from(i).toString("hex"),o=c.length%2?"0"+c:c||"0";return BigInt("0x"+o)}if(typeof i=="number")return BigInt(i);throw new Error("cannot bigNumberify")}static isHexString(i){return typeof i=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(i)}static print(i){console.log(i.toString())}bufferToHex(i,c=!0){return On.bufferToHex(i,c)}static bufferToHex(i,c=!0){return`${c?"0x":""}${(i||t.Buffer.alloc(0)).toString("hex")}`}bufferify(i){return On.bufferify(i)}bufferifyFn(i){return On.bufferifyFn(i)}isHexString(i){return On.isHexString(i)}log2(i){return i===1?0:1+this.log2(i/2|0)}zip(i,c){return i.map((o,l)=>[o,c[l]])}static hexZeroPad(i,c){return"0x"+i.replace("0x","").padStart(c,"0")}bufferArrayIncludes(i,c){return i.some(o=>o.equals(c??t.Buffer.alloc(0)))}};return Dr.Base=r,Dr.default=r,Dr}var im;function U8(){if(im)return Or;im=1;var e=Or&&Or.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.MerkleTree=void 0;const t=rl(),n=e(j6()),r=e(Zi()),a=e(xb()),i=e(Ra());let c=class zn extends i.default{constructor(l,d=r.default,u={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,u.complete){if(u.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(u.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!u.isBitcoinTree,this.hashLeaves=!!u.hashLeaves,this.sortLeaves=!!u.sortLeaves,this.sortPairs=!!u.sortPairs,this.complete=!!u.complete,u.fillDefaultHash)if(typeof u.fillDefaultHash=="function")this.fillDefaultHash=u.fillDefaultHash;else if(t.Buffer.isBuffer(u.fillDefaultHash)||typeof u.fillDefaultHash=="string")this.fillDefaultHash=(h,f)=>u.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');if(this.sort=!!u.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!u.duplicateOdd,u.concatenator?this.concatenator=u.concatenator:this.concatenator=t.Buffer.concat,typeof d!="function")throw new Error("hashFn must be a function");this.hashFn=this.bufferifyFn(d),this.processLeaves(l)}getOptions(){var l,d;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:(d=(l=this.fillDefaultHash)===null||l===void 0?void 0:l.toString())!==null&&d!==void 0?d:null,duplicateOdd:this.duplicateOdd}}processLeaves(l){if(this.hashLeaves&&(l=l.map(this.hashFn)),this.leaves=l.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(t.Buffer.compare)),this.fillDefaultHash)for(let d=this.leaves.length;d<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));d++)this.leaves.push(this.bufferify(this.fillDefaultHash(d,this.hashFn)));this.createHashes(this.leaves)}createHashes(l){for(this.layers=[l];l.length>1;){const d=this.layers.length;this.layers.push([]);const u=this.complete&&d===1&&!Number.isInteger(Math.log2(l.length))?2*l.length-Math.pow(2,Math.ceil(Math.log2(l.length))):l.length;for(let h=0;h<l.length;h+=2){if(h>=u){this.layers[d].push(...l.slice(u));break}else if(h+1===l.length&&l.length%2===1){const g=l[l.length-1];let b=g;if(this.isBitcoinTree){b=this.hashFn(this.concatenator([n.default(g),n.default(g)])),b=n.default(this.hashFn(b)),this.layers[d].push(b);continue}else if(!this.duplicateOdd){this.layers[d].push(l[h]);continue}}const f=l[h],m=h+1===l.length?f:l[h+1];let x=null;this.isBitcoinTree?x=[n.default(f),n.default(m)]:x=[f,m],this.sortPairs&&x.sort(t.Buffer.compare);let p=this.hashFn(this.concatenator(x));this.isBitcoinTree&&(p=n.default(this.hashFn(p))),this.layers[d].push(p)}l=this.layers[d]}}addLeaf(l,d=!1){d&&(l=this.hashFn(l)),this.processLeaves(this.leaves.concat(l))}addLeaves(l,d=!1){d&&(l=l.map(this.hashFn)),this.processLeaves(this.leaves.concat(l))}getLeaves(l){return Array.isArray(l)?(this.hashLeaves&&(l=l.map(this.hashFn),this.sortLeaves&&(l=l.sort(t.Buffer.compare))),this.leaves.filter(d=>this.bufferIndexOf(l,d,this.sortLeaves)!==-1)):this.leaves}removeLeaf(l){if(!this.isValidLeafIndex(l))throw new Error(`"${l}" is not a valid leaf index. Expected to be [0, ${this.getLeafCount()-1}]`);const d=this.leaves.splice(l,1);return this.processLeaves(this.leaves),d[0]}updateLeaf(l,d,u=!1){if(!this.isValidLeafIndex(l))throw new Error(`"${l}" is not a valid leaf index. Expected to be [0, ${this.getLeafCount()-1}]`);u&&(d=this.hashFn(d)),this.leaves[l]=d,this.processLeaves(this.leaves)}getLeaf(l){return l<0||l>this.leaves.length-1?t.Buffer.from([]):this.leaves[l]}getLeafIndex(l){l=this.bufferify(l);const d=this.getLeaves();for(let u=0;u<d.length;u++)if(d[u].equals(l))return u;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(l=>this.bufferToHex(l))}static marshalLeaves(l){return JSON.stringify(l.map(d=>zn.bufferToHex(d)),null,2)}static unmarshalLeaves(l){let d=null;if(typeof l=="string")d=JSON.parse(l);else if(l instanceof Object)d=l;else throw new Error("Expected type of string or object");if(!d)return[];if(!Array.isArray(d))throw new Error("Expected JSON string to be array");return d.map(zn.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((l,d)=>(Array.isArray(d)?l.push(d.map(u=>this.bufferToHex(u))):l.push(d),l),[])}getLayersFlat(){const l=this.layers.reduce((d,u)=>(Array.isArray(u)?d.unshift(...u):d.unshift(u),d),[]);return l.unshift(t.Buffer.from([0])),l}getHexLayersFlat(){return this.getLayersFlat().map(l=>this.bufferToHex(l))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?t.Buffer.from([]):this.layers[this.layers.length-1][0]||t.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(l,d){if(typeof l>"u")throw new Error("leaf is required");l=this.bufferify(l);const u=[];if(!Number.isInteger(d)){d=-1;for(let h=0;h<this.leaves.length;h++)t.Buffer.compare(l,this.leaves[h])===0&&(d=h)}if(d<=-1)return[];for(let h=0;h<this.layers.length;h++){const f=this.layers[h],m=d%2,x=m?d-1:this.isBitcoinTree&&d===f.length-1&&h<this.layers.length-1?d:d+1;x<f.length&&u.push({position:m?"left":"right",data:f[x]}),d=d/2|0}return u}getHexProof(l,d){return this.getProof(l,d).map(u=>this.bufferToHex(u.data))}getProofs(){const l=[],d=[];return this.getProofsDFS(this.layers.length-1,0,l,d),d}getProofsDFS(l,d,u,h){const f=d%2;if(l===-1){f||h.push([...u].reverse());return}if(d>=this.layers[l].length)return;const m=this.layers[l],x=f?d-1:d+1;let p=!1;x<m.length&&(p=!0,u.push({position:f?"left":"right",data:m[x]}));const g=d*2,b=d*2+1;this.getProofsDFS(l-1,g,u,h),this.getProofsDFS(l-1,b,u,h),p&&u.splice(u.length-1,1)}getHexProofs(){return this.getProofs().map(l=>this.bufferToHex(l.data))}getPositionalHexProof(l,d){return this.getProof(l,d).map(u=>[u.position==="left"?0:1,this.bufferToHex(u.data)])}static marshalProof(l){const d=l.map(u=>typeof u=="string"?u:t.Buffer.isBuffer(u)?zn.bufferToHex(u):{position:u.position,data:zn.bufferToHex(u.data)});return JSON.stringify(d,null,2)}static unmarshalProof(l){let d=null;if(typeof l=="string")d=JSON.parse(l);else if(l instanceof Object)d=l;else throw new Error("Expected type of string or object");if(!d)return[];if(!Array.isArray(d))throw new Error("Expected JSON string to be array");return d.map(u=>{if(typeof u=="string")return zn.bufferify(u);if(u instanceof Object)return{position:u.position,data:zn.bufferify(u.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(l){const d=l.getHexRoot(),u=l.leaves.map(m=>zn.bufferToHex(m)),h=l.getHexLayers(),f=l.getOptions();return JSON.stringify({options:f,root:d,layers:h,leaves:u},null,2)}static unmarshalTree(l,d=r.default,u={}){let h=null;if(typeof l=="string")h=JSON.parse(l);else if(l instanceof Object)h=l;else throw new Error("Expected type of string or object");if(!h)throw new Error("could not parse json");return u=Object.assign({},h.options||{},u),new zn(h.leaves,d,u)}getProofIndices(l,d){const u=Math.pow(2,d);let h=new Set;for(const g of l){let b=u+g;for(;b>1;)h.add(b^1),b=b/2|0}const f=l.map(g=>u+g),m=Array.from(h).sort((g,b)=>g-b).reverse();h=f.concat(m);const x=new Set,p=[];for(let g of h)if(!x.has(g))for(p.push(g);g>1&&(x.add(g),!!x.has(g^1));)g=g/2|0;return p.filter(g=>!l.includes(g-u))}getProofIndicesForUnevenTree(l,d){const u=Math.ceil(Math.log2(d)),h=[];for(let x=0;x<u;x++)d%2!==0&&h.push({index:x,leavesCount:d}),d=Math.ceil(d/2);const f=[];let m=l;for(let x=0;x<u;x++){let g=m.map(v=>v%2===0?v+1:v-1).filter(v=>!m.includes(v));const b=h.find(({index:v})=>v===x);b&&m.includes(b.leavesCount-1)&&(g=g.slice(0,-1)),f.push(g),m=[...new Set(m.map(v=>v%2===0?v/2:v%2===0?(v+1)/2:(v-1)/2))]}return f}getMultiProof(l,d){if(this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),d||(d=l,l=this.getLayersFlat()),this.isUnevenTree()&&d.every(Number.isInteger))return this.getMultiProofForUnevenTree(d);if(!d.every(Number.isInteger)){let h=d;this.sortPairs&&(h=h.sort(t.Buffer.compare));let f=h.map(g=>this.bufferIndexOf(this.leaves,g,this.sortLeaves)).sort((g,b)=>g===b?0:g>b?1:-1);if(!f.every(g=>g!==-1))throw new Error("Element does not exist in Merkle tree");const m=[],x=[];let p=[];for(let g=0;g<this.layers.length;g++){const b=this.layers[g];for(let v=0;v<f.length;v++){const w=f[v],C=this.getPairNode(b,w);m.push(b[w]),C&&x.push(C),p.push(w/2|0)}f=p.filter((v,w,C)=>C.indexOf(v)===w),p=[]}return x.filter(g=>!m.includes(g))}return this.getProofIndices(d,Math.log2(l.length/2|0)).map(h=>l[h])}getMultiProofForUnevenTree(l,d){d||(d=l,l=this.getLayers());let u=[],h=d;for(const f of l){const m=[];for(const p of h){if(p%2===0){const b=p+1;if(!h.includes(b)&&f[b]){m.push(f[b]);continue}}const g=p-1;if(!h.includes(g)&&f[g]){m.push(f[g]);continue}}u=u.concat(m);const x=new Set;for(const p of h){if(p%2===0){x.add(p/2);continue}if(p%2===0){x.add((p+1)/2);continue}x.add((p-1)/2)}h=Array.from(x)}return u}getHexMultiProof(l,d){return this.getMultiProof(l,d).map(u=>this.bufferToHex(u))}getProofFlags(l,d){if(!Array.isArray(l)||l.length<=0)throw new Error("Invalid Inputs!");let u;if(l.every(Number.isInteger)?u=[...l].sort((x,p)=>x===p?0:x>p?1:-1):u=l.map(x=>this.bufferIndexOf(this.leaves,x,this.sortLeaves)).sort((x,p)=>x===p?0:x>p?1:-1),!u.every(x=>x!==-1))throw new Error("Element does not exist in Merkle tree");const h=d.map(x=>this.bufferify(x)),f=[],m=[];for(let x=0;x<this.layers.length;x++){const p=this.layers[x];u=u.reduce((g,b)=>{if(!f.includes(p[b])){const w=this.getPairNode(p,b),C=this.bufferArrayIncludes(h,p[b])||this.bufferArrayIncludes(h,w);w&&m.push(!C),f.push(p[b]),f.push(w)}return g.push(b/2|0),g},[])}return m}verify(l,d,u){let h=this.bufferify(d);if(u=this.bufferify(u),!Array.isArray(l)||!d||!u)return!1;for(let f=0;f<l.length;f++){const m=l[f];let x=null,p=null;if(typeof m=="string")x=this.bufferify(m),p=!0;else if(Array.isArray(m))p=m[0]===0,x=this.bufferify(m[1]);else if(t.Buffer.isBuffer(m))x=m,p=!0;else if(m instanceof Object)x=this.bufferify(m.data),p=m.position==="left";else throw new Error("Expected node to be of type string or object");const g=[];this.isBitcoinTree?(g.push(n.default(h)),g[p?"unshift":"push"](n.default(x)),h=this.hashFn(this.concatenator(g)),h=n.default(this.hashFn(h))):this.sortPairs?t.Buffer.compare(h,x)===-1?(g.push(h,x),h=this.hashFn(this.concatenator(g))):(g.push(x,h),h=this.hashFn(this.concatenator(g))):(g.push(h),g[p?"unshift":"push"](x),h=this.hashFn(this.concatenator(g)))}return t.Buffer.compare(h,u)===0}verifyMultiProof(l,d,u,h,f){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(l,d,u,h,f);const x=Math.ceil(Math.log2(h));l=this.bufferify(l),u=u.map(v=>this.bufferify(v)),f=f.map(v=>this.bufferify(v));const p={};for(const[v,w]of this.zip(d,u))p[Math.pow(2,x)+v]=w;for(const[v,w]of this.zip(this.getProofIndices(d,x),f))p[v]=w;let g=Object.keys(p).map(v=>+v).sort((v,w)=>v-w);g=g.slice(0,g.length-1);let b=0;for(;b<g.length;){const v=g[b];if(v>=2&&{}.hasOwnProperty.call(p,v^1)){let w=[p[v-v%2],p[v-v%2+1]];this.sortPairs&&(w=w.sort(t.Buffer.compare));const C=w[1]?this.hashFn(this.concatenator(w)):w[0];p[v/2|0]=C,g.push(v/2|0)}b+=1}return!d.length||{}.hasOwnProperty.call(p,1)&&p[1].equals(l)}verifyMultiProofWithFlags(l,d,u,h){l=this.bufferify(l),d=d.map(this.bufferify),u=u.map(this.bufferify);const f=d.length,m=h.length,x=[];let p=0,g=0,b=0;for(let v=0;v<m;v++){const w=h[v]?p<f?d[p++]:x[g++]:u[b++],C=p<f?d[p++]:x[g++],y=[w,C].sort(t.Buffer.compare);x[v]=this.hashFn(this.concatenator(y))}return t.Buffer.compare(x[m-1],l)===0}verifyMultiProofForUnevenTree(l,d,u,h,f){l=this.bufferify(l),u=u.map(x=>this.bufferify(x)),f=f.map(x=>this.bufferify(x));const m=this.calculateRootForUnevenTree(d,u,h,f);return l.equals(m)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const l=this.getLayers().map(u=>u.map(h=>this.bufferToHex(h,!1))),d=[];for(let u=0;u<l.length;u++){const h=[];for(let f=0;f<l[u].length;f++){const m={[l[u][f]]:null};if(d.length){m[l[u][f]]={};const x=d.shift(),p=Object.keys(x)[0];if(m[l[u][f]][p]=x[p],d.length){const g=d.shift(),b=Object.keys(g)[0];m[l[u][f]][b]=g[b]}}h.push(m)}d.push(...h)}return d[0]}static verify(l,d,u,h=r.default,f={}){return new zn([],h,f).verify(l,d,u)}static getMultiProof(l,d){return new zn([]).getMultiProof(l,d)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(l,d){const u=d%2===0?d+1:d-1;return u<l.length?l[u]:null}toTreeString(){const l=this.getLayersAsObject();return a.default.asTree(l,!0)}toString(){return this.toTreeString()}isUnevenTree(l){const d=l?.length||this.getDepth();return!this.isPowOf2(d)}isPowOf2(l){return l&&!(l&l-1)}isValidLeafIndex(l){return l>=0&&l<this.getLeafCount()}calculateRootForUnevenTree(l,d,u,h){const f=this.zip(l,d).sort(([v],[w])=>v-w),m=f.map(([v])=>v),x=this.getProofIndicesForUnevenTree(m,u);let p=0;const g=[];for(let v=0;v<x.length;v++){const w=x[v],C=p;p+=w.length,g[v]=this.zip(w,h.slice(C,p))}const b=[f];for(let v=0;v<g.length;v++){const w=g[v].concat(b[v]).sort(([S],[R])=>S-R).map(([,S])=>S),C=b[v].map(([S])=>S),y=[...new Set(C.map(S=>S%2===0?S/2:S%2===0?(S+1)/2:(S-1)/2))],E=[];for(let S=0;S<y.length;S++){const R=y[S],I=w[S*2],T=w[S*2+1],M=T?this.hashFn(this.concatenator([I,T])):I;E.push([R,M])}b.push(E)}return b[b.length-1][0][1]}};return Or.MerkleTree=c,typeof window<"u"&&(window.MerkleTree=c),Or.default=c,Or}var Mr={},om;function $8(){if(om)return Mr;om=1;var e=Mr&&Mr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.MerkleMountainRange=void 0;const t=rl(),n=e(Zi()),r=e(Ra());let a=class extends r.default{constructor(c=n.default,o=[],l,d,u){super(),this.root=t.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},o=o.map(this.bufferify),this.hashFn=this.bufferifyFn(c),this.hashLeafFn=l,this.peakBaggingFn=d,this.hashBranchFn=u;for(const h of o)this.append(h)}append(c){c=this.bufferify(c);const o=this.hashFn(c),l=this.bufferToHex(o);(!this.data[l]||this.bufferToHex(this.hashFn(this.data[l]))!==l)&&(this.data[l]=c);const d=this.hashLeaf(this.size+1,o);this.hashes[this.size+1]=d,this.width+=1;const u=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const h=[];for(let f=0;f<u.length;f++)h[f]=this._getOrCreateNode(u[f]);this.root=this.peakBagging(this.width,h)}hashLeaf(c,o){return o=this.bufferify(o),this.hashLeafFn?this.bufferify(this.hashLeafFn(c,o)):this.hashFn(t.Buffer.concat([this.bufferify(c),o]))}hashBranch(c,o,l){return this.hashBranchFn?this.bufferify(this.hashBranchFn(c,o,l)):this.hashFn(t.Buffer.concat([this.bufferify(c),this.bufferify(o),this.bufferify(l)]))}getPeaks(){const c=this.getPeakIndexes(this.width),o=[];for(let l=0;l<c.length;l++)o[l]=this.hashes[c[l]];return o}getLeafIndex(c){return c%2===1?this.getSize(c):this.getSize(c-1)+1}getPeakIndexes(c){const o=this.numOfPeaks(c),l=[];let d=0,u=0;for(let h=255;h>0&&!((c&1<<h-1)!==0&&(u=u+(1<<h)-1,l[d++]=u,l.length>=o));h--);if(d!==l.length)throw new Error("invalid bit calculation");return l}numOfPeaks(c){let o=c,l=0;for(;o>0;)o%2===1&&l++,o=o>>1;return l}peakBagging(c,o){const l=this.getSize(c);if(this.numOfPeaks(c)!==o.length)throw new Error("received invalid number of peaks");return c===0&&!o.length?t.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(l,o)):this.hashFn(t.Buffer.concat([this.bufferify(l),...o.map(this.bufferify)]))}getSize(c){return(c<<1)-this.numOfPeaks(c)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(c){return this.hashes[c]}mountainHeight(c){let o=1;for(;1<<o<=c+o;)o++;return o-1}heightAt(c){let o=c,l=0,d=0;for(;o>l;)o-=(1<<d)-1,d=this.mountainHeight(o),l=(1<<d)-1;return d-(l-o)}isLeaf(c){return this.heightAt(c)===1}getChildren(c){const o=c-(1<<this.heightAt(c)-1),l=c-1;if(o===l)throw new Error("not a parent");return[o,l]}getMerkleProof(c){if(c>this.size)throw new Error("out of range");if(!this.isLeaf(c))throw new Error("not a leaf");const o=this.root,l=this.width,d=this.getPeakIndexes(this.width),u=[];let h=0;for(let g=0;g<d.length;g++)u[g]=this.hashes[d[g]],d[g]>=c&&h===0&&(h=d[g]);let f=0,m=0,x=this.heightAt(h);const p=[];for(;h!==c;)x--,[f,m]=this.getChildren(h),h=c<=f?f:m,p[x-1]=this.hashes[c<=f?m:f];return{root:o,width:l,peakBagging:u,siblings:p}}verify(c,o,l,d,u,h){if(d=this.bufferify(d),this.getSize(o)<l)throw new Error("index is out of range");if(!c.equals(this.peakBagging(o,u)))throw new Error("invalid root hash from the peaks");let m=0,x;const p=this.getPeakIndexes(o);for(let y=0;y<p.length;y++)if(p[y]>=l){x=u[y],m=p[y];break}if(!x)throw new Error("target not found");let g=h.length+1;const b=new Array(g);let v=0,w=0;for(;g>0&&(b[--g]=m,m!==l);)[v,w]=this.getChildren(m),m=l>v?w:v;let C;for(;g<b.length;)m=b[g],g===0?C=this.hashLeaf(m,this.hashFn(d)):m-1===b[g-1]?C=this.hashBranch(m,h[g-1],C):C=this.hashBranch(m,C,h[g-1]),g++;if(!C.equals(x))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(c,o){const l={};let d=0,u=0,h=o.length;for(let f=1;f<=32;f++)d=32-f,u=1<<f-1,(c&u)!==0?l[d]=o[--h]:l[d]=0;if(h!==0)throw new Error("invalid number of peaks");return l}peakMapToPeaks(c,o){const l=this.numOfPeaks(c),d=new Array(l);let u=0;for(let h=0;h<32;h++)o[h]!==0&&(d[u++]=o[h]);if(u!==l)throw new Error("invalid number of peaks");return d}peakUpdate(c,o,l){const d={},u=c+1;let h=this.getLeafIndex(u),f=this.hashLeaf(h,l),m=0,x=0,p=!1,g=!1,b=!1;for(let v=1;v<=32;v++)m=32-v,b?d[m]=o[m]:(x=1<<v-1,p=(c&x)!==0,g=(u&x)!==0,h++,p&&(f=this.hashBranch(h,o[m],f)),g?(p?d[m]=o[m]:d[m]=f,b=!0):d[m]=0);return d}rollUp(c,o,l,d){if(!c.equals(this.peakBagging(o,l)))throw new Error("invalid root hash from the peaks");let u=o,h=this.peaksToPeakMap(o,l);for(let f=0;f<d.length;f++)h=this.peakUpdate(u,h,d[f]),u++;return this.peakBagging(u,this.peakMapToPeaks(u,h))}_getOrCreateNode(c){if(c>this.size)throw new Error("out of range");if(!this.hashes[c]){const[o,l]=this.getChildren(c),d=this._getOrCreateNode(o),u=this._getOrCreateNode(l);this.hashes[c]=this.hashBranch(c,d,u)}return this.hashes[c]}};return Mr.MerkleMountainRange=a,typeof window<"u"&&(window.MerkleMountainRange=a),Mr.default=a,Mr}var zr={},cm;function W8(){if(cm)return zr;cm=1;var e=zr&&zr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.IncrementalMerkleTree=void 0;const t=e(Ra()),n=e(xb());let r=class extends t.default{constructor(i,c){if(super(),this.hashFn=i,c.depth&&(this.depth=c.depth),c.arity&&(this.arity=c.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const o=[];let l=c.zeroValue;if(this.zeroValue=l,this.zeroes=[],this.depth)for(let d=0;d<this.depth;d++)this.zeroes.push(l),o[d]=[],l=this.hashFn(Array(this.arity).fill(l));this.nodes=o,this.root=l}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(i){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let c=i,o=this.nodes[0].length;for(let l=0;l<this.depth;l+=1){const d=o%this.arity,u=o-d,h=u+this.arity,f=[];this.nodes[l][o]=c;for(let m=u;m<h;m+=1)m<this.nodes[l].length?f.push(this.nodes[l][m]):f.push(this.zeroes[l]);c=this.hashFn(f),o=Math.floor(o/this.arity)}this.root=c}delete(i){this.update(i,this.zeroValue)}update(i,c){if(i<0||i>=this.nodes[0].length)throw new Error("out of bounds");let o=c;for(let l=0;l<this.depth;l+=1){const d=i%this.arity,u=i-d,h=u+this.arity,f=[];this.nodes[l][i]=o;for(let m=u;m<h;m+=1)m<this.nodes[l].length?f.push(this.nodes[l][m]):f.push(this.zeroes[l]);o=this.hashFn(f),i=Math.floor(i/this.arity)}this.root=o}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(i){return this.nodes[0].indexOf(i)}getLeaves(){const i=this.copyList(this.nodes[0]),c=this.nodes[0].length;for(let o=c;o<this.getMaxLeaves();o++)i[o]=this.zeroValue;return i}copyList(i){return i.map(c=>BigInt(c))}getLayers(){const i=[];for(const c of this.nodes)i.push(this.copyList(c));if(i[0].length<this.getMaxLeaves()){let c=i[0].length;for(let o=c;o<this.getMaxLeaves();o++)i[0][o]=this.zeroValue;for(let o=0;o<this.depth;o++){const l=c%this.arity,d=c-l,u=d+this.arity;for(let h=d;h<u;h++)h>=i[o].length&&(i[o][h]=this.zeroes[o]);c=Math.floor(c/this.arity)}}return i.push([this.root]),i}getHexLayers(){return this.getLayers().reduce((i,c)=>(Array.isArray(c)?i.push(c.map(o=>this.bufferToHex(this.bufferify(o)))):i.push(c),i),[])}getLayersAsObject(){const i=this.getLayers().map(o=>o.map(l=>this.bufferToHex(this.bufferify(l),!1))),c=[];for(let o=0;o<i.length;o++){const l=[];for(let d=0;d<i[o].length;d++){const u={[i[o][d]]:null};if(c.length){u[i[o][d]]={};const h=c.shift(),f=Object.keys(h)[0];if(u[i[o][d]][f]=h[f],c.length){const m=c.shift(),x=Object.keys(m)[0];u[i[o][d]][x]=m[x]}}l.push(u)}c.push(...l)}return c[0]}computeRoot(){let i,c=this.nodes[0].length;for(let o=0;o<this.depth;o+=1){const l=c%this.arity,d=c-l,u=d+this.arity,h=[];for(let f=d;f<u;f+=1)f<this.nodes[o].length?h.push(this.nodes[o][f]):h.push(this.zeroes[o]);i=this.hashFn(h),c=Math.floor(c/this.arity)}return i}getProof(i){if(i<0||i>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const c=[],o=[],l=i;for(let d=0;d<this.depth;d+=1){const u=i%this.arity,h=i-u,f=h+this.arity;o[d]=u,c[d]=[];for(let m=h;m<f;m+=1)m!==i&&(m<this.nodes[d].length?c[d].push(this.nodes[d][m]):c[d].push(this.zeroes[d]));i=Math.floor(i/this.arity)}return{root:this.root,leaf:this.nodes[0][l],pathIndices:o,siblings:c}}verify(i){let c=i.leaf;for(let o=0;o<i.siblings.length;o+=1){const l=i.siblings[o].slice();l.splice(i.pathIndices[o],0,c),c=this.hashFn(l)}return i.root===c}toString(){return this.toTreeString()}toTreeString(){const i=this.getLayersAsObject();return n.default.asTree(i,!0)}};return zr.IncrementalMerkleTree=r,typeof window<"u"&&(window.IncrementalMerkleTree=r),zr.default=r,zr}var Fn={},lm;function H8(){if(lm)return Fn;lm=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.MerkleSumTree=Fn.ProofStep=Fn.Leaf=Fn.Bucket=void 0;const e=Ra();class t{constructor(c,o){this.size=BigInt(c),this.hashed=o,this.parent=null,this.left=null,this.right=null}}Fn.Bucket=t;class n{constructor(c,o,l){this.hashFn=c,this.rng=o.map(d=>BigInt(d)),this.data=l}getBucket(){let c;return this.data?c=this.hashFn(this.data):c=Buffer.alloc(32),new t(BigInt(this.rng[1])-BigInt(this.rng[0]),c)}}Fn.Leaf=n;class r{constructor(c,o){this.bucket=c,this.right=o}}Fn.ProofStep=r;let a=class yb extends e.Base{constructor(c,o){super(),this.leaves=c,this.hashFn=o,yb.checkConsecutive(c),this.buckets=[];for(const d of c)this.buckets.push(d.getBucket());let l=[];for(const d of this.buckets)l.push(d);for(;l.length!==1;){const d=[];for(;l.length;)if(l.length>=2){const u=l.shift(),h=l.shift(),f=u.size+h.size,m=this.hashFn(Buffer.concat([this.sizeToBuffer(u.size),this.bufferify(u.hashed),this.sizeToBuffer(h.size),this.bufferify(h.hashed)])),x=new t(f,m);h.parent=x,u.parent=h.parent,u.right=h,h.left=u,d.push(x)}else d.push(l.shift());l=d}this.root=l[0]}sizeToBuffer(c){const o=Buffer.alloc(8);return new DataView(o.buffer).setBigInt64(0,BigInt(c),!1),o}static checkConsecutive(c){let o=BigInt(0);for(const l of c){if(l.rng[0]!==o)throw new Error("leaf ranges are invalid");o=BigInt(l.rng[1])}}getProof(c){let o=this.buckets[Number(c)];const l=[];for(;o&&o.parent;){const d=!!o.right,u=o.right?o.right:o.left;o=o.parent,l.push(new r(u,d))}return l}sum(c){let o=BigInt(0);for(const l of c)o+=BigInt(l);return o}verifyProof(c,o,l){const d=[this.sum(l.filter(f=>!f.right).map(f=>f.bucket.size)),BigInt(c.size)-this.sum(l.filter(f=>f.right).map(f=>f.bucket.size))];if(!(d[0]===o.rng[0]&&d[1]===o.rng[1]))return!1;let u=o.getBucket(),h;for(const f of l)f.right?h=this.hashFn(Buffer.concat([this.sizeToBuffer(u.size),this.bufferify(u.hashed),this.sizeToBuffer(f.bucket.size),this.bufferify(f.bucket.hashed)])):h=this.hashFn(Buffer.concat([this.sizeToBuffer(f.bucket.size),this.bufferify(f.bucket.hashed),this.sizeToBuffer(u.size),this.bufferify(u.hashed)])),u=new t(BigInt(u.size)+BigInt(f.bucket.size),h);return u.size===c.size&&u.hashed.toString("hex")===c.hashed.toString("hex")}};return Fn.MerkleSumTree=a,typeof window<"u"&&(window.MerkleSumTree=a),Fn.default=a,Fn}var us={},dm;function q8(){if(dm)return us;dm=1;var e=us&&us.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(us,"__esModule",{value:!0}),us.MerkleRadixTree=void 0;const t=e(Ra());class n{constructor(i="",c=null,o){this.key=i,this.value=c,this.children=new Map,this.hashFn=o,this.hash=this.computeHash()}computeHash(){let i=this.hashFn("");i=Buffer.concat([i,t.default.bufferify(this.key),this.value!=null?t.default.bufferify(this.value):Buffer.alloc(0)]);for(const o of this.children.values())i=Buffer.concat([i,o.hash]);return this.hashFn(i)}updateHash(){this.hash=this.computeHash()}}let r=class extends t.default{constructor(i){super(),this.hashFn=this.bufferifyFn(i),this.root=new n("",null,this.hashFn)}insert(i,c){let o=this.root,l=0;for(;i.length>0;){const d=[...o.children.values()].find(u=>i.startsWith(u.key));if(!d){o.children.set(i,new n(i,c,this.hashFn)),o.updateHash();return}if(l=this.commonPrefixLength(i,d.key),l===d.key.length)o=d,i=i.slice(l);else{const u=i.slice(0,l),h=d.key.slice(l),f=new n(u,null,this.hashFn);if(o.children.delete(d.key),o.children.set(u,f),f.children.set(h,d),d.key=h,l<i.length){const m=i.slice(l);f.children.set(m,new n(m,c,this.hashFn))}else f.value=c;o.updateHash(),f.updateHash();return}}o.value=c,o.updateHash()}lookup(i){let c=this.root;for(;i.length>0;){const o=[...c.children.values()].find(d=>i.startsWith(d.key));if(!o)return null;const l=this.commonPrefixLength(i,o.key);if(l===o.key.length)c=o,i=i.slice(l);else return null}return c.value}commonPrefixLength(i,c){let o=0;for(;o<i.length&&o<c.length&&i[o]===c[o];)o++;return o}generateProof(i){let c=this.root;const o=[];for(;i.length>0;){const l=[];for(const h of c.children.values())h.key!==i&&l.push({key:h.key,hash:h.hash});o.push({key:c.key,hash:c.hash,siblings:l});const d=[...c.children.values()].find(h=>i.startsWith(h.key));if(!d)return null;const u=this.commonPrefixLength(i,d.key);if(u===d.key.length)c=d,i=i.slice(u);else return null}return o.push({key:c.key,hash:c.hash,siblings:[]}),o}verifyProof(i,c){if(!i||i.length===0)return!1;let o=i[i.length-1].hash;for(let l=i.length-2;l>=0;l--){const d=i[l];let u=Buffer.concat([this.hashFn(""),this.bufferify(d.key),o]);for(const h of d.siblings)u=Buffer.concat([u,h.hash]);o=this.hashFn(u)}return o.equals(c)}};return us.MerkleRadixTree=r,us}var hd={},um;function G8(){return um||(um=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UnifiedBinaryTree=e.InternalNode=e.StemNode=e.chunkifyCode=e.getTreeKeyForCodeChunk=e.getTreeKeyForStorageSlot=e.getTreeKeyForCodeHash=e.getTreeKeyForBasicData=e.getTreeKey=e.treeHash=e.oldStyleAddressToAddress32=e.push32=e.push1=e.pushOffset=e.MAIN_STORAGE_OFFSET=e.STEM_SUBTREE_WIDTH=e.CODE_OFFSET=e.HEADER_STORAGE_OFFSET=e.CODE_HASH_LEAF_KEY=e.BASIC_DATA_LEAF_KEY=void 0;const t=rl(),n=Ra();e.BASIC_DATA_LEAF_KEY=0,e.CODE_HASH_LEAF_KEY=1,e.HEADER_STORAGE_OFFSET=64,e.CODE_OFFSET=128,e.STEM_SUBTREE_WIDTH=256,e.MAIN_STORAGE_OFFSET=256,e.pushOffset=95,e.push1=e.pushOffset+1,e.push32=e.pushOffset+32;function r(p){if(p.length!==20)throw new Error("Address must be 20 bytes.");return t.Buffer.concat([t.Buffer.alloc(12,0),p])}e.oldStyleAddressToAddress32=r;function a(p,g){return i(g)(p)}e.treeHash=a;function i(p){return n.Base.bufferifyFn(p)}function c(p,g,b,v){if(p.length!==32)throw new Error("Address must be 32 bytes.");const w=i(v),C=t.Buffer.alloc(32,0);C.writeUInt32LE(g,0);const y=w(t.Buffer.concat([p,C]),v).subarray(0,31);return t.Buffer.concat([y,t.Buffer.from([b])])}e.getTreeKey=c;function o(p,g){return c(p,0,e.BASIC_DATA_LEAF_KEY,g)}e.getTreeKeyForBasicData=o;function l(p,g){return c(p,0,e.CODE_HASH_LEAF_KEY,g)}e.getTreeKeyForCodeHash=l;function d(p,g,b){let v;return g<e.CODE_OFFSET-e.HEADER_STORAGE_OFFSET?v=e.HEADER_STORAGE_OFFSET+g:v=e.MAIN_STORAGE_OFFSET+g,c(p,Math.floor(v/e.STEM_SUBTREE_WIDTH),v%e.STEM_SUBTREE_WIDTH,b)}e.getTreeKeyForStorageSlot=d;function u(p,g,b){const v=e.CODE_OFFSET+g;return c(p,Math.floor(v/e.STEM_SUBTREE_WIDTH),v%e.STEM_SUBTREE_WIDTH,b)}e.getTreeKeyForCodeChunk=u;function h(p){const g=p.length%31;g!==0&&(p=t.Buffer.concat([p,t.Buffer.alloc(31-g,0)]));const b=new Array(p.length+32).fill(0);let v=0;for(;v<p.length;){const C=p[v];let y=0;C>=e.push1&&C<=e.push32&&(y=C-e.pushOffset),v+=1;for(let E=0;E<y;E++)b[v+E]=y-E;v+=y}const w=[];for(let C=0;C<p.length;C+=31){const y=Math.min(b[C],31),E=t.Buffer.concat([t.Buffer.from([y]),p.slice(C,C+31)]);w.push(E)}return w}e.chunkifyCode=h;class f{constructor(g){if(this.nodeType="stem",g.length!==31)throw new Error("Stem must be 31 bytes.");this.stem=g,this.values=new Array(256).fill(null)}setValue(g,b){if(b.length!==32)throw new Error("Value must be 32 bytes.");this.values[g]=b}}e.StemNode=f;class m{constructor(){this.left=null,this.right=null,this.nodeType="internal"}}e.InternalNode=m;class x{constructor(g){this.root=null,this.hashFn=n.Base.bufferifyFn(g)}insert(g,b){if(g.length!==32)throw new Error("Key must be 32 bytes.");if(b.length!==32)throw new Error("Value must be 32 bytes.");const v=g.slice(0,31),w=g[31];if(this.root===null){this.root=new f(v),this.root.setValue(w,b);return}this.root=this.insertRecursive(this.root,v,w,b,0)}insertRecursive(g,b,v,w,C){if(C>=248)throw new Error("Depth must be less than 248.");if(g===null){const E=new f(b);return E.setValue(v,w),E}const y=this.bytesToBits(b);if(g instanceof f){if(g.stem.equals(b))return g.setValue(v,w),g;const E=this.bytesToBits(g.stem);return this.splitLeaf(g,y,E,v,w,C)}else return y[C]===0?g.left=this.insertRecursive(g.left,b,v,w,C+1):g.right=this.insertRecursive(g.right,b,v,w,C+1),g}bytesToBits(g){const b=[];for(const v of g)for(let w=0;w<8;w++)b.push(v>>7-w&1);return b}bitsToBytes(g){if(g.length%8!==0)throw new Error("Number of bits must be a multiple of 8.");const b=[];for(let v=0;v<g.length;v+=8){let w=0;for(let C=0;C<8;C++)w|=g[v+C]<<7-C;b.push(w)}return t.Buffer.from(b)}hashData(g){const b=t.Buffer.alloc(64,0),v=t.Buffer.alloc(32,0);if(g===null||g.equals(b))return v;if(g.length!==32&&g.length!==64)throw new Error("Data must be 32 or 64 bytes.");return this.hashFn(g)}merkelize(){const g=b=>{const v=t.Buffer.alloc(32,0);if(b===null)return v;if(b instanceof m){const C=g(b.left),y=g(b.right);return this.hashData(t.Buffer.concat([C,y]))}const w=b.values.map(C=>this.hashData(C));for(;w.length>1;){const C=[];for(let y=0;y<w.length;y+=2)C.push(this.hashData(t.Buffer.concat([w[y],w[y+1]])));w.splice(0,w.length,...C)}return this.hashData(t.Buffer.concat([b.stem,t.Buffer.from([0]),w[0]]))};return g(this.root)}update(g,b){this.insert(g,b)}insertBatch(g){for(const{key:b,value:v}of g)this.insert(b,v)}serialize(){function g(v){return v?v instanceof f?{nodeType:"stem",stem:v.stem.toString("hex"),values:v.values.map(w=>w?w.toString("hex"):null)}:{nodeType:"internal",left:g(v.left),right:g(v.right)}:null}const b={root:g(this.root)};return t.Buffer.from(JSON.stringify(b),"utf8")}static deserialize(g,b){const v=JSON.parse(g.toString("utf8"));function w(y){if(y===null)return null;if(y.nodeType==="stem"){const E=new f(t.Buffer.from(y.stem,"hex"));return E.values=y.values.map(S=>S!==null?t.Buffer.from(S,"hex"):null),E}else if(y.nodeType==="internal"){const E=new m;return E.left=w(y.left),E.right=w(y.right),E}return null}const C=new x(b);return C.root=w(v.root),C}splitLeaf(g,b,v,w,C,y){if(b[y]===v[y]){const E=new m;return b[y]===0?E.left=this.splitLeaf(g,b,v,w,C,y+1):E.right=this.splitLeaf(g,b,v,w,C,y+1),E}else{const E=new m,S=b[y],R=this.bitsToBytes(b),I=new f(R);return I.setValue(w,C),S===0?(E.left=I,E.right=g):(E.right=I,E.left=g),E}}}e.UnifiedBinaryTree=x}(hd)),hd}var hm;function V8(){return hm||(hm=1,function(e){var t=qa&&qa.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.MerkleTree=void 0;const n=t(U8());e.MerkleTree=n.default;var r=$8();Object.defineProperty(e,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var a=W8();Object.defineProperty(e,"IncrementalMerkleTree",{enumerable:!0,get:function(){return a.IncrementalMerkleTree}});var i=H8();Object.defineProperty(e,"MerkleSumTree",{enumerable:!0,get:function(){return i.MerkleSumTree}});var c=q8();Object.defineProperty(e,"MerkleRadixTree",{enumerable:!0,get:function(){return c.MerkleRadixTree}});var o=G8();Object.defineProperty(e,"UnifiedBinaryTree",{enumerable:!0,get:function(){return o.UnifiedBinaryTree}}),e.default=n.default}(qa)),qa}var wb=V8();const n0=e=>{try{return lu(e.trim())}catch(t){return console.warn("Invalid address:",e,t),e.trim().toLowerCase()}},fm=e=>{const t=n0(e);return Ja(xd(["address"],[t]))},Cb=e=>{console.log("üîß === GENERATE MERKLE DATA DEBUG ==="),console.log("Original addresses:",e);const t=e.map(n0);console.log("Normalized addresses:",t);const n=t.map(fm);console.log("Generated leaves:",n);const r=new wb.MerkleTree(n,Ja,{sortPairs:!0}),a=r.getHexRoot(),i={};return console.log("Generating proofs for each address:"),t.forEach(c=>{const o=fm(c),l=r.getHexProof(o);i[c]=l,console.log(`  ${c}:`,l)}),console.log("Final root:",a),console.log("Final proofs object:",i),console.log("üîß === END GENERATE MERKLE DATA DEBUG ==="),{root:a,proofs:i,tree:r}},Y8=e=>{try{return lu(e),!0}catch{return!1}},Z8=e=>{const t=[],n=[];return e.forEach(r=>{Y8(r)?t.push(n0(r)):n.push(r)}),{valid:t,invalid:n}},K8=({collection:e})=>{const[t,n]=N.useState("Whitelist"),[r,a]=N.useState([]),[i,c]=N.useState(""),[o,l]=N.useState([]),[d,u]=N.useState(0),[h,f]=N.useState({visible:!1,message:"",type:"success"});N.useEffect(()=>{if(h.visible){const y=setTimeout(()=>f(E=>({...E,visible:!1})),3e3);return()=>clearTimeout(y)}},[h.visible]);const m=(y,E="success")=>{f({visible:!0,message:y,type:E})};N.useEffect(()=>{if(!e?.address)return;const y=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{};u(y[t]?.allocated||0);const E=`${e.address}_${t}_whitelist`,S=JSON.parse(localStorage.getItem(E))||[];l(S)},[e?.address,t]);const x=y=>{const E=y.target.files[0];if(E){const S=new FileReader;S.onload=R=>{const T=R.target.result.split(/\r?\n/).filter(Boolean);a(T)},S.readAsText(E)}},p=y=>{const S=y.target.value.split(/\r?\n/).filter(Boolean);a(S)},g=()=>{const y=t==="Public",E=o.length+r.length,{valid:S,invalid:R}=Z8(r);if(R.length>0){m(`‚ùå Invalid addresses found: ${R.join(", ")}`,"error");return}if(!y&&E>d){m(`‚ùå Too many addresses! Allocated: ${d}, Already saved: ${o.length}, New: ${r.length}`,"error");return}const I=Array.from(new Set([...o,...S])),T=`${e.address}_${t}_whitelist`;localStorage.setItem(T,JSON.stringify(I)),l(I),a([]),m(`‚úÖ Saved ${I.length} addresses for ${t}`),b(I),!y&&I.length>0&&v(I)},b=y=>{if(y.length===0)return;const{root:E,proofs:S}=Cb(y),R=`${e.address}_${t}_merkle_root`,I=`${e.address}_${t}_merkle_proofs`;localStorage.setItem(R,E),localStorage.setItem(I,JSON.stringify(S)),console.log("‚úÖ Merkle root and proofs saved for",t)},v=async y=>{try{const E=await fetch("/api/whitelist/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collection:e.address,phase:t,addresses:y})});if(E.ok){const S=await E.json(),R=`${e.address}_${t}_whitelist_ipfs`;localStorage.setItem(R,S.data.ipfsUrl),m(`üåê Whitelist also saved to IPFS (${S.data.addressCount} addresses)`)}else m("‚ö†Ô∏è Local storage saved, but IPFS backup failed","warning")}catch(E){console.error("‚ùå Server save failed:",E),m("‚ö†Ô∏è Local storage saved, but IPFS backup failed","warning")}},w=y=>{const E=o.filter(R=>R!==y);l(E);const S=`${e.address}_${t}_whitelist`;localStorage.setItem(S,JSON.stringify(E)),m(`‚úÖ Removed ${y}`),b(E)},C=o.filter(y=>y.toLowerCase().includes(i.toLowerCase()));return e?s.jsxs("div",{className:"space-y-6 pb-24",children:[s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Phase"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>n("Whitelist"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t==="Whitelist"?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:"Whitelist"}),s.jsx("button",{onClick:()=>n("FCFS"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t==="FCFS"?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:"FCFS"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:o.length}),s.jsx("div",{className:"text-sm text-zinc-400",children:"Total Addresses"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:d}),s.jsx("div",{className:"text-sm text-zinc-400",children:"Allocated Slots"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[s.jsx("div",{className:"text-2xl font-bold text-pink-400",children:r.length}),s.jsx("div",{className:"text-sm text-zinc-400",children:"New Addresses"})]})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Add Addresses"}),s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg cursor-pointer transition-colors duration-200",children:[s.jsx(Lc,{className:"w-4 h-4"}),"Upload CSV/TXT File",s.jsx("input",{type:"file",accept:".csv,.txt",onChange:x,className:"hidden"})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Manual Input (one address per line)"}),s.jsx("textarea",{value:r.join(`
`),onChange:p,placeholder:"0x1234...\\n0x5678...\\n0x9abc...",className:"w-full h-32 p-3 bg-zinc-900 border border-zinc-700 rounded-lg text-white placeholder-zinc-500 resize-none"})]}),s.jsx("button",{onClick:g,disabled:r.length===0,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Addresses"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Saved Addresses"}),s.jsx("input",{type:"text",placeholder:"Search addresses...",value:i,onChange:y=>c(y.target.value),className:"px-3 py-1 bg-zinc-900 border border-zinc-700 rounded-lg text-white placeholder-zinc-500 text-sm"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:C.map((y,E)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900 rounded-lg",children:[s.jsx("span",{className:"text-sm font-mono text-zinc-300",children:y}),s.jsx("button",{onClick:()=>w(y),className:"text-red-400 hover:text-red-300 transition-colors duration-200",children:s.jsx(CE,{className:"w-4 h-4"})})]},E))})]}),h.visible&&s.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 ${h.type==="success"?"bg-green-500":h.type==="error"?"bg-red-500":"bg-yellow-500"} text-white`,children:h.message})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})},J8=({imageUrl:e,onSave:t,onCancel:n,initialPosition:r="center center",initialFit:a="cover"})=>{const[i,c]=N.useState({x:50,y:50,width:100,height:100}),[o,l]=N.useState(!1),[d,u]=N.useState({x:0,y:0}),[h,f]=N.useState(1),[m,x]=N.useState(0),[p,g]=N.useState(a),[b,v]=N.useState({width:0,height:0}),[w,C]=N.useState([]),y=N.useRef(null),E=N.useRef(null),S=[{name:"Desktop Banner",width:1200,height:400,ratio:3,description:"–û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞"},{name:"Mobile Banner",width:800,height:300,ratio:2.67,description:"–î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤"},{name:"Wide Banner",width:1600,height:400,ratio:4,description:"–®–∏—Ä–æ–∫–∏–π —Ñ–æ—Ä–º–∞—Ç"},{name:"Square Banner",width:800,height:800,ratio:1,description:"–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç"}];N.useEffect(()=>{if(r){const[z,$]=r.split(" "),ne=z==="left"?0:z==="right"?100:50,B=$==="top"?0:$==="bottom"?100:50;c(H=>({...H,x:ne,y:B}))}},[r]),N.useEffect(()=>{g(a)},[a]),N.useEffect(()=>{if(e){const z=new Image;z.onload=()=>{const $={width:z.naturalWidth,height:z.naturalHeight};v($);const ne=$.width/$.height,B=[];S.forEach(H=>{const W=Math.abs(ne-H.ratio);B.push({...H,score:W,isOptimal:W<.5})}),B.sort((H,W)=>H.score-W.score),C(B)},z.src=e}},[e]);const R=z=>{if(!y.current)return;const $=y.current.getBoundingClientRect(),ne=(z.clientX-$.left)/$.width*100,B=(z.clientY-$.top)/$.height*100;l(!0),u({x:ne,y:B})},I=z=>{if(!o||!y.current)return;const $=y.current.getBoundingClientRect(),ne=(z.clientX-$.left)/$.width*100,B=(z.clientY-$.top)/$.height*100,H=(ne-d.x)/h,W=(B-d.y)/h;c(q=>({...q,x:Math.max(0,Math.min(100,q.x+H)),y:Math.max(0,Math.min(100,q.y+W))})),u({x:ne,y:B})},T=()=>{l(!1)},M=()=>{f(z=>Math.min(3,z+.1))},P=()=>{f(z=>Math.max(.5,z-.1))},F=()=>{x(z=>(z+90)%360)},k=()=>{c({x:50,y:50,width:100,height:100}),f(1),x(0),g("cover")},D=()=>{if(b.width&&b.height){const z=b.width/b.height;z>3?(g("cover"),f(.8)):z<1?(g("cover"),f(1.2)):(g("cover"),f(1)),c({x:50,y:50,width:100,height:100}),x(0)}},L=()=>{const z=i.x<25?"left":i.x>75?"right":"center",$=i.y<25?"top":i.y>75?"bottom":"center";return`${z} ${$}`},G=()=>{const z=L();t({position:z,fit:p,cropArea:i,zoom:h,rotation:m,imageSize:b})};return s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-6xl w-full max-h-[90vh] animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Banner Crop Editor"}),s.jsx("button",{onClick:n,className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:28})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[s.jsx(FE,{size:16}),s.jsx("span",{className:"text-sm",children:"Zoom In"})]}),s.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[s.jsx(DE,{size:16}),s.jsx("span",{className:"text-sm",children:"Zoom Out"})]}),s.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[s.jsx(mE,{size:16}),s.jsx("span",{className:"text-sm",children:"Rotate"})]}),s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[s.jsx(tE,{size:16}),s.jsx("span",{className:"text-sm",children:"Reset"})]}),s.jsx("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500/20 to-pink-500/20 hover:from-blue-500/30 hover:to-pink-500/30 rounded-lg transition-all duration-300",children:s.jsx("span",{className:"text-sm text-blue-400",children:"Auto Optimize"})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-zinc-400",children:"Fit:"}),s.jsxs("select",{value:p,onChange:z=>g(z.target.value),className:"bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-1 text-sm",children:[s.jsx("option",{value:"cover",children:"Cover"}),s.jsx("option",{value:"contain",children:"Contain"})]})]}),s.jsxs("div",{className:"text-sm text-zinc-400",children:["Zoom: ",Math.round(h*100),"%"]})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{ref:y,className:"relative w-full h-96 bg-zinc-800 rounded-2xl overflow-hidden cursor-move",onMouseDown:R,onMouseMove:I,onMouseUp:T,onMouseLeave:T,children:[s.jsx("div",{className:"relative w-full h-full",style:{transform:`scale(${h})`,transformOrigin:"center center"},children:s.jsx("img",{ref:E,src:e,alt:"Banner",className:`w-full h-full object-${p} transition-all duration-300`,style:{transform:`rotate(${m}deg)`,objectPosition:`${i.x}% ${i.y}%`}})}),s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0 bg-black/30"}),s.jsx("div",{className:"absolute inset-0 border-2 border-white/50 border-dashed"})]}),s.jsx("div",{className:"absolute w-4 h-4 bg-pink-500 rounded-full border-2 border-white shadow-lg pointer-events-none",style:{left:`${i.x}%`,top:`${i.y}%`,transform:"translate(-50%, -50%)"}})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-sm text-zinc-400",children:["Drag to move the focus point ‚Ä¢ Use zoom to see more of the original image ‚Ä¢ Current position: ",s.jsx("span",{className:"text-pink-400 font-mono",children:L()})]})})]}),s.jsxs("div",{className:"w-80",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),s.jsx("div",{className:"w-full h-48 bg-zinc-800 rounded-2xl overflow-hidden",children:s.jsx("img",{src:e,alt:"Banner Preview",className:`w-full h-full object-${p}`,style:{objectPosition:`${i.x}% ${i.y}%`,transform:`scale(${h}) rotate(${m}deg)`,transformOrigin:"center center"}})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Position"}),s.jsx("div",{className:"text-white font-mono",children:L()})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Fit"}),s.jsx("div",{className:"text-white capitalize",children:p})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Zoom"}),s.jsxs("div",{className:"text-white",children:[Math.round(h*100),"%"]})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Image Size"}),s.jsxs("div",{className:"text-white",children:[b.width," √ó ",b.height]})]}),w.length>0&&s.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-2",children:"Recommendations"}),s.jsx("div",{className:"space-y-2",children:w.slice(0,2).map((z,$)=>s.jsxs("div",{className:`text-xs p-2 rounded ${z.isOptimal?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[s.jsx("div",{className:"font-medium",children:z.name}),s.jsxs("div",{className:"text-xs opacity-75",children:[z.width," √ó ",z.height]}),s.jsx("div",{className:"text-xs opacity-75",children:z.description})]},$))})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 mt-6 pt-6 border-t border-zinc-700/30",children:[s.jsx("button",{onClick:n,className:"px-6 py-3 bg-zinc-700 hover:bg-zinc-600 text-white rounded-xl transition-colors",children:"Cancel"}),s.jsx("button",{onClick:G,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Save Banner Settings"})]})]})]})})},fd=new Map,X8=300*1e3,Q8=({collection:e})=>{const[t,n]=N.useState({website:"",twitter:"",discord:""}),[r,a]=N.useState([]),[i,c]=N.useState(!1),[o,l]=N.useState(null),[d,u]=N.useState(!1),[h,f]=N.useState(!1),[m,x]=N.useState({visible:!1,message:"",type:"success"}),[p,g]=N.useState(null),[b,v]=N.useState(""),[w,C]=N.useState("center center"),[y,E]=N.useState("contain"),[S,R]=N.useState(1),[I,T]=N.useState(!1),[M,P]=N.useState(!1),[F,k]=N.useState(!1);N.useEffect(()=>{if(m.visible){const X=setTimeout(()=>x(ie=>({...ie,visible:!1})),3e3);return()=>clearTimeout(X)}},[m.visible]);const D=(X,ie="success")=>{x({visible:!0,message:X,type:ie})},L=X=>{if(!X)return"";if(typeof X=="string")return X;if(typeof X=="object"){const ie=X.gatewayUrl||X.url||X.cid||"";return console.log("üîß Extracted banner URL from object:",ie),ie}return console.warn("üîß Invalid banner URL type:",typeof X,X),""},G=async()=>{if(e)try{const X=localStorage.getItem(`collection_${e.address}_banner`);if(X)try{const oe=JSON.parse(X);typeof oe=="object"&&!oe.gatewayUrl&&!oe.url&&!oe.cid&&(console.log("üßπ Cleaning up corrupted banner data"),localStorage.removeItem(`collection_${e.address}_banner`))}catch{}const ie=localStorage.getItem(`collection_${e.address}_banner`);if(console.log("üîç Loading saved banner from localStorage:",ie),ie)try{const oe=JSON.parse(ie),V=L(oe);v(V),console.log("‚úÖ Set banner URL from localStorage (parsed):",V)}catch{const V=L(ie);v(V),console.log("‚úÖ Set banner URL from localStorage (string):",V)}const fe=localStorage.getItem(`collection_${e.address}_banner_position`);console.log("üîç Loading saved banner position from localStorage:",fe),fe&&(C(fe),console.log("‚úÖ Set banner position from localStorage:",fe));const xe=localStorage.getItem(`collection_${e.address}_banner_fit`);console.log("üîç Loading saved banner fit from localStorage:",xe),xe&&(E(xe),console.log("‚úÖ Set banner fit from localStorage:",xe));const A=localStorage.getItem(`collection_${e.address}_banner_zoom`);console.log("üîç Loading saved banner zoom from localStorage:",A),A&&(R(parseFloat(A)),console.log("‚úÖ Set banner zoom from localStorage:",A));const ae=JSON.parse(localStorage.getItem(`collection_${e.address}_social`)||"{}");n(ae)}catch(X){console.error("Error loading collection data:",X)}};N.useEffect(()=>{G(),z()},[e]);const z=async()=>{if(!e){console.log("‚ùå No collection provided to loadCollectionNFTs");return}console.log("üîÑ Starting loadCollectionNFTs for collection:",e.address);const X=`${e.address}_preview`,ie=fd.get(X);if(ie&&Date.now()-ie.timestamp<X8){console.log("üì¶ Using cached preview data"),a(ie.data);return}try{c(!0),console.log("üîÑ Loading collection preview...");const fe=`collection_${e.address}_nfts`;console.log("üîç Looking for NFTs in localStorage with key:",fe);const xe=JSON.parse(localStorage.getItem(fe)||"[]");console.log("üì¶ Found NFTs in localStorage:",xe.length,"NFTs"),console.log("üìã First few NFTs:",xe.slice(0,3));const A=localStorage.getItem(fe);if(console.log("üîç Raw localStorage data:",A),console.log("üîç Raw data length:",A?A.length:0),xe.length>0){console.log("üì¶ Found NFTs in localStorage, processing images..."),console.log("üìã Sample NFT structure:",xe[0]);const oe=(await Promise.all(xe.map(async(V,Y)=>{console.log(`üìù Processing NFT ${Y+1}/${xe.length}:`,V.name,"Image:",V.image);try{if(V.image?.startsWith("ipfs://"))return console.log(`üîÑ Converting IPFS image for ${V.name}`),{...V,imageUrl:At(V.image)[0],index:Y,name:V.name||`${e.name} #${Y+1}`,description:V.description||`NFT #${Y+1} from ${e.name}`};if(!V.image&&V.tokenURI){console.log(`üîÑ Fetching metadata for ${V.name} from tokenURI`);try{const se=At(V.tokenURI),pe=await ki(se);return console.log(`‚úÖ Metadata fetched for ${V.name}:`,pe.name),{...V,imageUrl:pe.image?At(pe.image)[0]:e.cover||"/default-nft.png",index:Y,name:V.name||`${e.name} #${Y+1}`,description:V.description||`NFT #${Y+1} from ${e.name}`}}catch(se){return console.error(`‚ùå Failed to fetch metadata for ${V.name}:`,se.message),{...V,imageUrl:e.cover||"/default-nft.png",index:Y,name:V.name||`${e.name} #${Y+1}`,description:V.description||`NFT #${Y+1} from ${e.name}`}}}return V.image&&!V.image.startsWith("ipfs://")?(console.log(`‚úÖ NFT ${V.name} has direct image URL:`,V.image),{...V,imageUrl:V.image,index:Y,name:V.name||`${e.name} #${Y+1}`,description:V.description||`NFT #${Y+1} from ${e.name}`}):(console.log(`‚ö†Ô∏è Using fallback image for ${V.name}`),{...V,imageUrl:e.cover||"/default-nft.png",index:Y,name:V.name||`${e.name} #${Y+1}`,description:V.description||`NFT #${Y+1} from ${e.name}`})}catch(se){return console.error(`‚ùå Error processing NFT ${V.name}:`,se),{...V,imageUrl:e.cover||"/default-nft.png",index:Y,name:V.name||`${e.name} #${Y+1}`,description:V.description||`NFT #${Y+1} from ${e.name}`}}}))).slice(0,20);console.log("üéØ Final preview NFTs:",oe.length,"NFTs"),console.log("üìã Preview NFTs with imageUrl:",oe.map(V=>({name:V.name,imageUrl:V.imageUrl}))),fd.set(X,{data:oe,timestamp:Date.now()}),a(oe),console.log("‚úÖ Preview loaded successfully:",oe.length,"NFTs")}else{console.log("üì≠ No NFTs found in localStorage"),console.log("üîç Checking if localStorage key exists but is empty...");const ae=Object.keys(localStorage),oe=ae.filter(Y=>Y.includes(e.address));console.log("üîç All localStorage keys for this collection:",oe);const V=ae.filter(Y=>Y.includes("nfts"));console.log("üîç All NFT-related keys in localStorage:",V),a([])}}catch(fe){console.error("‚ùå Error loading collection preview:",fe),D("Failed to load collection preview","error")}finally{c(!1)}};N.useEffect(()=>{e&&z()},[e]);const $=async X=>{const ie=X.target.files[0];if(!ie)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ie.type)){D("Please select a valid image file (JPG, PNG, GIF, WebP)","error");return}const xe=10*1024*1024;if(ie.size>xe){D("File size too large. Please select a file smaller than 10MB","error");return}try{c(!0),D("Uploading banner...","info"),console.log("üì§ Uploading banner file:",ie.name,ie.size,ie.type);const A=await Ip(ie);console.log("‚úÖ Banner uploaded successfully:",A),console.log("üîó Upload result type:",typeof A),console.log("üîó Upload result keys:",Object.keys(A||{}));const ae=A.gatewayUrl||A.url||A.cid;if(console.log("üîó Extracted banner URL:",ae),console.log("üîó Banner URL type:",typeof ae),!ae)throw console.error("‚ùå No URL in upload response:",A),new Error("No URL returned from upload. Please try again.");const oe=L(ae);v(oe),localStorage.setItem(`collection_${e.address}_banner`,oe),console.log("üíæ Saved banner URL to localStorage:",oe),D("Banner uploaded successfully!","success")}catch(A){console.error("‚ùå Error uploading banner:",A),D(`Failed to upload banner: ${A.message}`,"error")}finally{c(!1)}},ne=X=>{C(X),localStorage.setItem(`collection_${e.address}_banner_position`,X),console.log("üíæ Saved banner position:",X)},B=X=>{E(X),localStorage.setItem(`collection_${e.address}_banner_fit`,X),console.log("üíæ Saved banner fit:",X)},H=X=>{R(X),localStorage.setItem(`collection_${e.address}_banner_zoom`,X.toString()),console.log("üíæ Saved banner zoom:",X)},W=X=>{C(X.position),E(X.fit),R(X.zoom||1),localStorage.setItem(`collection_${e.address}_banner_position`,X.position),localStorage.setItem(`collection_${e.address}_banner_fit`,X.fit),localStorage.setItem(`collection_${e.address}_banner_zoom`,(X.zoom||1).toString()),k(!1),D("Banner settings updated","success")},q=(X,ie)=>{const fe={...t,[X]:ie};n(fe),localStorage.setItem(`collection_${e.address}_social`,JSON.stringify(fe))},Q=L(b),he=()=>{if(!e)return null;const X=(de,re)=>{try{const be=JSON.parse(de);return be!==void 0?be:re}catch{return re}},ie=X(localStorage.getItem(`collection_${e.address}_nfts`),[]),fe=X(localStorage.getItem(`phases_${e.address}`),{}),xe=ie.length,ae=Object.entries(fe).map(([de,re])=>({name:de,price:re.price||"0",allocated:re.allocated||0,start:re.start,end:re.end,active:re.active!==!1})).reduce((de,re)=>{const be=parseFloat(re.price)||0,we=parseInt(re.allocated)||0;return de+be*we},0),oe=e.totalSupply||xe||0,pe={totalSupply:oe,totalMinted:0,totalRevenue:"0.0",maxSupply:oe,contractBalance:0,potentialRevenue:ae.toFixed(2)};return console.log("üìä Preview stats (before launch):",pe),s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Sale Preview"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:ce,className:"flex items-center gap-2 px-3 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200 text-sm",title:"Refresh stats from blockchain",children:[s.jsx(Bc,{className:"w-4 h-4"}),"Refresh Stats"]}),s.jsx("button",{onClick:()=>f(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:24})})]})]}),s.jsxs("div",{className:"p-6",children:[Q&&s.jsxs("div",{className:"w-full h-[300px] rounded-2xl overflow-hidden mb-8 relative",children:[s.jsx("img",{src:Q,alt:"Collection banner",className:`w-full h-full object-${y} transition-all duration-300`,style:{objectPosition:w,transform:`scale(${S||1})`,imageRendering:Q?.includes(".gif")?"auto":"optimizeQuality"},onError:de=>{console.error("Failed to load banner in preview:",Q),de.target&&(de.target.style.display="none")}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent pointer-events-none"}),s.jsx("div",{className:"absolute bottom-4 left-4 text-white",children:s.jsxs("div",{className:"text-sm opacity-75",children:["Banner: ",y," ‚Ä¢ ",w]})})]}),s.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[s.jsx("img",{src:e?.cover||e?.firstNFTImage||Vt,alt:e?.name,className:"w-24 h-24 rounded-2xl object-cover border border-zinc-600/30",onError:de=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",de.target.src),e?.firstNFTImage&&e.firstNFTImage!==de.target.src?de.target.src=e.firstNFTImage:de.target.src=Vt}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:e?.name}),s.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full",children:"Real Data"})]}),s.jsx("p",{className:"text-zinc-400 text-lg mb-4",children:e?.description||"No description available"}),s.jsxs("div",{className:"flex gap-4 mb-4",children:[t.website&&s.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:s.jsx(Fd,{size:20})}),t.twitter&&s.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:s.jsx(fh,{size:20})}),t.discord&&s.jsx("a",{href:t.discord,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[s.jsx("div",{className:"text-xl font-bold text-white",children:pe.maxSupply}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Max Supply"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[s.jsx("div",{className:"text-xl font-bold text-white",children:pe.totalMinted}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Minted"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[s.jsxs("div",{className:"text-xl font-bold text-white",children:[pe.totalRevenue," STT"]}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Revenue"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[s.jsxs("div",{className:"text-xl font-bold text-white",children:[pe.potentialRevenue," STT"]}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Potential"})]})]})]})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Mint Section"}),s.jsx("div",{className:"w-full h-3 bg-zinc-700 rounded-full mb-6 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative",style:{width:`${Math.max(0,Math.min(100,pe.totalMinted/Math.max(pe.maxSupply,1)*100))}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:pe.totalMinted}),s.jsx("div",{className:"text-sm text-zinc-400",children:"Minted"})]}),s.jsx("div",{className:"text-zinc-400 text-xl",children:"/"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:pe.maxSupply}),s.jsx("div",{className:"text-sm text-zinc-400",children:"Total"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Price"}),s.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-white",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-5 h-5"}),(()=>{const de=["Whitelist","FCFS","Public"],re=new Date;for(const we of de){const ve=fe[we];if(ve&&ve.price&&ve.start&&ve.end){const ee=new Date(ve.start),O=new Date(ve.end);if(re>=ee&&re<=O)return ve.price;if(re<ee)return ve.price}}return Object.values(fe).find(we=>we.price)?.price||"0.1"})()," STT"]})]})]}),s.jsx("div",{className:"w-full py-4 bg-zinc-800/50 text-zinc-400 font-bold rounded-xl text-center",children:"Mint button will appear here after launch"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl mb-8",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Sale Phases"}),s.jsxs("div",{className:"space-y-3",children:[Object.entries(fe).map(([de,re])=>{const be=new Date(re.start),we=new Date(re.end),ve=new Date,ee=ve>=be&&ve<=we,O=ve>we;let _="Upcoming",j="text-zinc-400";return ee?(_="Active",j="text-green-400"):O&&(_="Ended",j="text-red-400"),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-white",children:de}),s.jsxs("div",{className:"text-sm text-zinc-400",children:[re.price," STT ‚Ä¢ ",re.allocated," NFTs"]}),s.jsxs("div",{className:"text-xs text-zinc-500",children:[be.toLocaleDateString()," - ",we.toLocaleDateString()]})]}),s.jsx("div",{className:`text-sm ${j}`,children:_})]},de)}),Object.keys(fe).length===0&&s.jsx("div",{className:"text-center text-zinc-400 py-4",children:"No phases configured yet"})]})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"NFT Preview"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.slice(0,6).map((de,re)=>s.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden",children:[s.jsx("img",{src:de.imageUrl||de.image||"/default-nft.png",alt:de.name,className:"w-full h-24 object-cover",onError:be=>{be.target.src="/default-nft.png"}}),s.jsx("div",{className:"p-2",children:s.jsx("p",{className:"text-xs text-white truncate",children:de.name})})]},de.id||re)),r.length>6&&s.jsx("div",{className:"bg-zinc-900 rounded-xl flex items-center justify-center h-24",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-white",children:["+",r.length-6]}),s.jsx("div",{className:"text-xs text-zinc-400",children:"More"})]})})]})]})]})]})})},K=X=>{const ie=r.filter(ae=>ae.id!==X.id);a(ie);const xe=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`)||"[]").filter(ae=>ae.id!==X.id);localStorage.setItem(`collection_${e.address}_nfts`,JSON.stringify(xe));const A=`${e.address}_preview`;fd.delete(A),D("NFT deleted successfully","success")},J=()=>{z()},ce=async()=>{if(e?.address)try{D("üîÑ Refreshing stats from blockchain...","info");const X=new Zt(window.ethereum),ie=new rt(e.address,jt,X),fe=await X.getBalance(e.address),xe=ii(fe,18),[A,ae]=await Promise.all([ie.totalSupply(),ie.maxSupply()]),oe=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{},V=Object.entries(oe).map(([pe,de])=>({name:pe,price:de.price||"0",allocated:de.allocated||0,start:de.start,end:de.end,active:de.active!==!1})),Y=V.reduce((pe,de)=>{const re=parseFloat(de.price)||0,be=parseInt(de.allocated)||0;return pe+re*be},0),se={totalSupply:Number(ae),maxSupply:Number(ae),totalRevenue:parseFloat(xe).toFixed(3),potentialRevenue:Y.toFixed(2),totalMints:Number(A),uniqueHolders:Math.floor(Number(A)*.8),averagePrice:Number(A)>0?(Y/Number(A)).toFixed(2):"0",phases:V,contractBalance:parseFloat(xe),contractOwner:"",canWithdraw:!1};localStorage.setItem(`collection_${e.address}_real_stats`,JSON.stringify(se)),D("‚úÖ Stats updated successfully!","success"),h&&(f(!1),setTimeout(()=>f(!0),100))}catch(X){console.error("Error refreshing stats:",X),D("‚ùå Failed to refresh stats","error")}};return e?s.jsxs("div",{className:"space-y-6 pb-24",children:[s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-start justify-between gap-6",children:[s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0",children:s.jsx("img",{src:e.cover||e.firstNFTImage||"/default-cover.png",alt:"Cover",className:"w-full h-full object-cover",onError:X=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",X.target.src),e.firstNFTImage&&e.firstNFTImage!==X.target.src?X.target.src=e.firstNFTImage:X.target.src="/default-cover.png"}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e.name}),s.jsx("p",{className:"text-zinc-400 mb-4",children:e.description||"No description available"}),s.jsx("p",{className:"text-sm text-zinc-500 font-mono",children:e.address})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold shadow-lg",children:[s.jsx(zN,{className:"w-5 h-5"}),"Preview Sale"]})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Sale Banner"}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"w-64 h-32 rounded-xl overflow-hidden bg-zinc-900 border-2 border-dashed border-zinc-600 flex items-center justify-center cursor-pointer transition-all duration-200 hover:border-pink-500/50 hover:bg-zinc-800/50 relative",onDragOver:X=>{X.preventDefault(),X.currentTarget.classList.add("border-pink-500","bg-zinc-800/50")},onDragLeave:X=>{X.preventDefault(),X.currentTarget.classList.remove("border-pink-500","bg-zinc-800/50")},onDrop:X=>{X.preventDefault(),X.currentTarget.classList.remove("border-pink-500","bg-zinc-800/50");const ie=X.dataTransfer.files;ie.length>0&&$({target:{files:[ie[0]]}})},onClick:()=>!i&&document.getElementById("banner-upload").click(),children:[i&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-white",children:"Uploading..."})]})}),Q?s.jsx("img",{src:Q,alt:"Banner preview",className:`w-full h-full object-${y} transition-all duration-300`,style:{objectPosition:w,transform:`scale(${S})`,imageRendering:Q?.includes(".gif")?"auto":"optimizeQuality"},onError:X=>{console.error("Failed to load banner image:",Q),X.target&&(X.target.style.display="none"),X.target&&X.target.nextSibling&&(X.target.nextSibling.style.display="block")}}):null,!Q&&!i&&s.jsxs("div",{className:"text-center",children:[s.jsx(Lc,{className:"w-8 h-8 text-zinc-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-zinc-400",children:"Upload banner"}),s.jsx("p",{className:"text-xs text-zinc-500",children:"Recommended: 1200x400px"}),s.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Supports: JPG, PNG, GIF, WebP"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"file",accept:"image/*,.gif,.webp",onChange:$,className:"hidden",id:"banner-upload",disabled:i}),s.jsx("label",{htmlFor:"banner-upload",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-opacity ${i?"bg-zinc-600 text-zinc-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-pink-500 text-white cursor-pointer hover:opacity-90"}`,children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lc,{className:"w-4 h-4"}),Q?"Change Banner":"Upload Banner"]})}),Q&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>T(!0),className:"ml-3 px-4 py-2 bg-gradient-to-r from-green-500/20 to-blue-500/20 text-green-400 rounded-lg hover:from-green-500/30 hover:to-blue-500/30 transition-all duration-300",children:"Quick Settings"}),s.jsx("button",{onClick:()=>k(!0),className:"ml-3 px-4 py-2 bg-gradient-to-r from-blue-500/20 to-pink-500/20 text-blue-400 rounded-lg hover:from-blue-500/30 hover:to-pink-500/30 transition-all duration-300",children:"Advanced Settings"}),s.jsx("button",{onClick:()=>{v(""),localStorage.removeItem(`collection_${e.address}_banner`),localStorage.removeItem(`collection_${e.address}_banner_position`)},className:"ml-3 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Remove"})]})]})]})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Social Links"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Website"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fd,{className:"w-4 h-4 text-zinc-400"}),s.jsx("input",{type:"url",placeholder:"https://your-website.com",value:t.website,onChange:X=>q("website",X.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Twitter/X"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fh,{className:"w-4 h-4 text-zinc-400"}),s.jsx("input",{type:"url",placeholder:"https://twitter.com/username",value:t.twitter,onChange:X=>q("twitter",X.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Discord"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})}),s.jsx("input",{type:"url",placeholder:"https://discord.gg/invite",value:t.discord,onChange:X=>q("discord",X.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]})]}),s.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"These links will be displayed on your collection page. Leave empty to hide the icons."})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"NFT Preview"}),s.jsxs("button",{onClick:J,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:[s.jsx(Bc,{className:`w-4 h-4 ${i?"animate-spin":""}`}),"Refresh"]})]}),i?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-zinc-400",children:"Loading NFT preview..."})]}):r.length>0?s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.slice(0,5).map((X,ie)=>s.jsxs("div",{className:"group relative bg-zinc-900 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-all duration-200",onClick:()=>{l(X),u(!0)},children:[s.jsx("img",{src:X.imageUrl||X.image||"/default-nft.png",alt:X.name,className:"w-full h-32 object-cover",onError:fe=>{fe.target.src="/default-nft.png"}}),s.jsxs("div",{className:"p-3",children:[s.jsx("h5",{className:"text-sm font-semibold text-white truncate",children:X.name}),s.jsx("p",{className:"text-xs text-zinc-400 truncate",children:X.description})]}),s.jsx("button",{onClick:fe=>{fe.stopPropagation(),K(X.id)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center text-xs",children:"√ó"})]},X.id||ie)),r.length>5&&s.jsx("button",{onClick:()=>P(!0),className:"aspect-square rounded-xl border-2 border-dashed border-zinc-600/50 hover:border-pink-500/50 transition-all duration-300 flex items-center justify-center text-zinc-400 hover:text-zinc-300 bg-zinc-900/50 backdrop-blur-sm hover:scale-105 group",children:s.jsxs("div",{className:"text-center group-hover:scale-110 transition-transform duration-300",children:[s.jsx("div",{className:"text-sm font-semibold",children:"More"}),s.jsxs("div",{className:"text-xs",children:["+",r.length-5]})]})})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-zinc-400 mb-2",children:"No NFTs found in this collection"}),s.jsx("p",{className:"text-xs text-zinc-500",children:'Upload NFTs in the "Populate Collection" tab'})]})]})]}),h&&s.jsx(he,{}),d&&o&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:s.jsx("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden animate-fadeIn",tabIndex:-1,autoFocus:!0,children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-64 h-64 rounded-lg overflow-hidden flex-shrink-0",children:s.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:o.name}),s.jsx("p",{className:"text-zinc-400 mb-4",children:o.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Token ID:"}),s.jsxs("span",{className:"text-white font-mono",children:["#",o.tokenId||o.id]})]}),o.attributes&&o.attributes.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Attributes:"}),s.jsx("div",{className:"mt-2 space-y-1",children:o.attributes.map((X,ie)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-zinc-400",children:[X.trait_type,":"]}),s.jsx("span",{className:"text-white",children:X.value})]},ie))})]})]}),s.jsx("div",{className:"mt-6 flex gap-3",children:s.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:"Close"})})]})]})})})}),I&&Q&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:s.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Banner Display Settings"}),s.jsx("button",{onClick:()=>T(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:24})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),s.jsx("div",{className:"w-full h-64 rounded-xl overflow-hidden bg-zinc-800 border border-zinc-600",children:s.jsx("img",{src:Q,alt:"Banner preview",className:`w-full h-full object-${y} transition-all duration-300`,style:{objectPosition:w,transform:`scale(${S})`,imageRendering:Q?.includes(".gif")?"auto":"optimizeQuality"}})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Position Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Display Position"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"top left",label:"Top Left"},{value:"top center",label:"Top Center"},{value:"top right",label:"Top Right"},{value:"center left",label:"Center Left"},{value:"center center",label:"Center Center"},{value:"center right",label:"Center Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom center",label:"Bottom Center"},{value:"bottom right",label:"Bottom Right"}].map(X=>s.jsx("button",{onClick:()=>ne(X.value),className:`p-3 rounded-lg border transition-all duration-200 ${w===X.value?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:X.label},X.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Display Fit"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>B("cover"),className:`p-3 rounded-lg border transition-all duration-200 ${y==="cover"?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:"Cover (Fill)"}),s.jsx("button",{onClick:()=>B("contain"),className:`p-3 rounded-lg border transition-all duration-200 ${y==="contain"?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:"Contain (Full)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Zoom Level"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:S,onChange:X=>H(parseFloat(X.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer slider"}),s.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[s.jsx("span",{children:"50%"}),s.jsxs("span",{children:[Math.round(S*100),"%"]}),s.jsx("span",{children:"200%"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Current Settings"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[s.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Position"}),s.jsx("code",{className:"text-pink-400 font-mono",children:w})]}),s.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[s.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Fit"}),s.jsx("code",{className:"text-pink-400 font-mono capitalize",children:y})]}),s.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[s.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Zoom"}),s.jsxs("code",{className:"text-pink-400 font-mono",children:[Math.round(S*100),"%"]})]})]})]}),s.jsxs("div",{className:"pt-4 space-y-3",children:[s.jsx("button",{onClick:()=>{T(!1),k(!0)},className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Advanced Crop Editor"}),s.jsx("button",{onClick:()=>T(!1),className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Save Settings"})]})]})]})]})]})})}),F&&Q&&s.jsx(J8,{imageUrl:Q,onSave:W,onCancel:()=>k(!1),initialPosition:w,initialFit:y}),M&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:s.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-5xl w-full max-h-[85vh] animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Collection Gallery"}),s.jsx("button",{onClick:()=>P(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:28})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-[65vh] overflow-y-auto",children:r.map((X,ie)=>s.jsxs("button",{onClick:()=>{l(X),P(!1),u(!0)},className:"group",children:[s.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-zinc-700/30 group-hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm shadow-lg",children:[s.jsx("img",{src:X.imageUrl||X.image||"/default-nft.png",alt:X.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:fe=>{fe.target.src="/default-nft.png"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx("div",{className:"mt-3 text-center",children:s.jsx("div",{className:"text-sm text-white font-medium truncate",children:X.name})})]},X.id||ie))})]})})}),m.visible&&s.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-[10000] ${m.type==="error"?"bg-red-800 text-white":m.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:s.jsx("p",{className:"text-sm",children:m.message})})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})},eI=({collection:e})=>{const[t,n]=N.useState(!1),[r,a]=N.useState(!1),[i,c]=N.useState({visible:!1,message:"",txHash:""}),[o,l]=N.useState({totalSupply:0,maxSupply:0,totalRevenue:"0",potentialRevenue:"0",totalMints:0,uniqueHolders:0,averagePrice:"0",phases:[],contractBalance:0,contractOwner:"",canWithdraw:!1});N.useEffect(()=>{if(i.visible){const m=setTimeout(()=>c(x=>({...x,visible:!1})),5e3);return()=>clearTimeout(m)}},[i.visible]);const d=(m,x="")=>{c({visible:!0,message:m,txHash:x})},u=async()=>{if(e?.address)try{n(!0);const m=new Zt(window.ethereum),x=new rt(e.address,jt,m),p=await m.getBalance(e.address),g=ii(p,18);console.log("üîó Contract balance (rewards):",g,"STT");const b=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`)||"[]");console.log("üì¶ Uploaded NFTs count:",b.length);const v=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{},w=Object.entries(v).map(([P,F])=>({name:P,price:F.price||"0",allocated:F.allocated||0,start:F.start,end:F.end,active:F.active!==!1}));console.log("üìÖ Phase stats:",w);const C=w.reduce((P,F)=>{const k=parseFloat(F.price)||0,D=parseInt(F.allocated)||0;return P+k*D},0);console.log("üí∞ Potential revenue from phases:",C);let y=null;try{const[P,F]=await Promise.all([x.totalSupply(),x.maxSupply()]);y={totalSupply:Number(P),maxSupply:Number(F),totalMinted:Number(P)},console.log("üîó Blockchain data:",y)}catch(P){console.log("‚ö†Ô∏è Blockchain data not available (sale might not have started):",P.message),y=null}const E=await x.owner(),R=await(await m.getSigner()).getAddress(),I=E.toLowerCase()===R.toLowerCase();console.log("üîó Contract owner:",E),console.log("üîó Current user:",R),console.log("üîó Can withdraw:",I);const T=y&&y.totalMinted>0,M={totalSupply:y?y.maxSupply:b.length,maxSupply:y?y.maxSupply:b.length,totalMinted:y?y.totalMinted:0,uploadedNFTs:b.length,totalRevenue:parseFloat(g).toFixed(3),potentialRevenue:C.toFixed(2),uniqueHolders:y?Math.floor(y.totalMinted*.8):0,averagePrice:b.length>0?(C/b.length).toFixed(2):"0",phases:w,contractBalance:parseFloat(g),contractOwner:E,canWithdraw:I,saleHasStarted:T};console.log("üí∞ Final stats:",M),console.log("üéØ Sale has started:",T),l(M),localStorage.setItem(`collection_${e.address}_real_stats`,JSON.stringify(M))}catch(m){console.error("Error loading collection stats:",m),d("Failed to load collection statistics")}finally{n(!1)}};N.useEffect(()=>{e?.address&&u()},[e?.address]);const h=async()=>{if(e?.address)try{a(!0);const m=new Zt(window.ethereum),x=await m.getSigner(),p=new rt(e.address,jt,x),g=await x.getAddress(),b=await p.owner();if(g.toLowerCase()!==b.toLowerCase()){d("‚ùå Only contract owner can withdraw rewards");return}const v=await m.getBalance(e.address);if(v===0n){d("‚ùå No rewards available to withdraw");return}console.log("üí∞ Withdrawing balance:",ii(v,18),"STT");const w=await p.withdraw();d("‚è≥ Withdrawing rewards..."),await w.wait(),d("‚úÖ Rewards withdrawn successfully!",w.hash),u()}catch(m){console.error("Error withdrawing rewards:",m),m.message.includes("user rejected")?d("‚ùå Transaction was cancelled by user"):m.message.includes("insufficient funds")?d("‚ùå Insufficient gas fees for transaction"):m.message.includes("execution reverted")?d("‚ùå Transaction failed - check contract permissions"):d(`‚ùå Failed to withdraw rewards: ${m.message}`)}finally{a(!1)}},f=m=>{if(!m)return"Not set";const x=new Date(m*1e3);return x.toLocaleDateString()+" "+x.toLocaleTimeString()};return e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Rs,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Uploaded NFTs"})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":o.uploadedNFTs}),s.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.saleHasStarted?"‚úÖ Sale Active":"‚è≥ Pre-sale"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(hh,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Available Rewards"})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":`${o.totalRevenue} STT`}),s.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.canWithdraw?"‚úÖ Can withdraw":"‚ùå Not owner"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Uc,{className:"w-5 h-5 text-pink-400"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Total Mints"})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":o.totalMinted}),s.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.saleHasStarted?"üîó From blockchain":"üì¶ From uploads"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(RN,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Potential Revenue"})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":`${o.potentialRevenue} STT`}),s.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"From configured phases"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:u,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[s.jsx(Bc,{className:`w-4 h-4 ${t?"animate-spin":""}`}),"Refresh Stats"]})}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Phase Configuration"}),s.jsxs("div",{className:"text-sm text-zinc-400",children:[o.phases?.length||0," phases configured"]})]}),o.phases&&o.phases.length>0?s.jsxs("div",{className:"space-y-4",children:[o.phases.map((m,x)=>{const p=Math.floor(Date.now()/1e3),g=m.active&&m.start<=p&&m.end>=p,b=m.start>p,v=m.end<p;return s.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${g?"bg-green-500":b?"bg-yellow-500":"bg-gray-500"}`}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-white",children:m.name}),s.jsxs("p",{className:"text-sm text-zinc-400",children:[f(m.start)," - ",f(m.end)]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-white",children:[m.price," STT"]}),s.jsxs("div",{className:"text-sm text-zinc-400",children:[m.allocated," NFTs"]}),s.jsxs("div",{className:"text-xs text-zinc-500",children:["Potential: ",(parseFloat(m.price)*m.allocated).toFixed(2)," STT"]}),s.jsx("div",{className:"text-xs mt-1",children:g?s.jsx("span",{className:"text-green-400",children:"‚óè Active"}):b?s.jsx("span",{className:"text-yellow-400",children:"‚óè Upcoming"}):v?s.jsx("span",{className:"text-gray-400",children:"‚óè Ended"}):s.jsx("span",{className:"text-gray-400",children:"‚óè Inactive"})})]})]},x)}),s.jsxs("div",{className:"mt-4 p-4 bg-zinc-900/50 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-zinc-400",children:"Total Potential Revenue:"}),s.jsxs("span",{className:"text-lg font-bold text-white",children:[o.potentialRevenue," STT"]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm text-zinc-400",children:"Sale Status:"}),s.jsx("span",{className:`text-sm font-medium ${o.saleHasStarted?"text-green-400":"text-yellow-400"}`,children:o.saleHasStarted?"Active":"Not Started"})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-zinc-400 mb-2",children:"No phases configured"}),s.jsx("p",{className:"text-xs text-zinc-500",children:'Configure phases in the "Phase Settings" tab to see potential revenue'})]})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Rewards & Withdrawals"}),s.jsx("button",{onClick:u,disabled:t,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:"Refresh"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-white",children:"Contract Balance (Rewards)"}),s.jsx("p",{className:"text-sm text-zinc-400",children:"Money earned from NFT mints"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:t?"...":`${o.totalRevenue} STT`}),s.jsx("div",{className:"text-xs text-zinc-500",children:o.canWithdraw?"‚úÖ Can withdraw":"‚ùå Not owner"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(hh,{className:"w-6 h-6 text-blue-400"}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-white",children:"Potential Revenue"}),s.jsx("p",{className:"text-sm text-zinc-400",children:"From configured phases"})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-lg font-bold text-white",children:t?"...":`${o.potentialRevenue} STT`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Uc,{className:"w-6 h-6 text-green-400"}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-white",children:"Total Mints"}),s.jsx("p",{className:"text-sm text-zinc-400",children:"NFTs minted so far"})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-lg font-bold text-white",children:t?"...":`${o.totalMinted}/${o.maxSupply}`})})]}),s.jsxs("button",{onClick:h,disabled:r||t||parseFloat(o.totalRevenue)===0||!o.canWithdraw,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Mc,{className:"w-5 h-5"}),r?"Withdrawing...":"Withdraw Rewards"]}),s.jsxs("div",{className:"text-xs text-zinc-500 space-y-1",children:[s.jsx("p",{className:"text-center",children:o.canWithdraw?"‚úÖ You are the contract owner and can withdraw rewards":"‚ùå Only collection owner can withdraw rewards"}),s.jsxs("p",{className:"text-center",children:["Contract Owner: ",o.contractOwner?`${o.contractOwner.substring(0,6)}...${o.contractOwner.substring(38)}`:"Loading..."]}),s.jsx("p",{className:"text-center",children:s.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${e.address}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View Contract on Explorer"})})]})]})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Export Data"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:m=>{m.preventDefault(),m.stopPropagation();try{const x={collection:e.name,address:e.address,stats:o,timestamp:new Date().toISOString()},p=new Blob([JSON.stringify(x,null,2)],{type:"application/json"}),g=URL.createObjectURL(p),b=document.createElement("a");b.href=g,b.download=`${e.name}_stats.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g),d("‚úÖ Statistics exported successfully")}catch(x){console.error("Export error:",x),d("‚ùå Failed to export statistics")}},className:"flex items-center justify-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:[s.jsx(Mc,{className:"w-4 h-4"}),"Export JSON"]}),s.jsxs("button",{onClick:()=>{window.open(`https://shannon-explorer.somnia.network/address/${e.address}`,"_blank")},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors duration-200",children:[s.jsx(Ps,{className:"w-4 h-4"}),"View Contract"]})]})]}),i.visible&&s.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105",children:[s.jsx("p",{className:"text-sm mb-1",children:i.message}),i.txHash&&s.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${i.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[s.jsx(Ps,{size:16}),"View Transaction"]})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})};var md={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var mm;function tI(){return mm||(mm=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,a,i){function c(d,u){if(!a[d]){if(!r[d]){var h=typeof Ka=="function"&&Ka;if(!u&&h)return h(d,!0);if(o)return o(d,!0);var f=new Error("Cannot find module '"+d+"'");throw f.code="MODULE_NOT_FOUND",f}var m=a[d]={exports:{}};r[d][0].call(m.exports,function(x){var p=r[d][1][x];return c(p||x)},m,m.exports,n,r,a,i)}return a[d].exports}for(var o=typeof Ka=="function"&&Ka,l=0;l<i.length;l++)c(i[l]);return c}({1:[function(n,r,a){var i=n("./utils"),c=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(l){for(var d,u,h,f,m,x,p,g=[],b=0,v=l.length,w=v,C=i.getTypeOf(l)!=="string";b<l.length;)w=v-b,h=C?(d=l[b++],u=b<v?l[b++]:0,b<v?l[b++]:0):(d=l.charCodeAt(b++),u=b<v?l.charCodeAt(b++):0,b<v?l.charCodeAt(b++):0),f=d>>2,m=(3&d)<<4|u>>4,x=1<w?(15&u)<<2|h>>6:64,p=2<w?63&h:64,g.push(o.charAt(f)+o.charAt(m)+o.charAt(x)+o.charAt(p));return g.join("")},a.decode=function(l){var d,u,h,f,m,x,p=0,g=0,b="data:";if(l.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=c.uint8array?new Uint8Array(0|w):new Array(0|w);p<l.length;)d=o.indexOf(l.charAt(p++))<<2|(f=o.indexOf(l.charAt(p++)))>>4,u=(15&f)<<4|(m=o.indexOf(l.charAt(p++)))>>2,h=(3&m)<<6|(x=o.indexOf(l.charAt(p++))),v[g++]=d,m!==64&&(v[g++]=u),x!==64&&(v[g++]=h);return v}},{"./support":30,"./utils":32}],2:[function(n,r,a){var i=n("./external"),c=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function d(u,h,f,m,x){this.compressedSize=u,this.uncompressedSize=h,this.crc32=f,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var u=new c(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new c(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(u,h,f){return u.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var i=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var i=n("./utils"),c=function(){for(var o,l=[],d=0;d<256;d++){o=d;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[d]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?i.getTypeOf(o)!=="string"?function(d,u,h,f){var m=c,x=f+h;d^=-1;for(var p=f;p<x;p++)d=d>>>8^m[255&(d^u[p])];return-1^d}(0|l,o,o.length,0):function(d,u,h,f){var m=c,x=f+h;d^=-1;for(var p=f;p<x;p++)d=d>>>8^m[255&(d^u.charCodeAt(p))];return-1^d}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var i=null;i=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:i}},{lie:37}],7:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),d=i?"uint8array":"array";function u(h,f){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}a.magic="\b\0",o.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(d,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},a.compressWorker=function(h){return new u("Deflate",h)},a.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function i(m,x){var p,g="";for(p=0;p<x;p++)g+=String.fromCharCode(255&m),m>>>=8;return g}function c(m,x,p,g,b,v){var w,C,y=m.file,E=m.compression,S=v!==d.utf8encode,R=o.transformTo("string",v(y.name)),I=o.transformTo("string",d.utf8encode(y.name)),T=y.comment,M=o.transformTo("string",v(T)),P=o.transformTo("string",d.utf8encode(T)),F=I.length!==y.name.length,k=P.length!==T.length,D="",L="",G="",z=y.dir,$=y.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};x&&!p||(ne.crc32=m.crc32,ne.compressedSize=m.compressedSize,ne.uncompressedSize=m.uncompressedSize);var B=0;x&&(B|=8),S||!F&&!k||(B|=2048);var H=0,W=0;z&&(H|=16),b==="UNIX"?(W=798,H|=function(Q,he){var K=Q;return Q||(K=he?16893:33204),(65535&K)<<16}(y.unixPermissions,z)):(W=20,H|=function(Q){return 63&(Q||0)}(y.dosPermissions)),w=$.getUTCHours(),w<<=6,w|=$.getUTCMinutes(),w<<=5,w|=$.getUTCSeconds()/2,C=$.getUTCFullYear()-1980,C<<=4,C|=$.getUTCMonth()+1,C<<=5,C|=$.getUTCDate(),F&&(L=i(1,1)+i(u(R),4)+I,D+="up"+i(L.length,2)+L),k&&(G=i(1,1)+i(u(M),4)+P,D+="uc"+i(G.length,2)+G);var q="";return q+=`
\0`,q+=i(B,2),q+=E.magic,q+=i(w,2),q+=i(C,2),q+=i(ne.crc32,4),q+=i(ne.compressedSize,4),q+=i(ne.uncompressedSize,4),q+=i(R.length,2),q+=i(D.length,2),{fileRecord:h.LOCAL_FILE_HEADER+q+R+D,dirRecord:h.CENTRAL_FILE_HEADER+i(W,2)+q+i(M.length,2)+"\0\0\0\0"+i(H,4)+i(g,4)+R+D+M}}var o=n("../utils"),l=n("../stream/GenericWorker"),d=n("../utf8"),u=n("../crc32"),h=n("../signature");function f(m,x,p,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=p,this.encodeFileName=g,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,l),f.prototype.push=function(m){var x=m.meta.percent||0,p=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:p?(x+100*(p-g-1))/p:100}}))},f.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var p=c(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,p=c(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),x)this.push({data:function(g){return h.DATA_DESCRIPTOR+i(g.crc32,4)+i(g.compressedSize,4)+i(g.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var p=this.bytesWritten-m,g=function(b,v,w,C,y){var E=o.transformTo("string",y(C));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(b,2)+i(b,2)+i(v,4)+i(w,4)+i(E.length,2)+E}(this.dirRecords.length,p,m,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(p){x.processChunk(p)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(p){x.error(p)}),this},f.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(m){var x=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var p=0;p<x.length;p++)try{x[p].error(m)}catch{}return!0},f.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var i=n("../compressions"),c=n("./ZipFileWorker");a.generateWorker=function(o,l,d){var u=new c(l.streamFiles,d,l.platform,l.encodeFileName),h=0;try{o.forEach(function(f,m){h++;var x=function(v,w){var C=v||w,y=i[C];if(!y)throw new Error(C+" is not a valid compression method !");return y}(m.options.compression,l.compression),p=m.options.compressionOptions||l.compressionOptions||{},g=m.dir,b=m.date;m._compressWorker(x,p).withStreamInfo("file",{name:f,dir:g,date:b,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new i;for(var o in this)typeof this[o]!="function"&&(c[o]=this[o]);return c}}(i.prototype=n("./object")).loadAsync=n("./load"),i.support=n("./support"),i.defaults=n("./defaults"),i.version="3.10.1",i.loadAsync=function(c,o){return new i().loadAsync(c,o)},i.external=n("./external"),r.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var i=n("./utils"),c=n("./external"),o=n("./utf8"),l=n("./zipEntries"),d=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function h(f){return new c.Promise(function(m,x){var p=f.decompressed.getContentWorker().pipe(new d);p.on("error",function(g){x(g)}).on("end",function(){p.streamInfo.crc32!==f.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(f,m){var x=this;return m=i.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(f)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",f,!0,m.optimizedBinaryString,m.base64).then(function(p){var g=new l(m);return g.load(p),g}).then(function(p){var g=[c.Promise.resolve(p)],b=p.files;if(m.checkCRC32)for(var v=0;v<b.length;v++)g.push(h(b[v]));return c.Promise.all(g)}).then(function(p){for(var g=p.shift(),b=g.files,v=0;v<b.length;v++){var w=b[v],C=w.fileNameStr,y=i.resolve(w.fileNameStr);x.file(y,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:m.createFolders}),w.dir||(x.file(y).unsafeOriginalName=C)}return g.zipComment.length&&(x.comment=g.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var i=n("../utils"),c=n("../stream/GenericWorker");function o(l,d){c.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(d)}i.inherits(o,c),o.prototype._bindStream=function(l){var d=this;(this._stream=l).pause(),l.on("data",function(u){d.push({data:u,meta:{percent:0}})}).on("error",function(u){d.isPaused?this.generatedError=u:d.error(u)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},o.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var i=n("readable-stream").Readable;function c(o,l,d){i.call(this,l),this._helper=o;var u=this;o.on("data",function(h,f){u.push(h)||u._helper.pause(),d&&d(f)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}n("../utils").inherits(c,i),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,c);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,c)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var c=new Buffer(i);return c.fill(0),c},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(n,r,a){function i(y,E,S){var R,I=o.getTypeOf(E),T=o.extend(S||{},u);T.date=T.date||new Date,T.compression!==null&&(T.compression=T.compression.toUpperCase()),typeof T.unixPermissions=="string"&&(T.unixPermissions=parseInt(T.unixPermissions,8)),T.unixPermissions&&16384&T.unixPermissions&&(T.dir=!0),T.dosPermissions&&16&T.dosPermissions&&(T.dir=!0),T.dir&&(y=b(y)),T.createFolders&&(R=g(y))&&v.call(this,R,!0);var M=I==="string"&&T.binary===!1&&T.base64===!1;S&&S.binary!==void 0||(T.binary=!M),(E instanceof h&&E.uncompressedSize===0||T.dir||!E||E.length===0)&&(T.base64=!1,T.binary=!0,E="",T.compression="STORE",I="string");var P=null;P=E instanceof h||E instanceof l?E:x.isNode&&x.isStream(E)?new p(y,E):o.prepareContent(y,E,T.binary,T.optimizedBinaryString,T.base64);var F=new f(y,P,T);this.files[y]=F}var c=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),u=n("./defaults"),h=n("./compressedObject"),f=n("./zipObject"),m=n("./generate"),x=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),g=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var E=y.lastIndexOf("/");return 0<E?y.substring(0,E):""},b=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},v=function(y,E){return E=E!==void 0?E:u.createFolders,y=b(y),this.files[y]||i.call(this,y,null,{dir:!0,createFolders:E}),this.files[y]};function w(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var E,S,R;for(E in this.files)R=this.files[E],(S=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&y(S,R)},filter:function(y){var E=[];return this.forEach(function(S,R){y(S,R)&&E.push(R)}),E},file:function(y,E,S){if(arguments.length!==1)return y=this.root+y,i.call(this,y,E,S),this;if(w(y)){var R=y;return this.filter(function(T,M){return!M.dir&&R.test(T)})}var I=this.files[this.root+y];return I&&!I.dir?I:null},folder:function(y){if(!y)return this;if(w(y))return this.filter(function(I,T){return T.dir&&y.test(I)});var E=this.root+y,S=v.call(this,E),R=this.clone();return R.root=S.name,R},remove:function(y){y=this.root+y;var E=this.files[y];if(E||(y.slice(-1)!=="/"&&(y+="/"),E=this.files[y]),E&&!E.dir)delete this.files[y];else for(var S=this.filter(function(I,T){return T.name.slice(0,y.length)===y}),R=0;R<S.length;R++)delete this.files[S[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var E,S={};try{if((S=o.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");o.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var R=S.comment||this.comment||"";E=m.generateWorker(this,S,R)}catch(I){(E=new l("error")).error(I)}return new d(E,S.type||"string",S.mimeType)},generateAsync:function(y,E){return this.generateInternalStream(y).accumulate(E)},generateNodeStream:function(y,E){return(y=y||{}).type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(E)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var i=n("./DataReader");function c(o){i.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(c,i),c.prototype.byteAt=function(o){return this.data[this.zero+o]},c.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),d=o.charCodeAt(1),u=o.charCodeAt(2),h=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===l&&this.data[f+1]===d&&this.data[f+2]===u&&this.data[f+3]===h)return f-this.zero;return-1},c.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),d=o.charCodeAt(1),u=o.charCodeAt(2),h=o.charCodeAt(3),f=this.readData(4);return l===f[0]&&d===f[1]&&u===f[2]&&h===f[3]},c.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var i=n("../utils");function c(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,d=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)d=(d<<8)+this.byteAt(l);return this.index+=o,d},readString:function(o){return i.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=c},{"../utils":32}],19:[function(n,r,a){var i=n("./Uint8ArrayReader");function c(o){i.call(this,o)}n("../utils").inherits(c,i),c.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var i=n("./DataReader");function c(o){i.call(this,o)}n("../utils").inherits(c,i),c.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},c.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},c.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},c.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var i=n("./ArrayReader");function c(o){i.call(this,o)}n("../utils").inherits(c,i),c.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var i=n("../utils"),c=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),d=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(h){var f=i.getTypeOf(h);return i.checkSupport(f),f!=="string"||c.uint8array?f==="nodebuffer"?new d(h):c.uint8array?new u(i.transformTo("uint8array",h)):new o(i.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var i=n("./GenericWorker"),c=n("../utils");function o(l){i.call(this,"ConvertWorker to "+l),this.destType=l}c.inherits(o,i),o.prototype.processChunk=function(l){this.push({data:c.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var i=n("./GenericWorker"),c=n("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,i),o.prototype.processChunk=function(l){this.streamInfo.crc32=c(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var i=n("../utils"),c=n("./GenericWorker");function o(l){c.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(o,c),o.prototype.processChunk=function(l){if(l){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+l.data.length}c.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var i=n("../utils"),c=n("./GenericWorker");function o(l){c.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){d.dataIsReady=!0,d.data=u,d.max=u&&u.length||0,d.type=i.getTypeOf(u),d.isPaused||d._tickAndRepeat()},function(u){d.error(u)})}i.inherits(o,c),o.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,d);break;case"uint8array":l=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":l=this.data.slice(this.index,d)}return this.index=d,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function i(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,o){return this._listeners[c].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,o){if(this._listeners[c])for(var l=0;l<this._listeners[c].length;l++)this._listeners[c][l].call(this,o)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var o=this;return c.on("data",function(l){o.processChunk(l)}),c.on("end",function(){o.end()}),c.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,o){return this.extraStreamInfo[c]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=i},{}],29:[function(n,r,a){var i=n("../utils"),c=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),d=n("../support"),u=n("../external"),h=null;if(d.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(x,p){return new u.Promise(function(g,b){var v=[],w=x._internalType,C=x._outputType,y=x._mimeType;x.on("data",function(E,S){v.push(E),p&&p(S)}).on("error",function(E){v=[],b(E)}).on("end",function(){try{var E=function(S,R,I){switch(S){case"blob":return i.newBlob(i.transformTo("arraybuffer",R),I);case"base64":return l.encode(R);default:return i.transformTo(S,R)}}(C,function(S,R){var I,T=0,M=null,P=0;for(I=0;I<R.length;I++)P+=R[I].length;switch(S){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(M=new Uint8Array(P),I=0;I<R.length;I++)M.set(R[I],T),T+=R[I].length;return M;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+S+"'")}}(w,v),y);g(E)}catch(S){b(S)}v=[]}).resume()})}function m(x,p,g){var b=p;switch(p){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=p,this._mimeType=g,i.checkSupport(b),this._worker=x.pipe(new c(b)),x.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}m.prototype={accumulate:function(x){return f(this,x)},on:function(x,p){var g=this;return x==="data"?this._worker.on(x,function(b){p.call(g,b.data,b.meta)}):this._worker.on(x,function(){i.delay(p,arguments,g)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(i),a.blob=c.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var i=n("./utils"),c=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),d=new Array(256),u=0;u<256;u++)d[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;d[254]=d[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function f(){l.call(this,"utf-8 encode")}a.utf8encode=function(m){return c.nodebuffer?o.newBufferFrom(m,"utf-8"):function(x){var p,g,b,v,w,C=x.length,y=0;for(v=0;v<C;v++)(64512&(g=x.charCodeAt(v)))==55296&&v+1<C&&(64512&(b=x.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),v++),y+=g<128?1:g<2048?2:g<65536?3:4;for(p=c.uint8array?new Uint8Array(y):new Array(y),v=w=0;w<y;v++)(64512&(g=x.charCodeAt(v)))==55296&&v+1<C&&(64512&(b=x.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),v++),g<128?p[w++]=g:(g<2048?p[w++]=192|g>>>6:(g<65536?p[w++]=224|g>>>12:(p[w++]=240|g>>>18,p[w++]=128|g>>>12&63),p[w++]=128|g>>>6&63),p[w++]=128|63&g);return p}(m)},a.utf8decode=function(m){return c.nodebuffer?i.transformTo("nodebuffer",m).toString("utf-8"):function(x){var p,g,b,v,w=x.length,C=new Array(2*w);for(p=g=0;p<w;)if((b=x[p++])<128)C[g++]=b;else if(4<(v=d[b]))C[g++]=65533,p+=v-1;else{for(b&=v===2?31:v===3?15:7;1<v&&p<w;)b=b<<6|63&x[p++],v--;1<v?C[g++]=65533:b<65536?C[g++]=b:(b-=65536,C[g++]=55296|b>>10&1023,C[g++]=56320|1023&b)}return C.length!==g&&(C.subarray?C=C.subarray(0,g):C.length=g),i.applyFromCharCode(C)}(m=i.transformTo(c.uint8array?"uint8array":"array",m))},i.inherits(h,l),h.prototype.processChunk=function(m){var x=i.transformTo(c.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var p=x;(x=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),x.set(p,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var g=function(v,w){var C;for((w=w||v.length)>v.length&&(w=v.length),C=w-1;0<=C&&(192&v[C])==128;)C--;return C<0||C===0?w:C+d[v[C]]>w?C:w}(x),b=x;g!==x.length&&(c.uint8array?(b=x.subarray(0,g),this.leftOver=x.subarray(g,x.length)):(b=x.slice(0,g),this.leftOver=x.slice(g,x.length))),this.push({data:a.utf8decode(b),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=h,i.inherits(f,l),f.prototype.processChunk=function(m){this.push({data:a.utf8encode(m.data),meta:m.meta})},a.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var i=n("./support"),c=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function d(p){return p}function u(p,g){for(var b=0;b<p.length;++b)g[b]=255&p.charCodeAt(b);return g}n("setimmediate"),a.newBlob=function(p,g){a.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(p),b.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(p,g,b){var v=[],w=0,C=p.length;if(C<=b)return String.fromCharCode.apply(null,p);for(;w<C;)g==="array"||g==="nodebuffer"?v.push(String.fromCharCode.apply(null,p.slice(w,Math.min(w+b,C)))):v.push(String.fromCharCode.apply(null,p.subarray(w,Math.min(w+b,C)))),w+=b;return v.join("")},stringifyByChar:function(p){for(var g="",b=0;b<p.length;b++)g+=String.fromCharCode(p[b]);return g},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(p){var g=65536,b=a.getTypeOf(p),v=!0;if(b==="uint8array"?v=h.applyCanBeUsed.uint8array:b==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<g;)try{return h.stringifyByChunk(p,b,g)}catch{g=Math.floor(g/2)}return h.stringifyByChar(p)}function m(p,g){for(var b=0;b<p.length;b++)g[b]=p[b];return g}a.applyFromCharCode=f;var x={};x.string={string:d,array:function(p){return u(p,new Array(p.length))},arraybuffer:function(p){return x.string.uint8array(p).buffer},uint8array:function(p){return u(p,new Uint8Array(p.length))},nodebuffer:function(p){return u(p,o.allocBuffer(p.length))}},x.array={string:f,array:d,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},x.arraybuffer={string:function(p){return f(new Uint8Array(p))},array:function(p){return m(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:d,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},x.uint8array={string:f,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:d,nodebuffer:function(p){return o.newBufferFrom(p)}},x.nodebuffer={string:f,array:function(p){return m(p,new Array(p.length))},arraybuffer:function(p){return x.nodebuffer.uint8array(p).buffer},uint8array:function(p){return m(p,new Uint8Array(p.length))},nodebuffer:d},a.transformTo=function(p,g){if(g=g||"",!p)return g;a.checkSupport(p);var b=a.getTypeOf(g);return x[b][p](g)},a.resolve=function(p){for(var g=p.split("/"),b=[],v=0;v<g.length;v++){var w=g[v];w==="."||w===""&&v!==0&&v!==g.length-1||(w===".."?b.pop():b.push(w))}return b.join("/")},a.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":i.nodebuffer&&o.isBuffer(p)?"nodebuffer":i.uint8array&&p instanceof Uint8Array?"uint8array":i.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(p){if(!i[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(p){var g,b,v="";for(b=0;b<(p||"").length;b++)v+="\\x"+((g=p.charCodeAt(b))<16?"0":"")+g.toString(16).toUpperCase();return v},a.delay=function(p,g,b){setImmediate(function(){p.apply(b||null,g||[])})},a.inherits=function(p,g){function b(){}b.prototype=g.prototype,p.prototype=new b},a.extend=function(){var p,g,b={};for(p=0;p<arguments.length;p++)for(g in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],g)&&b[g]===void 0&&(b[g]=arguments[p][g]);return b},a.prepareContent=function(p,g,b,v,w){return l.Promise.resolve(g).then(function(C){return i.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new l.Promise(function(y,E){var S=new FileReader;S.onload=function(R){y(R.target.result)},S.onerror=function(R){E(R.target.error)},S.readAsArrayBuffer(C)}):C}).then(function(C){var y=a.getTypeOf(C);return y?(y==="arraybuffer"?C=a.transformTo("uint8array",C):y==="string"&&(w?C=c.decode(C):b&&v!==!0&&(C=function(E){return u(E,i.uint8array?new Uint8Array(E.length):new Array(E.length))}(C))),C):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var i=n("./reader/readerFor"),c=n("./utils"),o=n("./signature"),l=n("./zipEntry"),d=n("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(f)+", expected "+c.pretty(h)+")")}},isSignature:function(h,f){var m=this.reader.index;this.reader.setIndex(h);var x=this.reader.readString(4)===f;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=d.uint8array?"uint8array":"array",m=c.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,m,x=this.zip64EndOfCentralSize-44;0<x;)h=this.reader.readInt(2),f=this.reader.readInt(4),m=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=f-m;if(0<x)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(h){this.reader=i(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var i=n("./reader/readerFor"),c=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),d=n("./utf8"),u=n("./compressions"),h=n("./support");function f(m,x){this.options=m,this.loadOptions=x}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,p;if(m.skip(22),this.fileNameLength=m.readInt(2),p=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(g){for(var b in u)if(Object.prototype.hasOwnProperty.call(u,b)&&u[b].magic===g)return u[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=i(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,p,g,b=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<b;)x=m.readInt(2),p=m.readInt(2),g=m.readData(p),this.extraFields[x]={id:x,length:p,value:g};m.setIndex(b)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var p=c.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var b=c.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=i(m.value);return x.readInt(1)!==1||l(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=i(m.value);return x.readInt(1)!==1||l(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function i(x,p,g){this.name=x,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=p,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var c=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),d=n("./compressedObject"),u=n("./stream/GenericWorker");i.prototype={internalStream:function(x){var p=null,g="string";try{if(!x)throw new Error("No output type specified.");var b=(g=x.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),p=this._decompressWorker();var v=!this._dataBinary;v&&!b&&(p=p.pipe(new l.Utf8EncodeWorker)),!v&&b&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(w){(p=new u("error")).error(w)}return new c(p,g,"")},async:function(x,p){return this.internalStream(x).accumulate(p)},nodeStream:function(x,p){return this.internalStream(x||"nodebuffer").toNodejsStream(p)},_compressWorker:function(x,p){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),d.createWorkerFrom(g,x,p)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)i.prototype[h[m]]=f;r.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(i){var c,o,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var d=0,u=new l(x),h=i.document.createTextNode("");u.observe(h,{characterData:!0}),c=function(){h.data=d=++d%2}}else if(i.setImmediate||i.MessageChannel===void 0)c="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var p=i.document.createElement("script");p.onreadystatechange=function(){x(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},i.document.documentElement.appendChild(p)}:function(){setTimeout(x,0)};else{var f=new i.MessageChannel;f.port1.onmessage=x,c=function(){f.port2.postMessage(0)}}var m=[];function x(){var p,g;o=!0;for(var b=m.length;b;){for(g=m,m=[],p=-1;++p<b;)g[p]();b=m.length}o=!1}r.exports=function(p){m.push(p)!==1||o||c()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var i=n("immediate");function c(){}var o={},l=["REJECTED"],d=["FULFILLED"],u=["PENDING"];function h(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,b!==c&&p(this,b)}function f(b,v,w){this.promise=b,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function m(b,v,w){i(function(){var C;try{C=v(w)}catch(y){return o.reject(b,y)}C===b?o.reject(b,new TypeError("Cannot resolve promise with itself")):o.resolve(b,C)})}function x(b){var v=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof v=="function")return function(){v.apply(b,arguments)}}function p(b,v){var w=!1;function C(S){w||(w=!0,o.reject(b,S))}function y(S){w||(w=!0,o.resolve(b,S))}var E=g(function(){v(y,C)});E.status==="error"&&C(E.value)}function g(b,v){var w={};try{w.value=b(v),w.status="success"}catch(C){w.status="error",w.value=C}return w}(r.exports=h).prototype.finally=function(b){if(typeof b!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(b()).then(function(){return w})},function(w){return v.resolve(b()).then(function(){throw w})})},h.prototype.catch=function(b){return this.then(null,b)},h.prototype.then=function(b,v){if(typeof b!="function"&&this.state===d||typeof v!="function"&&this.state===l)return this;var w=new this.constructor(c);return this.state!==u?m(w,this.state===d?b:v,this.outcome):this.queue.push(new f(w,b,v)),w},f.prototype.callFulfilled=function(b){o.resolve(this.promise,b)},f.prototype.otherCallFulfilled=function(b){m(this.promise,this.onFulfilled,b)},f.prototype.callRejected=function(b){o.reject(this.promise,b)},f.prototype.otherCallRejected=function(b){m(this.promise,this.onRejected,b)},o.resolve=function(b,v){var w=g(x,v);if(w.status==="error")return o.reject(b,w.value);var C=w.value;if(C)p(b,C);else{b.state=d,b.outcome=v;for(var y=-1,E=b.queue.length;++y<E;)b.queue[y].callFulfilled(v)}return b},o.reject=function(b,v){b.state=l,b.outcome=v;for(var w=-1,C=b.queue.length;++w<C;)b.queue[w].callRejected(v);return b},h.resolve=function(b){return b instanceof this?b:o.resolve(new this(c),b)},h.reject=function(b){var v=new this(c);return o.reject(v,b)},h.all=function(b){var v=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var y=new Array(w),E=0,S=-1,R=new this(c);++S<w;)I(b[S],S);return R;function I(T,M){v.resolve(T).then(function(P){y[M]=P,++E!==w||C||(C=!0,o.resolve(R,y))},function(P){C||(C=!0,o.reject(R,P))})}},h.race=function(b){var v=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=b.length,C=!1;if(!w)return this.resolve([]);for(var y=-1,E=new this(c);++y<w;)S=b[y],v.resolve(S).then(function(R){C||(C=!0,o.resolve(E,R))},function(R){C||(C=!0,o.reject(E,R))});var S;return E}},{immediate:36}],38:[function(n,r,a){var i={};(0,n("./lib/utils/common").assign)(i,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var i=n("./zlib/deflate"),c=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),d=n("./zlib/zstream"),u=Object.prototype.toString,h=0,f=-1,m=0,x=8;function p(b){if(!(this instanceof p))return new p(b);this.options=c.assign({level:f,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},b||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=i.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==h)throw new Error(l[w]);if(v.header&&i.deflateSetHeader(this.strm,v.header),v.dictionary){var C;if(C=typeof v.dictionary=="string"?o.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=i.deflateSetDictionary(this.strm,C))!==h)throw new Error(l[w]);this._dict_set=!0}}function g(b,v){var w=new p(v);if(w.push(b,!0),w.err)throw w.msg||l[w.err];return w.result}p.prototype.push=function(b,v){var w,C,y=this.strm,E=this.options.chunkSize;if(this.ended)return!1;C=v===~~v?v:v===!0?4:0,typeof b=="string"?y.input=o.string2buf(b):u.call(b)==="[object ArrayBuffer]"?y.input=new Uint8Array(b):y.input=b,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new c.Buf8(E),y.next_out=0,y.avail_out=E),(w=i.deflate(y,C))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);y.avail_out!==0&&(y.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(c.shrinkBuf(y.output,y.next_out))):this.onData(c.shrinkBuf(y.output,y.next_out)))}while((0<y.avail_in||y.avail_out===0)&&w!==1);return C===4?(w=i.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):C!==2||(this.onEnd(h),!(y.avail_out=0))},p.prototype.onData=function(b){this.chunks.push(b)},p.prototype.onEnd=function(b){b===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},a.Deflate=p,a.deflate=g,a.deflateRaw=function(b,v){return(v=v||{}).raw=!0,g(b,v)},a.gzip=function(b,v){return(v=v||{}).gzip=!0,g(b,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var i=n("./zlib/inflate"),c=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),d=n("./zlib/messages"),u=n("./zlib/zstream"),h=n("./zlib/gzheader"),f=Object.prototype.toString;function m(p){if(!(this instanceof m))return new m(p);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||p&&p.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var b=i.inflateInit2(this.strm,g.windowBits);if(b!==l.Z_OK)throw new Error(d[b]);this.header=new h,i.inflateGetHeader(this.strm,this.header)}function x(p,g){var b=new m(g);if(b.push(p,!0),b.err)throw b.msg||d[b.err];return b.result}m.prototype.push=function(p,g){var b,v,w,C,y,E,S=this.strm,R=this.options.chunkSize,I=this.options.dictionary,T=!1;if(this.ended)return!1;v=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?S.input=o.binstring2buf(p):f.call(p)==="[object ArrayBuffer]"?S.input=new Uint8Array(p):S.input=p,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new c.Buf8(R),S.next_out=0,S.avail_out=R),(b=i.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&I&&(E=typeof I=="string"?o.string2buf(I):f.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,b=i.inflateSetDictionary(this.strm,E)),b===l.Z_BUF_ERROR&&T===!0&&(b=l.Z_OK,T=!1),b!==l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&b!==l.Z_STREAM_END&&(S.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(S.output,S.next_out),C=S.next_out-w,y=o.buf2string(S.output,w),S.next_out=C,S.avail_out=R-C,C&&c.arraySet(S.output,S.output,w,C,0),this.onData(y)):this.onData(c.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(T=!0)}while((0<S.avail_in||S.avail_out===0)&&b!==l.Z_STREAM_END);return b===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(b=i.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},a.Inflate=m,a.inflate=x,a.inflateRaw=function(p,g){return(g=g||{}).raw=!0,x(p,g)},a.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(l){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var u=d.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},a.shrinkBuf=function(l,d){return l.length===d?l:l.subarray?l.subarray(0,d):(l.length=d,l)};var c={arraySet:function(l,d,u,h,f){if(d.subarray&&l.subarray)l.set(d.subarray(u,u+h),f);else for(var m=0;m<h;m++)l[f+m]=d[u+m]},flattenChunks:function(l){var d,u,h,f,m,x;for(d=h=0,u=l.length;d<u;d++)h+=l[d].length;for(x=new Uint8Array(h),d=f=0,u=l.length;d<u;d++)m=l[d],x.set(m,f),f+=m.length;return x}},o={arraySet:function(l,d,u,h,f){for(var m=0;m<h;m++)l[f+m]=d[u+m]},flattenChunks:function(l){return[].concat.apply([],l)}};a.setTyped=function(l){l?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(i)},{}],42:[function(n,r,a){var i=n("./common"),c=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new i.Buf8(256),d=0;d<256;d++)l[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function u(h,f){if(f<65537&&(h.subarray&&o||!h.subarray&&c))return String.fromCharCode.apply(null,i.shrinkBuf(h,f));for(var m="",x=0;x<f;x++)m+=String.fromCharCode(h[x]);return m}l[254]=l[254]=1,a.string2buf=function(h){var f,m,x,p,g,b=h.length,v=0;for(p=0;p<b;p++)(64512&(m=h.charCodeAt(p)))==55296&&p+1<b&&(64512&(x=h.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),p++),v+=m<128?1:m<2048?2:m<65536?3:4;for(f=new i.Buf8(v),p=g=0;g<v;p++)(64512&(m=h.charCodeAt(p)))==55296&&p+1<b&&(64512&(x=h.charCodeAt(p+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),p++),m<128?f[g++]=m:(m<2048?f[g++]=192|m>>>6:(m<65536?f[g++]=224|m>>>12:(f[g++]=240|m>>>18,f[g++]=128|m>>>12&63),f[g++]=128|m>>>6&63),f[g++]=128|63&m);return f},a.buf2binstring=function(h){return u(h,h.length)},a.binstring2buf=function(h){for(var f=new i.Buf8(h.length),m=0,x=f.length;m<x;m++)f[m]=h.charCodeAt(m);return f},a.buf2string=function(h,f){var m,x,p,g,b=f||h.length,v=new Array(2*b);for(m=x=0;m<b;)if((p=h[m++])<128)v[x++]=p;else if(4<(g=l[p]))v[x++]=65533,m+=g-1;else{for(p&=g===2?31:g===3?15:7;1<g&&m<b;)p=p<<6|63&h[m++],g--;1<g?v[x++]=65533:p<65536?v[x++]=p:(p-=65536,v[x++]=55296|p>>10&1023,v[x++]=56320|1023&p)}return u(v,x)},a.utf8border=function(h,f){var m;for((f=f||h.length)>h.length&&(f=h.length),m=f-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?f:m+l[h[m]]>f?m:f}},{"./common":41}],43:[function(n,r,a){r.exports=function(i,c,o,l){for(var d=65535&i|0,u=i>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;u=u+(d=d+c[l++]|0)|0,--h;);d%=65521,u%=65521}return d|u<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var i=function(){for(var c,o=[],l=0;l<256;l++){c=l;for(var d=0;d<8;d++)c=1&c?3988292384^c>>>1:c>>>1;o[l]=c}return o}();r.exports=function(c,o,l,d){var u=i,h=d+l;c^=-1;for(var f=d;f<h;f++)c=c>>>8^u[255&(c^o[f])];return-1^c}},{}],46:[function(n,r,a){var i,c=n("../utils/common"),o=n("./trees"),l=n("./adler32"),d=n("./crc32"),u=n("./messages"),h=0,f=4,m=0,x=-2,p=-1,g=4,b=2,v=8,w=9,C=286,y=30,E=19,S=2*C+1,R=15,I=3,T=258,M=T+I+1,P=42,F=113,k=1,D=2,L=3,G=4;function z(A,ae){return A.msg=u[ae],ae}function $(A){return(A<<1)-(4<A?9:0)}function ne(A){for(var ae=A.length;0<=--ae;)A[ae]=0}function B(A){var ae=A.state,oe=ae.pending;oe>A.avail_out&&(oe=A.avail_out),oe!==0&&(c.arraySet(A.output,ae.pending_buf,ae.pending_out,oe,A.next_out),A.next_out+=oe,ae.pending_out+=oe,A.total_out+=oe,A.avail_out-=oe,ae.pending-=oe,ae.pending===0&&(ae.pending_out=0))}function H(A,ae){o._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ae),A.block_start=A.strstart,B(A.strm)}function W(A,ae){A.pending_buf[A.pending++]=ae}function q(A,ae){A.pending_buf[A.pending++]=ae>>>8&255,A.pending_buf[A.pending++]=255&ae}function Q(A,ae){var oe,V,Y=A.max_chain_length,se=A.strstart,pe=A.prev_length,de=A.nice_match,re=A.strstart>A.w_size-M?A.strstart-(A.w_size-M):0,be=A.window,we=A.w_mask,ve=A.prev,ee=A.strstart+T,O=be[se+pe-1],_=be[se+pe];A.prev_length>=A.good_match&&(Y>>=2),de>A.lookahead&&(de=A.lookahead);do if(be[(oe=ae)+pe]===_&&be[oe+pe-1]===O&&be[oe]===be[se]&&be[++oe]===be[se+1]){se+=2,oe++;do;while(be[++se]===be[++oe]&&be[++se]===be[++oe]&&be[++se]===be[++oe]&&be[++se]===be[++oe]&&be[++se]===be[++oe]&&be[++se]===be[++oe]&&be[++se]===be[++oe]&&be[++se]===be[++oe]&&se<ee);if(V=T-(ee-se),se=ee-T,pe<V){if(A.match_start=ae,de<=(pe=V))break;O=be[se+pe-1],_=be[se+pe]}}while((ae=ve[ae&we])>re&&--Y!=0);return pe<=A.lookahead?pe:A.lookahead}function he(A){var ae,oe,V,Y,se,pe,de,re,be,we,ve=A.w_size;do{if(Y=A.window_size-A.lookahead-A.strstart,A.strstart>=ve+(ve-M)){for(c.arraySet(A.window,A.window,ve,ve,0),A.match_start-=ve,A.strstart-=ve,A.block_start-=ve,ae=oe=A.hash_size;V=A.head[--ae],A.head[ae]=ve<=V?V-ve:0,--oe;);for(ae=oe=ve;V=A.prev[--ae],A.prev[ae]=ve<=V?V-ve:0,--oe;);Y+=ve}if(A.strm.avail_in===0)break;if(pe=A.strm,de=A.window,re=A.strstart+A.lookahead,be=Y,we=void 0,we=pe.avail_in,be<we&&(we=be),oe=we===0?0:(pe.avail_in-=we,c.arraySet(de,pe.input,pe.next_in,we,re),pe.state.wrap===1?pe.adler=l(pe.adler,de,we,re):pe.state.wrap===2&&(pe.adler=d(pe.adler,de,we,re)),pe.next_in+=we,pe.total_in+=we,we),A.lookahead+=oe,A.lookahead+A.insert>=I)for(se=A.strstart-A.insert,A.ins_h=A.window[se],A.ins_h=(A.ins_h<<A.hash_shift^A.window[se+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[se+I-1])&A.hash_mask,A.prev[se&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=se,se++,A.insert--,!(A.lookahead+A.insert<I)););}while(A.lookahead<M&&A.strm.avail_in!==0)}function K(A,ae){for(var oe,V;;){if(A.lookahead<M){if(he(A),A.lookahead<M&&ae===h)return k;if(A.lookahead===0)break}if(oe=0,A.lookahead>=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),oe!==0&&A.strstart-oe<=A.w_size-M&&(A.match_length=Q(A,oe)),A.match_length>=I)if(V=o._tr_tally(A,A.strstart-A.match_start,A.match_length-I),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=I){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else V=o._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(V&&(H(A,!1),A.strm.avail_out===0))return k}return A.insert=A.strstart<I-1?A.strstart:I-1,ae===f?(H(A,!0),A.strm.avail_out===0?L:G):A.last_lit&&(H(A,!1),A.strm.avail_out===0)?k:D}function J(A,ae){for(var oe,V,Y;;){if(A.lookahead<M){if(he(A),A.lookahead<M&&ae===h)return k;if(A.lookahead===0)break}if(oe=0,A.lookahead>=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=I-1,oe!==0&&A.prev_length<A.max_lazy_match&&A.strstart-oe<=A.w_size-M&&(A.match_length=Q(A,oe),A.match_length<=5&&(A.strategy===1||A.match_length===I&&4096<A.strstart-A.match_start)&&(A.match_length=I-1)),A.prev_length>=I&&A.match_length<=A.prev_length){for(Y=A.strstart+A.lookahead-I,V=o._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-I),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=Y&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,oe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=I-1,A.strstart++,V&&(H(A,!1),A.strm.avail_out===0))return k}else if(A.match_available){if((V=o._tr_tally(A,0,A.window[A.strstart-1]))&&H(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return k}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(V=o._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<I-1?A.strstart:I-1,ae===f?(H(A,!0),A.strm.avail_out===0?L:G):A.last_lit&&(H(A,!1),A.strm.avail_out===0)?k:D}function ce(A,ae,oe,V,Y){this.good_length=A,this.max_lazy=ae,this.nice_length=oe,this.max_chain=V,this.func=Y}function X(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*S),this.dyn_dtree=new c.Buf16(2*(2*y+1)),this.bl_tree=new c.Buf16(2*(2*E+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(R+1),this.heap=new c.Buf16(2*C+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*C+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ie(A){var ae;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=b,(ae=A.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?P:F,A.adler=ae.wrap===2?0:1,ae.last_flush=h,o._tr_init(ae),m):z(A,x)}function fe(A){var ae=ie(A);return ae===m&&function(oe){oe.window_size=2*oe.w_size,ne(oe.head),oe.max_lazy_match=i[oe.level].max_lazy,oe.good_match=i[oe.level].good_length,oe.nice_match=i[oe.level].nice_length,oe.max_chain_length=i[oe.level].max_chain,oe.strstart=0,oe.block_start=0,oe.lookahead=0,oe.insert=0,oe.match_length=oe.prev_length=I-1,oe.match_available=0,oe.ins_h=0}(A.state),ae}function xe(A,ae,oe,V,Y,se){if(!A)return x;var pe=1;if(ae===p&&(ae=6),V<0?(pe=0,V=-V):15<V&&(pe=2,V-=16),Y<1||w<Y||oe!==v||V<8||15<V||ae<0||9<ae||se<0||g<se)return z(A,x);V===8&&(V=9);var de=new X;return(A.state=de).strm=A,de.wrap=pe,de.gzhead=null,de.w_bits=V,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=Y+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+I-1)/I),de.window=new c.Buf8(2*de.w_size),de.head=new c.Buf16(de.hash_size),de.prev=new c.Buf16(de.w_size),de.lit_bufsize=1<<Y+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new c.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=ae,de.strategy=se,de.method=oe,fe(A)}i=[new ce(0,0,0,0,function(A,ae){var oe=65535;for(oe>A.pending_buf_size-5&&(oe=A.pending_buf_size-5);;){if(A.lookahead<=1){if(he(A),A.lookahead===0&&ae===h)return k;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var V=A.block_start+oe;if((A.strstart===0||A.strstart>=V)&&(A.lookahead=A.strstart-V,A.strstart=V,H(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-M&&(H(A,!1),A.strm.avail_out===0))return k}return A.insert=0,ae===f?(H(A,!0),A.strm.avail_out===0?L:G):(A.strstart>A.block_start&&(H(A,!1),A.strm.avail_out),k)}),new ce(4,4,8,4,K),new ce(4,5,16,8,K),new ce(4,6,32,32,K),new ce(4,4,16,16,J),new ce(8,16,32,32,J),new ce(8,16,128,128,J),new ce(8,32,128,256,J),new ce(32,128,258,1024,J),new ce(32,258,258,4096,J)],a.deflateInit=function(A,ae){return xe(A,ae,v,15,8,0)},a.deflateInit2=xe,a.deflateReset=fe,a.deflateResetKeep=ie,a.deflateSetHeader=function(A,ae){return A&&A.state?A.state.wrap!==2?x:(A.state.gzhead=ae,m):x},a.deflate=function(A,ae){var oe,V,Y,se;if(!A||!A.state||5<ae||ae<0)return A?z(A,x):x;if(V=A.state,!A.output||!A.input&&A.avail_in!==0||V.status===666&&ae!==f)return z(A,A.avail_out===0?-5:x);if(V.strm=A,oe=V.last_flush,V.last_flush=ae,V.status===P)if(V.wrap===2)A.adler=0,W(V,31),W(V,139),W(V,8),V.gzhead?(W(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),W(V,255&V.gzhead.time),W(V,V.gzhead.time>>8&255),W(V,V.gzhead.time>>16&255),W(V,V.gzhead.time>>24&255),W(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),W(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(W(V,255&V.gzhead.extra.length),W(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(A.adler=d(A.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(W(V,0),W(V,0),W(V,0),W(V,0),W(V,0),W(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),W(V,3),V.status=F);else{var pe=v+(V.w_bits-8<<4)<<8;pe|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(pe|=32),pe+=31-pe%31,V.status=F,q(V,pe),V.strstart!==0&&(q(V,A.adler>>>16),q(V,65535&A.adler)),A.adler=1}if(V.status===69)if(V.gzhead.extra){for(Y=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>Y&&(A.adler=d(A.adler,V.pending_buf,V.pending-Y,Y)),B(A),Y=V.pending,V.pending!==V.pending_buf_size));)W(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>Y&&(A.adler=d(A.adler,V.pending_buf,V.pending-Y,Y)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){Y=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>Y&&(A.adler=d(A.adler,V.pending_buf,V.pending-Y,Y)),B(A),Y=V.pending,V.pending===V.pending_buf_size)){se=1;break}se=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,W(V,se)}while(se!==0);V.gzhead.hcrc&&V.pending>Y&&(A.adler=d(A.adler,V.pending_buf,V.pending-Y,Y)),se===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){Y=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>Y&&(A.adler=d(A.adler,V.pending_buf,V.pending-Y,Y)),B(A),Y=V.pending,V.pending===V.pending_buf_size)){se=1;break}se=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,W(V,se)}while(se!==0);V.gzhead.hcrc&&V.pending>Y&&(A.adler=d(A.adler,V.pending_buf,V.pending-Y,Y)),se===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&B(A),V.pending+2<=V.pending_buf_size&&(W(V,255&A.adler),W(V,A.adler>>8&255),A.adler=0,V.status=F)):V.status=F),V.pending!==0){if(B(A),A.avail_out===0)return V.last_flush=-1,m}else if(A.avail_in===0&&$(ae)<=$(oe)&&ae!==f)return z(A,-5);if(V.status===666&&A.avail_in!==0)return z(A,-5);if(A.avail_in!==0||V.lookahead!==0||ae!==h&&V.status!==666){var de=V.strategy===2?function(re,be){for(var we;;){if(re.lookahead===0&&(he(re),re.lookahead===0)){if(be===h)return k;break}if(re.match_length=0,we=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,we&&(H(re,!1),re.strm.avail_out===0))return k}return re.insert=0,be===f?(H(re,!0),re.strm.avail_out===0?L:G):re.last_lit&&(H(re,!1),re.strm.avail_out===0)?k:D}(V,ae):V.strategy===3?function(re,be){for(var we,ve,ee,O,_=re.window;;){if(re.lookahead<=T){if(he(re),re.lookahead<=T&&be===h)return k;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=I&&0<re.strstart&&(ve=_[ee=re.strstart-1])===_[++ee]&&ve===_[++ee]&&ve===_[++ee]){O=re.strstart+T;do;while(ve===_[++ee]&&ve===_[++ee]&&ve===_[++ee]&&ve===_[++ee]&&ve===_[++ee]&&ve===_[++ee]&&ve===_[++ee]&&ve===_[++ee]&&ee<O);re.match_length=T-(O-ee),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=I?(we=o._tr_tally(re,1,re.match_length-I),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(we=o._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),we&&(H(re,!1),re.strm.avail_out===0))return k}return re.insert=0,be===f?(H(re,!0),re.strm.avail_out===0?L:G):re.last_lit&&(H(re,!1),re.strm.avail_out===0)?k:D}(V,ae):i[V.level].func(V,ae);if(de!==L&&de!==G||(V.status=666),de===k||de===L)return A.avail_out===0&&(V.last_flush=-1),m;if(de===D&&(ae===1?o._tr_align(V):ae!==5&&(o._tr_stored_block(V,0,0,!1),ae===3&&(ne(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),B(A),A.avail_out===0))return V.last_flush=-1,m}return ae!==f?m:V.wrap<=0?1:(V.wrap===2?(W(V,255&A.adler),W(V,A.adler>>8&255),W(V,A.adler>>16&255),W(V,A.adler>>24&255),W(V,255&A.total_in),W(V,A.total_in>>8&255),W(V,A.total_in>>16&255),W(V,A.total_in>>24&255)):(q(V,A.adler>>>16),q(V,65535&A.adler)),B(A),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?m:1)},a.deflateEnd=function(A){var ae;return A&&A.state?(ae=A.state.status)!==P&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==F&&ae!==666?z(A,x):(A.state=null,ae===F?z(A,-3):m):x},a.deflateSetDictionary=function(A,ae){var oe,V,Y,se,pe,de,re,be,we=ae.length;if(!A||!A.state||(se=(oe=A.state).wrap)===2||se===1&&oe.status!==P||oe.lookahead)return x;for(se===1&&(A.adler=l(A.adler,ae,we,0)),oe.wrap=0,we>=oe.w_size&&(se===0&&(ne(oe.head),oe.strstart=0,oe.block_start=0,oe.insert=0),be=new c.Buf8(oe.w_size),c.arraySet(be,ae,we-oe.w_size,oe.w_size,0),ae=be,we=oe.w_size),pe=A.avail_in,de=A.next_in,re=A.input,A.avail_in=we,A.next_in=0,A.input=ae,he(oe);oe.lookahead>=I;){for(V=oe.strstart,Y=oe.lookahead-(I-1);oe.ins_h=(oe.ins_h<<oe.hash_shift^oe.window[V+I-1])&oe.hash_mask,oe.prev[V&oe.w_mask]=oe.head[oe.ins_h],oe.head[oe.ins_h]=V,V++,--Y;);oe.strstart=V,oe.lookahead=I-1,he(oe)}return oe.strstart+=oe.lookahead,oe.block_start=oe.strstart,oe.insert=oe.lookahead,oe.lookahead=0,oe.match_length=oe.prev_length=I-1,oe.match_available=0,A.next_in=de,A.input=re,A.avail_in=pe,oe.wrap=se,m},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(i,c){var o,l,d,u,h,f,m,x,p,g,b,v,w,C,y,E,S,R,I,T,M,P,F,k,D;o=i.state,l=i.next_in,k=i.input,d=l+(i.avail_in-5),u=i.next_out,D=i.output,h=u-(c-i.avail_out),f=u+(i.avail_out-257),m=o.dmax,x=o.wsize,p=o.whave,g=o.wnext,b=o.window,v=o.hold,w=o.bits,C=o.lencode,y=o.distcode,E=(1<<o.lenbits)-1,S=(1<<o.distbits)-1;e:do{w<15&&(v+=k[l++]<<w,w+=8,v+=k[l++]<<w,w+=8),R=C[v&E];t:for(;;){if(v>>>=I=R>>>24,w-=I,(I=R>>>16&255)===0)D[u++]=65535&R;else{if(!(16&I)){if((64&I)==0){R=C[(65535&R)+(v&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}i.msg="invalid literal/length code",o.mode=30;break e}T=65535&R,(I&=15)&&(w<I&&(v+=k[l++]<<w,w+=8),T+=v&(1<<I)-1,v>>>=I,w-=I),w<15&&(v+=k[l++]<<w,w+=8,v+=k[l++]<<w,w+=8),R=y[v&S];n:for(;;){if(v>>>=I=R>>>24,w-=I,!(16&(I=R>>>16&255))){if((64&I)==0){R=y[(65535&R)+(v&(1<<I)-1)];continue n}i.msg="invalid distance code",o.mode=30;break e}if(M=65535&R,w<(I&=15)&&(v+=k[l++]<<w,(w+=8)<I&&(v+=k[l++]<<w,w+=8)),m<(M+=v&(1<<I)-1)){i.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=I,w-=I,(I=u-h)<M){if(p<(I=M-I)&&o.sane){i.msg="invalid distance too far back",o.mode=30;break e}if(F=b,(P=0)===g){if(P+=x-I,I<T){for(T-=I;D[u++]=b[P++],--I;);P=u-M,F=D}}else if(g<I){if(P+=x+g-I,(I-=g)<T){for(T-=I;D[u++]=b[P++],--I;);if(P=0,g<T){for(T-=I=g;D[u++]=b[P++],--I;);P=u-M,F=D}}}else if(P+=g-I,I<T){for(T-=I;D[u++]=b[P++],--I;);P=u-M,F=D}for(;2<T;)D[u++]=F[P++],D[u++]=F[P++],D[u++]=F[P++],T-=3;T&&(D[u++]=F[P++],1<T&&(D[u++]=F[P++]))}else{for(P=u-M;D[u++]=D[P++],D[u++]=D[P++],D[u++]=D[P++],2<(T-=3););T&&(D[u++]=D[P++],1<T&&(D[u++]=D[P++]))}break}}break}}while(l<d&&u<f);l-=T=w>>3,v&=(1<<(w-=T<<3))-1,i.next_in=l,i.next_out=u,i.avail_in=l<d?d-l+5:5-(l-d),i.avail_out=u<f?f-u+257:257-(u-f),o.hold=v,o.bits=w}},{}],49:[function(n,r,a){var i=n("../utils/common"),c=n("./adler32"),o=n("./crc32"),l=n("./inffast"),d=n("./inftrees"),u=1,h=2,f=0,m=-2,x=1,p=852,g=592;function b(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(P){var F;return P&&P.state?(F=P.state,P.total_in=P.total_out=F.total=0,P.msg="",F.wrap&&(P.adler=1&F.wrap),F.mode=x,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(p),F.distcode=F.distdyn=new i.Buf32(g),F.sane=1,F.back=-1,f):m}function C(P){var F;return P&&P.state?((F=P.state).wsize=0,F.whave=0,F.wnext=0,w(P)):m}function y(P,F){var k,D;return P&&P.state?(D=P.state,F<0?(k=0,F=-F):(k=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?m:(D.window!==null&&D.wbits!==F&&(D.window=null),D.wrap=k,D.wbits=F,C(P))):m}function E(P,F){var k,D;return P?(D=new v,(P.state=D).window=null,(k=y(P,F))!==f&&(P.state=null),k):m}var S,R,I=!0;function T(P){if(I){var F;for(S=new i.Buf32(512),R=new i.Buf32(32),F=0;F<144;)P.lens[F++]=8;for(;F<256;)P.lens[F++]=9;for(;F<280;)P.lens[F++]=7;for(;F<288;)P.lens[F++]=8;for(d(u,P.lens,0,288,S,0,P.work,{bits:9}),F=0;F<32;)P.lens[F++]=5;d(h,P.lens,0,32,R,0,P.work,{bits:5}),I=!1}P.lencode=S,P.lenbits=9,P.distcode=R,P.distbits=5}function M(P,F,k,D){var L,G=P.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new i.Buf8(G.wsize)),D>=G.wsize?(i.arraySet(G.window,F,k-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(D<(L=G.wsize-G.wnext)&&(L=D),i.arraySet(G.window,F,k-D,L,G.wnext),(D-=L)?(i.arraySet(G.window,F,k-D,D,0),G.wnext=D,G.whave=G.wsize):(G.wnext+=L,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=L))),0}a.inflateReset=C,a.inflateReset2=y,a.inflateResetKeep=w,a.inflateInit=function(P){return E(P,15)},a.inflateInit2=E,a.inflate=function(P,F){var k,D,L,G,z,$,ne,B,H,W,q,Q,he,K,J,ce,X,ie,fe,xe,A,ae,oe,V,Y=0,se=new i.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return m;(k=P.state).mode===12&&(k.mode=13),z=P.next_out,L=P.output,ne=P.avail_out,G=P.next_in,D=P.input,$=P.avail_in,B=k.hold,H=k.bits,W=$,q=ne,ae=f;e:for(;;)switch(k.mode){case x:if(k.wrap===0){k.mode=13;break}for(;H<16;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(2&k.wrap&&B===35615){se[k.check=0]=255&B,se[1]=B>>>8&255,k.check=o(k.check,se,2,0),H=B=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&B)<<8)+(B>>8))%31){P.msg="incorrect header check",k.mode=30;break}if((15&B)!=8){P.msg="unknown compression method",k.mode=30;break}if(H-=4,A=8+(15&(B>>>=4)),k.wbits===0)k.wbits=A;else if(A>k.wbits){P.msg="invalid window size",k.mode=30;break}k.dmax=1<<A,P.adler=k.check=1,k.mode=512&B?10:12,H=B=0;break;case 2:for(;H<16;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(k.flags=B,(255&k.flags)!=8){P.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){P.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=B>>8&1),512&k.flags&&(se[0]=255&B,se[1]=B>>>8&255,k.check=o(k.check,se,2,0)),H=B=0,k.mode=3;case 3:for(;H<32;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}k.head&&(k.head.time=B),512&k.flags&&(se[0]=255&B,se[1]=B>>>8&255,se[2]=B>>>16&255,se[3]=B>>>24&255,k.check=o(k.check,se,4,0)),H=B=0,k.mode=4;case 4:for(;H<16;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}k.head&&(k.head.xflags=255&B,k.head.os=B>>8),512&k.flags&&(se[0]=255&B,se[1]=B>>>8&255,k.check=o(k.check,se,2,0)),H=B=0,k.mode=5;case 5:if(1024&k.flags){for(;H<16;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}k.length=B,k.head&&(k.head.extra_len=B),512&k.flags&&(se[0]=255&B,se[1]=B>>>8&255,k.check=o(k.check,se,2,0)),H=B=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&($<(Q=k.length)&&(Q=$),Q&&(k.head&&(A=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),i.arraySet(k.head.extra,D,G,Q,A)),512&k.flags&&(k.check=o(k.check,D,Q,G)),$-=Q,G+=Q,k.length-=Q),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if($===0)break e;for(Q=0;A=D[G+Q++],k.head&&A&&k.length<65536&&(k.head.name+=String.fromCharCode(A)),A&&Q<$;);if(512&k.flags&&(k.check=o(k.check,D,Q,G)),$-=Q,G+=Q,A)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if($===0)break e;for(Q=0;A=D[G+Q++],k.head&&A&&k.length<65536&&(k.head.comment+=String.fromCharCode(A)),A&&Q<$;);if(512&k.flags&&(k.check=o(k.check,D,Q,G)),$-=Q,G+=Q,A)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;H<16;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(B!==(65535&k.check)){P.msg="header crc mismatch",k.mode=30;break}H=B=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),P.adler=k.check=0,k.mode=12;break;case 10:for(;H<32;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}P.adler=k.check=b(B),H=B=0,k.mode=11;case 11:if(k.havedict===0)return P.next_out=z,P.avail_out=ne,P.next_in=G,P.avail_in=$,k.hold=B,k.bits=H,2;P.adler=k.check=1,k.mode=12;case 12:if(F===5||F===6)break e;case 13:if(k.last){B>>>=7&H,H-=7&H,k.mode=27;break}for(;H<3;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}switch(k.last=1&B,H-=1,3&(B>>>=1)){case 0:k.mode=14;break;case 1:if(T(k),k.mode=20,F!==6)break;B>>>=2,H-=2;break e;case 2:k.mode=17;break;case 3:P.msg="invalid block type",k.mode=30}B>>>=2,H-=2;break;case 14:for(B>>>=7&H,H-=7&H;H<32;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if((65535&B)!=(B>>>16^65535)){P.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&B,H=B=0,k.mode=15,F===6)break e;case 15:k.mode=16;case 16:if(Q=k.length){if($<Q&&(Q=$),ne<Q&&(Q=ne),Q===0)break e;i.arraySet(L,D,G,Q,z),$-=Q,G+=Q,ne-=Q,z+=Q,k.length-=Q;break}k.mode=12;break;case 17:for(;H<14;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(k.nlen=257+(31&B),B>>>=5,H-=5,k.ndist=1+(31&B),B>>>=5,H-=5,k.ncode=4+(15&B),B>>>=4,H-=4,286<k.nlen||30<k.ndist){P.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;H<3;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}k.lens[pe[k.have++]]=7&B,B>>>=3,H-=3}for(;k.have<19;)k.lens[pe[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,oe={bits:k.lenbits},ae=d(0,k.lens,0,19,k.lencode,0,k.work,oe),k.lenbits=oe.bits,ae){P.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ce=(Y=k.lencode[B&(1<<k.lenbits)-1])>>>16&255,X=65535&Y,!((J=Y>>>24)<=H);){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(X<16)B>>>=J,H-=J,k.lens[k.have++]=X;else{if(X===16){for(V=J+2;H<V;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(B>>>=J,H-=J,k.have===0){P.msg="invalid bit length repeat",k.mode=30;break}A=k.lens[k.have-1],Q=3+(3&B),B>>>=2,H-=2}else if(X===17){for(V=J+3;H<V;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}H-=J,A=0,Q=3+(7&(B>>>=J)),B>>>=3,H-=3}else{for(V=J+7;H<V;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}H-=J,A=0,Q=11+(127&(B>>>=J)),B>>>=7,H-=7}if(k.have+Q>k.nlen+k.ndist){P.msg="invalid bit length repeat",k.mode=30;break}for(;Q--;)k.lens[k.have++]=A}}if(k.mode===30)break;if(k.lens[256]===0){P.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,oe={bits:k.lenbits},ae=d(u,k.lens,0,k.nlen,k.lencode,0,k.work,oe),k.lenbits=oe.bits,ae){P.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,oe={bits:k.distbits},ae=d(h,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,oe),k.distbits=oe.bits,ae){P.msg="invalid distances set",k.mode=30;break}if(k.mode=20,F===6)break e;case 20:k.mode=21;case 21:if(6<=$&&258<=ne){P.next_out=z,P.avail_out=ne,P.next_in=G,P.avail_in=$,k.hold=B,k.bits=H,l(P,q),z=P.next_out,L=P.output,ne=P.avail_out,G=P.next_in,D=P.input,$=P.avail_in,B=k.hold,H=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ce=(Y=k.lencode[B&(1<<k.lenbits)-1])>>>16&255,X=65535&Y,!((J=Y>>>24)<=H);){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(ce&&(240&ce)==0){for(ie=J,fe=ce,xe=X;ce=(Y=k.lencode[xe+((B&(1<<ie+fe)-1)>>ie)])>>>16&255,X=65535&Y,!(ie+(J=Y>>>24)<=H);){if($===0)break e;$--,B+=D[G++]<<H,H+=8}B>>>=ie,H-=ie,k.back+=ie}if(B>>>=J,H-=J,k.back+=J,k.length=X,ce===0){k.mode=26;break}if(32&ce){k.back=-1,k.mode=12;break}if(64&ce){P.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ce,k.mode=22;case 22:if(k.extra){for(V=k.extra;H<V;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}k.length+=B&(1<<k.extra)-1,B>>>=k.extra,H-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ce=(Y=k.distcode[B&(1<<k.distbits)-1])>>>16&255,X=65535&Y,!((J=Y>>>24)<=H);){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if((240&ce)==0){for(ie=J,fe=ce,xe=X;ce=(Y=k.distcode[xe+((B&(1<<ie+fe)-1)>>ie)])>>>16&255,X=65535&Y,!(ie+(J=Y>>>24)<=H);){if($===0)break e;$--,B+=D[G++]<<H,H+=8}B>>>=ie,H-=ie,k.back+=ie}if(B>>>=J,H-=J,k.back+=J,64&ce){P.msg="invalid distance code",k.mode=30;break}k.offset=X,k.extra=15&ce,k.mode=24;case 24:if(k.extra){for(V=k.extra;H<V;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}k.offset+=B&(1<<k.extra)-1,B>>>=k.extra,H-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){P.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(ne===0)break e;if(Q=q-ne,k.offset>Q){if((Q=k.offset-Q)>k.whave&&k.sane){P.msg="invalid distance too far back",k.mode=30;break}he=Q>k.wnext?(Q-=k.wnext,k.wsize-Q):k.wnext-Q,Q>k.length&&(Q=k.length),K=k.window}else K=L,he=z-k.offset,Q=k.length;for(ne<Q&&(Q=ne),ne-=Q,k.length-=Q;L[z++]=K[he++],--Q;);k.length===0&&(k.mode=21);break;case 26:if(ne===0)break e;L[z++]=k.length,ne--,k.mode=21;break;case 27:if(k.wrap){for(;H<32;){if($===0)break e;$--,B|=D[G++]<<H,H+=8}if(q-=ne,P.total_out+=q,k.total+=q,q&&(P.adler=k.check=k.flags?o(k.check,L,q,z-q):c(k.check,L,q,z-q)),q=ne,(k.flags?B:b(B))!==k.check){P.msg="incorrect data check",k.mode=30;break}H=B=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;H<32;){if($===0)break e;$--,B+=D[G++]<<H,H+=8}if(B!==(4294967295&k.total)){P.msg="incorrect length check",k.mode=30;break}H=B=0}k.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return m}return P.next_out=z,P.avail_out=ne,P.next_in=G,P.avail_in=$,k.hold=B,k.bits=H,(k.wsize||q!==P.avail_out&&k.mode<30&&(k.mode<27||F!==4))&&M(P,P.output,P.next_out,q-P.avail_out)?(k.mode=31,-4):(W-=P.avail_in,q-=P.avail_out,P.total_in+=W,P.total_out+=q,k.total+=q,k.wrap&&q&&(P.adler=k.check=k.flags?o(k.check,L,q,P.next_out-q):c(k.check,L,q,P.next_out-q)),P.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(W==0&&q===0||F===4)&&ae===f&&(ae=-5),ae)},a.inflateEnd=function(P){if(!P||!P.state)return m;var F=P.state;return F.window&&(F.window=null),P.state=null,f},a.inflateGetHeader=function(P,F){var k;return P&&P.state?(2&(k=P.state).wrap)==0?m:((k.head=F).done=!1,f):m},a.inflateSetDictionary=function(P,F){var k,D=F.length;return P&&P.state?(k=P.state).wrap!==0&&k.mode!==11?m:k.mode===11&&c(1,F,D,0)!==k.check?-3:M(P,F,D,D)?(k.mode=31,-4):(k.havedict=1,f):m},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var i=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,h,f,m,x,p,g,b){var v,w,C,y,E,S,R,I,T,M=b.bits,P=0,F=0,k=0,D=0,L=0,G=0,z=0,$=0,ne=0,B=0,H=null,W=0,q=new i.Buf16(16),Q=new i.Buf16(16),he=null,K=0;for(P=0;P<=15;P++)q[P]=0;for(F=0;F<m;F++)q[h[f+F]]++;for(L=M,D=15;1<=D&&q[D]===0;D--);if(D<L&&(L=D),D===0)return x[p++]=20971520,x[p++]=20971520,b.bits=1,0;for(k=1;k<D&&q[k]===0;k++);for(L<k&&(L=k),P=$=1;P<=15;P++)if($<<=1,($-=q[P])<0)return-1;if(0<$&&(u===0||D!==1))return-1;for(Q[1]=0,P=1;P<15;P++)Q[P+1]=Q[P]+q[P];for(F=0;F<m;F++)h[f+F]!==0&&(g[Q[h[f+F]]++]=F);if(S=u===0?(H=he=g,19):u===1?(H=c,W-=257,he=o,K-=257,256):(H=l,he=d,-1),P=k,E=p,z=F=B=0,C=-1,y=(ne=1<<(G=L))-1,u===1&&852<ne||u===2&&592<ne)return 1;for(;;){for(R=P-z,T=g[F]<S?(I=0,g[F]):g[F]>S?(I=he[K+g[F]],H[W+g[F]]):(I=96,0),v=1<<P-z,k=w=1<<G;x[E+(B>>z)+(w-=v)]=R<<24|I<<16|T|0,w!==0;);for(v=1<<P-1;B&v;)v>>=1;if(v!==0?(B&=v-1,B+=v):B=0,F++,--q[P]==0){if(P===D)break;P=h[f+g[F]]}if(L<P&&(B&y)!==C){for(z===0&&(z=L),E+=k,$=1<<(G=P-z);G+z<D&&!(($-=q[G+z])<=0);)G++,$<<=1;if(ne+=1<<G,u===1&&852<ne||u===2&&592<ne)return 1;x[C=B&y]=L<<24|G<<16|E-p|0}}return B!==0&&(x[E+B]=P-z<<24|64<<16|0),b.bits=L,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var i=n("../utils/common"),c=0,o=1;function l(Y){for(var se=Y.length;0<=--se;)Y[se]=0}var d=0,u=29,h=256,f=h+1+u,m=30,x=19,p=2*f+1,g=15,b=16,v=7,w=256,C=16,y=17,E=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(f+2));l(M);var P=new Array(2*m);l(P);var F=new Array(512);l(F);var k=new Array(256);l(k);var D=new Array(u);l(D);var L,G,z,$=new Array(m);function ne(Y,se,pe,de,re){this.static_tree=Y,this.extra_bits=se,this.extra_base=pe,this.elems=de,this.max_length=re,this.has_stree=Y&&Y.length}function B(Y,se){this.dyn_tree=Y,this.max_code=0,this.stat_desc=se}function H(Y){return Y<256?F[Y]:F[256+(Y>>>7)]}function W(Y,se){Y.pending_buf[Y.pending++]=255&se,Y.pending_buf[Y.pending++]=se>>>8&255}function q(Y,se,pe){Y.bi_valid>b-pe?(Y.bi_buf|=se<<Y.bi_valid&65535,W(Y,Y.bi_buf),Y.bi_buf=se>>b-Y.bi_valid,Y.bi_valid+=pe-b):(Y.bi_buf|=se<<Y.bi_valid&65535,Y.bi_valid+=pe)}function Q(Y,se,pe){q(Y,pe[2*se],pe[2*se+1])}function he(Y,se){for(var pe=0;pe|=1&Y,Y>>>=1,pe<<=1,0<--se;);return pe>>>1}function K(Y,se,pe){var de,re,be=new Array(g+1),we=0;for(de=1;de<=g;de++)be[de]=we=we+pe[de-1]<<1;for(re=0;re<=se;re++){var ve=Y[2*re+1];ve!==0&&(Y[2*re]=he(be[ve]++,ve))}}function J(Y){var se;for(se=0;se<f;se++)Y.dyn_ltree[2*se]=0;for(se=0;se<m;se++)Y.dyn_dtree[2*se]=0;for(se=0;se<x;se++)Y.bl_tree[2*se]=0;Y.dyn_ltree[2*w]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function ce(Y){8<Y.bi_valid?W(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function X(Y,se,pe,de){var re=2*se,be=2*pe;return Y[re]<Y[be]||Y[re]===Y[be]&&de[se]<=de[pe]}function ie(Y,se,pe){for(var de=Y.heap[pe],re=pe<<1;re<=Y.heap_len&&(re<Y.heap_len&&X(se,Y.heap[re+1],Y.heap[re],Y.depth)&&re++,!X(se,de,Y.heap[re],Y.depth));)Y.heap[pe]=Y.heap[re],pe=re,re<<=1;Y.heap[pe]=de}function fe(Y,se,pe){var de,re,be,we,ve=0;if(Y.last_lit!==0)for(;de=Y.pending_buf[Y.d_buf+2*ve]<<8|Y.pending_buf[Y.d_buf+2*ve+1],re=Y.pending_buf[Y.l_buf+ve],ve++,de===0?Q(Y,re,se):(Q(Y,(be=k[re])+h+1,se),(we=S[be])!==0&&q(Y,re-=D[be],we),Q(Y,be=H(--de),pe),(we=R[be])!==0&&q(Y,de-=$[be],we)),ve<Y.last_lit;);Q(Y,w,se)}function xe(Y,se){var pe,de,re,be=se.dyn_tree,we=se.stat_desc.static_tree,ve=se.stat_desc.has_stree,ee=se.stat_desc.elems,O=-1;for(Y.heap_len=0,Y.heap_max=p,pe=0;pe<ee;pe++)be[2*pe]!==0?(Y.heap[++Y.heap_len]=O=pe,Y.depth[pe]=0):be[2*pe+1]=0;for(;Y.heap_len<2;)be[2*(re=Y.heap[++Y.heap_len]=O<2?++O:0)]=1,Y.depth[re]=0,Y.opt_len--,ve&&(Y.static_len-=we[2*re+1]);for(se.max_code=O,pe=Y.heap_len>>1;1<=pe;pe--)ie(Y,be,pe);for(re=ee;pe=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],ie(Y,be,1),de=Y.heap[1],Y.heap[--Y.heap_max]=pe,Y.heap[--Y.heap_max]=de,be[2*re]=be[2*pe]+be[2*de],Y.depth[re]=(Y.depth[pe]>=Y.depth[de]?Y.depth[pe]:Y.depth[de])+1,be[2*pe+1]=be[2*de+1]=re,Y.heap[1]=re++,ie(Y,be,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(_,j){var Z,te,le,ue,Ne,De,Ie=j.dyn_tree,Ze=j.max_code,je=j.stat_desc.static_tree,Ke=j.stat_desc.has_stree,nt=j.stat_desc.extra_bits,Dt=j.stat_desc.extra_base,qt=j.stat_desc.max_length,pn=0;for(ue=0;ue<=g;ue++)_.bl_count[ue]=0;for(Ie[2*_.heap[_.heap_max]+1]=0,Z=_.heap_max+1;Z<p;Z++)qt<(ue=Ie[2*Ie[2*(te=_.heap[Z])+1]+1]+1)&&(ue=qt,pn++),Ie[2*te+1]=ue,Ze<te||(_.bl_count[ue]++,Ne=0,Dt<=te&&(Ne=nt[te-Dt]),De=Ie[2*te],_.opt_len+=De*(ue+Ne),Ke&&(_.static_len+=De*(je[2*te+1]+Ne)));if(pn!==0){do{for(ue=qt-1;_.bl_count[ue]===0;)ue--;_.bl_count[ue]--,_.bl_count[ue+1]+=2,_.bl_count[qt]--,pn-=2}while(0<pn);for(ue=qt;ue!==0;ue--)for(te=_.bl_count[ue];te!==0;)Ze<(le=_.heap[--Z])||(Ie[2*le+1]!==ue&&(_.opt_len+=(ue-Ie[2*le+1])*Ie[2*le],Ie[2*le+1]=ue),te--)}}(Y,se),K(be,O,Y.bl_count)}function A(Y,se,pe){var de,re,be=-1,we=se[1],ve=0,ee=7,O=4;for(we===0&&(ee=138,O=3),se[2*(pe+1)+1]=65535,de=0;de<=pe;de++)re=we,we=se[2*(de+1)+1],++ve<ee&&re===we||(ve<O?Y.bl_tree[2*re]+=ve:re!==0?(re!==be&&Y.bl_tree[2*re]++,Y.bl_tree[2*C]++):ve<=10?Y.bl_tree[2*y]++:Y.bl_tree[2*E]++,be=re,O=(ve=0)===we?(ee=138,3):re===we?(ee=6,3):(ee=7,4))}function ae(Y,se,pe){var de,re,be=-1,we=se[1],ve=0,ee=7,O=4;for(we===0&&(ee=138,O=3),de=0;de<=pe;de++)if(re=we,we=se[2*(de+1)+1],!(++ve<ee&&re===we)){if(ve<O)for(;Q(Y,re,Y.bl_tree),--ve!=0;);else re!==0?(re!==be&&(Q(Y,re,Y.bl_tree),ve--),Q(Y,C,Y.bl_tree),q(Y,ve-3,2)):ve<=10?(Q(Y,y,Y.bl_tree),q(Y,ve-3,3)):(Q(Y,E,Y.bl_tree),q(Y,ve-11,7));be=re,O=(ve=0)===we?(ee=138,3):re===we?(ee=6,3):(ee=7,4)}}l($);var oe=!1;function V(Y,se,pe,de){q(Y,(d<<1)+(de?1:0),3),function(re,be,we,ve){ce(re),W(re,we),W(re,~we),i.arraySet(re.pending_buf,re.window,be,we,re.pending),re.pending+=we}(Y,se,pe)}a._tr_init=function(Y){oe||(function(){var se,pe,de,re,be,we=new Array(g+1);for(re=de=0;re<u-1;re++)for(D[re]=de,se=0;se<1<<S[re];se++)k[de++]=re;for(k[de-1]=re,re=be=0;re<16;re++)for($[re]=be,se=0;se<1<<R[re];se++)F[be++]=re;for(be>>=7;re<m;re++)for($[re]=be<<7,se=0;se<1<<R[re]-7;se++)F[256+be++]=re;for(pe=0;pe<=g;pe++)we[pe]=0;for(se=0;se<=143;)M[2*se+1]=8,se++,we[8]++;for(;se<=255;)M[2*se+1]=9,se++,we[9]++;for(;se<=279;)M[2*se+1]=7,se++,we[7]++;for(;se<=287;)M[2*se+1]=8,se++,we[8]++;for(K(M,f+1,we),se=0;se<m;se++)P[2*se+1]=5,P[2*se]=he(se,5);L=new ne(M,S,h+1,f,g),G=new ne(P,R,0,m,g),z=new ne(new Array(0),I,0,x,v)}(),oe=!0),Y.l_desc=new B(Y.dyn_ltree,L),Y.d_desc=new B(Y.dyn_dtree,G),Y.bl_desc=new B(Y.bl_tree,z),Y.bi_buf=0,Y.bi_valid=0,J(Y)},a._tr_stored_block=V,a._tr_flush_block=function(Y,se,pe,de){var re,be,we=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(ve){var ee,O=4093624447;for(ee=0;ee<=31;ee++,O>>>=1)if(1&O&&ve.dyn_ltree[2*ee]!==0)return c;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return o;for(ee=32;ee<h;ee++)if(ve.dyn_ltree[2*ee]!==0)return o;return c}(Y)),xe(Y,Y.l_desc),xe(Y,Y.d_desc),we=function(ve){var ee;for(A(ve,ve.dyn_ltree,ve.l_desc.max_code),A(ve,ve.dyn_dtree,ve.d_desc.max_code),xe(ve,ve.bl_desc),ee=x-1;3<=ee&&ve.bl_tree[2*T[ee]+1]===0;ee--);return ve.opt_len+=3*(ee+1)+5+5+4,ee}(Y),re=Y.opt_len+3+7>>>3,(be=Y.static_len+3+7>>>3)<=re&&(re=be)):re=be=pe+5,pe+4<=re&&se!==-1?V(Y,se,pe,de):Y.strategy===4||be===re?(q(Y,2+(de?1:0),3),fe(Y,M,P)):(q(Y,4+(de?1:0),3),function(ve,ee,O,_){var j;for(q(ve,ee-257,5),q(ve,O-1,5),q(ve,_-4,4),j=0;j<_;j++)q(ve,ve.bl_tree[2*T[j]+1],3);ae(ve,ve.dyn_ltree,ee-1),ae(ve,ve.dyn_dtree,O-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,we+1),fe(Y,Y.dyn_ltree,Y.dyn_dtree)),J(Y),de&&ce(Y)},a._tr_tally=function(Y,se,pe){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=se>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&se,Y.pending_buf[Y.l_buf+Y.last_lit]=255&pe,Y.last_lit++,se===0?Y.dyn_ltree[2*pe]++:(Y.matches++,se--,Y.dyn_ltree[2*(k[pe]+h+1)]++,Y.dyn_dtree[2*H(se)]++),Y.last_lit===Y.lit_bufsize-1},a._tr_align=function(Y){q(Y,2,3),Q(Y,w,M),function(se){se.bi_valid===16?(W(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){(function(i){(function(c,o){if(!c.setImmediate){var l,d,u,h,f=1,m={},x=!1,p=c.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(c);g=g&&g.setTimeout?g:c,l={}.toString.call(c.process)==="[object process]"?function(C){process.nextTick(function(){v(C)})}:function(){if(c.postMessage&&!c.importScripts){var C=!0,y=c.onmessage;return c.onmessage=function(){C=!1},c.postMessage("","*"),c.onmessage=y,C}}()?(h="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",w,!1):c.attachEvent("onmessage",w),function(C){c.postMessage(h+C,"*")}):c.MessageChannel?((u=new MessageChannel).port1.onmessage=function(C){v(C.data)},function(C){u.port2.postMessage(C)}):p&&"onreadystatechange"in p.createElement("script")?(d=p.documentElement,function(C){var y=p.createElement("script");y.onreadystatechange=function(){v(C),y.onreadystatechange=null,d.removeChild(y),y=null},d.appendChild(y)}):function(C){setTimeout(v,0,C)},g.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var y=new Array(arguments.length-1),E=0;E<y.length;E++)y[E]=arguments[E+1];var S={callback:C,args:y};return m[f]=S,l(f),f++},g.clearImmediate=b}function b(C){delete m[C]}function v(C){if(x)setTimeout(v,0,C);else{var y=m[C];if(y){x=!0;try{(function(E){var S=E.callback,R=E.args;switch(R.length){case 0:S();break;case 1:S(R[0]);break;case 2:S(R[0],R[1]);break;case 3:S(R[0],R[1],R[2]);break;default:S.apply(o,R)}})(y)}finally{b(C),x=!1}}}}function w(C){C.source===c&&typeof C.data=="string"&&C.data.indexOf(h)===0&&v(+C.data.slice(h.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(md)),md.exports}var nI=tI();const rI=tl(nI),r0=({collection:e})=>{const[t,n]=N.useState({metadataReady:!1,bannerReady:!1,nftsReady:!1,phasesReady:!1,whitelistReady:!1,allReady:!1}),[r,a]=N.useState(!1),[i,c]=N.useState(!1),[o,l]=N.useState(0),[d,u]=N.useState(!1),[h,f]=N.useState({visible:!1,message:"",txHash:""}),[m,x]=N.useState(""),[p,g]=N.useState(!1),[b,v]=N.useState(!1),[w,C]=N.useState(!1),[y,E]=N.useState(!1),[S,R]=N.useState(!1),I=N.useRef(null),T=an(),{switchNetwork:M}=dr();N.useEffect(()=>{if(h.visible){const W=setTimeout(()=>f(q=>({...q,visible:!1})),5e3);return()=>clearTimeout(W)}},[h.visible]),N.useEffect(()=>{if(r){const W=document.querySelector('[data-modal="launch-checklist"]');W&&W.focus()}},[r]),N.useEffect(()=>{const W=q=>{q.key==="Escape"&&r&&a(!1)};if(r)return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]);const P=(W,q="")=>{f({visible:!0,message:W,txHash:q})},F=(W,q)=>{try{const Q=JSON.parse(W);return Q!==void 0?Q:q}catch{return q}},k=async(W,q,Q)=>{const he=q.length;let K=0,J=!0;Object.values(Q).forEach(xe=>{K+=Number(xe.allocated)||0}),K!==he&&(J=!1);let ce=!0;["Whitelist","FCFS"].forEach(xe=>{const A=Q[xe];if(A&&Number(A.allocated)>0){const ae=F(localStorage.getItem(`${W.address}_${xe}_whitelist`),[]);(!Array.isArray(ae)||ae.length<Number(A.allocated))&&(ce=!1)}});const X=localStorage.getItem(`collection_${W.address}_banner`);let ie=!!(W.metadata||W.metadataContent);const fe=localStorage.getItem(`collection_${W.address}_metadata`);fe&&(ie=!0,console.log("‚úÖ Found metadata in localStorage"));try{const xe=new Nt("https://dream-rpc.somnia.network/"),A=new rt(W.address,jt,xe),ae=await A.contractURI();ae&&ae!==""&&(ie=!0,console.log("‚úÖ Found contractURI in blockchain:",ae));const oe=await A.baseTokenURI();oe&&oe!==""&&(ie=!0,console.log("‚úÖ Found baseTokenURI in blockchain:",oe))}catch(xe){console.log("Could not check blockchain metadata:",xe.message)}return console.log("üîç Metadata check result:",{hasMetadata:ie,hasLocalMetadata:!!W.metadata,hasMetadataContent:!!W.metadataContent,hasLocalStorageMetadata:!!fe}),{metadataReady:ie,bannerReady:!!X,nftsReady:Array.isArray(q)&&q.length>0,phasesReady:Q&&Object.keys(Q).length>0&&J,whitelistReady:ce}},D=async(W,q)=>{try{const Q=new Nt("https://dream-rpc.somnia.network/"),he=new rt(W.address,jt,Q);let K=!1,J=0,ce=!1;try{const X=await he.baseTokenURI();if(K=X&&X!=="",K){J=await he.totalSupply();const ie=Math.floor(Date.now()/1e3);q&&Object.keys(q).length>0&&(ce=Object.values(q).some(fe=>{if(!fe.start||!fe.end)return!1;const xe=Math.floor(new Date(fe.start).getTime()/1e3),A=Math.floor(new Date(fe.end).getTime()/1e3);return ie>=xe&&ie<=A}));try{if(typeof he.isSaleActive=="function"){const fe=await he.isSaleActive();ce=ce||fe}}catch(fe){console.log("Could not check isSaleActive:",fe.message)}try{await he.revealed()&&J>0&&ce?ce=!0:ce=!1}catch(fe){console.log("Could not check revealed status:",fe.message)}}}catch(X){console.log("Error checking blockchain status:",X.message)}return console.log("üîç Blockchain status check result:",{address:W.address,isInitialized:K,totalMinted:Number(J),hasActivePhase:ce,phasesCount:q?Object.keys(q).length:0,currentPath:window.location.pathname}),{isInitialized:K,totalMinted:Number(J),isSaleActive:ce,canResume:K&&!ce}}catch(Q){return console.error("Error checking blockchain status:",Q),{isInitialized:!1,totalMinted:0,isSaleActive:!1,canResume:!1}}},L=async W=>{try{const q=new Nt("https://dream-rpc.somnia.network/"),Q=new rt(W.address,jt,q),he=await Q.baseTokenURI(),K=await Q.maxSupply(),J=await Q.contractURI();let ce=0;try{typeof Q.getPhasesCount=="function"?ce=await Q.getPhasesCount():ce=0}catch(ae){console.log("Could not get phases count from contract:",ae.message),ce=0}const X=F(localStorage.getItem(`phases_${W.address}`),{}),ie=Object.values(X).filter(ae=>ae.active).length,fe=[];he||fe.push("Set baseURI"),(!K||K===0)&&fe.push("Set maxSupply"),J||fe.push("Set contractURI"),Number(ce)<ie&&fe.push(`Add ${ie-Number(ce)} phases`);const xe=fe.length>0,A=he||K>0||J;return{canResume:xe||A,resumeSteps:fe}}catch(q){return console.log("Error checking resume mode:",q.message),{canResume:!1,resumeSteps:[]}}},G=async()=>{v(!0);try{const q=F(localStorage.getItem(`collection_${e.address}`),null)||e,Q=F(localStorage.getItem(`collection_${q.address}_nfts`),[]),he=F(localStorage.getItem(`phases_${q.address}`),{}),K=await k(q,Q,he),J=await D(q,he);if(console.log("üîç Sale active check:",{isSaleActive:J.isSaleActive,currentPath:window.location.pathname,isInDashboard:window.location.pathname==="/dashboard"||window.location.pathname==="/create-dreams"}),J.isSaleActive){const ie=window.location.pathname;if(ie==="/dashboard"||ie==="/create-dreams"){C(!0);return}else{C(!0),P("üîÑ Sale is already active! Redirecting to collection page..."),setTimeout(()=>T(`/launchpad/collection/${q.address}`),2e3);return}}J.isInitialized&&!J.isSaleActive&&console.log("‚úÖ Collection is initialized but sale is not active - showing resume button");let ce={canResume:!1,resumeSteps:[]};J.isInitialized&&(ce=await L(q));const X={...K,blockchainStatus:J,resumeInfo:ce};return X.canLaunch=!J.isInitialized&&Object.values(K).every(Boolean),X.allReady=X.canLaunch||J.isInitialized&&ce.canResume||J.isInitialized&&!J.isSaleActive||ce.canResume,console.log("üéØ Final checks result:",{address:q.address,canLaunch:X.canLaunch,isInitialized:J.isInitialized,canResume:ce.canResume,isSaleActive:J.isSaleActive,allReady:X.allReady,basicChecks:Object.values(K),resumeSteps:ce.resumeSteps}),console.log("üéØ Button visibility logic:",{canLaunch:X.canLaunch,isInitializedAndCanResume:J.isInitialized&&ce.canResume,isInitializedAndNotActive:J.isInitialized&&!J.isSaleActive,resumeInfoCanResume:ce.canResume,finalAllReady:X.allReady}),n(X),X}finally{v(!1)}},z=async(W,q,Q=3)=>{for(let he=0;he<Q;he++)try{if(p)throw new Error("Operation cancelled");return await fetch(W,q)}catch(K){if(he===Q-1)throw K;await new Promise(J=>setTimeout(J,1e3*(he+1)))}},$=()=>{try{const W=typeof window<"u",q=W&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),Q=W&&String(window.location.port)==="5173";if(q&&Q)return"";const he=import.meta?.env?.VITE_API_BASE;if(he&&typeof he=="string"&&he.trim()){const K=he.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(K))return K}}catch{}return""},ne=W=>{const q=$(),Q=W.startsWith("/")?W:`/${W}`;return q?`${q}${Q}`:Q},B=()=>{c(!1),l(0),x(""),g(!1),I.current&&(I.current.abort(),I.current=null)},H=async()=>{let W=null;try{c(!0),l(10),x("Checking collection data..."),I.current=new AbortController;const Q=F(localStorage.getItem(`collection_${e.address}`),null)||e;if(!Q||!Q.address)throw new Error("Invalid collection data: missing address");if(!Vb(Q.address))throw new Error(`Invalid contract address: ${Q.address}`);try{(await(async()=>{try{return await M?.(br)}catch{return{success:!1}}})())?.success||await _s()}catch{P("‚ùå Please switch to Somnia Testnet to launch the sale"),B();return}const K=await new Zt(window.ethereum).getSigner(),J=new rt(Q.address,[...jt,"function setAdmin(address user, bool enabled) external","function isAdmin(address user) view returns (bool)","function owner() view returns (address)"],K);if(!J)throw new Error("Failed to initialize contract");let ce=!1;try{const ee=await J.baseTokenURI();if(ee&&ee!=="")if((await L(Q)).canResume)ce=!0,P("üîÑ Resume mode: continuing from where you left off...");else throw new Error("Collection already fully launched")}catch(ee){console.log("Contract not initialized or error checking status:",ee.message)}const X=F(localStorage.getItem(`collection_${Q.address}_nfts`),[]);if(!Array.isArray(X)||X.length===0)throw new Error("No NFTs found in collection");for(const ee of X)if(!ee.image)throw new Error(`NFT ${ee.name} has no image URL`);if(!ce){l(20),x("Generating metadata zip..."),W=new rI,X.forEach((Ne,De)=>{const Ie={name:String(Ne.name||`NFT #${De+1}`),description:String(Ne.description||""),image:String(Ne.image),attributes:Array.isArray(Ne.attributes)?Ne.attributes.map(Ze=>({trait_type:String(Ze.trait_type||""),value:String(Ze.value||"")})):[]};if(!Ie.image)throw new Error(`NFT ${De+1} has no image URL`);if(!Ie.image.startsWith("ipfs://")&&!Ie.image.startsWith("http"))throw new Error(`Invalid image URL format for NFT ${De+1}: ${Ie.image}`);W.file(`${De}.json`,JSON.stringify(Ie,null,2))});const ee=await W.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}});if(ee.size>100*1024*1024)throw new Error("Metadata folder is too large (max 100MB)");l(30),x("Uploading metadata folder to IPFS...");const O=new FormData;O.append("folder",ee,"metadata.zip");const _=await z(ne("/api/upload-metadata-folder"),{method:"POST",body:O,signal:I.current.signal});if(!_.ok){const Ne=await _.json();throw new Error(Ne.error||"Metadata folder upload failed")}const j=await _.json();if(!j.cid)throw new Error("No CID returned from server");const Z=j.url;if(!Z.startsWith("ipfs://"))throw new Error("Invalid baseURI format");l(40),x("Setting baseURI in contract...");const te=await J.setBaseURI(Z);P("‚è≥ Setting baseURI...",te.hash),await te.wait();const le=X.length,ue=await J.setMaxSupply(le);P("‚è≥ Setting maxSupply...",ue.hash),l(45),x("Setting maxSupply in contract..."),await ue.wait()}l(50),x("Adding phases to contract...");const ie=F(localStorage.getItem(`phases_${Q.address}`),{});if(!ie||Object.keys(ie).length===0)throw new Error("No phases found");const fe=Object.keys(ie);let xe=0;for(const ee of fe){const O=ie[ee];if(!O||O.active===!1)continue;const _=ee==="Public";let j="0x"+"0".repeat(64);if(!_){const Ne=F(localStorage.getItem(`${Q.address}_${ee}_whitelist`),[]);if(Ne.length>0){const De=Ne.map(Ke=>{try{return lu(Ke.trim())}catch{return Ke.trim().toLowerCase()}}),Ie=De.map(Ke=>Ja(xd(["address"],[Ke]))),Ze=new wb.MerkleTree(Ie,Ja,{sortPairs:!0});j=Ze.getHexRoot();const je={};De.forEach(Ke=>{const nt=Ja(xd(["address"],[Ke]));let Dt=Ze.getHexProof(nt);Dt.length===0&&De.length===1&&(Dt=[]),je[Ke]=Dt}),localStorage.setItem(`${Q.address}_${ee}_whitelist_proofs`,JSON.stringify(je)),localStorage.setItem(`${Q.address}_${ee}_whitelist_root`,j)}}const Z=Math.floor(new Date(O.start).getTime()/1e3),te=Math.floor(new Date(O.end).getTime()/1e3),le=cu(O.price||"0",18),ue=Number(O.limit)||0;try{const Ne=await J.addPhase(Z,te,le,ue,j,_);P(`‚è≥ Adding phase ${ee}...`,Ne.hash),l(50+Math.floor(10*(xe+1)/fe.length)),await Ne.wait()}catch(Ne){throw console.error("Phase addition failed:",Ne),P(`‚ùå Error adding phase ${ee}: ${Ne.message}`),Ne}xe++}l(65),x("Uploading collection metadata to IPFS...");const A=F(localStorage.getItem(`collection_${Q.address}`),null);console.log("üîç Loading metadata - collectionData:",A);const ae=F(localStorage.getItem("dreava_collections"),[]),oe=ae&&Array.isArray(ae)?ae.find(ee=>ee.address===Q.address):null,V=F(localStorage.getItem(`collection_${Q.address}_social`),{})||{},Y=typeof window<"u"?window.localStorage.getItem(`collection_${Q.address}_banner`):"",se={...oe,...A,...Q};console.log("üîç Loading metadata - meta:",se);const pe={name:se.name||Q.name||"Untitled Collection",description:se.description||Q.description||"A unique NFT collection",image:se.image||Q.image||se.cover||Q.cover||"",banner:Y||se.banner||Q.banner||"",external_link:se.external_link||V.website||"",website:V.website||void 0,twitter:V.twitter||void 0,discord:V.discord||void 0,royaltyRecipient:se.royaltyRecipient||"",royaltyPercent:se.royaltyPercent||0,nfts:Array.isArray(X)?X.map((ee,O)=>({name:ee.name||`NFT #${O+1}`,tokenURI:`${Q.metadata||Q.baseTokenURI||"ipfs://cid"}/${O}`,image:ee.image||ee.image_url||""})):[],phases:ie&&typeof ie=="object"?Object.entries(ie).reduce((ee,[O,_])=>(!_||!_.active||(ee[O]={price:_.price,limit:_.limit,start:Math.floor(new Date(_.start).getTime()/1e3),end:Math.floor(new Date(_.end).getTime()/1e3),allocated:_.allocated,isPublic:O==="Public"}),ee),{}):{}};console.log("üì§ Uploading metadata to server..."),console.log("üì§ Metadata to upload:",pe);let de;try{de=await fetch("/api/upload-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:pe})}),console.log("üì§ Fetch completed, status:",de.status)}catch(ee){throw console.error("‚ùå Fetch error:",ee),ee}if(console.log("üì§ Upload response status:",de.status),!de.ok){const ee=await de.text();throw console.error("‚ùå Upload failed:",ee),new Error(`Metadata upload failed: ${de.status} ${ee}`)}const re=await de.json();console.log("‚úÖ Upload response data:",re);const be=re.url||(re.cid?`ipfs://${re.cid}`:null);if(!be)throw new Error("No IPFS URI returned from server");l(80),x("Updating contractURI in contract...");const we=await J.setContractURI(be);P("‚è≥ Updating contractURI...",we.hash),await we.wait(),l(90),x("Revealing collection...");try{const ee=await K.getAddress(),O=await J.isAdmin(ee),_=await J.owner();if(!O&&ee.toLowerCase()!==_.toLowerCase())if(ee.toLowerCase()===_.toLowerCase())await(await J.setAdmin(ee,!0)).wait();else throw new Error("User does not have admin permissions on this contract");const j=await J.setRevealed(!0);if(P("‚è≥ Revealing collection...",j.hash),await j.wait(),!await J.revealed())throw new Error("Reveal transaction succeeded but revealed status is still false")}catch(ee){console.error("Error revealing collection:",ee),ee.message&&ee.message.includes("Not admin")?P("‚ùå Permission denied: You are not an admin of this contract"):P("‚ùå Error revealing collection: "+(ee.message||ee))}l(100),x("Launch complete!"),u(!0);const ve=await J.revealed();P(ve?"‚úÖ Collection launched and revealed! Redirecting to collection page...":"‚úÖ Collection launched! Redirecting to collection page...",we.hash),setTimeout(()=>T(`/launchpad/collection/${Q.address}`),3e3)}catch(q){console.error("‚ùå Launch error:",q),P(`‚ùå Launch error: ${q.message}`),B()}finally{W=null}};return N.useEffect(()=>()=>{B()},[]),N.useEffect(()=>{e?.address&&G()},[e?.address]),w?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>E(!0),className:"px-4 py-2 rounded text-sm font-semibold transition shadow-md flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:opacity-90",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"Share"]}),y&&rr.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Collection"}),s.jsx("button",{onClick:()=>E(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[s.jsx("img",{src:e.cover||e.firstNFTImage||e.image||"/default-cover.png",alt:e.name,className:"w-16 h-16 rounded-xl object-cover border border-zinc-600/30",onError:W=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",W.target.src),e.firstNFTImage&&e.firstNFTImage!==W.target.src?W.target.src=e.firstNFTImage:W.target.src="/default-cover.png"}}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:e.name}),s.jsx("p",{className:"text-sm text-zinc-400",children:"Collection is live! üöÄ"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Collection Link"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"text",value:`${window.location.origin}/launchpad/collection/${e.address}`,readOnly:!0,className:"flex-1 p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl text-white text-sm focus:outline-none focus:border-pink-500/50 transition-colors truncate",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/launchpad/collection/${e.address}`),R(!0),setTimeout(()=>R(!1),2e3)},className:`px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 flex-shrink-0 ${S?"bg-green-600 text-white":"bg-zinc-700/50 hover:bg-zinc-600/50 text-white"}`,children:S?"Copied!":"Copy"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("details",{className:"group",children:[s.jsx("summary",{className:"text-xs text-zinc-400 cursor-pointer hover:text-zinc-300 transition-colors",children:"Show full URL"}),s.jsx("div",{className:"mt-2 p-2 bg-zinc-800/20 rounded-lg border border-zinc-700/30",children:s.jsx("p",{className:"text-xs text-zinc-300 break-all",children:`${window.location.origin}/launchpad/collection/${e.address}`})})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Share on Twitter"}),s.jsx("div",{className:"bg-zinc-800/30 rounded-2xl p-4 border border-zinc-700/30 mb-4",children:s.jsxs("p",{className:"text-sm text-zinc-300 mb-3",children:['"I just launched my NFT collection "',e.name,'" on Dreava Art! üöÄ',s.jsx("br",{}),s.jsx("br",{}),"Check it out: ",s.jsx("span",{className:"break-all text-blue-400",children:`${window.location.origin}/launchpad/collection/${e.address}`}),s.jsx("br",{}),s.jsx("br",{}),`Try it yourself, it's really simple! ‚ú®"`]})}),s.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`I just launched my NFT collection "${e.name}" on Dreava Art! üöÄ

Check it out: ${window.location.origin}/launchpad/collection/${e.address}

Try it yourself, it's really simple! ‚ú®`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-blue-500/25 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Tweet"]})]})]})]})}),document.body)]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>G().then(()=>a(!0)),disabled:b,className:`px-4 py-2 rounded text-sm font-semibold transition shadow-md flex items-center gap-2 ${b?"bg-zinc-600 text-zinc-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90"}`,children:b?s.jsxs(s.Fragment,{children:[s.jsx(Fs,{className:"animate-spin",size:16}),"Checking..."]}):"Launch Sale"}),r&&rr.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[999999] p-4",children:s.jsxs("div",{className:"bg-gradient-to-br from-zinc-900/95 to-zinc-800/95 backdrop-blur-xl rounded-3xl shadow-2xl max-w-lg w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,"data-modal":"launch-checklist",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 animate-pulse"}),s.jsxs("div",{className:"relative z-10 p-6",children:[s.jsx("button",{className:"absolute top-3 right-3 text-zinc-400 hover:text-red-400 transition-all duration-200 hover:scale-110",onClick:()=>a(!1),children:s.jsx(Bt,{size:18})}),d?s.jsxs("div",{className:"text-center py-6",children:[s.jsx(sE,{size:56,className:"text-pink-500 animate-bounce mx-auto mb-3"}),s.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-green-400 to-lime-400 bg-clip-text text-transparent",children:"üéâ Sale Launched!"}),s.jsx("p",{className:"text-base text-zinc-300 mb-5",children:"Your collection has been successfully launched and is now available for minting!"}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("button",{onClick:()=>T("/launchpad"),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white font-semibold transition-all duration-300",children:"Go to Launchpad"}),s.jsx("button",{onClick:()=>a(!1),className:"px-5 py-2.5 rounded-xl bg-zinc-700 hover:bg-zinc-600 text-white font-semibold transition-all duration-300",children:"Close"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-[#FF0080] to-[#00A3FF] bg-clip-text text-transparent",children:"Launch Checklist"}),s.jsxs("button",{onClick:G,disabled:b,className:"flex items-center gap-2 px-2.5 py-1.5 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors text-xs",title:"Refresh status",children:[b?s.jsx(Fs,{className:"animate-spin",size:12}):s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),b?"Checking...":"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[s.jsx("div",{className:`${t.metadataReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.metadataReady?s.jsx(Qn,{className:"text-green-400",size:18}):s.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Metadata"}),s.jsx("p",{className:"text-xs opacity-80",children:t.metadataReady?"Collection metadata ready":"Missing collection metadata"})]})]})}),s.jsx("div",{className:`${t.bannerReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.bannerReady?s.jsx(Qn,{className:"text-green-400",size:18}):s.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Banner"}),s.jsx("p",{className:"text-xs opacity-80",children:t.bannerReady?"Banner image ready":"Missing banner image"})]})]})}),s.jsx("div",{className:`${t.nftsReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.nftsReady?s.jsx(Qn,{className:"text-green-400",size:18}):s.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:"NFTs"}),s.jsx("p",{className:"text-xs opacity-80",children:t.nftsReady?"NFTs uploaded and ready":"No NFTs found in collection"})]})]})}),s.jsx("div",{className:`${t.phasesReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.phasesReady?s.jsx(Qn,{className:"text-green-400",size:18}):s.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Phases"}),s.jsx("p",{className:"text-xs opacity-80",children:t.phasesReady?"Sale phases configured":"Missing or incomplete phase configuration"})]})]})}),s.jsx("div",{className:`${t.whitelistReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[t.whitelistReady?s.jsx(Qn,{className:"text-green-400",size:18}):s.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Whitelist"}),s.jsx("p",{className:"text-xs opacity-80",children:t.whitelistReady?"Whitelist addresses ready":"Missing whitelist addresses for private phases"})]})]})})]}),i&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-zinc-300",children:"Launch Progress"}),s.jsxs("span",{className:"text-xs text-zinc-400",children:[o,"%"]})]}),s.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-2 transition-all duration-500 ease-out",style:{width:`${o}%`}})}),s.jsx("p",{className:"text-xs text-zinc-400 mt-2",children:m})]}),s.jsxs("div",{className:"flex gap-2",children:[t.allReady&&!i&&s.jsxs("button",{onClick:H,disabled:i,className:"flex-1 py-2.5 px-4 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 hover:opacity-90 text-white text-sm font-semibold transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Qn,{size:16}),t.blockchainStatus?.isInitialized?"Resume Launch":"Confirm Launch"]}),s.jsx("button",{onClick:()=>a(!1),className:"px-4 py-2.5 rounded-xl bg-zinc-700 hover:bg-zinc-600 text-white text-sm font-semibold transition-all duration-300",children:"Close"})]}),t.resumeInfo?.canResume&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-900/20 border border-blue-500/50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(er,{className:"text-blue-400",size:14}),s.jsx("h4",{className:"font-semibold text-blue-300 text-sm",children:"Resume Mode"})]}),s.jsx("p",{className:"text-xs text-blue-200 mb-2",children:"Collection is partially initialized. You can resume from where you left off."}),s.jsxs("div",{className:"text-xs text-blue-300",children:[s.jsx("p",{children:"Steps to complete:"}),s.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:t.resumeInfo.resumeSteps.map((W,q)=>s.jsx("li",{children:W},q))})]})]}),!t.allReady&&s.jsx("div",{className:"mt-3 p-3 bg-red-900/20 border border-red-500/50 rounded-xl",children:s.jsx("p",{className:"text-xs text-red-300",children:"Please complete all checklist items before launching the sale."})})]})]})]})}),document.body),h.visible&&rr.createPortal(s.jsxs("div",{className:"fixed bottom-6 right-6 bg-zinc-800 text-white p-4 rounded-xl shadow-2xl max-w-sm animate-fadeIn border border-zinc-700/50 backdrop-blur-xl z-[999999]",children:[s.jsx("p",{className:"text-sm mb-2",children:h.message}),h.txHash&&s.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${h.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-2 text-sm",children:[s.jsx(Ps,{size:16}),"View Transaction"]})]}),document.body)]})},sI=({collection:e})=>{const[t,n]=N.useState(0),r=[{id:0,name:"Phase Settings",icon:xE},{id:1,name:"Manage WLs",icon:Uc},{id:2,name:"View Collection",icon:Od},{id:3,name:"Stats",icon:Rs}];return e?e.address?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:e.cover||e.firstNFTImage||Vt,alt:"cover",className:"w-24 h-24 object-cover rounded-xl border border-zinc-700",onError:a=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",a.target.src),e.firstNFTImage&&e.firstNFTImage!==a.target.src?a.target.src=e.firstNFTImage:a.target.src=Vt}}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name||"Unnamed Collection"}),s.jsx("p",{className:"text-zinc-400 text-sm",children:e.address})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-zinc-700/50 rounded-lg",children:[s.jsx(hE,{className:"w-4 h-4 text-zinc-400"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Ready to launch?"})]}),s.jsx(r0,{collection:e})]})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"flex border-b border-zinc-700",children:r.map(a=>{const i=a.icon;return s.jsxs("button",{onClick:()=>n(a.id),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${t===a.id?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[s.jsx(i,{className:"w-5 h-5"}),s.jsx("span",{children:a.name})]},a.id)})}),s.jsxs("div",{className:"p-6",children:[t===0&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(k6,{collection:e})}),t===1&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(K8,{collection:e})}),t===2&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(Q8,{collection:e})}),t===3&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(eI,{collection:e})})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-zinc-400",children:"Invalid collection data"})}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-zinc-400",children:"Please select a collection to manage"})})},aI=()=>{const[e,t]=N.useState(0),[n,r]=N.useState(null),[a,i]=N.useState(0),[c,o]=N.useState(null),[l,d]=N.useState(null),u=[{id:0,name:"Collection Identity"},{id:1,name:"Populate Collection"},{id:2,name:"Studio Dashboard"}],h=g=>{t(g),g===1&&(r(null),i(0))},f=g=>{if(console.log("üéØ Selected collection:",g),!g||!g.address){console.error("Invalid collection selected:",g);return}r(g),d(null)},m=()=>{t(0),r(null)},x=g=>{if(console.log("üéâ Collection created successfully:",g),!g){console.error("‚ùå No collection data received");return}try{const b=JSON.parse(localStorage.getItem("dreava_collections")||"[]");b.some(w=>w&&w.address&&w.address.toLowerCase()===g.address.toLowerCase())||localStorage.setItem("dreava_collections",JSON.stringify([g,...b]))}catch{}try{window.ethereum&&window.ethereum.request({method:"eth_accounts"}).then(b=>{const v=b&&b[0];if(v){const w=`dreava_user_collections_${v.toLowerCase()}`,C=localStorage.getItem(w),y=C?JSON.parse(C):{ts:Date.now(),collections:[]},E=Array.isArray(y.collections)?y.collections:[],S=new Map(E.map(R=>[R.address?.toLowerCase(),R]));S.set(g.address.toLowerCase(),g),localStorage.setItem(w,JSON.stringify({ts:Date.now(),collections:Array.from(S.values())}))}}).catch(()=>{})}catch{}setTimeout(()=>{o(g),r(g),t(1),console.log("‚úÖ Switched to Populate Collection tab with selected collection:",g.name)},300)},p=g=>{console.log("üéâ NFT upload successful:",g),g&&(g.type==="single"?console.log(`‚úÖ Single NFT "${g.nft.name}" uploaded successfully`):g.type==="multiple"&&console.log(`‚úÖ ${g.totalUploaded} NFTs uploaded successfully, ${g.totalFailed} failed`)),setTimeout(()=>{t(2),d(g)},300)};return s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(_a,{}),s.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] bg-clip-text text-transparent",children:"Create Your Dreams"}),s.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Build, populate, and manage your NFT collections"})]})})})}),s.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6",children:s.jsx("div",{className:"flex",children:u.map(g=>s.jsx("button",{onClick:()=>h(g.id),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 ${e===g.id?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:g.name},g.id))})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 pb-24 relative z-10",children:s.jsxs("div",{className:"animate-fadeIn",children:[e===0&&s.jsx("div",{children:s.jsx(Pp,{onSuccess:x})}),e===1&&s.jsx("div",{className:"max-w-4xl mx-auto",children:n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-zinc-700/30 bg-zinc-800 flex-shrink-0",children:[n.cover||n.image||n.banner?s.jsx("img",{src:n.cover||n.image||n.banner,alt:n.name,className:"w-full h-full object-cover",onError:g=>{g.target.style.display="none",g.target.nextSibling.style.display="flex"}}):null,s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:n.cover||n.image||n.banner?"none":"flex"},children:s.jsx("div",{className:"w-8 h-8 bg-zinc-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Populate Collection"}),s.jsxs("p",{className:"text-zinc-400",children:["Selected: ",n.name,c&&c.address===n.address&&s.jsx("span",{className:"ml-2 text-green-400 text-sm",children:"‚ú® Newly Created"})]})]})]}),s.jsx("button",{onClick:()=>r(null),className:"text-zinc-400 hover:text-white transition-colors",children:"Change Collection"})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[s.jsxs("div",{className:"flex border-b border-zinc-700 mb-6",children:[s.jsxs("button",{onClick:()=>i(0),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${a===0?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),s.jsx("span",{children:"Single NFT"})]}),s.jsxs("button",{onClick:()=>i(1),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${a===1?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),s.jsx("span",{children:"Multiple NFTs"})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"animate-fadeIn",children:[a===0&&s.jsx(Op,{collection:n,onSuccess:p}),a===1&&s.jsx(zp,{collection:n,onSuccess:p})]})})]})]}):s.jsxs("div",{className:"py-12",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Populate Collection"}),s.jsx("p",{className:"text-zinc-400 mb-6",children:"Select a collection to add NFTs"}),s.jsx(Ld,{onSelect:f,showCreateButton:!0,onCreateNew:m})]})}),e===2&&s.jsx("div",{className:"max-w-4xl mx-auto",children:n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-zinc-700/30 bg-zinc-800 flex-shrink-0",children:[n.cover||n.image||n.banner?s.jsx("img",{src:n.cover||n.image||n.banner,alt:n.name,className:"w-full h-full object-cover",onError:g=>{g.target.style.display="none",g.target.nextSibling.style.display="flex"}}):null,s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:n.cover||n.image||n.banner?"none":"flex"},children:s.jsx("div",{className:"w-8 h-8 bg-zinc-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 00-2-2V6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Studio Dashboard"}),s.jsxs("p",{className:"text-zinc-400",children:["Selected: ",n.name,l&&l.collection&&l.collection.address===n.address&&s.jsxs("span",{className:"ml-2 text-green-400 text-sm",children:["‚ú® Recently Uploaded ",l.type==="single"?"NFT":`${l.totalUploaded} NFTs`]})]})]})]}),s.jsx("button",{onClick:()=>r(null),className:"text-zinc-400 hover:text-white transition-colors",children:"Change Collection"})]}),s.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:s.jsx(sI,{collection:n})})]}):s.jsxs("div",{className:"py-12",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Studio Dashboard"}),s.jsx("p",{className:"text-zinc-400 mb-6",children:"Select a collection to manage"}),s.jsx(Ld,{onSelect:f,showCreateButton:!0,onCreateNew:m})]})})]})})]})},iI=()=>s.jsxs("div",{className:"relative min-h-screen bg-[#0d0d0d] text-white font-sans pt-20 px-6 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none select-none z-0"}),s.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto text-center",children:[s.jsx("h1",{className:"text-[50px] md:text-[60px] font-bold bg-gradient-to-r from-[#FF0080] via-[#367aff] to-[#00A3FF] bg-clip-text text-transparent mb-6",children:"Welcome to the Dreava Launchpad"}),s.jsx("p",{className:"text-lg md:text-xl text-zinc-400 mb-12",children:"We're not just building a marketplace ‚Äî we're building a movement. Here, NFTs unlock worlds, ideas, and the next chapter of the digital revolution."}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-left",children:[s.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Beyond Art & Collectibles"}),s.jsx("p",{className:"text-sm text-zinc-400",children:"Each collection is a living ecosystem, where holders gain access to real utility, exclusive spaces, and transformative opportunities."})]}),s.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fuelled by Purpose"}),s.jsx("p",{className:"text-sm text-zinc-400",children:"Our token isn't for speculation. It's the engine of governance, rewards, and platform growth ‚Äî designed for those who build and believe."})]}),s.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"A Community That Leads"}),s.jsx("p",{className:"text-sm text-zinc-400",children:"OG holders form the core circle, influencing the direction of Dreava and opening doors for emerging creators and projects."})]})]}),s.jsx("div",{className:"mt-12 pb-24 md:pb-0",children:s.jsx(An,{to:"/active-sales",className:"inline-block px-8 py-4 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold shadow-md hover:opacity-90 transition transform active:scale-95",children:"Enter the World of Possibilities"})})]})]}),oI=()=>s.jsx("main",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:s.jsx("h1",{className:"text-4xl font-bold",children:"Marketplace ‚Äî Coming Soon üöß"})}),cI="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2059%2052'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1,0,0,1,-3025.41,-4174.8)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,2101.56,3817.07)'%3e%3cg%20transform='matrix(0.0662647,0,0,0.954192,909.302,337.43)'%3e%3cg%3e%3cpath%20d='M1151.78,37.052C1151.78,29.535%201064.12,23.433%20956.144,23.433L461.607,23.433C353.633,23.433%20265.972,29.535%20265.972,37.052L265.972,64.289C265.972,71.806%20353.633,77.908%20461.607,77.908L956.144,77.908C1064.12,77.908%201151.78,71.806%201151.78,64.289L1151.78,37.052Z'%20style='fill:rgb(39,39,42);'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,2101.56,3807.07)'%3e%3cg%20id='drag-drop-svgrepo-com.svg'%20transform='matrix(0.0510569,0,0,0.0511795,956.276,395.837)'%3e%3cg%20transform='matrix(1,0,0,1,-400,-400)'%3e%3cg%3e%3crect%20x='0'%20y='0'%20width='800'%20height='800'%20style='fill:none;fill-rule:nonzero;'/%3e%3cpath%20d='M533.333,433.333L765.467,568.733L666.367,597.067L737.2,719.767L679.467,753.1L608.633,630.433L534.533,702.1L533.333,433.333ZM466.667,200L533.333,200L533.333,266.667L700,266.667C718.286,266.667%20733.333,281.714%20733.333,300L733.333,433.333L666.667,433.333L666.667,333.333L333.333,333.333L333.333,666.667L466.667,666.667L466.667,733.333L300,733.333C281.714,733.333%20266.667,718.286%20266.667,700L266.667,533.333L200,533.333L200,466.667L266.667,466.667L266.667,300C266.667,281.714%20281.714,266.667%20300,266.667L466.667,266.667L466.667,200ZM133.333,466.667L133.333,533.333L66.667,533.333L66.667,466.667L133.333,466.667ZM133.333,333.333L133.333,400L66.667,400L66.667,333.333L133.333,333.333ZM133.333,200L133.333,266.667L66.667,266.667L66.667,200L133.333,200ZM133.333,66.667L133.333,133.333L66.667,133.333L66.667,66.667L133.333,66.667ZM266.667,66.667L266.667,133.333L200,133.333L200,66.667L266.667,66.667ZM400,66.667L400,133.333L333.333,133.333L333.333,66.667L400,66.667ZM533.333,66.667L533.333,133.333L466.667,133.333L466.667,66.667L533.333,66.667Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",lI="/assets/UploadJson-DUhld9f3.svg",dI=()=>{const[e,t]=N.useState(null),[n,r]=N.useState([]),[a,i]=N.useState(""),[c,o]=N.useState(!1),l=async h=>{if(h){t(h);try{const f=await h.text(),m=JSON.parse(f);if(!Array.isArray(m))throw new Error("Invalid JSON: expected an array of NFT metadata");r(m)}catch(f){console.error(f),i("‚ùå Failed to parse JSON")}}},d=async()=>{try{if(!window.ethereum)throw new Error("Wallet not detected");const f=await new Zt(window.ethereum).getSigner();for(const m of n){i(`Uploading metadata: ${m.name||"Untitled"}`);const x=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJmMDQxYjk4My0zODk3LTQzOWEtOThhYi0wMTdmN2MyZjIwYzMiLCJlbWFpbCI6ImJ1bGF2aW5hZnJlZWxhbmNlQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJiYTg2ZDQzOThjOGY5MWY5Mjg2YiIsInNjb3BlZEtleVNlY3JldCI6ImJmMGJhOThkOTU4MzY1NTBjZWU0OGNjNjM0ZjBkZGVlMWFmODJlNTZhMjJkNWI3YTVlMGJhZmUwZTkxNmYyNDkiLCJleHAiOjE3NzkzODkyNDl9.tM3vC2lxATC_UWUISCQN8vDdMfms0HuCpmcZTaqC2Hg"},body:JSON.stringify(m)}),{IpfsHash:p}=await x.json(),g=`ipfs://${p}`;await(await new rt(m.contractAddress,jt,f).mintPublic(await f.getAddress(),g)).wait()}i("‚úÖ All NFTs minted")}catch(h){console.error(h),i(`‚ùå Error: ${h.message}`)}},u=h=>{h.preventDefault(),o(!1);const f=h.dataTransfer.files[0];f&&f.type==="application/json"&&l(f)};return s.jsx("div",{className:"w-[780px] mx-auto text-white font-sans",children:s.jsxs("div",{className:"border border-zinc-700 bg-zinc-900 rounded-2xl p-8",children:[s.jsx("h2",{className:"text-[28px] font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-[6px]",children:"Pro Upload (JSON)"}),s.jsx("p",{className:"text-zinc-400 mb-[16px] text-sm leading-snug",children:"Upload your structured NFT metadata using a JSON file for advanced batch minting."}),!e&&s.jsxs("div",{onDragOver:h=>{h.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:u,className:`border border-dashed rounded-xl p-8 text-center mb-8 transition-colors duration-150 ${c?"border-pink-500 bg-zinc-800":"border-zinc-700 bg-zinc-900"}`,children:[s.jsx("img",{src:cI,alt:"Upload Icon",className:"mx-auto mb-6 w-10 h-10"}),s.jsx("p",{className:"text-sm font-medium mb-1 text-white",children:"Drag & drop your JSON file here"}),s.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"or use the button below to upload"}),s.jsxs("ul",{className:"text-xs text-left mx-auto max-w-md text-zinc-500 space-y-1 mb-6",children:[s.jsxs("li",{children:["‚Ä¢ Format: ",s.jsx("code",{children:".json"})]}),s.jsx("li",{children:"‚Ä¢ Must be an array of metadata objects"}),s.jsx("li",{children:"‚Ä¢ Recommended: IPFS image links"}),s.jsx("li",{children:"‚Ä¢ Max file size: 5MB"}),s.jsxs("li",{children:["‚Ä¢ Each object must include a ",s.jsx("code",{children:"contractAddress"})]})]}),s.jsxs("label",{className:"inline-block cursor-pointer",children:[s.jsx("img",{src:lI,alt:"Upload JSON",className:"w-[160px]"}),s.jsx("input",{type:"file",accept:"application/json",onChange:h=>l(h.target.files[0]),className:"hidden"})]})]}),n.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-zinc-300",children:["Detected ",n.length," NFTs from JSON"]}),s.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:"Mint All from JSON"})]}),a&&s.jsx("p",{className:"text-sm text-center text-zinc-400 mt-6",children:a})]})})},uI="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",hI=async e=>{for(const t of e)try{const n=await fetch(t);if(n.ok)return await n.json()}catch{}throw new Error("All IPFS gateways failed")},fI=()=>{const[e,t]=N.useState([]),n=an();N.useEffect(()=>{(async()=>{try{const i=new Zt(window.ethereum),o=await(await i.getSigner()).getAddress(),d=await new rt(uI,Sa,i).getUserCollections(o),h=(await Promise.all(d.map(async f=>{try{const m=new rt(f,jt,i);if((await m.owner()).toLowerCase()!==o.toLowerCase())return console.warn(`Skipping ${f} because owner mismatch`),null;const p=await m.name();let g="",b="";try{b=await m.contractURI(),console.log(`Contract ${f} returned contractURI: '${b}'`)}catch(v){console.warn(`No contractURI() on contract ${f}:`,v)}if(b&&b!==""){const v=At(b);try{const w=await hI(v);w.image?g=At(w.image)[0]:console.warn(`No image field in metadata for ${f}`)}catch(w){console.warn(`Failed to fetch metadata JSON for ${f}:`,w)}}else console.warn(`Metadata URI is empty for contract ${f}`);return{address:f,name:p,cover:g||Vt,createdAt:"-",views:Math.floor(Math.random()*500),revenue:(Math.random()*10).toFixed(2)}}catch(m){return console.error(`Error processing contract ${f}:`,m),null}}))).filter(f=>f!==null);t(h)}catch(i){console.error("Failed to load collections:",i)}})()},[]);const r=a=>{n(`/manage/${a}`)};return s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12 text-white font-sans relative z-10",children:[s.jsxs("div",{className:"mb-12 text-center",children:[s.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-[#FF0080] via-[#367aff] to-[#00A3FF] bg-clip-text text-transparent mb-3",children:"My Studio"}),s.jsx("p",{className:"text-zinc-400 mt-2 max-w-2xl mx-auto text-base",children:"Welcome, Creator. Here, you are more than an artist ‚Äî you are a storyteller, a world-builder, a gatekeeper to dreams."})]}),e.length===0?s.jsxs("div",{className:"text-center text-zinc-500",children:[s.jsx("p",{className:"mb-4",children:"You haven't created any collections yet."}),s.jsx(An,{to:"/explore#create",className:"inline-block px-8 py-3 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold shadow-md hover:opacity-90 transition",children:"Create Your First Collection"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((a,i)=>s.jsx("div",{className:"relative h-[420px] rounded-2xl shadow-lg hover:scale-105 transform transition duration-300 overflow-hidden border border-zinc-700",style:{backgroundImage:`url(${a.cover||a.firstNFTImage||"/default-cover.png"})`,backgroundSize:"cover",backgroundPosition:"center"},children:s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent p-4 flex flex-col justify-end",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1 truncate",title:a.name,children:a.name}),s.jsxs("p",{className:"text-zinc-400 text-xs mb-2",children:["Created on ",a.createdAt||"Unknown"]}),s.jsxs("div",{className:"text-xs text-zinc-400 mb-3 space-y-1",children:[s.jsxs("p",{children:["Views: ",s.jsx("span",{className:"text-white font-medium",children:a.views})]}),s.jsxs("p",{children:["Revenue: ",s.jsxs("span",{className:"text-white font-medium",children:["Œû ",a.revenue]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>r(a.address),className:"flex-1 py-2 text-sm rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition relative group",children:["Manage",s.jsx("span",{className:"absolute left-1/2 transform -translate-x-1/2 -bottom-8 bg-zinc-700 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:"Set prices, phases, analytics"})]}),s.jsx("div",{className:"flex-1",children:s.jsx(r0,{collection:a})})]})]})},i))})]})},mI=({text:e,maxLines:t=1,className:n=""})=>{const[r,a]=N.useState(!1),i=N.useRef(null);if(N.useEffect(()=>{const l=d=>{r&&i.current&&!i.current.contains(d.target)&&a(!1)};return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[r]),!e)return null;const c=t===1?50:100;return e.length>c?s.jsxs("div",{className:"relative",ref:i,children:[s.jsxs("div",{className:`${n} flex items-start`,children:[s.jsx("span",{className:"flex-1 truncate",children:e.substring(0,c)}),s.jsx("button",{onClick:l=>{l.stopPropagation(),a(!r)},className:"ml-1 text-blue-400 hover:text-blue-300 cursor-pointer flex-shrink-0",children:"..."})]}),r&&s.jsx("div",{className:"absolute bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg z-50 backdrop-blur-sm",style:{top:"-10px",right:"0px",width:"280px",maxHeight:"150px",overflow:"auto"},children:s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap break-words",children:e})})]}):s.jsx("div",{className:n,children:e})},wo=({activeTab:e,setActiveTab:t})=>s.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>t("completed"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${e==="completed"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Completed Sales"}),s.jsx("button",{onClick:()=>t("active"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${e==="active"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Active Sales"}),s.jsx("button",{onClick:()=>t("upcoming"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${e==="upcoming"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Upcoming Sales"})]})})}),pm=({portalVideo:e,portalHoverVideo:t})=>{const{collections:n,loading:r,error:a}=_u(),[i,c]=N.useState(0),[o,l]=N.useState("active"),[d,u]=N.useState({}),[h,f]=N.useState(!1);N.useMemo(()=>window.innerWidth<768,[]),N.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]);const m=N.useMemo(()=>{if(!n||n.length===0)return[];const I=[];return n.slice(0,10).forEach(T=>{T.cover&&I.push(T.cover),T.bannerImage&&I.push(T.bannerImage),T.firstNFTImage&&I.push(T.firstNFTImage)}),[...new Set(I)]},[n]),x=Math.floor(Date.now()/1e3),p=Math.floor(new Date("2025-06-29T00:00:00Z").getTime()/1e3),g=I=>{const T=I.phases||{},M=Object.values(T).length>0&&Object.values(T).every(P=>Number(P.end)<x);return I.soldOut||M},b=I=>I&&Object.values(I).some(T=>Number(T.start)<=x&&x<=Number(T.end)),v=I=>I&&Object.values(I).some(T=>Number(T.start)>x),w=I=>I.phases||I.metadata?.phases||{},C=I=>{const T=w(I);return!T||Object.values(T).length===0?0:Math.max(...Object.values(T).map(M=>Number(M.end)))},y=n.filter(I=>{const T=w(I);if(o==="completed")return g(I)&&C(I)>=p;if(o==="active")return b(T)&&!g(I);if(o==="upcoming"){const M=v(T),P=b(T);return M&&!P&&!g(I)}return!1});if(N.useEffect(()=>{c(0)},[o,y.length]),r)return s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(wo,{activeTab:o,setActiveTab:l}),s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:s.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:s.jsx(Ss,{message:"Loading active sales",showLogo:!0,size:"default",showProgress:!1,showDots:!1})})})]});if(a)return s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(wo,{activeTab:o,setActiveTab:l}),s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[s.jsx(Ss,{message:`Error loading collections: ${a}`,showLogo:!0,size:"default",showProgress:!1,showDots:!1}),s.jsx("p",{className:"text-zinc-400 text-sm mt-4",children:"The indexer may not be running yet."})]})})]});if(y.length===0){const I=()=>o==="active"?"No active sales at the moment":o==="upcoming"?"No upcoming sales at the moment":"No completed sales yet";return s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(wo,{activeTab:o,setActiveTab:l}),s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:s.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:s.jsx(Ss,{message:I(),showLogo:!0,size:"default",showProgress:!1,showDots:!1})})})]})}const E=()=>{c(I=>{const T=I-3;return T<0?Math.max(0,y.length-3):T})},S=()=>{c(I=>{const T=I+3;return T>=y.length?0:T})},R=y.slice(i,i+3);return s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(wo,{activeTab:o,setActiveTab:l}),s.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:s.jsxs("div",{className:"animate-fadeIn",children:[s.jsx(Su,{onMetrics:u,showUI:!1}),m.length>0&&s.jsx(Vc,{images:m,priority:!0,onComplete:()=>f(!0),onProgress:(I,T)=>{I===T&&f(!0)}}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-4",children:[o==="active"&&"Active Sales",o==="upcoming"&&"Upcoming Sales",o==="completed"&&"Completed Sales"]}),s.jsxs("p",{className:"text-zinc-400 text-lg",children:[o==="active"&&"Discover and mint from the latest NFT collections",o==="upcoming"&&"Get ready for these exciting upcoming launches",o==="completed"&&"Explore completed sales and their achievements"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:R.map((I,T)=>s.jsx(pI,{collection:I,portalVideo:e,portalHoverVideo:t,isSaleEnded:g,getPhases:w,now:x,isUpcoming:o==="upcoming"},I.address))}),y.length>3&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:E,className:"absolute top-1/2 left-[-20px] transform -translate-y-1/2 bg-zinc-800 bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-10",children:s.jsx("img",{src:Nu,alt:"Previous",className:"w-6 h-6 opacity-80 hover:opacity-100"})}),s.jsx("button",{onClick:S,className:"absolute top-1/2 right-[-20px] transform -translate-y-1/2 bg-zinc-800 bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-10",children:s.jsx("img",{src:Eu,alt:"Next",className:"w-6 h-6 opacity-80 hover:opacity-100"})})]}),y.length>3&&s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx("div",{className:"flex gap-2",children:Array.from({length:Math.ceil(y.length/3)}).map((I,T)=>s.jsx("button",{onClick:()=>c(T*3),className:`w-3 h-3 rounded-full transition-all duration-200 ${Math.floor(i/3)===T?"bg-gradient-to-r from-blue-500 to-pink-500":"bg-zinc-600 hover:bg-zinc-500"}`},T))})})]})]})})]})},pI=({collection:e,portalVideo:t,portalHoverVideo:n,isSaleEnded:r,getPhases:a,now:i,isUpcoming:c=!1})=>{const o=an(),[l,d]=N.useState(!1),[u,h]=N.useState(!1),f=a(e),m=Object.entries(f).find(([,E])=>{const S=Number(E.start),R=Number(E.end);return S<=i&&i<=R}),x=Object.values(f).filter(E=>Number(E.start)>i),p=x.length>0?x.reduce((E,S)=>{const R=Number(E.start),I=Number(S.start);return R<I?E:S}):null,g=()=>{u||d(!0)},b=()=>{d(!1)},v=()=>{h(!0)};N.useEffect(()=>{h(!1),d(!1)},[e]);const w=e.description||e.metadata?.description||"No description provided.",C=m?m[1].price:"0",y=r(e);return s.jsxs("div",{className:"bg-[#111] p-4 rounded-2xl text-white shadow-lg border border-zinc-800/50 h-[480px] flex flex-col cursor-pointer hover:scale-105 transition-all duration-300",onMouseEnter:g,onMouseLeave:b,onClick:()=>o(`/launchpad/collection/${e.address}`),children:[s.jsxs("div",{className:"relative mb-4 flex-shrink-0 h-64 overflow-hidden rounded-xl",children:[s.jsx("video",{src:t,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),l&&!u&&s.jsx("video",{src:n,autoPlay:!0,muted:!0,playsInline:!0,onEnded:v,className:"absolute inset-0 w-full h-full object-cover"}),u&&s.jsx("img",{src:e.cover||e.firstNFTImage||Vt,alt:e.name,className:"absolute inset-0 w-full h-full object-contain bg-zinc-900 transition-opacity duration-700",style:{objectFit:"contain",objectPosition:"center"},onError:E=>{e.firstNFTImage&&e.firstNFTImage!==E.currentTarget.src?E.currentTarget.src=e.firstNFTImage:E.currentTarget.src=Vt}}),s.jsx("div",{className:"absolute top-3 right-3",children:r(e)?s.jsx("span",{className:"px-2 py-1 bg-red-500/80 text-white text-xs rounded-full",children:"Ended"}):m?s.jsxs("span",{className:"px-2 py-1 bg-green-500/80 text-white text-xs rounded-full flex items-center gap-1",children:[s.jsx(Dd,{size:12}),"Active"]}):p?s.jsx("span",{className:"px-2 py-1 bg-yellow-500/80 text-white text-xs rounded-full",children:"Upcoming"}):s.jsx("span",{className:"px-2 py-1 bg-zinc-500/80 text-white text-xs rounded-full",children:"Paused"})})]}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent mb-2",children:e.name}),s.jsx("div",{className:"mb-3 flex-1",children:s.jsx(mI,{text:w,maxLines:1,className:"text-sm text-zinc-400"})}),s.jsxs("div",{className:"flex justify-between text-sm text-zinc-300 mb-2",children:[!c&&(m||y)?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Uc,{size:12}),e.minted||0," / ",e.totalSupply||0]}):s.jsx("span",{}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-3 h-3"}),C," STT"]})]}),s.jsx("div",{className:"mb-3",children:r(e)?s.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Sale ended"}):m?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(ba,{size:12,className:"text-pink-400"}),s.jsx("span",{className:"text-pink-400",children:"Ends in:"}),s.jsx(Si,{date:Number(m[1].end)*1e3,renderer:({days:E,hours:S,minutes:R,seconds:I})=>s.jsxs("span",{className:"text-white font-mono",children:[E>0?`${E}d `:"",S,"h ",R,"m ",I,"s"]})})]}):p?s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(ba,{size:12,className:"text-yellow-400"}),s.jsx("span",{className:"text-yellow-400",children:"Starts in:"}),s.jsx(Si,{date:Number(p.start)*1e3,renderer:({days:E,hours:S,minutes:R,seconds:I})=>s.jsxs("span",{className:"text-white font-mono",children:[E>0?`${E}d `:"",S,"h ",R,"m ",I,"s"]})})]}):s.jsx("span",{className:"text-zinc-400 text-xs",children:"No active phase"})}),s.jsxs("button",{className:"w-full py-2.5 bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 text-sm",children:[s.jsx("span",{children:"Enter Portal"}),s.jsx(Dc,{size:14})]})]})]})},gI=({collection:e})=>{const[t,n]=N.useState(""),[r,a]=N.useState(""),[i,c]=N.useState(0),[o,l]=N.useState(""),[d,u]=N.useState(""),[h,f]=N.useState(null),[m,x]=N.useState(!1),[p,g]=N.useState(""),[b,v]=N.useState(0),[w,C]=N.useState(!1);N.useEffect(()=>{(async()=>{n(e.description||""),a(e.external_link||""),c(e.royaltyPercent||0),l(e.royaltyRecipient||"");let I=!1;e.image&&e.image.trim()!==""&&(u(At(e.image)[0]),I=!0);try{const T=new Zt(window.ethereum),P=await new rt(e.address,["function contractURI() public view returns (string)"],T).contractURI();if(!P)return;const F=At(P)[0],k=await fetch(F);if(!k.ok)throw new Error(`HTTP ${k.status}`);const D=await k.json();!e.description&&D.description&&n(D.description),!e.external_link&&D.external_link&&a(D.external_link),!e.royaltyPercent&&D.royaltyPercent&&c(D.royaltyPercent),!e.royaltyRecipient&&D.royaltyRecipient&&l(D.royaltyRecipient),!I&&D.image&&u(At(D.image)[0])}catch(T){console.warn("Could not load image or metadata from contractURI:",T)}})()},[e]);const y=R=>{const I=R.target.files[0];I&&(f(I),u(URL.createObjectURL(I)))},E=async R=>{const I=new FormData;return I.append("file",R),(await(await fetch("/api/pin-file",{method:"POST",body:I})).json()).ipfsUri},S=async()=>{try{x(!0),C(!0),g("Uploading cover image..."),v(20);let R="";h?R=await E(h):d?R=d:e.image?R=e.image:R="",g("Uploading metadata..."),v(50);const I={name:e.name,description:t,image:R,external_link:r,royaltyRecipient:o,royaltyPercent:i},T=await fetch("/api/pin-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:I})});if(!T.ok)throw new Error(`Server error: ${T.status}`);const P=(await T.json()).ipfsUri;g("Signing transaction..."),v(75);const k=await new Zt(window.ethereum).getSigner();await(await new rt(e.address,["function setContractURI(string uri) external"],k).setContractURI(P)).wait();const z=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).map($=>$.address===e.address?{...$,image:R}:$);localStorage.setItem("dreava_collections",JSON.stringify(z)),g("‚úÖ Metadata updated successfully!"),v(100)}catch(R){console.error("Error updating metadata:",R),g(`‚ùå Error: ${R.message}`),v(0)}finally{x(!1)}};return s.jsxs("div",{className:"w-full mx-auto text-white pt-[8px] font-sans",children:[s.jsx("h2",{className:"text-[24px] font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-[6px]",children:"Edit Collection Metadata"}),s.jsxs("div",{className:"mb-[20px] flex gap-[24px] items-start",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"text-[13px] font-medium mb-[6px] text-white",children:"Cover Image"}),s.jsxs("label",{htmlFor:"cover-upload",className:"w-[160px] h-[144px] bg-zinc-900 border border-zinc-600 rounded-xl flex-shrink-0 flex items-center justify-center cursor-pointer overflow-hidden",children:[d?s.jsx("img",{src:d||e.firstNFTImage||Vt,alt:"preview",className:"w-full h-full object-cover",onError:R=>{console.warn("‚ö†Ô∏è Cover preview failed to load:",R.target.src),e.firstNFTImage&&e.firstNFTImage!==R.target.src?R.target.src=e.firstNFTImage:R.target.src=Vt}}):s.jsx("img",{src:"/src/assets/upload-icon.svg",alt:"icon",className:"w-8 h-8 opacity-70"}),s.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",onChange:y,className:"hidden"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Description"}),s.jsx("textarea",{value:t,onChange:R=>n(R.target.value),className:"w-full p-3 rounded-xl bg-zinc-800 border border-zinc-600 text-white h-[144px] placeholder:text-zinc-500 text-sm"})]})]}),s.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Website"}),s.jsx("input",{type:"text",value:r,onChange:R=>a(R.target.value),placeholder:"https://yourwebsite.com",className:"w-full p-3 mb-[16px] rounded-xl bg-zinc-800 border border-zinc-600 text-white placeholder:text-zinc-500 text-sm"}),s.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Royalty Recipient"}),s.jsx("input",{type:"text",value:o,onChange:R=>l(R.target.value),className:"w-full p-3 mb-[12px] rounded-xl bg-zinc-800 border border-zinc-600 text-white text-sm"}),s.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Royalty Percent (%)"}),s.jsx("input",{type:"number",min:0,max:100,value:i,onChange:R=>c(parseFloat(R.target.value)),className:"w-full p-3 mb-[20px] rounded-xl bg-zinc-800 border border-zinc-600 text-white text-sm"}),s.jsx("button",{onClick:S,disabled:m,className:"w-full py-[12px] mb-[24px] rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm transition-transform active:scale-95 shadow-md",children:m?"Saving...":"Save Metadata"}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[9997]",children:s.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-lg w-full text-center relative animate-fadeIn",tabIndex:-1,autoFocus:!0,children:[s.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>C(!1),children:s.jsx(Bt,{size:20})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent",children:"Update Progress"}),s.jsxs("div",{className:"w-full bg-zinc-700 rounded-full h-5 mb-4 relative",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-5 rounded-full transition-all duration-500",style:{width:`${b}%`}}),s.jsxs("span",{className:"absolute inset-0 flex justify-center items-center text-sm text-white font-semibold",children:[b,"%"]})]}),s.jsx("p",{className:"text-sm text-white mb-2",children:p}),s.jsx("button",{onClick:()=>C(!1),className:"w-full mt-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Close"})]})})]})},xI=({onClick:e,...t})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1298 321",className:"w-full h-full select-none",...t,children:[s.jsx("path",{fill:"#18181B",stroke:"#fff",strokeWidth:"0.21",d:"M3700.67 5315.2c0-4.89-9.98-8.86-22.27-8.86H2427.64c-12.29 0-22.27 3.97-22.27 8.86v108.87c0 4.89 9.98 8.86 22.27 8.86H3678.4c12.29 0 22.27-3.97 22.27-8.86z",transform:"matrix(1 0 0 2.51285 -2404.344 -13332.957)"}),s.jsxs("g",{onClick:e,style:{cursor:"pointer"},children:[s.jsx("path",{fill:"url(#_Linear1)",d:"M1151.78 37.052c0-7.517-22.03-13.619-49.17-13.619H315.136c-27.134 0-49.164 6.102-49.164 13.619v27.237c0 7.517 22.03 13.619 49.164 13.619h787.474c27.14 0 49.17-6.102 49.17-13.619z",transform:"matrix(.19462 0 0 .7026 509.37 217.825)"}),s.jsx("path",{fill:"#fff",d:`M580.64 243.342c0 .614.012 12.652.012 13.856 0 .695.56 1.256 1.25 1.256s1.249-.56 1.249-1.256l-.011-13.856a1.25 1.25 0 0 0-2.5 0
           M571.246 255.048l.011 8.38c0 .69.56 1.252 1.25 1.252s1.249-.561 1.249-1.253l-.011-8.379c0-.692-.56-1.252-1.25-1.252s-1.25.56-1.25 1.252
           M589.813 255.048c0 .371.012 7.651.012 8.38 0 .69.559 1.252 1.25 1.252.69 0 1.249-.561 1.249-1.253 0-.728-.012-8.008-.012-8.379 0-.692-.559-1.252-1.25-1.252-.69 0-1.249.56-1.249 1.252`}),s.jsx("path",{fill:"#fff",d:`m591.037 262.378-18.422.011a1.249 1.249 0 1 0 0 2.5c1.6 0 17.607-.012 18.422-.012a1.249 1.249 0 1 0 0-2.499
           M581.062 243.84c.576.577 5.494 5.179 5.72 5.396.491.485 1.285.471 1.77-.02a1.253 1.253 0 0 0-.028-1.771c-.218-.211-5.115-4.792-5.684-5.361a1.24 1.24 0 0 0-1.764-.007 1.245 1.245 0 0 0-.014 1.763`}),s.jsx("path",{fill:"#fff",d:"M581.026 242.084c-.57.569-5.466 5.15-5.684 5.36a1.253 1.253 0 0 0-.028 1.771 1.253 1.253 0 0 0 1.77.021c.225-.217 5.143-4.82 5.72-5.396a1.245 1.245 0 0 0-.015-1.763 1.24 1.24 0 0 0-1.763.007"}),s.jsxs("text",{x:"89.146",y:"37.587",fill:"#fff",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"20.831",fontWeight:"700",transform:"matrix(.87238 0 0 .87238 523.736 227.42)",style:{userSelect:"none",pointerEvents:"none"},children:["Uplo",s.jsx("tspan",{x:"135.802px 147.113px",y:"37.587px 37.587px",children:"ad"})," image"]})]}),s.jsx("text",{x:"89.146",y:"37.587",fill:"url(#_Linear2)",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"17.828",fontWeight:"700",transform:"translate(-21.81 6.162)scale(2.16747)",children:"You‚Äôre reading this headline ‚Äì so will everyone else!"}),s.jsx("text",{x:"89.146",y:"37.587",fill:"#fff",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"17.828",fontWeight:"700",transform:"matrix(1.33415 0 0 1.33415 132.84 96.885)",children:"This is your one and only chance to make a dazzling first impression!"}),s.jsx("text",{x:"89.146",y:"37.587",fill:"#fff",fillOpacity:"0.5",fontFamily:"'MalgunGothic', 'Malgun Gothic', sans-serif",fontSize:"9.637",transform:"translate(186.088 127.78)scale(1.45279)",children:"Recommended: 1200x400px, JPG or PNG. Choose a bold, eye-catching visual that represents your story."}),s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"_Linear1",x1:"0",x2:"1",y1:"0",y2:"0",gradientTransform:"matrix(885.808 0 0 54.4748 265.972 50.67)",gradientUnits:"userSpaceOnUse",children:[s.jsx("stop",{offset:"0",stopColor:"#45B4EF"}),s.jsx("stop",{offset:"0.5",stopColor:"#572BF6"}),s.jsx("stop",{offset:"1",stopColor:"#D11399"})]}),s.jsxs("linearGradient",{id:"_Linear2",x1:"0",x2:"1",y1:"0",y2:"0",gradientTransform:"matrix(130.74 0 0 13.7626 89.86 30.933)",gradientUnits:"userSpaceOnUse",children:[s.jsx("stop",{offset:"0",stopColor:"#45B4EF"}),s.jsx("stop",{offset:"0.19",stopColor:"#572BF6"}),s.jsx("stop",{offset:"0.62",stopColor:"#B01AB2"}),s.jsx("stop",{offset:"1",stopColor:"#D11399"})]})]})]}),bI=({imageUrl:e,onUpload:t,onRemove:n})=>{const r=N.useRef(null),a=o=>{const l=o.target.files[0];l&&t(l)},i=o=>{o.preventDefault();const l=o.dataTransfer.files[0];l&&t(l)},c=()=>{r.current?.click()};return s.jsx("div",{className:"relative h-[320px] w-full rounded-2xl overflow-hidden shadow-lg mb-8 group",onDrop:i,onDragOver:o=>o.preventDefault(),children:e?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:e,alt:"Banner",className:"w-full h-full object-cover"}),s.jsx("button",{onClick:n,className:"absolute top-2 right-2 z-10 bg-zinc-800 hover:bg-red-600 text-white rounded-full p-1 transition",title:"Delete banner",children:"‚úï"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 z-0",onClick:c,children:s.jsx(xI,{className:"w-full h-full cursor-pointer select-none"})}),s.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:a,className:"hidden"})]})})},vI=()=>{const{address:e}=Fi(),t=an(),[n,r]=N.useState(null),[a,i]=N.useState(null);N.useEffect(()=>{(async()=>{const x=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(p=>p.address===e);if(x){r(x),x.banner&&i(x.banner);try{const p=new Zt(window.ethereum),b=await new rt(e,["function contractURI() public view returns (string)"],p).contractURI();if(b&&b.startsWith("ipfs://")){const v=At(b),C=await(await fetch(v[0])).json();r(y=>({...y,description:C.description||"",seller_fee_basis_points:C.seller_fee_basis_points||0,fee_recipient:C.fee_recipient||"",banner:y.banner||""}))}}catch(p){console.error("Failed to fetch contract metadata:",p)}}})()},[e]);const c=f=>{const x=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).map(p=>p.address===e?{...p,banner:f}:p);localStorage.setItem("dreava_collections",JSON.stringify(x)),r(p=>({...p,banner:f}))},o=async f=>{if(f)try{const m=new FormData;m.append("file",f);const x=await fetch("/api/pin-file",{method:"POST",body:m});if(!x.ok)throw new Error(`Upload failed: ${x.status}`);const p=await x.json();if(p.gatewayUrl)i(p.gatewayUrl),c(p.gatewayUrl);else throw new Error("No URL returned from server")}catch(m){console.error("Banner upload error:",m),alert("Failed to upload banner. Please try again.")}},l=()=>{window.confirm("Are you sure you want to delete the banner?")&&(i(null),c(null))},d=()=>t(`/edit-nfts/${e}`),u=()=>t(`/edit-phases/${e}`),h=()=>t(`/manage-wls/${e}`);return n?s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12 text-white font-sans",children:[s.jsx(bI,{imageUrl:a,onUpload:o,onRemove:l}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-16 h-16 rounded-xl object-cover border border-zinc-600/30",onError:f=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",f.target.src),n.firstNFTImage&&n.firstNFTImage!==f.target.src?f.target.src=n.firstNFTImage:f.target.src="/default-cover.png"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:n.name}),s.jsx("p",{className:"text-zinc-400",children:n.address})]})]}),s.jsx(gI,{collection:n}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-10",children:[s.jsx("button",{onClick:u,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"Edit Phases"}),s.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"Manage WLs"}),s.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"View NFTs"}),s.jsx(r0,{collection:n})]})]}):s.jsx("div",{className:"text-center text-zinc-400 mt-20",children:"Collection not found."})},gm=[{key:"Whitelist",enumValue:1},{key:"FCFS",enumValue:2},{key:"Public",enumValue:3}],yI=["Public"],wI=async e=>{for(const t of e)try{const n=await fetch(t);if(n.ok)return await n.json()}catch{}throw new Error("All IPFS gateways failed")},CI=()=>{const{address:e}=Fi(),t=an(),[n,r]=N.useState([]),[a,i]=N.useState([]),[c,o]=N.useState(!1),[l,d]=N.useState(""),[u,h]=N.useState({visible:!1,message:"",type:"success"}),[f,m]=N.useState(!1),[x,p]=N.useState(!1);N.useEffect(()=>{if(u.visible){const I=setTimeout(()=>h(T=>({...T,visible:!1})),3e3);return()=>clearTimeout(I)}},[u.visible]);const g=(I,T="success")=>{h({visible:!0,message:I,type:T})},b=async()=>{if(e)try{const I=new Nt("https://dream-rpc.somnia.network/"),T=new rt(e,jt,I);let M=!1;try{typeof T.initialized=="function"&&(M=await T.initialized())}catch{console.log("Contract not initialized yet")}m(M),console.log("Collection launch status:",M)}catch(I){console.error("Error checking collection status:",I)}},v=async()=>{if(e)try{p(!0);const T=await new Zt(window.ethereum).getSigner(),M=new rt(e,jt,T),P=await T.getAddress(),F=await M.isAdmin(P),k=await M.owner();if(!F&&P.toLowerCase()!==k.toLowerCase()){g("‚ùå You do not have permission to stop this sale","error");return}const D=JSON.parse(localStorage.getItem(`phases_${e}`))||{},L={};Object.keys(D).forEach(G=>{L[G]={...D[G],active:!1}}),localStorage.setItem(`phases_${e}`,JSON.stringify(L)),g("‚úÖ Sale stopped successfully! All phases are now inactive.","success"),m(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(I){console.error("Error stopping sale:",I),g(`‚ùå Error stopping sale: ${I.message}`,"error")}finally{p(!1)}};N.useEffect(()=>{const T=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(k=>k.address===e);T&&d(T.name);const M=JSON.parse(localStorage.getItem(`collection_${e}_phases`))||[];M.some(k=>k.key==="Public")||(M.push({key:"Public",enumValue:3}),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(M))),r(M),(async()=>{const k=JSON.parse(localStorage.getItem(`collection_${e}_nfts`))||[],D=await Promise.all(k.map(async(G,z)=>{let $={...G,id:G.id??`nft-${z}`};if($.image?.startsWith("ipfs://")&&($.image=At($.image)[0]),!$.image&&$.tokenURI)try{const ne=At($.tokenURI),B=await wI(ne);$.image=B.image?At(B.image)[0]:$.image}catch{}return $})),L=Array.from(new Map(D.map(G=>[G.id,G])).values());i(L),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(L))})(),b()},[e]);const w=I=>{const T=[...n,I];r(T),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(T)),o(!1),g(`‚úÖ Phase "${I.key}" added.`)},C=I=>{if(yI.includes(I)){g(`‚ùå Cannot remove required phase "${I}"`,"error");return}const T=n.filter(M=>M.key!==I);r(T),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(T)),g(`‚ÑπÔ∏è Phase "${I}" removed.`,"info")},y=I=>{const T=JSON.parse(localStorage.getItem(`phases_${e}`))||{};console.log("Current saved phases:",T);const M=gm.find(k=>k.enumValue===I)?.key;if(!M)return;const P=T[M]?.active;P&&Object.keys(T).forEach(k=>{k!==M&&T[k]?.active&&(T[k].active=!1,console.log(`Deactivating phase ${k} to activate ${M}`))});const F=n.map(k=>k.key===M?{...k,active:T[M]?.active||!1}:k);console.log("Updated phases:",F),console.log("Phase settings:",T),r(F),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(F)),localStorage.setItem(`phases_${e}`,JSON.stringify(T)),g(`üöÄ Phase ${M} ${P?"activated":"deactivated"}!`)},E=()=>[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}].filter(T=>n.some(M=>M.key===T.key)).map(T=>n.find(M=>M.key===T.key)).filter(Boolean),S=gm.filter(I=>!n.some(T=>T.key===I.key)),R=E();return s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 text-white font-sans",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm",children:"‚Üê Back"}),s.jsxs("div",{className:"flex gap-2",children:[f&&s.jsx("button",{onClick:v,disabled:x,className:"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-sm flex items-center gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Stopping..."]}):s.jsxs(s.Fragment,{children:[s.jsx(SN,{size:16}),"Stop Sale"]})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>o(!c),className:"px-4 py-2 rounded bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-sm",disabled:S.length===0||f,children:"+ Add Phase"}),c&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-800 border border-zinc-600 rounded shadow-lg z-10",children:S.length===0?s.jsx("div",{className:"px-4 py-2 text-sm text-zinc-400",children:"All phases added"}):S.map(I=>s.jsx("button",{onClick:()=>w(I),className:"w-full text-left px-4 py-2 hover:bg-zinc-700 text-sm",children:I.key},I.key))})]})]})]}),s.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent",children:["Configure Phases for ",l||"Your Collection"]}),s.jsx("p",{className:"text-zinc-400 mb-6",children:"Set prices, limits, and timings for each sale phase. Public phase is required. Only one phase can be active at a time."}),R.length===0?s.jsx("p",{className:"text-zinc-400",children:"No phases configured. Public phase will be added automatically."}):s.jsx(gb,{collectionAddress:e,phases:R,onActivatePhase:y,onRemovePhase:C,nfts:a,isCollectionLaunched:f}),u.visible&&s.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${u.type==="error"?"bg-red-800 text-white":u.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:s.jsx("p",{className:"text-sm",children:u.message})})]})},NI=()=>{const{address:e}=Fi(),t=an(),[n,r]=N.useState("Whitelist"),[a,i]=N.useState([]),[c,o]=N.useState(""),[l,d]=N.useState([]),[u,h]=N.useState(0),[f,m]=N.useState({visible:!1,message:"",type:"success"});N.useEffect(()=>{if(f.visible){const C=setTimeout(()=>m(y=>({...y,visible:!1})),3e3);return()=>clearTimeout(C)}},[f.visible]);const x=(C,y="success")=>{m({visible:!0,message:C,type:y})};N.useEffect(()=>{const C=JSON.parse(localStorage.getItem(`phases_${e}`))||{};h(C[n]?.allocated||0);const y=`${e}_${n}_whitelist`,E=JSON.parse(localStorage.getItem(y))||[];d(E)},[e,n]);const p=C=>{const y=C.target.files[0];if(y){const E=new FileReader;E.onload=S=>{const I=S.target.result.split(/\r?\n/).filter(Boolean);i(I)},E.readAsText(y)}},g=C=>{const y=C.target.value;console.log("üîç === MANUAL INPUT DEBUG ==="),console.log("Raw text:",y),console.log("Text length:",y.length),console.log("Text char codes:",Array.from(y).map(R=>R.charCodeAt(0)));const E=y.split(/\r?\n/).filter(Boolean);console.log("Split lines:",E),console.log("Lines count:",E.length),console.log("Each line:",E.map((R,I)=>({index:I,line:R,length:R.length,trimmed:R.trim()})));const S=E.map(R=>R.trim()).filter(R=>R.length>0).filter(R=>{try{return getAddress(R),!0}catch(I){return console.warn("Invalid Ethereum address:",R,I.message),!1}});console.log("Cleaned and validated lines:",S),console.log("üîç === END MANUAL INPUT DEBUG ==="),i(S)},b=C=>{if(n==="Public"||C.length===0)return;console.log("üå≥ === MERKLE DEBUG ==="),console.log("Input addresses:",C),console.log("Phase:",n);const{root:y,proofs:E}=Cb(C);console.log("Generated root:",y),console.log("Generated proofs for each address:"),Object.entries(E).forEach(([I,T])=>{console.log(`  ${I}:`,T)});const S=`${e}_${n}_whitelist_proofs`,R=`${e}_${n}_whitelist_root`;localStorage.setItem(S,JSON.stringify(E)),localStorage.setItem(R,y),console.log("Merkle root:",y),console.log("Merkle proofs regenerated:",E),console.log("üå≥ === END MERKLE DEBUG ===")},v=()=>{const C=n==="Public",y=l.length+a.length;console.log("üíæ === SAVE DEBUG ==="),console.log("Phase:",n),console.log("Is public phase:",C),console.log("Allocated slots:",u),console.log("Saved addresses count:",l.length),console.log("New addresses count:",a.length),console.log("Total addresses:",y),console.log("New addresses:",a),console.log("Saved addresses:",l);const E=a.filter(I=>{try{return getAddress(I),!1}catch{return!0}});if(E.length>0){x(`‚ùå Invalid addresses found: ${E.join(", ")}`,"error");return}if(!C&&y>u){x(`‚ùå Too many addresses! Allocated: ${u}, Already saved: ${l.length}, New: ${a.length}`,"error");return}const S=Array.from(new Set([...l,...a]));console.log("Combined addresses (unique):",S),console.log("Combined count:",S.length);const R=`${e}_${n}_whitelist`;localStorage.setItem(R,JSON.stringify(S)),d(S),i([]),x(`‚úÖ Saved ${S.length} addresses for ${n}`),b(S),console.log("üíæ === END SAVE DEBUG ===")},w=l.filter(C=>C.includes(c));return s.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8 pb-24 text-white font-sans",children:[s.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm mb-4",children:"‚Üê Back"}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Manage Whitelists"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Select Phase"}),s.jsxs("select",{value:n,onChange:C=>r(C.target.value),className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors text-white",children:[s.jsx("option",{value:"Whitelist",children:"Whitelist"}),s.jsx("option",{value:"FCFS",children:"FCFS"})]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-zinc-900 rounded-lg border border-zinc-700",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Phase Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Allocated Slots"}),s.jsx("div",{className:"text-xl font-bold text-blue-400",children:n==="Public"?"‚àû":u})]}),s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Saved Addresses"}),s.jsx("div",{className:"text-xl font-bold text-green-400",children:l.length})]}),s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Remaining Slots"}),s.jsx("div",{className:"text-xl font-bold text-pink-400",children:n==="Public"?"‚àû":Math.max(u-l.length,0)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Upload Addresses"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Upload Addresses"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:".csv,.txt",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"file-upload"}),s.jsxs("label",{htmlFor:"file-upload",className:"flex items-center justify-center w-full h-12 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:opacity-90 text-white font-semibold text-sm cursor-pointer transition-all duration-200 border border-transparent hover:border-white/20",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload .CSV/.TXT"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Or Paste Addresses"}),s.jsx("textarea",{rows:6,placeholder:"Paste addresses (one per line)",onChange:g,className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors"})]}),s.jsx("button",{onClick:v,className:"w-full py-3 rounded-lg bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white font-semibold transition-all duration-200",children:"Save List"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Saved Addresses"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Search Addresses"}),s.jsx("input",{type:"text",placeholder:"Search address",value:c,onChange:C=>o(C.target.value),className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors text-sm"})]}),s.jsx("div",{className:"bg-zinc-900 rounded-lg border border-zinc-700 max-h-64 overflow-y-auto",children:w.length===0?s.jsx("div",{className:"p-4 text-center text-zinc-500 text-sm",children:"No matching addresses"}):s.jsx("ul",{className:"text-sm",children:w.map((C,y)=>s.jsxs("li",{className:"flex justify-between items-center border-b border-zinc-700 py-3 px-4 hover:bg-zinc-800 transition-colors",children:[s.jsx("span",{className:"font-mono text-xs",children:C}),s.jsx("button",{onClick:()=>{const E=l.filter(S=>S!==C);d(E),localStorage.setItem(`${e}_${n}_whitelist`,JSON.stringify(E)),b(E),x(`‚úÖ Removed address: ${C}`)},className:"text-xs text-red-400 hover:text-red-300 hover:underline transition-colors",children:"Remove"})]},y))})})]})]}),f.visible&&s.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${f.type==="error"?"bg-red-800 text-white":"bg-zinc-800 text-white"}`,children:s.jsx("p",{className:"text-sm",children:f.message})})]})},EI=()=>{const{address:e}=Fi(),t=an(),[n,r]=N.useState([]),[a,i]=N.useState({}),[c,o]=N.useState([]),[l,d]=N.useState("all"),[u,h]=N.useState("auto"),[f,m]=N.useState({totalSupply:0,minted:0,remaining:0,revenue:"0 STT",phaseBreakdown:[],blockchainStats:null}),[x,p]=N.useState(!1),[g,b]=N.useState(!0),[v,w]=N.useState(!1),[C,y]=N.useState(!1),[E,S]=N.useState(null),[R,I]=N.useState(!1),[T,M]=N.useState(null),P=(W,q)=>{if(!W.length||!q)return W;console.log("üîÑ Starting auto-distribution with:",{totalNFTs:W.length,phases:Object.keys(q),phaseAllocations:Object.entries(q).map(([J,ce])=>({key:J,allocated:ce.allocated||0,active:ce.active}))});let Q=0;const he=[...W],K=["Whitelist","FCFS","Public"];for(const J of K){const ce=q[J];if(!ce||!ce.active){console.log(`‚è≠Ô∏è Skipping ${J} - not active or not found`);continue}const X=ce.allocated||0;console.log(`üìä Processing ${J}: allocated ${X} NFTs, starting from index ${Q}`);for(let ie=0;ie<X&&Q<he.length;ie++){const fe=he[Q];fe&&(he[Q]={...fe,phaseKey:J,price:ce.price||0,distributionType:"auto",originalIndex:Q},console.log(`‚úÖ Assigned NFT ${Q} (${fe.name}) to ${J} phase`)),Q++}}for(let J=Q;J<he.length;J++){const ce=he[J];ce&&(he[J]={...ce,phaseKey:"unassigned",price:0,distributionType:"auto",originalIndex:J},console.log(`‚ö†Ô∏è NFT ${J} (${ce.name}) marked as unassigned`))}return console.log("üéâ Auto-distribution complete. Summary:",{totalProcessed:he.length,byPhase:Object.entries(q).reduce((J,[ce,X])=>(J[ce]=he.filter(ie=>ie.phaseKey===ce).length,J),{}),unassigned:he.filter(J=>J.phaseKey==="unassigned").length}),he},F=(W,q)=>{const Q=Object.values(q).reduce((J,ce)=>J+(ce.allocated||0),0),he=W.length,K=W.filter(J=>J.phaseKey!=="unassigned").length;return console.log("üîç Distribution validation:",{totalNFTs:he,totalAllocated:Q,assignedNFTs:K,unassigned:he-K,phases:Object.entries(q).map(([J,ce])=>({key:J,allocated:ce.allocated||0,actual:W.filter(X=>X.phaseKey===J).length}))}),Q!==K&&(console.warn("‚ö†Ô∏è Distribution mismatch detected!"),console.warn(`Expected ${Q} assigned NFTs, but found ${K}`)),{isValid:Q===K,totalNFTs:he,totalAllocated:Q,assignedNFTs:K,unassigned:he-K}},k=async(W,q)=>{const Q=W.length,he=await B(),K=he?he.totalSupply:0,J=Q-K,ce=he?he.currentPhase:0,X=await H(),ie=Object.entries(q).map(([A,ae])=>{const oe=W.filter(Y=>Y.phaseKey===A),V=oe.length*(ae.price||0);return{name:A,allocated:ae.allocated||0,actual:oe.length,price:ae.price||0,revenue:V,percentage:Q>0?oe.length/Q*100:0}}),fe=ie.reduce((A,ae)=>A+ae.revenue,0),xe=F(W,q);return{totalSupply:Q,minted:K,remaining:J,currentPhase:ce,revenue:`${fe} STT`,phaseBreakdown:ie,validation:xe,blockchainStats:he,profitData:X}},D=W=>{switch(W){case"Whitelist":return"border-blue-500 bg-blue-50";case"FCFS":return"border-purple-500 bg-purple-50";case"Public":return"border-pink-500 bg-pink-50";default:return"border-gray-300 bg-gray-50"}},L=W=>{if(!W)return[];if(W.startsWith("ipfs://")){const q=W.replace("ipfs://","");return[`https://gateway.pinata.cloud/ipfs/${q}`,`https://ipfs.io/ipfs/${q}`,`https://cloudflare-ipfs.com/ipfs/${q}`]}return[W]},G=async W=>{for(const q of W)try{const Q=await fetch(q);if(Q.ok)return await Q.json()}catch{}throw new Error("All IPFS gateways failed")};N.useEffect(()=>{(async()=>{console.log("üîç Fetching NFTs for collection:",e);const Q=JSON.parse(localStorage.getItem(`collection_${e}_nfts`))||[];if(console.log("üì¶ Found stored NFTs:",Q.length),Q.length===0){console.log("‚ö†Ô∏è No NFTs found in localStorage for collection:",e),r([]);return}console.log("üñºÔ∏è Processing NFT images...");const he=await Promise.all(Q.map(async(K,J)=>{console.log(`üìù Processing NFT ${J+1}/${Q.length}:`,K.name);try{if(K.image?.startsWith("ipfs://"))return console.log(`üîÑ Converting IPFS image for ${K.name}`),{...K,image:L(K.image)[0]};if(!K.image&&K.tokenURI){console.log(`üîÑ Fetching metadata for ${K.name} from tokenURI`);try{const ce=L(K.tokenURI),X=await G(ce);return console.log(`‚úÖ Metadata fetched for ${K.name}:`,X.name),{...K,image:X.image?L(X.image)[0]:K.image}}catch(ce){return console.error(`‚ùå Failed to fetch metadata for ${K.name}:`,ce.message),K}}return console.log(`‚úÖ NFT ${K.name} processed successfully`),K}catch(ce){return console.error(`‚ùå Error processing NFT ${K.name}:`,ce),K}}));console.log("üéâ All NFTs processed. Setting state with:",he.length,"NFTs"),r(he),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(he))})();const q=JSON.parse(localStorage.getItem(`phases_${e}`))||{};console.log("üìã Found phases:",q),i(q),ne()},[e]),N.useEffect(()=>{(async()=>{if(n.length>0&&Object.keys(a).length>0){console.log("üîÑ Auto-distributing NFTs based on phases...");const q=P(n,a);r(q),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(q));const Q=await k(q,a);m(Q)}})()},[a,e]);const z=W=>{const q=n.filter((Q,he)=>he!==W);r(q),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(q)),I(!1),M(null)},$=()=>{t(`/preview/${e}`)},ne=async()=>{try{b(!0);const W=new Zt(window.ethereum),q=new rt(e,["function contractURI() public view returns (string)","function baseTokenURI() public view returns (string)","function maxSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function phases(uint256) public view returns (tuple(uint256,uint256,uint256,uint256,bytes32,bool))"],W),Q=await q.contractURI(),he=await q.baseTokenURI(),K=await q.maxSupply(),J=Q&&Q!==""&&he&&he!=="";return console.log("üîç Collection launch status check:",{address:e,contractURI:Q||"empty",baseTokenURI:he||"empty",maxSupply:K.toString(),isLaunched:J}),p(J),J}catch(W){return console.error("‚ùå Error checking collection launch status:",W),p(!1),!1}finally{b(!1)}},B=async()=>{try{const W=new Zt(window.ethereum),q=new rt(e,["function totalSupply() public view returns (uint256)","function maxSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function mintedPerWallet(address, uint256) public view returns (uint256)","function currentPhase() public view returns (uint256)","function owner() public view returns (address)","function balanceOf(address) public view returns (uint256)"],W),Q=await q.totalSupply(),he=await q.maxSupply(),K=3,J=[];let ce=-1;const X=Math.floor(Date.now()/1e3);for(let ie=0;ie<K;ie++)try{const fe=await q.phases(ie),xe={phaseId:ie,start:Number(fe.start),end:Number(fe.end),price:ii(fe.price,18),maxPerWallet:Number(fe.maxPerWallet),isPublic:fe.isPublic,merkleRoot:fe.merkleRoot,isActive:X>=Number(fe.start)&&X<=Number(fe.end)};J.push(xe),xe.isActive&&(ce=ie)}catch{console.log(`Phase ${ie} not found or not accessible`)}if(ce===-1){for(let ie=0;ie<J.length;ie++)if(X<J[ie].start){ce=ie;break}}return console.log("üîó Blockchain stats fetched:",{totalSupply:Q.toString(),maxSupply:he.toString(),currentActivePhase:ce,currentTime:X,phaseStats:J.map(ie=>({phaseId:ie.phaseId,start:new Date(ie.start*1e3).toISOString(),end:new Date(ie.end*1e3).toISOString(),isActive:ie.isActive,price:ie.price}))}),{totalSupply:Number(Q),maxSupply:Number(he),remaining:Number(he)-Number(Q),currentPhase:ce,phaseStats:J}}catch(W){return console.error("‚ùå Error fetching blockchain stats:",W),null}},H=async()=>{try{const W=new Zt(window.ethereum),q=new rt(e,["function totalSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function mintedPerWallet(address, uint256) public view returns (uint256)"],W),Q=await q.totalSupply(),he=Number(Q);if(he===0)return{totalProfit:0,profitInSTT:"0 STT",profitInUSD:"$0",averagePrice:0};const K=[],J=3;for(let xe=0;xe<J;xe++)try{const A=await q.phases(xe);K.push({phaseId:xe,price:ii(A.price,18)})}catch{console.log(`Phase ${xe} not accessible`)}const ce=K.length>0?K.reduce((xe,A)=>xe+parseFloat(A.price),0)/K.length:0,X=he*ce,fe=X*.1;return console.log("üí∞ Profit calculation:",{mintedCount:he,averagePrice:ce,totalProfit:X,profitInUSD:fe,phasePrices:K}),{totalProfit:X,profitInSTT:`${X.toFixed(2)} STT`,profitInUSD:`$${fe.toFixed(2)}`,averagePrice:ce,mintedCount:he}}catch(W){return console.error("‚ùå Error calculating profit:",W),{totalProfit:0,profitInSTT:"0 STT",profitInUSD:"$0",averagePrice:0,mintedCount:0}}};return s.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pb-24",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm",children:"Back"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{const W=await k(n,a);m(W)},className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-sm",children:"Reveal"}),s.jsx("button",{onClick:$,className:"px-4 py-2 rounded bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-sm",children:"Preview Storefront"})]})]}),g?s.jsx("div",{className:"mb-6 p-4 bg-zinc-900 rounded-lg border border-zinc-700",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Checking collection status..."})]})}):x?s.jsxs("div",{className:"mb-6 p-4 bg-yellow-900/20 rounded-lg border border-yellow-500",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-yellow-400 text-lg",children:"‚ö†Ô∏è"}),s.jsx("span",{className:"text-yellow-400 font-semibold",children:"Collection Already Launched"})]}),s.jsxs("div",{className:"text-sm text-yellow-300",children:[s.jsx("p",{children:"This collection has been launched and is now live. NFT distribution cannot be changed as it affects the minting process."}),s.jsx("p",{className:"mt-2",children:"‚Ä¢ NFT phases are locked to prevent minting conflicts"}),s.jsx("p",{children:"‚Ä¢ Only viewing and analytics are available"}),s.jsx("p",{children:"‚Ä¢ To make changes, you would need to create a new collection"})]})]}):s.jsxs("div",{className:"mb-6 p-4 bg-blue-900/20 rounded-lg border border-blue-500",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-blue-400 text-lg",children:"üìù"}),s.jsx("span",{className:"text-blue-400 font-semibold",children:"Collection Not Launched"})]}),s.jsxs("div",{className:"text-sm text-blue-300",children:[s.jsx("p",{children:"You can still configure NFT distribution and phases before launching the collection."}),s.jsx("p",{className:"mt-2",children:"‚Ä¢ NFT distribution is automatically updated when you change phase settings"}),s.jsx("p",{children:"‚Ä¢ Edit individual NFT metadata (name, description, image)"}),s.jsx("p",{children:"‚Ä¢ Configure phase settings (prices, allocations, timing)"}),s.jsx("p",{children:"‚Ä¢ Once launched, NFT distribution becomes locked"})]})]}),s.jsxs("div",{className:`mb-6 rounded-lg border ${v?"bg-purple-900/10 border-purple-500 shadow-purple-500/20":"bg-zinc-800 border-zinc-600"}`,children:[s.jsx("div",{onClick:()=>w(!v),className:`p-4 border-b border-zinc-700/50 cursor-pointer transition-all duration-200 hover:scale-[1.01] hover:shadow-lg ${v?"hover:bg-purple-900/20":"hover:bg-zinc-700 hover:border-zinc-500"}`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Total NFTs:"}),s.jsx("span",{className:"text-white font-semibold ml-1",children:n.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Assigned:"}),s.jsx("span",{className:"text-green-400 font-semibold ml-1",children:n.filter(W=>W.phaseKey!=="unassigned").length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-zinc-400",children:"Unassigned:"}),s.jsx("span",{className:"text-red-400 font-semibold ml-1",children:n.filter(W=>W.phaseKey==="unassigned").length})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-zinc-400",children:"Status:"}),f.validation?.isValid?s.jsx("span",{className:"text-green-400 text-xs",children:"‚úÖ Complete"}):s.jsx("span",{className:"text-yellow-400 text-xs",children:"‚ö†Ô∏è Incomplete"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-xs text-zinc-500",children:v?"Click to hide detailed analytics":"Click to show detailed analytics"}),s.jsx("span",{className:`text-xs transition-transform duration-200 ${v?"rotate-180":""}`,children:"‚ñº"})]})]})}),v&&s.jsxs("div",{className:"p-4 animate-slideDown",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Detailed Analytics"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-zinc-500",children:f.blockchainStats?"üîó Live blockchain data":"üì± Local data"}),s.jsxs("span",{className:"text-xs text-zinc-400",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),f.validation&&s.jsxs("div",{className:`mb-4 p-3 rounded-lg border ${f.validation.isValid?"bg-green-900/20 border-green-500":"bg-red-900/20 border-red-500"}`,children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsxs("span",{className:`text-sm font-semibold ${f.validation.isValid?"text-green-400":"text-red-400"}`,children:[f.validation.isValid?"‚úÖ":"‚ö†Ô∏è"," Distribution Status"]})}),s.jsxs("div",{className:"text-xs text-zinc-400",children:[s.jsxs("div",{children:["Total NFTs: ",f.validation.totalNFTs]}),s.jsxs("div",{children:["Allocated: ",f.validation.assignedNFTs]}),s.jsxs("div",{children:["Unassigned: ",f.validation.unassigned]}),!f.validation.isValid&&s.jsx("div",{className:"text-red-400 mt-1",children:"‚ö†Ô∏è Distribution mismatch! Some NFTs are not properly assigned to phases."})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:[s.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Collection Quality Score:"}),(()=>{const W=n.length,q=n.filter(ce=>ce.description).length,Q=n.filter(ce=>ce.attributes?.length>0).length,he=n.filter(ce=>ce.phaseKey&&ce.phaseKey!=="unassigned").length,K=Math.round((q/W*.3+Q/W*.4+he/W*.3)*100),J=ce=>ce>=80?"text-green-400":ce>=60?"text-yellow-400":"text-red-400";return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`text-sm font-semibold ${J(K)}`,children:[K,"/100"]}),s.jsx("div",{className:"flex-1 bg-zinc-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all ${K>=80?"bg-green-500":K>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${K}%`}})}),s.jsx("span",{className:"text-xs text-zinc-500",children:K>=80?"Excellent":K>=60?"Good":"Needs Work"})]})})()]}),f.blockchainStats?.phaseStats&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:[s.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Blockchain Phase Status:"}),f.blockchainStats.phaseStats.map((W,q)=>s.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[s.jsxs("span",{className:`font-semibold ${W.isActive?"text-green-400":"text-zinc-500"}`,children:["Phase ",W.phaseId," (",q===0?"Whitelist":q===1?"FCFS":"Public","):"]}),s.jsxs("span",{className:"ml-2",children:[W.isActive?"üü¢ Active":"‚ö™ Inactive"," | Price: ",W.price," STT |",new Date(W.start*1e3).toLocaleDateString()," - ",new Date(W.end*1e3).toLocaleDateString()]})]},q))]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Total Supply"}),s.jsx("div",{className:"text-xl font-bold text-blue-400",children:f.totalSupply}),s.jsxs("div",{className:"text-xs text-zinc-500",children:["Max: ",f.blockchainStats?.maxSupply||"N/A"]})]}),s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Minted"}),s.jsx("div",{className:"text-xl font-bold text-green-400",children:f.minted}),s.jsxs("div",{className:"text-xs text-zinc-500",children:[f.totalSupply>0?(f.minted/f.totalSupply*100).toFixed(1):0,"% sold"]})]}),s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Remaining"}),s.jsx("div",{className:"text-xl font-bold text-pink-400",children:f.remaining}),s.jsx("div",{className:"text-xs text-zinc-500",children:"Available to mint"})]}),s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Current Phase"}),s.jsx("div",{className:"text-xl font-bold text-yellow-400",children:f.currentPhase===0?"Whitelist":f.currentPhase===1?"FCFS":f.currentPhase===2?"Public":f.currentPhase===-1?"None":"N/A"}),s.jsx("div",{className:"text-xs text-zinc-500",children:f.currentPhase>=0?`Phase ${f.currentPhase}`:"No active phase"})]}),s.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[s.jsx("div",{className:"text-zinc-400 mb-1",children:"Total Profit"}),s.jsx("div",{className:"text-xl font-bold text-emerald-400",children:f.profitData?.profitInSTT||"0 STT"}),s.jsx("div",{className:"text-xs text-zinc-500",children:f.profitData?.profitInUSD||"$0"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-semibold mb-2 text-white",children:"Phase Distribution"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:f.phaseBreakdown.map(W=>s.jsxs("div",{className:"p-3 bg-zinc-800 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"font-semibold text-white",children:W.name}),s.jsxs("span",{className:"text-sm text-zinc-400",children:[W.percentage.toFixed(1),"%"]})]}),s.jsxs("div",{className:"text-sm text-zinc-400",children:[W.actual," / ",W.allocated," NFTs"]}),s.jsxs("div",{className:"text-sm text-zinc-400",children:[W.price," STT each"]}),s.jsxs("div",{className:"text-sm text-green-400 font-semibold",children:[W.revenue," STT total"]})]},W.name))})]})]})]}),s.jsxs("div",{className:"mb-4 flex gap-4",children:[s.jsxs("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded ${l==="all"?"bg-zinc-700":"bg-zinc-800"} text-sm`,children:["All (",n.length,")"]}),s.jsxs("button",{onClick:()=>d("Whitelist"),className:`px-4 py-2 rounded ${l==="Whitelist"?"bg-blue-600":"bg-zinc-800"} text-sm`,children:["Whitelist (",n.filter(W=>W.phaseKey==="Whitelist").length,")"]}),s.jsxs("button",{onClick:()=>d("FCFS"),className:`px-4 py-2 rounded ${l==="FCFS"?"bg-purple-600":"bg-zinc-800"} text-sm`,children:["FCFS (",n.filter(W=>W.phaseKey==="FCFS").length,")"]}),s.jsxs("button",{onClick:()=>d("Public"),className:`px-4 py-2 rounded ${l==="Public"?"bg-pink-600":"bg-zinc-800"} text-sm`,children:["Public (",n.filter(W=>W.phaseKey==="Public").length,")"]}),s.jsxs("button",{onClick:()=>d("unassigned"),className:`px-4 py-2 rounded ${l==="unassigned"?"bg-gray-600":"bg-zinc-800"} text-sm`,children:["Unassigned (",n.filter(W=>W.phaseKey==="unassigned").length,")"]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map((W,q)=>l!=="all"&&W.phaseKey!==l?null:s.jsxs("div",{className:`relative bg-zinc-900 rounded-xl border-2 p-3 ${D(W.phaseKey)}`,children:[s.jsx("img",{src:W.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:W.name,className:"rounded mb-2 w-full h-40 object-cover"}),s.jsx("h3",{className:"text-sm font-semibold mb-1",children:W.name}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Phase:"})," ",W.phaseKey||"Unassigned"]}),s.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Price:"})," ",W.price||0," STT"]}),s.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Type:"})," ",W.distributionType||"auto"]}),s.jsxs("div",{className:"text-xs text-zinc-500 mb-2",children:[s.jsx("span",{className:"font-semibold",children:"Index:"})," ",q]})]}),s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>{S(W),y(!0)},className:"px-2 py-1 rounded text-xs bg-blue-600 hover:bg-blue-500 text-white",title:"View NFT details",children:"Details"}),s.jsx("button",{onClick:()=>{M({nft:W,index:q}),I(!0)},disabled:x,className:`px-2 py-1 rounded text-xs text-white ${x?"bg-zinc-700 text-zinc-400 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,title:"Delete NFT from collection",children:"Delete"})]})})]},W.id))}),C&&E&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:s.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-md w-full text-center animate-fadeIn relative",children:[s.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>y(!1),children:"‚úï"}),s.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-[#FF0080] to-[#00A3FF] bg-clip-text text-transparent",children:"NFT Details"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("img",{src:E.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:E.name,className:"w-32 h-32 object-cover rounded-lg mx-auto mb-3"}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:E.name})]}),s.jsxs("div",{className:"text-left text-sm space-y-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Phase:"}),s.jsx("span",{className:"text-white font-medium",children:E.phaseKey||"Unassigned"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Price:"}),s.jsxs("span",{className:"text-white font-medium",children:[E.price||0," STT"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Distribution:"}),s.jsx("span",{className:"text-white font-medium",children:E.distributionType||"auto"})]}),E.description&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[s.jsx("span",{className:"text-zinc-400 block mb-1",children:"Description:"}),s.jsx("span",{className:"text-white text-sm",children:E.description})]}),E.attributes&&E.attributes.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[s.jsxs("span",{className:"text-zinc-400 block mb-2",children:["Attributes (",E.attributes.length,"):"]}),s.jsx("div",{className:"space-y-1",children:E.attributes.map((W,q)=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"text-zinc-400",children:[W.trait_type,":"]}),s.jsx("span",{className:"text-white",children:W.value})]},q))})]})]}),s.jsx("button",{onClick:()=>y(!1),className:"w-full py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Close"})]})}),R&&T&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:s.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-md w-full text-center animate-fadeIn relative",children:[s.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>{I(!1),M(null)},children:"‚úï"}),s.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"‚ö†Ô∏è Delete NFT"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("img",{src:T.nft.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:T.nft.name,className:"w-24 h-24 object-cover rounded-lg mx-auto mb-3"}),s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:T.nft.name})]}),s.jsxs("div",{className:"text-center text-sm space-y-2 mb-6",children:[s.jsx("p",{className:"text-zinc-300",children:"Are you sure you want to delete this NFT from your collection?"}),s.jsx("p",{className:"text-red-400 text-xs",children:"This action cannot be undone. The NFT will be permanently removed."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{I(!1),M(null)},className:"flex-1 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Cancel"}),s.jsx("button",{onClick:()=>z(T.index),className:"flex-1 py-2 rounded bg-red-600 hover:bg-red-500 text-white text-sm font-medium",children:"Delete NFT"})]})]})})]})};N.lazy(()=>ws(()=>import("./VirtualList-CkN222eY.js"),__vite__mapDeps([3,1,2])));const xm=e=>{const t=Number(e);return!isFinite(t)||t===0?"0":t>=1?t.toLocaleString(void 0,{maximumFractionDigits:2}):t>=.1?t.toLocaleString(void 0,{maximumFractionDigits:3}):t>=.01?t.toLocaleString(void 0,{maximumFractionDigits:4}):t.toLocaleString(void 0,{maximumFractionDigits:6})},_I=e=>{if(e==null)return"0";if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="bigint")return e.toString();try{return String(e)}catch{return"0"}},SI="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09";let ri=[],pd=!1;const kI=async()=>{if(!(pd||ri.length===0)){for(pd=!0;ri.length>0;){const e=ri.splice(0,5);try{await Promise.allSettled(e.map(t=>t()))}catch(t){console.error("Batch request error:",t)}await new Promise(t=>setTimeout(t,100))}pd=!1}},Nb=e=>new Promise((t,n)=>{ri.push(async()=>{try{const r=await e();t(r)}catch(r){n(r)}}),kI()}),el=new Map,jI=600*1e3,AI=async e=>{try{if(!e||!window.ethereum)return!1;const t=`factory_collections_${Date.now()}`,n=el.get(t);return n&&Date.now()-n.timestamp<jI?n.collections.includes(e.toLowerCase()):await Nb(async()=>{const a=new Nt("https://dream-rpc.somnia.network/"),c=await new rt(SI,Sa,a).getAllCollections();return el.set(t,{collections:c.map(o=>o.toLowerCase()),timestamp:Date.now()}),c.map(o=>o.toLowerCase()).includes(e.toLowerCase())})}catch(t){return console.error("‚ùå Error checking factory collection:",t),!1}},si=new Map,TI=1800*1e3,II=async(e,t)=>{try{const n=`${t}_${e.id}_image`,r=si.get(n);if(r&&Date.now()-r.timestamp<TI)return r.url;const a=await AI(t);if(a&&t&&e.id)try{const c=await Nb(async()=>{const o=new Nt("https://dream-rpc.somnia.network/"),l=new rt(t,["function tokenURI(uint256 tokenId) view returns (string)","function ownerOf(uint256 tokenId) view returns (address)"],o),d=typeof e.id=="string"?parseInt(e.id,10):e.id;try{if(await l.ownerOf(d)===jm)return console.log(`Token ${d} doesn't exist yet`),null}catch(h){return console.log(`Token ${d} doesn't exist yet:`,h.message),null}const u=await l.tokenURI(d);if(u){let h=u;u.startsWith("ipfs://")&&(h=u.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"));const f=await Promise.race([fetch(h),new Promise((m,x)=>setTimeout(()=>x(new Error("Metadata fetch timeout")),2e3))]);if(f.ok){const m=await f.json();if(m.image){let x=m.image;return x.startsWith("ipfs://")&&(x=x.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/")),si.set(n,{url:x,timestamp:Date.now()}),x}}}return null});if(c)return c}catch(c){console.error("Error fetching factory NFT image:",c)}let i=e.image||e.image_url||e.media_url||"";return!i&&e.metadata?.image&&(i=e.metadata.image),i?(i.startsWith("ipfs://")&&(a?i=i.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"):i=i.replace("ipfs://","https://ipfs.io/ipfs/")),si.set(n,{url:i,timestamp:Date.now()}),i):null}catch(n){return console.error("Error getting NFT image URL:",n),null}},RI=()=>{const{address:e}=Fi(),t=an(),[n,r]=N.useState(null),[a,i]=N.useState(!0),[c,o]=N.useState({visible:!1,message:"",txHash:""}),{address:l,isConnected:d}=dr(),u=async ge=>{if(!window.ethereum)throw new Error("Wallet not connected");const Re=await new Zt(window.ethereum).getSigner(),Ee=new rt(ge.address,ge.abi,Re),ke={...ge.value>0?{value:ge.value}:{},...ge.gasSettings||{}};return(await Ee[ge.functionName](...ge.args,ke)).hash},[h,f]=N.useState(null),[m,x]=N.useState(0),[p,g]=N.useState([]),[b,v]=N.useState({isWhitelisted:!1}),[w,C]=N.useState(!1),[y,E]=N.useState(null),[S,R]=N.useState(null),[I,T]=N.useState(0),[M,P]=N.useState(!1),[F,k]=N.useState({}),[D,L]=N.useState(!1),G=N.useMemo(()=>window.innerWidth<768,[]),z=N.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]),[$,ne]=N.useState(!1),[B,H]=N.useState(1),[W,q]=N.useState("0"),[Q,he]=N.useState(!1),[K,J]=N.useState(!1),[ce,X]=N.useState(!1),[ie,fe]=N.useState(null),[xe,A]=N.useState(!1),[ae,oe]=N.useState(!1),[V,Y]=N.useState(!1),[se,pe]=N.useState([]),[de,re]=N.useState(!1),[be,we]=N.useState({website:"",twitter:"",discord:""}),[ve,ee]=N.useState(new Map),O=N.useMemo(()=>{if(!n)return[];const ge=[];return n.cover&&ge.push(n.cover),n.bannerImage&&ge.push(n.bannerImage),n.banner&&ge.push(n.banner),[...new Set(ge)]},[n]),_=N.useMemo(()=>!se||se.length===0?[]:se.slice(0,6).map(ge=>ge.image).filter(Boolean),[se]),j=N.useMemo(()=>n&&n.totalSupply?Math.min(100,Math.round(m/n.totalSupply*100)):0,[n,m]);N.useMemo(()=>n&&n.phases?Object.entries(n.phases):[],[n,n?.phases]);const Z=N.useMemo(()=>_I(S||(h&&h[1]?h[1].price:"0")),[S,h]),te=N.useMemo(()=>xm(Z),[Z]),le=async()=>{if(n?.address)try{let ge={};n.external_link&&(ge.website=n.external_link),n.metadata&&(n.metadata.website&&(ge.website=n.metadata.website),n.metadata.twitter&&(ge.twitter=n.metadata.twitter),n.metadata.discord&&(ge.discord=n.metadata.discord),n.metadata.external_link&&!ge.website&&(ge.website=n.metadata.external_link));const _e=JSON.parse(localStorage.getItem(`collection_${n.address}_social`)||"{}"),Re={..._e,...ge};console.log("üîç Loading social links:",{fromMetadata:ge,fromLocalStorage:_e,combined:Re}),we(Re)}catch(ge){console.error("Error loading social links:",ge)}};N.useEffect(()=>{n?.address&&le()},[n?.address]);const ue=async()=>{if(!n)return;const ge=`${n.address}_preview`,_e=ve.get(ge);if(_e&&Date.now()-_e.timestamp<300*1e3){console.log("üì¶ Using cached preview data"),pe(_e.data);return}try{re(!0),console.log("üîÑ Loading collection preview...");const Re=(ye=20)=>{const Te=[];for(let $e=0;$e<ye;$e++)Te.push({id:$e,tokenId:$e,name:`${n.name} #${$e+1}`,description:`NFT #${$e+1} from ${n.name}`,image:n.cover,isPlaceholder:!0});return Te},Ee=Re(20);pe(Ee),console.log("üöÄ Showing placeholder NFTs instantly");try{if(n.metadata&&n.metadata.nfts){console.log("üì¶ Found NFTs in metadata, loading images in background...");const ye=async(Fe,Mt)=>{try{const Zn=`nft_image_${Fe.tokenId||Fe.id||Mt}`,Fa=ve.get(Zn);if(Fa&&Date.now()-Fa.timestamp<600*1e3)return console.log("üì¶ Using cached NFT image:",Zn),{...Fe,id:Fe.tokenId||Fe.id||Mt,image:Fa.data,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||Mt+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||Mt+1} from ${n.name}`,isPlaceholder:!1};const Hs=await Promise.race([II(Fe,n.address),new Promise((Cl,Nl)=>setTimeout(()=>Nl(new Error("Image load timeout")),1500))]);return Hs&&ee(Cl=>new Map(Cl.set(Zn,{data:Hs,timestamp:Date.now()}))),{...Fe,id:Fe.tokenId||Fe.id||Mt,image:Hs||n.cover,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||Mt+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||Mt+1} from ${n.name}`,isPlaceholder:!1}}catch(Zn){return console.warn(`Failed to load image for NFT ${Mt}:`,Zn),{...Fe,id:Fe.tokenId||Fe.id||Mt,image:n.cover,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||Mt+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||Mt+1} from ${n.name}`,isPlaceholder:!1}}},$e=n.metadata.nfts.slice(0,20).map((Fe,Mt)=>ye(Fe,Mt).catch(Zn=>(console.warn(`Failed to load NFT ${Mt}:`,Zn),{...Fe,id:Fe.tokenId||Fe.id||Mt,image:n.cover,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||Mt+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||Mt+1} from ${n.name}`,isPlaceholder:!1}))),Lt=(await Promise.allSettled($e)).filter(Fe=>Fe.status==="fulfilled").map(Fe=>Fe.value);pe(Lt),console.log("‚úÖ All NFT images loaded"),ee(Fe=>new Map(Fe.set(ge,{data:Lt,timestamp:Date.now()}))),re(!1);return}}catch(ye){console.warn("‚ö†Ô∏è Failed to load real images, keeping placeholders:",ye)}console.log("‚ÑπÔ∏è Using placeholder NFTs as fallback"),pe(Ee),ee(ye=>new Map(ye.set(ge,{data:Ee,timestamp:Date.now()}))),re(!1);return}catch(Re){console.error("Error loading collection NFTs:",Re),pe([])}finally{re(!1)}},Ne=()=>{ee(new Map),pe([]),ue()},De=()=>{ee(new Map),si.clear(),el.clear(),ri=[],pe([]),console.log("üßπ All caches cleared")};N.useEffect(()=>{const _e=setInterval(()=>{(si.size>1e3||el.size>100)&&(console.warn("‚ö†Ô∏è High cache usage detected, clearing old entries..."),De())},6e4);return()=>clearInterval(_e)},[]),N.useEffect(()=>{n&&ue()},[n]),N.useEffect(()=>{d&&Q&&he(!1)},[d,Q]),N.useEffect(()=>{if(c.visible){const ge=setTimeout(()=>o(_e=>({..._e,visible:!1})),5e3);return()=>clearTimeout(ge)}},[c.visible]);const Ie=(ge,_e="")=>{o({visible:!0,message:ge,txHash:_e})};N.useEffect(()=>{if(h&&h[1]){const ge=S||h[1].price||"0",_e=(parseFloat(ge)*B).toFixed(4);q(_e)}},[B,h,S]);const Ze=()=>{if(!d){he(!0);return}if(!h){Ie("‚ùå No active phase at the moment.");return}if(!h[1]||!h[1].isPublic&&!b?.isWhitelisted){Ie("‚ùå You are not whitelisted for this phase.");return}if(M){Ie("‚ùå Collection is sold out!");return}if(Rn>0&&I>=Rn){Ie("‚ùå You have reached the wallet limit for this phase.");return}H(1),ne(!0)},je=()=>{ne(!1),H(1),he(!1)},Ke=ge=>{if(!h||!h[1])return;const _e=h[1].maxPerWallet||0,Re=_e>0?_e-I:999,Ee=Math.min(Re,10);ge>=1&&ge<=Ee&&H(ge)},nt=()=>{if(!h||!h[1])return 1;const ge=h[1].maxPerWallet||0,_e=ge>0?ge-I:999;return Math.min(_e,10)},Dt=async()=>{if(!(!h||!d)){try{(await(async()=>{try{return await switchNetwork?.(50312)}catch{return{success:!1}}})())?.success||await _s()}catch{Ie("‚ùå Please switch to Somnia Testnet to mint.");return}try{J(!0);const ge=await qt(B);ge.success?(Ie("‚úÖ Mint successful!",ge.txHash),je()):Ie(`‚ùå Mint failed: ${ge.error}`)}catch(ge){console.error("‚ùå Mint failed with exception:",ge),Ie("‚ùå Mint failed. Please try again.")}finally{J(!1)}}},qt=async(ge=1)=>{if(!d)return{success:!1,error:"Please connect your wallet first!"};try{(await(async()=>{try{return await switchNetwork?.(50312)}catch{return{success:!1}}})())?.success||await _s()}catch{return{success:!1,error:"Please switch to Somnia Testnet to mint."}}if(!n)return{success:!1,error:"No collection loaded."};if(!h||!h[1])return{success:!1,error:"No active phase."};const[_e,Re]=h;if(!Re||!Re.isPublic&&!b?.isWhitelisted)return{success:!1,error:"You are not whitelisted for this phase."};if(M)return{success:!1,error:"Collection is sold out!"};if(I+ge>Re.maxPerWallet&&Re.maxPerWallet>0)return{success:!1,error:"You would exceed the wallet limit for this phase!"};let Ee;if(S&&!isNaN(S)?(Ee=Co((parseFloat(S)*ge).toString()),console.log("üí∞ Using price from contract:",S,"STT")):Re.price&&!isNaN(Re.price)?(Ee=Co((parseFloat(Re.price)*ge).toString()),console.log("üí∞ Using price from UI:",Re.price,"STT")):(Ee=Co("0"),console.log("üí∞ Free mint detected")),Ee===void 0)return{success:!1,error:"Could not determine mint price. Please refresh the page."};let ke=p||[];Re.isPublic&&(ke=[]);try{const ye=await u({chainId:50312,address:n.address,abi:jt,functionName:"mint",args:[ge,ke],...Ee>0?{value:Ee}:{}});console.log("‚úÖ Mint transaction sent:",ye);const Te=new Nt("https://dream-rpc.somnia.network/");let $e=null,wt=3;for(;wt>0&&!$e;)try{$e=await Te.waitForTransaction(ye,1,3e4);break}catch(Lt){if(console.warn(`Transaction confirmation attempt ${4-wt} failed:`,Lt),wt--,wt>0)await new Promise(Fe=>setTimeout(Fe,2e3));else try{$e=await Te.getTransactionReceipt(ye)}catch{throw Lt}}return $e.status===1?(Ie("‚úÖ Mint successful!",ye),x(Lt=>Lt+ge),T(Lt=>Lt+ge),setTimeout(async()=>{await Promise.all([Yt(),pn()])},2e3),{success:!0,txHash:ye}):{success:!1,error:"Mint transaction failed on-chain"}}catch(ye){return console.error("‚ùå Mint Error:",ye),console.error("‚ùå Error details:",{message:ye.message,code:ye.code,data:ye.data,stack:ye.stack}),ye.message&&ye.message.includes("Not whitelisted")?{success:!1,error:"Not whitelisted for this phase"}:ye.message&&ye.message.includes("Wrong price")?{success:!1,error:"Wrong price. Please refresh the page."}:ye.message&&ye.message.includes("Phase not active")?{success:!1,error:"Phase is not active"}:ye.message&&ye.message.includes("insufficient funds")?{success:!1,error:"Insufficient funds for minting"}:ye.message&&ye.message.includes("user rejected")?{success:!1,error:"Transaction was rejected by user"}:{success:!1,error:`Mint failed: ${ye.message}`}}},pn=async()=>{if(!(!l||!n||!h||!h[1]))try{const ge=new Nt("https://dream-rpc.somnia.network/"),_e=new rt(n.address,jt,ge),[Re,Ee]=h;console.log("üîç Checking wallet limit for:",{user:l,collection:n.address,phase:Re,phaseName:Ee.name});let ke=null,ye=0;try{typeof _e.phases=="function"?(ke=await _e.phases(Re),ye=Number(ke.maxPerWallet),console.log("‚úÖ Got phase data from contract:",{start:Number(ke.start),end:Number(ke.end),price:kl(ke.price),maxPerWallet:ye,merkleRoot:ke.merkleRoot})):console.log("‚ÑπÔ∏è phases function not available in contract")}catch(Te){console.warn("‚ö†Ô∏è Could not get phase data from contract:",Te.message)}if(!ke||ye===0){console.log("üîÑ Falling back to localStorage data");const Te=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),wt=Object.entries(Te)[Re];wt&&(ye=Number(wt[1].limit)||0,console.log("üì¶ Using localStorage limit:",ye))}if(console.log("üìä Final wallet limit:",ye),ye===0){console.log("‚ÑπÔ∏è Wallet limit is 0, treating as unlimited"),T(0);return}try{if(typeof _e.mintedPerWallet=="function"){const Te=await _e.mintedPerWallet(l,Re);console.log("‚úÖ mintedPerWallet function exists, result:",Number(Te)),T(Number(Te));return}else console.log("‚ÑπÔ∏è mintedPerWallet function not available in contract")}catch(Te){console.warn("‚ö†Ô∏è mintedPerWallet function failed:",Te)}try{const Te=await _e.balanceOf(l);console.log("üîÑ Using balanceOf as fallback:",Number(Te)),Number(Te)>ye&&ye>0&&(console.warn("üö® WARNING: User balance exceeds wallet limit! This suggests:"),console.warn("   - User minted in multiple phases"),console.warn("   - Or limit was changed after mint"),console.warn("   - Or we are checking wrong phase")),T(Number(Te));return}catch(Te){console.warn("‚ö†Ô∏è balanceOf function also failed:",Te)}console.log("‚ÑπÔ∏è Could not determine wallet limit, assuming unlimited"),T(0)}catch(ge){console.error("‚ùå Could not check wallet limit:",ge),T(0)}},Yt=async()=>{if(n)try{const ge=new Nt("https://dream-rpc.somnia.network/"),_e=new rt(n.address,jt,ge),Re=await _e.totalSupply(),Ee=await _e.maxSupply(),ke=Number(Re)>=Number(Ee);P(ke),console.log("üîç Sold out check:",{totalSupply:Number(Re),maxSupply:Number(Ee),soldOut:ke})}catch(ge){console.warn("‚ö†Ô∏è Could not check sold out status:",ge),P(!1)}},gn=async()=>{if(n)try{const ge=new Nt("https://dream-rpc.somnia.network/"),_e=new rt(n.address,jt,ge);console.log("üîç Analyzing contract functions for:",n.address);const Re=["mintedPerWallet","balanceOf","totalSupply","maxSupply","currentPhase","phases"];for(const Ee of Re)try{if(Ee==="mintedPerWallet"&&h&&h[1]){const[ke]=h;await _e.mintedPerWallet(l,ke),console.log(`‚úÖ ${Ee} function exists`)}else if(Ee==="balanceOf"&&l)await _e.balanceOf(l),console.log(`‚úÖ ${Ee} function exists`);else if(Ee==="totalSupply")await _e.totalSupply(),console.log(`‚úÖ ${Ee} function exists`);else if(Ee==="maxSupply")await _e.maxSupply(),console.log(`‚úÖ ${Ee} function exists`);else if(Ee==="currentPhase")await _e.currentPhase(),console.log(`‚úÖ ${Ee} function exists`);else if(Ee==="phases"&&h&&h[1]){const[ke]=h;await _e.phases(ke),console.log(`‚úÖ ${Ee} function exists`)}}catch(ke){console.log(`‚ùå ${Ee} function not available:`,ke.message)}}catch(ge){console.error("‚ùå Failed to analyze contract:",ge)}};N.useEffect(()=>{n&&l&&gn()},[n,l]);const pt=async()=>{if(n)try{const ge=new Nt("https://dream-rpc.somnia.network/"),_e=new rt(n.address,jt,ge);console.log("üîç Checking phase history for:",n.address);const Re=await _e.currentPhase();console.log("üìä Current phase from contract:",Number(Re));const Ee=n.phases?Object.entries(n.phases):[];console.log("üìä All phases from metadata:",Ee.length);for(let ke=0;ke<Ee.length;ke++)try{const[ye,Te]=Ee[ke];console.log(`üìä Phase ${ke}: ${ye}`,{start:new Date(Number(Te.start)*1e3).toLocaleString(),end:new Date(Number(Te.end)*1e3).toLocaleString(),maxPerWallet:Te.maxPerWallet,limit:Te.limit,price:Te.price,isPublic:Te.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"});try{const $e=await _e.mintedPerWallet(l,ke);console.log(`   User minted in phase ${ke}:`,Number($e))}catch($e){console.log(`   Could not check user minted in phase ${ke}:`,$e.message)}try{const $e=await _e.phases(ke);console.log(`   Contract phase ${ke} data:`,{start:Number($e.start),end:Number($e.end),price:kl($e.price),maxPerWallet:Number($e.maxPerWallet),merkleRoot:$e.merkleRoot,isPublic:$e.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"})}catch($e){console.log(`   Could not get contract phase ${ke} data:`,$e.message)}}catch(ye){console.log(`   Could not get phase ${ke} data:`,ye.message)}try{const ke=await _e.balanceOf(l);console.log("üìä Total user balance:",Number(ke));try{const ye=await _e.balanceOf(l);console.log("üìä User owns",Number(ye),"tokens");for(let Te=0;Te<Math.min(Number(ye),5);Te++)try{const $e=await _e.tokenOfOwnerByIndex(l,Te);console.log(`   Token ${Te}: ID ${Number($e)}`)}catch($e){console.log(`   Could not get token ${Te}:`,$e.message)}}catch(ye){console.log("Could not get token details:",ye.message)}}catch(ke){console.log("Could not get user balance:",ke.message)}}catch(ge){console.error("‚ùå Failed to check phase history:",ge)}};N.useEffect(()=>{n&&l&&pt()},[n,l]),N.useEffect(()=>{(async()=>{try{if(console.log("üîç Loading collection for address:",e),!e){console.error("‚ùå No address provided"),i(!1);return}const _e=new Nt("https://dream-rpc.somnia.network/");try{if(await _e.getCode(e)==="0x")throw new Error("No contract deployed at this address");console.log("‚úÖ Contract exists at address")}catch(Fe){throw console.error("‚ùå Contract check failed:",Fe),new Error("Invalid contract address")}const Re=new rt(e,jt,_e);console.log("üîç Contract initialized, fetching data...");let Ee="Unknown Collection";try{Ee=await Re.name(),console.log("üîç Collection name:",Ee)}catch(Fe){console.warn("‚ö†Ô∏è Failed to get name from contract:",Fe)}let ke="";try{ke=await Re.contractURI(),console.log("üîç Metadata URI:",ke)}catch(Fe){console.warn("‚ö†Ô∏è Failed to get contractURI:",Fe)}let ye={};if(ke&&ke!=="")try{const Fe=At(ke);console.log("üîç IPFS URLs:",Fe),ye=await ki(Fe),console.log("üîç Fetched metadata:",ye)}catch(Fe){console.error("‚ùå Failed to fetch metadata:",Fe),ye={}}else console.log("‚ö†Ô∏è No metadata URI found");let Te=0;try{Te=await Re.maxSupply(),console.log("üîç Max supply:",Te)}catch(Fe){console.warn("‚ö†Ô∏è Failed to get maxSupply:",Fe)}const Lt={address:e,name:Ee,cover:ye.image?At(ye.image)[0]:Vt,description:ye.description||"No description provided.",phases:ye.phases||{},totalSupply:Number(Te),minted:ye.minted||0,banner:ye.banner?At(ye.banner)[0]:null,bannerPosition:"center center",bannerFit:"cover",external_link:ye.external_link||"",metadata:ye};try{const Fe=localStorage.getItem(`collection_${e}_banner`);Fe&&(Lt.banner=Fe)}catch{}r(Lt)}catch(_e){console.error("‚ùå Failed to load collection:",_e),console.error("‚ùå Error details:",{message:_e.message,code:_e.code,data:_e.data});try{const Ee=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(ke=>ke.address===e);if(Ee){const ke=localStorage.getItem(`collection_${e}_banner`),ye=localStorage.getItem(`collection_${e}_banner_position`)||"center center",Te=localStorage.getItem(`collection_${e}_banner_fit`)||"cover",$e={address:e,name:Ee.name||"Unknown Collection",cover:Ee.cover||Vt,description:Ee.description||"No description provided.",phases:Ee.phases||{},totalSupply:Ee.totalSupply||0,minted:Ee.minted||0,banner:ke||null,bannerPosition:ye,bannerFit:Te,external_link:Ee.external_link||""};r($e)}else console.error("‚ùå Collection not found in localStorage either")}catch(Re){console.error("‚ùå Failed to load from localStorage:",Re)}}finally{i(!1)}})(),le()},[e]),N.useEffect(()=>{if(!n)return;const ge=async()=>{try{const Re=new Nt("https://dream-rpc.somnia.network/"),Ee=new rt(e,jt,Re);let ke=0;try{ke=await Ee.currentPhase(),E(Number(ke)),console.log("üîç Current phase from contract:",ke)}catch(ye){console.warn("‚ö†Ô∏è Failed to get currentPhase:",ye),E(0)}if(ke>0)try{const ye=await Ee.phases(ke-1),Te=kl(ye.price);R(Te),console.log("üîç Price from contract:",Te)}catch(ye){console.warn("‚ö†Ô∏è Failed to get phase price:",ye),R(null)}else R(null);try{const ye=await Ee.totalSupply();x(Number(ye)),console.log("üîç Total minted from contract:",ye)}catch(ye){console.warn("‚ö†Ô∏è Failed to get totalSupply:",ye)}}catch(Re){console.error("‚ùå Failed to get contract data:",Re)}};ge();const _e=setInterval(ge,3e4);return()=>clearInterval(_e)},[n,e]),N.useEffect(()=>{if(!n||!l)return;const ge=async()=>{await Promise.all([pn(),Yt()])};ge();const _e=setInterval(ge,3e4);return()=>clearInterval(_e)},[n,l,h]),N.useEffect(()=>{if(!n)return;const ge=()=>{const Re=Math.floor(Date.now()/1e3),Ee=n.phases?Object.entries(n.phases):[];let ke=null,ye=null;if(Ee.forEach(([Te,$e],wt)=>{const Lt=Number($e.start),Fe=Number($e.end);Lt<=Re&&Re<=Fe&&(ke=$e,ye=wt)}),ke){const Te=ke.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||ke.isPublic,$e={name:ke.name||`Phase ${ye}`,start:Number(ke.start),end:Number(ke.end),price:ke.price,maxPerWallet:Nn&&Nn[ye]||ke.maxPerWallet||1,merkleRoot:ke.merkleRoot,isPublic:Te};f([ye,$e])}else f(null)};ge();const _e=setInterval(ge,3e4);return()=>clearInterval(_e)},[n]),N.useEffect(()=>{if(!h||!l||!n){v({isWhitelisted:!1}),g([]);return}const[ge,_e]=h;if(_e.isPublic){v({isWhitelisted:!0}),g([]);return}(async()=>{try{C(!0);let Ee=n.phases?Object.entries(n.phases):[];const ke=Ee[ge]?Ee[ge][0]:"Whitelist";console.log("üîç Checking whitelist for:",{address:l,collection:n.address,phase:ke});const ye=await fetch(`/api/whitelist/check?collection=${n.address}&phase=${ke}`);if(ye.ok){const Te=await ye.json();if(console.log("üîç Whitelist check result:",Te),Te.exists){const $e=await fetch("/api/whitelist/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:l,collection:n.address,phase:ke})});if(console.log("üîç Whitelist verify response status:",$e.status),$e.ok){const wt=await $e.json();console.log("üîç Whitelist verify response data:",wt),wt.isWhitelisted&&wt.proof&&Array.isArray(wt.proof)?(console.log("‚úÖ User is whitelisted, proof:",wt.proof),g(wt.proof),v({isWhitelisted:!0})):(console.log("‚ùå User is not whitelisted or no proof"),g([]),v({isWhitelisted:!1}))}else console.log("‚ùå Whitelist verify request failed"),g([]),v({isWhitelisted:!1})}else console.log("‚ùå Whitelist does not exist for this phase"),g([]),v({isWhitelisted:!1})}else console.log("‚ùå Whitelist check request failed"),g([]),v({isWhitelisted:!1})}catch(Ee){console.error("Error fetching whitelist proof:",Ee),g([]),v({isWhitelisted:!1})}finally{C(!1)}})()},[h?.[0],h?.[1]?.name,l,n?.address]);const Pa=async()=>{if(!n||!h||!h[1])return 0;try{const ge=new Nt("https://dream-rpc.somnia.network/"),_e=new rt(n.address,jt,ge),[Re]=h;try{if(typeof _e.phases=="function"){const Te=await _e.phases(Re),$e=Number(Te.maxPerWallet);if($e>0)return $e}}catch(Te){console.warn("Could not get phase data from contract:",Te.message)}const Ee=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),ye=Object.entries(Ee)[Re];return ye&&Number(ye[1].limit)||0}catch(ge){return console.error("Error getting wallet limit:",ge),0}},[Rn,Ws]=N.useState(0),[Nn,kr]=N.useState({});N.useEffect(()=>{n&&h&&h[1]&&Pa().then(Ws)},[n,h]);const dn=async()=>{if(n)try{const ge=new Nt("https://dream-rpc.somnia.network/"),_e=new rt(n.address,jt,ge),Re={},Ee=n.phases?Object.entries(n.phases):[];for(let ke=0;ke<Ee.length;ke++)try{if(typeof _e.phases=="function"){const ye=await _e.phases(ke),Te=Number(ye.maxPerWallet);Re[ke]=Te,console.log(`Phase ${ke} wallet limit from contract:`,Te)}}catch(ye){console.warn(`Could not get phase ${ke} limit from contract:`,ye.message);const Te=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),$e=Object.entries(Te);$e[ke]&&(Re[ke]=Number($e[ke][1].limit)||0)}kr(Re)}catch(ge){console.error("Error fetching contract phase limits:",ge)}};N.useEffect(()=>{n&&dn()},[n]),N.useEffect(()=>{n&&Nn&&Object.keys(Nn).length>0&&(()=>{const _e=Math.floor(Date.now()/1e3),Re=n.phases?Object.entries(n.phases):[];let Ee=null,ke=null;if(Re.forEach(([ye,Te],$e)=>{const wt=Number(Te.start),Lt=Number(Te.end);wt<=_e&&_e<=Lt&&(Ee=Te,ke=$e)}),Ee){const ye=Ee.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||Ee.isPublic,Te={name:Ee.name||`Phase ${ke}`,start:Number(Ee.start),end:Number(Ee.end),price:Ee.price,maxPerWallet:Nn[ke]||Ee.maxPerWallet||1,merkleRoot:Ee.merkleRoot,isPublic:ye};f([ke,Te])}})()},[n,Nn]);const Yn=()=>{if(!n||!n.phases)return[];const ge=Object.entries(n.phases),_e=Math.floor(Date.now()/1e3),Re=[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}],Ee=new Map;return ge.forEach(([ye,Te],$e)=>{Ee.set(ye,{...Te,originalIndex:$e,name:ye})}),Re.filter(ye=>Ee.has(ye.key)).map(ye=>{const Te=Ee.get(ye.key),$e=Number(Te.start),wt=Number(Te.end),Lt=$e<=_e&&_e<=wt,Fe=Te.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||Te.isPublic;return{...Te,name:ye.key,originalIndex:Te.originalIndex,isActive:Lt,isPublic:Fe,priority:ye.priority}}).sort((ye,Te)=>ye.priority-Te.priority)},Ki=()=>{if(n)try{console.log("üîç Checking localStorage phase data for:",n.address);const ge=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}");console.log("üìä Phases from localStorage:",ge),Object.entries(ge).forEach(([Re,Ee])=>{console.log(`üìä Phase "${Re}" from localStorage:`,{start:Ee.start,end:Ee.end,price:Ee.price,limit:Ee.limit,maxPerWallet:Ee.maxPerWallet,allocated:Ee.allocated,active:Ee.active}),(!Ee.limit||Ee.limit===0)&&(console.warn(`‚ö†Ô∏è WARNING: Phase "${Re}" has no limit or limit is 0!`),console.warn("   This means unlimited minting per wallet."))});const _e=JSON.parse(localStorage.getItem(`collection_${n.address}`)||"{}");console.log("üìä Collection data from localStorage:",_e)}catch(ge){console.error("‚ùå Failed to check localStorage phases:",ge)}};return N.useEffect(()=>{n&&Ki()},[n]),N.useEffect(()=>{if(n&&n.name){document.title=`${n.name} - Dreava Launchpad`;const ge=document.querySelector('meta[name="description"]');ge&&ge.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const _e=document.querySelector('meta[property="og:title"]');_e&&_e.setAttribute("content",`${n.name} - Dreava Launchpad`);const Re=document.querySelector('meta[property="og:description"]');Re&&Re.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const Ee=document.querySelector('meta[property="og:image"]');Ee&&n.banner&&(Ee.setAttribute("content",n.banner),console.log("üîç Set OG image to:",n.banner));const ke=document.querySelector('meta[property="og:url"]');ke&&ke.setAttribute("content",window.location.href);const ye=document.querySelector('meta[property="twitter:title"]');ye&&ye.setAttribute("content",`${n.name} - Dreava Launchpad`);const Te=document.querySelector('meta[property="twitter:description"]');Te&&Te.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const $e=document.querySelector('meta[property="twitter:image"]');$e&&n.banner&&($e.setAttribute("content",n.banner),console.log("üîç Set Twitter image to:",n.banner));const wt=document.querySelector('meta[property="twitter:url"]');wt&&wt.setAttribute("content",window.location.href)}return()=>{document.title="Dreava Launchpad";const ge=document.querySelector('meta[name="description"]');ge&&ge.setAttribute("content","Dreava Launchpad - NFT Launchpad Platform")}},[n]),a?s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx(Ss,{message:"Loading collection",showLogo:!0,size:"large",showProgress:!1,showDots:!1})}):n?s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(_a,{}),s.jsxs("div",{className:"relative h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[(()=>{const ge=localStorage.getItem(`collection_${n.address}_banner`),_e=n.metadata?.banner?At(n.metadata.banner)[0]:null,Re=n.banner?n.banner.startsWith("ipfs://")?At(n.banner)[0]:n.banner:null,Ee=ge||_e||Re||null,ke=localStorage.getItem(`collection_${n.address}_banner_position`)||"center center",ye=localStorage.getItem(`collection_${n.address}_banner_fit`)||"cover";return console.log("üîç CollectionMintPage Banner debug:",{bannerLocal:ge,bannerMeta:_e,bannerApi:Re,resolvedBanner:Ee,collectionCover:n.cover,collectionBannerImage:n.bannerImage}),Ee?s.jsx("img",{src:Ee,alt:"banner",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:ke,objectFit:ye},onError:Te=>{console.warn("‚ö†Ô∏è Banner image failed to load:",Ee),Te.target.style.display="none";const $e=Te.target.nextElementSibling;$e&&($e.style.display="flex")}}):null})(),s.jsxs("div",{className:`flex items-center justify-center h-full w-full ${n.banner?"hidden":""}`,style:{display:n.banner?"none":"flex"},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),s.jsxs("div",{className:"relative z-10 text-center text-white",children:[s.jsx("div",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:n.name}),s.jsx("div",{className:"text-xl text-zinc-300 mb-2",children:n.description?n.description.slice(0,100)+"...":"Amazing NFT Collection"}),s.jsx("div",{className:"text-zinc-400",children:"Discover and mint unique NFTs"})]})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/60 via-zinc-900/20 to-transparent"}),s.jsx("button",{onClick:()=>t(-1),className:"absolute top-6 left-6 px-4 py-2 rounded-xl bg-black/40 backdrop-blur-sm border border-white/20 text-white hover:bg-black/60 hover:border-white/30 transition-all duration-300 hover:scale-105 z-20",children:"‚Üê Back"})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 pb-24 relative z-10",children:[s.jsx(Su,{onMetrics:k,showUI:!1}),O.length>0&&s.jsx(Vc,{images:O,priority:!0,onComplete:()=>L(!0),onProgress:(ge,_e)=>{ge===_e&&L(!0)}}),_.length>0&&s.jsx(Vc,{images:_,priority:!1,onComplete:()=>console.log("NFT preview images preloaded"),onProgress:(ge,_e)=>{console.log(`NFT preview: ${ge}/${_e} images loaded`)}}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl border-2 border-zinc-700/50 shadow-xl overflow-hidden bg-zinc-900/80 backdrop-blur-sm flex-shrink-0",children:s.jsx(Es,{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:"cover",className:"w-full h-full object-cover",priority:!0,sizes:"96px",onError:ge=>{console.warn("‚ö†Ô∏è Cover image failed to load:",n.cover),n.firstNFTImage&&n.firstNFTImage!==ge.target.src?ge.target.src=n.firstNFTImage:ge.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9Ijk2IiBoZWlnaHQ9Ijk2IiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjQ4IiBjeT0iNDgiIHI9IjI0IiBmaWxsPSIjNjY3MzgwIi8+Cjwvc3ZnPgo="}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-white truncate",children:n.name}),s.jsx(Qn,{className:"w-6 h-6 text-green-400 flex-shrink-0"})]}),s.jsx("p",{className:"text-zinc-300 text-sm mb-4 leading-relaxed",children:n.description}),s.jsxs("div",{className:"flex items-center gap-3",children:[be.website&&s.jsx("a",{href:be.website,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:s.jsx(Fd,{className:"w-4 h-4 text-zinc-400"})}),be.twitter&&s.jsx("a",{href:be.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),be.discord&&s.jsx("a",{href:be.discord,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})})}),s.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${n.address}`,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:s.jsx(Ps,{className:"w-4 h-4 text-zinc-400"})}),s.jsx("button",{onClick:()=>oe(!0),className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"Share collection",children:s.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]})]})}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:m}),s.jsx("div",{className:"text-sm text-zinc-400",children:"Minted"})]}),s.jsx("div",{className:"text-zinc-400 text-xl",children:"/"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:n.totalSupply}),s.jsx("div",{className:"text-sm text-zinc-400",children:"Total"})]})]}),h&&s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Price"}),s.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-white whitespace-nowrap",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-5 h-5"})," ",te," STT"]})]})]}),s.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-6 overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative",style:{width:`${j}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),M?s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-red-500 via-pink-500 to-red-600 bg-clip-text text-transparent mb-2",children:"SOLD OUT!"}),s.jsx("div",{className:"text-zinc-400 text-sm",children:"All NFTs have been minted"})]}):h&&h[1]?s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(ba,{className:"w-4 h-4 text-pink-400 animate-pulse"}),s.jsx("span",{className:"text-base font-semibold text-white",children:s.jsx(Si,{date:Number(h[1].end)*1e3,renderer:({days:ge,hours:_e,minutes:Re,seconds:Ee})=>s.jsxs("span",{children:[ge>0?`${ge}d `:"",_e,"h ",Re,"m ",Ee,"s"]})})})]}),s.jsx("div",{className:"text-zinc-400 text-sm",children:"Time remaining"})]}):s.jsx("div",{className:"text-center mb-6",children:s.jsx("div",{className:"text-base font-semibold text-zinc-400",children:"No active phase at the moment"})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("button",{onClick:Ze,disabled:!h||w||M||Rn>0&&I>=Rn||!h?.[1]?.isPublic&&!b?.isWhitelisted,className:`w-full px-8 py-4 rounded-2xl text-white font-bold text-lg shadow-2xl transition-all duration-300 active:scale-95 relative overflow-hidden group ${M||Rn>0&&I>=Rn||!h||w||!h?.[1]?.isPublic&&!b?.isWhitelisted?"bg-zinc-700 text-zinc-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:from-[#0095E6] hover:to-[#E61CC7] hover:shadow-pink-500/25 hover:scale-105"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx("span",{className:"relative z-10",children:w?"Checking whitelist...":M?"Sold Out":Rn>0&&I>=Rn?"Wallet Limit Reached":h&&h[1]?`Mint for ${te} STT`:"Mint Now"})]}),!b?.isWhitelisted&&!w&&!h?.[1]?.isPublic&&s.jsx("div",{className:"mt-3 text-red-400 text-sm",children:"You are not whitelisted for this phase"}),b?.isWhitelisted&&!w&&!h?.[1]?.isPublic&&s.jsx("div",{className:"mt-3 text-green-400 text-sm",children:"‚úÖ You are whitelisted for this phase!"}),w&&s.jsx("div",{className:"mt-3",children:s.jsx(Ss,{message:"Verifying whitelist",showLogo:!1,size:"small",showProgress:!1,showDots:!1})})]})]}),s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Phases"}),(()=>{const ge=Yn();return ge.length===0?s.jsx("div",{className:"text-center text-zinc-400 text-sm",children:"No phases defined"}):s.jsx("div",{className:"space-y-3",children:ge.map((_e,Re)=>{const Ee=h&&h[1]&&h[0]===_e.originalIndex;_e.isActive;const ke=Nn[_e.originalIndex]??0;return s.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-300 ${Ee?"bg-gradient-to-r from-green-900/20 to-emerald-900/20 border-green-500/50":"bg-zinc-800/30 border-zinc-700/50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${Ee?"bg-green-500 animate-pulse":"bg-zinc-500"}`}),s.jsx("div",{className:"font-semibold text-white text-sm",children:_e.name})]}),Ee&&s.jsx("span",{className:"text-xs bg-green-600 px-2 py-1 rounded-full text-white",children:"LIVE"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white whitespace-nowrap",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-4 h-4"})," ",xm(_e.price)," STT"]}),s.jsxs("div",{className:"text-zinc-400",children:[ke===0?"‚àû":ke," per wallet"]})]}),s.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:[new Date(Number(_e.start)*1e3).toLocaleDateString()," - ",new Date(Number(_e.end)*1e3).toLocaleDateString()]})]},Re)})})})()]})]}),s.jsx("div",{className:"lg:col-span-1",children:se.length>0&&s.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 lg:sticky lg:top-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Collection Preview"}),s.jsx("button",{onClick:Ne,className:"text-zinc-400 hover:text-white transition-colors",title:"Refresh preview",children:"‚Üª"})]}),de&&s.jsx(Ss,{message:"Loading preview",showLogo:!1,size:"small",showProgress:!1,showDots:!1}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[se.slice(0,5).map((ge,_e)=>s.jsxs("button",{onClick:()=>{fe(ge),X(!0)},className:"group",children:[s.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm relative",children:[s.jsx(Es,{src:ge.image,alt:ge.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:_e<3,sizes:G?"50vw":"25vw",onError:Re=>{console.warn("‚ö†Ô∏è NFT preview image failed to load:",ge.image),Re.target.src=n.cover}}),ge.isPlaceholder&&s.jsx("div",{className:"absolute inset-0 bg-zinc-800/80 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-zinc-600 border-t-pink-500 rounded-full animate-spin mx-auto mb-2"}),s.jsx("div",{className:"text-xs text-zinc-400",children:"Loading..."})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx("div",{className:"mt-1 text-center",children:s.jsx("div",{className:"text-xs text-white font-medium truncate"})})]},_e)),se.length>5&&s.jsx("button",{onClick:()=>A(!0),className:"aspect-square rounded-lg border-2 border-dashed border-zinc-600/50 hover:border-pink-500/50 transition-all duration-300 flex items-center justify-center text-zinc-400 hover:text-zinc-300 bg-zinc-900/50 backdrop-blur-sm hover:scale-105 group",children:s.jsxs("div",{className:"text-center group-hover:scale-110 transition-transform duration-300",children:[s.jsx("div",{className:"text-sm font-semibold",children:"More"}),s.jsxs("div",{className:"text-xs",children:["+",se.length-5]})]})})]})]})})]})]}),$&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-t-3xl sm:rounded-3xl shadow-2xl w-full sm:max-w-lg sm:w-full animate-fadeIn border border-zinc-700/30 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Mint NFT"}),s.jsx("button",{onClick:je,className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:24})})]}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[s.jsx("div",{className:"relative mb-4 sm:mb-6 flex-shrink-0 h-40 sm:h-56",children:s.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-full h-full object-cover rounded-xl",onError:ge=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",ge.target.src),n.firstNFTImage&&n.firstNFTImage!==ge.target.src?ge.target.src=n.firstNFTImage:ge.target.src="/default-cover.png"}})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:n.name}),s.jsxs("p",{className:"text-sm text-zinc-400",children:[m," / ",n.totalSupply," minted"]})]})]}),s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Quantity"}),s.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/30 rounded-2xl p-3 sm:p-4 border border-zinc-700/30",children:[s.jsx("button",{onClick:()=>Ke(B-1),disabled:B<=1,className:"w-12 h-12 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-200 hover:scale-105",children:s.jsx(wp,{size:20})}),s.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white px-4 sm:px-6",children:B}),s.jsx("button",{onClick:()=>Ke(B+1),disabled:B>=nt(),className:"w-12 h-12 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-200 hover:scale-105",children:s.jsx(Cp,{size:20})})]}),s.jsxs("p",{className:"text-xs text-zinc-400 mt-2",children:["Max: ",nt()," per transaction"]})]}),s.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-zinc-700/30",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-zinc-400",children:"Price per NFT:"}),s.jsx("div",{className:"flex items-center gap-2 min-w-0",children:s.jsxs("span",{className:"font-semibold text-white whitespace-nowrap flex items-center gap-1",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-5 h-5 flex-shrink-0"})," ",te," STT"]})})]}),s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-zinc-400",children:"Quantity:"}),s.jsx("span",{className:"text-white",children:B})]}),s.jsx("div",{className:"border-t border-zinc-700/30 pt-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),s.jsx("div",{className:"flex items-center gap-2 min-w-0",children:s.jsxs("span",{className:"text-xl font-bold text-white whitespace-nowrap flex items-center gap-1",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-6 h-6 flex-shrink-0"})," ",W," STT"]})})]})})]}),s.jsxs("button",{onClick:Dt,disabled:K,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 sm:hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group sticky bottom-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx("span",{className:"relative z-10",children:K?"‚è≥ Processing...":`Mint ${B} NFT${B>1?"s":""}`})]})]})]})}),Q&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:s.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl animate-pulse",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Connect Wallet"}),s.jsx("p",{className:"text-zinc-400 mb-8 text-lg",children:"Please connect your wallet to mint NFTs from this collection"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>he(!1),className:"flex-1 py-3 px-6 rounded-2xl bg-zinc-700/50 text-white hover:bg-zinc-600/50 transition-all duration-200 hover:scale-105",children:"Cancel"}),s.jsxs("button",{onClick:()=>{he(!1);const ge=document.querySelector("[data-wallet-connect]");ge&&ge.click()},className:"flex-1 py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx("span",{className:"relative z-10",children:"Connect Wallet"})]})]})]})})}),ce&&ie&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:s.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-3xl w-full animate-fadeIn border border-zinc-700/30",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:ie.name}),s.jsx("button",{onClick:()=>{X(!1),fe(null)},className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:28})})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"rounded-2xl overflow-hidden border border-zinc-700/30 shadow-2xl",children:s.jsx("img",{src:ie.image,alt:ie.name,className:"w-full rounded-2xl object-cover hover:scale-105 transition-transform duration-500",onError:ge=>{ge.target.src=n.cover}})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl font-semibold text-white mb-3",children:ie.name}),s.jsx("p",{className:"text-zinc-300 text-base mb-6",children:ie.description||`NFT from ${n.name} collection`}),ie.attributes&&ie.attributes.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"text-lg font-semibold text-zinc-300 mb-4",children:"Attributes"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:ie.attributes.map((ge,_e)=>s.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30 hover:border-pink-500/50 transition-all duration-200 hover:scale-105",children:[s.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:ge.trait_type}),s.jsx("div",{className:"text-base text-white font-semibold",children:ge.value})]},_e))})]})]})]})]})})}),xe&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:s.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-5xl w-full max-h-[85vh] animate-fadeIn border border-zinc-700/30",children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Collection Gallery"}),s.jsx("button",{onClick:()=>A(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:28})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-[65vh] overflow-y-auto",children:se.map((ge,_e)=>s.jsxs("button",{onClick:()=>{fe(ge),A(!1),X(!0)},className:"group",children:[s.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-zinc-700/30 group-hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm shadow-lg relative",children:[s.jsx(Es,{src:ge.image,alt:ge.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:_e<12,sizes:G?"50vw":z?"25vw":"16vw",onError:Re=>{console.warn("‚ö†Ô∏è More NFTs modal image failed to load:",ge.image),Re.target.src=n.cover}}),ge.isPlaceholder&&s.jsx("div",{className:"absolute inset-0 bg-zinc-800/80 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-2 border-zinc-600 border-t-pink-500 rounded-full animate-spin mx-auto mb-2"}),s.jsx("div",{className:"text-sm text-zinc-400",children:"Loading..."})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsx("div",{className:"mt-3 text-center",children:s.jsx("div",{className:"text-sm text-white font-medium truncate",children:ge.name})})]},_e))})]})})}),c.visible&&s.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105 z-50",children:[s.jsx("p",{className:"text-sm mb-1",children:c.message}),c.txHash&&s.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${c.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[s.jsx(Ps,{size:16}),"View Transaction"]})]}),ae&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Collection"}),s.jsx("button",{onClick:()=>oe(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:s.jsx(Bt,{size:24})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[s.jsx("div",{className:"relative mb-6 flex-shrink-0 h-56",children:s.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-full h-full object-cover rounded-xl",onError:ge=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",ge.target.src),n.firstNFTImage&&n.firstNFTImage!==ge.target.src?ge.target.src=n.firstNFTImage:ge.target.src="/default-cover.png"}})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:n.name}),s.jsxs("p",{className:"text-sm text-zinc-400",children:[m," / ",n.totalSupply," minted"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Collection Link"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"text",value:window.location.href,readOnly:!0,className:"flex-1 p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl text-white text-sm focus:outline-none focus:border-pink-500/50 transition-colors truncate",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),Y(!0),setTimeout(()=>Y(!1),2e3)},className:`px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 flex-shrink-0 ${V?"bg-green-600 text-white":"bg-zinc-700/50 hover:bg-zinc-600/50 text-white"}`,children:V?"Copied!":"Copy"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs("details",{className:"group",children:[s.jsx("summary",{className:"text-xs text-zinc-400 cursor-pointer hover:text-zinc-300 transition-colors",children:"Show full URL"}),s.jsx("div",{className:"mt-2 p-2 bg-zinc-800/20 rounded-lg border border-zinc-700/30",children:s.jsx("p",{className:"text-xs text-zinc-300 break-all",children:window.location.href})})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Share on Twitter"}),s.jsx("div",{className:"bg-zinc-800/30 rounded-2xl p-4 border border-zinc-700/30 mb-4",children:s.jsxs("p",{className:"text-sm text-zinc-300 mb-3",children:['"I just created my NFT collection "',n.name,'" on Dreava Art! üöÄ',s.jsx("br",{}),s.jsx("br",{}),"Check it out: ",s.jsx("span",{className:"break-all text-blue-400",children:window.location.href}),s.jsx("br",{}),s.jsx("br",{}),`Try it yourself, it's really simple! ‚ú®"`]})}),s.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`I just created my NFT collection "${n.name}" on Dreava Art! üöÄ

Check it out: ${window.location.href}

Try it yourself, it's really simple! ‚ú®`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-blue-500/25 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Tweet"]})]})]})]})})]}):s.jsx("div",{className:"text-center text-zinc-400 mt-20",children:"Collection not found."})},ai="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",PI=async e=>{try{const t=await fetch(e,{method:"HEAD"});if(t.ok)return(t.headers.get("Content-Type")||"").toLowerCase()}catch{}return""},FI=async e=>{try{console.log("üñºÔ∏è === getImageUrl DEBUG START ==="),console.log("NFT:",e.id,e.collectionName);let t=e.image||e.image_url||e.media_url||"";console.log("Direct image URL:",t);const n=e.contractAddress||e.token?.address,r=await iu(n)||e.isFactoryNFT;console.log("Is Factory NFT:",r),console.log("Contract Address:",n);const a=typeof e.id=="string"?parseInt(e.id,10):e.id;if(r&&n&&a!==void 0&&a!==null)try{const i=new Nt("https://dream-rpc.somnia.network/"),o=await new rt(n,["function contractURI() view returns (string)"],i).contractURI();if(o&&typeof o=="string"){const l=aa(o,!0);let d=null;for(const u of l)try{const h=await fetch(u);if(h.ok){d=await h.json();break}}catch{}if(d){if(Array.isArray(d.nfts)){const h=d.nfts.find(m=>{const x=m?.tokenURI||m?.tokenUri;return typeof x!="string"?!1:x.replace(/\.json$/i,"").endsWith(`/${a}`)}),f=h?.image||h?.image_url;if(f){const m=f.startsWith("ipfs://")?gs(f,!0):f;return console.log("‚úÖ contractURI.nfts image:",m),m}}const u=d.image||d.banner||d.image_url;if(u){const h=u.startsWith("ipfs://")?gs(u,!0):u;console.log("‚úÖ contractURI collection image/banner:",h),t=t||h}}}}catch(i){console.warn("contractURI image resolution failed:",i.message)}if(!t&&r&&n&&e.id!==void 0&&e.id!==null){console.log("üè≠ Factory NFT detected, fetching token metadata from contract...");try{const i=new Nt("https://dream-rpc.somnia.network/"),c=new rt(n,["function tokenURI(uint256 tokenId) view returns (string)"],i),o=a;console.log("Calling tokenURI with tokenId:",o);const l=await c.tokenURI(o);if(console.log("Contract tokenURI result:",l),l){const d=aa(l,!0);try{let h=null;for(const f of d)try{const m=await fetch(f);if(m.ok){h=await m.json();break}}catch{}if(!h&&!/\.json$/i.test(l)){const f=aa(l+".json",!0);for(const m of f)try{const x=await fetch(m);if(x.ok){h=await x.json();break}}catch{}}if(h){console.log("‚úÖ Token metadata fetched:",h);let f=h.image||h.animation_url||h.image_url;if(f&&f.startsWith("ipfs://")&&(f=gs(f,!0)),f)return console.log("‚úÖ Using token metadata media URL:",f),f}}catch(h){console.error("‚ùå Error fetching token metadata:",h)}let u=gs(l,!0);if(/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(u))return u;{const h=[u+".gif",u+".png",u+".webp",u+".jpg",u];for(const f of h)try{if((await fetch(f,{method:"HEAD"})).ok)return f}catch{}for(const f of h)try{if((await fetch(f)).ok)return f}catch{}}}}catch(i){console.error("‚ùå Error fetching tokenURI from contract:",i)}}if(!t&&r&&n&&a!==void 0&&a!==null)try{const i=new Nt("https://dream-rpc.somnia.network/"),o=await new rt(n,["function baseTokenURI() view returns (string)"],i).baseTokenURI();if(o&&typeof o=="string"){const d=gs(o.endsWith("/")?o:o+"/",!0)+String(a),u=[d+".gif",d+".png",d+".webp",d+".jpg"];for(const h of u)try{if((await fetch(h,{method:"HEAD"})).ok)return console.log("‚úÖ baseTokenURI image:",h),h}catch{}for(const h of u)try{if((await fetch(h)).ok)return console.log("‚úÖ baseTokenURI image (GET):",h),h}catch{}}}catch(i){console.warn("baseTokenURI probing failed:",i.message)}if(!t&&e.metadata?.image&&(t=e.metadata.image,console.log("Using metadata image:",t)),!t&&e.token_instances&&e.token_instances.length>0){const i=e.token_instances[0];i.image?(t=i.image,console.log("Using token instance image:",t)):i.image_url&&(t=i.image_url,console.log("Using token instance image_url:",t))}if(!t&&e.token?.image?(t=e.token.image,console.log("Using token image:",t)):!t&&e.token?.image_url&&(t=e.token.image_url,console.log("Using token image_url:",t)),t){if(console.log("Processing image URL:",t),t.startsWith("ipfs://")){const i=aa(t,r);try{t=(await zI(i,{method:"HEAD"})).url}catch{t=gs(t,r)}}if(r&&!/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(t))try{if(!await PI(t)){const c=[".gif",".png",".webp",".jpg"];for(const o of c){const l=t+o;try{if((await fetch(l,{method:"HEAD"})).ok){t=l;break}}catch{}}}}catch{}return console.log("‚úÖ Final image URL:",t),t}return console.log("‚ùå No image URL found"),console.log("üñºÔ∏è === getImageUrl DEBUG END ==="),null}catch(t){return console.error("‚ùå Error getting image URL:",t),null}},OI=({nft:e})=>{console.log("üé® NFTMedia component called for:",e.id,e.collectionName);const[t,n]=N.useState(null),[r,a]=N.useState(!0),[i,c]=N.useState(null);return N.useEffect(()=>{(async()=>{console.log("üîÑ NFTMedia loadImage started for:",e.id,e.collectionName);try{a(!0),c(null),console.log("üìû Calling getImageUrl for:",e.id);const d=await FI(e);if(console.log("üìû getImageUrl returned:",d),d){console.log("‚úÖ Setting image URL:",d),n(d);const u=new Image;u.onload=()=>{console.log("‚úÖ Image loaded successfully:",d)},u.onerror=()=>{console.error("‚ùå Image failed to load:",d),c("Image failed to load")},u.src=d}else console.log("‚ùå No image URL found"),c("Image not found")}catch(d){console.error("‚ùå Error loading image:",d),c("Failed to load image")}finally{a(!1)}})()},[e]),r?s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i||!t?s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-zinc-700",children:s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:Vt,alt:"Logo",className:"w-16 h-16 mx-auto mb-2"}),s.jsx("div",{className:"text-sm text-zinc-300",children:"No Image"}),i&&s.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:i})]})}):/\.(mp4|webm|mov|avi|mkv)(\?|$)/i.test(t||"")?s.jsx("video",{src:t,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onError:()=>c("Failed to load video")}):s.jsx("img",{src:t,alt:e.metadata?.name||e.name||`NFT #${e.id}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onLoad:()=>console.log("‚úÖ Image loaded in component:",t),onError:l=>{console.error("‚ùå Image error in component:",t),l.target.style.display="none",c("Failed to load image")}})},DI=({nft:e})=>{try{const[t,n]=N.useState(null),[r,a]=N.useState(!1),[i,c]=N.useState(e.collectionName||e.collection?.name||e.contractName||"Unknown Collection"),[o,l]=N.useState(!1);N.useEffect(()=>{(async()=>{const f=e.token?.address,m=await iu(f);if(l(m||e.isFactoryNFT),m||e.isFactoryNFT){const x=e.collectionName||e.token?.name||"Unknown Collection";c(x)}})()},[e]);const d=async()=>{if(!e.token?.address||!e.id)return null;try{a(!0);const h=new Nt("https://dream-rpc.somnia.network/"),f=new rt(e.token.address,["function tokenURI(uint256 tokenId) view returns (string)"],h),m=typeof e.id=="string"?parseInt(e.id,10):e.id,x=await f.tokenURI(m);if(x&&x.includes("/")){const p=x.lastIndexOf("/"),g=x.substring(0,p+1);return console.log("Extracted baseURI:",g),g}return x}catch(h){return console.error("Error getting baseURI:",h),null}finally{a(!1)}},u=h=>h.startsWith("ipfs://")?`https://gateway.lighthouse.storage/ipfs/${h.replace("ipfs://","")}`:h;return N.useEffect(()=>{e.token?.address&&e.id&&d().then(h=>{n(h),console.log("Loaded baseURI for NFT",e.id,":",h),console.log("Is Factory NFT (by address):",o?"yes":"no")})},[e.token?.address,e.id]),s.jsxs("div",{className:"group relative bg-zinc-900 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-zinc-800",children:[s.jsxs("div",{className:"relative w-full aspect-square",children:[s.jsx(OI,{nft:e}),o&&s.jsx("div",{className:"absolute bottom-3 left-3",style:{zIndex:30},children:s.jsx("span",{className:"px-3 py-1 text-xs font-bold rounded-full bg-blue-500 text-white shadow-lg",children:"dreava.art"})})]}),s.jsxs("div",{className:"p-4 bg-zinc-900",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-500 text-white",children:i}),s.jsxs("span",{className:"text-xs text-zinc-400 font-medium",children:["#",e.id]})]}),s.jsx("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-1",children:e.metadata?.name||e.name||e.title||`NFT #${e.id}`}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-zinc-400 mb-3",children:[s.jsx("span",{className:"font-medium",children:e.tokenType||"ERC-721"}),e.value&&e.value!=="1"&&s.jsxs("span",{className:"bg-zinc-800 px-2 py-1 rounded text-xs font-medium text-zinc-300",children:["x",e.value]})]}),e.description&&s.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2 mb-3",children:e.description}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-800",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 text-white",children:"Owned"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",onClick:async()=>{console.log("üîç === NFT DEBUG INFO ==="),console.log("NFT ID:",e.id),console.log("NFT Name:",e.name||e.metadata?.name),console.log("Collection Name:",e.collectionName),console.log("Collection Address:",e.token?.address),console.log("Contract Address:",e.contractAddress),console.log("Token URI:",e.token_uri||e.tokenURI),console.log("Is Factory NFT (from API):",e.isFactoryNFT),console.log("Factory Address:",ai);const h=e.contractAddress||e.token?.address,f=await iu(h);if(console.log("Is Factory NFT (from factory check):",f),f&&h){console.log("üè≠ === TESTING EXISTING MYNFTS LOGIC ===");try{const m=new Nt("https://dream-rpc.somnia.network/"),x=new rt(h,["function tokenURI(uint256 tokenId) view returns (string)","function baseTokenURI() view returns (string)"],m),p=await x.baseTokenURI();console.log("Contract baseTokenURI:",p);const g=typeof e.id=="string"?parseInt(e.id,10):e.id;console.log("Calling tokenURI with tokenId:",g);const b=await x.tokenURI(g);if(console.log("TokenURI result:",b),b&&b.includes("/")){const v=b.lastIndexOf("/"),w=b.substring(0,v+1);console.log("Extracted baseURI:",w);let C=w+g+".png";console.log("Built image URL:",C),C.startsWith("ipfs://")&&(C=C.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"),console.log("Converted IPFS URL:",C)),console.log("‚úÖ Existing MyNFTs logic image URL:",C)}else console.log("‚ùå No baseURI extracted from tokenURI"),console.log("‚ùå This suggests the contract baseURI is not set correctly")}catch(m){console.error("‚ùå Error testing existing MyNFTs logic:",m)}console.log("üè≠ === END TESTING EXISTING MYNFTS LOGIC ===")}if(f&&h){console.log("üè≠ === TESTING WORKING FACTORY LOGIC ===");try{const m=new Nt("https://dream-rpc.somnia.network/"),x=new rt(h,["function contractURI() view returns (string)","function tokenURI(uint256 tokenId) view returns (string)"],m),p=await x.contractURI();if(console.log("Contract URI:",p),p&&p!==""){let v=[p];p.startsWith("ipfs://")&&(v=[`https://gateway.lighthouse.storage/ipfs/${p.replace("ipfs://","")}`]),console.log("Metadata URLs:",v);let w=null;for(const C of v)try{const y=await fetch(C);if(y.ok){w=await y.json(),console.log("‚úÖ Metadata fetched:",w);break}}catch(y){console.warn("‚ùå Failed to fetch from:",C,y.message)}if(w&&w.image){let C=w.image;C.startsWith("ipfs://")&&(C=`https://gateway.lighthouse.storage/ipfs/${C.replace("ipfs://","")}`),console.log("‚úÖ Working logic image URL:",C)}else console.log("‚ùå No image in metadata")}else console.log("‚ùå Empty contractURI");console.log("üîç Testing tokenURI for token ID:",e.id);const g=typeof e.id=="string"?parseInt(e.id,10):e.id,b=await x.tokenURI(g);if(console.log("Token URI:",b),b&&b!==""){let v=[b];b.startsWith("ipfs://")&&(v=[`https://gateway.lighthouse.storage/ipfs/${b.replace("ipfs://","")}`]),console.log("Token metadata URLs:",v);let w=null;for(const C of v)try{const y=await fetch(C);if(y.ok){w=await y.json(),console.log("‚úÖ Token metadata fetched:",w);break}}catch(y){console.warn("‚ùå Failed to fetch token metadata from:",C,y.message)}if(w&&w.image){let C=w.image;C.startsWith("ipfs://")&&(C=`https://gateway.lighthouse.storage/ipfs/${C.replace("ipfs://","")}`),console.log("‚úÖ Token image URL:",C)}else console.log("‚ùå No image in token metadata")}}catch(m){console.error("‚ùå Error testing factory logic:",m)}console.log("üè≠ === END TESTING WORKING FACTORY LOGIC ===")}try{const m=new Nt("https://dream-rpc.somnia.network/"),x=new rt(e.token?.address,["function baseTokenURI() view returns (string)","function revealed() view returns (bool)","function tokenURI(uint256) view returns (string)","function ownerOf(uint256) view returns (address)"],m),p=typeof e.id=="string"?parseInt(e.id,10):e.id,g=await x.baseTokenURI();console.log("baseTokenURI():",g);const b=await x.revealed();console.log("revealed():",b);const v=await x.tokenURI(p);console.log(`tokenURI(${p}):`,v);const w=await x.ownerOf(p);console.log(`ownerOf(${p}):`,w)}catch(m){console.error("Error analyzing NFT contract state:",m)}console.log("Full NFT Data:",e),console.log("Token Data:",e.token),console.log("Metadata:",e.metadata),console.log("üîç === END NFT DEBUG ===")},title:"Debug NFT",children:s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-zinc-400",children:[s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M12 1v6m0 6v6"}),s.jsx("path",{d:"M21 12h-6m-6 0H3"})]})}),s.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:s.jsx(GN,{size:14,className:"text-zinc-400"})}),s.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:s.jsx(vE,{size:14,className:"text-zinc-400"})}),s.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:s.jsx(ON,{size:14,className:"text-zinc-400"})})]})]})]})]})}catch(t){return console.error("Error in NFTCard:",t),s.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"text-red-500 font-medium",children:"Error rendering NFT card"}),s.jsxs("div",{className:"text-gray-500 text-sm",children:["ID: ",e?.id||"unknown"]})]})}},iu=async e=>{try{if(!e)return!1;const t=new Nt("https://dream-rpc.somnia.network/"),r=await new rt(ai,Sa,t).getAllCollections(),a=r.map(i=>i.toLowerCase()).includes(e.toLowerCase());return console.log("üè≠ Factory check for",e,":",{allCollections:r,isFactoryNFT:a}),a}catch(t){return console.error("‚ùå Error checking factory collection:",t),!1}},MI=()=>{const{address:e,isConnected:t}=dr(),[n,r]=N.useState([]),[a,i]=N.useState(!0),[c,o]=N.useState(null),[l,d]=N.useState(""),[u,h]=N.useState("all"),[f,m]=N.useState("newest"),[x,p]=N.useState("grid"),[g,b]=N.useState(!1);N.useEffect(()=>{const C=new URLSearchParams(window.location.search),y=C.get("nftId"),E=C.get("contract"),S=C.get("nftName"),R=C.get("collection");if(y||E||S||R){console.log("üîç Auto-search params from URL:",{nftId:y,contract:E,nftName:S,collection:R}),S&&d(S),R&&R!=="all"&&h(R);const I=window.location.pathname;window.history.replaceState({},"",I)}},[]);const v=["all",...new Set(n.map(C=>C.collectionName).filter(Boolean))],w=n.filter(C=>{const y=l===""||C.metadata?.name?.toLowerCase().includes(l.toLowerCase())||C.collectionName?.toLowerCase().includes(l.toLowerCase()),E=u==="all"||C.collectionName===u;return y&&E}).sort((C,y)=>{switch(f){case"newest":return new Date(y.created_at||0)-new Date(C.created_at||0);case"oldest":return new Date(C.created_at||0)-new Date(y.created_at||0);case"name":return(C.metadata?.name||"").localeCompare(y.metadata?.name||"");case"collection":return(C.collectionName||"").localeCompare(y.collectionName||"");default:return 0}});return N.useEffect(()=>{e&&(async()=>{if(e)try{i(!0),o(null),console.log("Fetching NFTs for address:",e);const E=await(async(M,P=3)=>{for(let F=0;F<P;F++)try{const k=await fetch(M);if(k.ok)return k;if(k.status===503){console.log(`API returned 503, retrying in ${(F+1)*2} seconds... (attempt ${F+1}/${P})`),await new Promise(D=>setTimeout(D,(F+1)*2e3));continue}throw new Error(`HTTP ${k.status}: ${k.statusText}`)}catch(k){if(F===P-1)throw k;console.log(`Fetch attempt ${F+1} failed, retrying...`),await new Promise(D=>setTimeout(D,1e3))}})(`https://somnia.w3us.site/api/v2/addresses/${e}/nft/collections?type=ERC-721%2CERC-404%2CERC-1155`);if(!E)throw new Error("API server is completely unavailable");const S=await E.json();if(console.log("API Response:",S),!S.items||!Array.isArray(S.items))throw new Error("Invalid API response format");let R=S.items.flatMap(M=>!M.token_instances||!Array.isArray(M.token_instances)?[]:M.token_instances.map(P=>({...P,id:P.id,collectionName:M.token?.name||"Unknown",collectionSymbol:M.token?.symbol||"",tokenType:M.token?.type||"ERC-721",token:M.token||{},isFactoryNFT:M.token?.address?.toLowerCase()===ai.toLowerCase()})));if(!R||R.length===0)try{const M=await fetch(`https://somnia.w3us.site/api/v2/addresses/${e}/nft/tokens?type=ERC-721%2CERC-404%2CERC-1155`);if(M.ok){const P=await M.json();Array.isArray(P.items)&&(R=P.items.map(F=>({...F,id:F.id,collectionName:F.token?.name||"Unknown",collectionSymbol:F.token?.symbol||"",tokenType:F.token?.type||"ERC-721",token:F.token||{},isFactoryNFT:F.token?.address?.toLowerCase()===ai.toLowerCase()})))}}catch(M){console.warn("Fallback token fetch failed:",M.message)}const T=R.filter(Boolean).filter((M,P,F)=>P===F.findIndex(k=>String(k.id)===String(M.id)&&(k.token?.address||k.contractAddress||"").toLowerCase()===(M.token?.address||M.contractAddress||"").toLowerCase()));console.log("All NFTs (merged):",T.length),r(T),(async()=>{try{const M=new Nt("https://dream-rpc.somnia.network/"),F=await new rt(ai,Sa,M).getAllCollections();let k=F;if(F.length>250){const L=F.slice(0,50),G=F.slice(-200),z=new Set;k=[...L,...G].filter($=>{const ne=$.toLowerCase();return z.has(ne)?!1:(z.add(ne),!0)})}const D=[];for(const L of k)try{const G=new rt(L,["function tokenURI(uint256 tokenId) view returns (string)","function balanceOf(address owner) view returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) view returns (uint256)","function contractURI() view returns (string)","function ownerOf(uint256 tokenId) view returns (address)"],M);let z=0;try{z=Number(await G.balanceOf(e))}catch{z=0}if(!z||z<=0)continue;const $=[];for(let ne=0;ne<Math.min(z,10);ne++)try{const B=await G.tokenOfOwnerByIndex(e,ne);$.push(Number(B))}catch{}if($.length===0)try{let ne=200;try{const B=new rt(L,["function totalSupply() view returns (uint256)","function nextTokenId() view returns (uint256)","function currentIndex() view returns (uint256)"],M);try{const H=await B.totalSupply();H&&(ne=Math.min(1e3,Number(H)))}catch{}try{const H=await B.nextTokenId();H&&(ne=Math.min(1e3,Math.max(ne,Number(H))))}catch{}try{const H=await B.currentIndex();H&&(ne=Math.min(1e3,Math.max(ne,Number(H))))}catch{}}catch{}for(let B=0;B<ne&&$.length<z&&$.length<20;B++)try{const H=await G.ownerOf(B);H&&H.toLowerCase()===e.toLowerCase()&&$.push(B)}catch{}}catch{}if($.length===0)try{const ne=await G.contractURI();if(ne&&typeof ne=="string"){const B=aa(ne,!0);let H=null;for(const q of B)try{const Q=await fetch(q);if(Q.ok){H=await Q.json();break}}catch{}const W=Array.isArray(H?.nfts)?H.nfts:[];for(let q=0;q<Math.min(W.length,50)&&$.length<20;q++){const Q=W[q],he=Q?.tokenURI||Q?.tokenUri||"";if(typeof he=="string"&&he.includes("/")){const K=he.substring(he.lastIndexOf("/")+1).replace(/\.json$/i,""),J=Number(K);if(!Number.isNaN(J))try{const ce=await G.ownerOf(J);ce&&ce.toLowerCase()===e.toLowerCase()&&$.push(J)}catch{}}}}}catch{}for(const ne of $)try{const B=await G.tokenURI(ne),H=aa(B,!0);let W=null;for(const J of H)try{if((await fetch(J,{method:"HEAD"})).ok){W=J;break}}catch{}if(!W)for(const J of H)try{if((await fetch(J)).ok){W=J;break}}catch{}if(!W)continue;let q=null;try{const J=await fetch(W);J.ok&&(q=await J.json())}catch{}const Q=q?.image||q?.animation_url||q?.image_url,he=Q?gs(Q,!0):null,K={id:ne,metadata:q||{},collectionName:"Factory Collection",tokenType:"ERC-721",token:{address:L,name:"Factory Collection",type:"ERC-721"},isFactoryNFT:!0};he&&(K.metadata.image=he),D.push(K)}catch{}}catch{}D.length&&r(L=>[...L,...D].filter((z,$,ne)=>$===ne.findIndex(B=>String(B.id)===String(z.id)&&(B.token?.address||B.contractAddress||"").toLowerCase()===(z.token?.address||z.contractAddress||"").toLowerCase())))}catch(M){console.warn("Background factory fallback failed:",M.message)}})()}catch(y){console.error("Error fetching NFTs:",y),y.message.includes("503")?o("NFT API server is temporarily unavailable. Please try again in a few minutes."):y.message.includes("Failed to fetch")||y.message.includes("completely unavailable")?o("NFT API server is currently down. Please try again later."):y.message.includes("Cannot read properties of undefined")?o("NFT API server is not responding. Please try again in a few minutes."):o(`Failed to load NFTs: ${y.message}`),r([])}finally{i(!1)}})()},[e]),t?a?s.jsx("div",{className:"min-h-screen bg-zinc-950 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-zinc-800 rounded-lg mb-8 w-48"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(10)].map((C,y)=>s.jsx("div",{className:"bg-zinc-900 rounded-2xl h-80"},y))})]})})}):c?s.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Unable to Load NFTs"}),s.jsx("p",{className:"text-zinc-400 mb-6",children:c}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200",children:"Try Again"}),s.jsxs("div",{className:"text-xs text-zinc-500",children:[s.jsx("p",{children:"If the problem persists, the NFT API server might be temporarily down."}),s.jsx("p",{className:"mt-1",children:"You can check your NFTs directly on the blockchain explorer."})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-zinc-950",children:s.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-28",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My NFT Collection"}),s.jsxs("p",{className:"text-zinc-400",children:[w.length," NFT",w.length!==1?"s":""," in your collection"]})]}),s.jsxs("div",{className:"mb-6 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(To,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search NFTs or collections...",value:l,onChange:C=>d(C.target.value),className:"w-full pl-10 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx("select",{value:u,onChange:C=>h(C.target.value),className:"px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",children:v.map(C=>s.jsx("option",{value:C,children:C==="all"?"All Collections":C},C))}),s.jsxs("select",{value:f,onChange:C=>m(C.target.value),className:"px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",children:[s.jsx("option",{value:"newest",children:"Newest First"}),s.jsx("option",{value:"oldest",children:"Oldest First"}),s.jsx("option",{value:"name",children:"Name A-Z"}),s.jsx("option",{value:"collection",children:"Collection A-Z"})]}),s.jsxs("div",{className:"flex bg-zinc-900 border border-zinc-800 rounded-lg p-1 shadow-sm",children:[s.jsx("button",{onClick:()=>p("grid"),className:`p-2 rounded-md transition-colors ${x==="grid"?"bg-blue-500 text-white shadow-sm":"text-zinc-400 hover:text-white hover:bg-zinc-800"}`,children:s.jsx(WN,{size:16})}),s.jsx("button",{onClick:()=>p("list"),className:`p-2 rounded-md transition-colors ${x==="list"?"bg-blue-500 text-white shadow-sm":"text-zinc-400 hover:text-white hover:bg-zinc-800"}`,children:s.jsx(ZN,{size:16})})]})]})]}),w.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-zinc-800 to-zinc-700 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-zinc-600 rounded-full opacity-50"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No NFTs Found"}),s.jsx("p",{className:"text-zinc-400",children:l||u!=="all"?"Try adjusting your filters":"You don't have any NFTs yet"})]}):s.jsx("div",{className:`grid gap-6 ${x==="grid"?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-1"}`,children:w.map((C,y)=>{try{return s.jsx(DI,{nft:C},`${C.token?.address}-${C.id}-${y}`)}catch(E){return console.error("Error rendering NFT card:",E,C),s.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 border border-zinc-800 shadow-sm",children:[s.jsx("div",{className:"text-red-500 font-medium",children:"Error rendering NFT"}),s.jsxs("div",{className:"text-zinc-500 text-sm",children:["ID: ",C.id]})]},`error-${y}`)}})})]})}):s.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Connect Your Wallet"}),s.jsx("p",{className:"text-zinc-400",children:"Connect your wallet to view your NFT collection"})]})})},gs=(e,t)=>{if(typeof e!="string")return e;if(e.startsWith("ipfs://")){const n=e.replace("ipfs://","");return t?`https://gateway.lighthouse.storage/ipfs/${n}`:`https://ipfs.io/ipfs/${n}`}return e},aa=(e,t)=>{if(typeof e!="string")return[e];if(e.startsWith("ipfs://")){const n=e.replace("ipfs://","");return[t?`https://gateway.lighthouse.storage/ipfs/${n}`:`https://ipfs.io/ipfs/${n}`,`https://gateway.lighthouse.storage/ipfs/${n}`,`https://cloudflare-ipfs.com/ipfs/${n}`,`https://ipfs.io/ipfs/${n}`]}return[e]},zI=async(e,t)=>{for(const n of e)try{const r=await fetch(n,t);if(r.ok)return r}catch{}throw new Error("All gateways failed")},BI="/assets/somniaquest-CJkHo6hu.png",LI=({text:e,maxLines:t=3,className:n=""})=>{const[r,a]=N.useState(!1),[i,c]=N.useState(!1),[o,l]=N.useState(e),d=N.useRef(null),u=N.useRef(null);N.useEffect(()=>{if(d.current){const m=parseInt(window.getComputedStyle(d.current).lineHeight)*t;c(d.current.scrollHeight>m)}},[e,t]),N.useEffect(()=>{const f=m=>{r&&!u.current?.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const h=(f,m)=>{const x=f.split(" "),p=document.createElement("p");p.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 16px;
      line-height: 1.5;
      width: calc(100% - 32px);
      max-width: calc(100% - 32px);
    `,document.body.appendChild(p);const b=parseInt(window.getComputedStyle(p).lineHeight)*m;let v=f;for(let w=x.length;w>0;w--){const C=x.slice(0,w).join(" ");if(p.textContent=C,p.scrollHeight<=b){v=C;break}}return document.body.removeChild(p),v};return N.useEffect(()=>{l(i?h(e,t):e)},[e,i,t]),i?s.jsxs("div",{className:"relative h-[72px]",children:[s.jsx("div",{className:"overflow-hidden h-full",children:s.jsx("p",{className:n,style:{width:"calc(100% - 32px)"},children:o})}),s.jsx("button",{ref:u,onClick:()=>a(!r),className:"absolute bottom-0 right-0 bg-zinc-800 hover:bg-zinc-700 rounded-full w-6 h-6 flex items-center justify-center text-xs transition-colors z-10",title:"Show full text",children:"‚ãØ"}),r&&s.jsx("div",{className:"fixed bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg max-w-xs z-50",style:{top:u.current?u.current.getBoundingClientRect().bottom+5:0,left:u.current?u.current.getBoundingClientRect().left-200:0},children:s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e})})]}):s.jsx("p",{ref:d,className:n,children:e})},UI=({text:e,maxLines:t=3,onClick:n})=>{const[r,a]=N.useState(!1),[i,c]=N.useState(!1),[o,l]=N.useState(e),d=N.useRef(null),u=N.useRef(null);N.useEffect(()=>{if(d.current){const m=parseInt(window.getComputedStyle(d.current).lineHeight)*t;c(d.current.scrollHeight>m)}},[e,t]),N.useEffect(()=>{const f=m=>{r&&!u.current?.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const h=(f,m)=>{const x=f.split(" "),p=document.createElement("h3");p.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 24px;
      line-height: 1.5;
      font-weight: bold;
      width: calc(100% - 32px);
    `,document.body.appendChild(p);const b=parseInt(window.getComputedStyle(p).lineHeight)*m;let v=f;for(let w=x.length;w>0;w--){const C=x.slice(0,w).join(" ");if(p.textContent=C,p.scrollHeight<=b){v=C;break}}return document.body.removeChild(p),v};return N.useEffect(()=>{l(i?h(e,t):e)},[e,i,t]),s.jsxs("div",{className:"relative h-[72px]",children:[s.jsx("div",{className:"overflow-hidden h-full",children:s.jsx("h3",{ref:d,onClick:n,className:"text-2xl font-bold text-white cursor-pointer hover:text-blue-400 transition-colors",style:i?{width:"calc(100% - 32px)"}:{},children:i?o:e})}),i&&s.jsx("button",{ref:u,onClick:f=>{f.stopPropagation(),a(!r)},className:"absolute bottom-0 right-0 bg-zinc-800 hover:bg-zinc-700 rounded-full w-6 h-6 flex items-center justify-center text-xs transition-colors z-10",title:"Show full title",children:"‚ãØ"}),r&&s.jsx("div",{className:"fixed bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg max-w-xs z-50",style:{top:u.current?u.current.getBoundingClientRect().bottom+5:0,left:u.current?u.current.getBoundingClientRect().left-200:0},children:s.jsx("h3",{className:"text-white text-lg font-bold",children:e})})]})},$I=()=>{const[e,t]=N.useState([]),[n,r]=N.useState(0),[a,i]=N.useState(!1),[c,o]=N.useState(null),[l,d]=N.useState([]),[u,h]=N.useState(!1),[f,m]=N.useState(!1),[x,p]=N.useState(0),[g,b]=N.useState({totalRequests:0,successfulMints:0,failedMints:0,queueLength:0,averageProcessingTime:0}),[v,w]=N.useState({}),[C,y]=N.useState({}),[E,S]=N.useState(!1),[R,I]=N.useState(!1),[T,M]=N.useState(null),[P,F]=N.useState(1),[k,D]=N.useState("0"),[L,G]=N.useState(!1),[z,$]=N.useState({visible:!1,message:"",txHash:""}),[ne,B]=N.useState(0),H=an(),{address:W,isConnected:q,switchNetwork:Q}=dr(),{collections:he,loading:K,error:J,refetch:ce}=_u(),X=async ee=>{if(!window.ethereum)throw new Error("Wallet not connected");try{(await(async()=>{try{return await Q?.(br)}catch{return{success:!1}}})())?.success||await _s()}catch{throw new Error("Please switch to Somnia Testnet")}const _=await new Zt(window.ethereum).getSigner(),j=new rt(ee.address,ee.abi,_),Z={...ee.value>0?{value:ee.value}:{},...ee.gasSettings||{}};return(await j[ee.functionName](...ee.args,Z)).hash},ie={BASE_GAS_LIMIT:3e5,MAX_GAS_LIMIT:5e5,GAS_LIMIT:3e6,MAX_GAS_PRICE_GWEI:50,WARNING_GAS_PRICE_GWEI:20,PRICE_MULTIPLIER:1.2,RETRY_ATTEMPTS:5,RETRY_DELAY:1e3},fe=N.useMemo(()=>!he||he.length===0?[]:he.map(ee=>{const _=(Ne=>Ne.phases||Ne.metadata?.phases||{})(ee),j=Math.floor(Date.now()/1e3),Z=[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}],te=new Map;Object.entries(_).forEach(([Ne,De])=>{te.set(Ne,{...De,name:Ne})});const le=Z.filter(Ne=>te.has(Ne.key)).map(Ne=>{const De=te.get(Ne.key),Ie=Number(De.start),Ze=Number(De.end),je=Ie<=j&&j<=Ze,Ke=De.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||De.isPublic;return{...De,name:Ne.key,isActive:je,isPublic:Ke,priority:Ne.priority}}).sort((Ne,De)=>Ne.priority-De.priority),ue=le.find(Ne=>Ne.isActive);return{...ee,maxSupply:ee.totalSupply||ee.maxSupply||0,minted:ee.minted||0,activePhase:ue?{name:ue.name,start:Number(ue.start),end:Number(ue.end),price:ue.price,maxPerWallet:Number(ue.maxPerWallet)||1,merkleRoot:ue.merkleRoot,isPublic:ue.isPublic}:null,sortedPhases:le}}),[he]);N.useEffect(()=>{if(z.visible){const ee=setTimeout(()=>$(O=>({...O,visible:!1})),5e3);return()=>clearTimeout(ee)}},[z.visible]);const xe=(ee,O="")=>{$({visible:!0,message:ee,txHash:O})},A=async ee=>{try{t(O=>O.map(_=>_.address===ee?{..._,minted:_.minted+1}:_)),y(O=>({...O,[ee]:(O[ee]||0)+1})),console.log("‚úÖ Collection data updated locally for:",ee),setTimeout(()=>{ce(),ae()},1e3)}catch(O){console.error("‚ùå Failed to update collection data:",O)}};N.useEffect(()=>{t(fe)},[fe]),N.useEffect(()=>{a&&c&&fe.length>0&&ae()},[a,c,fe]),N.useEffect(()=>()=>{d([]),h(!1),m(!1)},[]),N.useEffect(()=>{i(q),o(W)},[q,W]),N.useEffect(()=>{if(T&&T.activePhase){const ee=T.activePhase.price||"0",O=(parseFloat(ee)*P).toFixed(4);D(O)}},[P,T]);const ae=async()=>{if(!(!c||!a))try{const ee=new Nt("https://dream-rpc.somnia.network/"),O={};console.log("üîç Checking wallet limits for user:",c);for(const j of fe)if(j.activePhase)try{const Z=new rt(j.address,jt,ee),te=j.phases||j.metadata?.phases||{},ue=Object.entries(te).findIndex(([,Ne])=>{const De=Number(Ne.start),Ie=Number(Ne.end),Ze=Math.floor(Date.now()/1e3);return De<=Ze&&Ze<=Ie});if(console.log(`üîç Collection ${j.name} (${j.address}):`,{activePhaseIndex:ue,maxPerWallet:j.activePhase.maxPerWallet}),ue>=0)try{const Ne=await Z.mintedPerPhase(ue,c);console.log(`‚úÖ mintedPerPhase exists for ${j.name}:`,Number(Ne)),O[j.address]=Number(Ne)}catch(Ne){console.warn(`‚ö†Ô∏è mintedPerPhase failed for ${j.name}:`,Ne);try{const De=await Z.balanceOf(c);console.log(`üîÑ Fallback balanceOf for ${j.name}:`,Number(De)),O[j.address]=Number(De)}catch(De){console.warn(`‚ö†Ô∏è balanceOf also failed for ${j.name}:`,De),O[j.address]=0}}else console.log(`‚ö†Ô∏è No active phase found for ${j.name}`),O[j.address]=0}catch(Z){console.warn(`‚ö†Ô∏è Could not check wallet limit for ${j.address}:`,Z),O[j.address]=0}console.log("üìä Final user minted counts:",O),y(O);const _=Object.entries(O).some(([j,Z])=>{const te=fe.find(ue=>ue.address===j);if(!te||!te.activePhase)return!1;const le=te.activePhase.maxPerWallet||0;return le>0&&Z>=le});S(_)}catch(ee){console.error("‚ùå Failed to check wallet limits:",ee)}},oe=ee=>{if(!a){G(!0);return}M(ee),F(1),I(!0)},V=()=>{I(!1),M(null),F(1),G(!1)},Y=ee=>{if(!T)return;const O=T.activePhase?.maxPerWallet||0,_=C[T.address]||0,j=O>0?O-_:999,Z=Math.min(j,10);ee>=1&&ee<=Z&&F(ee)},se=ee=>{if(!ee||!ee.activePhase)return 1;const O=ee.activePhase.maxPerWallet||0,_=C[ee.address]||0,j=O>0?O-_:999;return Math.min(j,10)},pe=async()=>{if(!(!T||!a))try{m(!0);const ee=await de(T,P);ee.success?(xe("‚úÖ Mint successful!",ee.txHash),await A(T.address),V()):xe("‚ùå Mint failed. Please try again.")}catch(ee){console.error("‚ùå Mint failed:",ee),xe("‚ùå Mint failed. Please try again.")}finally{m(!1)}},de=async(ee,O=1)=>{if(!ee||!ee.activePhase)return{success:!1,error:"No active phase"};if(!a||!c)return{success:!1,error:"Wallet not connected"};const _=3;let j=null;for(let Z=1;Z<=_;Z++)try{console.log(`üöÄ Mint attempt ${Z}/${_} for ${ee.name}`),console.log("üìä Collection details:",{address:ee.address,activePhase:ee.activePhase,price:ee.activePhase.price,isPublic:ee.activePhase.isPublic});const te=await re(Z);console.log("‚õΩ Gas settings:",te);const le=ee.activePhase.price||"0",ue=Co((parseFloat(le)*O).toString());console.log("üí∞ Price calculation:",{price:le,quantity:O,value:ue.toString()});let Ne=[];if(!ee.activePhase.isPublic){const Ke=Object.keys(ee.phases||{}).find(nt=>{const Dt=ee.phases[nt];return Dt&&Number(Dt.start)<=Math.floor(Date.now()/1e3)&&Math.floor(Date.now()/1e3)<=Number(Dt.end)});if(Ke){const nt=`${ee.address}_${Ke}_whitelist_proofs`;Ne=JSON.parse(localStorage.getItem(nt)||"{}")[c]||[],console.log("üîê Whitelist proof:",Ne)}}console.log("üìù Transaction parameters:",{address:ee.address,functionName:"mint",args:[O,Ne],value:ue.toString(),gasSettings:te});const De=await X({chainId:50312,address:ee.address,abi:jt,functionName:"mint",args:[O,Ne],...ue>0?{value:ue}:{},...te});console.log("‚úÖ Mint transaction sent:",De);const Ie=new Nt("https://dream-rpc.somnia.network/");let Ze=null,je=3;for(;je>0&&!Ze;)try{Ze=await Ie.waitForTransaction(De,1,3e4);break}catch(Ke){if(console.warn(`Transaction confirmation attempt ${4-je} failed:`,Ke),je--,je>0)await new Promise(nt=>setTimeout(nt,2e3));else try{Ze=await Ie.getTransactionReceipt(De)}catch{throw Ke}}if(Ze.status===1){console.log("‚úÖ Mint successful!");try{await fetch("/api/quest/record-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:c,actionType:"nft_minted",data:{collectionAddress:ee.address,collectionName:ee.name,quantity:O,txHash:De,price:ee.activePhase?.price||"0"}})})}catch(Ke){console.warn("‚ö†Ô∏è Failed to record quest action:",Ke)}return{success:!0,txHash:De}}else throw new Error("Transaction failed on-chain")}catch(te){if(console.error(`‚ùå Mint attempt ${Z} failed:`,te),console.error("‚ùå Error details:",{message:te.message,code:te.code,data:te.data,transaction:te.transaction}),j=te,Z<_){const le=Z*1e3;console.log(`‚è≥ Waiting ${le}ms before retry...`),await new Promise(ue=>setTimeout(ue,le))}}return console.error("‚ùå All mint attempts failed"),{success:!1,error:j?.message||"Mint failed"}},re=async(ee=1)=>{try{const _=await new Nt("https://dream-rpc.somnia.network/").getFeeData(),j=l.length;let Z=ie.PRICE_MULTIPLIER;if(j>100?Z*=1.5:j>50?Z*=1.3:j>20&&(Z*=1.2),Z*=1+(ee-1)*.2,_.maxFeePerGas&&_.maxPriorityFeePerGas){const te=Number(_.maxFeePerGas),le=Number(_.maxPriorityFeePerGas);return{maxFeePerGas:Math.ceil(te*Z),maxPriorityFeePerGas:Math.ceil(le*Z),gasLimit:ie.GAS_LIMIT}}else{const te=Number(_.gasPrice),le=Math.ceil(te*Z),ue=cu(ie.MAX_GAS_PRICE_GWEI.toString(),"gwei");return{gasPrice:Math.min(le,Number(ue)),gasLimit:ie.GAS_LIMIT}}}catch(O){return console.error("‚ùå Error getting gas settings:",O),{gasLimit:ie.GAS_LIMIT}}},be=ee=>{const O=Date.now(),_=ee-O;if(_<=0)return"Ended";const j=Math.floor(_/(1e3*60*60*24)),Z=Math.floor(_%(1e3*60*60*24)/(1e3*60*60)),te=Math.floor(_%(1e3*60*60)/(1e3*60)),le=Math.floor(_%(1e3*60)/1e3);return`${j}d ${Z}h ${te}m ${le}s`},we=()=>{B(ee=>(ee+1)%e.length)},ve=()=>{B(ee=>(ee-1+e.length)%e.length)};return K?s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[#42C9EE] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-zinc-400",children:"Loading Quest Collections..."})]})}):J?s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-red-400 mb-4",children:["Error loading collections: ",J]}),s.jsx("button",{onClick:()=>ce(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx("div",{className:"relative py-8",children:s.jsxs("div",{className:"relative bg-black border border-white/20 rounded-2xl p-8 mx-auto max-w-5xl",children:[s.jsx("img",{src:BI,alt:"Bird with Trophy",className:"absolute -left-8 -bottom-20 w-30 md:w-36"}),s.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 via-pink-500 to-purple-500 mb-6",children:"Somnia Quest"}),s.jsxs("p",{className:"text-base md:text-lg text-white leading-relaxed max-w-xl mx-auto",children:["Animate your unique PFP, turn it into an NFT, and earn rewards!",s.jsx("br",{}),"Be creative. The more people mint your NFT, the higher your chances.",s.jsx("br",{}),"Winners with the most mints will receive USDC rewards, karma points from dreava.art."]}),s.jsx(An,{to:"/explore#create",className:"mt-6 inline-block py-[10px] px-6 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm transition-transform active:scale-95 shadow-md",children:"Create collection"})]})]})}),s.jsxs("div",{className:"mx-auto max-w-5xl pb-20 mt-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:ve,className:"absolute -left-12 top-1/2 transform -translate-y-1/2 z-10 bg-black/50 rounded-full p-2 hover:bg-black/70 transition",children:s.jsx("img",{src:Nu,alt:"Previous",className:"w-6 h-6"})}),s.jsx("button",{onClick:we,className:"absolute -right-12 top-1/2 transform -translate-y-1/2 z-10 bg-black/50 rounded-full p-2 hover:bg-black/70 transition",children:s.jsx("img",{src:Eu,alt:"Next",className:"w-6 h-6"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.slice(ne,ne+3).map((ee,O)=>{const _=ee&&ee.maxSupply?Math.min(100,Math.round(ee.minted/ee.maxSupply*100)):0,j=ee.activePhase?ee.activePhase.price:"0",te=(()=>{if(!ee.activePhase)return 0;const Ne=ee.phases||ee.metadata?.phases||{},Ie=Object.entries(Ne).findIndex(([,Ze])=>{const je=Number(Ze.start),Ke=Number(Ze.end),nt=Math.floor(Date.now()/1e3);return je<=nt&&nt<=Ke});if(Ie>=0){const Ze=`${ee.address}_${Ie}`;return v[Ze]??ee.activePhase.maxPerWallet??0}return ee.activePhase.maxPerWallet??0})(),le=C[ee.address]||0,ue=te>0&&le>=te;return s.jsxs("div",{className:"bg-[#111] p-8 rounded-2xl text-white shadow-lg border border-zinc-800/50 h-[650px] flex flex-col",children:[s.jsx("div",{className:"relative mb-6 flex-shrink-0 h-56",children:s.jsx("img",{src:ee.cover||ee.firstNFTImage||"/default-cover.png",alt:ee.name,className:"w-full h-full object-cover rounded-xl",onError:Ne=>{console.warn("‚ö†Ô∏è Collection cover failed to load:",Ne.target.src),ee.firstNFTImage&&ee.firstNFTImage!==Ne.target.src?Ne.target.src=ee.firstNFTImage:Ne.target.src="/default-cover.png"}})}),s.jsxs("div",{className:"flex justify-between items-start mb-3 flex-shrink-0 h-[72px]",children:[s.jsx("div",{className:"flex-1 mr-2",children:s.jsx(UI,{text:ee.name,onClick:()=>H(`/launchpad/collection/${ee.address}`)})}),s.jsx("span",{className:"text-blue-400 text-2xl flex-shrink-0",children:"‚úî"})]}),s.jsx("div",{className:"mb-3 flex-shrink-0 h-[72px]",children:s.jsx(LI,{text:ee.description,className:"text-base text-gray-400"})}),s.jsxs("div",{className:"flex justify-between text-base text-gray-300 mb-3 flex-shrink-0 h-6",children:[s.jsxs("span",{children:["Supply: ",ee.minted," / ",ee.maxSupply]}),s.jsxs("span",{className:"flex items-center gap-1",children:["Price:",s.jsx("img",{src:wn,alt:"STT",className:"w-4 h-4"}),j," STT"]})]}),s.jsx("div",{className:"w-full h-3 bg-zinc-800 rounded-full mb-4 overflow-hidden flex-shrink-0",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500",style:{width:`${_}%`}})}),s.jsx("div",{className:"mb-4 flex-shrink-0 h-6",children:ee.activePhase&&s.jsxs("p",{className:"text-base text-pink-400",children:["Ends in: ",be(Number(ee.activePhase.end)*1e3)]})}),s.jsxs("div",{className:"mt-auto flex-shrink-0",children:[l.length>1&&s.jsxs("div",{className:"mb-2 text-center",children:[s.jsxs("p",{className:"text-sm text-yellow-400",children:["‚è≥ Queue: ",l.length," pending"]}),g.totalRequests>0&&s.jsxs("p",{className:"text-xs text-green-400",children:["Success Rate: ",Math.round(g.successfulMints/g.totalRequests*100),"%"]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,g.successfulMints/Math.max(g.totalRequests,1)*100)}%`}})}),s.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Progress: ",Math.round(g.successfulMints/Math.max(g.totalRequests,1)*100),"%"]})]})]}),l.length>20&&s.jsx("div",{className:"mb-2 text-center",children:s.jsx("p",{className:"text-sm text-red-400 animate-pulse",children:"üî• HOT SALE - High demand detected!"})}),s.jsx("button",{onClick:()=>oe(ee),disabled:!ee.activePhase||!ee.activePhase.isPublic||ee.minted>=ee.maxSupply||f||u||ue,className:`w-full py-[10px] rounded-lg font-semibold text-white transition-all duration-200 ${f||u?"bg-zinc-600 text-zinc-300 cursor-not-allowed":ee.minted>=ee.maxSupply||ue?"bg-zinc-700 text-zinc-400 cursor-not-allowed":ee.activePhase&&ee.activePhase.isPublic?"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:opacity-90 shadow-md":"bg-zinc-700 text-zinc-400 cursor-not-allowed"}`,children:f||u?"‚è≥ Processing...":ee.minted>=ee.maxSupply||ue?"Minted":ee.activePhase&&ee.activePhase.isPublic?`Mint for ${j} STT`:ee.activePhase&&!ee.activePhase.isPublic?"Whitelist Only":"No active phase"}),ee.minted>=ee.maxSupply&&s.jsx("div",{className:"mt-2 text-center",children:s.jsx("p",{className:"text-sm text-red-400",children:"Collection is sold out!"})}),ue&&ee.minted<ee.maxSupply&&s.jsx("div",{className:"mt-2 text-center",children:s.jsxs("p",{className:"text-sm text-yellow-400",children:["Wallet limit reached (",le,"/",te===0?"‚àû":te,")"]})}),te===0&&s.jsx("div",{className:"mt-2 text-center",children:s.jsx("p",{className:"text-sm text-blue-400",children:"Unlimited minting per wallet"})}),s.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${ee.address}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 underline mt-4 block text-center hover:text-blue-300 transition-colors",children:"View Contract"})]})]},ee.address)})})]}),s.jsxs("div",{className:"mt-20 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Somnia Rewards"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"USDC"}),s.jsx("div",{className:"text-white text-sm",children:"from Somnia Network"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Karma Points"}),s.jsx("div",{className:"text-white text-sm",children:"from dreava.art"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Roles on Discord"}),s.jsx("div",{className:"text-white text-sm",children:"from dreava.art"})]})]})]}),s.jsxs("div",{className:"mt-20 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"How to Join the Quest:"}),s.jsx("div",{className:"bg-black/40 border border-white/10 rounded-lg p-8",children:s.jsxs("ul",{className:"text-left space-y-4",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-white",children:"Follow Somnia and Dreava.art on Discord and Twitter"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-white",children:"Animate your unique PFP ‚Äî creativity is highly encouraged"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-white",children:"Upload your animated NFT to the Dreava.art launchpad"})]})]})})]})]}),R&&T&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:s.jsxs("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-md w-full animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Mint NFT"}),s.jsx("button",{onClick:V,className:"text-zinc-400 hover:text-white transition-colors",children:s.jsx(Bt,{size:24})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("img",{src:T.cover,alt:T.name,className:"w-16 h-16 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:T.name}),s.jsxs("p",{className:"text-sm text-zinc-400",children:[T.minted," / ",T.maxSupply," minted"]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Quantity"}),s.jsxs("div",{className:"flex items-center justify-between bg-zinc-800 rounded-lg p-3",children:[s.jsx("button",{onClick:()=>Y(P-1),disabled:P<=1,className:"w-10 h-10 rounded-lg bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s.jsx(wp,{size:20})}),s.jsx("span",{className:"text-xl font-bold text-white px-4",children:P}),s.jsx("button",{onClick:()=>Y(P+1),disabled:P>=se(T),className:"w-10 h-10 rounded-lg bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:s.jsx(Cp,{size:20})})]}),s.jsxs("p",{className:"text-xs text-zinc-400 mt-2",children:["Max: ",se(T)," per transaction"]})]}),s.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-zinc-400",children:"Price per NFT:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold text-white",children:[T.activePhase?.price||"0"," STT"]})]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-zinc-400",children:"Quantity:"}),s.jsx("span",{className:"text-white",children:P})]}),s.jsx("div",{className:"border-t border-zinc-700 pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:wn,alt:"STT",className:"w-6 h-6"}),s.jsxs("span",{className:"text-xl font-bold text-white",children:[k," STT"]})]})]})})]}),s.jsx("button",{onClick:pe,disabled:f,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:f?"‚è≥ Processing...":`Mint ${P} NFT${P>1?"s":""}`})]})]})}),L&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:s.jsx("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-md w-full animate-fadeIn",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Connect Wallet"}),s.jsx("p",{className:"text-zinc-400 mb-6",children:"Please connect your wallet to mint NFTs"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>G(!1),className:"flex-1 py-2 px-4 rounded-lg bg-zinc-700 text-white hover:bg-zinc-600 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{G(!1);const ee=document.querySelector("[data-wallet-connect]");ee&&ee.click()},className:"flex-1 py-2 px-4 rounded-lg bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold hover:opacity-90 transition-all duration-200",children:"Connect Wallet"})]})]})})}),z.visible&&s.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-800 text-white p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90",children:[s.jsx("p",{className:"text-sm mb-1",children:z.message}),z.txHash&&s.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${z.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm",children:[s.jsx(Ps,{size:16}),"View Transaction"]})]})]})},WI=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx(An,{to:"/",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-6",children:"‚Üê Back to Home"}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Privacy Policy"}),s.jsxs("p",{className:"text-zinc-400 text-lg",children:["Last updated: ",new Date().toLocaleDateString()]})]}),s.jsxs("div",{className:"space-y-8 text-zinc-300 leading-relaxed",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Introduction"}),s.jsx("p",{children:'Dreava Art NFT Launchpad ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our NFT marketplace and related services.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Information We Collect"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.1 Personal Information"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Wallet addresses and public keys"}),s.jsx("li",{children:"Email addresses (if provided)"}),s.jsx("li",{children:"Username or display names"}),s.jsx("li",{children:"Profile information and avatars"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.2 Transaction Data"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"NFT minting transactions"}),s.jsx("li",{children:"Purchase and sale history"}),s.jsx("li",{children:"Bidding and auction data"}),s.jsx("li",{children:"Gas fees and transaction hashes"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.3 Technical Information"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"IP addresses and device information"}),s.jsx("li",{children:"Browser type and version"}),s.jsx("li",{children:"Operating system"}),s.jsx("li",{children:"Usage analytics and performance data"})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. How We Use Your Information"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Provide and maintain our NFT marketplace services"}),s.jsx("li",{children:"Process transactions and verify ownership"}),s.jsx("li",{children:"Facilitate communication between users"}),s.jsx("li",{children:"Improve our platform and user experience"}),s.jsx("li",{children:"Comply with legal obligations and prevent fraud"}),s.jsx("li",{children:"Send important updates and notifications"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Information Sharing"}),s.jsx("p",{className:"mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information in the following circumstances:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"With your explicit consent"}),s.jsx("li",{children:"To comply with legal requirements or court orders"}),s.jsx("li",{children:"To protect our rights, property, or safety"}),s.jsx("li",{children:"With service providers who assist in our operations"}),s.jsx("li",{children:"In connection with a business transfer or merger"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Blockchain Transparency"}),s.jsx("p",{children:"Please note that blockchain transactions are inherently public and transparent. Information such as wallet addresses, transaction amounts, and NFT ownership is publicly visible on the blockchain and cannot be deleted or modified."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Cookies and Tracking"}),s.jsx("p",{className:"mb-4",children:"We use cookies and similar technologies to enhance your experience:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Essential cookies for platform functionality"}),s.jsx("li",{children:"Analytics cookies to understand usage patterns"}),s.jsx("li",{children:"Preference cookies to remember your settings"}),s.jsx("li",{children:"Security cookies to protect against fraud"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Data Security"}),s.jsx("p",{children:"We implement industry-standard security measures to protect your information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Your Rights"}),s.jsx("p",{className:"mb-4",children:"You have the following rights regarding your personal information:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Access and review your personal data"}),s.jsx("li",{children:"Request correction of inaccurate information"}),s.jsx("li",{children:"Request deletion of your personal data (where applicable)"}),s.jsx("li",{children:"Object to processing of your data"}),s.jsx("li",{children:"Data portability"}),s.jsx("li",{children:"Withdraw consent at any time"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Children's Privacy"}),s.jsx("p",{children:"Our services are not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. International Transfers"}),s.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Changes to This Policy"}),s.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the updated policy.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Contact Us"}),s.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),s.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," privacy@dreava.art"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Discord:"})," ",s.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"Join our Discord"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Twitter:"})," ",s.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"@dreava_art"})]})]})]})]})]})}),HI=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx(An,{to:"/",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-6",children:"‚Üê Back to Home"}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Terms of Service"}),s.jsxs("p",{className:"text-zinc-400 text-lg",children:["Last updated: ",new Date().toLocaleDateString()]})]}),s.jsxs("div",{className:"space-y-8 text-zinc-300 leading-relaxed",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{children:'By accessing and using Dreava Art NFT Launchpad ("the Platform"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Description of Service"}),s.jsx("p",{className:"mb-4",children:"Dreava Art NFT Launchpad is a decentralized platform that enables users to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[s.jsx("li",{children:"Create and deploy NFT collections"}),s.jsx("li",{children:"Mint NFTs from various collections"}),s.jsx("li",{children:"Participate in whitelist and public sales"}),s.jsx("li",{children:"Manage NFT metadata and distribution"}),s.jsx("li",{children:"Interact with smart contracts on the Somnia network"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. User Accounts and Responsibilities"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"3.1 Account Creation"}),s.jsx("p",{children:"To use our services, you must connect a compatible cryptocurrency wallet. You are responsible for maintaining the security of your wallet and private keys."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"3.2 User Conduct"}),s.jsx("p",{className:"mb-2",children:"You agree not to:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"Use the platform for any illegal or unauthorized purpose"}),s.jsx("li",{children:"Violate any applicable laws or regulations"}),s.jsx("li",{children:"Infringe upon intellectual property rights"}),s.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),s.jsx("li",{children:"Interfere with or disrupt the platform's operation"}),s.jsx("li",{children:"Create or distribute harmful content or malware"})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. NFT Creation and Minting"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.1 Collection Creation"}),s.jsx("p",{children:"When creating NFT collections, you represent and warrant that you have all necessary rights to the content you upload and that it does not infringe on any third-party rights."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.2 Content Guidelines"}),s.jsx("p",{className:"mb-2",children:"All content must comply with our community standards:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[s.jsx("li",{children:"No explicit, violent, or harmful content"}),s.jsx("li",{children:"No copyright or trademark infringement"}),s.jsx("li",{children:"No impersonation of others"}),s.jsx("li",{children:"No spam or misleading information"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.3 Minting Process"}),s.jsx("p",{children:"Minting NFTs requires payment of gas fees and any applicable platform fees. All transactions are irreversible once confirmed on the blockchain."})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Smart Contracts and Blockchain"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.1 Smart Contract Risks"}),s.jsx("p",{children:"Our platform interacts with smart contracts on the Somnia blockchain. While we strive for security, smart contracts may contain bugs or vulnerabilities. You acknowledge these risks and use the platform at your own discretion."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.2 Blockchain Transactions"}),s.jsx("p",{children:"All transactions are recorded on the blockchain and are publicly visible. We cannot reverse or modify blockchain transactions once they are confirmed."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.3 Network Issues"}),s.jsx("p",{children:"We are not responsible for network congestion, delays, or failures on the Somnia network or any other blockchain network that may affect transaction processing."})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Fees and Payments"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.1 Platform Fees"}),s.jsx("p",{children:"We may charge fees for certain services, including but not limited to collection creation, whitelist management, and premium features. All fees are clearly displayed before transaction confirmation."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.2 Gas Fees"}),s.jsx("p",{children:"Users are responsible for paying gas fees required for blockchain transactions. Gas fees are determined by network conditions and are not controlled by our platform."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.3 Payment Methods"}),s.jsx("p",{children:"All payments must be made in STT (Somnia Token) or other supported cryptocurrencies. We do not accept traditional fiat currencies."})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Intellectual Property"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"7.1 Platform Rights"}),s.jsx("p",{children:"The platform, including its design, code, and content, is owned by Dreava Art and is protected by intellectual property laws. You may not copy, modify, or distribute our platform without permission."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"7.2 User Content"}),s.jsx("p",{children:"You retain ownership of your NFT content. By using our platform, you grant us a limited license to display and promote your content as part of our services."})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Privacy and Data Protection"}),s.jsx("p",{children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the platform, to understand our practices regarding the collection and use of your information."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Disclaimers and Limitations"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.1 Service Availability"}),s.jsx("p",{children:"We strive to maintain high availability but do not guarantee uninterrupted access to our services. We may temporarily suspend services for maintenance or updates."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.2 No Investment Advice"}),s.jsx("p",{children:"Our platform is not a financial advisor. NFT values are volatile and can fluctuate significantly. You should conduct your own research and consider consulting with financial professionals."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.3 Limitation of Liability"}),s.jsx("p",{children:"To the maximum extent permitted by law, Dreava Art shall not be liable for any indirect, incidental, special, consequential, or punitive damages arising from your use of the platform."})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Indemnification"}),s.jsx("p",{children:"You agree to indemnify and hold harmless Dreava Art, its officers, directors, employees, and agents from any claims, damages, losses, or expenses arising from your use of the platform or violation of these terms."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Termination"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"11.1 Termination by User"}),s.jsx("p",{children:"You may stop using our services at any time. However, blockchain transactions cannot be reversed."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"11.2 Termination by Platform"}),s.jsx("p",{children:"We may terminate or suspend your access to the platform immediately, without prior notice, for conduct that we believe violates these terms or is harmful to other users or the platform."})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Governing Law and Disputes"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"12.1 Governing Law"}),s.jsx("p",{children:"These terms shall be governed by and construed in accordance with the laws of the jurisdiction where Dreava Art is incorporated, without regard to conflict of law principles."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"12.2 Dispute Resolution"}),s.jsx("p",{children:"Any disputes arising from these terms or your use of the platform shall be resolved through binding arbitration in accordance with the rules of the relevant arbitration association."})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"13. Changes to Terms"}),s.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of significant changes through the platform or other reasonable means. Your continued use of the platform after changes constitutes acceptance of the updated terms."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"14. Contact Information"}),s.jsx("p",{className:"mb-4",children:"If you have any questions about these Terms of Service, please contact us:"}),s.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," legal@dreava.art"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Discord:"})," ",s.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"Join our Discord"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Twitter:"})," ",s.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"@dreava_art"})]})]})]})]})]})}),bm="/assets/IMG_6919-DMw4xPz9.MOV",vm="/assets/IMG_6924-CH2EN6pR.MOV";function qI(){const[e,t]=N.useState(!0),[n,r]=N.useState(!1);N.useEffect(()=>{sessionStorage.getItem("dreava_loaded")&&(t(!1),r(!0))},[]);const a=()=>{t(!1),r(!0),sessionStorage.setItem("dreava_loaded","true")};return s.jsx(gp,{children:s.jsx(Jv,{children:s.jsx(Gv,{children:s.jsxs("div",{className:"flex flex-col min-h-screen bg-black text-white relative overflow-x-hidden",children:[e&&!n&&s.jsx(e_,{onLoadingComplete:a}),s.jsx(_a,{}),s.jsx(LE,{}),s.jsx(s_,{enabled:localStorage.getItem("showWalletMonitor")==="true"}),s.jsx(a_,{enabled:localStorage.getItem("showDebugLoader")==="true"}),s.jsx("div",{className:"flex-grow",children:s.jsxs(Bv,{children:[s.jsx(Ut,{path:"/",element:s.jsx(k_,{})}),s.jsx(Ut,{path:"/explore",element:s.jsx(R_,{})}),s.jsx(Ut,{path:"/create-nfts",element:s.jsx(oS,{})}),s.jsx(Ut,{path:"/create-dreams",element:s.jsx(aI,{})}),s.jsx(Ut,{path:"/launchpad",element:s.jsx(iI,{})}),s.jsx(Ut,{path:"/marketplace",element:s.jsx(oI,{})}),s.jsx(Ut,{path:"/json-upload",element:s.jsx(dI,{})}),s.jsx(Ut,{path:"/dashboard",element:s.jsx(fI,{})}),s.jsx(Ut,{path:"/launchpad/active-sales",element:s.jsx(pm,{portalVideo:bm,portalHoverVideo:vm,showBaseVideoAlways:!0})}),s.jsx(Ut,{path:"/active-sales",element:s.jsx(pm,{portalVideo:bm,portalHoverVideo:vm,showBaseVideoAlways:!0})}),s.jsx(Ut,{path:"/manage/:address",element:s.jsx(vI,{})}),s.jsx(Ut,{path:"/edit-phases/:address",element:s.jsx(CI,{})}),s.jsx(Ut,{path:"/manage-wls/:address",element:s.jsx(NI,{})}),s.jsx(Ut,{path:"/edit-nfts/:address",element:s.jsx(EI,{})}),s.jsx(Ut,{path:"/launchpad/collection/:address",element:s.jsx(RI,{})}),s.jsx(Ut,{path:"/my-nfts",element:s.jsx(MI,{})}),s.jsx(Ut,{path:"/somnia-quest",element:s.jsx($I,{})}),s.jsx(Ut,{path:"/privacy",element:s.jsx(WI,{})}),s.jsx(Ut,{path:"/terms",element:s.jsx(HI,{})}),s.jsx(Ut,{path:"/test",element:s.jsx(i_,{})}),s.jsx(Ut,{path:"/simple",element:s.jsx(o_,{})}),s.jsx(Ut,{path:"/reown-test",element:s.jsx(c_,{})})]})}),s.jsx(JE,{})]})})})})}const GI=new Em({defaultOptions:{queries:{retry:3,retryDelay:1e3,staleTime:3e4,gcTime:3e5}}});Kb.createRoot(document.getElementById("root")).render(s.jsx(Se.StrictMode,{children:s.jsx(gp,{children:s.jsx(_m,{client:GI,children:s.jsx(qI,{})})})}));export{I6 as a,lw as b,rl as r,uR as t};
//# sourceMappingURL=index-DVvIeBtE.js.map
