import{z as e,ae as t,af as n,ag as i,ah as s,ai as o,aj as a}from"./index-DI5Oa0Wo.js";import{W as c,l as u}from"./hooks.module-Buhn87mF-DbhZBz05.js";import"./wagmi-Cp7MbjcB.js";var l={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var h;function requireSafeBuffer$1(){if(h)return l.exports;h=1;!function(e,t){var n=o();var i=n.Buffer;function copyProps(e,t){for(var n in e)t[n]=e[n]}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow)e.exports=n;else{copyProps(n,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,n){return i(e,t,n)}SafeBuffer.prototype=Object.create(i.prototype);copyProps(i,SafeBuffer);SafeBuffer.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)};SafeBuffer.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var s=i(e);void 0!==t?"string"==typeof n?s.fill(t,n):s.fill(t):s.fill(0);return s};SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)};SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(l,l.exports);return l.exports}var d={exports:{}};var f;function requireInherits_browser(){if(f)return d.exports;f=1;"function"==typeof Object.create?d.exports=function(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}}:d.exports=function(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}};return d.exports}var p;var g;function requireBrowser$1(){if(g)return p;g=1;p=deprecate;function deprecate(e,t){if(config("noDeprecation"))return e;var n=!1;function deprecated2(){if(!n){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t);n=!0}return e.apply(this,arguments)}return deprecated2}function config(e){try{if(!globalThis.localStorage)return!1}catch(n){return!1}var t=globalThis.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}return p}var m={};var v={exports:{}};var y;function requireSafeBuffer(){if(y)return v.exports;y=1;!function(e,t){var n=o();var i=n.Buffer;function copyProps(e,t){for(var n in e)t[n]=e[n]}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow)e.exports=n;else{copyProps(n,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,n){return i(e,t,n)}copyProps(i,SafeBuffer);SafeBuffer.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)};SafeBuffer.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var s=i(e);void 0!==t?"string"==typeof n?s.fill(t,n):s.fill(t):s.fill(0);return s};SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)};SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(v,v.exports);return v.exports}var b;function requireString_decoder(){if(b)return m;b=1;var e=requireSafeBuffer().Buffer;var t=e.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(e){if(!e)return"utf8";var t;for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=!0}}function normalizeEncoding(n){var i=_normalizeEncoding(n);if("string"!=typeof i&&(e.isEncoding===t||!t(n)))throw new Error("Unknown encoding: "+n);return i||n}m.StringDecoder=StringDecoder;function StringDecoder(t){this.encoding=normalizeEncoding(t);var n;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;n=4;break;case"utf8":this.fillLast=utf8FillLast;n=4;break;case"base64":this.text=base64Text;this.end=base64End;n=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=e.allocUnsafe(n)}StringDecoder.prototype.write=function(e){if(0===e.length)return"";var t;var n;if(this.lastNeed){t=this.fillLast(e);if(void 0===t)return"";n=this.lastNeed;this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8CheckIncomplete(e,t,n){var i=t.length-1;if(i<n)return 0;var s=utf8CheckByte(t[i]);if(s>=0){s>0&&(e.lastNeed=s-1);return s}if(--i<n||-2===s)return 0;s=utf8CheckByte(t[i]);if(s>=0){s>0&&(e.lastNeed=s-2);return s}if(--i<n||-2===s)return 0;s=utf8CheckByte(t[i]);if(s>=0){s>0&&(2===s?s=0:e.lastNeed=s-3);return s}return 0}function utf8CheckExtraBytes(e,t,n){if(128!=(192&t[0])){e.lastNeed=0;return"�"}if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1])){e.lastNeed=1;return"�"}if(e.lastNeed>2&&t.length>2&&128!=(192&t[2])){e.lastNeed=2;return"�"}}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed;var n=utf8CheckExtraBytes(this,e);if(void 0!==n)return n;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function utf8Text(e,t){var n=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);e.copy(this.lastChar,0,i);return e.toString("utf8",t,i)}function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function utf16Text(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return n.slice(0,-1)}}return n}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function base64Text(e,t){var n=(e.length-t)%3;if(0===n)return e.toString("base64",t);this.lastNeed=3-n;this.lastTotal=3;if(1===n)this.lastChar[0]=e[e.length-1];else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-n)}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}return m}var w={exports:{}};var E;var _;function requireIsarray(){if(_)return E;_=1;var e={}.toString;E=Array.isArray||function(t){return"[object Array]"==e.call(t)};return E}var S;var R;function requireType$1(){if(R)return S;R=1;S=TypeError;return S}var k;var M;function requireEsObjectAtoms(){if(M)return k;M=1;k=Object;return k}var C;var I;function requireEsErrors(){if(I)return C;I=1;C=Error;return C}var A;var x;function require_eval(){if(x)return A;x=1;A=EvalError;return A}var N;var B;function requireRange$1(){if(B)return N;B=1;N=RangeError;return N}var T;var q;function requireRef(){if(q)return T;q=1;T=ReferenceError;return T}var P;var O;function requireSyntax(){if(O)return P;O=1;P=SyntaxError;return P}var L;var F;function requireUri(){if(F)return L;F=1;L=URIError;return L}var j;var D;function requireAbs(){if(D)return j;D=1;j=Math.abs;return j}var $;var U;function requireFloor(){if(U)return $;U=1;$=Math.floor;return $}var H;var W;function requireMax(){if(W)return H;W=1;H=Math.max;return H}var V;var z;function requireMin(){if(z)return V;z=1;V=Math.min;return V}var J;var G;function requirePow(){if(G)return J;G=1;J=Math.pow;return J}var Q;var Z;function requireRound(){if(Z)return Q;Z=1;Q=Math.round;return Q}var K;var Y;function require_isNaN(){if(Y)return K;Y=1;K=Number.isNaN||function(e){return e!=e};return K}var X;var ee;function requireSign(){if(ee)return X;ee=1;var e=require_isNaN();X=function(t){return e(t)||0===t?t:t<0?-1:1};return X}var te;var re;function requireGOPD(){if(re)return te;re=1;te=Object.getOwnPropertyDescriptor;return te}var ne;var ie;function requireGopd(){if(ie)return ne;ie=1;var e=requireGOPD();if(e)try{e([],"length")}catch(t){e=null}ne=e;return ne}var se;var oe;function requireEsDefineProperty(){if(oe)return se;oe=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}se=e;return se}var ae;var ce;function requireShams$1(){if(ce)return ae;ce=1;ae=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={};var t=Symbol("test");var n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;var i=42;e[t]=i;for(var s in e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||!0!==a.enumerable)return!1}return!0};return ae}var ue;var le;function requireHasSymbols(){if(le)return ue;le=1;var e="undefined"!=typeof Symbol&&Symbol;var t=requireShams$1();ue=function(){return"function"==typeof e&&"function"==typeof Symbol&&"symbol"==typeof e("foo")&&"symbol"==typeof Symbol("bar")&&t()};return ue}var he;var de;function requireReflect_getPrototypeOf(){if(de)return he;de=1;he="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null;return he}var fe;var pe;function requireObject_getPrototypeOf(){if(pe)return fe;pe=1;var e=requireEsObjectAtoms();fe=e.getPrototypeOf||null;return fe}var ge;var me;function requireImplementation(){if(me)return ge;me=1;var e="Function.prototype.bind called on incompatible ";var t=Object.prototype.toString;var n=Math.max;var i="[object Function]";var concatty=function(e,t){var n=[];for(var i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<t.length;s+=1)n[s+e.length]=t[s];return n};var slicy=function(e,t){var n=[];for(var i=t,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n};var joiny=function(e,t){var n="";for(var i=0;i<e.length;i+=1){n+=e[i];i+1<e.length&&(n+=t)}return n};ge=function(s){var o=this;if("function"!=typeof o||t.apply(o)!==i)throw new TypeError(e+o);var a=slicy(arguments,1);var c;var binder=function(){if(this instanceof c){var e=o.apply(this,concatty(a,arguments));return Object(e)===e?e:this}return o.apply(s,concatty(a,arguments))};var u=n(0,o.length-a.length);var l=[];for(var h=0;h<u;h++)l[h]="$"+h;c=Function("binder","return function ("+joiny(l,",")+"){ return binder.apply(this,arguments); }")(binder);if(o.prototype){var Empty=function(){};Empty.prototype=o.prototype;c.prototype=new Empty;Empty.prototype=null}return c};return ge}var ve;var ye;function requireFunctionBind(){if(ye)return ve;ye=1;var e=requireImplementation();ve=Function.prototype.bind||e;return ve}var be;var we;function requireFunctionCall(){if(we)return be;we=1;be=Function.prototype.call;return be}var Ee;var _e;function requireFunctionApply(){if(_e)return Ee;_e=1;Ee=Function.prototype.apply;return Ee}var Se;var Re;function requireReflectApply(){if(Re)return Se;Re=1;Se="undefined"!=typeof Reflect&&Reflect&&Reflect.apply;return Se}var ke;var Me;function requireActualApply(){if(Me)return ke;Me=1;var e=requireFunctionBind();var t=requireFunctionApply();var n=requireFunctionCall();var i=requireReflectApply();ke=i||e.call(n,t);return ke}var Ce;var Ie;function requireCallBindApplyHelpers(){if(Ie)return Ce;Ie=1;var e=requireFunctionBind();var t=requireType$1();var n=requireFunctionCall();var i=requireActualApply();Ce=function(s){if(s.length<1||"function"!=typeof s[0])throw new t("a function is required");return i(e,n,s)};return Ce}var Ae;var xe;function requireGet(){if(xe)return Ae;xe=1;var e=requireCallBindApplyHelpers();var t=requireGopd();var n;try{n=[].__proto__===Array.prototype}catch(a){if(!a||"object"!=typeof a||!("code"in a)||"ERR_PROTO_ACCESS"!==a.code)throw a}var i=!!n&&t&&t(Object.prototype,"__proto__");var s=Object;var o=s.getPrototypeOf;Ae=i&&"function"==typeof i.get?e([i.get]):"function"==typeof o&&function(e){return o(null==e?e:s(e))};return Ae}var Ne;var Be;function requireGetProto(){if(Be)return Ne;Be=1;var e=requireReflect_getPrototypeOf();var t=requireObject_getPrototypeOf();var n=requireGet();Ne=e?function(t){return e(t)}:t?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return t(e)}:n?function(e){return n(e)}:null;return Ne}var Te;var qe;function requireHasown(){if(qe)return Te;qe=1;var e=Function.prototype.call;var t=Object.prototype.hasOwnProperty;var n=requireFunctionBind();Te=n.call(e,t);return Te}var Pe;var Oe;function requireGetIntrinsic(){if(Oe)return Pe;Oe=1;var e;var t=requireEsObjectAtoms();var n=requireEsErrors();var i=require_eval();var s=requireRange$1();var o=requireRef();var a=requireSyntax();var c=requireType$1();var u=requireUri();var l=requireAbs();var h=requireFloor();var d=requireMax();var f=requireMin();var p=requirePow();var g=requireRound();var m=requireSign();var v=Function;var getEvalledConstructor=function(e){try{return v('"use strict"; return ('+e+").constructor;")()}catch(t){}};var y=requireGopd();var b=requireEsDefineProperty();var throwTypeError=function(){throw new c};var w=y?function(){try{arguments.callee;return throwTypeError}catch(e){try{return y(arguments,"callee").get}catch(t){return throwTypeError}}}():throwTypeError;var E=requireHasSymbols()();var _=requireGetProto();var S=requireObject_getPrototypeOf();var R=requireReflect_getPrototypeOf();var k=requireFunctionApply();var M=requireFunctionCall();var C={};var I="undefined"!=typeof Uint8Array&&_?_(Uint8Array):e;var A={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?e:ArrayBuffer,"%ArrayIteratorPrototype%":E&&_?_([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":"undefined"==typeof Atomics?e:Atomics,"%BigInt%":"undefined"==typeof BigInt?e:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?e:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":i,"%Float16Array%":"undefined"==typeof Float16Array?e:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?e:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?e:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?e:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":C,"%Int8Array%":"undefined"==typeof Int8Array?e:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?e:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&_?_(_([][Symbol.iterator]())):e,"%JSON%":"object"==typeof JSON?JSON:e,"%Map%":"undefined"==typeof Map?e:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&E&&_?_((new Map)[Symbol.iterator]()):e,"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?e:Promise,"%Proxy%":"undefined"==typeof Proxy?e:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?e:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?e:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&E&&_?_((new Set)[Symbol.iterator]()):e,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&_?_(""[Symbol.iterator]()):e,"%Symbol%":E?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":w,"%TypedArray%":I,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?e:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?e:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?e:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?e:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?e:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?e:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?e:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":k,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":S,"%Math.abs%":l,"%Math.floor%":h,"%Math.max%":d,"%Math.min%":f,"%Math.pow%":p,"%Math.round%":g,"%Math.sign%":m,"%Reflect.getPrototypeOf%":R};if(_)try{null.error}catch(U){var x=_(_(U));A["%Error.prototype%"]=x}var N=function doEval2(e){var t;if("%AsyncFunction%"===e)t=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===e)t=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===e)t=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===e){var n=doEval2("%AsyncGeneratorFunction%");n&&(t=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=doEval2("%AsyncGenerator%");i&&_&&(t=_(i.prototype))}A[e]=t;return t};var B={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};var T=requireFunctionBind();var q=requireHasown();var P=T.call(M,Array.prototype.concat);var O=T.call(k,Array.prototype.splice);var L=T.call(M,String.prototype.replace);var F=T.call(M,String.prototype.slice);var j=T.call(M,RegExp.prototype.exec);var D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;var $=/\\(\\)?/g;var stringToPath=function(e){var t=F(e,0,1);var n=F(e,-1);if("%"===t&&"%"!==n)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new a("invalid intrinsic syntax, expected opening `%`");var i=[];L(e,D,function(e,t,n,s){i[i.length]=n?L(s,$,"$1"):t||e});return i};var getBaseIntrinsic=function(e,t){var n=e;var i;if(q(B,n)){i=B[n];n="%"+i[0]+"%"}if(q(A,n)){var s=A[n];s===C&&(s=N(n));if("undefined"==typeof s&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new a("intrinsic "+e+" does not exist!")};Pe=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,e))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=stringToPath(e);var i=n.length>0?n[0]:"";var s=getBaseIntrinsic("%"+i+"%",t);var o=s.name;var u=s.value;var l=!1;var h=s.alias;if(h){i=h[0];O(n,P([0,1],h))}for(var d=1,f=!0;d<n.length;d+=1){var p=n[d];var g=F(p,0,1);var m=F(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new a("property names with quotes must have matching quotes");"constructor"!==p&&f||(l=!0);i+="."+p;o="%"+i+"%";if(q(A,o))u=A[o];else if(null!=u){if(!(p in u)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(y&&d+1>=n.length){var v=y(u,p);f=!!v;u=f&&"get"in v&&!("originalValue"in v.get)?v.get:u[p]}else{f=q(u,p);u=u[p]}f&&!l&&(A[o]=u)}}return u};return Pe}var Le;var Fe;function requireCallBound(){if(Fe)return Le;Fe=1;var e=requireGetIntrinsic();var t=requireCallBindApplyHelpers();var n=t([e("%String.prototype.indexOf%")]);Le=function(i,s){var o=e(i,!!s);return"function"==typeof o&&n(i,".prototype.")>-1?t([o]):o};return Le}var je;var De;function requireIsCallable(){if(De)return je;De=1;var e=Function.prototype.toString;var t="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;var n;var i;if("function"==typeof t&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw i}});i={};t(function(){throw 42},null,n)}catch(m){m!==i&&(t=null)}else t=null;var s=/^\s*class\b/;var isES6ClassFn=function(t){try{var n=e.call(t);return s.test(n)}catch(i){return!1}};var tryFunctionObject=function(t){try{if(isES6ClassFn(t))return!1;e.call(t);return!0}catch(n){return!1}};var o=Object.prototype.toString;var a="[object Object]";var c="[object Function]";var u="[object GeneratorFunction]";var l="[object HTMLAllCollection]";var h="[object HTML document.all class]";var d="[object HTMLCollection]";var f="function"==typeof Symbol&&!!Symbol.toStringTag;var p=!(0 in[,]);var isDDA=function(){return!1};if("object"==typeof document){var g=document.all;o.call(g)===o.call(document.all)&&(isDDA=function(e){if((p||!e)&&("undefined"==typeof e||"object"==typeof e))try{var t=o.call(e);return(t===l||t===h||t===d||t===a)&&null==e("")}catch(n){}return!1})}je=t?function(e){if(isDDA(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{t(e,null,n)}catch(s){if(s!==i)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(f)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var t=o.call(e);return!(t!==c&&t!==u&&!/^\[object HTML/.test(t))&&tryFunctionObject(e)};return je}var $e;var Ue;function requireForEach(){if(Ue)return $e;Ue=1;var e=requireIsCallable();var t=Object.prototype.toString;var n=Object.prototype.hasOwnProperty;var forEachArray=function(e,t,i){for(var s=0,o=e.length;s<o;s++)n.call(e,s)&&(null==i?t(e[s],s,e):t.call(i,e[s],s,e))};var forEachString=function(e,t,n){for(var i=0,s=e.length;i<s;i++)null==n?t(e.charAt(i),i,e):t.call(n,e.charAt(i),i,e)};var forEachObject=function(e,t,i){for(var s in e)n.call(e,s)&&(null==i?t(e[s],s,e):t.call(i,e[s],s,e))};function isArray(e){return"[object Array]"===t.call(e)}$e=function(t,n,i){if(!e(n))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=i);isArray(t)?forEachArray(t,n,s):"string"==typeof t?forEachString(t,n,s):forEachObject(t,n,s)};return $e}var He;var We;function requirePossibleTypedArrayNames(){if(We)return He;We=1;He=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"];return He}var Ve;var ze;function requireAvailableTypedArrays(){if(ze)return Ve;ze=1;var e=requirePossibleTypedArrayNames();var t=globalThis;Ve=function(){var n=[];for(var i=0;i<e.length;i++)"function"==typeof t[e[i]]&&(n[n.length]=e[i]);return n};return Ve}var Je={exports:{}};var Ge;var Qe;function requireDefineDataProperty(){if(Qe)return Ge;Qe=1;var e=requireEsDefineProperty();var t=requireSyntax();var n=requireType$1();var i=requireGopd();Ge=function(s,o,a){if(!s||"object"!=typeof s&&"function"!=typeof s)throw new n("`obj` must be an object or a function`");if("string"!=typeof o&&"symbol"!=typeof o)throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new n("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null;var u=arguments.length>4?arguments[4]:null;var l=arguments.length>5?arguments[5]:null;var h=arguments.length>6&&arguments[6];var d=!!i&&i(s,o);if(e)e(s,o,{configurable:null===l&&d?d.configurable:!l,enumerable:null===c&&d?d.enumerable:!c,value:a,writable:null===u&&d?d.writable:!u});else{if(!h&&(c||u||l))throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");s[o]=a}};return Ge}var Ze;var Ke;function requireHasPropertyDescriptors(){if(Ke)return Ze;Ke=1;var e=requireEsDefineProperty();var hasPropertyDescriptors=function(){return!!e};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!e)return null;try{return 1!==e([],"length",{value:1}).length}catch(t){return!0}};Ze=hasPropertyDescriptors;return Ze}var Ye;var Xe;function requireSetFunctionLength(){if(Xe)return Ye;Xe=1;var e=requireGetIntrinsic();var t=requireDefineDataProperty();var n=requireHasPropertyDescriptors()();var i=requireGopd();var s=requireType$1();var o=e("%Math.floor%");Ye=function(e,a){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof a||a<0||a>4294967295||o(a)!==a)throw new s("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2];var u=!0;var l=!0;if("length"in e&&i){var h=i(e,"length");h&&!h.configurable&&(u=!1);h&&!h.writable&&(l=!1)}(u||l||!c)&&(n?t(e,"length",a,!0,!0):t(e,"length",a));return e};return Ye}var et;var tt;function requireApplyBind(){if(tt)return et;tt=1;var e=requireFunctionBind();var t=requireFunctionApply();var n=requireActualApply();et=function(){return n(e,t,arguments)};return et}var rt;function requireCallBind(){if(rt)return Je.exports;rt=1;!function(e){var t=requireSetFunctionLength();var n=requireEsDefineProperty();var i=requireCallBindApplyHelpers();var s=requireApplyBind();e.exports=function(e){var n=i(arguments);var s=e.length-(arguments.length-1);return t(n,1+(s>0?s:0),!0)};n?n(e.exports,"apply",{value:s}):e.exports.apply=s}(Je);return Je.exports}var nt;var it;function requireShams(){if(it)return nt;it=1;var e=requireShams$1();nt=function(){return e()&&!!Symbol.toStringTag};return nt}var st;var ot;function requireWhichTypedArray(){if(ot)return st;ot=1;var e=requireForEach();var t=requireAvailableTypedArrays();var n=requireCallBind();var i=requireCallBound();var s=requireGopd();var o=requireGetProto();var a=i("Object.prototype.toString");var c=requireShams()();var u=globalThis;var l=t();var h=i("String.prototype.slice");var d=i("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1};var f={__proto__:null};e(l,c&&s&&o?function(e){var t=new u[e];if(Symbol.toStringTag in t&&o){var i=o(t);var a=s(i,Symbol.toStringTag);if(!a&&i){var c=o(i);a=s(c,Symbol.toStringTag)}f["$"+e]=n(a.get)}}:function(e){var t=new u[e];var i=t.slice||t.set;i&&(f["$"+e]=n(i))});var tryTypedArrays=function(t){var n=!1;e(f,function(e,i){if(!n)try{"$"+e(t)===i&&(n=h(i,1))}catch(s){}});return n};var trySlices=function(t){var n=!1;e(f,function(e,i){if(!n)try{e(t);n=h(i,1)}catch(s){}});return n};st=function(e){if(!e||"object"!=typeof e)return!1;if(!c){var t=h(a(e),8,-1);return d(l,t)>-1?t:"Object"===t&&trySlices(e)}return s?tryTypedArrays(e):null};return st}var at;var ct;function requireIsTypedArray(){if(ct)return at;ct=1;var e=requireWhichTypedArray();at=function(t){return!!e(t)};return at}var ut;var ht;function requireTypedArrayBuffer(){if(ht)return ut;ht=1;var e=requireType$1();var t=requireCallBound();var n=t("TypedArray.prototype.buffer",!0);var i=requireIsTypedArray();ut=n||function(t){if(!i(t))throw new e("Not a Typed Array");return t.buffer};return ut}var dt;var pt;function requireToBuffer(){if(pt)return dt;pt=1;var e=requireSafeBuffer$1().Buffer;var t=requireIsarray();var n=requireTypedArrayBuffer();var i=ArrayBuffer.isView||function(e){try{n(e);return!0}catch(t){return!1}};var s="undefined"!=typeof Uint8Array;var o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array;var a=o&&(e.prototype instanceof Uint8Array||e.TYPED_ARRAY_SUPPORT);dt=function(n,c){if(n instanceof e)return n;if("string"==typeof n)return e.from(n,c);if(o&&i(n)){if(0===n.byteLength)return e.alloc(0);if(a){var u=e.from(n.buffer,n.byteOffset,n.byteLength);if(u.byteLength===n.byteLength)return u}var l=n instanceof Uint8Array?n:new Uint8Array(n.buffer,n.byteOffset,n.byteLength);var h=e.from(l);if(h.length===n.byteLength)return h}if(s&&n instanceof Uint8Array)return e.from(n);var d=t(n);if(d)for(var f=0;f<n.length;f+=1){var p=n[f];if("number"!=typeof p||p<0||p>255||~~p!==p)throw new RangeError("Array items must be numbers in the range 0-255.")}if(d||e.isBuffer(n)&&n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n))return e.from(n);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')};return dt}var mt;var vt;function requireHash(){if(vt)return mt;vt=1;var e=requireSafeBuffer$1().Buffer;var t=requireToBuffer();function Hash(t,n){this._block=e.alloc(t);this._finalSize=n;this._blockSize=t;this._len=0}Hash.prototype.update=function(e,n){e=t(e,n||"utf8");var i=this._block;var s=this._blockSize;var o=e.length;var a=this._len;for(var c=0;c<o;){var u=a%s;var l=Math.min(o-c,s-u);for(var h=0;h<l;h++)i[u+h]=e[c+h];a+=l;c+=l;a%s===0&&this._update(i)}this._len+=o;return this};Hash.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128;this._block.fill(0,t+1);if(t>=this._finalSize){this._update(this._block);this._block.fill(0)}var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var i=(4294967295&n)>>>0;var s=(n-i)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8);this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};mt=Hash;return mt}var yt;var bt;function requireSha(){if(bt)return yt;bt=1;var e=requireInherits_browser();var t=requireHash();var n=requireSafeBuffer$1().Buffer;var i=[1518500249,1859775393,-1894007588,-899497514];var s=new Array(80);function Sha(){this.init();this._w=s;t.call(this,64,56)}e(Sha,t);Sha.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}Sha.prototype._update=function(e){var t=this._w;var n=0|this._a;var s=0|this._b;var o=0|this._c;var a=0|this._d;var c=0|this._e;for(var u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var l=0;l<80;++l){var h=~~(l/20);var d=rotl5(n)+ft(h,s,o,a)+c+t[l]+i[h]|0;c=a;a=o;o=rotl30(s);s=n;n=d}this._a=n+this._a|0;this._b=s+this._b|0;this._c=o+this._c|0;this._d=a+this._d|0;this._e=c+this._e|0};Sha.prototype._hash=function(){var e=n.allocUnsafe(20);e.writeInt32BE(0|this._a,0);e.writeInt32BE(0|this._b,4);e.writeInt32BE(0|this._c,8);e.writeInt32BE(0|this._d,12);e.writeInt32BE(0|this._e,16);return e};yt=Sha;return yt}var wt;var Et;function requireSha1(){if(Et)return wt;Et=1;var e=requireInherits_browser();var t=requireHash();var n=requireSafeBuffer$1().Buffer;var i=[1518500249,1859775393,-1894007588,-899497514];var s=new Array(80);function Sha1(){this.init();this._w=s;t.call(this,64,56)}e(Sha1,t);Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,n,i){return 0===e?t&n|~t&i:2===e?t&n|t&i|n&i:t^n^i}Sha1.prototype._update=function(e){var t=this._w;var n=0|this._a;var s=0|this._b;var o=0|this._c;var a=0|this._d;var c=0|this._e;for(var u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=rotl1(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var l=0;l<80;++l){var h=~~(l/20);var d=rotl5(n)+ft(h,s,o,a)+c+t[l]+i[h]|0;c=a;a=o;o=rotl30(s);s=n;n=d}this._a=n+this._a|0;this._b=s+this._b|0;this._c=o+this._c|0;this._d=a+this._d|0;this._e=c+this._e|0};Sha1.prototype._hash=function(){var e=n.allocUnsafe(20);e.writeInt32BE(0|this._a,0);e.writeInt32BE(0|this._b,4);e.writeInt32BE(0|this._c,8);e.writeInt32BE(0|this._d,12);e.writeInt32BE(0|this._e,16);return e};wt=Sha1;return wt}var _t;var St;function requireSha256(){if(St)return _t;St=1;var e=requireInherits_browser();var t=requireHash();var n=requireSafeBuffer$1().Buffer;var i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var s=new Array(64);function Sha256(){this.init();this._w=s;t.call(this,64,56)}e(Sha256,t);Sha256.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function ch(e,t,n){return n^e&(t^n)}function maj(e,t,n){return e&t|n&(e|t)}function sigma0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Sha256.prototype._update=function(e){var t=this._w;var n=0|this._a;var s=0|this._b;var o=0|this._c;var a=0|this._d;var c=0|this._e;var u=0|this._f;var l=0|this._g;var h=0|this._h;for(var d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<64;++d)t[d]=gamma1(t[d-2])+t[d-7]+gamma0(t[d-15])+t[d-16]|0;for(var f=0;f<64;++f){var p=h+sigma1(c)+ch(c,u,l)+i[f]+t[f]|0;var g=sigma0(n)+maj(n,s,o)|0;h=l;l=u;u=c;c=a+p|0;a=o;o=s;s=n;n=p+g|0}this._a=n+this._a|0;this._b=s+this._b|0;this._c=o+this._c|0;this._d=a+this._d|0;this._e=c+this._e|0;this._f=u+this._f|0;this._g=l+this._g|0;this._h=h+this._h|0};Sha256.prototype._hash=function(){var e=n.allocUnsafe(32);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);e.writeInt32BE(this._h,28);return e};_t=Sha256;return _t}var Rt;var kt;function requireSha224(){if(kt)return Rt;kt=1;var e=requireInherits_browser();var t=requireSha256();var n=requireHash();var i=requireSafeBuffer$1().Buffer;var s=new Array(64);function Sha224(){this.init();this._w=s;n.call(this,64,56)}e(Sha224,t);Sha224.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};Sha224.prototype._hash=function(){var e=i.allocUnsafe(28);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);return e};Rt=Sha224;return Rt}var Mt;var Ct;function requireSha512(){if(Ct)return Mt;Ct=1;var e=requireInherits_browser();var t=requireHash();var n=requireSafeBuffer$1().Buffer;var i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var s=new Array(160);function Sha512(){this.init();this._w=s;t.call(this,128,112)}e(Sha512,t);Sha512.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function Ch(e,t,n){return n^e&(t^n)}function maj(e,t,n){return e&t|n&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}Sha512.prototype._update=function(e){var t=this._w;var n=0|this._ah;var s=0|this._bh;var o=0|this._ch;var a=0|this._dh;var c=0|this._eh;var u=0|this._fh;var l=0|this._gh;var h=0|this._hh;var d=0|this._al;var f=0|this._bl;var p=0|this._cl;var g=0|this._dl;var m=0|this._el;var v=0|this._fl;var y=0|this._gl;var b=0|this._hl;for(var w=0;w<32;w+=2){t[w]=e.readInt32BE(4*w);t[w+1]=e.readInt32BE(4*w+4)}for(;w<160;w+=2){var E=t[w-30];var _=t[w-30+1];var S=Gamma0(E,_);var R=Gamma0l(_,E);E=t[w-4];_=t[w-4+1];var k=Gamma1(E,_);var M=Gamma1l(_,E);var C=t[w-14];var I=t[w-14+1];var A=t[w-32];var x=t[w-32+1];var N=R+I|0;var B=S+C+getCarry(N,R)|0;N=N+M|0;B=B+k+getCarry(N,M)|0;N=N+x|0;B=B+A+getCarry(N,x)|0;t[w]=B;t[w+1]=N}for(var T=0;T<160;T+=2){B=t[T];N=t[T+1];var q=maj(n,s,o);var P=maj(d,f,p);var O=sigma0(n,d);var L=sigma0(d,n);var F=sigma1(c,m);var j=sigma1(m,c);var D=i[T];var $=i[T+1];var U=Ch(c,u,l);var H=Ch(m,v,y);var W=b+j|0;var V=h+F+getCarry(W,b)|0;W=W+H|0;V=V+U+getCarry(W,H)|0;W=W+$|0;V=V+D+getCarry(W,$)|0;W=W+N|0;V=V+B+getCarry(W,N)|0;var z=L+P|0;var J=O+q+getCarry(z,L)|0;h=l;b=y;l=u;y=v;u=c;v=m;m=g+W|0;c=a+V+getCarry(m,g)|0;a=o;g=p;o=s;p=f;s=n;f=d;d=W+z|0;n=V+J+getCarry(d,W)|0}this._al=this._al+d|0;this._bl=this._bl+f|0;this._cl=this._cl+p|0;this._dl=this._dl+g|0;this._el=this._el+m|0;this._fl=this._fl+v|0;this._gl=this._gl+y|0;this._hl=this._hl+b|0;this._ah=this._ah+n+getCarry(this._al,d)|0;this._bh=this._bh+s+getCarry(this._bl,f)|0;this._ch=this._ch+o+getCarry(this._cl,p)|0;this._dh=this._dh+a+getCarry(this._dl,g)|0;this._eh=this._eh+c+getCarry(this._el,m)|0;this._fh=this._fh+u+getCarry(this._fl,v)|0;this._gh=this._gh+l+getCarry(this._gl,y)|0;this._hh=this._hh+h+getCarry(this._hl,b)|0};Sha512.prototype._hash=function(){var e=n.allocUnsafe(64);function writeInt64BE(t,n,i){e.writeInt32BE(t,i);e.writeInt32BE(n,i+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);writeInt64BE(this._gh,this._gl,48);writeInt64BE(this._hh,this._hl,56);return e};Mt=Sha512;return Mt}var It;var At;function requireSha384(){if(At)return It;At=1;var e=requireInherits_browser();var t=requireSha512();var n=requireHash();var i=requireSafeBuffer$1().Buffer;var s=new Array(160);function Sha384(){this.init();this._w=s;n.call(this,128,112)}e(Sha384,t);Sha384.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};Sha384.prototype._hash=function(){var e=i.allocUnsafe(48);function writeInt64BE(t,n,i){e.writeInt32BE(t,i);e.writeInt32BE(n,i+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);return e};It=Sha384;return It}var xt;function requireSha_js(){if(xt)return w.exports;xt=1;!function(e){e.exports=function(t){var n=t.toLowerCase();var i=e.exports[n];if(!i)throw new Error(n+" is not supported (we accept pull requests)");return new i};e.exports.sha=requireSha();e.exports.sha1=requireSha1();e.exports.sha224=requireSha224();e.exports.sha256=requireSha256();e.exports.sha384=requireSha384();e.exports.sha512=requireSha512()}(w);return w.exports}var Nt={};var Bt={};var Tt={};var qt;function requireWalletLogo(){if(qt)return Tt;qt=1;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.walletLogo=void 0;const walletLogo$1=(e,t)=>{let n;switch(e){case"standard":default:n=t;return`data:image/svg+xml,%3Csvg width='${t}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":n=t;return`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":n=(.1*t).toFixed(2);return`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":n=(.25*t).toFixed(2);return`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":n=(.1*t).toFixed(2);return`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":n=(.25*t).toFixed(2);return`data:image/svg+xml,%3Csvg width='${t}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`}};Tt.walletLogo=walletLogo$1;return Tt}var Pt={};var Ot;function requireConstants$2(){if(Ot)return Pt;Ot=1;Object.defineProperty(Pt,"__esModule",{value:!0});Pt.LINK_API_URL=void 0;Pt.LINK_API_URL="https://www.walletlink.org";return Pt}var Lt={};var Ft={exports:{}};var jt=Ft.exports;var Dt;function requireBn(){if(Dt)return Ft.exports;Dt=1;!function(e){!function(e,t){function assert2(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}function BN(e,t,n){if(BN.isBN(e))return e;this.negative=0;this.words=null;this.length=0;this.red=null;if(null!==e){if("le"===t||"be"===t){n=t;t=10}this._init(e||0,t||10,n||"be")}}"object"==typeof e?e.exports=BN:t.BN=BN;BN.BN=BN;BN.wordSize=26;var i;try{i="undefined"!=typeof window&&"undefined"!=typeof window.Buffer?window.Buffer:n.Buffer}catch(u){}BN.isBN=function(e){return e instanceof BN||null!==e&&"object"==typeof e&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)};BN.max=function(e,t){return e.cmp(t)>0?e:t};BN.min=function(e,t){return e.cmp(t)<0?e:t};BN.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16);assert2(t===(0|t)&&t>=2&&t<=36);e=e.toString().replace(/\s+/g,"");var i=0;if("-"===e[0]){i++;this.negative=1}if(i<e.length)if(16===t)this._parseHex(e,i,n);else{this._parseBase(e,t,i);"le"===n&&this._initArray(this.toArray(),t,n)}};BN.prototype._initNumber=function(e,t,n){if(e<0){this.negative=1;e=-e}if(e<67108864){this.words=[67108863&e];this.length=1}else if(e<4503599627370496){this.words=[67108863&e,e/67108864&67108863];this.length=2}else{assert2(e<9007199254740992);this.words=[67108863&e,e/67108864&67108863,1];this.length=3}"le"===n&&this._initArray(this.toArray(),t,n)};BN.prototype._initArray=function(e,t,n){assert2("number"==typeof e.length);if(e.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(e.length/3);this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o;var a=0;if("be"===n)for(i=e.length-1,s=0;i>=0;i-=3){o=e[i]|e[i-1]<<8|e[i-2]<<16;this.words[s]|=o<<a&67108863;this.words[s+1]=o>>>26-a&67108863;a+=24;if(a>=26){a-=26;s++}}else if("le"===n)for(i=0,s=0;i<e.length;i+=3){o=e[i]|e[i+1]<<8|e[i+2]<<16;this.words[s]|=o<<a&67108863;this.words[s+1]=o>>>26-a&67108863;a+=24;if(a>=26){a-=26;s++}}return this._strip()};function parseHex4Bits(e,t){var n=e.charCodeAt(t);if(n>=48&&n<=57)return n-48;if(n>=65&&n<=70)return n-55;if(n>=97&&n<=102)return n-87;assert2(!1,"Invalid character in "+e)}function parseHexByte(e,t,n){var i=parseHex4Bits(e,n);n-1>=t&&(i|=parseHex4Bits(e,n-1)<<4);return i}BN.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6);this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s=0;var o=0;var a;if("be"===n)for(i=e.length-1;i>=t;i-=2){a=parseHexByte(e,t,i)<<s;this.words[o]|=67108863&a;if(s>=18){s-=18;o+=1;this.words[o]|=a>>>26}else s+=8}else{var c=e.length-t;for(i=c%2==0?t+1:t;i<e.length;i+=2){a=parseHexByte(e,t,i)<<s;this.words[o]|=67108863&a;if(s>=18){s-=18;o+=1;this.words[o]|=a>>>26}else s+=8}}this._strip()};function parseBase(e,t,n,i){var s=0;var o=0;var a=Math.min(e.length,n);for(var c=t;c<a;c++){var u=e.charCodeAt(c)-48;s*=i;o=u>=49?u-49+10:u>=17?u-17+10:u;assert2(u>=0&&o<i,"Invalid character");s+=o}return s}BN.prototype._parseBase=function(e,t,n){this.words=[0];this.length=1;for(var i=0,s=1;s<=67108863;s*=t)i++;i--;s=s/t|0;var o=e.length-n;var a=o%i;var c=Math.min(o,o-a)+n;var u=0;for(var l=n;l<c;l+=i){u=parseBase(e,l,l+i,t);this.imuln(s);this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}if(0!==a){var h=1;u=parseBase(e,l,e.length,t);for(l=0;l<a;l++)h*=t;this.imuln(h);this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()};BN.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length;e.negative=this.negative;e.red=this.red};function move(e,t){e.words=t.words;e.length=t.length;e.negative=t.negative;e.red=t.red}BN.prototype._move=function(e){move(e,this)};BN.prototype.clone=function(){var e=new BN(null);this.copy(e);return e};BN.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this};BN.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()};BN.prototype._normSign=function(){1===this.length&&0===this.words[0]&&(this.negative=0);return this};if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(u){BN.prototype.inspect=inspect}else BN.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var s=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var a=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function(e,t){e=e||10;t=0|t||1;var n;if(16===e||"hex"===e){n="";var i=0;var c=0;for(var u=0;u<this.length;u++){var l=this.words[u];var h=(16777215&(l<<i|c)).toString(16);c=l>>>24-i&16777215;i+=2;if(i>=26){i-=26;u--}n=0!==c||u!==this.length-1?s[6-h.length]+h+n:h+n}0!==c&&(n=c.toString(16)+n);for(;n.length%t!==0;)n="0"+n;0!==this.negative&&(n="-"+n);return n}if(e===(0|e)&&e>=2&&e<=36){var d=o[e];var f=a[e];n="";var p=this.clone();p.negative=0;for(;!p.isZero();){var g=p.modrn(f).toString(e);p=p.idivn(f);n=p.isZero()?g+n:s[d-g.length]+g+n}this.isZero()&&(n="0"+n);for(;n.length%t!==0;)n="0"+n;0!==this.negative&&(n="-"+n);return n}assert2(!1,"Base should be between 2 and 36")};BN.prototype.toNumber=function(){var e=this.words[0];2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&assert2(!1,"Number can only safely store up to 53 bits");return 0!==this.negative?-e:e};BN.prototype.toJSON=function(){return this.toString(16,2)};i&&(BN.prototype.toBuffer=function(e,t){return this.toArrayLike(i,e,t)});BN.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};var allocate=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)};BN.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength();var s=n||Math.max(1,i);assert2(i<=s,"byte array longer than desired length");assert2(s>0,"Requested array length <= 0");var o=allocate(e,s);var a="le"===t?"LE":"BE";this["_toArrayLike"+a](o,i);return o};BN.prototype._toArrayLikeLE=function(e,t){var n=0;var i=0;for(var s=0,o=0;s<this.length;s++){var a=this.words[s]<<o|i;e[n++]=255&a;n<e.length&&(e[n++]=a>>8&255);n<e.length&&(e[n++]=a>>16&255);if(6===o){n<e.length&&(e[n++]=a>>24&255);i=0;o=0}else{i=a>>>24;o+=2}}if(n<e.length){e[n++]=i;for(;n<e.length;)e[n++]=0}};BN.prototype._toArrayLikeBE=function(e,t){var n=e.length-1;var i=0;for(var s=0,o=0;s<this.length;s++){var a=this.words[s]<<o|i;e[n--]=255&a;n>=0&&(e[n--]=a>>8&255);n>=0&&(e[n--]=a>>16&255);if(6===o){n>=0&&(e[n--]=a>>24&255);i=0;o=0}else{i=a>>>24;o+=2}}if(n>=0){e[n--]=i;for(;n>=0;)e[n--]=0}};Math.clz32?BN.prototype._countBits=function(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function(e){var t=e;var n=0;if(t>=4096){n+=13;t>>>=13}if(t>=64){n+=7;t>>>=7}if(t>=8){n+=4;t>>>=4}if(t>=2){n+=2;t>>>=2}return n+t};BN.prototype._zeroBits=function(e){if(0===e)return 26;var t=e;var n=0;if(!(8191&t)){n+=13;t>>>=13}if(!(127&t)){n+=7;t>>>=7}if(!(15&t)){n+=4;t>>>=4}if(!(3&t)){n+=2;t>>>=2}1&t||n++;return n};BN.prototype.bitLength=function(){var e=this.words[this.length-1];var t=this._countBits(e);return 26*(this.length-1)+t};function toBitArray(e){var t=new Array(e.bitLength());for(var n=0;n<t.length;n++){var i=n/26|0;var s=n%26;t[n]=e.words[i]>>>s&1}return t}BN.prototype.zeroBits=function(){if(this.isZero())return 0;var e=0;for(var t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);e+=n;if(26!==n)break}return e};BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()};BN.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()};BN.prototype.isNeg=function(){return 0!==this.negative};BN.prototype.neg=function(){return this.clone().ineg()};BN.prototype.ineg=function(){this.isZero()||(this.negative^=1);return this};BN.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()};BN.prototype.ior=function(e){assert2(0===(this.negative|e.negative));return this.iuor(e)};BN.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)};BN.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)};BN.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];this.length=t.length;return this._strip()};BN.prototype.iand=function(e){assert2(0===(this.negative|e.negative));return this.iuand(e)};BN.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)};BN.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)};BN.prototype.iuxor=function(e){var t;var n;if(this.length>e.length){t=this;n=e}else{t=e;n=this}for(var i=0;i<n.length;i++)this.words[i]=t.words[i]^n.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];this.length=t.length;return this._strip()};BN.prototype.ixor=function(e){assert2(0===(this.negative|e.negative));return this.iuxor(e)};BN.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)};BN.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)};BN.prototype.inotn=function(e){assert2("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26);var n=e%26;this._expand(t);n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];n>0&&(this.words[i]=~this.words[i]&67108863>>26-n);return this._strip()};BN.prototype.notn=function(e){return this.clone().inotn(e)};BN.prototype.setn=function(e,t){assert2("number"==typeof e&&e>=0);var n=e/26|0;var i=e%26;this._expand(n+1);this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i);return this._strip()};BN.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative){this.negative=0;t=this.isub(e);this.negative^=1;return this._normSign()}if(0===this.negative&&0!==e.negative){e.negative=0;t=this.isub(e);e.negative=1;return t._normSign()}var n,i;if(this.length>e.length){n=this;i=e}else{n=e;i=this}var s=0;for(var o=0;o<i.length;o++){t=(0|n.words[o])+(0|i.words[o])+s;this.words[o]=67108863&t;s=t>>>26}for(;0!==s&&o<n.length;o++){t=(0|n.words[o])+s;this.words[o]=67108863&t;s=t>>>26}this.length=n.length;if(0!==s){this.words[this.length]=s;this.length++}else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this};BN.prototype.add=function(e){var t;if(0!==e.negative&&0===this.negative){e.negative=0;t=this.sub(e);e.negative^=1;return t}if(0===e.negative&&0!==this.negative){this.negative=0;t=e.sub(this);this.negative=1;return t}return this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)};BN.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);e.negative=1;return t._normSign()}if(0!==this.negative){this.negative=0;this.iadd(e);this.negative=1;return this._normSign()}var n=this.cmp(e);if(0===n){this.negative=0;this.length=1;this.words[0]=0;return this}var i,s;if(n>0){i=this;s=e}else{i=e;s=this}var o=0;for(var a=0;a<s.length;a++){t=(0|i.words[a])-(0|s.words[a])+o;o=t>>26;this.words[a]=67108863&t}for(;0!==o&&a<i.length;a++){t=(0|i.words[a])+o;o=t>>26;this.words[a]=67108863&t}if(0===o&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];this.length=Math.max(this.length,a);i!==this&&(this.negative=1);return this._strip()};BN.prototype.sub=function(e){return this.clone().isub(e)};function smallMulTo(e,t,n){n.negative=t.negative^e.negative;var i=e.length+t.length|0;n.length=i;i=i-1|0;var s=0|e.words[0];var o=0|t.words[0];var a=s*o;var c=67108863&a;var u=a/67108864|0;n.words[0]=c;for(var l=1;l<i;l++){var h=u>>>26;var d=67108863&u;var f=Math.min(l,t.length-1);for(var p=Math.max(0,l-e.length+1);p<=f;p++){var g=l-p|0;s=0|e.words[g];o=0|t.words[p];a=s*o+d;h+=a/67108864|0;d=67108863&a}n.words[l]=0|d;u=0|h}0!==u?n.words[l]=0|u:n.length--;return n._strip()}var comb10MulTo=function(e,t,n){var i=e.words;var s=t.words;var o=n.words;var a=0;var c;var u;var l;var h=0|i[0];var d=8191&h;var f=h>>>13;var p=0|i[1];var g=8191&p;var m=p>>>13;var v=0|i[2];var y=8191&v;var b=v>>>13;var w=0|i[3];var E=8191&w;var _=w>>>13;var S=0|i[4];var R=8191&S;var k=S>>>13;var M=0|i[5];var C=8191&M;var I=M>>>13;var A=0|i[6];var x=8191&A;var N=A>>>13;var B=0|i[7];var T=8191&B;var q=B>>>13;var P=0|i[8];var O=8191&P;var L=P>>>13;var F=0|i[9];var j=8191&F;var D=F>>>13;var $=0|s[0];var U=8191&$;var H=$>>>13;var W=0|s[1];var V=8191&W;var z=W>>>13;var J=0|s[2];var G=8191&J;var Q=J>>>13;var Z=0|s[3];var K=8191&Z;var Y=Z>>>13;var X=0|s[4];var ee=8191&X;var te=X>>>13;var re=0|s[5];var ne=8191&re;var ie=re>>>13;var se=0|s[6];var oe=8191&se;var ae=se>>>13;var ce=0|s[7];var ue=8191&ce;var le=ce>>>13;var he=0|s[8];var de=8191&he;var fe=he>>>13;var pe=0|s[9];var ge=8191&pe;var me=pe>>>13;n.negative=e.negative^t.negative;n.length=19;c=Math.imul(d,U);u=Math.imul(d,H);u=u+Math.imul(f,U)|0;l=Math.imul(f,H);var ve=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(ve>>>26)|0;ve&=67108863;c=Math.imul(g,U);u=Math.imul(g,H);u=u+Math.imul(m,U)|0;l=Math.imul(m,H);c=c+Math.imul(d,V)|0;u=u+Math.imul(d,z)|0;u=u+Math.imul(f,V)|0;l=l+Math.imul(f,z)|0;var ye=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(ye>>>26)|0;ye&=67108863;c=Math.imul(y,U);u=Math.imul(y,H);u=u+Math.imul(b,U)|0;l=Math.imul(b,H);c=c+Math.imul(g,V)|0;u=u+Math.imul(g,z)|0;u=u+Math.imul(m,V)|0;l=l+Math.imul(m,z)|0;c=c+Math.imul(d,G)|0;u=u+Math.imul(d,Q)|0;u=u+Math.imul(f,G)|0;l=l+Math.imul(f,Q)|0;var be=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(be>>>26)|0;be&=67108863;c=Math.imul(E,U);u=Math.imul(E,H);u=u+Math.imul(_,U)|0;l=Math.imul(_,H);c=c+Math.imul(y,V)|0;u=u+Math.imul(y,z)|0;u=u+Math.imul(b,V)|0;l=l+Math.imul(b,z)|0;c=c+Math.imul(g,G)|0;u=u+Math.imul(g,Q)|0;u=u+Math.imul(m,G)|0;l=l+Math.imul(m,Q)|0;c=c+Math.imul(d,K)|0;u=u+Math.imul(d,Y)|0;u=u+Math.imul(f,K)|0;l=l+Math.imul(f,Y)|0;var we=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(we>>>26)|0;we&=67108863;c=Math.imul(R,U);u=Math.imul(R,H);u=u+Math.imul(k,U)|0;l=Math.imul(k,H);c=c+Math.imul(E,V)|0;u=u+Math.imul(E,z)|0;u=u+Math.imul(_,V)|0;l=l+Math.imul(_,z)|0;c=c+Math.imul(y,G)|0;u=u+Math.imul(y,Q)|0;u=u+Math.imul(b,G)|0;l=l+Math.imul(b,Q)|0;c=c+Math.imul(g,K)|0;u=u+Math.imul(g,Y)|0;u=u+Math.imul(m,K)|0;l=l+Math.imul(m,Y)|0;c=c+Math.imul(d,ee)|0;u=u+Math.imul(d,te)|0;u=u+Math.imul(f,ee)|0;l=l+Math.imul(f,te)|0;var Ee=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Ee>>>26)|0;Ee&=67108863;c=Math.imul(C,U);u=Math.imul(C,H);u=u+Math.imul(I,U)|0;l=Math.imul(I,H);c=c+Math.imul(R,V)|0;u=u+Math.imul(R,z)|0;u=u+Math.imul(k,V)|0;l=l+Math.imul(k,z)|0;c=c+Math.imul(E,G)|0;u=u+Math.imul(E,Q)|0;u=u+Math.imul(_,G)|0;l=l+Math.imul(_,Q)|0;c=c+Math.imul(y,K)|0;u=u+Math.imul(y,Y)|0;u=u+Math.imul(b,K)|0;l=l+Math.imul(b,Y)|0;c=c+Math.imul(g,ee)|0;u=u+Math.imul(g,te)|0;u=u+Math.imul(m,ee)|0;l=l+Math.imul(m,te)|0;c=c+Math.imul(d,ne)|0;u=u+Math.imul(d,ie)|0;u=u+Math.imul(f,ne)|0;l=l+Math.imul(f,ie)|0;var _e=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(_e>>>26)|0;_e&=67108863;c=Math.imul(x,U);u=Math.imul(x,H);u=u+Math.imul(N,U)|0;l=Math.imul(N,H);c=c+Math.imul(C,V)|0;u=u+Math.imul(C,z)|0;u=u+Math.imul(I,V)|0;l=l+Math.imul(I,z)|0;c=c+Math.imul(R,G)|0;u=u+Math.imul(R,Q)|0;u=u+Math.imul(k,G)|0;l=l+Math.imul(k,Q)|0;c=c+Math.imul(E,K)|0;u=u+Math.imul(E,Y)|0;u=u+Math.imul(_,K)|0;l=l+Math.imul(_,Y)|0;c=c+Math.imul(y,ee)|0;u=u+Math.imul(y,te)|0;u=u+Math.imul(b,ee)|0;l=l+Math.imul(b,te)|0;c=c+Math.imul(g,ne)|0;u=u+Math.imul(g,ie)|0;u=u+Math.imul(m,ne)|0;l=l+Math.imul(m,ie)|0;c=c+Math.imul(d,oe)|0;u=u+Math.imul(d,ae)|0;u=u+Math.imul(f,oe)|0;l=l+Math.imul(f,ae)|0;var Se=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Se>>>26)|0;Se&=67108863;c=Math.imul(T,U);u=Math.imul(T,H);u=u+Math.imul(q,U)|0;l=Math.imul(q,H);c=c+Math.imul(x,V)|0;u=u+Math.imul(x,z)|0;u=u+Math.imul(N,V)|0;l=l+Math.imul(N,z)|0;c=c+Math.imul(C,G)|0;u=u+Math.imul(C,Q)|0;u=u+Math.imul(I,G)|0;l=l+Math.imul(I,Q)|0;c=c+Math.imul(R,K)|0;u=u+Math.imul(R,Y)|0;u=u+Math.imul(k,K)|0;l=l+Math.imul(k,Y)|0;c=c+Math.imul(E,ee)|0;u=u+Math.imul(E,te)|0;u=u+Math.imul(_,ee)|0;l=l+Math.imul(_,te)|0;c=c+Math.imul(y,ne)|0;u=u+Math.imul(y,ie)|0;u=u+Math.imul(b,ne)|0;l=l+Math.imul(b,ie)|0;c=c+Math.imul(g,oe)|0;u=u+Math.imul(g,ae)|0;u=u+Math.imul(m,oe)|0;l=l+Math.imul(m,ae)|0;c=c+Math.imul(d,ue)|0;u=u+Math.imul(d,le)|0;u=u+Math.imul(f,ue)|0;l=l+Math.imul(f,le)|0;var Re=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Re>>>26)|0;Re&=67108863;c=Math.imul(O,U);u=Math.imul(O,H);u=u+Math.imul(L,U)|0;l=Math.imul(L,H);c=c+Math.imul(T,V)|0;u=u+Math.imul(T,z)|0;u=u+Math.imul(q,V)|0;l=l+Math.imul(q,z)|0;c=c+Math.imul(x,G)|0;u=u+Math.imul(x,Q)|0;u=u+Math.imul(N,G)|0;l=l+Math.imul(N,Q)|0;c=c+Math.imul(C,K)|0;u=u+Math.imul(C,Y)|0;u=u+Math.imul(I,K)|0;l=l+Math.imul(I,Y)|0;c=c+Math.imul(R,ee)|0;u=u+Math.imul(R,te)|0;u=u+Math.imul(k,ee)|0;l=l+Math.imul(k,te)|0;c=c+Math.imul(E,ne)|0;u=u+Math.imul(E,ie)|0;u=u+Math.imul(_,ne)|0;l=l+Math.imul(_,ie)|0;c=c+Math.imul(y,oe)|0;u=u+Math.imul(y,ae)|0;u=u+Math.imul(b,oe)|0;l=l+Math.imul(b,ae)|0;c=c+Math.imul(g,ue)|0;u=u+Math.imul(g,le)|0;u=u+Math.imul(m,ue)|0;l=l+Math.imul(m,le)|0;c=c+Math.imul(d,de)|0;u=u+Math.imul(d,fe)|0;u=u+Math.imul(f,de)|0;l=l+Math.imul(f,fe)|0;var ke=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(ke>>>26)|0;ke&=67108863;c=Math.imul(j,U);u=Math.imul(j,H);u=u+Math.imul(D,U)|0;l=Math.imul(D,H);c=c+Math.imul(O,V)|0;u=u+Math.imul(O,z)|0;u=u+Math.imul(L,V)|0;l=l+Math.imul(L,z)|0;c=c+Math.imul(T,G)|0;u=u+Math.imul(T,Q)|0;u=u+Math.imul(q,G)|0;l=l+Math.imul(q,Q)|0;c=c+Math.imul(x,K)|0;u=u+Math.imul(x,Y)|0;u=u+Math.imul(N,K)|0;l=l+Math.imul(N,Y)|0;c=c+Math.imul(C,ee)|0;u=u+Math.imul(C,te)|0;u=u+Math.imul(I,ee)|0;l=l+Math.imul(I,te)|0;c=c+Math.imul(R,ne)|0;u=u+Math.imul(R,ie)|0;u=u+Math.imul(k,ne)|0;l=l+Math.imul(k,ie)|0;c=c+Math.imul(E,oe)|0;u=u+Math.imul(E,ae)|0;u=u+Math.imul(_,oe)|0;l=l+Math.imul(_,ae)|0;c=c+Math.imul(y,ue)|0;u=u+Math.imul(y,le)|0;u=u+Math.imul(b,ue)|0;l=l+Math.imul(b,le)|0;c=c+Math.imul(g,de)|0;u=u+Math.imul(g,fe)|0;u=u+Math.imul(m,de)|0;l=l+Math.imul(m,fe)|0;c=c+Math.imul(d,ge)|0;u=u+Math.imul(d,me)|0;u=u+Math.imul(f,ge)|0;l=l+Math.imul(f,me)|0;var Me=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Me>>>26)|0;Me&=67108863;c=Math.imul(j,V);u=Math.imul(j,z);u=u+Math.imul(D,V)|0;l=Math.imul(D,z);c=c+Math.imul(O,G)|0;u=u+Math.imul(O,Q)|0;u=u+Math.imul(L,G)|0;l=l+Math.imul(L,Q)|0;c=c+Math.imul(T,K)|0;u=u+Math.imul(T,Y)|0;u=u+Math.imul(q,K)|0;l=l+Math.imul(q,Y)|0;c=c+Math.imul(x,ee)|0;u=u+Math.imul(x,te)|0;u=u+Math.imul(N,ee)|0;l=l+Math.imul(N,te)|0;c=c+Math.imul(C,ne)|0;u=u+Math.imul(C,ie)|0;u=u+Math.imul(I,ne)|0;l=l+Math.imul(I,ie)|0;c=c+Math.imul(R,oe)|0;u=u+Math.imul(R,ae)|0;u=u+Math.imul(k,oe)|0;l=l+Math.imul(k,ae)|0;c=c+Math.imul(E,ue)|0;u=u+Math.imul(E,le)|0;u=u+Math.imul(_,ue)|0;l=l+Math.imul(_,le)|0;c=c+Math.imul(y,de)|0;u=u+Math.imul(y,fe)|0;u=u+Math.imul(b,de)|0;l=l+Math.imul(b,fe)|0;c=c+Math.imul(g,ge)|0;u=u+Math.imul(g,me)|0;u=u+Math.imul(m,ge)|0;l=l+Math.imul(m,me)|0;var Ce=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;c=Math.imul(j,G);u=Math.imul(j,Q);u=u+Math.imul(D,G)|0;l=Math.imul(D,Q);c=c+Math.imul(O,K)|0;u=u+Math.imul(O,Y)|0;u=u+Math.imul(L,K)|0;l=l+Math.imul(L,Y)|0;c=c+Math.imul(T,ee)|0;u=u+Math.imul(T,te)|0;u=u+Math.imul(q,ee)|0;l=l+Math.imul(q,te)|0;c=c+Math.imul(x,ne)|0;u=u+Math.imul(x,ie)|0;u=u+Math.imul(N,ne)|0;l=l+Math.imul(N,ie)|0;c=c+Math.imul(C,oe)|0;u=u+Math.imul(C,ae)|0;u=u+Math.imul(I,oe)|0;l=l+Math.imul(I,ae)|0;c=c+Math.imul(R,ue)|0;u=u+Math.imul(R,le)|0;u=u+Math.imul(k,ue)|0;l=l+Math.imul(k,le)|0;c=c+Math.imul(E,de)|0;u=u+Math.imul(E,fe)|0;u=u+Math.imul(_,de)|0;l=l+Math.imul(_,fe)|0;c=c+Math.imul(y,ge)|0;u=u+Math.imul(y,me)|0;u=u+Math.imul(b,ge)|0;l=l+Math.imul(b,me)|0;var Ie=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Ie>>>26)|0;Ie&=67108863;c=Math.imul(j,K);u=Math.imul(j,Y);u=u+Math.imul(D,K)|0;l=Math.imul(D,Y);c=c+Math.imul(O,ee)|0;u=u+Math.imul(O,te)|0;u=u+Math.imul(L,ee)|0;l=l+Math.imul(L,te)|0;c=c+Math.imul(T,ne)|0;u=u+Math.imul(T,ie)|0;u=u+Math.imul(q,ne)|0;l=l+Math.imul(q,ie)|0;c=c+Math.imul(x,oe)|0;u=u+Math.imul(x,ae)|0;u=u+Math.imul(N,oe)|0;l=l+Math.imul(N,ae)|0;c=c+Math.imul(C,ue)|0;u=u+Math.imul(C,le)|0;u=u+Math.imul(I,ue)|0;l=l+Math.imul(I,le)|0;c=c+Math.imul(R,de)|0;u=u+Math.imul(R,fe)|0;u=u+Math.imul(k,de)|0;l=l+Math.imul(k,fe)|0;c=c+Math.imul(E,ge)|0;u=u+Math.imul(E,me)|0;u=u+Math.imul(_,ge)|0;l=l+Math.imul(_,me)|0;var Ae=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Ae>>>26)|0;Ae&=67108863;c=Math.imul(j,ee);u=Math.imul(j,te);u=u+Math.imul(D,ee)|0;l=Math.imul(D,te);c=c+Math.imul(O,ne)|0;u=u+Math.imul(O,ie)|0;u=u+Math.imul(L,ne)|0;l=l+Math.imul(L,ie)|0;c=c+Math.imul(T,oe)|0;u=u+Math.imul(T,ae)|0;u=u+Math.imul(q,oe)|0;l=l+Math.imul(q,ae)|0;c=c+Math.imul(x,ue)|0;u=u+Math.imul(x,le)|0;u=u+Math.imul(N,ue)|0;l=l+Math.imul(N,le)|0;c=c+Math.imul(C,de)|0;u=u+Math.imul(C,fe)|0;u=u+Math.imul(I,de)|0;l=l+Math.imul(I,fe)|0;c=c+Math.imul(R,ge)|0;u=u+Math.imul(R,me)|0;u=u+Math.imul(k,ge)|0;l=l+Math.imul(k,me)|0;var xe=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(xe>>>26)|0;xe&=67108863;c=Math.imul(j,ne);u=Math.imul(j,ie);u=u+Math.imul(D,ne)|0;l=Math.imul(D,ie);c=c+Math.imul(O,oe)|0;u=u+Math.imul(O,ae)|0;u=u+Math.imul(L,oe)|0;l=l+Math.imul(L,ae)|0;c=c+Math.imul(T,ue)|0;u=u+Math.imul(T,le)|0;u=u+Math.imul(q,ue)|0;l=l+Math.imul(q,le)|0;c=c+Math.imul(x,de)|0;u=u+Math.imul(x,fe)|0;u=u+Math.imul(N,de)|0;l=l+Math.imul(N,fe)|0;c=c+Math.imul(C,ge)|0;u=u+Math.imul(C,me)|0;u=u+Math.imul(I,ge)|0;l=l+Math.imul(I,me)|0;var Ne=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;c=Math.imul(j,oe);u=Math.imul(j,ae);u=u+Math.imul(D,oe)|0;l=Math.imul(D,ae);c=c+Math.imul(O,ue)|0;u=u+Math.imul(O,le)|0;u=u+Math.imul(L,ue)|0;l=l+Math.imul(L,le)|0;c=c+Math.imul(T,de)|0;u=u+Math.imul(T,fe)|0;u=u+Math.imul(q,de)|0;l=l+Math.imul(q,fe)|0;c=c+Math.imul(x,ge)|0;u=u+Math.imul(x,me)|0;u=u+Math.imul(N,ge)|0;l=l+Math.imul(N,me)|0;var Be=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Be>>>26)|0;Be&=67108863;c=Math.imul(j,ue);u=Math.imul(j,le);u=u+Math.imul(D,ue)|0;l=Math.imul(D,le);c=c+Math.imul(O,de)|0;u=u+Math.imul(O,fe)|0;u=u+Math.imul(L,de)|0;l=l+Math.imul(L,fe)|0;c=c+Math.imul(T,ge)|0;u=u+Math.imul(T,me)|0;u=u+Math.imul(q,ge)|0;l=l+Math.imul(q,me)|0;var Te=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Te>>>26)|0;Te&=67108863;c=Math.imul(j,de);u=Math.imul(j,fe);u=u+Math.imul(D,de)|0;l=Math.imul(D,fe);c=c+Math.imul(O,ge)|0;u=u+Math.imul(O,me)|0;u=u+Math.imul(L,ge)|0;l=l+Math.imul(L,me)|0;var qe=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(qe>>>26)|0;qe&=67108863;c=Math.imul(j,ge);u=Math.imul(j,me);u=u+Math.imul(D,ge)|0;l=Math.imul(D,me);var Pe=(a+c|0)+((8191&u)<<13)|0;a=(l+(u>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;o[0]=ve;o[1]=ye;o[2]=be;o[3]=we;o[4]=Ee;o[5]=_e;o[6]=Se;o[7]=Re;o[8]=ke;o[9]=Me;o[10]=Ce;o[11]=Ie;o[12]=Ae;o[13]=xe;o[14]=Ne;o[15]=Be;o[16]=Te;o[17]=qe;o[18]=Pe;if(0!==a){o[19]=a;n.length++}return n};Math.imul||(comb10MulTo=smallMulTo);function bigMulTo(e,t,n){n.negative=t.negative^e.negative;n.length=e.length+t.length;var i=0;var s=0;for(var o=0;o<n.length-1;o++){var a=s;s=0;var c=67108863&i;var u=Math.min(o,t.length-1);for(var l=Math.max(0,o-e.length+1);l<=u;l++){var h=o-l;var d=0|e.words[h];var f=0|t.words[l];var p=d*f;var g=67108863&p;a=a+(p/67108864|0)|0;g=g+c|0;c=67108863&g;a=a+(g>>>26)|0;s+=a>>>26;a&=67108863}n.words[o]=c;i=a;a=s}0!==i?n.words[o]=i:n.length--;return n._strip()}function jumboMulTo(e,t,n){return bigMulTo(e,t,n)}BN.prototype.mulTo=function(e,t){var n;var i=this.length+e.length;n=10===this.length&&10===e.length?comb10MulTo(this,e,t):i<63?smallMulTo(this,e,t):i<1024?bigMulTo(this,e,t):jumboMulTo(this,e,t);return n};BN.prototype.mul=function(e){var t=new BN(null);t.words=new Array(this.length+e.length);return this.mulTo(e,t)};BN.prototype.mulf=function(e){var t=new BN(null);t.words=new Array(this.length+e.length);return jumboMulTo(this,e,t)};BN.prototype.imul=function(e){return this.clone().mulTo(e,this)};BN.prototype.imuln=function(e){var t=e<0;t&&(e=-e);assert2("number"==typeof e);assert2(e<67108864);var n=0;for(var i=0;i<this.length;i++){var s=(0|this.words[i])*e;var o=(67108863&s)+(67108863&n);n>>=26;n+=s/67108864|0;n+=o>>>26;this.words[i]=67108863&o}if(0!==n){this.words[i]=n;this.length++}this.length=0===e?1:this.length;return t?this.ineg():this};BN.prototype.muln=function(e){return this.clone().imuln(e)};BN.prototype.sqr=function(){return this.mul(this)};BN.prototype.isqr=function(){return this.imul(this.clone())};BN.prototype.pow=function(e){var t=toBitArray(e);if(0===t.length)return new BN(1);var n=this;for(var i=0;i<t.length&&0===t[i];i++,n=n.sqr());if(++i<t.length)for(var s=n.sqr();i<t.length;i++,s=s.sqr())0!==t[i]&&(n=n.mul(s));return n};BN.prototype.iushln=function(e){assert2("number"==typeof e&&e>=0);var t=e%26;var n=(e-t)/26;var i=67108863>>>26-t<<26-t;var s;if(0!==t){var o=0;for(s=0;s<this.length;s++){var a=this.words[s]&i;var c=(0|this.words[s])-a<<t;this.words[s]=c|o;o=a>>>26-t}if(o){this.words[s]=o;this.length++}}if(0!==n){for(s=this.length-1;s>=0;s--)this.words[s+n]=this.words[s];for(s=0;s<n;s++)this.words[s]=0;this.length+=n}return this._strip()};BN.prototype.ishln=function(e){assert2(0===this.negative);return this.iushln(e)};BN.prototype.iushrn=function(e,t,n){assert2("number"==typeof e&&e>=0);var i;i=t?(t-t%26)/26:0;var s=e%26;var o=Math.min((e-s)/26,this.length);var a=67108863^67108863>>>s<<s;var c=n;i-=o;i=Math.max(0,i);if(c){for(var u=0;u<o;u++)c.words[u]=this.words[u];c.length=o}if(0===o);else if(this.length>o){this.length-=o;for(u=0;u<this.length;u++)this.words[u]=this.words[u+o]}else{this.words[0]=0;this.length=1}var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s;l=h&a}c&&0!==l&&(c.words[c.length++]=l);if(0===this.length){this.words[0]=0;this.length=1}return this._strip()};BN.prototype.ishrn=function(e,t,n){assert2(0===this.negative);return this.iushrn(e,t,n)};BN.prototype.shln=function(e){return this.clone().ishln(e)};BN.prototype.ushln=function(e){return this.clone().iushln(e)};BN.prototype.shrn=function(e){return this.clone().ishrn(e)};BN.prototype.ushrn=function(e){return this.clone().iushrn(e)};BN.prototype.testn=function(e){assert2("number"==typeof e&&e>=0);var t=e%26;var n=(e-t)/26;var i=1<<t;if(this.length<=n)return!1;var s=this.words[n];return!!(s&i)};BN.prototype.imaskn=function(e){assert2("number"==typeof e&&e>=0);var t=e%26;var n=(e-t)/26;assert2(0===this.negative,"imaskn works only with positive numbers");if(this.length<=n)return this;0!==t&&n++;this.length=Math.min(n,this.length);if(0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()};BN.prototype.maskn=function(e){return this.clone().imaskn(e)};BN.prototype.iaddn=function(e){assert2("number"==typeof e);assert2(e<67108864);if(e<0)return this.isubn(-e);if(0!==this.negative){if(1===this.length&&(0|this.words[0])<=e){this.words[0]=e-(0|this.words[0]);this.negative=0;return this}this.negative=0;this.isubn(e);this.negative=1;return this}return this._iaddn(e)};BN.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++){this.words[t]-=67108864;t===this.length-1?this.words[t+1]=1:this.words[t+1]++}this.length=Math.max(this.length,t+1);return this};BN.prototype.isubn=function(e){assert2("number"==typeof e);assert2(e<67108864);if(e<0)return this.iaddn(-e);if(0!==this.negative){this.negative=0;this.iaddn(e);this.negative=1;return this}this.words[0]-=e;if(1===this.length&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else for(var t=0;t<this.length&&this.words[t]<0;t++){this.words[t]+=67108864;this.words[t+1]-=1}return this._strip()};BN.prototype.addn=function(e){return this.clone().iaddn(e)};BN.prototype.subn=function(e){return this.clone().isubn(e)};BN.prototype.iabs=function(){this.negative=0;return this};BN.prototype.abs=function(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function(e,t,n){var i=e.length+n;var s;this._expand(i);var o;var a=0;for(s=0;s<e.length;s++){o=(0|this.words[s+n])+a;var c=(0|e.words[s])*t;o-=67108863&c;a=(o>>26)-(c/67108864|0);this.words[s+n]=67108863&o}for(;s<this.length-n;s++){o=(0|this.words[s+n])+a;a=o>>26;this.words[s+n]=67108863&o}if(0===a)return this._strip();assert2(-1===a);a=0;for(s=0;s<this.length;s++){o=-(0|this.words[s])+a;a=o>>26;this.words[s]=67108863&o}this.negative=1;return this._strip()};BN.prototype._wordDiv=function(e,t){var n=this.length-e.length;var i=this.clone();var s=e;var o=0|s.words[s.length-1];var a=this._countBits(o);n=26-a;if(0!==n){s=s.ushln(n);i.iushln(n);o=0|s.words[s.length-1]}var c=i.length-s.length;var u;if("mod"!==t){u=new BN(null);u.length=c+1;u.words=new Array(u.length);for(var l=0;l<u.length;l++)u.words[l]=0}var h=i.clone()._ishlnsubmul(s,1,c);if(0===h.negative){i=h;u&&(u.words[c]=1)}for(var d=c-1;d>=0;d--){var f=67108864*(0|i.words[s.length+d])+(0|i.words[s.length+d-1]);f=Math.min(f/o|0,67108863);i._ishlnsubmul(s,f,d);for(;0!==i.negative;){f--;i.negative=0;i._ishlnsubmul(s,1,d);i.isZero()||(i.negative^=1)}u&&(u.words[d]=f)}u&&u._strip();i._strip();"div"!==t&&0!==n&&i.iushrn(n);return{div:u||null,mod:i}};BN.prototype.divmod=function(e,t,n){assert2(!e.isZero());if(this.isZero())return{div:new BN(0),mod:new BN(0)};var i,s,o;if(0!==this.negative&&0===e.negative){o=this.neg().divmod(e,t);"mod"!==t&&(i=o.div.neg());if("div"!==t){s=o.mod.neg();n&&0!==s.negative&&s.iadd(e)}return{div:i,mod:s}}if(0===this.negative&&0!==e.negative){o=this.divmod(e.neg(),t);"mod"!==t&&(i=o.div.neg());return{div:i,mod:o.mod}}if(0!==(this.negative&e.negative)){o=this.neg().divmod(e.neg(),t);if("div"!==t){s=o.mod.neg();n&&0!==s.negative&&s.isub(e)}return{div:o.div,mod:s}}return e.length>this.length||this.cmp(e)<0?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modrn(e.words[0]))}:this._wordDiv(e,t)};BN.prototype.div=function(e){return this.divmod(e,"div",!1).div};BN.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod};BN.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod};BN.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod;var i=e.ushrn(1);var s=e.andln(1);var o=n.cmp(i);return o<0||1===s&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)};BN.prototype.modrn=function(e){var t=e<0;t&&(e=-e);assert2(e<=67108863);var n=(1<<26)%e;var i=0;for(var s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%e;return t?-i:i};BN.prototype.modn=function(e){return this.modrn(e)};BN.prototype.idivn=function(e){var t=e<0;t&&(e=-e);assert2(e<=67108863);var n=0;for(var i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/e|0;n=s%e}this._strip();return t?this.ineg():this};BN.prototype.divn=function(e){return this.clone().idivn(e)};BN.prototype.egcd=function(e){assert2(0===e.negative);assert2(!e.isZero());var t=this;var n=e.clone();t=0!==t.negative?t.umod(e):t.clone();var i=new BN(1);var s=new BN(0);var o=new BN(0);var a=new BN(1);var c=0;for(;t.isEven()&&n.isEven();){t.iushrn(1);n.iushrn(1);++c}var u=n.clone();var l=t.clone();for(;!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0){t.iushrn(h);for(;h-- >0;){if(i.isOdd()||s.isOdd()){i.iadd(u);s.isub(l)}i.iushrn(1);s.iushrn(1)}}for(var f=0,p=1;0===(n.words[0]&p)&&f<26;++f,p<<=1);if(f>0){n.iushrn(f);for(;f-- >0;){if(o.isOdd()||a.isOdd()){o.iadd(u);a.isub(l)}o.iushrn(1);a.iushrn(1)}}if(t.cmp(n)>=0){t.isub(n);i.isub(o);s.isub(a)}else{n.isub(t);o.isub(i);a.isub(s)}}return{a:o,b:a,gcd:n.iushln(c)}};BN.prototype._invmp=function(e){assert2(0===e.negative);assert2(!e.isZero());var t=this;var n=e.clone();t=0!==t.negative?t.umod(e):t.clone();var i=new BN(1);var s=new BN(0);var o=n.clone();for(;t.cmpn(1)>0&&n.cmpn(1)>0;){for(var a=0,c=1;0===(t.words[0]&c)&&a<26;++a,c<<=1);if(a>0){t.iushrn(a);for(;a-- >0;){i.isOdd()&&i.iadd(o);i.iushrn(1)}}for(var u=0,l=1;0===(n.words[0]&l)&&u<26;++u,l<<=1);if(u>0){n.iushrn(u);for(;u-- >0;){s.isOdd()&&s.iadd(o);s.iushrn(1)}}if(t.cmp(n)>=0){t.isub(n);i.isub(s)}else{n.isub(t);s.isub(i)}}var h;h=0===t.cmpn(1)?i:s;h.cmpn(0)<0&&h.iadd(e);return h};BN.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone();var n=e.clone();t.negative=0;n.negative=0;for(var i=0;t.isEven()&&n.isEven();i++){t.iushrn(1);n.iushrn(1)}for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var s=t.cmp(n);if(s<0){var o=t;t=n;n=o}else if(0===s||0===n.cmpn(1))break;t.isub(n)}return n.iushln(i)};BN.prototype.invm=function(e){return this.egcd(e).a.umod(e)};BN.prototype.isEven=function(){return!(1&this.words[0])};BN.prototype.isOdd=function(){return!(1&~this.words[0])};BN.prototype.andln=function(e){return this.words[0]&e};BN.prototype.bincn=function(e){assert2("number"==typeof e);var t=e%26;var n=(e-t)/26;var i=1<<t;if(this.length<=n){this._expand(n+1);this.words[n]|=i;return this}var s=i;for(var o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s;s=a>>>26;a&=67108863;this.words[o]=a}if(0!==s){this.words[o]=s;this.length++}return this};BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]};BN.prototype.cmpn=function(e){var t=e<0;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this._strip();var n;if(this.length>1)n=1;else{t&&(e=-e);assert2(e<=67108863,"Number is too big");var i=0|this.words[0];n=i===e?0:i<e?-1:1}return 0!==this.negative?0|-n:n};BN.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t};BN.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;var t=0;for(var n=this.length-1;n>=0;n--){var i=0|this.words[n];var s=0|e.words[n];if(i!==s){i<s?t=-1:i>s&&(t=1);break}}return t};BN.prototype.gtn=function(e){return 1===this.cmpn(e)};BN.prototype.gt=function(e){return 1===this.cmp(e)};BN.prototype.gten=function(e){return this.cmpn(e)>=0};BN.prototype.gte=function(e){return this.cmp(e)>=0};BN.prototype.ltn=function(e){return-1===this.cmpn(e)};BN.prototype.lt=function(e){return-1===this.cmp(e)};BN.prototype.lten=function(e){return this.cmpn(e)<=0};BN.prototype.lte=function(e){return this.cmp(e)<=0};BN.prototype.eqn=function(e){return 0===this.cmpn(e)};BN.prototype.eq=function(e){return 0===this.cmp(e)};BN.red=function(e){return new Red(e)};BN.prototype.toRed=function(e){assert2(!this.red,"Already a number in reduction context");assert2(0===this.negative,"red works only with positives");return e.convertTo(this)._forceRed(e)};BN.prototype.fromRed=function(){assert2(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function(e){this.red=e;return this};BN.prototype.forceRed=function(e){assert2(!this.red,"Already a number in reduction context");return this._forceRed(e)};BN.prototype.redAdd=function(e){assert2(this.red,"redAdd works only with red numbers");return this.red.add(this,e)};BN.prototype.redIAdd=function(e){assert2(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,e)};BN.prototype.redSub=function(e){assert2(this.red,"redSub works only with red numbers");return this.red.sub(this,e)};BN.prototype.redISub=function(e){assert2(this.red,"redISub works only with red numbers");return this.red.isub(this,e)};BN.prototype.redShl=function(e){assert2(this.red,"redShl works only with red numbers");return this.red.shl(this,e)};BN.prototype.redMul=function(e){assert2(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.mul(this,e)};BN.prototype.redIMul=function(e){assert2(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.imul(this,e)};BN.prototype.redSqr=function(){assert2(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function(){assert2(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function(){assert2(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function(){assert2(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function(){assert2(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function(e){assert2(this.red&&!e.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,e)};var c={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e;this.p=new BN(t,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function(){var e=new BN(null);e.words=new Array(Math.ceil(this.n/13));return e};MPrime.prototype.ireduce=function(e){var t=e;var n;do{this.split(t,this.tmp);t=this.imulK(t);t=t.iadd(this.tmp);n=t.bitLength()}while(n>this.n);var i=n<this.n?-1:t.ucmp(this.p);if(0===i){t.words[0]=0;t.length=1}else i>0?t.isub(this.p):void 0!==t.strip?t.strip():t._strip();return t};MPrime.prototype.split=function(e,t){e.iushrn(this.n,0,t)};MPrime.prototype.imulK=function(e){return e.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function(e,t){var n=4194303;var i=Math.min(e.length,9);for(var s=0;s<i;s++)t.words[s]=e.words[s];t.length=i;if(e.length<=9){e.words[0]=0;e.length=1}else{var o=e.words[9];t.words[t.length++]=o&n;for(s=10;s<e.length;s++){var a=0|e.words[s];e.words[s-10]=(a&n)<<4|o>>>22;o=a}o>>>=22;e.words[s-10]=o;0===o&&e.length>10?e.length-=10:e.length-=9}};K256.prototype.imulK=function(e){e.words[e.length]=0;e.words[e.length+1]=0;e.length+=2;var t=0;for(var n=0;n<e.length;n++){var i=0|e.words[n];t+=977*i;e.words[n]=67108863&t;t=64*i+(t/67108864|0)}if(0===e.words[e.length-1]){e.length--;0===e.words[e.length-1]&&e.length--}return e};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function(e){var t=0;for(var n=0;n<e.length;n++){var i=19*(0|e.words[n])+t;var s=67108863&i;i>>>=26;e.words[n]=s;t=i}0!==t&&(e.words[e.length++]=t);return e};BN._prime=function(e){if(c[e])return c[e];var t;if("k256"===e)t=new K256;else if("p224"===e)t=new P224;else if("p192"===e)t=new P192;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new P25519}c[e]=t;return t};function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p;this.prime=t}else{assert2(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}Red.prototype._verify1=function(e){assert2(0===e.negative,"red works only with positives");assert2(e.red,"red works only with red numbers")};Red.prototype._verify2=function(e,t){assert2(0===(e.negative|t.negative),"red works only with positives");assert2(e.red&&e.red===t.red,"red works only with red numbers")};Red.prototype.imod=function(e){if(this.prime)return this.prime.ireduce(e)._forceRed(this);move(e,e.umod(this.m)._forceRed(this));return e};Red.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)};Red.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);n.cmp(this.m)>=0&&n.isub(this.m);return n._forceRed(this)};Red.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);n.cmp(this.m)>=0&&n.isub(this.m);return n};Red.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);n.cmpn(0)<0&&n.iadd(this.m);return n._forceRed(this)};Red.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);n.cmpn(0)<0&&n.iadd(this.m);return n};Red.prototype.shl=function(e,t){this._verify1(e);return this.imod(e.ushln(t))};Red.prototype.imul=function(e,t){this._verify2(e,t);return this.imod(e.imul(t))};Red.prototype.mul=function(e,t){this._verify2(e,t);return this.imod(e.mul(t))};Red.prototype.isqr=function(e){return this.imul(e,e.clone())};Red.prototype.sqr=function(e){return this.mul(e,e)};Red.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);assert2(t%2==1);if(3===t){var n=this.m.add(new BN(1)).iushrn(2);return this.pow(e,n)}var i=this.m.subn(1);var s=0;for(;!i.isZero()&&0===i.andln(1);){s++;i.iushrn(1)}assert2(!i.isZero());var o=new BN(1).toRed(this);var a=o.redNeg();var c=this.m.subn(1).iushrn(1);var u=this.m.bitLength();u=new BN(2*u*u).toRed(this);for(;0!==this.pow(u,c).cmp(a);)u.redIAdd(a);var l=this.pow(u,i);var h=this.pow(e,i.addn(1).iushrn(1));var d=this.pow(e,i);var f=s;for(;0!==d.cmp(o);){var p=d;for(var g=0;0!==p.cmp(o);g++)p=p.redSqr();assert2(g<f);var m=this.pow(l,new BN(1).iushln(f-g-1));h=h.redMul(m);l=m.redSqr();d=d.redMul(l);f=g}return h};Red.prototype.invm=function(e){var t=e._invmp(this.m);if(0!==t.negative){t.negative=0;return this.imod(t).redNeg()}return this.imod(t)};Red.prototype.pow=function(e,t){if(t.isZero())return new BN(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=4;var i=new Array(1<<n);i[0]=new BN(1).toRed(this);i[1]=e;for(var s=2;s<i.length;s++)i[s]=this.mul(i[s-1],e);var o=i[0];var a=0;var c=0;var u=t.bitLength()%26;0===u&&(u=26);for(s=t.length-1;s>=0;s--){var l=t.words[s];for(var h=u-1;h>=0;h--){var d=l>>h&1;o!==i[0]&&(o=this.sqr(o));if(0!==d||0!==a){a<<=1;a|=d;c++;if(c===n||0===s&&0===h){o=this.mul(o,i[a]);c=0;a=0}}else c=0}u=26}return o};Red.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t};Red.prototype.convertFrom=function(e){var t=e.clone();t.red=null;return t};BN.mont=function(e){return new Mont(e)};function Mont(e){Red.call(this,e);this.shift=this.m.bitLength();this.shift%26!=0&&(this.shift+=26-this.shift%26);this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))};Mont.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));t.red=null;return t};Mont.prototype.imul=function(e,t){if(e.isZero()||t.isZero()){e.words[0]=0;e.length=1;return e}var n=e.imul(t);var i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var s=n.isub(i).iushrn(this.shift);var o=s;s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m));return o._forceRed(this)};Mont.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var n=e.mul(t);var i=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var s=n.isub(i).iushrn(this.shift);var o=s;s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m));return o._forceRed(this)};Mont.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}(e,jt)}(Ft);return Ft.exports}var $t={};var Ut={};var Ht;function requireConstants$1(){if(Ht)return Ut;Ht=1;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.errorValues=Ut.standardErrorCodes=void 0;Ut.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Ut.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};return Ut}var Wt={};var Vt={};var zt;function requireUtils$1(){if(zt)return Vt;zt=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=requireConstants$1();const n="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function getMessageFromCode(i,s=n){if(i&&Number.isInteger(i)){const n=i.toString();if(hasKey(t.errorValues,n))return t.errorValues[n].message;if(isJsonRpcServerError(i))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return s}e.getMessageFromCode=getMessageFromCode;function isValidCode(e){if(!Number.isInteger(e))return!1;const n=e.toString();return!!t.errorValues[n]||!!isJsonRpcServerError(e)}e.isValidCode=isValidCode;function getErrorCode(e){var t;return"number"==typeof e?e:isErrorWithCode(e)?null!==(t=e.code)&&void 0!==t?t:e.errorCode:void 0}e.getErrorCode=getErrorCode;function isErrorWithCode(e){return"object"==typeof e&&null!==e&&("number"==typeof e.code||"number"==typeof e.errorCode)}function serialize2(e,{shouldIncludeStack:i=!1}={}){const s={};if(e&&"object"==typeof e&&!Array.isArray(e)&&hasKey(e,"code")&&isValidCode(e.code)){const t=e;s.code=t.code;if(t.message&&"string"==typeof t.message){s.message=t.message;hasKey(t,"data")&&(s.data=t.data)}else{s.message=getMessageFromCode(s.code);s.data={originalError:assignOriginalError(e)}}}else{s.code=t.standardErrorCodes.rpc.internal;s.message=hasStringProperty(e,"message")?e.message:n;s.data={originalError:assignOriginalError(e)}}i&&(s.stack=hasStringProperty(e,"stack")?e.stack:void 0);return s}e.serialize=serialize2;function isJsonRpcServerError(e){return e>=-32099&&e<=-32e3}function assignOriginalError(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function hasKey(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hasStringProperty(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}}(Vt);return Vt}var Jt;function requireErrors$1(){if(Jt)return Wt;Jt=1;Object.defineProperty(Wt,"__esModule",{value:!0});Wt.standardErrors=void 0;const e=requireConstants$1();const t=requireUtils$1();Wt.standardErrors={rpc:{parse:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.parse,t),invalidRequest:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.invalidRequest,t),invalidParams:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.invalidParams,t),methodNotFound:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.methodNotFound,t),internal:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.internal,t),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(t,e)},invalidInput:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.invalidInput,t),resourceNotFound:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.transactionRejected,t),methodNotSupported:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.methodNotSupported,t),limitExceeded:t=>getEthJsonRpcError(e.standardErrorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>getEthProviderError(e.standardErrorCodes.provider.userRejectedRequest,t),unauthorized:t=>getEthProviderError(e.standardErrorCodes.provider.unauthorized,t),unsupportedMethod:t=>getEthProviderError(e.standardErrorCodes.provider.unsupportedMethod,t),disconnected:t=>getEthProviderError(e.standardErrorCodes.provider.disconnected,t),chainDisconnected:t=>getEthProviderError(e.standardErrorCodes.provider.chainDisconnected,t),unsupportedChain:t=>getEthProviderError(e.standardErrorCodes.provider.unsupportedChain,t),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:n,data:s}=e;if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return new i(t,n,s)}}};function getEthJsonRpcError(e,i){const[s,o]=parseOpts(i);return new n(e,s||(0,t.getMessageFromCode)(e),o)}function getEthProviderError(e,n){const[s,o]=parseOpts(n);return new i(e,s||(0,t.getMessageFromCode)(e),o)}function parseOpts(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}class n extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t);this.code=e;void 0!==n&&(this.data=n)}}class i extends n{constructor(e,t,n){if(!isValidEthProviderCode(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}function isValidEthProviderCode(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}return Wt}var Gt={};var Qt={};var Zt;function requireWeb3Response(){if(Zt)return Qt;Zt=1;Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isErrorResponse=void 0;function isErrorResponse(e){return void 0!==e.errorMessage}Qt.isErrorResponse=isErrorResponse;return Qt}var Kt={};var Yt;function requireVersion(){if(Yt)return Kt;Yt=1;Object.defineProperty(Kt,"__esModule",{value:!0});Kt.LIB_VERSION=void 0;Kt.LIB_VERSION="3.9.3";return Kt}var Xt;function requireSerialize(){if(Xt)return Gt;Xt=1;Object.defineProperty(Gt,"__esModule",{value:!0});Gt.serializeError=void 0;const e=requireWeb3Response();const t=requireVersion();const n=requireConstants$1();const i=requireUtils$1();function serializeError(e,n){const s=(0,i.serialize)(getErrorObject(e),{shouldIncludeStack:!0});const o=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");o.searchParams.set("version",t.LIB_VERSION);o.searchParams.set("code",s.code.toString());const a=getMethod(s.data,n);a&&o.searchParams.set("method",a);o.searchParams.set("message",s.message);return Object.assign(Object.assign({},s),{docUrl:o.href})}Gt.serializeError=serializeError;function getErrorObject(t){return"string"==typeof t?{message:t,code:n.standardErrorCodes.rpc.internal}:(0,e.isErrorResponse)(t)?Object.assign(Object.assign({},t),{message:t.errorMessage,code:t.errorCode,data:{method:t.method}}):t}function getMethod(e,t){const n=null==e?void 0:e.method;return n||(void 0!==t?"string"==typeof t?t:Array.isArray(t)?t.length>0?t[0].method:void 0:t.method:void 0)}return Gt}var er;function requireError(){if(er)return $t;er=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=requireConstants$1();Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const n=requireErrors$1();Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return n.standardErrors}});const i=requireSerialize();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return i.serializeError}});const s=requireUtils$1();Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return s.getErrorCode}});Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}})}($t);return $t}var tr={};var rr;function requireType(){if(rr)return tr;rr=1;Object.defineProperty(tr,"__esModule",{value:!0});tr.ProviderType=tr.RegExpString=tr.IntNumber=tr.BigIntString=tr.AddressString=tr.HexString=tr.OpaqueType=void 0;function OpaqueType(){return e=>e}tr.OpaqueType=OpaqueType;tr.HexString=OpaqueType();tr.AddressString=OpaqueType();tr.BigIntString=OpaqueType();function IntNumber(e){return Math.floor(e)}tr.IntNumber=IntNumber;tr.RegExpString=OpaqueType();var e;!function(e){e.CoinbaseWallet="CoinbaseWallet";e.MetaMask="MetaMask";e.Unselected=""}(e||(tr.ProviderType=e={}));return tr}var nr;function requireUtil$1(){if(nr)return Lt;nr=1;var e=Lt&&Lt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.isMobileWeb=Lt.getLocation=Lt.isInIFrame=Lt.createQrUrl=Lt.getFavicon=Lt.range=Lt.isBigNumber=Lt.ensureParsedJSONObject=Lt.ensureBN=Lt.ensureRegExpString=Lt.ensureIntNumber=Lt.ensureBuffer=Lt.ensureAddressString=Lt.ensureEvenLengthHexString=Lt.ensureHexString=Lt.isHexString=Lt.prepend0x=Lt.strip0x=Lt.has0xPrefix=Lt.hexStringFromIntNumber=Lt.intNumberFromHexString=Lt.bigIntStringFromBN=Lt.hexStringFromBuffer=Lt.hexStringToUint8Array=Lt.uint8ArrayToHex=Lt.randomBytesHex=void 0;const t=e(requireBn());const n=requireError();const i=requireType();const s=/^[0-9]*$/;const o=/^[a-f0-9]*$/;function randomBytesHex(e){return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(e)))}Lt.randomBytesHex=randomBytesHex;function uint8ArrayToHex(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}Lt.uint8ArrayToHex=uint8ArrayToHex;function hexStringToUint8Array(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Lt.hexStringToUint8Array=hexStringToUint8Array;function hexStringFromBuffer(e,t=!1){const n=e.toString("hex");return(0,i.HexString)(t?`0x${n}`:n)}Lt.hexStringFromBuffer=hexStringFromBuffer;function bigIntStringFromBN(e){return(0,i.BigIntString)(e.toString(10))}Lt.bigIntStringFromBN=bigIntStringFromBN;function intNumberFromHexString(e){return(0,i.IntNumber)(new t.default(ensureEvenLengthHexString(e,!1),16).toNumber())}Lt.intNumberFromHexString=intNumberFromHexString;function hexStringFromIntNumber(e){return(0,i.HexString)(`0x${new t.default(e).toString(16)}`)}Lt.hexStringFromIntNumber=hexStringFromIntNumber;function has0xPrefix(e){return e.startsWith("0x")||e.startsWith("0X")}Lt.has0xPrefix=has0xPrefix;function strip0x(e){return has0xPrefix(e)?e.slice(2):e}Lt.strip0x=strip0x;function prepend0x(e){return has0xPrefix(e)?`0x${e.slice(2)}`:`0x${e}`}Lt.prepend0x=prepend0x;function isHexString(e){if("string"!=typeof e)return!1;const t=strip0x(e).toLowerCase();return o.test(t)}Lt.isHexString=isHexString;function ensureHexString(e,t=!1){if("string"==typeof e){const n=strip0x(e).toLowerCase();if(o.test(n))return(0,i.HexString)(t?`0x${n}`:n)}throw n.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}Lt.ensureHexString=ensureHexString;function ensureEvenLengthHexString(e,t=!1){let n=ensureHexString(e,!1);n.length%2==1&&(n=(0,i.HexString)(`0${n}`));return t?(0,i.HexString)(`0x${n}`):n}Lt.ensureEvenLengthHexString=ensureEvenLengthHexString;function ensureAddressString(e){if("string"==typeof e){const t=strip0x(e).toLowerCase();if(isHexString(t)&&40===t.length)return(0,i.AddressString)(prepend0x(t))}throw n.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}Lt.ensureAddressString=ensureAddressString;function ensureBuffer(e){if(Buffer.isBuffer(e))return e;if("string"==typeof e){if(isHexString(e)){const t=ensureEvenLengthHexString(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw n.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}Lt.ensureBuffer=ensureBuffer;function ensureIntNumber(e){if("number"==typeof e&&Number.isInteger(e))return(0,i.IntNumber)(e);if("string"==typeof e){if(s.test(e))return(0,i.IntNumber)(Number(e));if(isHexString(e))return(0,i.IntNumber)(new t.default(ensureEvenLengthHexString(e,!1),16).toNumber())}throw n.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}Lt.ensureIntNumber=ensureIntNumber;function ensureRegExpString(e){if(e instanceof RegExp)return(0,i.RegExpString)(e.toString());throw n.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}Lt.ensureRegExpString=ensureRegExpString;function ensureBN(e){if(null!==e&&(t.default.isBN(e)||isBigNumber(e)))return new t.default(e.toString(10),10);if("number"==typeof e)return new t.default(ensureIntNumber(e));if("string"==typeof e){if(s.test(e))return new t.default(e,10);if(isHexString(e))return new t.default(ensureEvenLengthHexString(e,!1),16)}throw n.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}Lt.ensureBN=ensureBN;function ensureParsedJSONObject(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw n.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}Lt.ensureParsedJSONObject=ensureParsedJSONObject;function isBigNumber(e){if(null==e||"function"!=typeof e.constructor)return!1;const{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}Lt.isBigNumber=isBigNumber;function range2(e,t){return Array.from({length:t-e},(t,n)=>e+n)}Lt.range=range2;function getFavicon(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]');const{protocol:t,host:n}=document.location;const i=e?e.getAttribute("href"):null;return!i||i.startsWith("javascript:")||i.startsWith("vbscript:")?null:i.startsWith("http://")||i.startsWith("https://")||i.startsWith("data:")?i:i.startsWith("//")?t+i:`${t}//${n}${i}`}Lt.getFavicon=getFavicon;function createQrUrl(e,t,n,i,s,o){const a=i?"parent-id":"id";const c=new URLSearchParams({[a]:e,secret:t,server:n,v:s,chainId:o.toString()}).toString();const u=`${n}/#/link?${c}`;return u}Lt.createQrUrl=createQrUrl;function isInIFrame(){try{return null!==window.frameElement}catch(e){return!1}}Lt.isInIFrame=isInIFrame;function getLocation(){try{return isInIFrame()&&window.top?window.top.location:window.location}catch(e){return window.location}}Lt.getLocation=getLocation;function isMobileWeb(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.userAgent)}Lt.isMobileWeb=isMobileWeb;return Lt}var ir={};var sr;function requireScopedLocalStorage(){if(sr)return ir;sr=1;Object.defineProperty(ir,"__esModule",{value:!0});ir.ScopedLocalStorage=void 0;let e=class{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey("");const t=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);"string"==typeof i&&i.startsWith(e)&&t.push(i)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`${this.scope}:${e}`}};ir.ScopedLocalStorage=e;return ir}var or={};var ar={};var cr={};var ur={};var lr;function requireDiagnosticLogger(){if(lr)return ur;lr=1;Object.defineProperty(ur,"__esModule",{value:!0});ur.EVENTS=void 0;ur.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};return ur}var hr={};var dr;function requireRelayAbstract(){if(dr)return hr;dr=1;Object.defineProperty(hr,"__esModule",{value:!0});hr.RelayAbstract=hr.APP_VERSION_KEY=hr.LOCAL_STORAGE_ADDRESSES_KEY=hr.WALLET_USER_NAME_KEY=void 0;const e=requireError();hr.WALLET_USER_NAME_KEY="walletUsername";hr.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";hr.APP_VERSION_KEY="AppVersion";let t=class{async makeEthereumJSONRPCRequest(t,n){if(!n)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(n,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(n=>{if(!n)throw e.standardErrors.rpc.parse({});const i=n;const{error:s}=i;if(s)throw(0,e.serializeError)(s,t.method);return i})}};hr.RelayAbstract=t;return hr}var fr={};var pr;function requireSession(){if(pr)return fr;pr=1;Object.defineProperty(fr,"__esModule",{value:!0});fr.Session=void 0;const e=requireSha_js();const t=requireUtil$1();const n="session:id";const i="session:secret";const s="session:linked";let o=class o{constructor(n,i,s,o){this._storage=n;this._id=i||(0,t.randomBytesHex)(16);this._secret=s||(0,t.randomBytesHex)(32);this._key=(new e.sha256).update(`${this._id}, ${this._secret} WalletLink`).digest("hex");this._linked=!!o}static load(e){const t=e.getItem(n);const a=e.getItem(s);const c=e.getItem(i);return t&&c?new o(e,t,c,"1"===a):null}static hash(t){return(new e.sha256).update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e;this.persistLinked()}save(){this._storage.setItem(n,this._id);this._storage.setItem(i,this._secret);this.persistLinked();return this}persistLinked(){this._storage.setItem(s,this._linked?"1":"0")}};fr.Session=o;return fr}var gr={};var mr={};var vr;function requireCipher(){if(vr)return mr;vr=1;Object.defineProperty(mr,"__esModule",{value:!0});mr.Cipher=void 0;const e=requireUtil$1();let t=class{constructor(e){this.secret=e}async encrypt(t){const n=this.secret;if(64!==n.length)throw Error("secret must be 256 bits");const i=crypto.getRandomValues(new Uint8Array(12));const s=await crypto.subtle.importKey("raw",(0,e.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]);const o=new TextEncoder;const a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},s,o.encode(t));const c=16;const u=a.slice(a.byteLength-c);const l=a.slice(0,a.byteLength-c);const h=new Uint8Array(u);const d=new Uint8Array(l);const f=new Uint8Array([...i,...h,...d]);return(0,e.uint8ArrayToHex)(f)}async decrypt(t){const n=this.secret;if(64!==n.length)throw Error("secret must be 256 bits");return new Promise((i,s)=>{void async function(){const o=await crypto.subtle.importKey("raw",(0,e.hexStringToUint8Array)(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]);const a=(0,e.hexStringToUint8Array)(t);const c=a.slice(0,12);const u=a.slice(12,28);const l=a.slice(28);const h=new Uint8Array([...l,...u]);const d={name:"AES-GCM",iv:new Uint8Array(c)};try{const e=await window.crypto.subtle.decrypt(d,o,h);const t=new TextDecoder;i(t.decode(e))}catch(f){s(f)}}()})}};mr.Cipher=t;return mr}var yr={};var br;function requireWalletLinkHTTP(){if(br)return yr;br=1;Object.defineProperty(yr,"__esModule",{value:!0});yr.WalletLinkHTTP=void 0;let e=class{constructor(e,t,n){this.linkAPIUrl=e;this.sessionId=t;const i=`${t}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;const t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){const{events:n,error:i}=await t.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=null!==(e=null==n?void 0:n.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))&&void 0!==e?e:[];this.markUnseenEventsAsSeen(s);return s}throw new Error(`Check unseen events failed: ${t.status}`)}};yr.WalletLinkHTTP=e;return yr}var wr={};var Er;function requireWalletLinkWebSocket(){if(Er)return wr;Er=1;Object.defineProperty(wr,"__esModule",{value:!0});wr.WalletLinkWebSocket=wr.ConnectionState=void 0;var e;!function(e){e[e.DISCONNECTED=0]="DISCONNECTED";e[e.CONNECTING=1]="CONNECTING";e[e.CONNECTED=2]="CONNECTED"}(e||(wr.ConnectionState=e={}));let t=class{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t;this.webSocket=null;this.pendingData=[];this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,n)=>{var i;let s;try{this.webSocket=s=new this.WebSocketClass(this.url)}catch(o){n(o);return}null===(i=this.connectionStateListener)||void 0===i?void 0:i.call(this,e.CONNECTING);s.onclose=t=>{var i;this.clearWebSocket();n(new Error(`websocket error ${t.code}: ${t.reason}`));null===(i=this.connectionStateListener)||void 0===i?void 0:i.call(this,e.DISCONNECTED)};s.onopen=n=>{var i;t();null===(i=this.connectionStateListener)||void 0===i?void 0:i.call(this,e.CONNECTED);if(this.pendingData.length>0){const e=[...this.pendingData];e.forEach(e=>this.sendData(e));this.pendingData=[]}};s.onmessage=e=>{var t,n;if("h"===e.data)null===(t=this.incomingDataListener)||void 0===t?void 0:t.call(this,{type:"Heartbeat"});else try{const t=JSON.parse(e.data);null===(n=this.incomingDataListener)||void 0===n?void 0:n.call(this,t)}catch(i){}}})}disconnect(){var t;const{webSocket:n}=this;if(n){this.clearWebSocket();null===(t=this.connectionStateListener)||void 0===t?void 0:t.call(this,e.DISCONNECTED);this.connectionStateListener=void 0;this.incomingDataListener=void 0;try{n.close()}catch(i){}}}sendData(e){const{webSocket:t}=this;if(t)t.send(e);else{this.pendingData.push(e);this.connect()}}clearWebSocket(){const{webSocket:e}=this;if(e){this.webSocket=null;e.onclose=null;e.onerror=null;e.onmessage=null;e.onopen=null}}};wr.WalletLinkWebSocket=t;return wr}var _r;function requireWalletLinkConnection(){if(_r)return gr;_r=1;Object.defineProperty(gr,"__esModule",{value:!0});gr.WalletLinkConnection=void 0;const e=requireType();const t=requireCipher();const n=requireDiagnosticLogger();const i=requireRelayAbstract();const s=requireSession();const o=requireWalletLinkHTTP();const a=requireWalletLinkWebSocket();const c=1e4;const u=6e4;let l=class{constructor({session:u,linkAPIUrl:l,listener:h,diagnostic:d,WebSocketClass:f=WebSocket}){this.destroyed=!1;this.lastHeartbeatResponse=0;this.nextReqId=(0,e.IntNumber)(1);this._connected=!1;this._linked=!1;this.shouldFetchUnseenEventsOnConnect=!1;this.requestResolutions=new Map;this.handleSessionMetadataUpdated=e=>{if(!e)return;const t=new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]);t.forEach((t,n)=>{const i=e[n];void 0!==i&&t(i)})};this.handleDestroyed=e=>{var t,i;if("1"===e){null===(t=this.listener)||void 0===t?void 0:t.resetAndReload();null===(i=this.diagnostic)||void 0===i?void 0:i.log(n.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:s.Session.hash(this.session.id)})}};this.handleAccountUpdated=async e=>{var t,i;try{const n=await this.cipher.decrypt(e);null===(t=this.listener)||void 0===t?void 0:t.accountUpdated(n)}catch(s){null===(i=this.diagnostic)||void 0===i?void 0:i.log(n.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}};this.handleMetadataUpdated=async(e,t)=>{var i,s;try{const n=await this.cipher.decrypt(t);null===(i=this.listener)||void 0===i?void 0:i.metadataUpdated(e,n)}catch(o){null===(s=this.diagnostic)||void 0===s?void 0:s.log(n.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:e})}};this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated(i.WALLET_USER_NAME_KEY,e)};this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated(i.APP_VERSION_KEY,e)};this.handleChainUpdated=async(e,t)=>{var i,s;try{const n=await this.cipher.decrypt(e);const s=await this.cipher.decrypt(t);null===(i=this.listener)||void 0===i?void 0:i.chainUpdated(n,s)}catch(o){null===(s=this.diagnostic)||void 0===s?void 0:s.log(n.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}};this.session=u;this.cipher=new t.Cipher(u.secret);this.diagnostic=d;this.listener=h;const p=new a.WalletLinkWebSocket(`${l}/rpc`,f);p.setConnectionStateListener(async e=>{var t;null===(t=this.diagnostic)||void 0===t?void 0:t.log(n.EVENTS.CONNECTED_STATE_CHANGE,{state:e,sessionIdHash:s.Session.hash(u.id)});let i=!1;switch(e){case a.ConnectionState.DISCONNECTED:if(!this.destroyed){const connect=async()=>{await new Promise(e=>setTimeout(e,5e3));this.destroyed||p.connect().catch(()=>{connect()})};connect()}break;case a.ConnectionState.CONNECTED:try{await this.authenticate();this.sendIsLinked();this.sendGetSessionConfig();i=!0}catch(o){}this.updateLastHeartbeat();setInterval(()=>{this.heartbeat()},c);this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case a.ConnectionState.CONNECTING:}this.connected!==i&&(this.connected=i)});p.setIncomingDataListener(e=>{var t,i,o;switch(e.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const i="IsLinkedOK"===e.type?e.linked:void 0;null===(t=this.diagnostic)||void 0===t?void 0:t.log(n.EVENTS.LINKED,{sessionIdHash:s.Session.hash(u.id),linked:i,type:e.type,onlineGuests:e.onlineGuests});this.linked=i||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":null===(i=this.diagnostic)||void 0===i?void 0:i.log(n.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:s.Session.hash(u.id),metadata_keys:e&&e.metadata?Object.keys(e.metadata):void 0});this.handleSessionMetadataUpdated(e.metadata);break;case"Event":this.handleIncomingEvent(e)}void 0!==e.id&&(null===(o=this.requestResolutions.get(e.id))||void 0===o?void 0:o(e))});this.ws=p;this.http=new o.WalletLinkHTTP(l,u.id,u.key)}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");null===(e=this.diagnostic)||void 0===e?void 0:e.log(n.EVENTS.STARTED_CONNECTING,{sessionIdHash:s.Session.hash(this.session.id)});this.ws.connect()}destroy(){var e;this.destroyed=!0;this.ws.disconnect();null===(e=this.diagnostic)||void 0===e?void 0:e.log(n.EVENTS.DISCONNECTED,{sessionIdHash:s.Session.hash(this.session.id)});this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(e){var t,n;this._connected=e;e&&(null===(t=this.onceConnected)||void 0===t?void 0:t.call(this));null===(n=this.listener)||void 0===n?void 0:n.connectedUpdated(e)}setOnceConnected(e){return new Promise(t=>{this.connected?e().then(t):this.onceConnected=()=>{e().then(t);this.onceConnected=void 0}})}get linked(){return this._linked}set linked(e){var t,n;this._linked=e;e&&(null===(t=this.onceLinked)||void 0===t?void 0:t.call(this));null===(n=this.listener)||void 0===n?void 0:n.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t);this.onceLinked=void 0}})}async handleIncomingEvent(e){var t,i;if("Event"===e.type&&"Web3Response"===e.event)try{const n=await this.cipher.decrypt(e.data);const i=JSON.parse(n);if("WEB3_RESPONSE"!==i.type)return;null===(t=this.listener)||void 0===t?void 0:t.handleWeb3ResponseMessage(i)}catch(s){null===(i=this.diagnostic)||void 0===i?void 0:i.log(n.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(this.connected){await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}else this.shouldFetchUnseenEventsOnConnect=!0}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1;const e=await this.http.fetchUnseenEvents();e.forEach(e=>this.handleIncomingEvent(e))}async setSessionMetadata(t,n){const i={type:"SetSessionConfig",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:n}};return this.setOnceConnected(async()=>{const e=await this.makeRequest(i);if("Fail"===e.type)throw new Error(e.error||"failed to set session metadata")})}async publishEvent(t,n,i=!1){const s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"})));const o={type:"PublishEvent",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:s,callWebhook:i};return this.setOnceLinked(async()=>{const e=await this.makeRequest(o);if("Fail"===e.type)throw new Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2*c)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t=u){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((e,s)=>{i=window.setTimeout(()=>{s(new Error(`request ${n} timed out`))},t)}),new Promise(e=>{this.requestResolutions.set(n,t=>{clearTimeout(i);e(t);this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key};const n=await this.makeRequest(t);if("Fail"===n.type)throw new Error(n.error||"failed to authentcate")}sendIsLinked(){const t={type:"IsLinked",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,e.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}};gr.WalletLinkConnection=l;return gr}var Sr={};var Rr={};var kr={};var Mr;function requireCssResetCss(){if(Mr)return kr;Mr=1;Object.defineProperty(kr,"__esModule",{value:!0});kr.default=(()=>'@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')();return kr}var Cr;function requireCssReset(){if(Cr)return Rr;Cr=1;var e=Rr&&Rr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.injectCssReset=void 0;const t=e(requireCssResetCss());function injectCssReset(){const e=document.createElement("style");e.type="text/css";e.appendChild(document.createTextNode(t.default));document.documentElement.appendChild(e)}Rr.injectCssReset=injectCssReset;return Rr}var Ir={};const Ar=i(c);var xr={};function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function clsx(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}const Nr=Object.freeze(Object.defineProperty({__proto__:null,clsx:clsx,default:clsx},Symbol.toStringTag,{value:"Module"}));const Br=i(Nr);const Tr=i(u);var qr={};var Pr={};var Or;function requireCloseIcon(){if(Or)return Pr;Or=1;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.CloseIcon=void 0;const e=Ar;function CloseIcon$1(t){return(0,e.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Pr.CloseIcon=CloseIcon$1;return Pr}var Lr={};var Fr;function requireCoinbaseWalletRound(){if(Fr)return Lr;Fr=1;Object.defineProperty(Lr,"__esModule",{value:!0});Lr.CoinbaseWalletRound=void 0;const e=Ar;function CoinbaseWalletRound$1(t){return(0,e.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,e.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,e.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}Lr.CoinbaseWalletRound=CoinbaseWalletRound$1;return Lr}var jr={};var Dr;function requireQRCodeIcon(){if(Dr)return jr;Dr=1;Object.defineProperty(jr,"__esModule",{value:!0});jr.QRCodeIcon=void 0;const e=Ar;function QRCodeIcon$1(t){return(0,e.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,e.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,e.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,e.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}jr.QRCodeIcon=QRCodeIcon$1;return jr}var $r={};var Ur;var Hr;function requireQrcodeSvg(){if(Hr)return Ur;Hr=1;function QR8bitByte(t){this.mode=e.MODE_8BIT_BYTE;this.data=t;this.parsedData=[];for(var n=0,i=this.data.length;n<i;n++){var s=[];var o=this.data.charCodeAt(n);if(o>65536){s[0]=240|(1835008&o)>>>18;s[1]=128|(258048&o)>>>12;s[2]=128|(4032&o)>>>6;s[3]=128|63&o}else if(o>2048){s[0]=224|(61440&o)>>>12;s[1]=128|(4032&o)>>>6;s[2]=128|63&o}else if(o>128){s[0]=192|(1984&o)>>>6;s[1]=128|63&o}else s[0]=o;this.parsedData.push(s)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);if(this.parsedData.length!=this.data.length){this.parsedData.unshift(191);this.parsedData.unshift(187);this.parsedData.unshift(239)}}QR8bitByte.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}};function QRCodeModel(e,t){this.typeNumber=e;this.errorCorrectLevel=t;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}QRCodeModel.prototype={addData:function(e){var t=new QR8bitByte(e);this.dataList.push(t);this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17;this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(e,t);this.typeNumber>=7&&this.setupTypeNumber(e);null==this.dataCache&&(this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){var e=0;var t=0;for(var n=0;n<8;n++){this.makeImpl(!0,n);var s=i.getLostPoint(this);if(0==n||e>s){e=s;t=n}}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);var s=1;this.make();for(var o=0;o<this.modules.length;o++){var a=o*s;for(var c=0;c<this.modules[o].length;c++){var u=c*s;var l=this.modules[o][c];if(l){i.beginFill(0,100);i.moveTo(u,a);i.lineTo(u+s,a);i.lineTo(u+s,a+s);i.lineTo(u,a+s);i.endFill()}}}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){var e=i.getPatternPosition(this.typeNumber);for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var s=e[t];var o=e[n];if(null==this.modules[s][o])for(var a=-2;a<=2;a++)for(var c=-2;c<=2;c++)this.modules[s+a][o+c]=-2==a||2==a||-2==c||2==c||0==a&&0==c}},setupTypeNumber:function(e){var t=i.getBCHTypeNumber(this.typeNumber);for(var n=0;n<18;n++){var s=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=s}for(n=0;n<18;n++){s=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=s}},setupTypeInfo:function(e,t){var n=this.errorCorrectLevel<<3|t;var s=i.getBCHTypeInfo(n);for(var o=0;o<15;o++){var a=!e&&1==(s>>o&1);o<6?this.modules[o][8]=a:o<8?this.modules[o+1][8]=a:this.modules[this.moduleCount-15+o][8]=a}for(o=0;o<15;o++){a=!e&&1==(s>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=a:o<9?this.modules[8][15-o-1+1]=a:this.modules[8][15-o-1]=a}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){var n=-1;var s=this.moduleCount-1;var o=7;var a=0;for(var c=this.moduleCount-1;c>0;c-=2){6==c&&c--;for(;;){for(var u=0;u<2;u++)if(null==this.modules[s][c-u]){var l=!1;a<e.length&&(l=1==(e[a]>>>o&1));var h=i.getMask(t,s,c-u);h&&(l=!l);this.modules[s][c-u]=l;o--;if(-1==o){a++;o=7}}s+=n;if(s<0||this.moduleCount<=s){s-=n;n=-n;break}}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(e,t,n){var s=QRRSBlock.getRSBlocks(e,t);var o=new QRBitBuffer;for(var a=0;a<n.length;a++){var c=n[a];o.put(c.mode,4);o.put(c.getLength(),i.getLengthInBits(c.mode,e));c.write(o)}var u=0;for(a=0;a<s.length;a++)u+=s[a].dataCount;if(o.getLengthInBits()>8*u)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*u+")");o.getLengthInBits()+4<=8*u&&o.put(0,4);for(;o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*u);){o.put(QRCodeModel.PAD0,8);if(o.getLengthInBits()>=8*u)break;o.put(QRCodeModel.PAD1,8)}return QRCodeModel.createBytes(o,s)};QRCodeModel.createBytes=function(e,t){var n=0;var s=0;var o=0;var a=new Array(t.length);var c=new Array(t.length);for(var u=0;u<t.length;u++){var l=t[u].dataCount;var h=t[u].totalCount-l;s=Math.max(s,l);o=Math.max(o,h);a[u]=new Array(l);for(var d=0;d<a[u].length;d++)a[u][d]=255&e.buffer[d+n];n+=l;var f=i.getErrorCorrectPolynomial(h);var p=new QRPolynomial(a[u],f.getLength()-1);var g=p.mod(f);c[u]=new Array(f.getLength()-1);for(d=0;d<c[u].length;d++){var m=d+g.getLength()-c[u].length;c[u][d]=m>=0?g.get(m):0}}var v=0;for(d=0;d<t.length;d++)v+=t[d].totalCount;var y=new Array(v);var b=0;for(d=0;d<s;d++)for(u=0;u<t.length;u++)d<a[u].length&&(y[b++]=a[u][d]);for(d=0;d<o;d++)for(u=0;u<t.length;u++)d<c[u].length&&(y[b++]=c[u][d]);return y};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};var t={L:1,M:0,Q:3,H:2};var n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){var t=e<<10;for(;i.getBCHDigit(t)-i.getBCHDigit(i.G15)>=0;)t^=i.G15<<i.getBCHDigit(t)-i.getBCHDigit(i.G15);return(e<<10|t)^i.G15_MASK},getBCHTypeNumber:function(e){var t=e<<12;for(;i.getBCHDigit(t)-i.getBCHDigit(i.G18)>=0;)t^=i.G18<<i.getBCHDigit(t)-i.getBCHDigit(i.G18);return e<<12|t},getBCHDigit:function(e){var t=0;for(;0!=e;){t++;e>>>=1}return t},getPatternPosition:function(e){return i.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case n.PATTERN000:return(t+i)%2==0;case n.PATTERN001:return t%2==0;case n.PATTERN010:return i%3==0;case n.PATTERN011:return(t+i)%3==0;case n.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case n.PATTERN101:return t*i%2+t*i%3==0;case n.PATTERN110:return(t*i%2+t*i%3)%2==0;case n.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){var t=new QRPolynomial([1],0);for(var n=0;n<e;n++)t=t.multiply(new QRPolynomial([1,s.gexp(n)],0));return t},getLengthInBits:function(t,n){if(1<=n&&n<10)switch(t){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:case e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(n<27)switch(t){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(n<41))throw new Error("type:"+n);switch(t){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(e){var t=e.getModuleCount();var n=0;for(var i=0;i<t;i++)for(var s=0;s<t;s++){var o=0;var a=e.isDark(i,s);for(var c=-1;c<=1;c++)if(!(i+c<0||t<=i+c))for(var u=-1;u<=1;u++)s+u<0||t<=s+u||0==c&&0==u||a==e.isDark(i+c,s+u)&&o++;o>5&&(n+=3+o-5)}for(i=0;i<t-1;i++)for(s=0;s<t-1;s++){var l=0;e.isDark(i,s)&&l++;e.isDark(i+1,s)&&l++;e.isDark(i,s+1)&&l++;e.isDark(i+1,s+1)&&l++;0!=l&&4!=l||(n+=3)}for(i=0;i<t;i++)for(s=0;s<t-6;s++)e.isDark(i,s)&&!e.isDark(i,s+1)&&e.isDark(i,s+2)&&e.isDark(i,s+3)&&e.isDark(i,s+4)&&!e.isDark(i,s+5)&&e.isDark(i,s+6)&&(n+=40);for(s=0;s<t;s++)for(i=0;i<t-6;i++)e.isDark(i,s)&&!e.isDark(i+1,s)&&e.isDark(i+2,s)&&e.isDark(i+3,s)&&e.isDark(i+4,s)&&!e.isDark(i+5,s)&&e.isDark(i+6,s)&&(n+=40);var h=0;for(s=0;s<t;s++)for(i=0;i<t;i++)e.isDark(i,s)&&h++;var d=Math.abs(100*h/t/t-50)/5;n+=10*d;return n}};var s={glog:function(e){if(e<1)throw new Error("glog("+e+")");return s.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return s.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var o=0;o<8;o++)s.EXP_TABLE[o]=1<<o;for(o=8;o<256;o++)s.EXP_TABLE[o]=s.EXP_TABLE[o-4]^s.EXP_TABLE[o-5]^s.EXP_TABLE[o-6]^s.EXP_TABLE[o-8];for(o=0;o<255;o++)s.LOG_TABLE[s.EXP_TABLE[o]]=o;function QRPolynomial(e,t){if(null==e.length)throw new Error(e.length+"/"+t);var n=0;for(;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}QRPolynomial.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){var t=new Array(this.getLength()+e.getLength()-1);for(var n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=s.gexp(s.glog(this.get(n))+s.glog(e.get(i)));return new QRPolynomial(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;var t=s.glog(this.get(0))-s.glog(e.get(0));var n=new Array(this.getLength());for(var i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<e.getLength();i++)n[i]^=s.gexp(s.glog(e.get(i))+t);return new QRPolynomial(n,0).mod(e)}};function QRRSBlock(e,t){this.totalCount=e;this.dataCount=t}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(e,t){var n=QRRSBlock.getRsBlockTable(e,t);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);var i=n.length/3;var s=[];for(var o=0;o<i;o++){var a=n[3*o+0];var c=n[3*o+1];var u=n[3*o+2];for(var l=0;l<a;l++)s.push(new QRRSBlock(c,u))}return s};QRRSBlock.getRsBlockTable=function(e,n){switch(n){case t.L:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+0];case t.M:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+1];case t.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+2];case t.H:return QRRSBlock.RS_BLOCK_TABLE[4*(e-1)+3];default:return}};function QRBitBuffer(){this.buffer=[];this.length=0}QRBitBuffer.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0);e&&(this.buffer[t]|=128>>>this.length%8);this.length++}};var a=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function QRCode2(e){this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}};"string"==typeof e&&(e={content:e});if(e)for(var n in e)this.options[n]=e[n];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0&&this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function _getErrorCorrectLevel(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Error("Unknwon error correction level: "+e)}}function _getTypeNumber(e,t){var n=_getUTF8Length(e);var i=1;var s=0;for(var o=0,c=a.length;o<=c;o++){var u=a[o];if(!u)throw new Error("Content too long: expected "+s+" but got "+n);switch(t){case"L":s=u[0];break;case"M":s=u[1];break;case"Q":s=u[2];break;case"H":s=u[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(n<=s)break;i++}if(i>a.length)throw new Error("Content too long");return i}function _getUTF8Length(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}var i=this.options.content;var s=_getTypeNumber(i,this.options.ecl);var o=_getErrorCorrectLevel(this.options.ecl);this.qrcode=new QRCodeModel(s,o);this.qrcode.addData(i);this.qrcode.make()}QRCode2.prototype.svg=function(e){var t=this.options||{};var n=this.qrcode.modules;"undefined"==typeof e&&(e={container:t.container||"svg"});var i="undefined"==typeof t.pretty||!!t.pretty;var s=i?"  ":"";var o=i?"\r\n":"";var a=t.width;var c=t.height;var u=n.length;var l=a/(u+2*t.padding);var h=c/(u+2*t.padding);var d="undefined"!=typeof t.join&&!!t.join;var f="undefined"!=typeof t.swap&&!!t.swap;var p="undefined"==typeof t.xmlDeclaration||!!t.xmlDeclaration;var g="undefined"!=typeof t.predefined&&!!t.predefined;var m=g?s+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+l+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+o:"";var v=s+'<rect x="0" y="0" width="'+a+'" height="'+c+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+o;var y="";var b="";for(var w=0;w<u;w++)for(var E=0;E<u;E++){var _=n[E][w];if(_){var S=E*l+t.padding*l;var R=w*h+t.padding*h;if(f){var k=S;S=R;R=k}if(d){var M=l+S;var C=h+R;S=Number.isInteger(S)?Number(S):S.toFixed(2);R=Number.isInteger(R)?Number(R):R.toFixed(2);M=Number.isInteger(M)?Number(M):M.toFixed(2);C=Number.isInteger(C)?Number(C):C.toFixed(2);b+="M"+S+","+R+" V"+C+" H"+M+" V"+R+" H"+S+" Z "}else y+=g?s+'<use x="'+S.toString()+'" y="'+R.toString()+'" href="#qrmodule" />'+o:s+'<rect x="'+S.toString()+'" y="'+R.toString()+'" width="'+l+'" height="'+h+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+o}}d&&(y=s+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+b+'" />');let I="";if(void 0!==this.options.image&&this.options.image.svg){const e=a*this.options.image.width/100;const t=c*this.options.image.height/100;const n=a/2-e/2;const i=c/2-t/2;I+=`<svg x="${n}" y="${i}" width="${e}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`;I+=this.options.image.svg+o;I+="</svg>"}var A="";switch(e.container){case"svg":p&&(A+='<?xml version="1.0" standalone="yes"?>'+o);A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+c+'">'+o;A+=m+v+y;A+=I;A+="</svg>";break;case"svg-viewbox":p&&(A+='<?xml version="1.0" standalone="yes"?>'+o);A+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+c+'">'+o;A+=m+v+y;A+=I;A+="</svg>";break;case"g":A+='<g width="'+a+'" height="'+c+'">'+o;A+=m+v+y;A+=I;A+="</g>";break;default:A+=(m+v+y+I).replace(/^\s+/,"")}return A};Ur=QRCode2;return Ur}var Wr;function requireQRCode(){if(Wr)return $r;Wr=1;var e=$r&&$r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($r,"__esModule",{value:!0});$r.QRCode=void 0;const t=Ar;const n=Tr;const i=e(requireQrcodeSvg());const QRCode$1=e=>{const[s,o]=(0,n.useState)("");(0,n.useEffect)(()=>{var t,n;const s=new i.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:null!==(t=e.width)&&void 0!==t?t:256,height:null!==(n=e.height)&&void 0!==n?n:256,padding:0,image:e.image});const a=Buffer.from(s.svg(),"utf8").toString("base64");o(`data:image/svg+xml;base64,${a}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]);return s?(0,t.h)("img",{src:s,alt:"QR Code"}):null};$r.QRCode=QRCode$1;return $r}var Vr={};var zr={};var Jr;function requireSpinnerCss(){if(Jr)return zr;Jr=1;Object.defineProperty(zr,"__esModule",{value:!0});zr.default=(()=>".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}")();return zr}var Gr;function requireSpinner(){if(Gr)return Vr;Gr=1;var e=Vr&&Vr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.Spinner=void 0;const t=Ar;const n=e(requireSpinnerCss());const Spinner$1=e=>{var i;const s=null!==(i=e.size)&&void 0!==i?i:64;const o=e.color||"#000";return(0,t.h)("div",{class:"-cbwsdk-spinner"},(0,t.h)("style",null,n.default),(0,t.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:s,height:s}},(0,t.h)("circle",{style:{cx:50,cy:50,r:45,stroke:o}})))};Vr.Spinner=Spinner$1;return Vr}var Qr={};var Zr;function requireConnectContentCss(){if(Zr)return Qr;Zr=1;Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}")();return Qr}var Kr;function requireConnectContent(){if(Kr)return qr;Kr=1;var e=qr&&qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qr,"__esModule",{value:!0});qr.CoinbaseWalletSteps=qr.ConnectContent=void 0;const t=e(Br);const n=Ar;const i=requireUtil$1();const s=requireVersion();const o=requireCloseIcon();const a=requireCoinbaseWalletRound();const c=requireQRCodeIcon();const u=requireQRCode();const l=requireSpinner();const h=e(requireConnectContentCss());const d={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:CoinbaseWalletSteps};const makeIconColor=e=>"light"===e?"#FFFFFF":"#0A0B0D";function ConnectContent$1(e){const{theme:a}=e;const c=(0,i.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId);const f=d.steps;return(0,n.h)("div",{"data-testid":"connect-content",className:(0,t.default)("-cbwsdk-connect-content",a)},(0,n.h)("style",null,h.default),(0,n.h)("div",{className:"-cbwsdk-connect-content-header"},(0,n.h)("h2",{className:(0,t.default)("-cbwsdk-connect-content-heading",a)},"Scan to connect with our mobile app"),e.onCancel&&(0,n.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,n.h)(o.CloseIcon,{fill:"light"===a?"#0A0B0D":"#FFFFFF"}))),(0,n.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,n.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,n.h)(ConnectItem,{title:d.title,description:d.description,theme:a})),(0,n.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,n.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,n.h)(u.QRCode,{content:c,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,n.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:s.LIB_VERSION}),(0,n.h)("input",{type:"hidden",value:c})),(0,n.h)(f,{theme:a}),!e.isConnected&&(0,n.h)("div",{"data-testid":"connecting-spinner",className:(0,t.default)("-cbwsdk-connect-content-qr-connecting",a)},(0,n.h)(l.Spinner,{size:36,color:"dark"===a?"#FFF":"#000"}),(0,n.h)("p",null,"Connecting...")))))}qr.ConnectContent=ConnectContent$1;function ConnectItem({title:e,description:i,theme:s}){return(0,n.h)("div",{className:(0,t.default)("-cbwsdk-connect-item",s)},(0,n.h)("div",null,(0,n.h)(a.CoinbaseWalletRound,null)),(0,n.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,n.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,n.h)("p",{className:"-cbwsdk-connect-item-description"},i)))}function CoinbaseWalletSteps({theme:e}){return(0,n.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,n.h)("li",{className:(0,t.default)("-cbwsdk-wallet-steps-item",e)},(0,n.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,n.h)("li",{className:(0,t.default)("-cbwsdk-wallet-steps-item",e)},(0,n.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,n.h)("span",null,"Tap ",(0,n.h)("strong",null,"Scan")," "),(0,n.h)("span",{className:(0,t.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,n.h)(c.QRCodeIcon,{fill:makeIconColor(e)})))))}qr.CoinbaseWalletSteps=CoinbaseWalletSteps;return qr}var Yr={};var Xr={};var en;function requireArrowLeftIcon(){if(en)return Xr;en=1;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.ArrowLeftIcon=void 0;const e=Ar;function ArrowLeftIcon$1(t){return(0,e.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Xr.ArrowLeftIcon=ArrowLeftIcon$1;return Xr}var tn={};var rn;function requireLaptopIcon(){if(rn)return tn;rn=1;Object.defineProperty(tn,"__esModule",{value:!0});tn.LaptopIcon=void 0;const e=Ar;function LaptopIcon$1(t){return(0,e.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,e.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}tn.LaptopIcon=LaptopIcon$1;return tn}var nn={};var sn;function requireSafeIcon(){if(sn)return nn;sn=1;Object.defineProperty(nn,"__esModule",{value:!0});nn.SafeIcon=void 0;const e=Ar;function SafeIcon$1(t){return(0,e.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}nn.SafeIcon=SafeIcon$1;return nn}var on={};var an;function requireTryExtensionContentCss(){if(an)return on;an=1;Object.defineProperty(on,"__esModule",{value:!0});on.default=(()=>".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}")();return on}var cn;function requireTryExtensionContent(){if(cn)return Yr;cn=1;var e=Yr&&Yr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.TryExtensionContent=void 0;const t=e(Br);const n=Ar;const i=Tr;const s=requireArrowLeftIcon();const o=requireLaptopIcon();const a=requireSafeIcon();const c=e(requireTryExtensionContentCss());function TryExtensionContent$1({theme:e}){const[u,l]=(0,i.useState)(!1);const h=(0,i.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]);const d=(0,i.useCallback)(()=>{if(u)window.location.reload();else{h();l(!0)}},[h,u]);return(0,n.h)("div",{class:(0,t.default)("-cbwsdk-try-extension",e)},(0,n.h)("style",null,c.default),(0,n.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,n.h)("h3",{class:(0,t.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,n.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,n.h)("button",{class:(0,t.default)("-cbwsdk-try-extension-cta",e),onClick:d},u?"Refresh":"Install"),(0,n.h)("div",null,!u&&(0,n.h)(s.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:"light"===e?"#0052FF":"#588AF5"})))),(0,n.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,n.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,n.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,n.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,n.h)("span",{class:(0,t.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,n.h)(o.LaptopIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,n.h)("div",{class:(0,t.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,n.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,n.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,n.h)("span",{class:(0,t.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,n.h)(a.SafeIcon,{fill:"light"===e?"#0A0B0D":"#FFFFFF"}))),(0,n.h)("div",{class:(0,t.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Yr.TryExtensionContent=TryExtensionContent$1;return Yr}var un={};var ln;function requireConnectDialogCss(){if(ln)return un;ln=1;Object.defineProperty(un,"__esModule",{value:!0});un.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}")();return un}var hn;function requireConnectDialog(){if(hn)return xr;hn=1;var e=xr&&xr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xr,"__esModule",{value:!0});xr.ConnectDialog=void 0;const t=e(Br);const n=Ar;const i=Tr;const s=requireConnectContent();const o=requireTryExtensionContent();const a=e(requireConnectDialogCss());const ConnectDialog$1=e=>{const{isOpen:c,darkMode:u}=e;const[l,h]=(0,i.useState)(!c);const[d,f]=(0,i.useState)(!c);(0,i.useEffect)(()=>{const e=[window.setTimeout(()=>{f(!c)},10)];c?h(!1):e.push(window.setTimeout(()=>{h(!0)},360));return()=>{e.forEach(window.clearTimeout)}},[c]);const p=u?"dark":"light";return(0,n.h)("div",{class:(0,t.default)("-cbwsdk-connect-dialog-container",l&&"-cbwsdk-connect-dialog-container-hidden")},(0,n.h)("style",null,a.default),(0,n.h)("div",{class:(0,t.default)("-cbwsdk-connect-dialog-backdrop",p,d&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,n.h)("div",{class:"-cbwsdk-connect-dialog"},(0,n.h)("div",{class:(0,t.default)("-cbwsdk-connect-dialog-box",d&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,n.h)(s.ConnectContent,{theme:p,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,n.h)(o.TryExtensionContent,{theme:p}))))};xr.ConnectDialog=ConnectDialog$1;return xr}var dn;function requireLinkFlow(){if(dn)return Ir;dn=1;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.LinkFlow=void 0;const e=Ar;const t=requireConnectDialog();let n=class{constructor(e){this.connected=!1;this.chainId=1;this.isOpen=!1;this.onCancel=null;this.root=null;this.connectDisabled=!1;this.darkMode=e.darkMode;this.version=e.version;this.sessionId=e.sessionId;this.sessionSecret=e.sessionSecret;this.linkAPIUrl=e.linkAPIUrl;this.isParentConnection=e.isParentConnection}attach(e){this.root=document.createElement("div");this.root.className="-cbwsdk-link-flow-root";e.appendChild(this.root);this.render()}setConnected(e){if(this.connected!==e){this.connected=e;this.render()}}setChainId(e){if(this.chainId!==e){this.chainId=e;this.render()}}detach(){var t;if(this.root){(0,e.render)(null,this.root);null===(t=this.root.parentElement)||void 0===t?void 0:t.removeChild(this.root)}}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0;this.onCancel=e.onCancel;this.render()}close(){this.isOpen=!1;this.onCancel=null;this.render()}render(){this.root&&(0,e.render)((0,e.h)(t.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}};Ir.LinkFlow=n;return Ir}var fn={};var pn={};var gn;function requireSnackbarCss(){if(gn)return pn;gn=1;Object.defineProperty(pn,"__esModule",{value:!0});pn.default=(()=>".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}")();return pn}var mn;function requireSnackbar$1(){if(mn)return fn;mn=1;!function(e){var t=fn&&fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const n=t(Br);const i=Ar;const s=Tr;const o=t(requireSnackbarCss());const a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";const c="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class u{constructor(e){this.items=new Map;this.nextItemKey=0;this.root=null;this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div");this.root.className="-cbwsdk-snackbar-root";e.appendChild(this.root);this.render()}presentItem(e){const t=this.nextItemKey++;this.items.set(t,e);this.render();return()=>{this.items.delete(t);this.render()}}clear(){this.items.clear();this.render()}render(){this.root&&(0,i.render)((0,i.h)("div",null,(0,i.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([t,n])=>(0,i.h)(e.SnackbarInstance,Object.assign({},n,{key:t}))))),this.root)}}e.Snackbar=u;const SnackbarContainer=e=>(0,i.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-container")},(0,i.h)("style",null,o.default),(0,i.h)("div",{class:"-cbwsdk-snackbar"},e.children));e.SnackbarContainer=SnackbarContainer;const SnackbarInstance=({autoExpand:e,message:t,menuItems:o})=>{const[u,l]=(0,s.useState)(!0);const[h,d]=(0,s.useState)(null!=e&&e);(0,s.useEffect)(()=>{const e=[window.setTimeout(()=>{l(!1)},1),window.setTimeout(()=>{d(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}});const toggleExpanded=()=>{d(!h)};return(0,i.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance",u&&"-cbwsdk-snackbar-instance-hidden",h&&"-cbwsdk-snackbar-instance-expanded")},(0,i.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:toggleExpanded},(0,i.h)("img",{src:a,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,i.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),(0,i.h)("div",{class:"-gear-container"},!h&&(0,i.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,i.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,i.h)("img",{src:c,class:"-gear-icon",title:"Expand"}))),o&&o.length>0&&(0,i.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},o.map((e,t)=>(0,i.h)("div",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,i.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,i.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,i.h)("span",{class:(0,n.default)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))};e.SnackbarInstance=SnackbarInstance}(fn);return fn}var vn;function requireWalletLinkRelayUI(){if(vn)return Sr;vn=1;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.WalletLinkRelayUI=void 0;const e=requireCssReset();const t=requireLinkFlow();const n=requireSnackbar$1();let i=class{constructor(e){this.standalone=null;this.attached=!1;this.snackbar=new n.Snackbar({darkMode:e.darkMode});this.linkFlow=new t.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement;const n=document.createElement("div");n.className="-cbwsdk-css-reset";t.appendChild(n);this.linkFlow.attach(n);this.snackbar.attach(n);this.attached=!0;(0,e.injectCssReset)()}setConnected(e){this.linkFlow.setConnected(e)}setChainId(e){this.linkFlow.setChainId(e)}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(e){let t;t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]};return this.snackbar.presentItem(t)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return null!==(e=this.standalone)&&void 0!==e&&e}};Sr.WalletLinkRelayUI=i;return Sr}var yn;function requireWalletLinkRelay(){if(yn)return cr;yn=1;Object.defineProperty(cr,"__esModule",{value:!0});cr.WalletLinkRelay=void 0;const e=requireError();const t=requireType();const n=requireUtil$1();const i=requireDiagnosticLogger();const s=requireRelayAbstract();const o=requireSession();const a=requireWalletLinkConnection();const c=requireWeb3Response();const u=requireWalletLinkRelayUI();let l=class l extends s.RelayAbstract{constructor(e){var t;super();this.accountsCallback=null;this.chainCallbackParams={chainId:"",jsonRpcUrl:""};this.chainCallback=null;this.dappDefaultChain=1;this.appName="";this.appLogoUrl=null;this.linkedUpdated=e=>{var t;this.isLinked=e;const n=this.storage.getItem(s.LOCAL_STORAGE_ADDRESSES_KEY);e&&(this.session.linked=e);this.isUnlinkedErrorState=!1;if(n){const s=n.split(" ");const o="true"===this.storage.getItem("IsStandaloneSigning");if(""!==s[0]&&!e&&this.session.linked&&!o){this.isUnlinkedErrorState=!0;const e=this.getSessionIdHash();null===(t=this.diagnostic)||void 0===t?void 0:t.log(i.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:e})}}};this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)};this.chainUpdated=(e,t)=>{if(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t){this.chainCallbackParams={chainId:e,jsonRpcUrl:t};this.chainCallback&&this.chainCallback(e,t)}};this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]);if(l.accountRequestCallbackIds.size>0){Array.from(l.accountRequestCallbackIds.values()).forEach(t=>{const n={type:"WEB3_RESPONSE",id:t,response:{method:"requestEthereumAccounts",result:[e]}};this.invokeCallback(Object.assign(Object.assign({},n),{id:t}))});l.accountRequestCallbackIds.clear()}};this.connectedUpdated=e=>{this.ui.setConnected(e)};this.resetAndReload=this.resetAndReload.bind(this);this.linkAPIUrl=e.linkAPIUrl;this.storage=e.storage;this.options=e;const{session:n,ui:o,connection:a}=this.subscribe();this._session=n;this.connection=a;this.relayEventManager=e.relayEventManager;this.diagnostic=e.diagnosticLogger;this._reloadOnDisconnect=null===(t=e.reloadOnDisconnect)||void 0===t||t;this.ui=o}subscribe(){const e=o.Session.load(this.storage)||new o.Session(this.storage).save();const{linkAPIUrl:t,diagnostic:n}=this;const i=new a.WalletLinkConnection({session:e,linkAPIUrl:t,diagnostic:n,listener:this});const{version:s,darkMode:c}=this.options;const u=this.options.uiConstructor({linkAPIUrl:t,version:s,darkMode:c,session:e});i.connect();return{session:e,ui:u,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(e=>setTimeout(()=>e(null),1e3))]).then(()=>{var e,t;const n=this.ui.isStandalone();null===(e=this.diagnostic)||void 0===e?void 0:e.log(i.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()});this.connection.destroy();const s=o.Session.load(this.storage);(null==s?void 0:s.id)===this._session.id?this.storage.clear():s&&(null===(t=this.diagnostic)||void 0===t?void 0:t.log(i.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:o.Session.hash(s.id)}));if(this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:c,connection:u}=this.subscribe();this._session=a;this.connection=u;this.ui=c;n&&this.ui.setStandalone&&this.ui.setStandalone(!0);this.options.headlessMode||this.attachUI()}).catch(e=>{var t;null===(t=this.diagnostic)||void 0===t?void 0:t.log(i.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,t){this.appName=e;this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,i,s){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,n.hexStringFromBuffer)(e,!0),address:t,addPrefix:i,typedDataJson:s||null}})}ethereumAddressFromSignedMessage(e,t,i){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,n.hexStringFromBuffer)(e,!0),signature:(0,n.hexStringFromBuffer)(t,!0),addPrefix:i}})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,n.bigIntStringFromBN)(e.weiValue),data:(0,n.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,n.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,n.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,n.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,n.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,n.bigIntStringFromBN)(e.weiValue),data:(0,n.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,n.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,n.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,n.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,n.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,n.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:"scanQRCode",params:{regExp:e}})}getQRCodeUrl(){return(0,n.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,t){return this.sendRequest({method:"generic",params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let t=null;const i=(0,n.randomBytesHex)(8);const cancel=n=>{this.publishWeb3RequestCanceledEvent(i);this.handleErrorResponse(i,e.method,n);null==t?void 0:t()};const s=new Promise((n,s)=>{this.ui.isStandalone()||(t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:cancel,onResetConnection:this.resetAndReload}));this.relayEventManager.callbacks.set(i,e=>{null==t?void 0:t();if((0,c.isErrorResponse)(e))return s(new Error(e.errorMessage));n(e)});this.ui.isStandalone()?this.sendRequestStandalone(i,e):this.publishWeb3RequestEvent(i,e)});return{promise:s,cancel:cancel}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChain=e;this.ui instanceof u.WalletLinkRelayUI&&this.ui.setChainId(e)}publishWeb3RequestEvent(e,t){var n;const s={type:"WEB3_REQUEST",id:e,request:t};const a=o.Session.load(this.storage);null===(n=this.diagnostic)||void 0===n?void 0:n.log(i.EVENTS.WEB3_REQUEST,{eventId:s.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:a?o.Session.hash(a.id):"",isSessionMismatched:((null==a?void 0:a.id)!==this._session.id).toString()});this.publishEvent("Web3Request",s,!0).then(e=>{var n;null===(n=this.diagnostic)||void 0===n?void 0:n.log(i.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:s.id,method:`relay::${t.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:a?o.Session.hash(a.id):"",isSessionMismatched:((null==a?void 0:a.id)!==this._session.id).toString()})}).catch(e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s.id,response:{method:t.method,errorMessage:e.message}})})}publishWeb3RequestCanceledEvent(e){const t={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",t,!1).then()}publishEvent(e,t,n){return this.connection.publishEvent(e,t,n)}handleWeb3ResponseMessage(e){var t;const{response:n}=e;null===(t=this.diagnostic)||void 0===t?void 0:t.log(i.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()});if("requestEthereumAccounts"!==n.method)this.invokeCallback(e);else{l.accountRequestCallbackIds.forEach(t=>this.invokeCallback(Object.assign(Object.assign({},e),{id:t})));l.accountRequestCallbackIds.clear()}}handleErrorResponse(t,n,i,s){var o;const a=null!==(o=null==i?void 0:i.message)&&void 0!==o?o:(0,e.getMessageFromCode)(s);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:n,errorMessage:a,errorCode:s}})}invokeCallback(e){const t=this.relayEventManager.callbacks.get(e.id);if(t){t(e.response);this.relayEventManager.callbacks.delete(e.id)}}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}};const i=(0,n.randomBytesHex)(8);const cancel=e=>{this.publishWeb3RequestCanceledEvent(i);this.handleErrorResponse(i,t.method,e)};const s=new Promise((n,s)=>{this.relayEventManager.callbacks.set(i,e=>{this.ui.hideRequestEthereumAccounts();if((0,c.isErrorResponse)(e))return s(new Error(e.errorMessage));n(e)});if(this.ui.inlineAccountsResponse()){const onAccounts=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"requestEthereumAccounts",result:e}})};this.ui.requestEthereumAccounts({onCancel:cancel,onAccounts:onAccounts})}else{const t=e.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>cancel(t)})}l.accountRequestCallbackIds.add(i);this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(i,t)});return{promise:s,cancel:cancel}}selectProvider(e){const i={method:"selectProvider"};const s=(0,n.randomBytesHex)(8);const cancel=e=>{this.publishWeb3RequestCanceledEvent(s);this.handleErrorResponse(s,i.method,e)};const o=new Promise((n,i)=>{this.relayEventManager.callbacks.set(s,e=>{if((0,c.isErrorResponse)(e))return i(new Error(e.errorMessage));n(e)});const _cancel=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"selectProvider",result:t.ProviderType.Unselected}})};const approve=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:s,response:{method:"selectProvider",result:e}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:approve,onCancel:_cancel,providerOptions:e})});return{cancel:cancel,promise:o}}watchAsset(e,t,i,s,o,a){const u={method:"watchAsset",params:{type:e,options:{address:t,symbol:i,decimals:s,image:o},chainId:a}};let l=null;const h=(0,n.randomBytesHex)(8);const cancel=e=>{this.publishWeb3RequestCanceledEvent(h);this.handleErrorResponse(h,u.method,e);null==l?void 0:l()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:cancel,onResetConnection:this.resetAndReload}));const d=new Promise((n,d)=>{this.relayEventManager.callbacks.set(h,e=>{null==l?void 0:l();if((0,c.isErrorResponse)(e))return d(new Error(e.errorMessage));n(e)});const _cancel=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"watchAsset",result:!1}})};const approve=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:approve,onCancel:_cancel,type:e,address:t,symbol:i,decimals:s,image:o,chainId:a});this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(h,u)});return{cancel:cancel,promise:d}}addEthereumChain(e,t,i,s,o,a){const u={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:s,chainName:o,iconUrls:i,nativeCurrency:a}};let l=null;const h=(0,n.randomBytesHex)(8);const cancel=e=>{this.publishWeb3RequestCanceledEvent(h);this.handleErrorResponse(h,u.method,e);null==l?void 0:l()};this.ui.inlineAddEthereumChain(e)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:cancel,onResetConnection:this.resetAndReload}));const d=new Promise((t,n)=>{this.relayEventManager.callbacks.set(h,e=>{null==l?void 0:l();if((0,c.isErrorResponse)(e))return n(new Error(e.errorMessage));t(e)});const _cancel=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})};const approve=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:h,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:e}}})};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:_cancel,onApprove:approve,chainId:u.params.chainId,rpcUrls:u.params.rpcUrls,blockExplorerUrls:u.params.blockExplorerUrls,chainName:u.params.chainName,iconUrls:u.params.iconUrls,nativeCurrency:u.params.nativeCurrency});this.ui.inlineAddEthereumChain(e)||this.ui.isStandalone()||this.publishWeb3RequestEvent(h,u)});return{promise:d,cancel:cancel}}switchEthereumChain(t,i){const s={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:i})};const o=(0,n.randomBytesHex)(8);const cancel=e=>{this.publishWeb3RequestCanceledEvent(o);this.handleErrorResponse(o,s.method,e)};const a=new Promise((n,i)=>{this.relayEventManager.callbacks.set(o,t=>{if((0,c.isErrorResponse)(t)&&t.errorCode)return i(e.standardErrors.provider.custom({code:t.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,c.isErrorResponse)(t))return i(new Error(t.errorMessage));n(t)});const _cancel=n=>{var i;if(n){const s=null!==(i=(0,e.getErrorCode)(n))&&void 0!==i?i:e.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(o,"switchEthereumChain",n instanceof Error?n:e.standardErrors.provider.unsupportedChain(t),s)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:o,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})};const approve=e=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:o,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:e}}})};this.ui.switchEthereumChain({onCancel:_cancel,onApprove:approve,chainId:s.params.chainId,address:s.params.address});this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(o,s)});return{promise:a,cancel:cancel}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return o.Session.hash(this._session.id)}sendRequestStandalone(e,t){const _cancel=n=>{this.handleErrorResponse(e,t.method,n)};const onSuccess=t=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:e,response:t})};switch(t.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:t,onSuccess:onSuccess,onCancel:_cancel});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:t,onSuccess:onSuccess,onCancel:_cancel});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:t,onSuccess:onSuccess,onCancel:_cancel});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:t,onSuccess:onSuccess});break;default:_cancel()}}};cr.WalletLinkRelay=l;l.accountRequestCallbackIds=new Set;return cr}var bn={};var wn={};var En={};var _n;function requireSnackbar(){if(_n)return En;_n=1;!function(e){var t=En&&En.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}});Object.defineProperty(e,i,s)}:function(e,t,n,i){void 0===i&&(i=n);e[i]=t[n]});var n=En&&En.__exportStar||function(e,n){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0});n(requireSnackbar$1(),e)}(En);return En}var Sn={};var Rn;function requireRedirectDialogCss(){if(Rn)return Sn;Rn=1;Object.defineProperty(Sn,"__esModule",{value:!0});Sn.default=(()=>".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}")();return Sn}var kn;function requireRedirectDialog(){if(kn)return wn;kn=1;var e=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});wn.RedirectDialog=void 0;const t=e(Br);const n=Ar;const i=requireCssReset();const s=requireSnackbar();const o=e(requireRedirectDialogCss());let a=class{constructor(){this.root=null}attach(){const e=document.documentElement;this.root=document.createElement("div");this.root.className="-cbwsdk-css-reset";e.appendChild(this.root);(0,i.injectCssReset)()}present(e){this.render(e)}clear(){this.render(null)}render(e){if(this.root){(0,n.render)(null,this.root);e&&(0,n.render)((0,n.h)(RedirectDialogContent,Object.assign({},e,{onDismiss:()=>{this.clear()}})),this.root)}}};wn.RedirectDialog=a;const RedirectDialogContent=({title:e,buttonText:i,darkMode:a,onButtonClick:c,onDismiss:u})=>{const l=a?"dark":"light";return(0,n.h)(s.SnackbarContainer,{darkMode:a},(0,n.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,n.h)("style",null,o.default),(0,n.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:u}),(0,n.h)("div",{class:(0,t.default)("-cbwsdk-redirect-dialog-box",l)},(0,n.h)("p",null,e),(0,n.h)("button",{onClick:c},i))))};return wn}var Mn;function requireMobileRelayUI(){if(Mn)return bn;Mn=1;Object.defineProperty(bn,"__esModule",{value:!0});bn.MobileRelayUI=void 0;const e=requireRedirectDialog();let t=class{constructor(t){this.attached=!1;this.darkMode=!1;this.redirectDialog=new e.RedirectDialog;this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach();this.attached=!0}setConnected(e){}redirectToCoinbaseWallet(e){const t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",window.location.href);e&&t.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener";n.href=t.href;n.rel="noreferrer noopener";n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}});setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}};bn.MobileRelayUI=t;return bn}var Cn;function requireMobileRelay(){if(Cn)return ar;Cn=1;Object.defineProperty(ar,"__esModule",{value:!0});ar.MobileRelay=void 0;const e=requireUtil$1();const t=requireWalletLinkRelay();const n=requireMobileRelayUI();let i=class extends t.WalletLinkRelay{constructor(e){var t;super(e);this._enableMobileWalletLink=null!==(t=e.enableMobileWalletLink)&&void 0!==t&&t}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const t=(0,e.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(e,t){super.publishWeb3RequestEvent(e,t);if(!(this._enableMobileWalletLink&&this.ui instanceof n.MobileRelayUI))return;let i=!1;switch(t.method){case"requestEthereumAccounts":case"connectAndSignIn":i=!0;this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:i=!0;this.ui.openCoinbaseWalletDeeplink()}i&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(e){super.handleWeb3ResponseMessage(e)}connectAndSignIn(e){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:e.nonce,iat:(new Date).toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:e.statement,resources:e.resources}})}};ar.MobileRelay=i;return ar}var In={exports:{}};var An;var xn;function requireStreamBrowser(){if(xn)return An;xn=1;An=s().EventEmitter;return An}var Nn;var Bn;function requireBuffer_list(){if(Bn)return Nn;Bn=1;function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){t=_toPropertyKey(t);t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1;i.configurable=!0;"value"in i&&(i.writable=!0);Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){t&&_defineProperties(e.prototype,t);Object.defineProperty(e,"prototype",{writable:!1});return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var e=o(),t=e.Buffer;var i=n,s=i.inspect;var a=s&&s.custom||"inspect";function copyBuffer(e,n,i){t.prototype.copy.call(e,n,i)}Nn=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}_createClass(BufferList,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t;this.tail=t;++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t);this.head=t;++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;1===this.length?this.head=this.tail=null:this.head=this.head.next;--this.length;return e}}},{key:"clear",value:function(){this.head=this.tail=null;this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";var t=this.head;var n=""+t.data;for(;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return t.alloc(0);var n=t.allocUnsafe(e>>>0);var i=this.head;var s=0;for(;i;){copyBuffer(i.data,n,s);s+=i.data.length;i=i.next}return n}},{key:"consume",value:function(e,t){var n;if(e<this.head.data.length){n=this.head.data.slice(0,e);this.head.data=this.head.data.slice(e)}else n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e);return n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head;var n=1;var i=t.data;e-=i.length;for(;t=t.next;){var s=t.data;var o=e>s.length?s.length:e;o===s.length?i+=s:i+=s.slice(0,e);e-=o;if(0===e){if(o===s.length){++n;t.next?this.head=t.next:this.head=this.tail=null}else{this.head=t;t.data=s.slice(o)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function(e){var n=t.allocUnsafe(e);var i=this.head;var s=1;i.data.copy(n);e-=i.data.length;for(;i=i.next;){var o=i.data;var a=e>o.length?o.length:e;o.copy(n,n.length-e,0,a);e-=a;if(0===e){if(a===o.length){++s;i.next?this.head=i.next:this.head=this.tail=null}else{this.head=i;i.data=o.slice(a)}break}++s}this.length-=s;return n}},{key:a,value:function(e,t){return s(this,_objectSpread(_objectSpread({},t),{},{depth:0,customInspect:!1}))}}]);return BufferList}();return Nn}var Tn;var qn;function requireDestroy(){if(qn)return Tn;qn=1;function destroy(e,t){var n=this;var i=this._readableState&&this._readableState.destroyed;var s=this._writableState&&this._writableState.destroyed;if(i||s){if(t)t(e);else if(e)if(this._writableState){if(!this._writableState.errorEmitted){this._writableState.errorEmitted=!0;process.nextTick(emitErrorNT,this,e)}}else process.nextTick(emitErrorNT,this,e);return this}this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(e||null,function(e){if(!t&&e)if(n._writableState)if(n._writableState.errorEmitted)process.nextTick(emitCloseNT,n);else{n._writableState.errorEmitted=!0;process.nextTick(emitErrorAndCloseNT,n,e)}else process.nextTick(emitErrorAndCloseNT,n,e);else if(t){process.nextTick(emitCloseNT,n);t(e)}else process.nextTick(emitCloseNT,n)});return this}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t);emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){if(this._readableState){this._readableState.destroyed=!1;this._readableState.reading=!1;this._readableState.ended=!1;this._readableState.endEmitted=!1}if(this._writableState){this._writableState.destroyed=!1;this._writableState.ended=!1;this._writableState.ending=!1;this._writableState.finalCalled=!1;this._writableState.prefinished=!1;this._writableState.finished=!1;this._writableState.errorEmitted=!1}}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var n=e._readableState;var i=e._writableState;n&&n.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}Tn={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy};return Tn}var Pn={};var On;function requireErrorsBrowser(){if(On)return Pn;On=1;function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var e={};function createErrorType(t,n,i){i||(i=Error);function getMessage(e,t,i){return"string"==typeof n?n:n(e,t,i)}var s=function(e){_inheritsLoose(NodeError2,e);function NodeError2(t,n,i){return e.call(this,getMessage(t,n,i))||this}return NodeError2}(i);s.prototype.name=i.name;s.prototype.code=t;e[t]=s}function oneOf(e,t){if(Array.isArray(e)){var n=e.length;e=e.map(function(e){return String(e)});return n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,n){return e.substr(0,t.length)===t}function endsWith(e,t,n){(void 0===n||n>e.length)&&(n=e.length);return e.substring(n-t.length,n)===t}function includes(e,t,n){"number"!=typeof n&&(n=0);return!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}createErrorType("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,n){var i;if("string"==typeof t&&startsWith(t,"not ")){i="must not be";t=t.replace(/^not /,"")}else i="must be";var s;if(endsWith(e," argument"))s="The ".concat(e," ").concat(i," ").concat(oneOf(t,"type"));else{var o=includes(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(o," ").concat(i," ").concat(oneOf(t,"type"))}s+=". Received type ".concat(typeof n);return s},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Pn.codes=e;return Pn}var Ln;var Fn;function requireState(){if(Fn)return Ln;Fn=1;var e=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}function getHighWaterMark(t,n,i,s){var o=highWaterMarkFrom(n,s,i);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0){var a=s?i:"highWaterMark";throw new e(a,o)}return Math.floor(o)}return t.objectMode?16:16384}Ln={getHighWaterMark:getHighWaterMark};return Ln}var jn;var Dn;function require_stream_writable(){if(Dn)return jn;Dn=1;jn=Writable;function CorkedRequest(e){var t=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(t,e)}}var e;Writable.WritableState=WritableState;var t={deprecate:requireBrowser$1()};var n=requireStreamBrowser();var i=o().Buffer;var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return i.from(e)}function _isUint8Array(e){return i.isBuffer(e)||e instanceof s}var a=requireDestroy();var c=requireState(),u=c.getHighWaterMark;var l=requireErrorsBrowser().codes,h=l.ERR_INVALID_ARG_TYPE,d=l.ERR_METHOD_NOT_IMPLEMENTED,f=l.ERR_MULTIPLE_CALLBACK,p=l.ERR_STREAM_CANNOT_PIPE,g=l.ERR_STREAM_DESTROYED,m=l.ERR_STREAM_NULL_VALUES,v=l.ERR_STREAM_WRITE_AFTER_END,y=l.ERR_UNKNOWN_ENCODING;var b=a.errorOrDestroy;requireInherits_browser()(Writable,n);function nop(){}function WritableState(t,n,i){e=e||require_stream_duplex();t=t||{};"boolean"!=typeof i&&(i=n instanceof e);this.objectMode=!!t.objectMode;i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);this.highWaterMark=u(this,t,"writableHighWaterMark",i);this.finalCalled=!1;this.needDrain=!1;this.ending=!1;this.ended=!1;this.finished=!1;this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(e){onwrite(n,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=!1;this.errorEmitted=!1;this.emitClose=!1!==t.emitClose;this.autoDestroy=!!t.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function(){var e=this.bufferedRequest;var t=[];for(;e;){t.push(e);e=e.next}return t};!function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var w;if("function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]){w=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!w.call(this,e)||this===Writable&&e&&e._writableState instanceof WritableState}})}else w=function(e){return e instanceof this};function Writable(t){e=e||require_stream_duplex();var i=this instanceof e;if(!i&&!w.call(Writable,this))return new Writable(t);this._writableState=new WritableState(t,this,i);this.writable=!0;if(t){"function"==typeof t.write&&(this._write=t.write);"function"==typeof t.writev&&(this._writev=t.writev);"function"==typeof t.destroy&&(this._destroy=t.destroy);"function"==typeof t.final&&(this._final=t.final)}n.call(this)}Writable.prototype.pipe=function(){b(this,new p)};function writeAfterEnd(e,t){var n=new v;b(e,n);process.nextTick(t,n)}function validChunk(e,t,n,i){var s;null===n?s=new m:"string"==typeof n||t.objectMode||(s=new h("chunk",["string","Buffer"],n));if(s){b(e,s);process.nextTick(i,s);return!1}return!0}Writable.prototype.write=function(e,t,n){var s=this._writableState;var o=!1;var a=!s.objectMode&&_isUint8Array(e);a&&!i.isBuffer(e)&&(e=_uint8ArrayToBuffer(e));if("function"==typeof t){n=t;t=null}a?t="buffer":t||(t=s.defaultEncoding);"function"!=typeof n&&(n=nop);if(s.ending)writeAfterEnd(this,n);else if(a||validChunk(this,s,e,n)){s.pendingcb++;o=writeOrBuffer(this,s,a,e,t,n)}return o};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function(e){"string"==typeof e&&(e=e.toLowerCase());if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new y(e);this._writableState.defaultEncoding=e;return this};Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=i.from(t,n));return t}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,n,i,s,o){if(!n){var a=decodeChunk(t,i,s);if(i!==a){n=!0;s="buffer";i=a}}var c=t.objectMode?1:i.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:s,isBuf:n,callback:o,next:null};l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest;t.bufferedRequestCount+=1}else doWrite(e,t,!1,c,i,s,o);return u}function doWrite(e,t,n,i,s,o,a){t.writelen=i;t.writecb=a;t.writing=!0;t.sync=!0;t.destroyed?t.onwrite(new g("write")):n?e._writev(s,t.onwrite):e._write(s,o,t.onwrite);t.sync=!1}function onwriteError(e,t,n,i,s){--t.pendingcb;if(n){process.nextTick(s,i);process.nextTick(finishMaybe,e,t);e._writableState.errorEmitted=!0;b(e,i)}else{s(i);e._writableState.errorEmitted=!0;b(e,i);finishMaybe(e,t)}}function onwriteStateUpdate(e){e.writing=!1;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,t){var n=e._writableState;var i=n.sync;var s=n.writecb;if("function"!=typeof s)throw new f;onwriteStateUpdate(n);if(t)onwriteError(e,n,i,t,s);else{var o=needFinish(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(e,n);i?process.nextTick(afterWrite,e,n,o,s):afterWrite(e,n,o,s)}}function afterWrite(e,t,n,i){n||onwriteDrain(e,t);t.pendingcb--;i();finishMaybe(e,t)}function onwriteDrain(e,t){if(0===t.length&&t.needDrain){t.needDrain=!1;e.emit("drain")}}function clearBuffer(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount;var s=new Array(i);var o=t.corkedRequestsFree;o.entry=n;var a=0;var c=!0;for(;n;){s[a]=n;n.isBuf||(c=!1);n=n.next;a+=1}s.allBuffers=c;doWrite(e,t,!0,t.length,s,"",o.finish);t.pendingcb++;t.lastBufferedRequest=null;if(o.next){t.corkedRequestsFree=o.next;o.next=null}else t.corkedRequestsFree=new CorkedRequest(t);t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk;var l=n.encoding;var h=n.callback;var d=t.objectMode?1:u.length;doWrite(e,t,!1,d,u,l,h);n=n.next;t.bufferedRequestCount--;if(t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n;t.bufferProcessing=!1}Writable.prototype._write=function(e,t,n){n(new d("_write()"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,t,n){var i=this._writableState;if("function"==typeof e){n=e;e=null;t=null}else if("function"==typeof t){n=t;t=null}null!=e&&this.write(e,t);if(i.corked){i.corked=1;this.uncork()}i.ending||endWritable(this,i,n);return this};Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(n){t.pendingcb--;n&&b(e,n);t.prefinished=!0;e.emit("prefinish");finishMaybe(e,t)})}function prefinish(e,t){if(!t.prefinished&&!t.finalCalled)if("function"!=typeof e._final||t.destroyed){t.prefinished=!0;e.emit("prefinish")}else{t.pendingcb++;t.finalCalled=!0;process.nextTick(callFinal,e,t)}}function finishMaybe(e,t){var n=needFinish(t);if(n){prefinish(e,t);if(0===t.pendingcb){t.finished=!0;e.emit("finish");if(t.autoDestroy){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}}}return n}function endWritable(e,t,n){t.ending=!0;finishMaybe(e,t);n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0;e.writable=!1}function onCorkedFinish(e,t,n){var i=e.entry;e.entry=null;for(;i;){var s=i.callback;t.pendingcb--;s(n);i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Writable.prototype.destroy=a.destroy;Writable.prototype._undestroy=a.undestroy;Writable.prototype._destroy=function(e,t){t(e)};return jn}var $n;var Un;function require_stream_duplex(){if(Un)return $n;Un=1;var e=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};$n=Duplex;var t=require_stream_readable();var n=require_stream_writable();requireInherits_browser()(Duplex,t);var i=e(n.prototype);for(var s=0;s<i.length;s++){var o=i[s];Duplex.prototype[o]||(Duplex.prototype[o]=n.prototype[o])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);t.call(this,e);n.call(this,e);this.allowHalfOpen=!0;if(e){!1===e.readable&&(this.readable=!1);!1===e.writable&&(this.writable=!1);if(!1===e.allowHalfOpen){this.allowHalfOpen=!1;this.once("end",onend)}}}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(void 0!==this._readableState&&void 0!==this._writableState){this._readableState.destroyed=e;this._writableState.destroyed=e}}});return $n}var Hn;var Wn;function requireEndOfStream(){if(Wn)return Hn;Wn=1;var e=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function once(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];e.apply(this,i)}}}function noop(){}function isRequest(e){return e.setHeader&&"function"==typeof e.abort}function eos(t,n,i){if("function"==typeof n)return eos(t,null,n);n||(n={});i=once(i||noop);var s=n.readable||!1!==n.readable&&t.readable;var o=n.writable||!1!==n.writable&&t.writable;var onlegacyfinish=function(){t.writable||onfinish()};var a=t._writableState&&t._writableState.finished;var onfinish=function(){o=!1;a=!0;s||i.call(t)};var c=t._readableState&&t._readableState.endEmitted;var onend=function(){s=!1;c=!0;o||i.call(t)};var onerror=function(e){i.call(t,e)};var onclose=function(){var n;if(s&&!c){t._readableState&&t._readableState.ended||(n=new e);return i.call(t,n)}if(o&&!a){t._writableState&&t._writableState.ended||(n=new e);return i.call(t,n)}};var onrequest=function(){t.req.on("finish",onfinish)};if(isRequest(t)){t.on("complete",onfinish);t.on("abort",onclose);t.req?onrequest():t.on("request",onrequest)}else if(o&&!t._writableState){t.on("end",onlegacyfinish);t.on("close",onlegacyfinish)}t.on("end",onend);t.on("finish",onfinish);!1!==n.error&&t.on("error",onerror);t.on("close",onclose);return function(){t.removeListener("complete",onfinish);t.removeListener("abort",onclose);t.removeListener("request",onrequest);t.req&&t.req.removeListener("finish",onfinish);t.removeListener("end",onlegacyfinish);t.removeListener("close",onlegacyfinish);t.removeListener("finish",onfinish);t.removeListener("end",onend);t.removeListener("error",onerror);t.removeListener("close",onclose)}}Hn=eos;return Hn}var Vn;var zn;function requireAsync_iterator(){if(zn)return Vn;zn=1;var e;function _defineProperty(e,t,n){t=_toPropertyKey(t);t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:String(t)}function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var t=requireEndOfStream();var n=Symbol("lastResolve");var i=Symbol("lastReject");var s=Symbol("error");var o=Symbol("ended");var a=Symbol("lastPromise");var c=Symbol("handlePromise");var u=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[n];if(null!==t){var s=e[u].read();if(null!==s){e[a]=null;e[n]=null;e[i]=null;t(createIterResult(s,!1))}}}function onReadable(e){process.nextTick(readAndResolve,e)}function wrapForNext(e,t){return function(n,i){e.then(function(){t[o]?n(createIterResult(void 0,!0)):t[c](n,i)},i)}}var l=Object.getPrototypeOf(function(){});var h=Object.setPrototypeOf((e={get stream(){return this[u]},next:function(){var e=this;var t=this[s];if(null!==t)return Promise.reject(t);if(this[o])return Promise.resolve(createIterResult(void 0,!0));if(this[u].destroyed)return new Promise(function(t,n){process.nextTick(function(){e[s]?n(e[s]):t(createIterResult(void 0,!0))})});var n=this[a];var i;if(n)i=new Promise(wrapForNext(n,this));else{var l=this[u].read();if(null!==l)return Promise.resolve(createIterResult(l,!1));i=new Promise(this[c])}this[a]=i;return i}},_defineProperty(e,Symbol.asyncIterator,function(){return this}),_defineProperty(e,"return",function(){var e=this;return new Promise(function(t,n){e[u].destroy(null,function(e){e?n(e):t(createIterResult(void 0,!0))})})}),e),l);var createReadableStreamAsyncIterator=function(e){var l;var d=Object.create(h,(l={},_defineProperty(l,u,{value:e,writable:!0}),_defineProperty(l,n,{value:null,writable:!0}),_defineProperty(l,i,{value:null,writable:!0}),_defineProperty(l,s,{value:null,writable:!0}),_defineProperty(l,o,{value:e._readableState.endEmitted,writable:!0}),_defineProperty(l,c,{value:function(e,t){var s=d[u].read();if(s){d[a]=null;d[n]=null;d[i]=null;e(createIterResult(s,!1))}else{d[n]=e;d[i]=t}},writable:!0}),l));d[a]=null;t(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=d[i];if(null!==t){d[a]=null;d[n]=null;d[i]=null;t(e)}d[s]=e}else{var c=d[n];if(null!==c){d[a]=null;d[n]=null;d[i]=null;c(createIterResult(void 0,!0))}d[o]=!0}});e.on("readable",onReadable.bind(null,d));return d};Vn=createReadableStreamAsyncIterator;return Vn}var Jn;var Gn;function requireFromBrowser(){if(Gn)return Jn;Gn=1;Jn=function(){throw new Error("Readable.from is not available in the browser")};return Jn}var Qn;var Zn;function require_stream_readable(){if(Zn)return Qn;Zn=1;Qn=Readable;var e;Readable.ReadableState=ReadableState;s().EventEmitter;var EElistenerCount=function(e,t){return e.listeners(t).length};var t=requireStreamBrowser();var i=o().Buffer;var a=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return i.from(e)}function _isUint8Array(e){return i.isBuffer(e)||e instanceof a}var c=n;var u;u=c&&c.debuglog?c.debuglog("stream"):function(){};var l=requireBuffer_list();var h=requireDestroy();var d=requireState(),f=d.getHighWaterMark;var p=requireErrorsBrowser().codes,g=p.ERR_INVALID_ARG_TYPE,m=p.ERR_STREAM_PUSH_AFTER_EOF,v=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var b;var w;var E;requireInherits_browser()(Readable,t);var _=h.errorOrDestroy;var S=["error","close","destroy","pause","resume"];function prependListener(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function ReadableState(t,n,i){e=e||require_stream_duplex();t=t||{};"boolean"!=typeof i&&(i=n instanceof e);this.objectMode=!!t.objectMode;i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);this.highWaterMark=f(this,t,"readableHighWaterMark",i);this.buffer=new l;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=!1;this.endEmitted=!1;this.reading=!1;this.sync=!0;this.needReadable=!1;this.emittedReadable=!1;this.readableListening=!1;this.resumeScheduled=!1;this.paused=!0;this.emitClose=!1!==t.emitClose;this.autoDestroy=!!t.autoDestroy;this.destroyed=!1;this.defaultEncoding=t.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.decoder=null;this.encoding=null;if(t.encoding){b||(b=requireString_decoder().StringDecoder);this.decoder=new b(t.encoding);this.encoding=t.encoding}}function Readable(n){e=e||require_stream_duplex();if(!(this instanceof Readable))return new Readable(n);var i=this instanceof e;this._readableState=new ReadableState(n,this,i);this.readable=!0;if(n){"function"==typeof n.read&&(this._read=n.read);"function"==typeof n.destroy&&(this._destroy=n.destroy)}t.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Readable.prototype.destroy=h.destroy;Readable.prototype._undestroy=h.undestroy;Readable.prototype._destroy=function(e,t){t(e)};Readable.prototype.push=function(e,t){var n=this._readableState;var s;if(n.objectMode)s=!0;else if("string"==typeof e){t=t||n.defaultEncoding;if(t!==n.encoding){e=i.from(e,t);t=""}s=!0}return readableAddChunk(this,e,t,!1,s)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)};function readableAddChunk(e,t,n,s,o){u("readableAddChunk",t);var a=e._readableState;if(null===t){a.reading=!1;onEofChunk(e,a)}else{var c;o||(c=chunkInvalid(a,t));if(c)_(e,c);else if(a.objectMode||t&&t.length>0){"string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===i.prototype||(t=_uint8ArrayToBuffer(t));if(s)a.endEmitted?_(e,new y):addChunk(e,a,t,!0);else if(a.ended)_(e,new m);else{if(a.destroyed)return!1;a.reading=!1;if(a.decoder&&!n){t=a.decoder.write(t);a.objectMode||0!==t.length?addChunk(e,a,t,!1):maybeReadMore(e,a)}else addChunk(e,a,t,!1)}}else if(!s){a.reading=!1;maybeReadMore(e,a)}}return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function addChunk(e,t,n,i){if(t.flowing&&0===t.length&&!t.sync){t.awaitDrain=0;e.emit("data",n)}else{t.length+=t.objectMode?1:n.length;i?t.buffer.unshift(n):t.buffer.push(n);t.needReadable&&emitReadable(e)}maybeReadMore(e,t)}function chunkInvalid(e,t){var n;_isUint8Array(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],t));return n}Readable.prototype.isPaused=function(){return!1===this._readableState.flowing};Readable.prototype.setEncoding=function(e){b||(b=requireString_decoder().StringDecoder);var t=new b(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head;var i="";for(;null!==n;){i+=t.write(n.data);n=n.next}this._readableState.buffer.clear();""!==i&&this._readableState.buffer.push(i);this._readableState.length=i.length;return this};var R=1073741824;function computeNewHighWaterMark(e){if(e>=R)e=R;else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e));if(e<=t.length)return e;if(!t.ended){t.needReadable=!0;return 0}return t.length}Readable.prototype.read=function(e){u("read",e);e=parseInt(e,10);var t=this._readableState;var n=e;0!==e&&(t.emittedReadable=!1);if(0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended)){u("read: emitReadable",t.length,t.ended);0===t.length&&t.ended?endReadable(this):emitReadable(this);return null}e=howMuchToRead(e,t);if(0===e&&t.ended){0===t.length&&endReadable(this);return null}var i=t.needReadable;u("need readable",i);if(0===t.length||t.length-e<t.highWaterMark){i=!0;u("length less than watermark",i)}if(t.ended||t.reading){i=!1;u("reading or ended",i)}else if(i){u("do read");t.reading=!0;t.sync=!0;0===t.length&&(t.needReadable=!0);this._read(t.highWaterMark);t.sync=!1;t.reading||(e=howMuchToRead(n,t))}var s;s=e>0?fromList(e,t):null;if(null===s){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(0===t.length){t.ended||(t.needReadable=!0);n!==e&&t.ended&&endReadable(this)}null!==s&&this.emit("data",s);return s};function onEofChunk(e,t){u("onEofChunk");if(!t.ended){if(t.decoder){var n=t.decoder.end();if(n&&n.length){t.buffer.push(n);t.length+=t.objectMode?1:n.length}}t.ended=!0;if(t.sync)emitReadable(e);else{t.needReadable=!1;if(!t.emittedReadable){t.emittedReadable=!0;emitReadable_(e)}}}}function emitReadable(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=!1;if(!t.emittedReadable){u("emitReadable",t.flowing);t.emittedReadable=!0;process.nextTick(emitReadable_,e)}}function emitReadable_(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=!1}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;flow(e)}function maybeReadMore(e,t){if(!t.readingMore){t.readingMore=!0;process.nextTick(maybeReadMore_,e,t)}}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;u("maybeReadMore read 0");e.read(0);if(n===t.length)break}t.readingMore=!1}Readable.prototype._read=function(e){_(this,new v("_read()"))};Readable.prototype.pipe=function(e,t){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1;u("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr;var o=s?onend:unpipe;i.endEmitted?process.nextTick(o):n.once("end",o);e.on("unpipe",onunpipe);function onunpipe(e,t){u("onunpipe");if(e===n&&t&&!1===t.hasUnpiped){t.hasUnpiped=!0;cleanup()}}function onend(){u("onend");e.end()}var a=pipeOnDrain(n);e.on("drain",a);var c=!1;function cleanup(){u("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",a);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);n.removeListener("end",onend);n.removeListener("end",unpipe);n.removeListener("data",ondata);c=!0;!i.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}n.on("data",ondata);function ondata(t){u("ondata");var s=e.write(t);u("dest.write",s);if(!1===s){if((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==indexOf(i.pipes,e))&&!c){u("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function onerror(t){u("onerror",t);unpipe();e.removeListener("error",onerror);0===EElistenerCount(e,"error")&&_(e,t)}prependListener(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){u("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){u("unpipe");n.unpipe(e)}e.emit("pipe",n);if(!i.flowing){u("pipe resume");n.resume()}return e};function pipeOnDrain(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain);t.awaitDrain&&t.awaitDrain--;if(0===t.awaitDrain&&EElistenerCount(e,"data")){t.flowing=!0;flow(e)}}}Readable.prototype.unpipe=function(e){var t=this._readableState;var n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount){if(e&&e!==t.pipes)return this;e||(e=t.pipes);t.pipes=null;t.pipesCount=0;t.flowing=!1;e&&e.emit("unpipe",this,n);return this}if(!e){var i=t.pipes;var s=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=!1;for(var o=0;o<s;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=indexOf(t.pipes,e);if(-1===a)return this;t.pipes.splice(a,1);t.pipesCount-=1;1===t.pipesCount&&(t.pipes=t.pipes[0]);e.emit("unpipe",this,n);return this};Readable.prototype.on=function(e,n){var i=t.prototype.on.call(this,e,n);var s=this._readableState;if("data"===e){s.readableListening=this.listenerCount("readable")>0;!1!==s.flowing&&this.resume()}else if("readable"===e&&!s.endEmitted&&!s.readableListening){s.readableListening=s.needReadable=!0;s.flowing=!1;s.emittedReadable=!1;u("on readable",s.length,s.reading);s.length?emitReadable(this):s.reading||process.nextTick(nReadingNextTick,this)}return i};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(e,n){var i=t.prototype.removeListener.call(this,e,n);"readable"===e&&process.nextTick(updateReadableListening,this);return i};Readable.prototype.removeAllListeners=function(e){var n=t.prototype.removeAllListeners.apply(this,arguments);"readable"!==e&&void 0!==e||process.nextTick(updateReadableListening,this);return n};function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick(e){u("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){u("resume");e.flowing=!e.readableListening;resume(this,e)}e.paused=!1;return this};function resume(e,t){if(!t.resumeScheduled){t.resumeScheduled=!0;process.nextTick(resume_,e,t)}}function resume_(e,t){u("resume",t.reading);t.reading||e.read(0);t.resumeScheduled=!1;e.emit("resume");flow(e);t.flowing&&!t.reading&&e.read(0)}Readable.prototype.pause=function(){u("call pause flowing=%j",this._readableState.flowing);if(!1!==this._readableState.flowing){u("pause");this._readableState.flowing=!1;this.emit("pause")}this._readableState.paused=!0;return this};function flow(e){var t=e._readableState;u("flow",t.flowing);for(;t.flowing&&null!==e.read(););}Readable.prototype.wrap=function(e){var t=this;var n=this._readableState;var i=!1;e.on("end",function(){u("wrapped end");if(n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)});e.on("data",function(s){u("wrapped data");n.decoder&&(s=n.decoder.write(s));if((!n.objectMode||null!=s)&&(n.objectMode||s&&s.length)){var o=t.push(s);if(!o){i=!0;e.pause()}}});for(var s in e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));this._read=function(t){u("wrapped _read",t);if(i){i=!1;e.resume()}};return this};"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){void 0===w&&(w=requireAsync_iterator());return w(this)});Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function fromList(e,t){if(0===t.length)return null;var n;if(t.objectMode)n=t.buffer.shift();else if(!e||e>=t.length){n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length);t.buffer.clear()}else n=t.buffer.consume(e,t.decoder);return n}function endReadable(e){var t=e._readableState;u("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=!0;process.nextTick(endReadableNT,t,e)}}function endReadableNT(e,t){u("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&0===e.length){e.endEmitted=!0;t.readable=!1;t.emit("end");if(e.autoDestroy){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}}"function"==typeof Symbol&&(Readable.from=function(e,t){void 0===E&&(E=requireFromBrowser());return E(Readable,e,t)});function indexOf(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}return Qn}var Kn;var Yn;function require_stream_transform(){if(Yn)return Kn;Yn=1;Kn=Transform;var e=requireErrorsBrowser().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,n=e.ERR_MULTIPLE_CALLBACK,i=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=e.ERR_TRANSFORM_WITH_LENGTH_0;var o=require_stream_duplex();requireInherits_browser()(Transform,o);function afterTransform(e,t){var i=this._transformState;i.transforming=!1;var s=i.writecb;if(null===s)return this.emit("error",new n);i.writechunk=null;i.writecb=null;null!=t&&this.push(t);s(e);var o=this._readableState;o.reading=!1;(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);o.call(this,e);this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;if(e){"function"==typeof e.transform&&(this._transform=e.transform);"function"==typeof e.flush&&(this._flush=e.flush)}this.on("prefinish",prefinish)}function prefinish(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(t,n){done(e,t,n)})}Transform.prototype.push=function(e,t){this._transformState.needTransform=!1;return o.prototype.push.call(this,e,t)};Transform.prototype._transform=function(e,n,i){i(new t("_transform()"))};Transform.prototype._write=function(e,t,n){var i=this._transformState;i.writecb=n;i.writechunk=e;i.writeencoding=t;if(!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};Transform.prototype._read=function(e){var t=this._transformState;if(null===t.writechunk||t.transforming)t.needTransform=!0;else{t.transforming=!0;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}};Transform.prototype._destroy=function(e,t){o.prototype._destroy.call(this,e,function(e){t(e)})};function done(e,t,n){if(t)return e.emit("error",t);null!=n&&e.push(n);if(e._writableState.length)throw new s;if(e._transformState.transforming)throw new i;return e.push(null)}return Kn}var Xn;var ei;function require_stream_passthrough(){if(ei)return Xn;ei=1;Xn=PassThrough;var e=require_stream_transform();requireInherits_browser()(PassThrough,e);function PassThrough(t){if(!(this instanceof PassThrough))return new PassThrough(t);e.call(this,t)}PassThrough.prototype._transform=function(e,t,n){n(null,e)};return Xn}var ti;var ri;function requirePipeline(){if(ri)return ti;ri=1;var e;function once(e){var t=!1;return function(){if(!t){t=!0;e.apply(void 0,arguments)}}}var t=requireErrorsBrowser().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&"function"==typeof e.abort}function destroyer(t,n,s,o){o=once(o);var a=!1;t.on("close",function(){a=!0});void 0===e&&(e=requireEndOfStream());e(t,{readable:n,writable:s},function(e){if(e)return o(e);a=!0;o()});var c=!1;return function(e){if(!a&&!c){c=!0;if(isRequest(t))return t.abort();if("function"==typeof t.destroy)return t.destroy();o(e||new i("pipe"))}}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return e.length?"function"!=typeof e[e.length-1]?noop:e.pop():noop}function pipeline(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=popCallback(t);Array.isArray(t[0])&&(t=t[0]);if(t.length<2)throw new n("streams");var o;var a=t.map(function(e,n){var i=n<t.length-1;var c=n>0;return destroyer(e,i,c,function(e){o||(o=e);e&&a.forEach(call);if(!i){a.forEach(call);s(o)}})});return t.reduce(pipe)}ti=pipeline;return ti}var ni;function requireReadableBrowser(){if(ni)return In.exports;ni=1;!function(e,t){t=e.exports=require_stream_readable();t.Stream=t;t.Readable=t;t.Writable=require_stream_writable();t.Duplex=require_stream_duplex();t.Transform=require_stream_transform();t.PassThrough=require_stream_passthrough();t.finished=requireEndOfStream();t.pipeline=requirePipeline()}(In,In.exports);return In.exports}var ii;var si;function requireKeccak$1(){if(si)return ii;si=1;const{Transform:e}=requireReadableBrowser();ii=t=>class n extends e{constructor(e,n,i,s,o){super(o);this._rate=e;this._capacity=n;this._delimitedSuffix=i;this._hashBitLength=s;this._options=o;this._state=new t;this._state.initialize(e,n);this._finalized=!1}_transform(e,t,n){let i=null;try{this.update(e,t)}catch(s){i=s}n(i)}_flush(e){let t=null;try{this.push(this.digest())}catch(n){t=n}e(t)}update(e,t){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");Buffer.isBuffer(e)||(e=Buffer.from(e,t));this._state.absorb(e);return this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);void 0!==e&&(t=t.toString(e));this._resetState();return t}_resetState(){this._state.initialize(this._rate,this._capacity);return this}_clone(){const e=new n(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);this._state.copy(e._state);e._finalized=this._finalized;return e}};return ii}var oi;var ai;function requireShake(){if(ai)return oi;ai=1;const{Transform:e}=requireReadableBrowser();oi=t=>class n extends e{constructor(e,n,i,s){super(s);this._rate=e;this._capacity=n;this._delimitedSuffix=i;this._options=s;this._state=new t;this._state.initialize(e,n);this._finalized=!1}_transform(e,t,n){let i=null;try{this.update(e,t)}catch(s){i=s}n(i)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");Buffer.isBuffer(e)||(e=Buffer.from(e,t));this._state.absorb(e);return this}squeeze(e,t){if(!this._finalized){this._finalized=!0;this._state.absorbLastFewBits(this._delimitedSuffix)}let n=this._state.squeeze(e);void 0!==t&&(n=n.toString(t));return n}_resetState(){this._state.initialize(this._rate,this._capacity);return this}_clone(){const e=new n(this._rate,this._capacity,this._delimitedSuffix,this._options);this._state.copy(e._state);e._finalized=this._finalized;return e}};return oi}var ci;var ui;function requireApi(){if(ui)return ci;ui=1;const e=requireKeccak$1();const t=requireShake();ci=function(n){const i=e(n);const s=t(n);return function(e,t){const n="string"==typeof e?e.toLowerCase():e;switch(n){case"keccak224":return new i(1152,448,null,224,t);case"keccak256":return new i(1088,512,null,256,t);case"keccak384":return new i(832,768,null,384,t);case"keccak512":return new i(576,1024,null,512,t);case"sha3-224":return new i(1152,448,6,224,t);case"sha3-256":return new i(1088,512,6,256,t);case"sha3-384":return new i(832,768,6,384,t);case"sha3-512":return new i(576,1024,6,512,t);case"shake128":return new s(1344,256,31,t);case"shake256":return new s(1088,512,31,t);default:throw new Error("Invald algorithm: "+e)}}};return ci}var li={};var hi;function requireKeccakStateUnroll(){if(hi)return li;hi=1;const e=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];li.p1600=function(t){for(let n=0;n<24;++n){const i=t[0]^t[10]^t[20]^t[30]^t[40];const s=t[1]^t[11]^t[21]^t[31]^t[41];const o=t[2]^t[12]^t[22]^t[32]^t[42];const a=t[3]^t[13]^t[23]^t[33]^t[43];const c=t[4]^t[14]^t[24]^t[34]^t[44];const u=t[5]^t[15]^t[25]^t[35]^t[45];const l=t[6]^t[16]^t[26]^t[36]^t[46];const h=t[7]^t[17]^t[27]^t[37]^t[47];const d=t[8]^t[18]^t[28]^t[38]^t[48];const f=t[9]^t[19]^t[29]^t[39]^t[49];let p=d^(o<<1|a>>>31);let g=f^(a<<1|o>>>31);const m=t[0]^p;const v=t[1]^g;const y=t[10]^p;const b=t[11]^g;const w=t[20]^p;const E=t[21]^g;const _=t[30]^p;const S=t[31]^g;const R=t[40]^p;const k=t[41]^g;p=i^(c<<1|u>>>31);g=s^(u<<1|c>>>31);const M=t[2]^p;const C=t[3]^g;const I=t[12]^p;const A=t[13]^g;const x=t[22]^p;const N=t[23]^g;const B=t[32]^p;const T=t[33]^g;const q=t[42]^p;const P=t[43]^g;p=o^(l<<1|h>>>31);g=a^(h<<1|l>>>31);const O=t[4]^p;const L=t[5]^g;const F=t[14]^p;const j=t[15]^g;const D=t[24]^p;const $=t[25]^g;const U=t[34]^p;const H=t[35]^g;const W=t[44]^p;const V=t[45]^g;p=c^(d<<1|f>>>31);g=u^(f<<1|d>>>31);const z=t[6]^p;const J=t[7]^g;const G=t[16]^p;const Q=t[17]^g;const Z=t[26]^p;const K=t[27]^g;const Y=t[36]^p;const X=t[37]^g;const ee=t[46]^p;const te=t[47]^g;p=l^(i<<1|s>>>31);g=h^(s<<1|i>>>31);const re=t[8]^p;const ne=t[9]^g;const ie=t[18]^p;const se=t[19]^g;const oe=t[28]^p;const ae=t[29]^g;const ce=t[38]^p;const ue=t[39]^g;const le=t[48]^p;const he=t[49]^g;const de=m;const fe=v;const pe=b<<4|y>>>28;const ge=y<<4|b>>>28;const me=w<<3|E>>>29;const ve=E<<3|w>>>29;const ye=S<<9|_>>>23;const be=_<<9|S>>>23;const we=R<<18|k>>>14;const Ee=k<<18|R>>>14;const _e=M<<1|C>>>31;const Se=C<<1|M>>>31;const Re=A<<12|I>>>20;const ke=I<<12|A>>>20;const Me=x<<10|N>>>22;const Ce=N<<10|x>>>22;const Ie=T<<13|B>>>19;const Ae=B<<13|T>>>19;const xe=q<<2|P>>>30;const Ne=P<<2|q>>>30;const Be=L<<30|O>>>2;const Te=O<<30|L>>>2;const qe=F<<6|j>>>26;const Pe=j<<6|F>>>26;const Oe=$<<11|D>>>21;const Le=D<<11|$>>>21;const Fe=U<<15|H>>>17;const je=H<<15|U>>>17;const De=V<<29|W>>>3;const $e=W<<29|V>>>3;const Ue=z<<28|J>>>4;const He=J<<28|z>>>4;const We=Q<<23|G>>>9;const Ve=G<<23|Q>>>9;const ze=Z<<25|K>>>7;const Je=K<<25|Z>>>7;const Ge=Y<<21|X>>>11;const Qe=X<<21|Y>>>11;const Ze=te<<24|ee>>>8;const Ke=ee<<24|te>>>8;const Ye=re<<27|ne>>>5;const Xe=ne<<27|re>>>5;const et=ie<<20|se>>>12;const tt=se<<20|ie>>>12;const rt=ae<<7|oe>>>25;const nt=oe<<7|ae>>>25;const it=ce<<8|ue>>>24;const st=ue<<8|ce>>>24;const ot=le<<14|he>>>18;const at=he<<14|le>>>18;t[0]=de^~Re&Oe;t[1]=fe^~ke&Le;t[10]=Ue^~et&me;t[11]=He^~tt&ve;t[20]=_e^~qe&ze;t[21]=Se^~Pe&Je;t[30]=Ye^~pe&Me;t[31]=Xe^~ge&Ce;t[40]=Be^~We&rt;t[41]=Te^~Ve&nt;t[2]=Re^~Oe&Ge;t[3]=ke^~Le&Qe;t[12]=et^~me&Ie;t[13]=tt^~ve&Ae;t[22]=qe^~ze&it;t[23]=Pe^~Je&st;t[32]=pe^~Me&Fe;t[33]=ge^~Ce&je;t[42]=We^~rt&ye;t[43]=Ve^~nt&be;t[4]=Oe^~Ge&ot;t[5]=Le^~Qe&at;t[14]=me^~Ie&De;t[15]=ve^~Ae&$e;t[24]=ze^~it&we;t[25]=Je^~st&Ee;t[34]=Me^~Fe&Ze;t[35]=Ce^~je&Ke;t[44]=rt^~ye&xe;t[45]=nt^~be&Ne;t[6]=Ge^~ot&de;t[7]=Qe^~at&fe;t[16]=Ie^~De&Ue;t[17]=Ae^~$e&He;t[26]=it^~we&_e;t[27]=st^~Ee&Se;t[36]=Fe^~Ze&Ye;t[37]=je^~Ke&Xe;t[46]=ye^~xe&Be;t[47]=be^~Ne&Te;t[8]=ot^~de&Re;t[9]=at^~fe&ke;t[18]=De^~Ue&et;t[19]=$e^~He&tt;t[28]=we^~_e&qe;t[29]=Ee^~Se&Pe;t[38]=Ze^~Ye&pe;t[39]=Ke^~Xe&ge;t[48]=xe^~Be&We;t[49]=Ne^~Te&Ve;t[0]^=e[2*n];t[1]^=e[2*n+1]}};return li}var di;var fi;function requireKeccak(){if(fi)return di;fi=1;const e=requireKeccakStateUnroll();function Keccak(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.blockSize=null;this.count=0;this.squeezing=!1}Keccak.prototype.initialize=function(e,t){for(let n=0;n<50;++n)this.state[n]=0;this.blockSize=e/8;this.count=0;this.squeezing=!1};Keccak.prototype.absorb=function(t){for(let n=0;n<t.length;++n){this.state[~~(this.count/4)]^=t[n]<<this.count%4*8;this.count+=1;if(this.count===this.blockSize){e.p1600(this.state);this.count=0}}};Keccak.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<this.count%4*8;128&t&&this.count===this.blockSize-1&&e.p1600(this.state);this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8;e.p1600(this.state);this.count=0;this.squeezing=!0};Keccak.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const n=Buffer.alloc(t);for(let i=0;i<t;++i){n[i]=this.state[~~(this.count/4)]>>>this.count%4*8&255;this.count+=1;if(this.count===this.blockSize){e.p1600(this.state);this.count=0}}return n};Keccak.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize;e.count=this.count;e.squeezing=this.squeezing};di=Keccak;return di}var pi;var gi;function requireJs(){if(gi)return pi;gi=1;pi=requireApi()(requireKeccak());return pi}var mi;var vi;function requireUtil(){if(vi)return mi;vi=1;const e=requireJs();const t=requireBn();function zeros(e){return Buffer.allocUnsafe(e).fill(0)}function setLength(e,t,n){const i=zeros(t);e=toBuffer2(e);if(n){if(e.length<t){e.copy(i);return i}return e.slice(0,t)}if(e.length<t){e.copy(i,t-e.length);return i}return e.slice(-t)}function setLengthRight(e,t){return setLength(e,t,!0)}function toBuffer2(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if("string"==typeof e)e=isHexString(e)?Buffer.from(padToEven(stripHexPrefix(e)),"hex"):Buffer.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=Buffer.allocUnsafe(0);else if(t.isBN(e))e=e.toArrayLike(Buffer);else{if(!e.toArray)throw new Error("invalid type");e=Buffer.from(e.toArray())}return e}function bufferToHex(e){e=toBuffer2(e);return"0x"+e.toString("hex")}function keccak2(t,n){t=toBuffer2(t);n||(n=256);return e("keccak"+n).update(t).digest()}function padToEven(e){return e.length%2?"0"+e:e}function isHexString(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function stripHexPrefix(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}mi={zeros:zeros,setLength:setLength,setLengthRight:setLengthRight,isHexString:isHexString,stripHexPrefix:stripHexPrefix,toBuffer:toBuffer2,bufferToHex:bufferToHex,keccak:keccak2};return mi}var yi;var bi;function requireAbi(){if(bi)return yi;bi=1;const e=requireUtil();const t=requireBn();function elementaryName(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function parseTypeN(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function parseTypeNxM(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function parseTypeArray(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function parseNumber(n){var i=typeof n;if("string"===i)return e.isHexString(n)?new t(e.stripHexPrefix(n),16):new t(n,10);if("number"===i)return new t(n);if(n.toArray)return n;throw new Error("Argument is not a number")}function encodeSingle(n,i){var s,o,a,c;if("address"===n)return encodeSingle("uint160",parseNumber(i));if("bool"===n)return encodeSingle("uint8",i?1:0);if("string"===n)return encodeSingle("bytes",new Buffer(i,"utf8"));if(isArray(n)){if("undefined"==typeof i.length)throw new Error("Not an array?");s=parseTypeArray(n);if("dynamic"!==s&&0!==s&&i.length>s)throw new Error("Elements exceed array size: "+s);a=[];n=n.slice(0,n.lastIndexOf("["));"string"==typeof i&&(i=JSON.parse(i));for(c in i)a.push(encodeSingle(n,i[c]));if("dynamic"===s){var u=encodeSingle("uint256",i.length);a.unshift(u)}return Buffer.concat(a)}if("bytes"===n){i=new Buffer(i);a=Buffer.concat([encodeSingle("uint256",i.length),i]);i.length%32!=0&&(a=Buffer.concat([a,e.zeros(32-i.length%32)]));return a}if(n.startsWith("bytes")){s=parseTypeN(n);if(s<1||s>32)throw new Error("Invalid bytes<N> width: "+s);return e.setLengthRight(i,32)}if(n.startsWith("uint")){s=parseTypeN(n);if(s%8||s<8||s>256)throw new Error("Invalid uint<N> width: "+s);o=parseNumber(i);if(o.bitLength()>s)throw new Error("Supplied uint exceeds width: "+s+" vs "+o.bitLength());if(o<0)throw new Error("Supplied uint is negative");return o.toArrayLike(Buffer,"be",32)}if(n.startsWith("int")){s=parseTypeN(n);if(s%8||s<8||s>256)throw new Error("Invalid int<N> width: "+s);o=parseNumber(i);if(o.bitLength()>s)throw new Error("Supplied int exceeds width: "+s+" vs "+o.bitLength());return o.toTwos(256).toArrayLike(Buffer,"be",32)}if(n.startsWith("ufixed")){s=parseTypeNxM(n);o=parseNumber(i);if(o<0)throw new Error("Supplied ufixed is negative");return encodeSingle("uint256",o.mul(new t(2).pow(new t(s[1]))))}if(n.startsWith("fixed")){s=parseTypeNxM(n);return encodeSingle("int256",parseNumber(i).mul(new t(2).pow(new t(s[1]))))}throw new Error("Unsupported or invalid type: "+n)}function isDynamic(e){return"string"===e||"bytes"===e||"dynamic"===parseTypeArray(e)}function isArray(e){return e.lastIndexOf("]")===e.length-1}function rawEncode(e,t){var n=[];var i=[];var s=32*e.length;for(var o in e){var a=elementaryName(e[o]);var c=t[o];var u=encodeSingle(a,c);if(isDynamic(a)){n.push(encodeSingle("uint256",s));i.push(u);s+=u.length}else n.push(u)}return Buffer.concat(n.concat(i))}function solidityPack(t,n){if(t.length!==n.length)throw new Error("Number of types are not matching the values");var i,s;var o=[];for(var a=0;a<t.length;a++){var c=elementaryName(t[a]);var u=n[a];if("bytes"===c)o.push(u);else if("string"===c)o.push(new Buffer(u,"utf8"));else if("bool"===c)o.push(new Buffer(u?"01":"00","hex"));else if("address"===c)o.push(e.setLength(u,20));else if(c.startsWith("bytes")){i=parseTypeN(c);if(i<1||i>32)throw new Error("Invalid bytes<N> width: "+i);o.push(e.setLengthRight(u,i))}else if(c.startsWith("uint")){i=parseTypeN(c);if(i%8||i<8||i>256)throw new Error("Invalid uint<N> width: "+i);s=parseNumber(u);if(s.bitLength()>i)throw new Error("Supplied uint exceeds width: "+i+" vs "+s.bitLength());o.push(s.toArrayLike(Buffer,"be",i/8))}else{if(!c.startsWith("int"))throw new Error("Unsupported or invalid type: "+c);i=parseTypeN(c);if(i%8||i<8||i>256)throw new Error("Invalid int<N> width: "+i);s=parseNumber(u);if(s.bitLength()>i)throw new Error("Supplied int exceeds width: "+i+" vs "+s.bitLength());o.push(s.toTwos(i).toArrayLike(Buffer,"be",i/8))}}return Buffer.concat(o)}function soliditySHA3(t,n){return e.keccak(solidityPack(t,n))}yi={rawEncode:rawEncode,solidityPack:solidityPack,soliditySHA3:soliditySHA3};return yi}var wi;var Ei;function requireEthEip712Util(){if(Ei)return wi;Ei=1;const e=requireUtil();const t=requireAbi();const n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};const i={encodeData(n,i,s,o=!0){const a=["bytes32"];const c=[this.hashType(n,s)];if(o){const encodeField=(n,i,a)=>{if(void 0!==s[i])return["bytes32",null==a?"0x0000000000000000000000000000000000000000000000000000000000000000":e.keccak(this.encodeData(i,a,s,o))];if(void 0===a)throw new Error(`missing value for field ${n} of type ${i}`);if("bytes"===i)return["bytes32",e.keccak(a)];if("string"===i){"string"==typeof a&&(a=Buffer.from(a,"utf8"));return["bytes32",e.keccak(a)]}if(i.lastIndexOf("]")===i.length-1){const s=i.slice(0,i.lastIndexOf("["));const o=a.map(e=>encodeField(n,s,e));return["bytes32",e.keccak(t.rawEncode(o.map(([e])=>e),o.map(([,e])=>e)))]}return[i,a]};for(const e of s[n]){const[t,n]=encodeField(e.name,e.type,i[e.name]);a.push(t);c.push(n)}}else for(const t of s[n]){let n=i[t.name];if(void 0!==n)if("bytes"===t.type){a.push("bytes32");n=e.keccak(n);c.push(n)}else if("string"===t.type){a.push("bytes32");"string"==typeof n&&(n=Buffer.from(n,"utf8"));n=e.keccak(n);c.push(n)}else if(void 0!==s[t.type]){a.push("bytes32");n=e.keccak(this.encodeData(t.type,n,s,o));c.push(n)}else{if(t.type.lastIndexOf("]")===t.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");a.push(t.type);c.push(n)}}return t.rawEncode(a,c)},encodeType(e,t){let n="";let i=this.findTypeDependencies(e,t).filter(t=>t!==e);i=[e].concat(i.sort());for(const s of i){const e=t[s];if(!e)throw new Error("No type definition specified: "+s);n+=s+"("+t[s].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return n},findTypeDependencies(e,t,n=[]){e=e.match(/^\w*/)[0];if(n.includes(e)||void 0===t[e])return n;n.push(e);for(const i of t[e])for(const e of this.findTypeDependencies(i.type,t,n))!n.includes(e)&&n.push(e);return n},hashStruct(t,n,i,s=!0){return e.keccak(this.encodeData(t,n,i,s))},hashType(t,n){return e.keccak(this.encodeType(t,n))},sanitizeData(e){const t={};for(const i in n.properties)e[i]&&(t[i]=e[i]);t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types));return t},hash(t,n=!0){const i=this.sanitizeData(t);const s=[Buffer.from("1901","hex")];s.push(this.hashStruct("EIP712Domain",i.domain,i.types,n));"EIP712Domain"!==i.primaryType&&s.push(this.hashStruct(i.primaryType,i.message,i.types,n));return e.keccak(Buffer.concat(s))}};wi={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:i,hashForSignTypedDataLegacy:function(e){return typedSignatureHashLegacy(e.data)},hashForSignTypedData_v3:function(e){return i.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return i.hash(e.data)}};function typedSignatureHashLegacy(n){const i=new Error("Expect argument to be non-empty array");if("object"!=typeof n||!n.length)throw i;const s=n.map(function(t){return"bytes"===t.type?e.toBuffer(t.value):t.value});const o=n.map(function(e){return e.type});const a=n.map(function(e){if(!e.name)throw i;return e.type+" "+e.name});return t.soliditySHA3(["bytes32","bytes32"],[t.soliditySHA3(new Array(n.length).fill("string"),a),t.soliditySHA3(o,s)])}return wi}var _i={};var Si;function requireFilterPolyfill(){if(Si)return _i;Si=1;Object.defineProperty(_i,"__esModule",{value:!0});_i.filterFromParam=_i.FilterPolyfill=void 0;const e=requireType();const t=requireUtil$1();const n=3e5;const i={jsonrpc:"2.0",id:0};let s=class{constructor(t){this.logFilters=new Map;this.blockFilters=new Set;this.pendingTransactionFilters=new Set;this.cursors=new Map;this.timeouts=new Map;this.nextFilterId=(0,e.IntNumber)(1);this.REQUEST_THROTTLE_INTERVAL=1e3;this.lastFetchTimestamp=new Date(0);this.resolvers=[];this.provider=t}async newFilter(e){const n=filterFromParam(e);const i=this.makeFilterId();const s=await this.setInitialCursorPosition(i,n.fromBlock);console.info(`Installing new log filter(${i}):`,n,"initial cursor position:",s);this.logFilters.set(i,n);this.setFilterTimeout(i);return(0,t.hexStringFromIntNumber)(i)}async newBlockFilter(){const e=this.makeFilterId();const n=await this.setInitialCursorPosition(e,"latest");console.info(`Installing new block filter (${e}) with initial cursor position:`,n);this.blockFilters.add(e);this.setFilterTimeout(e);return(0,t.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId();const n=await this.setInitialCursorPosition(e,"latest");console.info(`Installing new block filter (${e}) with initial cursor position:`,n);this.pendingTransactionFilters.add(e);this.setFilterTimeout(e);return(0,t.hexStringFromIntNumber)(e)}uninstallFilter(e){const n=(0,t.intNumberFromHexString)(e);console.info(`Uninstalling filter (${n})`);this.deleteFilter(n);return!0}getFilterChanges(e){const n=(0,t.intNumberFromHexString)(e);this.timeouts.has(n)&&this.setFilterTimeout(n);return this.logFilters.has(n)?this.getLogFilterChanges(n):this.blockFilters.has(n)?this.getBlockFilterChanges(n):this.pendingTransactionFilters.has(n)?this.getPendingTransactionFilterChanges(n):Promise.resolve(filterNotFoundError())}async getFilterLogs(e){const n=(0,t.intNumberFromHexString)(e);const s=this.logFilters.get(n);return s?this.sendAsyncPromise(Object.assign(Object.assign({},i),{method:"eth_getLogs",params:[paramFromFilter(s)]})):filterNotFoundError()}makeFilterId(){return(0,e.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((t,n)=>{this.provider.sendAsync(e,(e,i)=>{if(e)return n(e);if(Array.isArray(i)||null==i)return n(new Error(`unexpected response received: ${JSON.stringify(i)}`));t(i)})})}deleteFilter(e){console.info(`Deleting filter (${e})`);this.logFilters.delete(e);this.blockFilters.delete(e);this.pendingTransactionFilters.delete(e);this.cursors.delete(e);this.timeouts.delete(e)}async getLogFilterChanges(n){const s=this.logFilters.get(n);const o=this.cursors.get(n);if(!o||!s)return filterNotFoundError();const a=await this.getCurrentBlockHeight();const c="latest"===s.toBlock?a:s.toBlock;if(o>a)return emptyResult();if(o>Number(s.toBlock))return emptyResult();console.info(`Fetching logs from ${o} to ${c} for filter ${n}`);const u=await this.sendAsyncPromise(Object.assign(Object.assign({},i),{method:"eth_getLogs",params:[paramFromFilter(Object.assign(Object.assign({},s),{fromBlock:o,toBlock:c}))]}));if(Array.isArray(u.result)){const i=u.result.map(e=>(0,t.intNumberFromHexString)(e.blockNumber||"0x0"));const s=Math.max(...i);if(s&&s>o){const t=(0,e.IntNumber)(s+1);console.info(`Moving cursor position for filter (${n}) from ${o} to ${t}`);this.cursors.set(n,t)}}return u}async getBlockFilterChanges(n){const s=this.cursors.get(n);if(!s)return filterNotFoundError();const o=await this.getCurrentBlockHeight();if(s>o)return emptyResult();console.info(`Fetching blocks from ${s} to ${o} for filter (${n})`);const a=(await Promise.all((0,t.range)(s,o+1).map(t=>this.getBlockHashByNumber((0,e.IntNumber)(t))))).filter(e=>!!e);const c=(0,e.IntNumber)(s+a.length);console.info(`Moving cursor position for filter (${n}) from ${s} to ${c}`);this.cursors.set(n,c);return Object.assign(Object.assign({},i),{result:a})}async getPendingTransactionFilterChanges(e){return Promise.resolve(emptyResult())}async setInitialCursorPosition(e,t){const n=await this.getCurrentBlockHeight();const i="number"==typeof t&&t>n?t:n;this.cursors.set(e,i);return i}setFilterTimeout(e){const t=this.timeouts.get(e);t&&window.clearTimeout(t);const i=window.setTimeout(()=>{console.info(`Filter (${e}) timed out`);this.deleteFilter(e)},n);this.timeouts.set(e,i)}async getCurrentBlockHeight(){const e=new Date;if(e.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=e;const t=await this._getCurrentBlockHeight();this.currentBlockHeight=t;this.resolvers.forEach(e=>e(t));this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(e=>this.resolvers.push(e))}async _getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},i),{method:"eth_blockNumber",params:[]}));return(0,t.intNumberFromHexString)((0,t.ensureHexString)(e))}async getBlockHashByNumber(e){const n=await this.sendAsyncPromise(Object.assign(Object.assign({},i),{method:"eth_getBlockByNumber",params:[(0,t.hexStringFromIntNumber)(e),!1]}));return n.result&&"string"==typeof n.result.hash?(0,t.ensureHexString)(n.result.hash):null}};_i.FilterPolyfill=s;function filterFromParam(e){return{fromBlock:intBlockHeightFromHexBlockHeight(e.fromBlock),toBlock:intBlockHeightFromHexBlockHeight(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}_i.filterFromParam=filterFromParam;function paramFromFilter(e){const t={fromBlock:hexBlockHeightFromIntBlockHeight(e.fromBlock),toBlock:hexBlockHeightFromIntBlockHeight(e.toBlock),topics:e.topics};null!==e.addresses&&(t.address=e.addresses);return t}function intBlockHeightFromHexBlockHeight(n){if(void 0===n||"latest"===n||"pending"===n)return"latest";if("earliest"===n)return(0,e.IntNumber)(0);if((0,t.isHexString)(n))return(0,t.intNumberFromHexString)(n);throw new Error(`Invalid block option: ${String(n)}`)}function hexBlockHeightFromIntBlockHeight(e){return"latest"===e?e:(0,t.hexStringFromIntNumber)(e)}function filterNotFoundError(){return Object.assign(Object.assign({},i),{error:{code:-32e3,message:"filter not found"}})}function emptyResult(){return Object.assign(Object.assign({},i),{result:[]})}return _i}var Ri={};var ki={};var Mi={};var Ci;var Ii;function requireJsonRpcRandomId(){if(Ii)return Ci;Ii=1;Ci=IdIterator;function IdIterator(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER;var n="undefined"!=typeof e.start?e.start:Math.floor(Math.random()*t);return function(){n%=t;return n++}}return Ci}var Ai;var xi;function requirePify$1(){if(xi)return Ai;xi=1;const processFn=(e,t)=>function(){const n=t.promiseModule;const i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];return new n((n,s)=>{t.errorFirst?i.push(function(e,i){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(e){t.unshift(e);s(t)}else n(t)}else e?s(e):n(i)}):i.push(function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];n(e)}else n(e)});e.apply(this,i)})};Ai=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const filter=e=>{const match=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(match):!t.exclude.some(match)};let n;n="function"==typeof e?function(){return t.excludeMain?e.apply(this,arguments):processFn(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const i in e){const s=e[i];n[i]="function"==typeof s&&filter(i)?processFn(s,t):s}return n};return Ai}var Ni={};var Bi={};var Ti;function requireCjs(){if(Ti)return Bi;Ti=1;Object.defineProperty(Bi,"__esModule",{value:!0});const e=s();function safeApply(e,t,n){try{Reflect.apply(e,t,n)}catch(i){setTimeout(()=>{throw i})}}function arrayClone(e){const t=e.length;const n=new Array(t);for(let i=0;i<t;i+=1)n[i]=e[i];return n}class t extends e.EventEmitter{emit(e,...t){let n="error"===e;const i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){let e;t.length>0&&([e]=t);if(e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));n.context=e;throw n}const s=i[e];if(void 0===s)return!1;if("function"==typeof s)safeApply(s,this,t);else{const e=s.length;const n=arrayClone(s);for(let i=0;i<e;i+=1)safeApply(n[i],this,t)}return!0}}Bi.default=t;return Bi}var qi;function requireBaseBlockTracker(){if(qi)return Ni;qi=1;var e=Ni&&Ni.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.BaseBlockTracker=void 0;const t=e(requireCjs());const n=1e3;const calculateSum=(e,t)=>e+t;const i=["sync","latest"];let s=class extends t.default{constructor(e){super();this._blockResetDuration=e.blockResetDuration||20*n;this._usePastBlocks=e.usePastBlocks||!1;this._currentBlock=null;this._isRunning=!1;this._onNewListener=this._onNewListener.bind(this);this._onRemoveListener=this._onRemoveListener.bind(this);this._resetCurrentBlock=this._resetCurrentBlock.bind(this);this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout();await this._maybeEnd();super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;const e=await new Promise(e=>this.once("latest",e));return e}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners();this._setupInternalEvents();this._onRemoveListener();return this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener);this.removeListener("removeListener",this._onRemoveListener);this.on("newListener",this._onNewListener);this.on("removeListener",this._onRemoveListener)}_onNewListener(e){i.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){if(!this._isRunning){this._isRunning=!0;this._cancelBlockResetTimeout();await this._start();this.emit("_started")}}async _maybeEnd(){if(this._isRunning){this._isRunning=!1;this._setupBlockResetTimeout();await this._end();this.emit("_ended")}}_getBlockTrackerEventCount(){return i.map(e=>this.listenerCount(e)).reduce(calculateSum)}_shouldUseNewBlock(e){const t=this._currentBlock;if(!t)return!0;const n=hexToInt(e);const i=hexToInt(t);return this._usePastBlocks&&n<i||n>i}_newPotentialLatest(e){this._shouldUseNewBlock(e)&&this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e;this.emit("latest",e);this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout();this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration);this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};Ni.BaseBlockTracker=s;function hexToInt(e){return Number.parseInt(e,16)}return Ni}var Pi={};var Oi={};var Li={};class Fi extends TypeError{constructor(e,t){let n;const{message:i,explanation:s,...o}=e;const{path:a}=e;const c=0===a.length?i:`At path: ${a.join(".")} -- ${i}`;super(s??c);null!=s&&(this.cause=c);Object.assign(this,o);this.name=this.constructor.name;this.failures=()=>n??(n=[e,...t()])}}function isIterable(e){return isObject(e)&&"function"==typeof e[Symbol.iterator]}function isObject(e){return"object"==typeof e&&null!=e}function isPlainObject(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function print(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function shiftIterator(e){const{done:t,value:n}=e.next();return t?void 0:n}function toFailure(e,t,n,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:o}=t;const{type:a}=n;const{refinement:c,message:u=`Expected a value of type \`${a}\`${c?` with refinement \`${c}\``:""}, but received: \`${print(i)}\``}=e;return{value:i,type:a,refinement:c,key:s[s.length-1],path:s,branch:o,...e,message:u}}function*toFailures(e,t,n,i){isIterable(e)||(e=[e]);for(const s of e){const e=toFailure(s,t,n,i);e&&(yield e)}}function*run(e,t,n={}){const{path:i=[],branch:s=[e],coerce:o=!1,mask:a=!1}=n;const c={path:i,branch:s};if(o){e=t.coercer(e,c);if(a&&"type"!==t.type&&isObject(t.schema)&&isObject(e)&&!Array.isArray(e))for(const n in e)void 0===t.schema[n]&&delete e[n]}let u="valid";for(const l of t.validator(e,c)){l.explanation=n.message;u="not_valid";yield[l,void 0]}for(let[l,h,d]of t.entries(e,c)){const t=run(h,d,{path:void 0===l?i:[...i,l],branch:void 0===l?s:[...s,h],coerce:o,mask:a,message:n.message});for(const n of t)if(n[0]){u=null!=n[0].refinement?"not_refined":"not_valid";yield[n[0],void 0]}else if(o){h=n[1];void 0===l?e=h:e instanceof Map?e.set(l,h):e instanceof Set?e.add(h):isObject(e)&&(void 0!==h||l in e)&&(e[l]=h)}}if("not_valid"!==u)for(const l of t.refiner(e,c)){l.explanation=n.message;u="not_refined";yield[l,void 0]}"valid"===u&&(yield[void 0,e])}class ji{constructor(e){const{type:t,schema:n,validator:i,refiner:s,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t;this.schema=n;this.entries=a;this.coercer=o;this.validator=i?(e,t)=>{const n=i(e,t);return toFailures(n,t,this,e)}:()=>[];this.refiner=s?(e,t)=>{const n=s(e,t);return toFailures(n,t,this,e)}:()=>[]}assert(e,t){return assert(e,this,t)}create(e,t){return create(e,this,t)}is(e){return is(e,this)}mask(e,t){return mask(e,this,t)}validate(e,t={}){return validate(e,this,t)}}function assert(e,t,n){const i=validate(e,t,{message:n});if(i[0])throw i[0]}function create(e,t,n){const i=validate(e,t,{coerce:!0,message:n});if(i[0])throw i[0];return i[1]}function mask(e,t,n){const i=validate(e,t,{coerce:!0,mask:!0,message:n});if(i[0])throw i[0];return i[1]}function is(e,t){const n=validate(e,t);return!n[0]}function validate(e,t,n={}){const i=run(e,t,n);const s=shiftIterator(i);if(s[0]){const e=new Fi(s[0],function*(){for(const e of i)e[0]&&(yield e[0])});return[e,void 0]}{const e=s[1];return[void 0,e]}}function assign(...e){const t="type"===e[0].type;const n=e.map(e=>e.schema);const i=Object.assign({},...n);return t?type(i):object(i)}function define(e,t){return new ji({type:e,schema:null,validator:t})}function deprecated(e,t){return new ji({...e,refiner:(t,n)=>void 0===t||e.refiner(t,n),validator(n,i){if(void 0===n)return!0;t(n,i);return e.validator(n,i)}})}function dynamic(e){return new ji({type:"dynamic",schema:null,*entries(t,n){const i=e(t,n);yield*i.entries(t,n)},validator(t,n){const i=e(t,n);return i.validator(t,n)},coercer(t,n){const i=e(t,n);return i.coercer(t,n)},refiner(t,n){const i=e(t,n);return i.refiner(t,n)}})}function lazy(e){let t;return new ji({type:"lazy",schema:null,*entries(n,i){t??(t=e());yield*t.entries(n,i)},validator(n,i){t??(t=e());return t.validator(n,i)},coercer(n,i){t??(t=e());return t.coercer(n,i)},refiner(n,i){t??(t=e());return t.refiner(n,i)}})}function omit(e,t){const{schema:n}=e;const i={...n};for(const s of t)delete i[s];return"type"===e.type?type(i):object(i)}function partial(e){const t=e instanceof ji;const n=t?{...e.schema}:{...e};for(const i in n)n[i]=optional(n[i]);return t&&"type"===e.type?type(n):object(n)}function pick(e,t){const{schema:n}=e;const i={};for(const s of t)i[s]=n[s];return"type"===e.type?type(i):object(i)}function struct(e,t){console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`.");return define(e,t)}function any(){return define("any",()=>!0)}function array(e){return new ji({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,i]of t.entries())yield[n,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${print(e)}`})}function bigint(){return define("bigint",e=>"bigint"==typeof e)}function boolean(){return define("boolean",e=>"boolean"==typeof e)}function date(){return define("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${print(e)}`)}function enums(e){const t={};const n=e.map(e=>print(e)).join();for(const i of e)t[i]=i;return new ji({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${n}\`, but received: ${print(t)}`})}function func(){return define("func",e=>"function"==typeof e||`Expected a function, but received: ${print(e)}`)}function instance(e){return define("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${print(t)}`)}function integer(){return define("integer",e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${print(e)}`)}function intersection(e){return new ji({type:"intersection",schema:null,*entries(t,n){for(const i of e)yield*i.entries(t,n)},*validator(t,n){for(const i of e)yield*i.validator(t,n)},*refiner(t,n){for(const i of e)yield*i.refiner(t,n)}})}function literal(e){const t=print(e);const n=typeof e;return new ji({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${print(n)}`})}function map(e,t){return new ji({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[i,s]of n.entries()){yield[i,i,e];yield[i,s,t]}},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${print(e)}`})}function never(){return define("never",()=>!1)}function nullable(e){return new ji({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function number$1(){return define("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${print(e)}`)}function object(e){const t=e?Object.keys(e):[];const n=never();return new ji({type:"object",schema:e||null,*entries(i){if(e&&isObject(i)){const s=new Set(Object.keys(i));for(const n of t){s.delete(n);yield[n,i[n],e[n]]}for(const e of s)yield[e,i[e],n]}},validator:e=>isObject(e)||`Expected an object, but received: ${print(e)}`,coercer:e=>isObject(e)?{...e}:e})}function optional(e){return new ji({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function record(e,t){return new ji({type:"record",schema:null,*entries(n){if(isObject(n))for(const i in n){const s=n[i];yield[i,i,e];yield[i,s,t]}},validator:e=>isObject(e)||`Expected an object, but received: ${print(e)}`})}function regexp(){return define("regexp",e=>e instanceof RegExp)}function set(e){return new ji({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${print(e)}`})}function string(){return define("string",e=>"string"==typeof e||`Expected a string, but received: ${print(e)}`)}function tuple(e){const t=never();return new ji({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(e.length,n.length);for(let s=0;s<i;s++)yield[s,n[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${print(e)}`})}function type(e){const t=Object.keys(e);return new ji({type:"type",schema:e,*entries(n){if(isObject(n))for(const i of t)yield[i,n[i],e[i]]},validator:e=>isObject(e)||`Expected an object, but received: ${print(e)}`,coercer:e=>isObject(e)?{...e}:e})}function union(e){const t=e.map(e=>e.type).join(" | ");return new ji({type:"union",schema:null,coercer(t){for(const n of e){const[e,i]=n.validate(t,{coerce:!0});if(!e)return i}return t},validator(n,i){const s=[];for(const t of e){const[...e]=run(n,t,i);const[o]=e;if(!o[0])return[];for(const[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${print(n)}`,...s]}})}function unknown(){return define("unknown",()=>!0)}function coerce(e,t,n){return new ji({...e,coercer:(i,s)=>is(i,t)?e.coercer(n(i,s),s):e.coercer(i,s)})}function defaulted(e,t,n={}){return coerce(e,unknown(),e=>{const i="function"==typeof t?t():t;if(void 0===e)return i;if(!n.strict&&isPlainObject(e)&&isPlainObject(i)){const t={...e};let n=!1;for(const e in i)if(void 0===t[e]){t[e]=i[e];n=!0}if(n)return t}return e})}function trimmed(e){return coerce(e,string(),e=>e.trim())}function empty(e){return refine(e,"empty",t=>{const n=getSize(t);return 0===n||`Expected an empty ${e.type} but received one with a size of \`${n}\``})}function getSize(e){return e instanceof Map||e instanceof Set?e.size:e.length}function max(e,t,n={}){const{exclusive:i}=n;return refine(e,"max",n=>i?n<t:n<=t||`Expected a ${e.type} less than ${i?"":"or equal to "}${t} but received \`${n}\``)}function min(e,t,n={}){const{exclusive:i}=n;return refine(e,"min",n=>i?n>t:n>=t||`Expected a ${e.type} greater than ${i?"":"or equal to "}${t} but received \`${n}\``)}function nonempty(e){return refine(e,"nonempty",t=>{const n=getSize(t);return n>0||`Expected a nonempty ${e.type} but received an empty one`})}function pattern(e,t){return refine(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)}function size(e,t,n=t){const i=`Expected a ${e.type}`;const s=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return refine(e,"size",e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=n||`${i} ${s} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:o}=e;return t<=o&&o<=n||`${i} with a size ${s} but received one with a size of \`${o}\``}{const{length:o}=e;return t<=o&&o<=n||`${i} with a length ${s} but received one with a length of \`${o}\``}})}function refine(e,t,n){return new ji({...e,*refiner(i,s){yield*e.refiner(i,s);const o=n(i,s);const a=toFailures(o,s,e,i);for(const e of a)yield{...e,refinement:t}}})}const Di=Object.freeze(Object.defineProperty({__proto__:null,Struct:ji,StructError:Fi,any:any,array:array,assert:assert,assign:assign,bigint:bigint,boolean:boolean,coerce:coerce,create:create,date:date,defaulted:defaulted,define:define,deprecated:deprecated,dynamic:dynamic,empty:empty,enums:enums,func:func,instance:instance,integer:integer,intersection:intersection,is:is,lazy:lazy,literal:literal,map:map,mask:mask,max:max,min:min,never:never,nonempty:nonempty,nullable:nullable,number:number$1,object:object,omit:omit,optional:optional,partial:partial,pattern:pattern,pick:pick,record:record,refine:refine,regexp:regexp,set:set,size:size,string:string,struct:struct,trimmed:trimmed,tuple:tuple,type:type,union:union,unknown:unknown,validate:validate},Symbol.toStringTag,{value:"Module"}));const $i=i(Di);var Ui;function requireAssert(){if(Ui)return Li;Ui=1;Object.defineProperty(Li,"__esModule",{value:!0});Li.assertExhaustive=Li.assertStruct=Li.assert=Li.AssertionError=void 0;const e=$i;function isErrorWithMessage(e){return"object"==typeof e&&null!==e&&"message"in e}function isConstructable(e){var t,n;return Boolean("string"==typeof(null===(n=null===(t=null==e?void 0:e.prototype)||void 0===t?void 0:t.constructor)||void 0===n?void 0:n.name))}function getErrorMessage(e){const t=isErrorWithMessage(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function getError(e,t){return isConstructable(e)?new e({message:t}):e({message:t})}class t extends Error{constructor(e){super(e.message);this.code="ERR_ASSERTION"}}Li.AssertionError=t;function assert2(e,n="Assertion failed.",i=t){if(!e){if(n instanceof Error)throw n;throw getError(i,n)}}Li.assert=assert2;function assertStruct(n,i,s="Assertion failed",o=t){try{(0,e.assert)(n,i)}catch(a){throw getError(o,`${s}: ${getErrorMessage(a)}.`)}}Li.assertStruct=assertStruct;function assertExhaustive(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}Li.assertExhaustive=assertExhaustive;return Li}var Hi={};var Wi;function requireBase64(){if(Wi)return Hi;Wi=1;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.base64=void 0;const e=$i;const t=requireAssert();const base64$1=(n,i={})=>{var s,o;const a=null!==(s=i.paddingRequired)&&void 0!==s&&s;const c=null!==(o=i.characterSet)&&void 0!==o?o:"base64";let u;if("base64"===c)u=String.raw`[A-Za-z0-9+\/]`;else{(0,t.assert)("base64url"===c);u=String.raw`[-_A-Za-z0-9]`}let l;l=a?new RegExp(`^(?:${u}{4})*(?:${u}{3}=|${u}{2}==)?$`,"u"):new RegExp(`^(?:${u}{4})*(?:${u}{2,3}|${u}{3}=|${u}{2}==)?$`,"u");return(0,e.pattern)(n,l)};Hi.base64=base64$1;return Hi}var Vi={};var zi={};var Ji;function requireHex(){if(Ji)return zi;Ji=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=$i;const n=requireAssert();e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu);e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function isHexString(n){return(0,t.is)(n,e.HexStruct)}e.isHexString=isHexString;function isStrictHexString(n){return(0,t.is)(n,e.StrictHexStruct)}e.isStrictHexString=isStrictHexString;function assertIsHexString(e){(0,n.assert)(isHexString(e),"Value must be a hexadecimal string.")}e.assertIsHexString=assertIsHexString;function assertIsStrictHexString(e){(0,n.assert)(isStrictHexString(e),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=assertIsStrictHexString;function add0x(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}e.add0x=add0x;function remove0x(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}e.remove0x=remove0x}(zi);return zi}var Gi;function requireBytes(){if(Gi)return Vi;Gi=1;Object.defineProperty(Vi,"__esModule",{value:!0});Vi.createDataView=Vi.concatBytes=Vi.valueToBytes=Vi.stringToBytes=Vi.numberToBytes=Vi.signedBigIntToBytes=Vi.bigIntToBytes=Vi.hexToBytes=Vi.bytesToString=Vi.bytesToNumber=Vi.bytesToSignedBigInt=Vi.bytesToBigInt=Vi.bytesToHex=Vi.assertIsBytes=Vi.isBytes=void 0;const e=requireAssert();const t=requireHex();const n=48;const i=58;const s=87;function getPrecomputedHexValuesBuilder(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const o=getPrecomputedHexValuesBuilder();function isBytes(e){return e instanceof Uint8Array}Vi.isBytes=isBytes;function assertIsBytes(t){(0,e.assert)(isBytes(t),"Value must be a Uint8Array.")}Vi.assertIsBytes=assertIsBytes;function bytesToHex(e){assertIsBytes(e);if(0===e.length)return"0x";const n=o();const i=new Array(e.length);for(let t=0;t<e.length;t++)i[t]=n[e[t]];return(0,t.add0x)(i.join(""))}Vi.bytesToHex=bytesToHex;function bytesToBigInt(e){assertIsBytes(e);const t=bytesToHex(e);return BigInt(t)}Vi.bytesToBigInt=bytesToBigInt;function bytesToSignedBigInt(e){assertIsBytes(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(8*e.length,t)}Vi.bytesToSignedBigInt=bytesToSignedBigInt;function bytesToNumber(t){assertIsBytes(t);const n=bytesToBigInt(t);(0,e.assert)(n<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead.");return Number(n)}Vi.bytesToNumber=bytesToNumber;function bytesToString(e){assertIsBytes(e);return(new TextDecoder).decode(e)}Vi.bytesToString=bytesToString;function hexToBytes(e){var o;if("0x"===(null===(o=null==e?void 0:e.toLowerCase)||void 0===o?void 0:o.call(e)))return new Uint8Array;(0,t.assertIsHexString)(e);const a=(0,t.remove0x)(e).toLowerCase();const c=a.length%2==0?a:`0${a}`;const u=new Uint8Array(c.length/2);for(let t=0;t<u.length;t++){const e=c.charCodeAt(2*t);const o=c.charCodeAt(2*t+1);const a=e-(e<i?n:s);const l=o-(o<i?n:s);u[t]=16*a+l}return u}Vi.hexToBytes=hexToBytes;function bigIntToBytes(t){(0,e.assert)("bigint"==typeof t,"Value must be a bigint.");(0,e.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const n=t.toString(16);return hexToBytes(n)}Vi.bigIntToBytes=bigIntToBytes;function bigIntFits(t,n){(0,e.assert)(n>0);const i=t>>BigInt(31);return!((~t&i)+(t&~i)>>BigInt(8*n-1))}function signedBigIntToBytes(t,n){(0,e.assert)("bigint"==typeof t,"Value must be a bigint.");(0,e.assert)("number"==typeof n,"Byte length must be a number.");(0,e.assert)(n>0,"Byte length must be greater than 0.");(0,e.assert)(bigIntFits(t,n),"Byte length is too small to represent the given value.");let i=t;const s=new Uint8Array(n);for(let e=0;e<s.length;e++){s[e]=Number(BigInt.asUintN(8,i));i>>=BigInt(8)}return s.reverse()}Vi.signedBigIntToBytes=signedBigIntToBytes;function numberToBytes(t){(0,e.assert)("number"==typeof t,"Value must be a number.");(0,e.assert)(t>=0,"Value must be a non-negative number.");(0,e.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const n=t.toString(16);return hexToBytes(n)}Vi.numberToBytes=numberToBytes;function stringToBytes(t){(0,e.assert)("string"==typeof t,"Value must be a string.");return(new TextEncoder).encode(t)}Vi.stringToBytes=stringToBytes;function valueToBytes(e){if("bigint"==typeof e)return bigIntToBytes(e);if("number"==typeof e)return numberToBytes(e);if("string"==typeof e)return e.startsWith("0x")?hexToBytes(e):stringToBytes(e);if(isBytes(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}Vi.valueToBytes=valueToBytes;function concatBytes(e){const t=new Array(e.length);let n=0;for(let s=0;s<e.length;s++){const i=valueToBytes(e[s]);t[s]=i;n+=i.length}const i=new Uint8Array(n);for(let s=0,o=0;s<t.length;s++){i.set(t[s],o);o+=t[s].length}return i}Vi.concatBytes=concatBytes;function createDataView(e){if("undefined"!=typeof Buffer&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}Vi.createDataView=createDataView;return Vi}var Qi={};var Zi;function requireChecksum(){if(Zi)return Qi;Zi=1;Object.defineProperty(Qi,"__esModule",{value:!0});Qi.ChecksumStruct=void 0;const e=$i;const t=requireBase64();Qi.ChecksumStruct=(0,e.size)((0,t.base64)((0,e.string)(),{paddingRequired:!0}),44,44);return Qi}var Ki={};var Yi;function requireCoercers(){if(Yi)return Ki;Yi=1;Object.defineProperty(Ki,"__esModule",{value:!0});Ki.createHex=Ki.createBytes=Ki.createBigInt=Ki.createNumber=void 0;const e=$i;const t=requireAssert();const n=requireBytes();const i=requireHex();const s=(0,e.union)([(0,e.number)(),(0,e.bigint)(),(0,e.string)(),i.StrictHexStruct]);const o=(0,e.coerce)((0,e.number)(),s,Number);const a=(0,e.coerce)((0,e.bigint)(),s,BigInt);(0,e.union)([i.StrictHexStruct,(0,e.instance)(Uint8Array)]);const c=(0,e.coerce)((0,e.instance)(Uint8Array),(0,e.union)([i.StrictHexStruct]),n.hexToBytes);const u=(0,e.coerce)(i.StrictHexStruct,(0,e.instance)(Uint8Array),n.bytesToHex);function createNumber(n){try{const i=(0,e.create)(n,o);(0,t.assert)(Number.isFinite(i),`Expected a number-like value, got "${n}".`);return i}catch(i){if(i instanceof e.StructError)throw new Error(`Expected a number-like value, got "${n}".`);throw i}}Ki.createNumber=createNumber;function createBigInt(t){try{return(0,e.create)(t,a)}catch(n){if(n instanceof e.StructError)throw new Error(`Expected a number-like value, got "${String(n.value)}".`);throw n}}Ki.createBigInt=createBigInt;function createBytes(t){if("string"==typeof t&&"0x"===t.toLowerCase())return new Uint8Array;try{return(0,e.create)(t,c)}catch(n){if(n instanceof e.StructError)throw new Error(`Expected a bytes-like value, got "${String(n.value)}".`);throw n}}Ki.createBytes=createBytes;function createHex(t){if(t instanceof Uint8Array&&0===t.length||"string"==typeof t&&"0x"===t.toLowerCase())return"0x";try{return(0,e.create)(t,u)}catch(n){if(n instanceof e.StructError)throw new Error(`Expected a bytes-like value, got "${String(n.value)}".`);throw n}}Ki.createHex=createHex;return Ki}var Xi={};var es;function requireCollections(){if(es)return Xi;es=1;var e=Xi&&Xi.__classPrivateFieldSet||function(e,t,n,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(e,n):s?s.value=n:t.set(e,n),n};var t=Xi&&Xi.__classPrivateFieldGet||function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};var n,i;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.FrozenSet=Xi.FrozenMap=void 0;class s{constructor(t){n.set(this,void 0);e(this,n,new Map(t),"f");Object.freeze(this)}get size(){return t(this,n,"f").size}[(n=new WeakMap,Symbol.iterator)](){return t(this,n,"f")[Symbol.iterator]()}entries(){return t(this,n,"f").entries()}forEach(e,i){return t(this,n,"f").forEach((t,n,s)=>e.call(i,t,n,this))}get(e){return t(this,n,"f").get(e)}has(e){return t(this,n,"f").has(e)}keys(){return t(this,n,"f").keys()}values(){return t(this,n,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,t])=>`${String(e)} => ${String(t)}`).join(", ")} `:""}}`}}Xi.FrozenMap=s;class o{constructor(t){i.set(this,void 0);e(this,i,new Set(t),"f");Object.freeze(this)}get size(){return t(this,i,"f").size}[(i=new WeakMap,Symbol.iterator)](){return t(this,i,"f")[Symbol.iterator]()}entries(){return t(this,i,"f").entries()}forEach(e,n){return t(this,i,"f").forEach((t,i,s)=>e.call(n,t,i,this))}has(e){return t(this,i,"f").has(e)}keys(){return t(this,i,"f").keys()}values(){return t(this,i,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Xi.FrozenSet=o;Object.freeze(s);Object.freeze(s.prototype);Object.freeze(o);Object.freeze(o.prototype);return Xi}var ts={};var rs;function requireEncryptionTypes(){if(rs)return ts;rs=1;Object.defineProperty(ts,"__esModule",{value:!0});return ts}var ns={};var ss;function requireJson(){if(ss)return ns;ss=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=$i;const n=requireAssert();const finiteNumber=()=>(0,t.define)("finite number",e=>(0,t.is)(e,(0,t.number)())&&Number.isFinite(e));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),finiteNumber(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]);e.JsonStruct=(0,t.define)("Json",(t,n)=>{function checkStruct(e,t){const i=t.validator(e,n);const s=[...i];return!(s.length>0)||s}try{const n=checkStruct(t,e.UnsafeJsonStruct);return!0!==n?n:checkStruct(JSON.parse(JSON.stringify(t)),e.UnsafeJsonStruct)}catch(i){return i instanceof RangeError&&"Circular reference detected"}});function isValidJson(n){return(0,t.is)(n,e.JsonStruct)}e.isValidJson=isValidJson;function getJsonSize(t){(0,n.assertStruct)(t,e.JsonStruct,"Invalid JSON value");const i=JSON.stringify(t);return(new TextEncoder).encode(i).byteLength}e.getJsonSize=getJsonSize;e.jsonrpc2="2.0";e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2);e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()]));e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())});e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)]));e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct});e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function isJsonRpcNotification(n){return(0,t.is)(n,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=isJsonRpcNotification;function assertIsJsonRpcNotification(t,i){(0,n.assertStruct)(t,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",i)}e.assertIsJsonRpcNotification=assertIsJsonRpcNotification;function isJsonRpcRequest(n){return(0,t.is)(n,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=isJsonRpcRequest;function assertIsJsonRpcRequest(t,i){(0,n.assertStruct)(t,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",i)}e.assertIsJsonRpcRequest=assertIsJsonRpcRequest;e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)});e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct});e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct});e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function isPendingJsonRpcResponse(n){return(0,t.is)(n,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=isPendingJsonRpcResponse;function assertIsPendingJsonRpcResponse(t,i){(0,n.assertStruct)(t,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",i)}e.assertIsPendingJsonRpcResponse=assertIsPendingJsonRpcResponse;function isJsonRpcResponse(n){return(0,t.is)(n,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=isJsonRpcResponse;function assertIsJsonRpcResponse(t,i){(0,n.assertStruct)(t,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",i)}e.assertIsJsonRpcResponse=assertIsJsonRpcResponse;function isJsonRpcSuccess(n){return(0,t.is)(n,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=isJsonRpcSuccess;function assertIsJsonRpcSuccess(t,i){(0,n.assertStruct)(t,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",i)}e.assertIsJsonRpcSuccess=assertIsJsonRpcSuccess;function isJsonRpcFailure(n){return(0,t.is)(n,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=isJsonRpcFailure;function assertIsJsonRpcFailure(t,i){(0,n.assertStruct)(t,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",i)}e.assertIsJsonRpcFailure=assertIsJsonRpcFailure;function isJsonRpcError(n){return(0,t.is)(n,e.JsonRpcErrorStruct)}e.isJsonRpcError=isJsonRpcError;function assertIsJsonRpcError(t,i){(0,n.assertStruct)(t,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",i)}e.assertIsJsonRpcError=assertIsJsonRpcError;function getJsonRpcIdValidator(e){const{permitEmptyString:t,permitFractions:n,permitNull:i}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},e);const isValidJsonRpcId=e=>Boolean("number"==typeof e&&(n||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||i&&null===e);return isValidJsonRpcId}e.getJsonRpcIdValidator=getJsonRpcIdValidator}(ns);return ns}var os={};var as;function requireKeyring(){if(as)return os;as=1;Object.defineProperty(os,"__esModule",{value:!0});return os}var cs={};var us={exports:{}};var ls;var hs;function requireMs(){if(hs)return ls;hs=1;var e=1e3;var t=60*e;var n=60*t;var i=24*n;var s=7*i;var o=365.25*i;ls=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return parse(e);if("number"===n&&isFinite(e))return t.long?fmtLong(e):fmtShort(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(a){a=String(a);if(!(a.length>100)){var c=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(c){var u=parseFloat(c[1]);var l=(c[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return u*o;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*n;case"minutes":case"minute":case"mins":case"min":case"m":return u*t;case"seconds":case"second":case"secs":case"sec":case"s":return u*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}}}function fmtShort(s){var o=Math.abs(s);return o>=i?Math.round(s/i)+"d":o>=n?Math.round(s/n)+"h":o>=t?Math.round(s/t)+"m":o>=e?Math.round(s/e)+"s":s+"ms"}function fmtLong(s){var o=Math.abs(s);return o>=i?plural(s,o,i,"day"):o>=n?plural(s,o,n,"hour"):o>=t?plural(s,o,t,"minute"):o>=e?plural(s,o,e,"second"):s+" ms"}function plural(e,t,n,i){var s=t>=1.5*n;return Math.round(e/n)+" "+i+(s?"s":"")}return ls}var ds;var fs;function requireCommon(){if(fs)return ds;fs=1;function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce2;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=requireMs();createDebug.destroy=destroy;Object.keys(e).forEach(t=>{createDebug[t]=e[t]});createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let n=null;let i;let s;function debug(...e){if(!debug.enabled)return;const n=debug;const i=Number(new Date);const s=i-(t||i);n.diff=s;n.prev=t;n.curr=i;t=i;e[0]=createDebug.coerce(e[0]);"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return"%";o++;const s=createDebug.formatters[i];if("function"==typeof s){const i=e[o];t=s.call(n,i);e.splice(o,1);o--}return t});createDebug.formatArgs.call(n,e);const a=n.log||createDebug.log;a.apply(n,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(null!==n)return n;if(i!==createDebug.namespaces){i=createDebug.namespaces;s=createDebug.enabled(e)}return s},set:e=>{n=e}});"function"==typeof createDebug.init&&createDebug.init(debug);return debug}function extend(e,t){const n=createDebug(this.namespace+("undefined"==typeof t?":":t)+e);n.log=this.log;return n}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];const t=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const n of t)"-"===n[0]?createDebug.skips.push(n.slice(1)):createDebug.names.push(n)}function matchesTemplate(e,t){let n=0;let i=0;let s=-1;let o=0;for(;n<e.length;)if(i<t.length&&(t[i]===e[n]||"*"===t[i]))if("*"===t[i]){s=i;o=n;i++}else{n++;i++}else{if(-1===s)return!1;i=s+1;o++;n=o}for(;i<t.length&&"*"===t[i];)i++;return i===t.length}function disable(){const e=[...createDebug.names,...createDebug.skips.map(e=>"-"+e)].join(",");createDebug.enable("");return e}function enabled(e){for(const t of createDebug.skips)if(matchesTemplate(e,t))return!1;for(const t of createDebug.names)if(matchesTemplate(e,t))return!0;return!1}function coerce2(e){return e instanceof Error?e.stack||e.message:e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}ds=setup;return ds}var ps;function requireBrowser(){if(ps)return us.exports;ps=1;!function(e,t){var n={};t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=!1;return()=>{if(!e){e=!0;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0;let s=0;t[0].replace(/%[a-zA-Z%]/g,e=>{if("%%"!==e){i++;"%c"===e&&(s=i)}});t.splice(s,0,n)}t.log=console.debug||console.log||(()=>{});function save(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}}function load(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(i){}!e&&"undefined"!=typeof process&&"env"in process&&(e=n.DEBUG);return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=requireCommon()(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(us,us.exports);return us.exports}var gs;function requireLogging(){if(gs)return cs;gs=1;var e=cs&&cs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cs,"__esModule",{value:!0});cs.createModuleLogger=cs.createProjectLogger=void 0;const t=e(requireBrowser());const n=(0,t.default)("metamask");function createProjectLogger(e){return n.extend(e)}cs.createProjectLogger=createProjectLogger;function createModuleLogger(e,t){return e.extend(t)}cs.createModuleLogger=createModuleLogger;return cs}var ms={};var vs;function requireMisc(){if(vs)return ms;vs=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function isNonEmptyArray(e){return Array.isArray(e)&&e.length>0}e.isNonEmptyArray=isNonEmptyArray;function isNullOrUndefined(e){return null==e}e.isNullOrUndefined=isNullOrUndefined;function isObject2(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)}e.isObject=isObject2;const hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t);e.hasProperty=hasProperty;!function(e){e[e.Null=4]="Null";e[e.Comma=1]="Comma";e[e.Wrapper=1]="Wrapper";e[e.True=4]="True";e[e.False=5]="False";e[e.Quote=1]="Quote";e[e.Colon=1]="Colon";e[e.Date=24]="Date"}(e.JsonSize||(e.JsonSize={}));e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function isPlainObject2(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(t){return!1}}e.isPlainObject=isPlainObject2;function isASCII(e){return e.charCodeAt(0)<=127}e.isASCII=isASCII;function calculateStringSize(t){var n;const i=t.split("").reduce((e,t)=>isASCII(t)?e+1:e+2,0);return i+(null!==(n=t.match(e.ESCAPE_CHARACTERS_REGEXP))&&void 0!==n?n:[]).length}e.calculateStringSize=calculateStringSize;function calculateNumberSize(e){return e.toString().length}e.calculateNumberSize=calculateNumberSize}(ms);return ms}var ys={};var bs;function requireNumber(){if(bs)return ys;bs=1;Object.defineProperty(ys,"__esModule",{value:!0});ys.hexToBigInt=ys.hexToNumber=ys.bigIntToHex=ys.numberToHex=void 0;const e=requireAssert();const t=requireHex();const numberToHex=n=>{(0,e.assert)("number"==typeof n,"Value must be a number.");(0,e.assert)(n>=0,"Value must be a non-negative number.");(0,e.assert)(Number.isSafeInteger(n),"Value is not a safe integer. Use `bigIntToHex` instead.");return(0,t.add0x)(n.toString(16))};ys.numberToHex=numberToHex;const bigIntToHex=n=>{(0,e.assert)("bigint"==typeof n,"Value must be a bigint.");(0,e.assert)(n>=0,"Value must be a non-negative bigint.");return(0,t.add0x)(n.toString(16))};ys.bigIntToHex=bigIntToHex;const hexToNumber=n=>{(0,t.assertIsHexString)(n);const i=parseInt(n,16);(0,e.assert)(Number.isSafeInteger(i),"Value is not a safe integer. Use `hexToBigInt` instead.");return i};ys.hexToNumber=hexToNumber;const hexToBigInt=e=>{(0,t.assertIsHexString)(e);return BigInt((0,t.add0x)(e))};ys.hexToBigInt=hexToBigInt;return ys}var ws={};var Es;function requireOpaque(){if(Es)return ws;Es=1;Object.defineProperty(ws,"__esModule",{value:!0});return ws}var _s={};var Ss;function requireTime(){if(Ss)return _s;Ss=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.timeSince=e.inMilliseconds=e.Duration=void 0;!function(e){e[e.Millisecond=1]="Millisecond";e[e.Second=1e3]="Second";e[e.Minute=6e4]="Minute";e[e.Hour=36e5]="Hour";e[e.Day=864e5]="Day";e[e.Week=6048e5]="Week";e[e.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const isNonNegativeInteger=e=>Number.isInteger(e)&&e>=0;const assertIsNonNegativeInteger=(e,t)=>{if(!isNonNegativeInteger(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};function inMilliseconds(e,t){assertIsNonNegativeInteger(e,"count");return e*t}e.inMilliseconds=inMilliseconds;function timeSince(e){assertIsNonNegativeInteger(e,"timestamp");return Date.now()-e}e.timeSince=timeSince}(_s);return _s}var Rs={};var ks;function requireTransactionTypes(){if(ks)return Rs;ks=1;Object.defineProperty(Rs,"__esModule",{value:!0});return Rs}var Ms={};var Cs={exports:{}};var Is;var As;function requireConstants(){if(As)return Is;As=1;const e="2.0.0";const t=256;const n=Number.MAX_SAFE_INTEGER||9007199254740991;const i=16;const s=t-6;const o=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Is={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:o,SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};return Is}var xs;var Ns;function requireDebug(){if(Ns)return xs;Ns=1;var e={};const t="object"==typeof process&&e&&e.NODE_DEBUG&&/\bsemver\b/i.test(e.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};xs=t;return xs}var Bs;function requireRe(){if(Bs)return Cs.exports;Bs=1;!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:s}=requireConstants();const o=requireDebug();t=e.exports={};const a=t.re=[];const c=t.safeRe=[];const u=t.src=[];const l=t.safeSrc=[];const h=t.t={};let d=0;const f="[a-zA-Z0-9-]";const p=[["\\s",1],["\\d",s],[f,i]];const makeSafeRegex=e=>{for(const[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e};const createToken=(e,t,n)=>{const i=makeSafeRegex(t);const s=d++;o(e,s,t);h[e]=s;u[s]=t;l[s]=i;a[s]=new RegExp(t,n?"g":void 0);c[s]=new RegExp(i,n?"g":void 0)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","\\d+");createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`);createToken("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER",`${f}+`);createToken("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`);createToken("FULL",`^${u[h.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`);createToken("LOOSE",`^${u[h.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`);createToken("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`);createToken("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`);createToken("COERCE",`${u[h.COERCEPLAIN]}(?:$|[^\\d])`);createToken("COERCEFULL",u[h.COERCEPLAIN]+`(?:${u[h.PRERELEASE]})?(?:${u[h.BUILD]})?(?:$|[^\\d])`);createToken("COERCERTL",u[h.COERCE],!0);createToken("COERCERTLFULL",u[h.COERCEFULL],!0);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0);t.tildeTrimReplace="$1~";createToken("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0);t.caretTrimReplace="$1^";createToken("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0);t.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Cs,Cs.exports);return Cs.exports}var Ts;var qs;function requireParseOptions(){if(qs)return Ts;qs=1;const e=Object.freeze({loose:!0});const t=Object.freeze({});const parseOptions=n=>n?"object"!=typeof n?e:n:t;Ts=parseOptions;return Ts}var Ps;var Os;function requireIdentifiers(){if(Os)return Ps;Os=1;const e=/^[0-9]+$/;const compareIdentifiers=(t,n)=>{const i=e.test(t);const s=e.test(n);if(i&&s){t=+t;n=+n}return t===n?0:i&&!s?-1:s&&!i?1:t<n?-1:1};const rcompareIdentifiers=(e,t)=>compareIdentifiers(t,e);Ps={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers};return Ps}var Ls;var Fs;function requireSemver$1(){if(Fs)return Ls;Fs=1;const e=requireDebug();const{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=requireConstants();const{safeRe:i,t:s}=requireRe();const o=requireParseOptions();const{compareIdentifiers:a}=requireIdentifiers();class c{constructor(a,u){u=o(u);if(a instanceof c){if(a.loose===!!u.loose&&a.includePrerelease===!!u.includePrerelease)return a;a=a.version}else if("string"!=typeof a)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof a}".`);if(a.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",a,u);this.options=u;this.loose=!!u.loose;this.includePrerelease=!!u.includePrerelease;const l=a.trim().match(u.loose?i[s.LOOSE]:i[s.FULL]);if(!l)throw new TypeError(`Invalid Version: ${a}`);this.raw=a;this.major=+l[1];this.minor=+l[2];this.patch=+l[3];if(this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");l[4]?this.prerelease=l[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<n)return t}return e}):this.prerelease=[];this.build=l[5]?l[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(t){e("SemVer.compare",this.version,this.options,t);if(!(t instanceof c)){if("string"==typeof t&&t===this.version)return 0;t=new c(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(e){e instanceof c||(e=new c(e,this.options));return a(this.major,e.major)||a(this.minor,e.minor)||a(this.patch,e.patch)}comparePre(t){t instanceof c||(t=new c(t,this.options));if(this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const i=this.prerelease[n];const s=t.prerelease[n];e("prerelease compare",n,i,s);if(void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return-1;if(i!==s)return a(i,s)}while(++n)}compareBuild(t){t instanceof c||(t=new c(t,this.options));let n=0;do{const i=this.build[n];const s=t.build[n];e("build compare",n,i,s);if(void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return-1;if(i!==s)return a(i,s)}while(++n)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(t){const e=`-${t}`.match(this.options.loose?i[s.PRERELEASELOOSE]:i[s.PRERELEASE]);if(!e||e[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0;this.inc("patch",t,n);this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n);this.inc("pre",t,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)if("number"==typeof this.prerelease[i]){this.prerelease[i]++;i=-2}if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===n&&(i=[t]);0===a(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}this.raw=this.format();this.build.length&&(this.raw+=`+${this.build.join(".")}`);return this}}Ls=c;return Ls}var js;var Ds;function requireParse(){if(Ds)return js;Ds=1;const e=requireSemver$1();const parse=(t,n,i=!1)=>{if(t instanceof e)return t;try{return new e(t,n)}catch(s){if(!i)return null;throw s}};js=parse;return js}var $s;var Us;function requireValid$1(){if(Us)return $s;Us=1;const e=requireParse();const valid2=(t,n)=>{const i=e(t,n);return i?i.version:null};$s=valid2;return $s}var Hs;var Ws;function requireClean(){if(Ws)return Hs;Ws=1;const e=requireParse();const clean=(t,n)=>{const i=e(t.trim().replace(/^[=v]+/,""),n);return i?i.version:null};Hs=clean;return Hs}var Vs;var zs;function requireInc(){if(zs)return Vs;zs=1;const e=requireSemver$1();const inc=(t,n,i,s,o)=>{if("string"==typeof i){o=s;s=i;i=void 0}try{return new e(t instanceof e?t.version:t,i).inc(n,s,o).version}catch(a){return null}};Vs=inc;return Vs}var Js;var Gs;function requireDiff(){if(Gs)return Js;Gs=1;const e=requireParse();const diff=(t,n)=>{const i=e(t,null,!0);const s=e(n,null,!0);const o=i.compare(s);if(0===o)return null;const a=o>0;const c=a?i:s;const u=a?s:i;const l=!!c.prerelease.length;const h=!!u.prerelease.length;if(h&&!l){if(!u.patch&&!u.minor)return"major";if(0===u.compareMain(c))return u.minor&&!u.patch?"minor":"patch"}const d=l?"pre":"";return i.major!==s.major?d+"major":i.minor!==s.minor?d+"minor":i.patch!==s.patch?d+"patch":"prerelease"};Js=diff;return Js}var Qs;var Zs;function requireMajor(){if(Zs)return Qs;Zs=1;const e=requireSemver$1();const major=(t,n)=>new e(t,n).major;Qs=major;return Qs}var Ks;var Ys;function requireMinor(){if(Ys)return Ks;Ys=1;const e=requireSemver$1();const minor=(t,n)=>new e(t,n).minor;Ks=minor;return Ks}var Xs;var eo;function requirePatch(){if(eo)return Xs;eo=1;const e=requireSemver$1();const patch=(t,n)=>new e(t,n).patch;Xs=patch;return Xs}var to;var ro;function requirePrerelease(){if(ro)return to;ro=1;const e=requireParse();const prerelease=(t,n)=>{const i=e(t,n);return i&&i.prerelease.length?i.prerelease:null};to=prerelease;return to}var no;var io;function requireCompare(){if(io)return no;io=1;const e=requireSemver$1();const compare=(t,n,i)=>new e(t,i).compare(new e(n,i));no=compare;return no}var so;var oo;function requireRcompare(){if(oo)return so;oo=1;const e=requireCompare();const rcompare=(t,n,i)=>e(n,t,i);so=rcompare;return so}var ao;var co;function requireCompareLoose(){if(co)return ao;co=1;const e=requireCompare();const compareLoose=(t,n)=>e(t,n,!0);ao=compareLoose;return ao}var uo;var lo;function requireCompareBuild(){if(lo)return uo;lo=1;const e=requireSemver$1();const compareBuild=(t,n,i)=>{const s=new e(t,i);const o=new e(n,i);return s.compare(o)||s.compareBuild(o)};uo=compareBuild;return uo}var ho;var fo;function requireSort(){if(fo)return ho;fo=1;const e=requireCompareBuild();const sort=(t,n)=>t.sort((t,i)=>e(t,i,n));ho=sort;return ho}var po;var go;function requireRsort(){if(go)return po;go=1;const e=requireCompareBuild();const rsort=(t,n)=>t.sort((t,i)=>e(i,t,n));po=rsort;return po}var mo;var vo;function requireGt(){if(vo)return mo;vo=1;const e=requireCompare();const gt=(t,n,i)=>e(t,n,i)>0;mo=gt;return mo}var yo;var bo;function requireLt(){if(bo)return yo;bo=1;const e=requireCompare();const lt=(t,n,i)=>e(t,n,i)<0;yo=lt;return yo}var wo;var Eo;function requireEq(){if(Eo)return wo;Eo=1;const e=requireCompare();const eq=(t,n,i)=>0===e(t,n,i);wo=eq;return wo}var _o;var So;function requireNeq(){if(So)return _o;So=1;const e=requireCompare();const neq=(t,n,i)=>0!==e(t,n,i);_o=neq;return _o}var Ro;var ko;function requireGte(){if(ko)return Ro;ko=1;const e=requireCompare();const gte=(t,n,i)=>e(t,n,i)>=0;Ro=gte;return Ro}var Mo;var Co;function requireLte(){if(Co)return Mo;Co=1;const e=requireCompare();const lte=(t,n,i)=>e(t,n,i)<=0;Mo=lte;return Mo}var Io;var Ao;function requireCmp(){if(Ao)return Io;Ao=1;const e=requireEq();const t=requireNeq();const n=requireGt();const i=requireGte();const s=requireLt();const o=requireLte();const cmp=(a,c,u,l)=>{switch(c){case"===":"object"==typeof a&&(a=a.version);"object"==typeof u&&(u=u.version);return a===u;case"!==":"object"==typeof a&&(a=a.version);"object"==typeof u&&(u=u.version);return a!==u;case"":case"=":case"==":return e(a,u,l);case"!=":return t(a,u,l);case">":return n(a,u,l);case">=":return i(a,u,l);case"<":return s(a,u,l);case"<=":return o(a,u,l);default:throw new TypeError(`Invalid operator: ${c}`)}};Io=cmp;return Io}var xo;var No;function requireCoerce(){if(No)return xo;No=1;const e=requireSemver$1();const t=requireParse();const{safeRe:n,t:i}=requireRe();const coerce2=(s,o)=>{if(s instanceof e)return s;"number"==typeof s&&(s=String(s));if("string"!=typeof s)return null;o=o||{};let a=null;if(o.rtl){const e=o.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];let t;for(;(t=e.exec(s))&&(!a||a.index+a[0].length!==s.length);){a&&t.index+t[0].length===a.index+a[0].length||(a=t);e.lastIndex=t.index+t[1].length+t[2].length}e.lastIndex=-1}else a=s.match(o.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);if(null===a)return null;const c=a[2];const u=a[3]||"0";const l=a[4]||"0";const h=o.includePrerelease&&a[5]?`-${a[5]}`:"";const d=o.includePrerelease&&a[6]?`+${a[6]}`:"";return t(`${c}.${u}.${l}${h}${d}`,o)};xo=coerce2;return xo}var Bo;var To;function requireLrucache(){if(To)return Bo;To=1;class e{constructor(){this.max=1e3;this.map=new Map}get(e){const t=this.map.get(e);if(void 0!==t){this.map.delete(e);this.map.set(e,t);return t}}delete(e){return this.map.delete(e)}set(e,t){const n=this.delete(e);if(!n&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}Bo=e;return Bo}var qo;var Po;function requireRange(){if(Po)return qo;Po=1;const e=/\s+/g;class t{constructor(n,i){i=s(i);if(n instanceof t)return n.loose===!!i.loose&&n.includePrerelease===!!i.includePrerelease?n:new t(n.raw,i);if(n instanceof o){this.raw=n.value;this.set=[[n]];this.formatted=void 0;return this}this.options=i;this.loose=!!i.loose;this.includePrerelease=!!i.includePrerelease;this.raw=n.trim().replace(e," ");this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];this.set=this.set.filter(e=>!isNullSet(e[0]));if(0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&isAny(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++){e>0&&(this.formatted+=" ");this.formatted+=t[e].toString().trim()}}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=(this.options.includePrerelease&&p)|(this.options.loose&&g);const n=t+":"+e;const s=i.get(n);if(s)return s;const c=this.options.loose;const m=c?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(m,hyphenReplace(this.options.includePrerelease));a("hyphen replace",e);e=e.replace(u[l.COMPARATORTRIM],h);a("comparator trim",e);e=e.replace(u[l.TILDETRIM],d);a("tilde trim",e);e=e.replace(u[l.CARETTRIM],f);a("caret trim",e);let v=e.split(" ").map(e=>parseComparator(e,this.options)).join(" ").split(/\s+/).map(e=>replaceGTE0(e,this.options));c&&(v=v.filter(e=>{a("loose invalid filter",e,this.options);return!!e.match(u[l.COMPARATORLOOSE])}));a("range list",v);const y=new Map;const b=v.map(e=>new o(e,this.options));for(const i of b){if(isNullSet(i))return[i];y.set(i.value,i)}y.size>1&&y.has("")&&y.delete("");const w=[...y.values()];i.set(n,w);return w}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(t=>isSatisfiable(t,n)&&e.set.some(e=>isSatisfiable(e,n)&&t.every(t=>e.every(e=>t.intersects(e,n)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(t){return!1}for(let n=0;n<this.set.length;n++)if(testSet(this.set[n],e,this.options))return!0;return!1}}qo=t;const n=requireLrucache();const i=new n;const s=requireParseOptions();const o=requireComparator();const a=requireDebug();const c=requireSemver$1();const{safeRe:u,t:l,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:f}=requireRe();const{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:g}=requireConstants();const isNullSet=e=>"<0.0.0-0"===e.value;const isAny=e=>""===e.value;const isSatisfiable=(e,t)=>{let n=!0;const i=e.slice();let s=i.pop();for(;n&&i.length;){n=i.every(e=>s.intersects(e,t));s=i.pop()}return n};const parseComparator=(e,t)=>{a("comp",e,t);e=replaceCarets(e,t);a("caret",e);e=replaceTildes(e,t);a("tildes",e);e=replaceXRanges(e,t);a("xrange",e);e=replaceStars(e,t);a("stars",e);return e};const isX=e=>!e||"x"===e.toLowerCase()||"*"===e;const replaceTildes=(e,t)=>e.trim().split(/\s+/).map(e=>replaceTilde(e,t)).join(" ");const replaceTilde=(e,t)=>{const n=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(n,(t,n,i,s,o)=>{a("tilde",e,t,n,i,s,o);let c;if(isX(n))c="";else if(isX(i))c=`>=${n}.0.0 <${+n+1}.0.0-0`;else if(isX(s))c=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`;else if(o){a("replaceTilde pr",o);c=`>=${n}.${i}.${s}-${o} <${n}.${+i+1}.0-0`}else c=`>=${n}.${i}.${s} <${n}.${+i+1}.0-0`;a("tilde return",c);return c})};const replaceCarets=(e,t)=>e.trim().split(/\s+/).map(e=>replaceCaret(e,t)).join(" ");const replaceCaret=(e,t)=>{a("caret",e,t);const n=t.loose?u[l.CARETLOOSE]:u[l.CARET];const i=t.includePrerelease?"-0":"";return e.replace(n,(t,n,s,o,c)=>{a("caret",e,t,n,s,o,c);let u;if(isX(n))u="";else if(isX(s))u=`>=${n}.0.0${i} <${+n+1}.0.0-0`;else if(isX(o))u="0"===n?`>=${n}.${s}.0${i} <${n}.${+s+1}.0-0`:`>=${n}.${s}.0${i} <${+n+1}.0.0-0`;else if(c){a("replaceCaret pr",c);u="0"===n?"0"===s?`>=${n}.${s}.${o}-${c} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}-${c} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o}-${c} <${+n+1}.0.0-0`}else{a("no pr");u="0"===n?"0"===s?`>=${n}.${s}.${o}${i} <${n}.${s}.${+o+1}-0`:`>=${n}.${s}.${o}${i} <${n}.${+s+1}.0-0`:`>=${n}.${s}.${o} <${+n+1}.0.0-0`}a("caret return",u);return u})};const replaceXRanges=(e,t)=>{a("replaceXRanges",e,t);return e.split(/\s+/).map(e=>replaceXRange(e,t)).join(" ")};const replaceXRange=(e,t)=>{e=e.trim();const n=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(n,(n,i,s,o,c,u)=>{a("xRange",e,n,i,s,o,c,u);const l=isX(s);const h=l||isX(o);const d=h||isX(c);const f=d;"="===i&&f&&(i="");u=t.includePrerelease?"-0":"";if(l)n=">"===i||"<"===i?"<0.0.0-0":"*";else if(i&&f){h&&(o=0);c=0;if(">"===i){i=">=";if(h){s=+s+1;o=0;c=0}else{o=+o+1;c=0}}else if("<="===i){i="<";h?s=+s+1:o=+o+1}"<"===i&&(u="-0");n=`${i+s}.${o}.${c}${u}`}else h?n=`>=${s}.0.0${u} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${u} <${s}.${+o+1}.0-0`);a("xRange return",n);return n})};const replaceStars=(e,t)=>{a("replaceStars",e,t);return e.trim().replace(u[l.STAR],"")};const replaceGTE0=(e,t)=>{a("replaceGTE0",e,t);return e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")};const hyphenReplace=e=>(t,n,i,s,o,a,c,u,l,h,d,f)=>{n=isX(i)?"":isX(s)?`>=${i}.0.0${e?"-0":""}`:isX(o)?`>=${i}.${s}.0${e?"-0":""}`:a?`>=${n}`:`>=${n}${e?"-0":""}`;u=isX(l)?"":isX(h)?`<${+l+1}.0.0-0`:isX(d)?`<${l}.${+h+1}.0-0`:f?`<=${l}.${h}.${d}-${f}`:e?`<${l}.${h}.${+d+1}-0`:`<=${u}`;return`${n} ${u}`.trim()};const testSet=(e,t,n)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++){a(e[n].semver);if(e[n].semver!==o.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}}return!1}return!0};return qo}var Oo;var Lo;function requireComparator(){if(Lo)return Oo;Lo=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(i,s){s=n(s);if(i instanceof t){if(i.loose===!!s.loose)return i;i=i.value}i=i.trim().split(/\s+/).join(" ");a("comparator",i,s);this.options=s;this.loose=!!s.loose;this.parse(i);this.semver===e?this.value="":this.value=this.operator+this.semver.version;a("comp",this)}parse(t){const n=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR];const o=t.match(n);if(!o)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==o[1]?o[1]:"";"="===this.operator&&(this.operator="");o[2]?this.semver=new c(o[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){a("Comparator.test",t,this.options.loose);if(this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new c(t,this.options)}catch(n){return!1}return o(t,this.operator,this.semver,this.options)}intersects(e,i){if(!(e instanceof t))throw new TypeError("a Comparator is required");if(""===this.operator)return""===this.value||new u(e.value,i).test(this.value);if(""===e.operator)return""===e.value||new u(this.value,i).test(e.semver);i=n(i);return!(i.includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!i.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(o(this.semver,"<",e.semver,i)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(o(this.semver,">",e.semver,i)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}Oo=t;const n=requireParseOptions();const{safeRe:i,t:s}=requireRe();const o=requireCmp();const a=requireDebug();const c=requireSemver$1();const u=requireRange();return Oo}var Fo;var jo;function requireSatisfies(){if(jo)return Fo;jo=1;const e=requireRange();const satisfies=(t,n,i)=>{try{n=new e(n,i)}catch(s){return!1}return n.test(t)};Fo=satisfies;return Fo}var Do;var $o;function requireToComparators(){if($o)return Do;$o=1;const e=requireRange();const toComparators=(t,n)=>new e(t,n).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "));Do=toComparators;return Do}var Uo;var Ho;function requireMaxSatisfying(){if(Ho)return Uo;Ho=1;const e=requireSemver$1();const t=requireRange();const maxSatisfying=(n,i,s)=>{let o=null;let a=null;let c=null;try{c=new t(i,s)}catch(u){return null}n.forEach(t=>{if(c.test(t)&&(!o||-1===a.compare(t))){o=t;a=new e(o,s)}});return o};Uo=maxSatisfying;return Uo}var Wo;var Vo;function requireMinSatisfying(){if(Vo)return Wo;Vo=1;const e=requireSemver$1();const t=requireRange();const minSatisfying=(n,i,s)=>{let o=null;let a=null;let c=null;try{c=new t(i,s)}catch(u){return null}n.forEach(t=>{if(c.test(t)&&(!o||1===a.compare(t))){o=t;a=new e(o,s)}});return o};Wo=minSatisfying;return Wo}var zo;var Jo;function requireMinVersion(){if(Jo)return zo;Jo=1;const e=requireSemver$1();const t=requireRange();const n=requireGt();const minVersion=(i,s)=>{i=new t(i,s);let o=new e("0.0.0");if(i.test(o))return o;o=new e("0.0.0-0");if(i.test(o))return o;o=null;for(let t=0;t<i.set.length;++t){const s=i.set[t];let a=null;s.forEach(t=>{const i=new e(t.semver.version);switch(t.operator){case">":0===i.prerelease.length?i.patch++:i.prerelease.push(0);i.raw=i.format();case"":case">=":a&&!n(i,a)||(a=i);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}});!a||o&&!n(o,a)||(o=a)}return o&&i.test(o)?o:null};zo=minVersion;return zo}var Go;var Qo;function requireValid(){if(Qo)return Go;Qo=1;const e=requireRange();const validRange=(t,n)=>{try{return new e(t,n).range||"*"}catch(i){return null}};Go=validRange;return Go}var Zo;var Ko;function requireOutside(){if(Ko)return Zo;Ko=1;const e=requireSemver$1();const t=requireComparator();const{ANY:n}=t;const i=requireRange();const s=requireSatisfies();const o=requireGt();const a=requireLt();const c=requireLte();const u=requireGte();const outside=(l,h,d,f)=>{l=new e(l,f);h=new i(h,f);let p,g,m,v,y;switch(d){case">":p=o;g=c;m=a;v=">";y=">=";break;case"<":p=a;g=u;m=o;v="<";y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(l,h,f))return!1;for(let e=0;e<h.set.length;++e){const i=h.set[e];let s=null;let o=null;i.forEach(e=>{e.semver===n&&(e=new t(">=0.0.0"));s=s||e;o=o||e;p(e.semver,s.semver,f)?s=e:m(e.semver,o.semver,f)&&(o=e)});if(s.operator===v||s.operator===y)return!1;if((!o.operator||o.operator===v)&&g(l,o.semver))return!1;if(o.operator===y&&m(l,o.semver))return!1}return!0};Zo=outside;return Zo}var Yo;var Xo;function requireGtr(){if(Xo)return Yo;Xo=1;const e=requireOutside();const gtr=(t,n,i)=>e(t,n,">",i);Yo=gtr;return Yo}var ea;var ta;function requireLtr(){if(ta)return ea;ta=1;const e=requireOutside();const ltr=(t,n,i)=>e(t,n,"<",i);ea=ltr;return ea}var ra;var na;function requireIntersects(){if(na)return ra;na=1;const e=requireRange();const intersects=(t,n,i)=>{t=new e(t,i);n=new e(n,i);return t.intersects(n,i)};ra=intersects;return ra}var ia;var sa;function requireSimplify(){if(sa)return ia;sa=1;const e=requireSatisfies();const t=requireCompare();ia=(n,i,s)=>{const o=[];let a=null;let c=null;const u=n.sort((e,n)=>t(e,n,s));for(const t of u){const n=e(t,i,s);if(n){c=t;a||(a=t)}else{c&&o.push([a,c]);c=null;a=null}}a&&o.push([a,null]);const l=[];for(const[e,t]of o)e===t?l.push(e):t||e!==u[0]?t?e===u[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const h=l.join(" || ");const d="string"==typeof i.raw?i.raw:String(i);return h.length<d.length?h:i};return ia}var oa;var aa;function requireSubset(){if(aa)return oa;aa=1;const e=requireRange();const t=requireComparator();const{ANY:n}=t;const i=requireSatisfies();const s=requireCompare();const subset=(t,n,i={})=>{if(t===n)return!0;t=new e(t,i);n=new e(n,i);let s=!1;e:for(const e of t.set){for(const t of n.set){const n=simpleSubset(e,t,i);s=s||null!==n;if(n)continue e}if(s)return!1}return!0};const o=[new t(">=0.0.0-0")];const a=[new t(">=0.0.0")];const simpleSubset=(e,t,c)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===n){if(1===t.length&&t[0].semver===n)return!0;e=c.includePrerelease?o:a}if(1===t.length&&t[0].semver===n){if(c.includePrerelease)return!0;t=a}const u=new Set;let l,h;for(const n of e)">"===n.operator||">="===n.operator?l=higherGT(l,n,c):"<"===n.operator||"<="===n.operator?h=lowerLT(h,n,c):u.add(n.semver);if(u.size>1)return null;let d;if(l&&h){d=s(l.semver,h.semver,c);if(d>0)return null;if(0===d&&(">="!==l.operator||"<="!==h.operator))return null}for(const n of u){if(l&&!i(n,String(l),c))return null;if(h&&!i(n,String(h),c))return null;for(const e of t)if(!i(n,String(e),c))return!1;return!0}let f,p;let g,m;let v=!(!h||c.includePrerelease||!h.semver.prerelease.length)&&h.semver;let y=!(!l||c.includePrerelease||!l.semver.prerelease.length)&&l.semver;v&&1===v.prerelease.length&&"<"===h.operator&&0===v.prerelease[0]&&(v=!1);for(const n of t){m=m||">"===n.operator||">="===n.operator;g=g||"<"===n.operator||"<="===n.operator;if(l){y&&n.semver.prerelease&&n.semver.prerelease.length&&n.semver.major===y.major&&n.semver.minor===y.minor&&n.semver.patch===y.patch&&(y=!1);if(">"===n.operator||">="===n.operator){f=higherGT(l,n,c);if(f===n&&f!==l)return!1}else if(">="===l.operator&&!i(l.semver,String(n),c))return!1}if(h){v&&n.semver.prerelease&&n.semver.prerelease.length&&n.semver.major===v.major&&n.semver.minor===v.minor&&n.semver.patch===v.patch&&(v=!1);if("<"===n.operator||"<="===n.operator){p=lowerLT(h,n,c);if(p===n&&p!==h)return!1}else if("<="===h.operator&&!i(h.semver,String(n),c))return!1}if(!n.operator&&(h||l)&&0!==d)return!1}return!(l&&g&&!h&&0!==d||h&&m&&!l&&0!==d||y||v)};const higherGT=(e,t,n)=>{if(!e)return t;const i=s(e.semver,t.semver,n);return i>0?e:i<0||">"===t.operator&&">="===e.operator?t:e};const lowerLT=(e,t,n)=>{if(!e)return t;const i=s(e.semver,t.semver,n);return i<0?e:i>0||"<"===t.operator&&"<="===e.operator?t:e};oa=subset;return oa}var ca;var ua;function requireSemver(){if(ua)return ca;ua=1;const e=requireRe();const t=requireConstants();const n=requireSemver$1();const i=requireIdentifiers();const s=requireParse();const o=requireValid$1();const a=requireClean();const c=requireInc();const u=requireDiff();const l=requireMajor();const h=requireMinor();const d=requirePatch();const f=requirePrerelease();const p=requireCompare();const g=requireRcompare();const m=requireCompareLoose();const v=requireCompareBuild();const y=requireSort();const b=requireRsort();const w=requireGt();const E=requireLt();const _=requireEq();const S=requireNeq();const R=requireGte();const k=requireLte();const M=requireCmp();const C=requireCoerce();const I=requireComparator();const A=requireRange();const x=requireSatisfies();const N=requireToComparators();const B=requireMaxSatisfying();const T=requireMinSatisfying();const q=requireMinVersion();const P=requireValid();const O=requireOutside();const L=requireGtr();const F=requireLtr();const j=requireIntersects();const D=requireSimplify();const $=requireSubset();ca={parse:s,valid:o,clean:a,inc:c,diff:u,major:l,minor:h,patch:d,prerelease:f,compare:p,rcompare:g,compareLoose:m,compareBuild:v,sort:y,rsort:b,gt:w,lt:E,eq:_,neq:S,gte:R,lte:k,cmp:M,coerce:C,Comparator:I,Range:A,satisfies:x,toComparators:N,maxSatisfying:B,minSatisfying:T,minVersion:q,validRange:P,outside:O,gtr:L,ltr:F,intersects:j,simplifyRange:D,subset:$,SemVer:n,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:t.SEMVER_SPEC_VERSION,RELEASE_TYPES:t.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers};return ca}var la;function requireVersions(){if(la)return Ms;la=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=requireSemver();const n=$i;const i=requireAssert();e.VersionStruct=(0,n.refine)((0,n.string)(),"Version",e=>null!==(0,t.valid)(e)||`Expected SemVer version, got "${e}"`);e.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",e=>null!==(0,t.validRange)(e)||`Expected SemVer range, got "${e}"`);function isValidSemVerVersion(t){return(0,n.is)(t,e.VersionStruct)}e.isValidSemVerVersion=isValidSemVerVersion;function isValidSemVerRange(t){return(0,n.is)(t,e.VersionRangeStruct)}e.isValidSemVerRange=isValidSemVerRange;function assertIsSemVerVersion(t){(0,i.assertStruct)(t,e.VersionStruct)}e.assertIsSemVerVersion=assertIsSemVerVersion;function assertIsSemVerRange(t){(0,i.assertStruct)(t,e.VersionRangeStruct)}e.assertIsSemVerRange=assertIsSemVerRange;function gtVersion(e,n){return(0,t.gt)(e,n)}e.gtVersion=gtVersion;function gtRange(e,n){return(0,t.gtr)(e,n)}e.gtRange=gtRange;function satisfiesVersionRange(e,n){return(0,t.satisfies)(e,n,{includePrerelease:!0})}e.satisfiesVersionRange=satisfiesVersionRange}(Ms);return Ms}var ha;function requireDist$4(){if(ha)return Oi;ha=1;!function(e){var t=Oi&&Oi.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}});Object.defineProperty(e,i,s)}:function(e,t,n,i){void 0===i&&(i=n);e[i]=t[n]});var n=Oi&&Oi.__exportStar||function(e,n){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0});n(requireAssert(),e);n(requireBase64(),e);n(requireBytes(),e);n(requireChecksum(),e);n(requireCoercers(),e);n(requireCollections(),e);n(requireEncryptionTypes(),e);n(requireHex(),e);n(requireJson(),e);n(requireKeyring(),e);n(requireLogging(),e);n(requireMisc(),e);n(requireNumber(),e);n(requireOpaque(),e);n(requireTime(),e);n(requireTransactionTypes(),e);n(requireVersions(),e)}(Oi);return Oi}var da;function requireLoggingUtils(){if(da)return Pi;da=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.createModuleLogger=e.projectLogger=void 0;const t=requireDist$4();Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}});e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")}(Pi);return Pi}var fa;function requirePollingBlockTracker(){if(fa)return Mi;fa=1;var e=Mi&&Mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.PollingBlockTracker=void 0;const t=e(requireJsonRpcRandomId());const n=e(requirePify$1());const i=requireBaseBlockTracker();const s=requireLoggingUtils();const o=(0,s.createModuleLogger)(s.projectLogger,"polling-block-tracker");const a=(0,t.default)();const c=1e3;let u=class extends i.BaseBlockTracker{constructor(e={}){var t;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},e),{blockResetDuration:null!==(t=e.blockResetDuration)&&void 0!==t?t:e.pollingInterval}));this._provider=e.provider;this._pollingInterval=e.pollingInterval||20*c;this._retryTimeout=e.retryTimeout||this._pollingInterval/10;this._keepEventLoopActive=void 0===e.keepEventLoopActive||e.keepEventLoopActive;this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){await this._updateLatestBlock();return await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){var e;for(;this._isRunning;)try{await this._updateLatestBlock();const e=timeout(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration");await e}catch(t){const i=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\n${null!==(e=t.stack)&&void 0!==e?e:t}`);try{this.emit("error",i)}catch(n){console.error(i)}const s=timeout(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration");await s}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:a(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);o("Making request",e);const t=await(0,n.default)(t=>this._provider.sendAsync(e,t))();o("Got response",t);if(t.error)throw new Error(`PollingBlockTracker - encountered error fetching block:\n${t.error.message}`);return t.result}};Mi.PollingBlockTracker=u;function timeout(e,t){return new Promise(n=>{const i=setTimeout(n,e);i.unref&&t&&i.unref()})}return Mi}var pa={};var ga;function requireSubscribeBlockTracker(){if(ga)return pa;ga=1;var e=pa&&pa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pa,"__esModule",{value:!0});pa.SubscribeBlockTracker=void 0;const t=e(requireJsonRpcRandomId());const n=requireBaseBlockTracker();const i=(0,t.default)();let s=class extends n.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e);this._provider=e.provider;this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(void 0===this._subscriptionId||null===this._subscriptionId)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads");this._provider.on("data",this._handleSubData.bind(this));this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(null!==this._subscriptionId&&void 0!==this._subscriptionId)try{await this._call("eth_unsubscribe",this._subscriptionId);this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...t){return new Promise((n,s)=>{this._provider.sendAsync({id:i(),method:e,params:t,jsonrpc:"2.0"},(e,t)=>{e?s(e):n(t.result)})})}_handleSubData(e,t){var n;"eth_subscription"===t.method&&(null===(n=t.params)||void 0===n?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(t.params.result.number)}};pa.SubscribeBlockTracker=s;return pa}var ma;function requireDist$3(){if(ma)return ki;ma=1;!function(e){var t=ki&&ki.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n);e[i]=t[n]});var n=ki&&ki.__exportStar||function(e,n){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0});n(requirePollingBlockTracker(),e);n(requireSubscribeBlockTracker(),e)}(ki);return ki}var va={};var ya={};var ba={};var wa;function requireGetUniqueId(){if(wa)return ba;wa=1;Object.defineProperty(ba,"__esModule",{value:!0});ba.getUniqueId=void 0;const e=4294967295;let t=Math.floor(Math.random()*e);function getUniqueId$1(){t=(t+1)%e;return t}ba.getUniqueId=getUniqueId$1;return ba}var Ea;function requireIdRemapMiddleware(){if(Ea)return ya;Ea=1;Object.defineProperty(ya,"__esModule",{value:!0});ya.createIdRemapMiddleware=void 0;const e=requireGetUniqueId();function createIdRemapMiddleware(){return(t,n,i,s)=>{const o=t.id;const a=e.getUniqueId();t.id=a;n.id=a;i(e=>{t.id=o;n.id=o;e()})}}ya.createIdRemapMiddleware=createIdRemapMiddleware;return ya}var _a={};var Sa;function requireCreateAsyncMiddleware(){if(Sa)return _a;Sa=1;Object.defineProperty(_a,"__esModule",{value:!0});_a.createAsyncMiddleware=void 0;function createAsyncMiddleware$1(e){return async(t,n,i,s)=>{let o;const a=new Promise(e=>{o=e});let c=null;let u=!1;const asyncNext=async()=>{u=!0;i(e=>{c=e;o()});await a};try{await e(t,n,asyncNext);if(u){await a;c(null)}else s(null)}catch(l){c?c(l):s(l)}}}_a.createAsyncMiddleware=createAsyncMiddleware$1;return _a}var Ra={};var ka;function requireCreateScaffoldMiddleware(){if(ka)return Ra;ka=1;Object.defineProperty(Ra,"__esModule",{value:!0});Ra.createScaffoldMiddleware=void 0;function createScaffoldMiddleware$1(e){return(t,n,i,s)=>{const o=e[t.method];if(void 0===o)return i();if("function"==typeof o)return o(t,n,i,s);n.result=o;return s()}}Ra.createScaffoldMiddleware=createScaffoldMiddleware$1;return Ra}var Ma={};var Ca={};var Ia;function requireSafeEventEmitter(){if(Ia)return Ca;Ia=1;Object.defineProperty(Ca,"__esModule",{value:!0});const e=s();function safeApply(e,t,n){try{Reflect.apply(e,t,n)}catch(i){setTimeout(()=>{throw i})}}function arrayClone(e){const t=e.length;const n=new Array(t);for(let i=0;i<t;i+=1)n[i]=e[i];return n}class t extends e.EventEmitter{emit(e,...t){let n="error"===e;const i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){let e;t.length>0&&([e]=t);if(e instanceof Error)throw e;const n=new Error("Unhandled error."+(e?` (${e.message})`:""));n.context=e;throw n}const s=i[e];if(void 0===s)return!1;if("function"==typeof s)safeApply(s,this,t);else{const e=s.length;const n=arrayClone(s);for(let i=0;i<e;i+=1)safeApply(n[i],this,t)}return!0}}Ca.default=t;return Ca}var Aa={};var xa={};var Na;var Ba;function requireFastSafeStringify(){if(Ba)return Na;Ba=1;Na=stringify;stringify.default=stringify;stringify.stable=deterministicStringify;stringify.stableStringify=deterministicStringify;var e="[...]";var t="[Circular]";var n=[];var i=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(e,t,s,o){"undefined"==typeof o&&(o=defaultOptions());decirc(e,"",0,[],void 0,0,o);var a;try{a=0===i.length?JSON.stringify(e,t,s):JSON.stringify(e,replaceGetterValues(t),s)}catch(u){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var c=n.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return a}function setReplace(e,t,s,o){var a=Object.getOwnPropertyDescriptor(o,s);if(void 0!==a.get)if(a.configurable){Object.defineProperty(o,s,{value:e});n.push([o,s,t,a])}else i.push([t,s,e]);else{o[s]=e;n.push([o,s,t])}}function decirc(n,i,s,o,a,c,u){c+=1;var l;if("object"==typeof n&&null!==n){for(l=0;l<o.length;l++)if(o[l]===n){setReplace(t,n,i,a);return}if("undefined"!=typeof u.depthLimit&&c>u.depthLimit){setReplace(e,n,i,a);return}if("undefined"!=typeof u.edgesLimit&&s+1>u.edgesLimit){setReplace(e,n,i,a);return}o.push(n);if(Array.isArray(n))for(l=0;l<n.length;l++)decirc(n[l],l,l,o,n,c,u);else{var h=Object.keys(n);for(l=0;l<h.length;l++){var d=h[l];decirc(n[d],d,l,o,n,c,u)}}o.pop()}}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,t,s,o){"undefined"==typeof o&&(o=defaultOptions());var a=deterministicDecirc(e,"",0,[],void 0,0,o)||e;var c;try{c=0===i.length?JSON.stringify(a,t,s):JSON.stringify(a,replaceGetterValues(t),s)}catch(l){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==n.length;){var u=n.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}}return c}function deterministicDecirc(i,s,o,a,c,u,l){u+=1;var h;if("object"==typeof i&&null!==i){for(h=0;h<a.length;h++)if(a[h]===i){setReplace(t,i,s,c);return}try{if("function"==typeof i.toJSON)return}catch(g){return}if("undefined"!=typeof l.depthLimit&&u>l.depthLimit){setReplace(e,i,s,c);return}if("undefined"!=typeof l.edgesLimit&&o+1>l.edgesLimit){setReplace(e,i,s,c);return}a.push(i);if(Array.isArray(i))for(h=0;h<i.length;h++)deterministicDecirc(i[h],h,h,a,i,u,l);else{var d={};var f=Object.keys(i).sort(compareFunction);for(h=0;h<f.length;h++){var p=f[h];deterministicDecirc(i[p],p,h,a,i,u,l);d[p]=i[p]}if("undefined"==typeof c)return d;n.push([c,s,i]);c[s]=d}a.pop()}}function replaceGetterValues(e){e="undefined"!=typeof e?e:function(e,t){return t};return function(t,n){if(i.length>0)for(var s=0;s<i.length;s++){var o=i[s];if(o[1]===t&&o[0]===n){n=o[2];i.splice(s,1);break}}return e.call(this,t,n)}}return Na}var Ta;function requireClasses(){if(Ta)return xa;Ta=1;Object.defineProperty(xa,"__esModule",{value:!0});xa.EthereumProviderError=xa.EthereumRpcError=void 0;const e=requireFastSafeStringify();class t extends Error{constructor(e,t,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t);this.code=e;void 0!==n&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};void 0!==this.data&&(e.data=this.data);this.stack&&(e.stack=this.stack);return e}toString(){return e.default(this.serialize(),stringifyReplacer,2)}}xa.EthereumRpcError=t;class n extends t{constructor(e,t,n){if(!isValidEthProviderCode(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,n)}}xa.EthereumProviderError=n;function isValidEthProviderCode(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function stringifyReplacer(e,t){if("[Circular]"!==t)return t}return xa}var qa={};var Pa={};var Oa;function requireErrorConstants(){if(Oa)return Pa;Oa=1;Object.defineProperty(Pa,"__esModule",{value:!0});Pa.errorValues=Pa.errorCodes=void 0;Pa.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Pa.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};return Pa}var La;function requireUtils(){if(La)return qa;La=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=requireErrorConstants();const n=requireClasses();const i=t.errorCodes.rpc.internal;const s="Unspecified error message. This is a bug, please report it.";const o={code:i,message:getMessageFromCode(i)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function getMessageFromCode(n,i=s){if(Number.isInteger(n)){const i=n.toString();if(hasKey(t.errorValues,i))return t.errorValues[i].message;if(isJsonRpcServerError(n))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return i}e.getMessageFromCode=getMessageFromCode;function isValidCode(e){if(!Number.isInteger(e))return!1;const n=e.toString();return!!t.errorValues[n]||!!isJsonRpcServerError(e)}e.isValidCode=isValidCode;function serializeError(e,{fallbackError:t=o,shouldIncludeStack:i=!1}={}){var s,a;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof n.EthereumRpcError)return e.serialize();const c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&hasKey(e,"code")&&isValidCode(e.code)){const t=e;c.code=t.code;if(t.message&&"string"==typeof t.message){c.message=t.message;hasKey(t,"data")&&(c.data=t.data)}else{c.message=getMessageFromCode(c.code);c.data={originalError:assignOriginalError(e)}}}else{c.code=t.code;const n=null===(s=e)||void 0===s?void 0:s.message;c.message=n&&"string"==typeof n?n:t.message;c.data={originalError:assignOriginalError(e)}}const u=null===(a=e)||void 0===a?void 0:a.stack;i&&e&&u&&"string"==typeof u&&(c.stack=u);return c}e.serializeError=serializeError;function isJsonRpcServerError(e){return e>=-32099&&e<=-32e3}function assignOriginalError(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function hasKey(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(qa);return qa}var Fa={};var ja;function requireErrors(){if(ja)return Fa;ja=1;Object.defineProperty(Fa,"__esModule",{value:!0});Fa.ethErrors=void 0;const e=requireClasses();const t=requireUtils();const n=requireErrorConstants();Fa.ethErrors={rpc:{parse:e=>getEthJsonRpcError(n.errorCodes.rpc.parse,e),invalidRequest:e=>getEthJsonRpcError(n.errorCodes.rpc.invalidRequest,e),invalidParams:e=>getEthJsonRpcError(n.errorCodes.rpc.invalidParams,e),methodNotFound:e=>getEthJsonRpcError(n.errorCodes.rpc.methodNotFound,e),internal:e=>getEthJsonRpcError(n.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return getEthJsonRpcError(t,e)},invalidInput:e=>getEthJsonRpcError(n.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>getEthJsonRpcError(n.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>getEthJsonRpcError(n.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>getEthJsonRpcError(n.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>getEthJsonRpcError(n.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>getEthJsonRpcError(n.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>getEthProviderError(n.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>getEthProviderError(n.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>getEthProviderError(n.errorCodes.provider.unsupportedMethod,e),disconnected:e=>getEthProviderError(n.errorCodes.provider.disconnected,e),chainDisconnected:e=>getEthProviderError(n.errorCodes.provider.chainDisconnected,e),custom:t=>{if(!t||"object"!=typeof t||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:n,message:i,data:s}=t;if(!i||"string"!=typeof i)throw new Error('"message" must be a nonempty string');return new e.EthereumProviderError(n,i,s)}}};function getEthJsonRpcError(n,i){const[s,o]=parseOpts(i);return new e.EthereumRpcError(n,s||t.getMessageFromCode(n),o)}function getEthProviderError(n,i){const[s,o]=parseOpts(i);return new e.EthereumProviderError(n,s||t.getMessageFromCode(n),o)}function parseOpts(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:n}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,n]}}return[]}return Fa}var Da;function requireDist$2(){if(Da)return Aa;Da=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=requireClasses();Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}});Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=requireUtils();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const i=requireErrors();Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});const s=requireErrorConstants();Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})}(Aa);return Aa}var $a;function requireJsonRpcEngine(){if($a)return Ma;$a=1;var e=Ma&&Ma.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.JsonRpcEngine=void 0;const t=e(requireSafeEventEmitter());const n=requireDist$2();let i=class e extends t.default{constructor(){super();this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(t,n,i,s)=>{try{const[o,a,c]=await e._runAllMiddleware(t,n,this._middleware);if(a){await e._runReturnHandlers(c);return s(o)}return i(async t=>{try{await e._runReturnHandlers(c)}catch(n){return t(n)}return t()})}catch(o){return s(o)}}}async _handleBatch(e,t){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,n):n}catch(n){if(t)return t(n);throw n}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,n)=>{t(n)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const i=new n.EthereumRpcError(n.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(i,{id:void 0,jsonrpc:"2.0",error:i})}if("string"!=typeof e.method){const i=new n.EthereumRpcError(n.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(i,{id:e.id,jsonrpc:"2.0",error:i})}const i=Object.assign({},e);const s={id:i.id,jsonrpc:i.jsonrpc};let o=null;try{await this._processRequest(i,s)}catch(a){o=a}if(o){delete s.result;s.error||(s.error=n.serializeError(o))}return t(o,s)}async _processRequest(t,n){const[i,s,o]=await e._runAllMiddleware(t,n,this._middleware);e._checkForCompletion(t,n,s);await e._runReturnHandlers(o);if(i)throw i}static async _runAllMiddleware(t,n,i){const s=[];let o=null;let a=!1;for(const c of i){[o,a]=await e._runMiddleware(t,n,c,s);if(a)break}return[o,a,s.reverse()]}static _runMiddleware(e,t,i,s){return new Promise(o=>{const end=e=>{const i=e||t.error;i&&(t.error=n.serializeError(i));o([i,!0])};const next=i=>{if(t.error)end(t.error);else{if(i){"function"!=typeof i&&end(new n.EthereumRpcError(n.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof i}" for request:\n${jsonify(e)}`,{request:e}));s.push(i)}o([null,!1])}};try{i(e,t,next,end)}catch(a){end(a)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,n)=>{t(t=>t?n(t):e())})}static _checkForCompletion(e,t,i){if(!("result"in t)&&!("error"in t))throw new n.EthereumRpcError(n.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:\n${jsonify(e)}`,{request:e});if(!i)throw new n.EthereumRpcError(n.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:\n${jsonify(e)}`,{request:e})}};Ma.JsonRpcEngine=i;function jsonify(e){return JSON.stringify(e,null,2)}return Ma}var Ua={};var Ha;function requireMergeMiddleware(){if(Ha)return Ua;Ha=1;Object.defineProperty(Ua,"__esModule",{value:!0});Ua.mergeMiddleware=void 0;const e=requireJsonRpcEngine();function mergeMiddleware$1(t){const n=new e.JsonRpcEngine;t.forEach(e=>n.push(e));return n.asMiddleware()}Ua.mergeMiddleware=mergeMiddleware$1;return Ua}var Wa;function requireDist$1(){if(Wa)return va;Wa=1;!function(e){var t=va&&va.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n);e[i]=t[n]});var n=va&&va.__exportStar||function(e,n){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(n,i)||t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0});n(requireIdRemapMiddleware(),e);n(requireCreateAsyncMiddleware(),e);n(requireCreateScaffoldMiddleware(),e);n(requireGetUniqueId(),e);n(requireJsonRpcEngine(),e);n(requireMergeMiddleware(),e)}(va);return va}var Va={};var za={};const Ja=i(a);var Ga={};var Qa;function requireSemaphore(){if(Qa)return Ga;Qa=1;Object.defineProperty(Ga,"__esModule",{value:!0});var e=Ja;var t=function(){function Semaphore2(e){this._maxConcurrency=e;this._queue=[];if(e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}Semaphore2.prototype.acquire=function(){var e=this;var t=this.isLocked();var n=new Promise(function(t){return e._queue.push(t)});t||this._dispatch();return n};Semaphore2.prototype.runExclusive=function(t){return e.__awaiter(this,void 0,void 0,function(){var n,i,s;return e.__generator(this,function(e){switch(e.label){case 0:return[4,this.acquire()];case 1:n=e.sent(),i=n[0],s=n[1];e.label=2;case 2:e.trys.push([2,,4,5]);return[4,t(i)];case 3:return[2,e.sent()];case 4:s();return[7];case 5:return[2]}})})};Semaphore2.prototype.isLocked=function(){return this._value<=0};Semaphore2.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0;e()}};Semaphore2.prototype._dispatch=function(){var e=this;var t=this._queue.shift();if(t){var n=!1;this._currentReleaser=function(){if(!n){n=!0;e._value++;e._dispatch()}};t([this._value--,this._currentReleaser])}};return Semaphore2}();Ga.default=t;return Ga}var Za;function requireMutex(){if(Za)return za;Za=1;Object.defineProperty(za,"__esModule",{value:!0});var e=Ja;var t=requireSemaphore();var n=function(){function Mutex2(){this._semaphore=new t.default(1)}Mutex2.prototype.acquire=function(){return e.__awaiter(this,void 0,void 0,function(){var t,n;return e.__generator(this,function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:t=e.sent(),n=t[1];return[2,n]}})})};Mutex2.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})};Mutex2.prototype.isLocked=function(){return this._semaphore.isLocked()};Mutex2.prototype.release=function(){this._semaphore.release()};return Mutex2}();za.default=n;return za}var Ka={};var Ya;function requireWithTimeout(){if(Ya)return Ka;Ya=1;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.withTimeout=void 0;var e=Ja;function withTimeout$1(t,n,i){var s=this;void 0===i&&(i=new Error("timeout"));return{acquire:function(){return new Promise(function(o,a){return e.__awaiter(s,void 0,void 0,function(){var s,c,u;return e.__generator(this,function(e){switch(e.label){case 0:s=!1;setTimeout(function(){s=!0;a(i)},n);return[4,t.acquire()];case 1:c=e.sent();if(s){u=Array.isArray(c)?c[1]:c;u()}else o(c);return[2]}})})})},runExclusive:function(t){return e.__awaiter(this,void 0,void 0,function(){var n,i;return e.__generator(this,function(e){switch(e.label){case 0:n=function(){};e.label=1;case 1:e.trys.push([1,,7,8]);return[4,this.acquire()];case 2:i=e.sent();if(!Array.isArray(i))return[3,4];n=i[1];return[4,t(i[0])];case 3:return[2,e.sent()];case 4:n=i;return[4,t()];case 5:return[2,e.sent()];case 6:return[3,8];case 7:n();return[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Ka.withTimeout=withTimeout$1;return Ka}var Xa;function requireLib(){if(Xa)return Va;Xa=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=requireMutex();Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var n=requireSemaphore();Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return n.default}});var i=requireWithTimeout();Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return i.withTimeout}})}(Va);return Va}var ec;var tc;function requireImmutable(){if(tc)return ec;tc=1;ec=extend;var e=Object.prototype.hasOwnProperty;function extend(){var t={};for(var n=0;n<arguments.length;n++){var i=arguments[n];for(var s in i)e.call(i,s)&&(t[s]=i[s])}return t}return ec}var rc;var nc;function requireEthQuery(){if(nc)return rc;nc=1;const e=requireImmutable();const t=requireJsonRpcRandomId()();rc=EthQuery;function EthQuery(e){const t=this;t.currentProvider=e}EthQuery.prototype.getBalance=generateFnWithDefaultBlockFor(2,"eth_getBalance");EthQuery.prototype.getCode=generateFnWithDefaultBlockFor(2,"eth_getCode");EthQuery.prototype.getTransactionCount=generateFnWithDefaultBlockFor(2,"eth_getTransactionCount");EthQuery.prototype.getStorageAt=generateFnWithDefaultBlockFor(3,"eth_getStorageAt");EthQuery.prototype.call=generateFnWithDefaultBlockFor(2,"eth_call");EthQuery.prototype.protocolVersion=generateFnFor("eth_protocolVersion");EthQuery.prototype.syncing=generateFnFor("eth_syncing");EthQuery.prototype.coinbase=generateFnFor("eth_coinbase");EthQuery.prototype.mining=generateFnFor("eth_mining");EthQuery.prototype.hashrate=generateFnFor("eth_hashrate");EthQuery.prototype.gasPrice=generateFnFor("eth_gasPrice");EthQuery.prototype.accounts=generateFnFor("eth_accounts");EthQuery.prototype.blockNumber=generateFnFor("eth_blockNumber");EthQuery.prototype.getBlockTransactionCountByHash=generateFnFor("eth_getBlockTransactionCountByHash");EthQuery.prototype.getBlockTransactionCountByNumber=generateFnFor("eth_getBlockTransactionCountByNumber");EthQuery.prototype.getUncleCountByBlockHash=generateFnFor("eth_getUncleCountByBlockHash");EthQuery.prototype.getUncleCountByBlockNumber=generateFnFor("eth_getUncleCountByBlockNumber");EthQuery.prototype.sign=generateFnFor("eth_sign");EthQuery.prototype.sendTransaction=generateFnFor("eth_sendTransaction");EthQuery.prototype.sendRawTransaction=generateFnFor("eth_sendRawTransaction");EthQuery.prototype.estimateGas=generateFnFor("eth_estimateGas");EthQuery.prototype.getBlockByHash=generateFnFor("eth_getBlockByHash");EthQuery.prototype.getBlockByNumber=generateFnFor("eth_getBlockByNumber");EthQuery.prototype.getTransactionByHash=generateFnFor("eth_getTransactionByHash");EthQuery.prototype.getTransactionByBlockHashAndIndex=generateFnFor("eth_getTransactionByBlockHashAndIndex");EthQuery.prototype.getTransactionByBlockNumberAndIndex=generateFnFor("eth_getTransactionByBlockNumberAndIndex");EthQuery.prototype.getTransactionReceipt=generateFnFor("eth_getTransactionReceipt");EthQuery.prototype.getUncleByBlockHashAndIndex=generateFnFor("eth_getUncleByBlockHashAndIndex");EthQuery.prototype.getUncleByBlockNumberAndIndex=generateFnFor("eth_getUncleByBlockNumberAndIndex");EthQuery.prototype.getCompilers=generateFnFor("eth_getCompilers");EthQuery.prototype.compileLLL=generateFnFor("eth_compileLLL");EthQuery.prototype.compileSolidity=generateFnFor("eth_compileSolidity");EthQuery.prototype.compileSerpent=generateFnFor("eth_compileSerpent");EthQuery.prototype.newFilter=generateFnFor("eth_newFilter");EthQuery.prototype.newBlockFilter=generateFnFor("eth_newBlockFilter");EthQuery.prototype.newPendingTransactionFilter=generateFnFor("eth_newPendingTransactionFilter");EthQuery.prototype.uninstallFilter=generateFnFor("eth_uninstallFilter");EthQuery.prototype.getFilterChanges=generateFnFor("eth_getFilterChanges");EthQuery.prototype.getFilterLogs=generateFnFor("eth_getFilterLogs");EthQuery.prototype.getLogs=generateFnFor("eth_getLogs");EthQuery.prototype.getWork=generateFnFor("eth_getWork");EthQuery.prototype.submitWork=generateFnFor("eth_submitWork");EthQuery.prototype.submitHashrate=generateFnFor("eth_submitHashrate");EthQuery.prototype.sendAsync=function(e,t){const n=this;n.currentProvider.sendAsync(createPayload(e),function(e,n){!e&&n.error&&(e=new Error("EthQuery - RPC Error - "+n.error.message));if(e)return t(e);t(null,n.result)})};function generateFnFor(e){return function(){const t=this;var n=[].slice.call(arguments);var i=n.pop();t.sendAsync({method:e,params:n},i)}}function generateFnWithDefaultBlockFor(e,t){return function(){const n=this;var i=[].slice.call(arguments);var s=i.pop();i.length<e&&i.push("latest");n.sendAsync({method:t,params:i},s)}}function createPayload(n){return e({id:t(),jsonrpc:"2.0",params:[]},n)}return rc}var ic;var sc;function requirePify(){if(sc)return ic;sc=1;const processFn=(e,t,n,i)=>function(...s){const o=t.promiseModule;return new o((o,a)=>{t.multiArgs?s.push((...e)=>{if(t.errorFirst)if(e[0])a(e);else{e.shift();o(e)}else o(e)}):t.errorFirst?s.push((e,t)=>{e?a(e):o(t)}):s.push(o);const c=this===n?i:this;Reflect.apply(e,c,s)})};const e=new WeakMap;ic=(t,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};const i=typeof t;if(null===t||"object"!==i&&"function"!==i)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===t?"null":i}\``);const filter=(t,i)=>{let s=e.get(t);if(!s){s={};e.set(t,s)}if(i in s)return s[i];const match=e=>"string"==typeof e||"symbol"==typeof i?i===e:e.test(i);const o=Reflect.getOwnPropertyDescriptor(t,i);const a=void 0===o||o.writable||o.configurable;const c=n.include?n.include.some(match):!n.exclude.some(match);const u=c&&a;s[i]=u;return u};const s=new WeakMap;const o=new Proxy(t,{apply(e,t,i){const a=s.get(e);if(a)return Reflect.apply(a,t,i);const c=n.excludeMain?e:processFn(e,n,o,e);s.set(e,c);return Reflect.apply(c,t,i)},get(e,t){const i=e[t];if(!filter(e,t)||i===Function.prototype[t])return i;const a=s.get(i);if(a)return a;if("function"==typeof i){const t=processFn(i,n,o,e);s.set(i,t);return t}return i}});return o};return ic}var oc;var ac;function requireBaseFilter(){if(ac)return oc;ac=1;const e=requireCjs().default;class t extends e{constructor(){super();this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e);e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;this.updates=[];return e}}oc=t;return oc}var cc;var uc;function requireBaseFilterHistory(){if(uc)return cc;uc=1;const e=requireBaseFilter();class t extends e{constructor(){super();this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e);super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e);super.addInitialResults(e)}getAllResults(){return this.allResults}}cc=t;return cc}var lc;var hc;function requireHexUtils(){if(hc)return lc;hc=1;lc={minBlockRef:minBlockRef,maxBlockRef:maxBlockRef,sortBlockRefs:sortBlockRefs,bnToHex:bnToHex,blockRefIsNumber:blockRefIsNumber,hexToInt:hexToInt,incrementHexInt:incrementHexInt,intToHex:intToHex,unsafeRandomBytes:unsafeRandomBytes};function minBlockRef(...e){const t=sortBlockRefs(e);return t[0]}function maxBlockRef(...e){const t=sortBlockRefs(e);return t[t.length-1]}function sortBlockRefs(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:hexToInt(e)-hexToInt(t))}function bnToHex(e){return"0x"+e.toString(16)}function blockRefIsNumber(e){return e&&!["earliest","latest","pending"].includes(e)}function hexToInt(e){return null==e?e:Number.parseInt(e,16)}function incrementHexInt(e){if(null==e)return e;const t=hexToInt(e);return intToHex(t+1)}function intToHex(e){if(null==e)return e;let t=e.toString(16);const n=t.length%2;n&&(t="0"+t);return"0x"+t}function unsafeRandomBytes(e){let t="0x";for(let n=0;n<e;n++){t+=unsafeRandomNibble();t+=unsafeRandomNibble()}return t}function unsafeRandomNibble(){return Math.floor(16*Math.random()).toString(16)}return lc}var dc;var fc;function requireLogFilter(){if(fc)return dc;fc=1;const e=requireEthQuery();const t=requirePify();const n=requireBaseFilterHistory();const{bnToHex:i,hexToInt:s,incrementHexInt:o,minBlockRef:a,blockRefIsNumber:c}=requireHexUtils();class u extends n{constructor({provider:t,params:n}){super();this.type="log";this.ethQuery=new e(t);this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},n);if(this.params.address){Array.isArray(this.params.address)||(this.params.address=[this.params.address]);this.params.address=this.params.address.map(e=>e.toLowerCase())}}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e);"earliest"===t&&(t="0x0");this.params.fromBlock=t;const n=a(this.params.toBlock,e);const i=Object.assign({},this.params,{toBlock:n});const s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:t}){const n=t;let i;i=e?o(e):t;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n});const a=await this._fetchLogs(s);const c=a.filter(e=>this.matchLog(e));this.addResults(c)}async _fetchLogs(e){const n=await t(t=>this.ethQuery.getLogs(e,t))();return n}matchLog(e){if(s(this.params.fromBlock)>=s(e.blockNumber))return!1;if(c(this.params.toBlock)&&s(this.params.toBlock)<=s(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;const n=this.params.topics.every((t,n)=>{let i=e.topics[n];if(!i)return!1;i=i.toLowerCase();let s=Array.isArray(t)?t:[t];const o=s.includes(null);if(o)return!0;s=s.map(e=>e.toLowerCase());const a=s.includes(i);return a});return n}}dc=u;return dc}var pc;var gc;function requireGetBlocksForRange(){if(gc)return pc;gc=1;pc=getBlocksForRange;async function getBlocksForRange({provider:e,fromBlock:t,toBlock:n}){t||(t=n);const i=hexToInt(t);const s=hexToInt(n);const o=s-i+1;const a=Array(o).fill().map((e,t)=>i+t).map(intToHex);let c=await Promise.all(a.map(t=>query(e,"eth_getBlockByNumber",[t,!1])));c=c.filter(e=>null!==e);return c}function hexToInt(e){return null==e?e:Number.parseInt(e,16)}function intToHex(e){if(null==e)return e;const t=e.toString(16);return"0x"+t}function sendAsync(e,t){return new Promise((n,i)=>{e.sendAsync(t,(e,t)=>{e?i(e):t.error?i(t.error):t.result?n(t.result):i(new Error("Result was empty"))})})}async function query(e,t,n){for(let s=0;s<3;s++)try{return await sendAsync(e,{id:1,jsonrpc:"2.0",method:t,params:n})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}return null}return pc}var mc;var vc;function requireBlockFilter(){if(vc)return mc;vc=1;const e=requireBaseFilter();const t=requireGetBlocksForRange();const{incrementHexInt:n}=requireHexUtils();class i extends e{constructor({provider:e,params:t}){super();this.type="block";this.provider=e}async update({oldBlock:e,newBlock:i}){const s=i;const o=n(e);const a=await t({provider:this.provider,fromBlock:o,toBlock:s});const c=a.map(e=>e.hash);this.addResults(c)}}mc=i;return mc}var yc;var bc;function requireTxFilter(){if(bc)return yc;bc=1;const e=requireBaseFilter();const t=requireGetBlocksForRange();const{incrementHexInt:n}=requireHexUtils();class i extends e{constructor({provider:e}){super();this.type="tx";this.provider=e}async update({oldBlock:e}){const i=e;const s=n(e);const o=await t({provider:this.provider,fromBlock:s,toBlock:i});const a=[];for(const t of o)a.push(...t.transactions);this.addResults(a)}}yc=i;return yc}var wc;var Ec;function requireEthJsonRpcFilters(){if(Ec)return wc;Ec=1;const e=requireLib().Mutex;const{createAsyncMiddleware:t,createScaffoldMiddleware:n}=requireDist$1();const i=requireLogFilter();const s=requireBlockFilter();const o=requireTxFilter();const{intToHex:a,hexToInt:c}=requireHexUtils();wc=createEthFilterMiddleware;function createEthFilterMiddleware({blockTracker:t,provider:u}){let l=0;let h={};const d=new e;const f=mutexMiddlewareWrapper({mutex:d});const p=n({eth_newFilter:f(toFilterCreationMiddleware(newLogFilter)),eth_newBlockFilter:f(toFilterCreationMiddleware(newBlockFilter)),eth_newPendingTransactionFilter:f(toFilterCreationMiddleware(newPendingTransactionFilter)),eth_uninstallFilter:f(toAsyncRpcMiddleware(uninstallFilterHandler)),eth_getFilterChanges:f(toAsyncRpcMiddleware(getFilterChanges)),eth_getFilterLogs:f(toAsyncRpcMiddleware(getFilterLogs))});const filterUpdater=async({oldBlock:e,newBlock:t})=>{if(0===h.length)return;const n=await d.acquire();try{await Promise.all(objValues(h).map(async n=>{try{await n.update({oldBlock:e,newBlock:t})}catch(i){console.error(i)}}))}catch(i){console.error(i)}n()};p.newLogFilter=newLogFilter;p.newBlockFilter=newBlockFilter;p.newPendingTransactionFilter=newPendingTransactionFilter;p.uninstallFilter=uninstallFilterHandler;p.getFilterChanges=getFilterChanges;p.getFilterLogs=getFilterLogs;p.destroy=()=>{uninstallAllFilters()};return p;async function newLogFilter(e){const t=new i({provider:u,params:e});await installFilter(t);return t}async function newBlockFilter(){const e=new s({provider:u});await installFilter(e);return e}async function newPendingTransactionFilter(){const e=new o({provider:u});await installFilter(e);return e}async function getFilterChanges(e){const t=c(e);const n=h[t];if(!n)throw new Error(`No filter for index "${t}"`);const i=n.getChangesAndClear();return i}async function getFilterLogs(e){const t=c(e);const n=h[t];if(!n)throw new Error(`No filter for index "${t}"`);let i=[];"log"===n.type&&(i=n.getAllResults());return i}async function uninstallFilterHandler(e){const t=c(e);const n=h[t];const i=Boolean(n);i&&await uninstallFilter(t);return i}async function installFilter(e){const n=objValues(h).length;const i=await t.getLatestBlock();await e.initialize({currentBlock:i});l++;h[l]=e;e.id=l;e.idHex=a(l);const s=objValues(h).length;updateBlockTrackerSubs({prevFilterCount:n,newFilterCount:s});return l}async function uninstallFilter(e){const t=objValues(h).length;delete h[e];const n=objValues(h).length;updateBlockTrackerSubs({prevFilterCount:t,newFilterCount:n})}async function uninstallAllFilters(){const e=objValues(h).length;h={};updateBlockTrackerSubs({prevFilterCount:e,newFilterCount:0})}function updateBlockTrackerSubs({prevFilterCount:e,newFilterCount:n}){0===e&&n>0?t.on("sync",filterUpdater):e>0&&0===n&&t.removeListener("sync",filterUpdater)}}function toFilterCreationMiddleware(e){return toAsyncRpcMiddleware(async(...t)=>{const n=await e(...t);const i=a(n.id);return i})}function toAsyncRpcMiddleware(e){return t(async(t,n)=>{const i=await e.apply(null,t.params);n.result=i})}function mutexMiddlewareWrapper({mutex:e}){return t=>async(n,i,s,o)=>{const a=await e.acquire();a();t(n,i,s,o)}}function objValues(e,t){const n=[];for(let i in e)n.push(e[i]);return n}return wc}var _c;var Sc;function requireSubscriptionManager$1(){if(Sc)return _c;Sc=1;const e=requireCjs().default;const{createAsyncMiddleware:t,createScaffoldMiddleware:n}=requireDist$1();const i=requireEthJsonRpcFilters();const{unsafeRandomBytes:s,incrementHexInt:o}=requireHexUtils();const a=requireGetBlocksForRange();_c=createSubscriptionMiddleware;function createSubscriptionMiddleware({blockTracker:c,provider:u}){const l={};const h=i({blockTracker:c,provider:u});let d=!1;const f=new e;const p=n({eth_subscribe:t(subscribe),eth_unsubscribe:t(unsubscribe)});p.destroy=destroy;return{events:f,middleware:p};async function subscribe(e,t){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0];const i=s(16);let f;switch(n){case"newHeads":f=createSubNewHeads({subId:i});break;case"logs":const t=e.params[1];const s=await h.newLogFilter(t);f=createSubFromFilter({subId:i,filter:s});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${n}"`)}l[i]=f;t.result=i;return;function createSubNewHeads({subId:e}){const t={type:n,destroy:async()=>{c.removeListener("sync",t.update)},update:async({oldBlock:t,newBlock:n})=>{const i=n;const s=o(t);const c=await a({provider:u,fromBlock:s,toBlock:i});const l=c.map(normalizeBlock).filter(e=>null!==e);l.forEach(t=>{_emitSubscriptionResult(e,t)})}};c.on("sync",t.update);return t}function createSubFromFilter({subId:e,filter:t}){t.on("update",t=>_emitSubscriptionResult(e,t));const i={type:n,destroy:async()=>await h.uninstallFilter(t.idHex)};return i}}async function unsubscribe(e,t){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0];const i=l[n];if(i){delete l[n];await i.destroy();t.result=!0}else t.result=!1}function _emitSubscriptionResult(e,t){f.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}function destroy(){f.removeAllListeners();for(const e in l){l[e].destroy();delete l[e]}d=!0}}function normalizeBlock(e){return null==e?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}return _c}var Rc;function requireSubscriptionManager(){if(Rc)return Ri;Rc=1;Object.defineProperty(Ri,"__esModule",{value:!0});Ri.SubscriptionManager=void 0;const e=requireDist$3();const t=requireSubscriptionManager$1();const noop=()=>{};let n=class{constructor(n){const i=new e.PollingBlockTracker({provider:n,pollingInterval:15e3,setSkipCacheFlag:!0});const{events:s,middleware:o}=t({blockTracker:i,provider:n});this.events=s;this.subscriptionMiddleware=o}async handleRequest(e){const t={};await this.subscriptionMiddleware(e,t,noop,noop);return t}destroy(){this.subscriptionMiddleware.destroy()}};Ri.SubscriptionManager=n;return Ri}var kc;function requireCoinbaseWalletProvider(){if(kc)return or;kc=1;var e=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(or,"__esModule",{value:!0});or.CoinbaseWalletProvider=void 0;const n=e(requireBn());const i=t();const s=requireError();const o=requireUtil$1();const a=requireMobileRelay();const c=requireRelayAbstract();const u=requireSession();const l=requireWeb3Response();const h=e(requireEthEip712Util());const d=requireDiagnosticLogger();const f=requireFilterPolyfill();const p=requireSubscriptionManager();const g="DefaultChainId";const m="DefaultJsonRpcUrl";let v=class extends i.EventEmitter{constructor(e){var t,n;super();this._filterPolyfill=new f.FilterPolyfill(this);this._subscriptionManager=new p.SubscriptionManager(this);this._relay=null;this._addresses=[];this.hasMadeFirstChainChangedEmission=!1;this.setProviderInfo=this.setProviderInfo.bind(this);this.updateProviderInfo=this.updateProviderInfo.bind(this);this.getChainId=this.getChainId.bind(this);this.setAppInfo=this.setAppInfo.bind(this);this.enable=this.enable.bind(this);this.close=this.close.bind(this);this.send=this.send.bind(this);this.sendAsync=this.sendAsync.bind(this);this.request=this.request.bind(this);this._setAddresses=this._setAddresses.bind(this);this.scanQRCode=this.scanQRCode.bind(this);this.genericRequest=this.genericRequest.bind(this);this._chainIdFromOpts=e.chainId;this._jsonRpcUrlFromOpts=e.jsonRpcUrl;this._overrideIsMetaMask=e.overrideIsMetaMask;this._relayProvider=e.relayProvider;this._storage=e.storage;this._relayEventManager=e.relayEventManager;this.diagnostic=e.diagnosticLogger;this.reloadOnDisconnect=!0;this.isCoinbaseWallet=null===(t=e.overrideIsCoinbaseWallet)||void 0===t||t;this.isCoinbaseBrowser=null!==(n=e.overrideIsCoinbaseBrowser)&&void 0!==n&&n;this.qrUrl=e.qrUrl;const i=this.getChainId();const s=(0,o.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const a=this._storage.getItem(c.LOCAL_STORAGE_ADDRESSES_KEY);if(a){const e=a.split(" ");if(""!==e[0]){this._addresses=e.map(e=>(0,o.ensureAddressString)(e));this.emit("accountsChanged",e)}}this._subscriptionManager.events.on("notification",e=>{this.emit("message",{type:e.method,data:e.params})});this._isAuthorized()&&void this.initializeRelay();window.addEventListener("message",e=>{var t;if(e.origin===location.origin&&e.source===window&&"walletLinkMessage"===e.data.type&&"dappChainSwitched"===e.data.data.action){const n=e.data.data.chainId;const i=null!==(t=e.data.data.jsonRpcUrl)&&void 0!==t?t:this.jsonRpcUrl;this.updateProviderInfo(i,Number(n))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,o.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return null!==(e=this._storage.getItem(m))&&void 0!==e?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(m,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,t){if(!this.isCoinbaseBrowser){this._chainIdFromOpts=t;this._jsonRpcUrlFromOpts=e}this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,t){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(g,t.toString(10));const i=(0,o.ensureIntNumber)(t)!==n;if(i||!this.hasMadeFirstChainChangedEmission){this.emit("chainChanged",this.getChainId());this.hasMadeFirstChainChangedEmission=!0}}async watchAsset(e,t,n,i,s,o){const a=await this.initializeRelay();const c=await a.watchAsset(e,t,n,i,s,null==o?void 0:o.toString()).promise;return!(0,l.isErrorResponse)(c)&&!!c.result}async addEthereumChain(e,t,n,i,s,a){var c,u;if((0,o.ensureIntNumber)(e)===this.getChainId())return!1;const h=await this.initializeRelay();const d=h.inlineAddEthereumChain(e.toString());this._isAuthorized()||d||await h.requestEthereumAccounts().promise;const f=await h.addEthereumChain(e.toString(),t,s,n,i,a).promise;if((0,l.isErrorResponse)(f))return!1;!0===(null===(c=f.result)||void 0===c?void 0:c.isApproved)&&this.updateProviderInfo(t[0],e);return!0===(null===(u=f.result)||void 0===u?void 0:u.isApproved)}async switchEthereumChain(e){const t=await this.initializeRelay();const n=await t.switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,l.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===s.standardErrorCodes.provider.unsupportedChain?s.standardErrors.provider.unsupportedChain():s.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,t){void this.initializeRelay().then(n=>n.setAppInfo(e,t))}async enable(){var e;null===(e=this.diagnostic)||void 0===e?void 0:e.log(d.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?u.Session.hash(this._relay.session.id):void 0});return this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){const e=await this.initializeRelay();e.resetAndReload()}send(e,t){try{const n=this._send(e,t);if(n instanceof Promise)return n.catch(t=>{throw(0,s.serializeError)(t,e)})}catch(n){throw(0,s.serializeError)(n,e)}}_send(e,t){if("string"==typeof e){const n=e;const i=Array.isArray(t)?t:void 0!==t?[t]:[];const s={jsonrpc:"2.0",id:0,method:n,params:i};return this._sendRequestAsync(s).then(e=>e.result)}if("function"==typeof t){const n=e;const i=t;return this._sendAsync(n,i)}if(Array.isArray(e)){const t=e;return t.map(e=>this._sendRequest(e))}const n=e;return this._sendRequest(n)}async sendAsync(e,t){try{return this._sendAsync(e,t).catch(t=>{throw(0,s.serializeError)(t,e)})}catch(n){return Promise.reject((0,s.serializeError)(n,e))}}async _sendAsync(e,t){if("function"!=typeof t)throw new Error("callback is required");if(Array.isArray(e)){const n=t;this._sendMultipleRequestsAsync(e).then(e=>n(null,e)).catch(e=>n(e,null));return}const n=t;return this._sendRequestAsync(e).then(e=>n(null,e)).catch(e=>n(e,null))}async request(e){try{return this._request(e).catch(t=>{throw(0,s.serializeError)(t,e.method)})}catch(t){return Promise.reject((0,s.serializeError)(t,e.method))}}async _request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw s.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:n}=e;if("string"!=typeof t||0===t.length)throw s.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==n&&!Array.isArray(n)&&("object"!=typeof n||null===n))throw s.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=void 0===n?[]:n;const o=this._relayEventManager.makeRequestId();const a=await this._sendRequestAsync({method:t,params:i,jsonrpc:"2.0",id:o});return a.result}async scanQRCode(e){const t=await this.initializeRelay();const n=await t.scanQRCode((0,o.ensureRegExpString)(e)).promise;if((0,l.isErrorResponse)(n))throw(0,s.serializeError)(n.errorMessage,"scanQRCode");if("string"!=typeof n.result)throw(0,s.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(e,t){const n=await this.initializeRelay();const i=await n.genericRequest(e,t).promise;if((0,l.isErrorResponse)(i))throw(0,s.serializeError)(i.errorMessage,"generic");if("string"!=typeof i.result)throw(0,s.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(e){var t;null===(t=this.diagnostic)||void 0===t?void 0:t.log(d.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?u.Session.hash(this._relay.session.id):void 0});let n;try{const t=await this.initializeRelay();if(!(t instanceof a.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");n=await t.connectAndSignIn(e).promise;if((0,l.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(o){if("string"==typeof o.message&&o.message.match(/(denied|rejected)/i))throw s.standardErrors.provider.userRejectedRequest("User denied account authorization");throw o}if(!n.result)throw new Error("accounts received is empty");const{accounts:i}=n.result;this._setAddresses(i);this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId());return n.result}async selectProvider(e){const t=await this.initializeRelay();const n=await t.selectProvider(e).promise;if((0,l.isErrorResponse)(n))throw(0,s.serializeError)(n.errorMessage,"selectProvider");if("string"!=typeof n.result)throw(0,s.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id};const{method:n}=e;t.result=this._handleSynchronousMethods(e);if(void 0===t.result)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return t}_setAddresses(e,t){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(e=>(0,o.ensureAddressString)(e));if(JSON.stringify(n)!==JSON.stringify(this._addresses)){this._addresses=n;this.emit("accountsChanged",this._addresses);this._storage.setItem(c.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))}}_sendRequestAsync(e){return new Promise((t,n)=>{try{const i=this._handleSynchronousMethods(e);if(void 0!==i)return t({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(void 0!==s){s.then(n=>t(Object.assign(Object.assign({},n),{id:e.id}))).catch(e=>n(e));return}const o=this._handleSubscriptionMethods(e);if(void 0!==o){o.then(n=>t({jsonrpc:"2.0",id:e.id,result:n.result})).catch(e=>n(e));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(n=>n&&t(Object.assign(Object.assign({},n),{id:e.id}))).catch(e=>n(e))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(e=>this._sendRequestAsync(e)))}_handleSynchronousMethods(e){const{method:t}=e;const n=e.params||[];switch(t){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:t}=e;const n=e.params||[];switch(t){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}const i=await this.initializeRelay();return i.makeEthereumJSONRPCRequest(e,this.jsonRpcUrl).catch(t=>{var n;t.code!==s.standardErrorCodes.rpc.methodNotFound&&t.code!==s.standardErrorCodes.rpc.methodNotSupported||(null===(n=this.diagnostic)||void 0===n?void 0:n.log(d.EVENTS.METHOD_NOT_IMPLEMENTED,{method:e.method,sessionIdHash:this._relay?u.Session.hash(this._relay.session.id):void 0}));throw t})}_handleAsynchronousFilterMethods(e){const{method:t}=e;const n=e.params||[];switch(t){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const t=(0,o.ensureAddressString)(e);const n=this._addresses.map(e=>(0,o.ensureAddressString)(e));return n.includes(t)}catch(t){}return!1}_ensureKnownAddress(e){var t;if(!this._isKnownAddress(e)){null===(t=this.diagnostic)||void 0===t?void 0:t.log(d.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED);throw new Error("Unknown Ethereum address")}}_prepareTransactionParams(e){const t=e.from?(0,o.ensureAddressString)(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);const i=e.to?(0,o.ensureAddressString)(e.to):null;const s=null!=e.value?(0,o.ensureBN)(e.value):new n.default(0);const a=e.data?(0,o.ensureBuffer)(e.data):Buffer.alloc(0);const c=null!=e.nonce?(0,o.ensureIntNumber)(e.nonce):null;const u=null!=e.gasPrice?(0,o.ensureBN)(e.gasPrice):null;const l=null!=e.maxFeePerGas?(0,o.ensureBN)(e.maxFeePerGas):null;const h=null!=e.maxPriorityFeePerGas?(0,o.ensureBN)(e.maxPriorityFeePerGas):null;const d=null!=e.gas?(0,o.ensureBN)(e.gas):null;const f=e.chainId?(0,o.ensureIntNumber)(e.chainId):this.getChainId();return{fromAddress:t,toAddress:i,weiValue:s,data:a,nonce:c,gasPriceInWei:u,maxFeePerGas:l,maxPriorityFeePerGas:h,gasLimit:d,chainId:f}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw s.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw s.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,n,i){this._ensureKnownAddress(t);try{const s=await this.initializeRelay();const o=await s.signEthereumMessage(e,t,n,i).promise;if((0,l.isErrorResponse)(o))throw new Error(o.errorMessage);return{jsonrpc:"2.0",id:0,result:o.result}}catch(o){if("string"==typeof o.message&&o.message.match(/(denied|rejected)/i))throw s.standardErrors.provider.userRejectedRequest("User denied message signature");throw o}}async _ethereumAddressFromSignedMessage(e,t,n){const i=await this.initializeRelay();const s=await i.ethereumAddressFromSignedMessage(e,t,n).promise;if((0,l.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,o.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(g);if(!e)return(0,o.ensureIntNumber)(this._chainIdFromOpts);const t=parseInt(e,10);return(0,o.ensureIntNumber)(t)}async _eth_requestAccounts(){var e;null===(e=this.diagnostic)||void 0===e?void 0:e.log(d.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?u.Session.hash(this._relay.session.id):void 0});if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{const e=await this.initializeRelay();t=await e.requestEthereumAccounts().promise;if((0,l.isErrorResponse)(t))throw new Error(t.errorMessage)}catch(n){if("string"==typeof n.message&&n.message.match(/(denied|rejected)/i))throw s.standardErrors.provider.userRejectedRequest("User denied account authorization");throw n}if(!t.result)throw new Error("accounts received is empty");this._setAddresses(t.result);this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId());return{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const t=(0,o.ensureAddressString)(e[0]);const n=(0,o.ensureBuffer)(e[1]);return this._signEthereumMessage(n,t,!1)}_eth_ecRecover(e){const t=(0,o.ensureBuffer)(e[0]);const n=(0,o.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!1)}_personal_sign(e){this._requireAuthorization();const t=(0,o.ensureBuffer)(e[0]);const n=(0,o.ensureAddressString)(e[1]);return this._signEthereumMessage(t,n,!0)}_personal_ecRecover(e){const t=(0,o.ensureBuffer)(e[0]);const n=(0,o.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay();const n=await e.signEthereumTransaction(t).promise;if((0,l.isErrorResponse)(n))throw new Error(n.errorMessage);return{jsonrpc:"2.0",id:0,result:n.result}}catch(n){if("string"==typeof n.message&&n.message.match(/(denied|rejected)/i))throw s.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw n}}async _eth_sendRawTransaction(e){const t=(0,o.ensureBuffer)(e[0]);const n=await this.initializeRelay();const i=await n.submitEthereumTransaction(t,this.getChainId()).promise;if((0,l.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(e){this._requireAuthorization();const t=this._prepareTransactionParams(e[0]||{});try{const e=await this.initializeRelay();const n=await e.signAndSubmitEthereumTransaction(t).promise;if((0,l.isErrorResponse)(n))throw new Error(n.errorMessage);return{jsonrpc:"2.0",id:0,result:n.result}}catch(n){if("string"==typeof n.message&&n.message.match(/(denied|rejected)/i))throw s.standardErrors.provider.userRejectedRequest("User denied transaction signature");throw n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const t=(0,o.ensureParsedJSONObject)(e[0]);const n=(0,o.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=h.default.hashForSignTypedDataLegacy({data:t});const s=JSON.stringify(t,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const t=(0,o.ensureAddressString)(e[0]);const n=(0,o.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const i=h.default.hashForSignTypedData_v3({data:n});const s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const t=(0,o.ensureAddressString)(e[0]);const n=(0,o.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(t);const i=h.default.hashForSignTypedData_v4({data:n});const s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,t,!1,s)}async _cbwallet_arbitrary(e){const t=e[0];const n=e[1];if("string"!=typeof n)throw new Error("parameter must be a string");if("object"!=typeof t||null===t)throw new Error("parameter must be an object");const i=await this.genericRequest(t,n);return{jsonrpc:"2.0",id:0,result:i}}async _wallet_addEthereumChain(e){var t,n,i,o;const a=e[0];if(0===(null===(t=a.rpcUrls)||void 0===t?void 0:t.length))return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!a.chainName||""===a.chainName.trim())throw s.standardErrors.rpc.invalidParams("chainName is a required field");if(!a.nativeCurrency)throw s.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const c=parseInt(a.chainId,16);const u=await this.addEthereumChain(c,null!==(n=a.rpcUrls)&&void 0!==n?n:[],null!==(i=a.blockExplorerUrls)&&void 0!==i?i:[],a.chainName,null!==(o=a.iconUrls)&&void 0!==o?o:[],a.nativeCurrency);return u?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const t=e[0];await this.switchEthereumChain(parseInt(t.chainId,16));return{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw s.standardErrors.rpc.invalidParams("Type is required");if("ERC20"!==(null==t?void 0:t.type))throw s.standardErrors.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw s.standardErrors.rpc.invalidParams("Options are required");if(!(null==t?void 0:t.options.address))throw s.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId();const{address:i,symbol:o,image:a,decimals:c}=t.options;const u=await this.watchAsset(t.type,i,o,c,a,n);return{jsonrpc:"2.0",id:0,result:u}}_eth_uninstallFilter(e){const t=(0,o.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(t)}async _eth_newFilter(e){const t=e[0];const n=await this._filterPolyfill.newFilter(t);return{jsonrpc:"2.0",id:0,result:n}}async _eth_newBlockFilter(){const e=await this._filterPolyfill.newBlockFilter();return{jsonrpc:"2.0",id:0,result:e}}async _eth_newPendingTransactionFilter(){const e=await this._filterPolyfill.newPendingTransactionFilter();return{jsonrpc:"2.0",id:0,result:e}}_eth_getFilterChanges(e){const t=(0,o.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(t)}_eth_getFilterLogs(e){const t=(0,o.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(t)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>{e.setAccountsCallback((e,t)=>this._setAddresses(e,t));e.setChainCallback((e,t)=>{this.updateProviderInfo(t,parseInt(e,10))});e.setDappDefaultChainCallback(this._chainIdFromOpts);this._relay=e;return e})}};or.CoinbaseWalletProvider=v;return or}var Mc={};var Cc;function requireRelayEventManager(){if(Cc)return Mc;Cc=1;Object.defineProperty(Mc,"__esModule",{value:!0});Mc.RelayEventManager=void 0;const e=requireUtil$1();let t=class{constructor(){this._nextRequestId=0;this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId;const n=(0,e.prepend0x)(t.toString(16));const i=this.callbacks.get(n);i&&this.callbacks.delete(n);return t}};Mc.RelayEventManager=t;return Mc}var Ic;function requireCoinbaseWalletSDK(){if(Ic)return Bt;Ic=1;Object.defineProperty(Bt,"__esModule",{value:!0});Bt.CoinbaseWalletSDK=void 0;const e=requireWalletLogo();const t=requireConstants$2();const n=requireUtil$1();const i=requireScopedLocalStorage();const s=requireCoinbaseWalletProvider();const o=requireMobileRelay();const a=requireMobileRelayUI();const c=requireRelayEventManager();const u=requireWalletLinkRelayUI();const l=requireWalletLinkRelay();const h=requireVersion();let d=class d{constructor(e){var s,f,p;this._appName="";this._appLogoUrl=null;this._relay=null;this._relayEventManager=null;const g=e.linkAPIUrl||t.LINK_API_URL;"undefined"==typeof e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask;this._overrideIsCoinbaseWallet=null===(s=e.overrideIsCoinbaseWallet)||void 0===s||s;this._overrideIsCoinbaseBrowser=null!==(f=e.overrideIsCoinbaseBrowser)&&void 0!==f&&f;this._diagnosticLogger=e.diagnosticLogger;this._reloadOnDisconnect=null===(p=e.reloadOnDisconnect)||void 0===p||p;const m=new URL(g);const v=`${m.protocol}//${m.host}`;this._storage=new i.ScopedLocalStorage(`-walletlink:${v}`);this._storage.setItem("version",d.VERSION);if(this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new c.RelayEventManager;const y=(0,n.isMobileWeb)();const b=e.uiConstructor||(e=>y?new a.MobileRelayUI(e):new u.WalletLinkRelayUI(e));const w={linkAPIUrl:g,version:h.LIB_VERSION,darkMode:!!e.darkMode,headlessMode:!!e.headlessMode,uiConstructor:b,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:e.enableMobileWalletLink};this._relay=y?new o.MobileRelay(w):new l.WalletLinkRelay(w);this.setAppInfo(e.appName,e.appLogoUrl);e.headlessMode||this._relay.attachUI()}makeWeb3Provider(e="",t=1){const n=this.walletExtension;if(n){this.isCipherProvider(n)||n.setProviderInfo(e,t);!1===this._reloadOnDisconnect&&"function"==typeof n.disableReloadOnDisconnect&&n.disableReloadOnDisconnect();return n}const i=this.coinbaseBrowser;if(i)return i;const o=this._relay;if(!o||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");e||o.setConnectDisabled(!0);return new s.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(o),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,t){var i;this._appName=e||"DApp";this._appLogoUrl=t||(0,n.getFavicon)();const s=this.walletExtension;s?this.isCipherProvider(s)||s.setAppInfo(this._appName,this._appLogoUrl):null===(i=this._relay)||void 0===i?void 0:i.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const t=null==this?void 0:this.walletExtension;t?void t.close():null===(e=this._relay)||void 0===e?void 0:e.resetAndReload()}getQrUrl(){var e,t;return null!==(t=null===(e=this._relay)||void 0===e?void 0:e.getQRCodeUrl())&&void 0!==t?t:null}getCoinbaseWalletLogo(t,n=240){return(0,e.walletLogo)(t,n)}get walletExtension(){var e;return null!==(e=window.coinbaseWalletExtension)&&void 0!==e?e:window.walletLinkExtension}get coinbaseBrowser(){var e,t;try{const ethereum=null!==(e=window.ethereum)&&void 0!==e?e:null===(t=window.top)||void 0===t?void 0:t.ethereum;if(!ethereum)return;return"isCoinbaseBrowser"in ethereum&&ethereum.isCoinbaseBrowser?ethereum:void 0}catch(n){return}}isCipherProvider(e){return"boolean"==typeof e.isCipher&&e.isCipher}};Bt.CoinbaseWalletSDK=d;d.VERSION=h.LIB_VERSION;return Bt}var Ac;function requireDist(){if(Ac)return Nt;Ac=1;!function(e){Object.defineProperty(e,"__esModule",{value:!0});e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=requireCoinbaseWalletSDK();const n=requireCoinbaseWalletProvider();var i=requireCoinbaseWalletSDK();Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return i.CoinbaseWalletSDK}});var s=requireCoinbaseWalletProvider();Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return s.CoinbaseWalletProvider}});e.default=t.CoinbaseWalletSDK;if("undefined"!=typeof window){window.CoinbaseWalletSDK=t.CoinbaseWalletSDK;window.CoinbaseWalletProvider=n.CoinbaseWalletProvider;window.WalletLink=t.CoinbaseWalletSDK;window.WalletLinkProvider=n.CoinbaseWalletProvider}}(Nt);return Nt}var xc=requireDist();const Nc=e(xc);const Bc=Object.freeze(Object.defineProperty({__proto__:null,default:Nc},Symbol.toStringTag,{value:"Module"}));export{Bc as i};
//# sourceMappingURL=index-CauRjI5p-DArCS1Gp.js.map
