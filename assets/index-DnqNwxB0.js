const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ChhyusO2-DAa6Xq7i.js","assets/wagmi-BlTxHScW.js","assets/VirtualList-CkN222eY-fTBMFPK0.js"])))=>i.map(i=>d[i]);
import{_ as vd}from"./wagmi-BlTxHScW.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x9(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var eA={exports:{}},an={},tA;function GD(){if(tA)return an;tA=1;/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function m(F){return F===null||typeof F!="object"?null:(F=f&&F[f]||F["@@iterator"],typeof F=="function"?F:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function w(F,V,J){this.props=F,this.context=V,this.refs=y,this.updater=J||g}w.prototype.isReactComponent={},w.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},w.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function x(){}x.prototype=w.prototype;function N(F,V,J){this.props=F,this.context=V,this.refs=y,this.updater=J||g}var E=N.prototype=new x;E.constructor=N,b(E,w.prototype),E.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,A={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function P(F,V,J){var Q,ae={},ue=null,re=null;if(V!=null)for(Q in V.ref!==void 0&&(re=V.ref),V.key!==void 0&&(ue=""+V.key),V)k.call(V,Q)&&!_.hasOwnProperty(Q)&&(ae[Q]=V[Q]);var ie=arguments.length-2;if(ie===1)ae.children=J;else if(1<ie){for(var me=Array(ie),oe=0;oe<ie;oe++)me[oe]=arguments[oe+2];ae.children=me}if(F&&F.defaultProps)for(Q in ie=F.defaultProps,ie)ae[Q]===void 0&&(ae[Q]=ie[Q]);return{$$typeof:t,type:F,key:ue,ref:re,props:ae,_owner:A.current}}function I(F,V){return{$$typeof:t,type:F.type,key:V,ref:F.ref,props:F.props,_owner:F._owner}}function $(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function H(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(J){return V[J]})}var M=/\/+/g;function B(F,V){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):V.toString(36)}function O(F,V,J,Q,ae){var ue=typeof F;(ue==="undefined"||ue==="boolean")&&(F=null);var re=!1;if(F===null)re=!0;else switch(ue){case"string":case"number":re=!0;break;case"object":switch(F.$$typeof){case t:case e:re=!0}}if(re)return re=F,ae=ae(re),F=Q===""?"."+B(re,0):Q,C(ae)?(J="",F!=null&&(J=F.replace(M,"$&/")+"/"),O(ae,V,J,"",function(oe){return oe})):ae!=null&&($(ae)&&(ae=I(ae,J+(!ae.key||re&&re.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+F)),V.push(ae)),1;if(re=0,Q=Q===""?".":Q+":",C(F))for(var ie=0;ie<F.length;ie++){ue=F[ie];var me=Q+B(ue,ie);re+=O(ue,V,J,me,ae)}else if(me=m(F),typeof me=="function")for(F=me.call(F),ie=0;!(ue=F.next()).done;)ue=ue.value,me=Q+B(ue,ie++),re+=O(ue,V,J,me,ae);else if(ue==="object")throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return re}function z(F,V,J){if(F==null)return F;var Q=[],ae=0;return O(F,Q,"","",function(ue){return V.call(J,ue,ae++)}),Q}function G(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(J){(F._status===0||F._status===-1)&&(F._status=1,F._result=J)},function(J){(F._status===0||F._status===-1)&&(F._status=2,F._result=J)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var Z={current:null},D={transition:null},K={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:D,ReactCurrentOwner:A};function ee(){throw Error("act(...) is not supported in production builds of React.")}return an.Children={map:z,forEach:function(F,V,J){z(F,function(){V.apply(this,arguments)},J)},count:function(F){var V=0;return z(F,function(){V++}),V},toArray:function(F){return z(F,function(V){return V})||[]},only:function(F){if(!$(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},an.Component=w,an.Fragment=n,an.Profiler=s,an.PureComponent=N,an.StrictMode=r,an.Suspense=c,an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,an.act=ee,an.cloneElement=function(F,V,J){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Q=b({},F.props),ae=F.key,ue=F.ref,re=F._owner;if(V!=null){if(V.ref!==void 0&&(ue=V.ref,re=A.current),V.key!==void 0&&(ae=""+V.key),F.type&&F.type.defaultProps)var ie=F.type.defaultProps;for(me in V)k.call(V,me)&&!_.hasOwnProperty(me)&&(Q[me]=V[me]===void 0&&ie!==void 0?ie[me]:V[me])}var me=arguments.length-2;if(me===1)Q.children=J;else if(1<me){ie=Array(me);for(var oe=0;oe<me;oe++)ie[oe]=arguments[oe+2];Q.children=ie}return{$$typeof:t,type:F.type,key:ae,ref:ue,props:Q,_owner:re}},an.createContext=function(F){return F={$$typeof:i,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},an.createElement=P,an.createFactory=function(F){var V=P.bind(null,F);return V.type=F,V},an.createRef=function(){return{current:null}},an.forwardRef=function(F){return{$$typeof:o,render:F}},an.isValidElement=$,an.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:G}},an.memo=function(F,V){return{$$typeof:u,type:F,compare:V===void 0?null:V}},an.startTransition=function(F){var V=D.transition;D.transition={};try{F()}finally{D.transition=V}},an.unstable_act=ee,an.useCallback=function(F,V){return Z.current.useCallback(F,V)},an.useContext=function(F){return Z.current.useContext(F)},an.useDebugValue=function(){},an.useDeferredValue=function(F){return Z.current.useDeferredValue(F)},an.useEffect=function(F,V){return Z.current.useEffect(F,V)},an.useId=function(){return Z.current.useId()},an.useImperativeHandle=function(F,V,J){return Z.current.useImperativeHandle(F,V,J)},an.useInsertionEffect=function(F,V){return Z.current.useInsertionEffect(F,V)},an.useLayoutEffect=function(F,V){return Z.current.useLayoutEffect(F,V)},an.useMemo=function(F,V){return Z.current.useMemo(F,V)},an.useReducer=function(F,V,J){return Z.current.useReducer(F,V,J)},an.useRef=function(F){return Z.current.useRef(F)},an.useState=function(F){return Z.current.useState(F)},an.useSyncExternalStore=function(F,V,J){return Z.current.useSyncExternalStore(F,V,J)},an.useTransition=function(){return Z.current.useTransition()},an.version="18.3.1",an}var nA;function Qg(){return nA||(nA=1,eA.exports=GD()),eA.exports}var p3={exports:{}},Os={},rA={exports:{}},sA={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var aA;function qD(){return aA||(aA=1,function(t){function e(D,K){var ee=D.length;D.push(K);e:for(;0<ee;){var F=ee-1>>>1,V=D[F];if(0<s(V,K))D[F]=K,D[ee]=V,ee=F;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var K=D[0],ee=D.pop();if(ee!==K){D[0]=ee;e:for(var F=0,V=D.length,J=V>>>1;F<J;){var Q=2*(F+1)-1,ae=D[Q],ue=Q+1,re=D[ue];if(0>s(ae,ee))ue<V&&0>s(re,ae)?(D[F]=re,D[ue]=ee,F=ue):(D[F]=ae,D[Q]=ee,F=Q);else if(ue<V&&0>s(re,ee))D[F]=re,D[ue]=ee,F=ue;else break e}}return K}function s(D,K){var ee=D.sortIndex-K.sortIndex;return ee!==0?ee:D.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,f=null,m=3,g=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=D)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function C(D){if(y=!1,E(D),!b)if(n(c)!==null)b=!0,G(k);else{var K=n(u);K!==null&&Z(C,K.startTime-D)}}function k(D,K){b=!1,y&&(y=!1,x(P),P=-1),g=!0;var ee=m;try{for(E(K),f=n(c);f!==null&&(!(f.expirationTime>K)||D&&!H());){var F=f.callback;if(typeof F=="function"){f.callback=null,m=f.priorityLevel;var V=F(f.expirationTime<=K);K=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),E(K)}else r(c);f=n(c)}if(f!==null)var J=!0;else{var Q=n(u);Q!==null&&Z(C,Q.startTime-K),J=!1}return J}finally{f=null,m=ee,g=!1}}var A=!1,_=null,P=-1,I=5,$=-1;function H(){return!(t.unstable_now()-$<I)}function M(){if(_!==null){var D=t.unstable_now();$=D;var K=!0;try{K=_(!0,D)}finally{K?B():(A=!1,_=null)}}else A=!1}var B;if(typeof N=="function")B=function(){N(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,z=O.port2;O.port1.onmessage=M,B=function(){z.postMessage(null)}}else B=function(){w(M,0)};function G(D){_=D,A||(A=!0,B())}function Z(D,K){P=w(function(){D(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,G(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var ee=m;m=K;try{return D()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ee=m;m=D;try{return K()}finally{m=ee}},t.unstable_scheduleCallback=function(D,K,ee){var F=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?F+ee:F):ee=F,D){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ee+V,D={id:h++,callback:K,priorityLevel:D,startTime:ee,expirationTime:V,sortIndex:-1},ee>F?(D.sortIndex=ee,e(u,D),n(c)===null&&D===n(u)&&(y?(x(P),P=-1):y=!0,Z(C,ee-F))):(D.sortIndex=V,e(c,D),b||g||(b=!0,G(k))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var K=m;return function(){var ee=m;m=K;try{return D.apply(this,arguments)}finally{m=ee}}}}(sA)),sA}var iA;function VD(){return iA||(iA=1,rA.exports=qD()),rA.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var oA;function ZD(){if(oA)return Os;oA=1;var t=Qg(),e=VD();function n(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(d,p){i(d,p),i(d+"Capture",p)}function i(d,p){for(s[d]=p,d=0;d<p.length;d++)r.add(p[d])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(d){return c.call(f,d)?!0:c.call(h,d)?!1:u.test(d)?f[d]=!0:(h[d]=!0,!1)}function g(d,p,v,S){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return S?!1:v!==null?!v.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,p,v,S){if(p===null||typeof p>"u"||g(d,p,v,S))return!0;if(S)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(d,p,v,S,R,U,X){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=S,this.attributeNamespace=R,this.mustUseProperty=v,this.propertyName=d,this.type=p,this.sanitizeURL=U,this.removeEmptyString=X}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){w[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];w[p]=new y(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){w[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){w[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){w[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){w[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){w[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){w[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){w[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(x,N);w[p]=new y(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(x,N);w[p]=new y(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(x,N);w[p]=new y(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){w[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){w[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function E(d,p,v,S){var R=w.hasOwnProperty(p)?w[p]:null;(R!==null?R.type!==0:S||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(b(p,v,R,S)&&(v=null),S||R===null?m(p)&&(v===null?d.removeAttribute(p):d.setAttribute(p,""+v)):R.mustUseProperty?d[R.propertyName]=v===null?R.type===3?!1:"":v:(p=R.attributeName,S=R.attributeNamespace,v===null?d.removeAttribute(p):(R=R.type,v=R===3||R===4&&v===!0?"":""+v,S?d.setAttributeNS(S,p,v):d.setAttribute(p,v))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),H=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),D=Symbol.iterator;function K(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}var ee=Object.assign,F;function V(d){if(F===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);F=p&&p[1]||""}return`
`+F+d}var J=!1;function Q(d,p){if(!d||J)return"";J=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ze){var S=ze}Reflect.construct(d,[],p)}else{try{p.call()}catch(ze){S=ze}d.call(p.prototype)}else{try{throw Error()}catch(ze){S=ze}d()}}catch(ze){if(ze&&S&&typeof ze.stack=="string"){for(var R=ze.stack.split(`
`),U=S.stack.split(`
`),X=R.length-1,pe=U.length-1;1<=X&&0<=pe&&R[X]!==U[pe];)pe--;for(;1<=X&&0<=pe;X--,pe--)if(R[X]!==U[pe]){if(X!==1||pe!==1)do if(X--,pe--,0>pe||R[X]!==U[pe]){var xe=`
`+R[X].replace(" at new "," at ");return d.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",d.displayName)),xe}while(1<=X&&0<=pe);break}}}finally{J=!1,Error.prepareStackTrace=v}return(d=d?d.displayName||d.name:"")?V(d):""}function ae(d){switch(d.tag){case 5:return V(d.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return d=Q(d.type,!1),d;case 11:return d=Q(d.type.render,!1),d;case 1:return d=Q(d.type,!0),d;default:return""}}function ue(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case _:return"Fragment";case A:return"Portal";case I:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case O:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case H:return(d.displayName||"Context")+".Consumer";case $:return(d._context.displayName||"Context")+".Provider";case M:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case z:return p=d.displayName||null,p!==null?p:ue(d.type)||"Memo";case G:p=d._payload,d=d._init;try{return ue(d(p))}catch{}}return null}function re(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(p);case 8:return p===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function ie(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function me(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function oe(d){var p=me(d)?"checked":"value",v=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),S=""+d[p];if(!d.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var R=v.get,U=v.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return R.call(this)},set:function(X){S=""+X,U.call(this,X)}}),Object.defineProperty(d,p,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function(X){S=""+X},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function he(d){d._valueTracker||(d._valueTracker=oe(d))}function Ne(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var v=p.getValue(),S="";return d&&(S=me(d)?d.checked?"true":"false":d.value),d=S,d!==v?(p.setValue(d),!0):!1}function Re(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function W(d,p){var v=p.checked;return ee({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??d._wrapperState.initialChecked})}function ye(d,p){var v=p.defaultValue==null?"":p.defaultValue,S=p.checked!=null?p.checked:p.defaultChecked;v=ie(p.value!=null?p.value:v),d._wrapperState={initialChecked:S,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function ce(d,p){p=p.checked,p!=null&&E(d,"checked",p,!1)}function ne(d,p){ce(d,p);var v=ie(p.value),S=p.type;if(v!=null)S==="number"?(v===0&&d.value===""||d.value!=v)&&(d.value=""+v):d.value!==""+v&&(d.value=""+v);else if(S==="submit"||S==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?fe(d,p.type,v):p.hasOwnProperty("defaultValue")&&fe(d,p.type,ie(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function se(d,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var S=p.type;if(!(S!=="submit"&&S!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,v||p===d.value||(d.value=p),d.defaultValue=p}v=d.name,v!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,v!==""&&(d.name=v)}function fe(d,p,v){(p!=="number"||Re(d.ownerDocument)!==d)&&(v==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+v&&(d.defaultValue=""+v))}var Ie=Array.isArray;function je(d,p,v,S){if(d=d.options,p){p={};for(var R=0;R<v.length;R++)p["$"+v[R]]=!0;for(v=0;v<d.length;v++)R=p.hasOwnProperty("$"+d[v].value),d[v].selected!==R&&(d[v].selected=R),R&&S&&(d[v].defaultSelected=!0)}else{for(v=""+ie(v),p=null,R=0;R<d.length;R++){if(d[R].value===v){d[R].selected=!0,S&&(d[R].defaultSelected=!0);return}p!==null||d[R].disabled||(p=d[R])}p!==null&&(p.selected=!0)}}function be(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Be(d,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(Ie(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}d._wrapperState={initialValue:ie(v)}}function $e(d,p){var v=ie(p.value),S=ie(p.defaultValue);v!=null&&(v=""+v,v!==d.value&&(d.value=v),p.defaultValue==null&&d.defaultValue!==v&&(d.defaultValue=v)),S!=null&&(d.defaultValue=""+S)}function Me(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function we(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?we(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var L,q=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,S,R){MSApp.execUnsafeLocalFunction(function(){return d(p,v,S,R)})}:d}(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(L=L||document.createElement("div"),L.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=L.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function le(d,p){if(p){var v=d.firstChild;if(v&&v===d.lastChild&&v.nodeType===3){v.nodeValue=p;return}}d.textContent=p}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];Object.keys(ge).forEach(function(d){Ce.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),ge[p]=ge[d]})});function Ae(d,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||ge.hasOwnProperty(d)&&ge[d]?(""+p).trim():p+"px"}function rt(d,p){d=d.style;for(var v in p)if(p.hasOwnProperty(v)){var S=v.indexOf("--")===0,R=Ae(v,p[v],S);v==="float"&&(v="cssFloat"),S?d.setProperty(v,R):d[v]=R}}var kt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(d,p){if(p){if(kt[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Ct(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function Zt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ht=null,Bn=null,En=null;function Ur(d){if(d=im(d)){if(typeof Ht!="function")throw Error(n(280));var p=d.stateNode;p&&(p=Yy(p),Ht(d.stateNode,d.type,p))}}function Vn(d){Bn?En?En.push(d):En=[d]:Bn=d}function Dr(){if(Bn){var d=Bn,p=En;if(En=Bn=null,Ur(d),p)for(d=0;d<p.length;d++)Ur(p[d])}}function on(d,p){return d(p)}function Sl(){}var es=!1;function vo(d,p,v){if(es)return d(p,v);es=!0;try{return on(d,p,v)}finally{es=!1,(Bn!==null||En!==null)&&(Sl(),Dr())}}function Sr(d,p){var v=d.stateNode;if(v===null)return null;var S=Yy(v);if(S===null)return null;v=S[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(d=d.type,S=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!S;break e;default:d=!1}if(d)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var ba=!1;if(o)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){ba=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{ba=!1}function wa(d,p,v,S,R,U,X,pe,xe){var ze=Array.prototype.slice.call(arguments,3);try{p.apply(v,ze)}catch(Ze){this.onError(Ze)}}var Ii=!1,Te=null,We=!1,Xe=null,Ye={onError:function(d){Ii=!0,Te=d}};function Ue(d,p,v,S,R,U,X,pe,xe){Ii=!1,Te=null,wa.apply(Ye,arguments)}function qe(d,p,v,S,R,U,X,pe,xe){if(Ue.apply(this,arguments),Ii){if(Ii){var ze=Te;Ii=!1,Te=null}else throw Error(n(198));We||(We=!0,Xe=ze)}}function st(d){var p=d,v=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(v=p.return),d=p.return;while(d)}return p.tag===3?v:null}function Fe(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function hn(d){if(st(d)!==d)throw Error(n(188))}function xr(d){var p=d.alternate;if(!p){if(p=st(d),p===null)throw Error(n(188));return p!==d?null:d}for(var v=d,S=p;;){var R=v.return;if(R===null)break;var U=R.alternate;if(U===null){if(S=R.return,S!==null){v=S;continue}break}if(R.child===U.child){for(U=R.child;U;){if(U===v)return hn(R),d;if(U===S)return hn(R),p;U=U.sibling}throw Error(n(188))}if(v.return!==S.return)v=R,S=U;else{for(var X=!1,pe=R.child;pe;){if(pe===v){X=!0,v=R,S=U;break}if(pe===S){X=!0,S=R,v=U;break}pe=pe.sibling}if(!X){for(pe=U.child;pe;){if(pe===v){X=!0,v=U,S=R;break}if(pe===S){X=!0,S=U,v=R;break}pe=pe.sibling}if(!X)throw Error(n(189))}}if(v.alternate!==S)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?d:p}function _i(d){return d=xr(d),d!==null?lh(d):null}function lh(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=lh(d);if(p!==null)return p;d=d.sibling}return null}var Up=e.unstable_scheduleCallback,_y=e.unstable_cancelCallback,nU=e.unstable_shouldYield,rU=e.unstable_requestPaint,fr=e.unstable_now,sU=e.unstable_getCurrentPriorityLevel,$x=e.unstable_ImmediatePriority,jE=e.unstable_UserBlockingPriority,Py=e.unstable_NormalPriority,aU=e.unstable_LowPriority,TE=e.unstable_IdlePriority,Oy=null,Pi=null;function iU(d){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Oy,d,void 0,(d.current.flags&128)===128)}catch{}}var Va=Math.clz32?Math.clz32:cU,oU=Math.log,lU=Math.LN2;function cU(d){return d>>>=0,d===0?32:31-(oU(d)/lU|0)|0}var Ry=64,$y=4194304;function Dp(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function My(d,p){var v=d.pendingLanes;if(v===0)return 0;var S=0,R=d.suspendedLanes,U=d.pingedLanes,X=v&268435455;if(X!==0){var pe=X&~R;pe!==0?S=Dp(pe):(U&=X,U!==0&&(S=Dp(U)))}else X=v&~R,X!==0?S=Dp(X):U!==0&&(S=Dp(U));if(S===0)return 0;if(p!==0&&p!==S&&(p&R)===0&&(R=S&-S,U=p&-p,R>=U||R===16&&(U&4194240)!==0))return p;if((S&4)!==0&&(S|=v&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=S;0<p;)v=31-Va(p),R=1<<v,S|=d[v],p&=~R;return S}function uU(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dU(d,p){for(var v=d.suspendedLanes,S=d.pingedLanes,R=d.expirationTimes,U=d.pendingLanes;0<U;){var X=31-Va(U),pe=1<<X,xe=R[X];xe===-1?((pe&v)===0||(pe&S)!==0)&&(R[X]=uU(pe,p)):xe<=p&&(d.expiredLanes|=pe),U&=~pe}}function Mx(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function IE(){var d=Ry;return Ry<<=1,(Ry&4194240)===0&&(Ry=64),d}function zx(d){for(var p=[],v=0;31>v;v++)p.push(d);return p}function Wp(d,p,v){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-Va(p),d[p]=v}function hU(d,p){var v=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var S=d.eventTimes;for(d=d.expirationTimes;0<v;){var R=31-Va(v),U=1<<R;p[R]=0,S[R]=-1,d[R]=-1,v&=~U}}function Lx(d,p){var v=d.entangledLanes|=p;for(d=d.entanglements;v;){var S=31-Va(v),R=1<<S;R&p|d[S]&p&&(d[S]|=p),v&=~R}}var Sn=0;function _E(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var PE,Bx,OE,RE,$E,Fx=!1,zy=[],Al=null,jl=null,Tl=null,Hp=new Map,Gp=new Map,Il=[],fU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ME(d,p){switch(d){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Hp.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gp.delete(p.pointerId)}}function qp(d,p,v,S,R,U){return d===null||d.nativeEvent!==U?(d={blockedOn:p,domEventName:v,eventSystemFlags:S,nativeEvent:U,targetContainers:[R]},p!==null&&(p=im(p),p!==null&&Bx(p)),d):(d.eventSystemFlags|=S,p=d.targetContainers,R!==null&&p.indexOf(R)===-1&&p.push(R),d)}function pU(d,p,v,S,R){switch(p){case"focusin":return Al=qp(Al,d,p,v,S,R),!0;case"dragenter":return jl=qp(jl,d,p,v,S,R),!0;case"mouseover":return Tl=qp(Tl,d,p,v,S,R),!0;case"pointerover":var U=R.pointerId;return Hp.set(U,qp(Hp.get(U)||null,d,p,v,S,R)),!0;case"gotpointercapture":return U=R.pointerId,Gp.set(U,qp(Gp.get(U)||null,d,p,v,S,R)),!0}return!1}function zE(d){var p=su(d.target);if(p!==null){var v=st(p);if(v!==null){if(p=v.tag,p===13){if(p=Fe(v),p!==null){d.blockedOn=p,$E(d.priority,function(){OE(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){d.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Ly(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var v=Dx(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(v===null){v=d.nativeEvent;var S=new v.constructor(v.type,v);nt=S,v.target.dispatchEvent(S),nt=null}else return p=im(v),p!==null&&Bx(p),d.blockedOn=v,!1;p.shift()}return!0}function LE(d,p,v){Ly(d)&&v.delete(p)}function mU(){Fx=!1,Al!==null&&Ly(Al)&&(Al=null),jl!==null&&Ly(jl)&&(jl=null),Tl!==null&&Ly(Tl)&&(Tl=null),Hp.forEach(LE),Gp.forEach(LE)}function Vp(d,p){d.blockedOn===p&&(d.blockedOn=null,Fx||(Fx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mU)))}function Zp(d){function p(R){return Vp(R,d)}if(0<zy.length){Vp(zy[0],d);for(var v=1;v<zy.length;v++){var S=zy[v];S.blockedOn===d&&(S.blockedOn=null)}}for(Al!==null&&Vp(Al,d),jl!==null&&Vp(jl,d),Tl!==null&&Vp(Tl,d),Hp.forEach(p),Gp.forEach(p),v=0;v<Il.length;v++)S=Il[v],S.blockedOn===d&&(S.blockedOn=null);for(;0<Il.length&&(v=Il[0],v.blockedOn===null);)zE(v),v.blockedOn===null&&Il.shift()}var ch=C.ReactCurrentBatchConfig,By=!0;function gU(d,p,v,S){var R=Sn,U=ch.transition;ch.transition=null;try{Sn=1,Ux(d,p,v,S)}finally{Sn=R,ch.transition=U}}function yU(d,p,v,S){var R=Sn,U=ch.transition;ch.transition=null;try{Sn=4,Ux(d,p,v,S)}finally{Sn=R,ch.transition=U}}function Ux(d,p,v,S){if(By){var R=Dx(d,p,v,S);if(R===null)a2(d,p,S,Fy,v),ME(d,S);else if(pU(R,d,p,v,S))S.stopPropagation();else if(ME(d,S),p&4&&-1<fU.indexOf(d)){for(;R!==null;){var U=im(R);if(U!==null&&PE(U),U=Dx(d,p,v,S),U===null&&a2(d,p,S,Fy,v),U===R)break;R=U}R!==null&&S.stopPropagation()}else a2(d,p,S,null,v)}}var Fy=null;function Dx(d,p,v,S){if(Fy=null,d=Zt(S),d=su(d),d!==null)if(p=st(d),p===null)d=null;else if(v=p.tag,v===13){if(d=Fe(p),d!==null)return d;d=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Fy=d,null}function BE(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sU()){case $x:return 1;case jE:return 4;case Py:case aU:return 16;case TE:return 536870912;default:return 16}default:return 16}}var _l=null,Wx=null,Uy=null;function FE(){if(Uy)return Uy;var d,p=Wx,v=p.length,S,R="value"in _l?_l.value:_l.textContent,U=R.length;for(d=0;d<v&&p[d]===R[d];d++);var X=v-d;for(S=1;S<=X&&p[v-S]===R[U-S];S++);return Uy=R.slice(d,1<S?1-S:void 0)}function Dy(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Wy(){return!0}function UE(){return!1}function Qs(d){function p(v,S,R,U,X){this._reactName=v,this._targetInst=R,this.type=S,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var pe in d)d.hasOwnProperty(pe)&&(v=d[pe],this[pe]=v?v(U):U[pe]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Wy:UE,this.isPropagationStopped=UE,this}return ee(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Wy)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Wy)},persist:function(){},isPersistent:Wy}),p}var uh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hx=Qs(uh),Kp=ee({},uh,{view:0,detail:0}),bU=Qs(Kp),Gx,qx,Qp,Hy=ee({},Kp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zx,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Qp&&(Qp&&d.type==="mousemove"?(Gx=d.screenX-Qp.screenX,qx=d.screenY-Qp.screenY):qx=Gx=0,Qp=d),Gx)},movementY:function(d){return"movementY"in d?d.movementY:qx}}),DE=Qs(Hy),wU=ee({},Hy,{dataTransfer:0}),vU=Qs(wU),xU=ee({},Kp,{relatedTarget:0}),Vx=Qs(xU),NU=ee({},uh,{animationName:0,elapsedTime:0,pseudoElement:0}),kU=Qs(NU),CU=ee({},uh,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),EU=Qs(CU),SU=ee({},uh,{data:0}),WE=Qs(SU),AU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IU(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=TU[d])?!!p[d]:!1}function Zx(){return IU}var _U=ee({},Kp,{key:function(d){if(d.key){var p=AU[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Dy(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?jU[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zx,charCode:function(d){return d.type==="keypress"?Dy(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Dy(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),PU=Qs(_U),OU=ee({},Hy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HE=Qs(OU),RU=ee({},Kp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zx}),$U=Qs(RU),MU=ee({},uh,{propertyName:0,elapsedTime:0,pseudoElement:0}),zU=Qs(MU),LU=ee({},Hy,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),BU=Qs(LU),FU=[9,13,27,32],Kx=o&&"CompositionEvent"in window,Jp=null;o&&"documentMode"in document&&(Jp=document.documentMode);var UU=o&&"TextEvent"in window&&!Jp,GE=o&&(!Kx||Jp&&8<Jp&&11>=Jp),qE=" ",VE=!1;function ZE(d,p){switch(d){case"keyup":return FU.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KE(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var dh=!1;function DU(d,p){switch(d){case"compositionend":return KE(p);case"keypress":return p.which!==32?null:(VE=!0,qE);case"textInput":return d=p.data,d===qE&&VE?null:d;default:return null}}function WU(d,p){if(dh)return d==="compositionend"||!Kx&&ZE(d,p)?(d=FE(),Uy=Wx=_l=null,dh=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return GE&&p.locale!=="ko"?null:p.data;default:return null}}var HU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QE(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!HU[d.type]:p==="textarea"}function JE(d,p,v,S){Vn(S),p=Ky(p,"onChange"),0<p.length&&(v=new Hx("onChange","change",null,v,S),d.push({event:v,listeners:p}))}var Yp=null,Xp=null;function GU(d){m8(d,0)}function Gy(d){var p=gh(d);if(Ne(p))return d}function qU(d,p){if(d==="change")return p}var YE=!1;if(o){var Qx;if(o){var Jx="oninput"in document;if(!Jx){var XE=document.createElement("div");XE.setAttribute("oninput","return;"),Jx=typeof XE.oninput=="function"}Qx=Jx}else Qx=!1;YE=Qx&&(!document.documentMode||9<document.documentMode)}function e8(){Yp&&(Yp.detachEvent("onpropertychange",t8),Xp=Yp=null)}function t8(d){if(d.propertyName==="value"&&Gy(Xp)){var p=[];JE(p,Xp,d,Zt(d)),vo(GU,p)}}function VU(d,p,v){d==="focusin"?(e8(),Yp=p,Xp=v,Yp.attachEvent("onpropertychange",t8)):d==="focusout"&&e8()}function ZU(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Gy(Xp)}function KU(d,p){if(d==="click")return Gy(p)}function QU(d,p){if(d==="input"||d==="change")return Gy(p)}function JU(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Za=typeof Object.is=="function"?Object.is:JU;function em(d,p){if(Za(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var v=Object.keys(d),S=Object.keys(p);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var R=v[S];if(!c.call(p,R)||!Za(d[R],p[R]))return!1}return!0}function n8(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function r8(d,p){var v=n8(d);d=0;for(var S;v;){if(v.nodeType===3){if(S=d+v.textContent.length,d<=p&&S>=p)return{node:v,offset:p-d};d=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=n8(v)}}function s8(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?s8(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function a8(){for(var d=window,p=Re();p instanceof d.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)d=p.contentWindow;else break;p=Re(d.document)}return p}function Yx(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function YU(d){var p=a8(),v=d.focusedElem,S=d.selectionRange;if(p!==v&&v&&v.ownerDocument&&s8(v.ownerDocument.documentElement,v)){if(S!==null&&Yx(v)){if(p=S.start,d=S.end,d===void 0&&(d=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(d,v.value.length);else if(d=(p=v.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var R=v.textContent.length,U=Math.min(S.start,R);S=S.end===void 0?U:Math.min(S.end,R),!d.extend&&U>S&&(R=S,S=U,U=R),R=r8(v,U);var X=r8(v,S);R&&X&&(d.rangeCount!==1||d.anchorNode!==R.node||d.anchorOffset!==R.offset||d.focusNode!==X.node||d.focusOffset!==X.offset)&&(p=p.createRange(),p.setStart(R.node,R.offset),d.removeAllRanges(),U>S?(d.addRange(p),d.extend(X.node,X.offset)):(p.setEnd(X.node,X.offset),d.addRange(p)))}}for(p=[],d=v;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)d=p[v],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var XU=o&&"documentMode"in document&&11>=document.documentMode,hh=null,Xx=null,tm=null,e2=!1;function i8(d,p,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;e2||hh==null||hh!==Re(S)||(S=hh,"selectionStart"in S&&Yx(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),tm&&em(tm,S)||(tm=S,S=Ky(Xx,"onSelect"),0<S.length&&(p=new Hx("onSelect","select",null,p,v),d.push({event:p,listeners:S}),p.target=hh)))}function qy(d,p){var v={};return v[d.toLowerCase()]=p.toLowerCase(),v["Webkit"+d]="webkit"+p,v["Moz"+d]="moz"+p,v}var fh={animationend:qy("Animation","AnimationEnd"),animationiteration:qy("Animation","AnimationIteration"),animationstart:qy("Animation","AnimationStart"),transitionend:qy("Transition","TransitionEnd")},t2={},o8={};o&&(o8=document.createElement("div").style,"AnimationEvent"in window||(delete fh.animationend.animation,delete fh.animationiteration.animation,delete fh.animationstart.animation),"TransitionEvent"in window||delete fh.transitionend.transition);function Vy(d){if(t2[d])return t2[d];if(!fh[d])return d;var p=fh[d],v;for(v in p)if(p.hasOwnProperty(v)&&v in o8)return t2[d]=p[v];return d}var l8=Vy("animationend"),c8=Vy("animationiteration"),u8=Vy("animationstart"),d8=Vy("transitionend"),h8=new Map,f8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pl(d,p){h8.set(d,p),a(p,[d])}for(var n2=0;n2<f8.length;n2++){var r2=f8[n2],eD=r2.toLowerCase(),tD=r2[0].toUpperCase()+r2.slice(1);Pl(eD,"on"+tD)}Pl(l8,"onAnimationEnd"),Pl(c8,"onAnimationIteration"),Pl(u8,"onAnimationStart"),Pl("dblclick","onDoubleClick"),Pl("focusin","onFocus"),Pl("focusout","onBlur"),Pl(d8,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nD=new Set("cancel close invalid load scroll toggle".split(" ").concat(nm));function p8(d,p,v){var S=d.type||"unknown-event";d.currentTarget=v,qe(S,p,void 0,d),d.currentTarget=null}function m8(d,p){p=(p&4)!==0;for(var v=0;v<d.length;v++){var S=d[v],R=S.event;S=S.listeners;e:{var U=void 0;if(p)for(var X=S.length-1;0<=X;X--){var pe=S[X],xe=pe.instance,ze=pe.currentTarget;if(pe=pe.listener,xe!==U&&R.isPropagationStopped())break e;p8(R,pe,ze),U=xe}else for(X=0;X<S.length;X++){if(pe=S[X],xe=pe.instance,ze=pe.currentTarget,pe=pe.listener,xe!==U&&R.isPropagationStopped())break e;p8(R,pe,ze),U=xe}}}if(We)throw d=Xe,We=!1,Xe=null,d}function Dn(d,p){var v=p[d2];v===void 0&&(v=p[d2]=new Set);var S=d+"__bubble";v.has(S)||(g8(p,d,2,!1),v.add(S))}function s2(d,p,v){var S=0;p&&(S|=4),g8(v,d,S,p)}var Zy="_reactListening"+Math.random().toString(36).slice(2);function rm(d){if(!d[Zy]){d[Zy]=!0,r.forEach(function(v){v!=="selectionchange"&&(nD.has(v)||s2(v,!1,d),s2(v,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[Zy]||(p[Zy]=!0,s2("selectionchange",!1,p))}}function g8(d,p,v,S){switch(BE(p)){case 1:var R=gU;break;case 4:R=yU;break;default:R=Ux}v=R.bind(null,p,v,d),R=void 0,!ba||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(R=!0),S?R!==void 0?d.addEventListener(p,v,{capture:!0,passive:R}):d.addEventListener(p,v,!0):R!==void 0?d.addEventListener(p,v,{passive:R}):d.addEventListener(p,v,!1)}function a2(d,p,v,S,R){var U=S;if((p&1)===0&&(p&2)===0&&S!==null)e:for(;;){if(S===null)return;var X=S.tag;if(X===3||X===4){var pe=S.stateNode.containerInfo;if(pe===R||pe.nodeType===8&&pe.parentNode===R)break;if(X===4)for(X=S.return;X!==null;){var xe=X.tag;if((xe===3||xe===4)&&(xe=X.stateNode.containerInfo,xe===R||xe.nodeType===8&&xe.parentNode===R))return;X=X.return}for(;pe!==null;){if(X=su(pe),X===null)return;if(xe=X.tag,xe===5||xe===6){S=U=X;continue e}pe=pe.parentNode}}S=S.return}vo(function(){var ze=U,Ze=Zt(v),Je=[];e:{var Ve=h8.get(d);if(Ve!==void 0){var ct=Hx,wt=d;switch(d){case"keypress":if(Dy(v)===0)break e;case"keydown":case"keyup":ct=PU;break;case"focusin":wt="focus",ct=Vx;break;case"focusout":wt="blur",ct=Vx;break;case"beforeblur":case"afterblur":ct=Vx;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=DE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=vU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=$U;break;case l8:case c8:case u8:ct=kU;break;case d8:ct=zU;break;case"scroll":ct=bU;break;case"wheel":ct=BU;break;case"copy":case"cut":case"paste":ct=EU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=HE}var Nt=(p&4)!==0,pr=!Nt&&d==="scroll",_e=Nt?Ve!==null?Ve+"Capture":null:Ve;Nt=[];for(var Ee=ze,Oe;Ee!==null;){Oe=Ee;var et=Oe.stateNode;if(Oe.tag===5&&et!==null&&(Oe=et,_e!==null&&(et=Sr(Ee,_e),et!=null&&Nt.push(sm(Ee,et,Oe)))),pr)break;Ee=Ee.return}0<Nt.length&&(Ve=new ct(Ve,wt,null,v,Ze),Je.push({event:Ve,listeners:Nt}))}}if((p&7)===0){e:{if(Ve=d==="mouseover"||d==="pointerover",ct=d==="mouseout"||d==="pointerout",Ve&&v!==nt&&(wt=v.relatedTarget||v.fromElement)&&(su(wt)||wt[xo]))break e;if((ct||Ve)&&(Ve=Ze.window===Ze?Ze:(Ve=Ze.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,ct?(wt=v.relatedTarget||v.toElement,ct=ze,wt=wt?su(wt):null,wt!==null&&(pr=st(wt),wt!==pr||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(ct=null,wt=ze),ct!==wt)){if(Nt=DE,et="onMouseLeave",_e="onMouseEnter",Ee="mouse",(d==="pointerout"||d==="pointerover")&&(Nt=HE,et="onPointerLeave",_e="onPointerEnter",Ee="pointer"),pr=ct==null?Ve:gh(ct),Oe=wt==null?Ve:gh(wt),Ve=new Nt(et,Ee+"leave",ct,v,Ze),Ve.target=pr,Ve.relatedTarget=Oe,et=null,su(Ze)===ze&&(Nt=new Nt(_e,Ee+"enter",wt,v,Ze),Nt.target=Oe,Nt.relatedTarget=pr,et=Nt),pr=et,ct&&wt)t:{for(Nt=ct,_e=wt,Ee=0,Oe=Nt;Oe;Oe=ph(Oe))Ee++;for(Oe=0,et=_e;et;et=ph(et))Oe++;for(;0<Ee-Oe;)Nt=ph(Nt),Ee--;for(;0<Oe-Ee;)_e=ph(_e),Oe--;for(;Ee--;){if(Nt===_e||_e!==null&&Nt===_e.alternate)break t;Nt=ph(Nt),_e=ph(_e)}Nt=null}else Nt=null;ct!==null&&y8(Je,Ve,ct,Nt,!1),wt!==null&&pr!==null&&y8(Je,pr,wt,Nt,!0)}}e:{if(Ve=ze?gh(ze):window,ct=Ve.nodeName&&Ve.nodeName.toLowerCase(),ct==="select"||ct==="input"&&Ve.type==="file")var Et=qU;else if(QE(Ve))if(YE)Et=QU;else{Et=ZU;var Lt=VU}else(ct=Ve.nodeName)&&ct.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(Et=KU);if(Et&&(Et=Et(d,ze))){JE(Je,Et,v,Ze);break e}Lt&&Lt(d,Ve,ze),d==="focusout"&&(Lt=Ve._wrapperState)&&Lt.controlled&&Ve.type==="number"&&fe(Ve,"number",Ve.value)}switch(Lt=ze?gh(ze):window,d){case"focusin":(QE(Lt)||Lt.contentEditable==="true")&&(hh=Lt,Xx=ze,tm=null);break;case"focusout":tm=Xx=hh=null;break;case"mousedown":e2=!0;break;case"contextmenu":case"mouseup":case"dragend":e2=!1,i8(Je,v,Ze);break;case"selectionchange":if(XU)break;case"keydown":case"keyup":i8(Je,v,Ze)}var Bt;if(Kx)e:{switch(d){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else dh?ZE(d,v)&&(Vt="onCompositionEnd"):d==="keydown"&&v.keyCode===229&&(Vt="onCompositionStart");Vt&&(GE&&v.locale!=="ko"&&(dh||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&dh&&(Bt=FE()):(_l=Ze,Wx="value"in _l?_l.value:_l.textContent,dh=!0)),Lt=Ky(ze,Vt),0<Lt.length&&(Vt=new WE(Vt,d,null,v,Ze),Je.push({event:Vt,listeners:Lt}),Bt?Vt.data=Bt:(Bt=KE(v),Bt!==null&&(Vt.data=Bt)))),(Bt=UU?DU(d,v):WU(d,v))&&(ze=Ky(ze,"onBeforeInput"),0<ze.length&&(Ze=new WE("onBeforeInput","beforeinput",null,v,Ze),Je.push({event:Ze,listeners:ze}),Ze.data=Bt))}m8(Je,p)})}function sm(d,p,v){return{instance:d,listener:p,currentTarget:v}}function Ky(d,p){for(var v=p+"Capture",S=[];d!==null;){var R=d,U=R.stateNode;R.tag===5&&U!==null&&(R=U,U=Sr(d,v),U!=null&&S.unshift(sm(d,U,R)),U=Sr(d,p),U!=null&&S.push(sm(d,U,R))),d=d.return}return S}function ph(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function y8(d,p,v,S,R){for(var U=p._reactName,X=[];v!==null&&v!==S;){var pe=v,xe=pe.alternate,ze=pe.stateNode;if(xe!==null&&xe===S)break;pe.tag===5&&ze!==null&&(pe=ze,R?(xe=Sr(v,U),xe!=null&&X.unshift(sm(v,xe,pe))):R||(xe=Sr(v,U),xe!=null&&X.push(sm(v,xe,pe)))),v=v.return}X.length!==0&&d.push({event:p,listeners:X})}var rD=/\r\n?/g,sD=/\u0000|\uFFFD/g;function b8(d){return(typeof d=="string"?d:""+d).replace(rD,`
`).replace(sD,"")}function Qy(d,p,v){if(p=b8(p),b8(d)!==p&&v)throw Error(n(425))}function Jy(){}var i2=null,o2=null;function l2(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var c2=typeof setTimeout=="function"?setTimeout:void 0,aD=typeof clearTimeout=="function"?clearTimeout:void 0,w8=typeof Promise=="function"?Promise:void 0,iD=typeof queueMicrotask=="function"?queueMicrotask:typeof w8<"u"?function(d){return w8.resolve(null).then(d).catch(oD)}:c2;function oD(d){setTimeout(function(){throw d})}function u2(d,p){var v=p,S=0;do{var R=v.nextSibling;if(d.removeChild(v),R&&R.nodeType===8)if(v=R.data,v==="/$"){if(S===0){d.removeChild(R),Zp(p);return}S--}else v!=="$"&&v!=="$?"&&v!=="$!"||S++;v=R}while(v);Zp(p)}function Ol(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function v8(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return d;p--}else v==="/$"&&p++}d=d.previousSibling}return null}var mh=Math.random().toString(36).slice(2),Oi="__reactFiber$"+mh,am="__reactProps$"+mh,xo="__reactContainer$"+mh,d2="__reactEvents$"+mh,lD="__reactListeners$"+mh,cD="__reactHandles$"+mh;function su(d){var p=d[Oi];if(p)return p;for(var v=d.parentNode;v;){if(p=v[xo]||v[Oi]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(d=v8(d);d!==null;){if(v=d[Oi])return v;d=v8(d)}return p}d=v,v=d.parentNode}return null}function im(d){return d=d[Oi]||d[xo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function gh(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function Yy(d){return d[am]||null}var h2=[],yh=-1;function Rl(d){return{current:d}}function Wn(d){0>yh||(d.current=h2[yh],h2[yh]=null,yh--)}function Fn(d,p){yh++,h2[yh]=d.current,d.current=p}var $l={},ts=Rl($l),js=Rl(!1),au=$l;function bh(d,p){var v=d.type.contextTypes;if(!v)return $l;var S=d.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===p)return S.__reactInternalMemoizedMaskedChildContext;var R={},U;for(U in v)R[U]=p[U];return S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=R),R}function Ts(d){return d=d.childContextTypes,d!=null}function Xy(){Wn(js),Wn(ts)}function x8(d,p,v){if(ts.current!==$l)throw Error(n(168));Fn(ts,p),Fn(js,v)}function N8(d,p,v){var S=d.stateNode;if(p=p.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var R in S)if(!(R in p))throw Error(n(108,re(d)||"Unknown",R));return ee({},v,S)}function eb(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||$l,au=ts.current,Fn(ts,d),Fn(js,js.current),!0}function k8(d,p,v){var S=d.stateNode;if(!S)throw Error(n(169));v?(d=N8(d,p,au),S.__reactInternalMemoizedMergedChildContext=d,Wn(js),Wn(ts),Fn(ts,d)):Wn(js),Fn(js,v)}var No=null,tb=!1,f2=!1;function C8(d){No===null?No=[d]:No.push(d)}function uD(d){tb=!0,C8(d)}function Ml(){if(!f2&&No!==null){f2=!0;var d=0,p=Sn;try{var v=No;for(Sn=1;d<v.length;d++){var S=v[d];do S=S(!0);while(S!==null)}No=null,tb=!1}catch(R){throw No!==null&&(No=No.slice(d+1)),Up($x,Ml),R}finally{Sn=p,f2=!1}}return null}var wh=[],vh=0,nb=null,rb=0,va=[],xa=0,iu=null,ko=1,Co="";function ou(d,p){wh[vh++]=rb,wh[vh++]=nb,nb=d,rb=p}function E8(d,p,v){va[xa++]=ko,va[xa++]=Co,va[xa++]=iu,iu=d;var S=ko;d=Co;var R=32-Va(S)-1;S&=~(1<<R),v+=1;var U=32-Va(p)+R;if(30<U){var X=R-R%5;U=(S&(1<<X)-1).toString(32),S>>=X,R-=X,ko=1<<32-Va(p)+R|v<<R|S,Co=U+d}else ko=1<<U|v<<R|S,Co=d}function p2(d){d.return!==null&&(ou(d,1),E8(d,1,0))}function m2(d){for(;d===nb;)nb=wh[--vh],wh[vh]=null,rb=wh[--vh],wh[vh]=null;for(;d===iu;)iu=va[--xa],va[xa]=null,Co=va[--xa],va[xa]=null,ko=va[--xa],va[xa]=null}var Js=null,Ys=null,Zn=!1,Ka=null;function S8(d,p){var v=Ea(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=d,p=d.deletions,p===null?(d.deletions=[v],d.flags|=16):p.push(v)}function A8(d,p){switch(d.tag){case 5:var v=d.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,Js=d,Ys=Ol(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,Js=d,Ys=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=iu!==null?{id:ko,overflow:Co}:null,d.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=Ea(18,null,null,0),v.stateNode=p,v.return=d,d.child=v,Js=d,Ys=null,!0):!1;default:return!1}}function g2(d){return(d.mode&1)!==0&&(d.flags&128)===0}function y2(d){if(Zn){var p=Ys;if(p){var v=p;if(!A8(d,p)){if(g2(d))throw Error(n(418));p=Ol(v.nextSibling);var S=Js;p&&A8(d,p)?S8(S,v):(d.flags=d.flags&-4097|2,Zn=!1,Js=d)}}else{if(g2(d))throw Error(n(418));d.flags=d.flags&-4097|2,Zn=!1,Js=d}}}function j8(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Js=d}function sb(d){if(d!==Js)return!1;if(!Zn)return j8(d),Zn=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!l2(d.type,d.memoizedProps)),p&&(p=Ys)){if(g2(d))throw T8(),Error(n(418));for(;p;)S8(d,p),p=Ol(p.nextSibling)}if(j8(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var v=d.data;if(v==="/$"){if(p===0){Ys=Ol(d.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}d=d.nextSibling}Ys=null}}else Ys=Js?Ol(d.stateNode.nextSibling):null;return!0}function T8(){for(var d=Ys;d;)d=Ol(d.nextSibling)}function xh(){Ys=Js=null,Zn=!1}function b2(d){Ka===null?Ka=[d]:Ka.push(d)}var dD=C.ReactCurrentBatchConfig;function om(d,p,v){if(d=v.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var S=v.stateNode}if(!S)throw Error(n(147,d));var R=S,U=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===U?p.ref:(p=function(X){var pe=R.refs;X===null?delete pe[U]:pe[U]=X},p._stringRef=U,p)}if(typeof d!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,d))}return d}function ab(d,p){throw d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function I8(d){var p=d._init;return p(d._payload)}function _8(d){function p(_e,Ee){if(d){var Oe=_e.deletions;Oe===null?(_e.deletions=[Ee],_e.flags|=16):Oe.push(Ee)}}function v(_e,Ee){if(!d)return null;for(;Ee!==null;)p(_e,Ee),Ee=Ee.sibling;return null}function S(_e,Ee){for(_e=new Map;Ee!==null;)Ee.key!==null?_e.set(Ee.key,Ee):_e.set(Ee.index,Ee),Ee=Ee.sibling;return _e}function R(_e,Ee){return _e=Hl(_e,Ee),_e.index=0,_e.sibling=null,_e}function U(_e,Ee,Oe){return _e.index=Oe,d?(Oe=_e.alternate,Oe!==null?(Oe=Oe.index,Oe<Ee?(_e.flags|=2,Ee):Oe):(_e.flags|=2,Ee)):(_e.flags|=1048576,Ee)}function X(_e){return d&&_e.alternate===null&&(_e.flags|=2),_e}function pe(_e,Ee,Oe,et){return Ee===null||Ee.tag!==6?(Ee=l3(Oe,_e.mode,et),Ee.return=_e,Ee):(Ee=R(Ee,Oe),Ee.return=_e,Ee)}function xe(_e,Ee,Oe,et){var Et=Oe.type;return Et===_?Ze(_e,Ee,Oe.props.children,et,Oe.key):Ee!==null&&(Ee.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===G&&I8(Et)===Ee.type)?(et=R(Ee,Oe.props),et.ref=om(_e,Ee,Oe),et.return=_e,et):(et=Tb(Oe.type,Oe.key,Oe.props,null,_e.mode,et),et.ref=om(_e,Ee,Oe),et.return=_e,et)}function ze(_e,Ee,Oe,et){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Oe.containerInfo||Ee.stateNode.implementation!==Oe.implementation?(Ee=c3(Oe,_e.mode,et),Ee.return=_e,Ee):(Ee=R(Ee,Oe.children||[]),Ee.return=_e,Ee)}function Ze(_e,Ee,Oe,et,Et){return Ee===null||Ee.tag!==7?(Ee=mu(Oe,_e.mode,et,Et),Ee.return=_e,Ee):(Ee=R(Ee,Oe),Ee.return=_e,Ee)}function Je(_e,Ee,Oe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=l3(""+Ee,_e.mode,Oe),Ee.return=_e,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case k:return Oe=Tb(Ee.type,Ee.key,Ee.props,null,_e.mode,Oe),Oe.ref=om(_e,null,Ee),Oe.return=_e,Oe;case A:return Ee=c3(Ee,_e.mode,Oe),Ee.return=_e,Ee;case G:var et=Ee._init;return Je(_e,et(Ee._payload),Oe)}if(Ie(Ee)||K(Ee))return Ee=mu(Ee,_e.mode,Oe,null),Ee.return=_e,Ee;ab(_e,Ee)}return null}function Ve(_e,Ee,Oe,et){var Et=Ee!==null?Ee.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Et!==null?null:pe(_e,Ee,""+Oe,et);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case k:return Oe.key===Et?xe(_e,Ee,Oe,et):null;case A:return Oe.key===Et?ze(_e,Ee,Oe,et):null;case G:return Et=Oe._init,Ve(_e,Ee,Et(Oe._payload),et)}if(Ie(Oe)||K(Oe))return Et!==null?null:Ze(_e,Ee,Oe,et,null);ab(_e,Oe)}return null}function ct(_e,Ee,Oe,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number")return _e=_e.get(Oe)||null,pe(Ee,_e,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case k:return _e=_e.get(et.key===null?Oe:et.key)||null,xe(Ee,_e,et,Et);case A:return _e=_e.get(et.key===null?Oe:et.key)||null,ze(Ee,_e,et,Et);case G:var Lt=et._init;return ct(_e,Ee,Oe,Lt(et._payload),Et)}if(Ie(et)||K(et))return _e=_e.get(Oe)||null,Ze(Ee,_e,et,Et,null);ab(Ee,et)}return null}function wt(_e,Ee,Oe,et){for(var Et=null,Lt=null,Bt=Ee,Vt=Ee=0,Mr=null;Bt!==null&&Vt<Oe.length;Vt++){Bt.index>Vt?(Mr=Bt,Bt=null):Mr=Bt.sibling;var gn=Ve(_e,Bt,Oe[Vt],et);if(gn===null){Bt===null&&(Bt=Mr);break}d&&Bt&&gn.alternate===null&&p(_e,Bt),Ee=U(gn,Ee,Vt),Lt===null?Et=gn:Lt.sibling=gn,Lt=gn,Bt=Mr}if(Vt===Oe.length)return v(_e,Bt),Zn&&ou(_e,Vt),Et;if(Bt===null){for(;Vt<Oe.length;Vt++)Bt=Je(_e,Oe[Vt],et),Bt!==null&&(Ee=U(Bt,Ee,Vt),Lt===null?Et=Bt:Lt.sibling=Bt,Lt=Bt);return Zn&&ou(_e,Vt),Et}for(Bt=S(_e,Bt);Vt<Oe.length;Vt++)Mr=ct(Bt,_e,Vt,Oe[Vt],et),Mr!==null&&(d&&Mr.alternate!==null&&Bt.delete(Mr.key===null?Vt:Mr.key),Ee=U(Mr,Ee,Vt),Lt===null?Et=Mr:Lt.sibling=Mr,Lt=Mr);return d&&Bt.forEach(function(Gl){return p(_e,Gl)}),Zn&&ou(_e,Vt),Et}function Nt(_e,Ee,Oe,et){var Et=K(Oe);if(typeof Et!="function")throw Error(n(150));if(Oe=Et.call(Oe),Oe==null)throw Error(n(151));for(var Lt=Et=null,Bt=Ee,Vt=Ee=0,Mr=null,gn=Oe.next();Bt!==null&&!gn.done;Vt++,gn=Oe.next()){Bt.index>Vt?(Mr=Bt,Bt=null):Mr=Bt.sibling;var Gl=Ve(_e,Bt,gn.value,et);if(Gl===null){Bt===null&&(Bt=Mr);break}d&&Bt&&Gl.alternate===null&&p(_e,Bt),Ee=U(Gl,Ee,Vt),Lt===null?Et=Gl:Lt.sibling=Gl,Lt=Gl,Bt=Mr}if(gn.done)return v(_e,Bt),Zn&&ou(_e,Vt),Et;if(Bt===null){for(;!gn.done;Vt++,gn=Oe.next())gn=Je(_e,gn.value,et),gn!==null&&(Ee=U(gn,Ee,Vt),Lt===null?Et=gn:Lt.sibling=gn,Lt=gn);return Zn&&ou(_e,Vt),Et}for(Bt=S(_e,Bt);!gn.done;Vt++,gn=Oe.next())gn=ct(Bt,_e,Vt,gn.value,et),gn!==null&&(d&&gn.alternate!==null&&Bt.delete(gn.key===null?Vt:gn.key),Ee=U(gn,Ee,Vt),Lt===null?Et=gn:Lt.sibling=gn,Lt=gn);return d&&Bt.forEach(function(HD){return p(_e,HD)}),Zn&&ou(_e,Vt),Et}function pr(_e,Ee,Oe,et){if(typeof Oe=="object"&&Oe!==null&&Oe.type===_&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case k:e:{for(var Et=Oe.key,Lt=Ee;Lt!==null;){if(Lt.key===Et){if(Et=Oe.type,Et===_){if(Lt.tag===7){v(_e,Lt.sibling),Ee=R(Lt,Oe.props.children),Ee.return=_e,_e=Ee;break e}}else if(Lt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===G&&I8(Et)===Lt.type){v(_e,Lt.sibling),Ee=R(Lt,Oe.props),Ee.ref=om(_e,Lt,Oe),Ee.return=_e,_e=Ee;break e}v(_e,Lt);break}else p(_e,Lt);Lt=Lt.sibling}Oe.type===_?(Ee=mu(Oe.props.children,_e.mode,et,Oe.key),Ee.return=_e,_e=Ee):(et=Tb(Oe.type,Oe.key,Oe.props,null,_e.mode,et),et.ref=om(_e,Ee,Oe),et.return=_e,_e=et)}return X(_e);case A:e:{for(Lt=Oe.key;Ee!==null;){if(Ee.key===Lt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Oe.containerInfo&&Ee.stateNode.implementation===Oe.implementation){v(_e,Ee.sibling),Ee=R(Ee,Oe.children||[]),Ee.return=_e,_e=Ee;break e}else{v(_e,Ee);break}else p(_e,Ee);Ee=Ee.sibling}Ee=c3(Oe,_e.mode,et),Ee.return=_e,_e=Ee}return X(_e);case G:return Lt=Oe._init,pr(_e,Ee,Lt(Oe._payload),et)}if(Ie(Oe))return wt(_e,Ee,Oe,et);if(K(Oe))return Nt(_e,Ee,Oe,et);ab(_e,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Ee!==null&&Ee.tag===6?(v(_e,Ee.sibling),Ee=R(Ee,Oe),Ee.return=_e,_e=Ee):(v(_e,Ee),Ee=l3(Oe,_e.mode,et),Ee.return=_e,_e=Ee),X(_e)):v(_e,Ee)}return pr}var Nh=_8(!0),P8=_8(!1),ib=Rl(null),ob=null,kh=null,w2=null;function v2(){w2=kh=ob=null}function x2(d){var p=ib.current;Wn(ib),d._currentValue=p}function N2(d,p,v){for(;d!==null;){var S=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,S!==null&&(S.childLanes|=p)):S!==null&&(S.childLanes&p)!==p&&(S.childLanes|=p),d===v)break;d=d.return}}function Ch(d,p){ob=d,w2=kh=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(Is=!0),d.firstContext=null)}function Na(d){var p=d._currentValue;if(w2!==d)if(d={context:d,memoizedValue:p,next:null},kh===null){if(ob===null)throw Error(n(308));kh=d,ob.dependencies={lanes:0,firstContext:d}}else kh=kh.next=d;return p}var lu=null;function k2(d){lu===null?lu=[d]:lu.push(d)}function O8(d,p,v,S){var R=p.interleaved;return R===null?(v.next=v,k2(p)):(v.next=R.next,R.next=v),p.interleaved=v,Eo(d,S)}function Eo(d,p){d.lanes|=p;var v=d.alternate;for(v!==null&&(v.lanes|=p),v=d,d=d.return;d!==null;)d.childLanes|=p,v=d.alternate,v!==null&&(v.childLanes|=p),v=d,d=d.return;return v.tag===3?v.stateNode:null}var zl=!1;function C2(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R8(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function So(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Ll(d,p,v){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,(pn&2)!==0){var R=S.pending;return R===null?p.next=p:(p.next=R.next,R.next=p),S.pending=p,Eo(d,v)}return R=S.interleaved,R===null?(p.next=p,k2(S)):(p.next=R.next,R.next=p),S.interleaved=p,Eo(d,v)}function lb(d,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var S=p.lanes;S&=d.pendingLanes,v|=S,p.lanes=v,Lx(d,v)}}function $8(d,p){var v=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var R=null,U=null;if(v=v.firstBaseUpdate,v!==null){do{var X={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};U===null?R=U=X:U=U.next=X,v=v.next}while(v!==null);U===null?R=U=p:U=U.next=p}else R=U=p;v={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:U,shared:S.shared,effects:S.effects},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=p:d.next=p,v.lastBaseUpdate=p}function cb(d,p,v,S){var R=d.updateQueue;zl=!1;var U=R.firstBaseUpdate,X=R.lastBaseUpdate,pe=R.shared.pending;if(pe!==null){R.shared.pending=null;var xe=pe,ze=xe.next;xe.next=null,X===null?U=ze:X.next=ze,X=xe;var Ze=d.alternate;Ze!==null&&(Ze=Ze.updateQueue,pe=Ze.lastBaseUpdate,pe!==X&&(pe===null?Ze.firstBaseUpdate=ze:pe.next=ze,Ze.lastBaseUpdate=xe))}if(U!==null){var Je=R.baseState;X=0,Ze=ze=xe=null,pe=U;do{var Ve=pe.lane,ct=pe.eventTime;if((S&Ve)===Ve){Ze!==null&&(Ze=Ze.next={eventTime:ct,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var wt=d,Nt=pe;switch(Ve=p,ct=v,Nt.tag){case 1:if(wt=Nt.payload,typeof wt=="function"){Je=wt.call(ct,Je,Ve);break e}Je=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Nt.payload,Ve=typeof wt=="function"?wt.call(ct,Je,Ve):wt,Ve==null)break e;Je=ee({},Je,Ve);break e;case 2:zl=!0}}pe.callback!==null&&pe.lane!==0&&(d.flags|=64,Ve=R.effects,Ve===null?R.effects=[pe]:Ve.push(pe))}else ct={eventTime:ct,lane:Ve,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Ze===null?(ze=Ze=ct,xe=Je):Ze=Ze.next=ct,X|=Ve;if(pe=pe.next,pe===null){if(pe=R.shared.pending,pe===null)break;Ve=pe,pe=Ve.next,Ve.next=null,R.lastBaseUpdate=Ve,R.shared.pending=null}}while(!0);if(Ze===null&&(xe=Je),R.baseState=xe,R.firstBaseUpdate=ze,R.lastBaseUpdate=Ze,p=R.shared.interleaved,p!==null){R=p;do X|=R.lane,R=R.next;while(R!==p)}else U===null&&(R.shared.lanes=0);du|=X,d.lanes=X,d.memoizedState=Je}}function M8(d,p,v){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var S=d[p],R=S.callback;if(R!==null){if(S.callback=null,S=v,typeof R!="function")throw Error(n(191,R));R.call(S)}}}var lm={},Ri=Rl(lm),cm=Rl(lm),um=Rl(lm);function cu(d){if(d===lm)throw Error(n(174));return d}function E2(d,p){switch(Fn(um,p),Fn(cm,d),Fn(Ri,lm),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:T(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=T(p,d)}Wn(Ri),Fn(Ri,p)}function Eh(){Wn(Ri),Wn(cm),Wn(um)}function z8(d){cu(um.current);var p=cu(Ri.current),v=T(p,d.type);p!==v&&(Fn(cm,d),Fn(Ri,v))}function S2(d){cm.current===d&&(Wn(Ri),Wn(cm))}var er=Rl(0);function ub(d){for(var p=d;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var A2=[];function j2(){for(var d=0;d<A2.length;d++)A2[d]._workInProgressVersionPrimary=null;A2.length=0}var db=C.ReactCurrentDispatcher,T2=C.ReactCurrentBatchConfig,uu=0,tr=null,Ar=null,Rr=null,hb=!1,dm=!1,hm=0,hD=0;function ns(){throw Error(n(321))}function I2(d,p){if(p===null)return!1;for(var v=0;v<p.length&&v<d.length;v++)if(!Za(d[v],p[v]))return!1;return!0}function _2(d,p,v,S,R,U){if(uu=U,tr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,db.current=d===null||d.memoizedState===null?gD:yD,d=v(S,R),dm){U=0;do{if(dm=!1,hm=0,25<=U)throw Error(n(301));U+=1,Rr=Ar=null,p.updateQueue=null,db.current=bD,d=v(S,R)}while(dm)}if(db.current=mb,p=Ar!==null&&Ar.next!==null,uu=0,Rr=Ar=tr=null,hb=!1,p)throw Error(n(300));return d}function P2(){var d=hm!==0;return hm=0,d}function $i(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?tr.memoizedState=Rr=d:Rr=Rr.next=d,Rr}function ka(){if(Ar===null){var d=tr.alternate;d=d!==null?d.memoizedState:null}else d=Ar.next;var p=Rr===null?tr.memoizedState:Rr.next;if(p!==null)Rr=p,Ar=d;else{if(d===null)throw Error(n(310));Ar=d,d={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Rr===null?tr.memoizedState=Rr=d:Rr=Rr.next=d}return Rr}function fm(d,p){return typeof p=="function"?p(d):p}function O2(d){var p=ka(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var S=Ar,R=S.baseQueue,U=v.pending;if(U!==null){if(R!==null){var X=R.next;R.next=U.next,U.next=X}S.baseQueue=R=U,v.pending=null}if(R!==null){U=R.next,S=S.baseState;var pe=X=null,xe=null,ze=U;do{var Ze=ze.lane;if((uu&Ze)===Ze)xe!==null&&(xe=xe.next={lane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),S=ze.hasEagerState?ze.eagerState:d(S,ze.action);else{var Je={lane:Ze,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null};xe===null?(pe=xe=Je,X=S):xe=xe.next=Je,tr.lanes|=Ze,du|=Ze}ze=ze.next}while(ze!==null&&ze!==U);xe===null?X=S:xe.next=pe,Za(S,p.memoizedState)||(Is=!0),p.memoizedState=S,p.baseState=X,p.baseQueue=xe,v.lastRenderedState=S}if(d=v.interleaved,d!==null){R=d;do U=R.lane,tr.lanes|=U,du|=U,R=R.next;while(R!==d)}else R===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function R2(d){var p=ka(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var S=v.dispatch,R=v.pending,U=p.memoizedState;if(R!==null){v.pending=null;var X=R=R.next;do U=d(U,X.action),X=X.next;while(X!==R);Za(U,p.memoizedState)||(Is=!0),p.memoizedState=U,p.baseQueue===null&&(p.baseState=U),v.lastRenderedState=U}return[U,S]}function L8(){}function B8(d,p){var v=tr,S=ka(),R=p(),U=!Za(S.memoizedState,R);if(U&&(S.memoizedState=R,Is=!0),S=S.queue,$2(D8.bind(null,v,S,d),[d]),S.getSnapshot!==p||U||Rr!==null&&Rr.memoizedState.tag&1){if(v.flags|=2048,pm(9,U8.bind(null,v,S,R,p),void 0,null),$r===null)throw Error(n(349));(uu&30)!==0||F8(v,p,R)}return R}function F8(d,p,v){d.flags|=16384,d={getSnapshot:p,value:v},p=tr.updateQueue,p===null?(p={lastEffect:null,stores:null},tr.updateQueue=p,p.stores=[d]):(v=p.stores,v===null?p.stores=[d]:v.push(d))}function U8(d,p,v,S){p.value=v,p.getSnapshot=S,W8(p)&&H8(d)}function D8(d,p,v){return v(function(){W8(p)&&H8(d)})}function W8(d){var p=d.getSnapshot;d=d.value;try{var v=p();return!Za(d,v)}catch{return!0}}function H8(d){var p=Eo(d,1);p!==null&&Xa(p,d,1,-1)}function G8(d){var p=$i();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:d},p.queue=d,d=d.dispatch=mD.bind(null,tr,d),[p.memoizedState,d]}function pm(d,p,v,S){return d={tag:d,create:p,destroy:v,deps:S,next:null},p=tr.updateQueue,p===null?(p={lastEffect:null,stores:null},tr.updateQueue=p,p.lastEffect=d.next=d):(v=p.lastEffect,v===null?p.lastEffect=d.next=d:(S=v.next,v.next=d,d.next=S,p.lastEffect=d)),d}function q8(){return ka().memoizedState}function fb(d,p,v,S){var R=$i();tr.flags|=d,R.memoizedState=pm(1|p,v,void 0,S===void 0?null:S)}function pb(d,p,v,S){var R=ka();S=S===void 0?null:S;var U=void 0;if(Ar!==null){var X=Ar.memoizedState;if(U=X.destroy,S!==null&&I2(S,X.deps)){R.memoizedState=pm(p,v,U,S);return}}tr.flags|=d,R.memoizedState=pm(1|p,v,U,S)}function V8(d,p){return fb(8390656,8,d,p)}function $2(d,p){return pb(2048,8,d,p)}function Z8(d,p){return pb(4,2,d,p)}function K8(d,p){return pb(4,4,d,p)}function Q8(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function J8(d,p,v){return v=v!=null?v.concat([d]):null,pb(4,4,Q8.bind(null,p,d),v)}function M2(){}function Y8(d,p){var v=ka();p=p===void 0?null:p;var S=v.memoizedState;return S!==null&&p!==null&&I2(p,S[1])?S[0]:(v.memoizedState=[d,p],d)}function X8(d,p){var v=ka();p=p===void 0?null:p;var S=v.memoizedState;return S!==null&&p!==null&&I2(p,S[1])?S[0]:(d=d(),v.memoizedState=[d,p],d)}function eS(d,p,v){return(uu&21)===0?(d.baseState&&(d.baseState=!1,Is=!0),d.memoizedState=v):(Za(v,p)||(v=IE(),tr.lanes|=v,du|=v,d.baseState=!0),p)}function fD(d,p){var v=Sn;Sn=v!==0&&4>v?v:4,d(!0);var S=T2.transition;T2.transition={};try{d(!1),p()}finally{Sn=v,T2.transition=S}}function tS(){return ka().memoizedState}function pD(d,p,v){var S=Dl(d);if(v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},nS(d))rS(p,v);else if(v=O8(d,p,v,S),v!==null){var R=us();Xa(v,d,S,R),sS(v,p,S)}}function mD(d,p,v){var S=Dl(d),R={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(nS(d))rS(p,R);else{var U=d.alternate;if(d.lanes===0&&(U===null||U.lanes===0)&&(U=p.lastRenderedReducer,U!==null))try{var X=p.lastRenderedState,pe=U(X,v);if(R.hasEagerState=!0,R.eagerState=pe,Za(pe,X)){var xe=p.interleaved;xe===null?(R.next=R,k2(p)):(R.next=xe.next,xe.next=R),p.interleaved=R;return}}catch{}finally{}v=O8(d,p,R,S),v!==null&&(R=us(),Xa(v,d,S,R),sS(v,p,S))}}function nS(d){var p=d.alternate;return d===tr||p!==null&&p===tr}function rS(d,p){dm=hb=!0;var v=d.pending;v===null?p.next=p:(p.next=v.next,v.next=p),d.pending=p}function sS(d,p,v){if((v&4194240)!==0){var S=p.lanes;S&=d.pendingLanes,v|=S,p.lanes=v,Lx(d,v)}}var mb={readContext:Na,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useInsertionEffect:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useSyncExternalStore:ns,useId:ns,unstable_isNewReconciler:!1},gD={readContext:Na,useCallback:function(d,p){return $i().memoizedState=[d,p===void 0?null:p],d},useContext:Na,useEffect:V8,useImperativeHandle:function(d,p,v){return v=v!=null?v.concat([d]):null,fb(4194308,4,Q8.bind(null,p,d),v)},useLayoutEffect:function(d,p){return fb(4194308,4,d,p)},useInsertionEffect:function(d,p){return fb(4,2,d,p)},useMemo:function(d,p){var v=$i();return p=p===void 0?null:p,d=d(),v.memoizedState=[d,p],d},useReducer:function(d,p,v){var S=$i();return p=v!==void 0?v(p):p,S.memoizedState=S.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},S.queue=d,d=d.dispatch=pD.bind(null,tr,d),[S.memoizedState,d]},useRef:function(d){var p=$i();return d={current:d},p.memoizedState=d},useState:G8,useDebugValue:M2,useDeferredValue:function(d){return $i().memoizedState=d},useTransition:function(){var d=G8(!1),p=d[0];return d=fD.bind(null,d[1]),$i().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,v){var S=tr,R=$i();if(Zn){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),$r===null)throw Error(n(349));(uu&30)!==0||F8(S,p,v)}R.memoizedState=v;var U={value:v,getSnapshot:p};return R.queue=U,V8(D8.bind(null,S,U,d),[d]),S.flags|=2048,pm(9,U8.bind(null,S,U,v,p),void 0,null),v},useId:function(){var d=$i(),p=$r.identifierPrefix;if(Zn){var v=Co,S=ko;v=(S&~(1<<32-Va(S)-1)).toString(32)+v,p=":"+p+"R"+v,v=hm++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=hD++,p=":"+p+"r"+v.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},yD={readContext:Na,useCallback:Y8,useContext:Na,useEffect:$2,useImperativeHandle:J8,useInsertionEffect:Z8,useLayoutEffect:K8,useMemo:X8,useReducer:O2,useRef:q8,useState:function(){return O2(fm)},useDebugValue:M2,useDeferredValue:function(d){var p=ka();return eS(p,Ar.memoizedState,d)},useTransition:function(){var d=O2(fm)[0],p=ka().memoizedState;return[d,p]},useMutableSource:L8,useSyncExternalStore:B8,useId:tS,unstable_isNewReconciler:!1},bD={readContext:Na,useCallback:Y8,useContext:Na,useEffect:$2,useImperativeHandle:J8,useInsertionEffect:Z8,useLayoutEffect:K8,useMemo:X8,useReducer:R2,useRef:q8,useState:function(){return R2(fm)},useDebugValue:M2,useDeferredValue:function(d){var p=ka();return Ar===null?p.memoizedState=d:eS(p,Ar.memoizedState,d)},useTransition:function(){var d=R2(fm)[0],p=ka().memoizedState;return[d,p]},useMutableSource:L8,useSyncExternalStore:B8,useId:tS,unstable_isNewReconciler:!1};function Qa(d,p){if(d&&d.defaultProps){p=ee({},p),d=d.defaultProps;for(var v in d)p[v]===void 0&&(p[v]=d[v]);return p}return p}function z2(d,p,v,S){p=d.memoizedState,v=v(S,p),v=v==null?p:ee({},p,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var gb={isMounted:function(d){return(d=d._reactInternals)?st(d)===d:!1},enqueueSetState:function(d,p,v){d=d._reactInternals;var S=us(),R=Dl(d),U=So(S,R);U.payload=p,v!=null&&(U.callback=v),p=Ll(d,U,R),p!==null&&(Xa(p,d,R,S),lb(p,d,R))},enqueueReplaceState:function(d,p,v){d=d._reactInternals;var S=us(),R=Dl(d),U=So(S,R);U.tag=1,U.payload=p,v!=null&&(U.callback=v),p=Ll(d,U,R),p!==null&&(Xa(p,d,R,S),lb(p,d,R))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var v=us(),S=Dl(d),R=So(v,S);R.tag=2,p!=null&&(R.callback=p),p=Ll(d,R,S),p!==null&&(Xa(p,d,S,v),lb(p,d,S))}};function aS(d,p,v,S,R,U,X){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,U,X):p.prototype&&p.prototype.isPureReactComponent?!em(v,S)||!em(R,U):!0}function iS(d,p,v){var S=!1,R=$l,U=p.contextType;return typeof U=="object"&&U!==null?U=Na(U):(R=Ts(p)?au:ts.current,S=p.contextTypes,U=(S=S!=null)?bh(d,R):$l),p=new p(v,U),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gb,d.stateNode=p,p._reactInternals=d,S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=R,d.__reactInternalMemoizedMaskedChildContext=U),p}function oS(d,p,v,S){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,S),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,S),p.state!==d&&gb.enqueueReplaceState(p,p.state,null)}function L2(d,p,v,S){var R=d.stateNode;R.props=v,R.state=d.memoizedState,R.refs={},C2(d);var U=p.contextType;typeof U=="object"&&U!==null?R.context=Na(U):(U=Ts(p)?au:ts.current,R.context=bh(d,U)),R.state=d.memoizedState,U=p.getDerivedStateFromProps,typeof U=="function"&&(z2(d,p,U,v),R.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(p=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),p!==R.state&&gb.enqueueReplaceState(R,R.state,null),cb(d,v,R,S),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308)}function Sh(d,p){try{var v="",S=p;do v+=ae(S),S=S.return;while(S);var R=v}catch(U){R=`
Error generating stack: `+U.message+`
`+U.stack}return{value:d,source:p,stack:R,digest:null}}function B2(d,p,v){return{value:d,source:null,stack:v??null,digest:p??null}}function F2(d,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var wD=typeof WeakMap=="function"?WeakMap:Map;function lS(d,p,v){v=So(-1,v),v.tag=3,v.payload={element:null};var S=p.value;return v.callback=function(){kb||(kb=!0,e3=S),F2(d,p)},v}function cS(d,p,v){v=So(-1,v),v.tag=3;var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var R=p.value;v.payload=function(){return S(R)},v.callback=function(){F2(d,p)}}var U=d.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(v.callback=function(){F2(d,p),typeof S!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var X=p.stack;this.componentDidCatch(p.value,{componentStack:X!==null?X:""})}),v}function uS(d,p,v){var S=d.pingCache;if(S===null){S=d.pingCache=new wD;var R=new Set;S.set(p,R)}else R=S.get(p),R===void 0&&(R=new Set,S.set(p,R));R.has(v)||(R.add(v),d=OD.bind(null,d,p,v),p.then(d,d))}function dS(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function hS(d,p,v,S,R){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=So(-1,1),p.tag=2,Ll(v,p,1))),v.lanes|=1),d):(d.flags|=65536,d.lanes=R,d)}var vD=C.ReactCurrentOwner,Is=!1;function cs(d,p,v,S){p.child=d===null?P8(p,null,v,S):Nh(p,d.child,v,S)}function fS(d,p,v,S,R){v=v.render;var U=p.ref;return Ch(p,R),S=_2(d,p,v,S,U,R),v=P2(),d!==null&&!Is?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~R,Ao(d,p,R)):(Zn&&v&&p2(p),p.flags|=1,cs(d,p,S,R),p.child)}function pS(d,p,v,S,R){if(d===null){var U=v.type;return typeof U=="function"&&!o3(U)&&U.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=U,mS(d,p,U,S,R)):(d=Tb(v.type,null,S,p,p.mode,R),d.ref=p.ref,d.return=p,p.child=d)}if(U=d.child,(d.lanes&R)===0){var X=U.memoizedProps;if(v=v.compare,v=v!==null?v:em,v(X,S)&&d.ref===p.ref)return Ao(d,p,R)}return p.flags|=1,d=Hl(U,S),d.ref=p.ref,d.return=p,p.child=d}function mS(d,p,v,S,R){if(d!==null){var U=d.memoizedProps;if(em(U,S)&&d.ref===p.ref)if(Is=!1,p.pendingProps=S=U,(d.lanes&R)!==0)(d.flags&131072)!==0&&(Is=!0);else return p.lanes=d.lanes,Ao(d,p,R)}return U2(d,p,v,S,R)}function gS(d,p,v){var S=p.pendingProps,R=S.children,U=d!==null?d.memoizedState:null;if(S.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(jh,Xs),Xs|=v;else{if((v&1073741824)===0)return d=U!==null?U.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,Fn(jh,Xs),Xs|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=U!==null?U.baseLanes:v,Fn(jh,Xs),Xs|=S}else U!==null?(S=U.baseLanes|v,p.memoizedState=null):S=v,Fn(jh,Xs),Xs|=S;return cs(d,p,R,v),p.child}function yS(d,p){var v=p.ref;(d===null&&v!==null||d!==null&&d.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function U2(d,p,v,S,R){var U=Ts(v)?au:ts.current;return U=bh(p,U),Ch(p,R),v=_2(d,p,v,S,U,R),S=P2(),d!==null&&!Is?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~R,Ao(d,p,R)):(Zn&&S&&p2(p),p.flags|=1,cs(d,p,v,R),p.child)}function bS(d,p,v,S,R){if(Ts(v)){var U=!0;eb(p)}else U=!1;if(Ch(p,R),p.stateNode===null)bb(d,p),iS(p,v,S),L2(p,v,S,R),S=!0;else if(d===null){var X=p.stateNode,pe=p.memoizedProps;X.props=pe;var xe=X.context,ze=v.contextType;typeof ze=="object"&&ze!==null?ze=Na(ze):(ze=Ts(v)?au:ts.current,ze=bh(p,ze));var Ze=v.getDerivedStateFromProps,Je=typeof Ze=="function"||typeof X.getSnapshotBeforeUpdate=="function";Je||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(pe!==S||xe!==ze)&&oS(p,X,S,ze),zl=!1;var Ve=p.memoizedState;X.state=Ve,cb(p,S,X,R),xe=p.memoizedState,pe!==S||Ve!==xe||js.current||zl?(typeof Ze=="function"&&(z2(p,v,Ze,S),xe=p.memoizedState),(pe=zl||aS(p,v,pe,S,Ve,xe,ze))?(Je||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(p.flags|=4194308)):(typeof X.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=S,p.memoizedState=xe),X.props=S,X.state=xe,X.context=ze,S=pe):(typeof X.componentDidMount=="function"&&(p.flags|=4194308),S=!1)}else{X=p.stateNode,R8(d,p),pe=p.memoizedProps,ze=p.type===p.elementType?pe:Qa(p.type,pe),X.props=ze,Je=p.pendingProps,Ve=X.context,xe=v.contextType,typeof xe=="object"&&xe!==null?xe=Na(xe):(xe=Ts(v)?au:ts.current,xe=bh(p,xe));var ct=v.getDerivedStateFromProps;(Ze=typeof ct=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(pe!==Je||Ve!==xe)&&oS(p,X,S,xe),zl=!1,Ve=p.memoizedState,X.state=Ve,cb(p,S,X,R);var wt=p.memoizedState;pe!==Je||Ve!==wt||js.current||zl?(typeof ct=="function"&&(z2(p,v,ct,S),wt=p.memoizedState),(ze=zl||aS(p,v,ze,S,Ve,wt,xe)||!1)?(Ze||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(S,wt,xe),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(S,wt,xe)),typeof X.componentDidUpdate=="function"&&(p.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof X.componentDidUpdate!="function"||pe===d.memoizedProps&&Ve===d.memoizedState||(p.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||pe===d.memoizedProps&&Ve===d.memoizedState||(p.flags|=1024),p.memoizedProps=S,p.memoizedState=wt),X.props=S,X.state=wt,X.context=xe,S=ze):(typeof X.componentDidUpdate!="function"||pe===d.memoizedProps&&Ve===d.memoizedState||(p.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||pe===d.memoizedProps&&Ve===d.memoizedState||(p.flags|=1024),S=!1)}return D2(d,p,v,S,U,R)}function D2(d,p,v,S,R,U){yS(d,p);var X=(p.flags&128)!==0;if(!S&&!X)return R&&k8(p,v,!1),Ao(d,p,U);S=p.stateNode,vD.current=p;var pe=X&&typeof v.getDerivedStateFromError!="function"?null:S.render();return p.flags|=1,d!==null&&X?(p.child=Nh(p,d.child,null,U),p.child=Nh(p,null,pe,U)):cs(d,p,pe,U),p.memoizedState=S.state,R&&k8(p,v,!0),p.child}function wS(d){var p=d.stateNode;p.pendingContext?x8(d,p.pendingContext,p.pendingContext!==p.context):p.context&&x8(d,p.context,!1),E2(d,p.containerInfo)}function vS(d,p,v,S,R){return xh(),b2(R),p.flags|=256,cs(d,p,v,S),p.child}var W2={dehydrated:null,treeContext:null,retryLane:0};function H2(d){return{baseLanes:d,cachePool:null,transitions:null}}function xS(d,p,v){var S=p.pendingProps,R=er.current,U=!1,X=(p.flags&128)!==0,pe;if((pe=X)||(pe=d!==null&&d.memoizedState===null?!1:(R&2)!==0),pe?(U=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(R|=1),Fn(er,R&1),d===null)return y2(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(X=S.children,d=S.fallback,U?(S=p.mode,U=p.child,X={mode:"hidden",children:X},(S&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=X):U=Ib(X,S,0,null),d=mu(d,S,v,null),U.return=p,d.return=p,U.sibling=d,p.child=U,p.child.memoizedState=H2(v),p.memoizedState=W2,d):G2(p,X));if(R=d.memoizedState,R!==null&&(pe=R.dehydrated,pe!==null))return xD(d,p,X,S,pe,R,v);if(U){U=S.fallback,X=p.mode,R=d.child,pe=R.sibling;var xe={mode:"hidden",children:S.children};return(X&1)===0&&p.child!==R?(S=p.child,S.childLanes=0,S.pendingProps=xe,p.deletions=null):(S=Hl(R,xe),S.subtreeFlags=R.subtreeFlags&14680064),pe!==null?U=Hl(pe,U):(U=mu(U,X,v,null),U.flags|=2),U.return=p,S.return=p,S.sibling=U,p.child=S,S=U,U=p.child,X=d.child.memoizedState,X=X===null?H2(v):{baseLanes:X.baseLanes|v,cachePool:null,transitions:X.transitions},U.memoizedState=X,U.childLanes=d.childLanes&~v,p.memoizedState=W2,S}return U=d.child,d=U.sibling,S=Hl(U,{mode:"visible",children:S.children}),(p.mode&1)===0&&(S.lanes=v),S.return=p,S.sibling=null,d!==null&&(v=p.deletions,v===null?(p.deletions=[d],p.flags|=16):v.push(d)),p.child=S,p.memoizedState=null,S}function G2(d,p){return p=Ib({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function yb(d,p,v,S){return S!==null&&b2(S),Nh(p,d.child,null,v),d=G2(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function xD(d,p,v,S,R,U,X){if(v)return p.flags&256?(p.flags&=-257,S=B2(Error(n(422))),yb(d,p,X,S)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(U=S.fallback,R=p.mode,S=Ib({mode:"visible",children:S.children},R,0,null),U=mu(U,R,X,null),U.flags|=2,S.return=p,U.return=p,S.sibling=U,p.child=S,(p.mode&1)!==0&&Nh(p,d.child,null,X),p.child.memoizedState=H2(X),p.memoizedState=W2,U);if((p.mode&1)===0)return yb(d,p,X,null);if(R.data==="$!"){if(S=R.nextSibling&&R.nextSibling.dataset,S)var pe=S.dgst;return S=pe,U=Error(n(419)),S=B2(U,S,void 0),yb(d,p,X,S)}if(pe=(X&d.childLanes)!==0,Is||pe){if(S=$r,S!==null){switch(X&-X){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(S.suspendedLanes|X))!==0?0:R,R!==0&&R!==U.retryLane&&(U.retryLane=R,Eo(d,R),Xa(S,d,R,-1))}return i3(),S=B2(Error(n(421))),yb(d,p,X,S)}return R.data==="$?"?(p.flags|=128,p.child=d.child,p=RD.bind(null,d),R._reactRetry=p,null):(d=U.treeContext,Ys=Ol(R.nextSibling),Js=p,Zn=!0,Ka=null,d!==null&&(va[xa++]=ko,va[xa++]=Co,va[xa++]=iu,ko=d.id,Co=d.overflow,iu=p),p=G2(p,S.children),p.flags|=4096,p)}function NS(d,p,v){d.lanes|=p;var S=d.alternate;S!==null&&(S.lanes|=p),N2(d.return,p,v)}function q2(d,p,v,S,R){var U=d.memoizedState;U===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:R}:(U.isBackwards=p,U.rendering=null,U.renderingStartTime=0,U.last=S,U.tail=v,U.tailMode=R)}function kS(d,p,v){var S=p.pendingProps,R=S.revealOrder,U=S.tail;if(cs(d,p,S.children,v),S=er.current,(S&2)!==0)S=S&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&NS(d,v,p);else if(d.tag===19)NS(d,v,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}if(Fn(er,S),(p.mode&1)===0)p.memoizedState=null;else switch(R){case"forwards":for(v=p.child,R=null;v!==null;)d=v.alternate,d!==null&&ub(d)===null&&(R=v),v=v.sibling;v=R,v===null?(R=p.child,p.child=null):(R=v.sibling,v.sibling=null),q2(p,!1,R,v,U);break;case"backwards":for(v=null,R=p.child,p.child=null;R!==null;){if(d=R.alternate,d!==null&&ub(d)===null){p.child=R;break}d=R.sibling,R.sibling=v,v=R,R=d}q2(p,!0,v,null,U);break;case"together":q2(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function bb(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function Ao(d,p,v){if(d!==null&&(p.dependencies=d.dependencies),du|=p.lanes,(v&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,v=Hl(d,d.pendingProps),p.child=v,v.return=p;d.sibling!==null;)d=d.sibling,v=v.sibling=Hl(d,d.pendingProps),v.return=p;v.sibling=null}return p.child}function ND(d,p,v){switch(p.tag){case 3:wS(p),xh();break;case 5:z8(p);break;case 1:Ts(p.type)&&eb(p);break;case 4:E2(p,p.stateNode.containerInfo);break;case 10:var S=p.type._context,R=p.memoizedProps.value;Fn(ib,S._currentValue),S._currentValue=R;break;case 13:if(S=p.memoizedState,S!==null)return S.dehydrated!==null?(Fn(er,er.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?xS(d,p,v):(Fn(er,er.current&1),d=Ao(d,p,v),d!==null?d.sibling:null);Fn(er,er.current&1);break;case 19:if(S=(v&p.childLanes)!==0,(d.flags&128)!==0){if(S)return kS(d,p,v);p.flags|=128}if(R=p.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Fn(er,er.current),S)break;return null;case 22:case 23:return p.lanes=0,gS(d,p,v)}return Ao(d,p,v)}var CS,V2,ES,SS;CS=function(d,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},V2=function(){},ES=function(d,p,v,S){var R=d.memoizedProps;if(R!==S){d=p.stateNode,cu(Ri.current);var U=null;switch(v){case"input":R=W(d,R),S=W(d,S),U=[];break;case"select":R=ee({},R,{value:void 0}),S=ee({},S,{value:void 0}),U=[];break;case"textarea":R=be(d,R),S=be(d,S),U=[];break;default:typeof R.onClick!="function"&&typeof S.onClick=="function"&&(d.onclick=Jy)}ot(v,S);var X;v=null;for(ze in R)if(!S.hasOwnProperty(ze)&&R.hasOwnProperty(ze)&&R[ze]!=null)if(ze==="style"){var pe=R[ze];for(X in pe)pe.hasOwnProperty(X)&&(v||(v={}),v[X]="")}else ze!=="dangerouslySetInnerHTML"&&ze!=="children"&&ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&ze!=="autoFocus"&&(s.hasOwnProperty(ze)?U||(U=[]):(U=U||[]).push(ze,null));for(ze in S){var xe=S[ze];if(pe=R?.[ze],S.hasOwnProperty(ze)&&xe!==pe&&(xe!=null||pe!=null))if(ze==="style")if(pe){for(X in pe)!pe.hasOwnProperty(X)||xe&&xe.hasOwnProperty(X)||(v||(v={}),v[X]="");for(X in xe)xe.hasOwnProperty(X)&&pe[X]!==xe[X]&&(v||(v={}),v[X]=xe[X])}else v||(U||(U=[]),U.push(ze,v)),v=xe;else ze==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,pe=pe?pe.__html:void 0,xe!=null&&pe!==xe&&(U=U||[]).push(ze,xe)):ze==="children"?typeof xe!="string"&&typeof xe!="number"||(U=U||[]).push(ze,""+xe):ze!=="suppressContentEditableWarning"&&ze!=="suppressHydrationWarning"&&(s.hasOwnProperty(ze)?(xe!=null&&ze==="onScroll"&&Dn("scroll",d),U||pe===xe||(U=[])):(U=U||[]).push(ze,xe))}v&&(U=U||[]).push("style",v);var ze=U;(p.updateQueue=ze)&&(p.flags|=4)}},SS=function(d,p,v,S){v!==S&&(p.flags|=4)};function mm(d,p){if(!Zn)switch(d.tailMode){case"hidden":p=d.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function rs(d){var p=d.alternate!==null&&d.alternate.child===d.child,v=0,S=0;if(p)for(var R=d.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags&14680064,S|=R.flags&14680064,R.return=d,R=R.sibling;else for(R=d.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=d,R=R.sibling;return d.subtreeFlags|=S,d.childLanes=v,p}function kD(d,p,v){var S=p.pendingProps;switch(m2(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(p),null;case 1:return Ts(p.type)&&Xy(),rs(p),null;case 3:return S=p.stateNode,Eh(),Wn(js),Wn(ts),j2(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(d===null||d.child===null)&&(sb(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Ka!==null&&(r3(Ka),Ka=null))),V2(d,p),rs(p),null;case 5:S2(p);var R=cu(um.current);if(v=p.type,d!==null&&p.stateNode!=null)ES(d,p,v,S,R),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!S){if(p.stateNode===null)throw Error(n(166));return rs(p),null}if(d=cu(Ri.current),sb(p)){S=p.stateNode,v=p.type;var U=p.memoizedProps;switch(S[Oi]=p,S[am]=U,d=(p.mode&1)!==0,v){case"dialog":Dn("cancel",S),Dn("close",S);break;case"iframe":case"object":case"embed":Dn("load",S);break;case"video":case"audio":for(R=0;R<nm.length;R++)Dn(nm[R],S);break;case"source":Dn("error",S);break;case"img":case"image":case"link":Dn("error",S),Dn("load",S);break;case"details":Dn("toggle",S);break;case"input":ye(S,U),Dn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!U.multiple},Dn("invalid",S);break;case"textarea":Be(S,U),Dn("invalid",S)}ot(v,U),R=null;for(var X in U)if(U.hasOwnProperty(X)){var pe=U[X];X==="children"?typeof pe=="string"?S.textContent!==pe&&(U.suppressHydrationWarning!==!0&&Qy(S.textContent,pe,d),R=["children",pe]):typeof pe=="number"&&S.textContent!==""+pe&&(U.suppressHydrationWarning!==!0&&Qy(S.textContent,pe,d),R=["children",""+pe]):s.hasOwnProperty(X)&&pe!=null&&X==="onScroll"&&Dn("scroll",S)}switch(v){case"input":he(S),se(S,U,!0);break;case"textarea":he(S),Me(S);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(S.onclick=Jy)}S=R,p.updateQueue=S,S!==null&&(p.flags|=4)}else{X=R.nodeType===9?R:R.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=we(v)),d==="http://www.w3.org/1999/xhtml"?v==="script"?(d=X.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof S.is=="string"?d=X.createElement(v,{is:S.is}):(d=X.createElement(v),v==="select"&&(X=d,S.multiple?X.multiple=!0:S.size&&(X.size=S.size))):d=X.createElementNS(d,v),d[Oi]=p,d[am]=S,CS(d,p,!1,!1),p.stateNode=d;e:{switch(X=Ct(v,S),v){case"dialog":Dn("cancel",d),Dn("close",d),R=S;break;case"iframe":case"object":case"embed":Dn("load",d),R=S;break;case"video":case"audio":for(R=0;R<nm.length;R++)Dn(nm[R],d);R=S;break;case"source":Dn("error",d),R=S;break;case"img":case"image":case"link":Dn("error",d),Dn("load",d),R=S;break;case"details":Dn("toggle",d),R=S;break;case"input":ye(d,S),R=W(d,S),Dn("invalid",d);break;case"option":R=S;break;case"select":d._wrapperState={wasMultiple:!!S.multiple},R=ee({},S,{value:void 0}),Dn("invalid",d);break;case"textarea":Be(d,S),R=be(d,S),Dn("invalid",d);break;default:R=S}ot(v,R),pe=R;for(U in pe)if(pe.hasOwnProperty(U)){var xe=pe[U];U==="style"?rt(d,xe):U==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&q(d,xe)):U==="children"?typeof xe=="string"?(v!=="textarea"||xe!=="")&&le(d,xe):typeof xe=="number"&&le(d,""+xe):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?xe!=null&&U==="onScroll"&&Dn("scroll",d):xe!=null&&E(d,U,xe,X))}switch(v){case"input":he(d),se(d,S,!1);break;case"textarea":he(d),Me(d);break;case"option":S.value!=null&&d.setAttribute("value",""+ie(S.value));break;case"select":d.multiple=!!S.multiple,U=S.value,U!=null?je(d,!!S.multiple,U,!1):S.defaultValue!=null&&je(d,!!S.multiple,S.defaultValue,!0);break;default:typeof R.onClick=="function"&&(d.onclick=Jy)}switch(v){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return rs(p),null;case 6:if(d&&p.stateNode!=null)SS(d,p,d.memoizedProps,S);else{if(typeof S!="string"&&p.stateNode===null)throw Error(n(166));if(v=cu(um.current),cu(Ri.current),sb(p)){if(S=p.stateNode,v=p.memoizedProps,S[Oi]=p,(U=S.nodeValue!==v)&&(d=Js,d!==null))switch(d.tag){case 3:Qy(S.nodeValue,v,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Qy(S.nodeValue,v,(d.mode&1)!==0)}U&&(p.flags|=4)}else S=(v.nodeType===9?v:v.ownerDocument).createTextNode(S),S[Oi]=p,p.stateNode=S}return rs(p),null;case 13:if(Wn(er),S=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Zn&&Ys!==null&&(p.mode&1)!==0&&(p.flags&128)===0)T8(),xh(),p.flags|=98560,U=!1;else if(U=sb(p),S!==null&&S.dehydrated!==null){if(d===null){if(!U)throw Error(n(318));if(U=p.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[Oi]=p}else xh(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;rs(p),U=!1}else Ka!==null&&(r3(Ka),Ka=null),U=!0;if(!U)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(S=S!==null,S!==(d!==null&&d.memoizedState!==null)&&S&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(er.current&1)!==0?jr===0&&(jr=3):i3())),p.updateQueue!==null&&(p.flags|=4),rs(p),null);case 4:return Eh(),V2(d,p),d===null&&rm(p.stateNode.containerInfo),rs(p),null;case 10:return x2(p.type._context),rs(p),null;case 17:return Ts(p.type)&&Xy(),rs(p),null;case 19:if(Wn(er),U=p.memoizedState,U===null)return rs(p),null;if(S=(p.flags&128)!==0,X=U.rendering,X===null)if(S)mm(U,!1);else{if(jr!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(X=ub(d),X!==null){for(p.flags|=128,mm(U,!1),S=X.updateQueue,S!==null&&(p.updateQueue=S,p.flags|=4),p.subtreeFlags=0,S=v,v=p.child;v!==null;)U=v,d=S,U.flags&=14680066,X=U.alternate,X===null?(U.childLanes=0,U.lanes=d,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=X.childLanes,U.lanes=X.lanes,U.child=X.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=X.memoizedProps,U.memoizedState=X.memoizedState,U.updateQueue=X.updateQueue,U.type=X.type,d=X.dependencies,U.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),v=v.sibling;return Fn(er,er.current&1|2),p.child}d=d.sibling}U.tail!==null&&fr()>Th&&(p.flags|=128,S=!0,mm(U,!1),p.lanes=4194304)}else{if(!S)if(d=ub(X),d!==null){if(p.flags|=128,S=!0,v=d.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),mm(U,!0),U.tail===null&&U.tailMode==="hidden"&&!X.alternate&&!Zn)return rs(p),null}else 2*fr()-U.renderingStartTime>Th&&v!==1073741824&&(p.flags|=128,S=!0,mm(U,!1),p.lanes=4194304);U.isBackwards?(X.sibling=p.child,p.child=X):(v=U.last,v!==null?v.sibling=X:p.child=X,U.last=X)}return U.tail!==null?(p=U.tail,U.rendering=p,U.tail=p.sibling,U.renderingStartTime=fr(),p.sibling=null,v=er.current,Fn(er,S?v&1|2:v&1),p):(rs(p),null);case 22:case 23:return a3(),S=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==S&&(p.flags|=8192),S&&(p.mode&1)!==0?(Xs&1073741824)!==0&&(rs(p),p.subtreeFlags&6&&(p.flags|=8192)):rs(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function CD(d,p){switch(m2(p),p.tag){case 1:return Ts(p.type)&&Xy(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Eh(),Wn(js),Wn(ts),j2(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return S2(p),null;case 13:if(Wn(er),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));xh()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Wn(er),null;case 4:return Eh(),null;case 10:return x2(p.type._context),null;case 22:case 23:return a3(),null;case 24:return null;default:return null}}var wb=!1,ss=!1,ED=typeof WeakSet=="function"?WeakSet:Set,mt=null;function Ah(d,p){var v=d.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){or(d,p,S)}else v.current=null}function AS(d,p,v){try{v()}catch(S){or(d,p,S)}}var jS=!1;function SD(d,p){if(i2=By,d=a8(),Yx(d)){if("selectionStart"in d)var v={start:d.selectionStart,end:d.selectionEnd};else e:{v=(v=d.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var R=S.anchorOffset,U=S.focusNode;S=S.focusOffset;try{v.nodeType,U.nodeType}catch{v=null;break e}var X=0,pe=-1,xe=-1,ze=0,Ze=0,Je=d,Ve=null;t:for(;;){for(var ct;Je!==v||R!==0&&Je.nodeType!==3||(pe=X+R),Je!==U||S!==0&&Je.nodeType!==3||(xe=X+S),Je.nodeType===3&&(X+=Je.nodeValue.length),(ct=Je.firstChild)!==null;)Ve=Je,Je=ct;for(;;){if(Je===d)break t;if(Ve===v&&++ze===R&&(pe=X),Ve===U&&++Ze===S&&(xe=X),(ct=Je.nextSibling)!==null)break;Je=Ve,Ve=Je.parentNode}Je=ct}v=pe===-1||xe===-1?null:{start:pe,end:xe}}else v=null}v=v||{start:0,end:0}}else v=null;for(o2={focusedElem:d,selectionRange:v},By=!1,mt=p;mt!==null;)if(p=mt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,mt=d;else for(;mt!==null;){p=mt;try{var wt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var Nt=wt.memoizedProps,pr=wt.memoizedState,_e=p.stateNode,Ee=_e.getSnapshotBeforeUpdate(p.elementType===p.type?Nt:Qa(p.type,Nt),pr);_e.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var Oe=p.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(et){or(p,p.return,et)}if(d=p.sibling,d!==null){d.return=p.return,mt=d;break}mt=p.return}return wt=jS,jS=!1,wt}function gm(d,p,v){var S=p.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var R=S=S.next;do{if((R.tag&d)===d){var U=R.destroy;R.destroy=void 0,U!==void 0&&AS(p,v,U)}R=R.next}while(R!==S)}}function vb(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&d)===d){var S=v.create;v.destroy=S()}v=v.next}while(v!==p)}}function Z2(d){var p=d.ref;if(p!==null){var v=d.stateNode;switch(d.tag){case 5:d=v;break;default:d=v}typeof p=="function"?p(d):p.current=d}}function TS(d){var p=d.alternate;p!==null&&(d.alternate=null,TS(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[Oi],delete p[am],delete p[d2],delete p[lD],delete p[cD])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function IS(d){return d.tag===5||d.tag===3||d.tag===4}function _S(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||IS(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function K2(d,p,v){var S=d.tag;if(S===5||S===6)d=d.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(d,p):v.insertBefore(d,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(d,v)):(p=v,p.appendChild(d)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=Jy));else if(S!==4&&(d=d.child,d!==null))for(K2(d,p,v),d=d.sibling;d!==null;)K2(d,p,v),d=d.sibling}function Q2(d,p,v){var S=d.tag;if(S===5||S===6)d=d.stateNode,p?v.insertBefore(d,p):v.appendChild(d);else if(S!==4&&(d=d.child,d!==null))for(Q2(d,p,v),d=d.sibling;d!==null;)Q2(d,p,v),d=d.sibling}var Wr=null,Ja=!1;function Bl(d,p,v){for(v=v.child;v!==null;)PS(d,p,v),v=v.sibling}function PS(d,p,v){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Oy,v)}catch{}switch(v.tag){case 5:ss||Ah(v,p);case 6:var S=Wr,R=Ja;Wr=null,Bl(d,p,v),Wr=S,Ja=R,Wr!==null&&(Ja?(d=Wr,v=v.stateNode,d.nodeType===8?d.parentNode.removeChild(v):d.removeChild(v)):Wr.removeChild(v.stateNode));break;case 18:Wr!==null&&(Ja?(d=Wr,v=v.stateNode,d.nodeType===8?u2(d.parentNode,v):d.nodeType===1&&u2(d,v),Zp(d)):u2(Wr,v.stateNode));break;case 4:S=Wr,R=Ja,Wr=v.stateNode.containerInfo,Ja=!0,Bl(d,p,v),Wr=S,Ja=R;break;case 0:case 11:case 14:case 15:if(!ss&&(S=v.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){R=S=S.next;do{var U=R,X=U.destroy;U=U.tag,X!==void 0&&((U&2)!==0||(U&4)!==0)&&AS(v,p,X),R=R.next}while(R!==S)}Bl(d,p,v);break;case 1:if(!ss&&(Ah(v,p),S=v.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(pe){or(v,p,pe)}Bl(d,p,v);break;case 21:Bl(d,p,v);break;case 22:v.mode&1?(ss=(S=ss)||v.memoizedState!==null,Bl(d,p,v),ss=S):Bl(d,p,v);break;default:Bl(d,p,v)}}function OS(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var v=d.stateNode;v===null&&(v=d.stateNode=new ED),p.forEach(function(S){var R=$D.bind(null,d,S);v.has(S)||(v.add(S),S.then(R,R))})}}function Ya(d,p){var v=p.deletions;if(v!==null)for(var S=0;S<v.length;S++){var R=v[S];try{var U=d,X=p,pe=X;e:for(;pe!==null;){switch(pe.tag){case 5:Wr=pe.stateNode,Ja=!1;break e;case 3:Wr=pe.stateNode.containerInfo,Ja=!0;break e;case 4:Wr=pe.stateNode.containerInfo,Ja=!0;break e}pe=pe.return}if(Wr===null)throw Error(n(160));PS(U,X,R),Wr=null,Ja=!1;var xe=R.alternate;xe!==null&&(xe.return=null),R.return=null}catch(ze){or(R,p,ze)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)RS(p,d),p=p.sibling}function RS(d,p){var v=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ya(p,d),Mi(d),S&4){try{gm(3,d,d.return),vb(3,d)}catch(Nt){or(d,d.return,Nt)}try{gm(5,d,d.return)}catch(Nt){or(d,d.return,Nt)}}break;case 1:Ya(p,d),Mi(d),S&512&&v!==null&&Ah(v,v.return);break;case 5:if(Ya(p,d),Mi(d),S&512&&v!==null&&Ah(v,v.return),d.flags&32){var R=d.stateNode;try{le(R,"")}catch(Nt){or(d,d.return,Nt)}}if(S&4&&(R=d.stateNode,R!=null)){var U=d.memoizedProps,X=v!==null?v.memoizedProps:U,pe=d.type,xe=d.updateQueue;if(d.updateQueue=null,xe!==null)try{pe==="input"&&U.type==="radio"&&U.name!=null&&ce(R,U),Ct(pe,X);var ze=Ct(pe,U);for(X=0;X<xe.length;X+=2){var Ze=xe[X],Je=xe[X+1];Ze==="style"?rt(R,Je):Ze==="dangerouslySetInnerHTML"?q(R,Je):Ze==="children"?le(R,Je):E(R,Ze,Je,ze)}switch(pe){case"input":ne(R,U);break;case"textarea":$e(R,U);break;case"select":var Ve=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!U.multiple;var ct=U.value;ct!=null?je(R,!!U.multiple,ct,!1):Ve!==!!U.multiple&&(U.defaultValue!=null?je(R,!!U.multiple,U.defaultValue,!0):je(R,!!U.multiple,U.multiple?[]:"",!1))}R[am]=U}catch(Nt){or(d,d.return,Nt)}}break;case 6:if(Ya(p,d),Mi(d),S&4){if(d.stateNode===null)throw Error(n(162));R=d.stateNode,U=d.memoizedProps;try{R.nodeValue=U}catch(Nt){or(d,d.return,Nt)}}break;case 3:if(Ya(p,d),Mi(d),S&4&&v!==null&&v.memoizedState.isDehydrated)try{Zp(p.containerInfo)}catch(Nt){or(d,d.return,Nt)}break;case 4:Ya(p,d),Mi(d);break;case 13:Ya(p,d),Mi(d),R=d.child,R.flags&8192&&(U=R.memoizedState!==null,R.stateNode.isHidden=U,!U||R.alternate!==null&&R.alternate.memoizedState!==null||(X2=fr())),S&4&&OS(d);break;case 22:if(Ze=v!==null&&v.memoizedState!==null,d.mode&1?(ss=(ze=ss)||Ze,Ya(p,d),ss=ze):Ya(p,d),Mi(d),S&8192){if(ze=d.memoizedState!==null,(d.stateNode.isHidden=ze)&&!Ze&&(d.mode&1)!==0)for(mt=d,Ze=d.child;Ze!==null;){for(Je=mt=Ze;mt!==null;){switch(Ve=mt,ct=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:gm(4,Ve,Ve.return);break;case 1:Ah(Ve,Ve.return);var wt=Ve.stateNode;if(typeof wt.componentWillUnmount=="function"){S=Ve,v=Ve.return;try{p=S,wt.props=p.memoizedProps,wt.state=p.memoizedState,wt.componentWillUnmount()}catch(Nt){or(S,v,Nt)}}break;case 5:Ah(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){zS(Je);continue}}ct!==null?(ct.return=Ve,mt=ct):zS(Je)}Ze=Ze.sibling}e:for(Ze=null,Je=d;;){if(Je.tag===5){if(Ze===null){Ze=Je;try{R=Je.stateNode,ze?(U=R.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(pe=Je.stateNode,xe=Je.memoizedProps.style,X=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,pe.style.display=Ae("display",X))}catch(Nt){or(d,d.return,Nt)}}}else if(Je.tag===6){if(Ze===null)try{Je.stateNode.nodeValue=ze?"":Je.memoizedProps}catch(Nt){or(d,d.return,Nt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===d)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===d)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===d)break e;Ze===Je&&(Ze=null),Je=Je.return}Ze===Je&&(Ze=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:Ya(p,d),Mi(d),S&4&&OS(d);break;case 21:break;default:Ya(p,d),Mi(d)}}function Mi(d){var p=d.flags;if(p&2){try{e:{for(var v=d.return;v!==null;){if(IS(v)){var S=v;break e}v=v.return}throw Error(n(160))}switch(S.tag){case 5:var R=S.stateNode;S.flags&32&&(le(R,""),S.flags&=-33);var U=_S(d);Q2(d,U,R);break;case 3:case 4:var X=S.stateNode.containerInfo,pe=_S(d);K2(d,pe,X);break;default:throw Error(n(161))}}catch(xe){or(d,d.return,xe)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function AD(d,p,v){mt=d,$S(d)}function $S(d,p,v){for(var S=(d.mode&1)!==0;mt!==null;){var R=mt,U=R.child;if(R.tag===22&&S){var X=R.memoizedState!==null||wb;if(!X){var pe=R.alternate,xe=pe!==null&&pe.memoizedState!==null||ss;pe=wb;var ze=ss;if(wb=X,(ss=xe)&&!ze)for(mt=R;mt!==null;)X=mt,xe=X.child,X.tag===22&&X.memoizedState!==null?LS(R):xe!==null?(xe.return=X,mt=xe):LS(R);for(;U!==null;)mt=U,$S(U),U=U.sibling;mt=R,wb=pe,ss=ze}MS(d)}else(R.subtreeFlags&8772)!==0&&U!==null?(U.return=R,mt=U):MS(d)}}function MS(d){for(;mt!==null;){var p=mt;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:ss||vb(5,p);break;case 1:var S=p.stateNode;if(p.flags&4&&!ss)if(v===null)S.componentDidMount();else{var R=p.elementType===p.type?v.memoizedProps:Qa(p.type,v.memoizedProps);S.componentDidUpdate(R,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var U=p.updateQueue;U!==null&&M8(p,U,S);break;case 3:var X=p.updateQueue;if(X!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}M8(p,X,v)}break;case 5:var pe=p.stateNode;if(v===null&&p.flags&4){v=pe;var xe=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&v.focus();break;case"img":xe.src&&(v.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ze=p.alternate;if(ze!==null){var Ze=ze.memoizedState;if(Ze!==null){var Je=Ze.dehydrated;Je!==null&&Zp(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ss||p.flags&512&&Z2(p)}catch(Ve){or(p,p.return,Ve)}}if(p===d){mt=null;break}if(v=p.sibling,v!==null){v.return=p.return,mt=v;break}mt=p.return}}function zS(d){for(;mt!==null;){var p=mt;if(p===d){mt=null;break}var v=p.sibling;if(v!==null){v.return=p.return,mt=v;break}mt=p.return}}function LS(d){for(;mt!==null;){var p=mt;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{vb(4,p)}catch(xe){or(p,v,xe)}break;case 1:var S=p.stateNode;if(typeof S.componentDidMount=="function"){var R=p.return;try{S.componentDidMount()}catch(xe){or(p,R,xe)}}var U=p.return;try{Z2(p)}catch(xe){or(p,U,xe)}break;case 5:var X=p.return;try{Z2(p)}catch(xe){or(p,X,xe)}}}catch(xe){or(p,p.return,xe)}if(p===d){mt=null;break}var pe=p.sibling;if(pe!==null){pe.return=p.return,mt=pe;break}mt=p.return}}var jD=Math.ceil,xb=C.ReactCurrentDispatcher,J2=C.ReactCurrentOwner,Ca=C.ReactCurrentBatchConfig,pn=0,$r=null,Nr=null,Hr=0,Xs=0,jh=Rl(0),jr=0,ym=null,du=0,Nb=0,Y2=0,bm=null,_s=null,X2=0,Th=1/0,jo=null,kb=!1,e3=null,Fl=null,Cb=!1,Ul=null,Eb=0,wm=0,t3=null,Sb=-1,Ab=0;function us(){return(pn&6)!==0?fr():Sb!==-1?Sb:Sb=fr()}function Dl(d){return(d.mode&1)===0?1:(pn&2)!==0&&Hr!==0?Hr&-Hr:dD.transition!==null?(Ab===0&&(Ab=IE()),Ab):(d=Sn,d!==0||(d=window.event,d=d===void 0?16:BE(d.type)),d)}function Xa(d,p,v,S){if(50<wm)throw wm=0,t3=null,Error(n(185));Wp(d,v,S),((pn&2)===0||d!==$r)&&(d===$r&&((pn&2)===0&&(Nb|=v),jr===4&&Wl(d,Hr)),Ps(d,S),v===1&&pn===0&&(p.mode&1)===0&&(Th=fr()+500,tb&&Ml()))}function Ps(d,p){var v=d.callbackNode;dU(d,p);var S=My(d,d===$r?Hr:0);if(S===0)v!==null&&_y(v),d.callbackNode=null,d.callbackPriority=0;else if(p=S&-S,d.callbackPriority!==p){if(v!=null&&_y(v),p===1)d.tag===0?uD(FS.bind(null,d)):C8(FS.bind(null,d)),iD(function(){(pn&6)===0&&Ml()}),v=null;else{switch(_E(S)){case 1:v=$x;break;case 4:v=jE;break;case 16:v=Py;break;case 536870912:v=TE;break;default:v=Py}v=ZS(v,BS.bind(null,d))}d.callbackPriority=p,d.callbackNode=v}}function BS(d,p){if(Sb=-1,Ab=0,(pn&6)!==0)throw Error(n(327));var v=d.callbackNode;if(Ih()&&d.callbackNode!==v)return null;var S=My(d,d===$r?Hr:0);if(S===0)return null;if((S&30)!==0||(S&d.expiredLanes)!==0||p)p=jb(d,S);else{p=S;var R=pn;pn|=2;var U=DS();($r!==d||Hr!==p)&&(jo=null,Th=fr()+500,fu(d,p));do try{_D();break}catch(pe){US(d,pe)}while(!0);v2(),xb.current=U,pn=R,Nr!==null?p=0:($r=null,Hr=0,p=jr)}if(p!==0){if(p===2&&(R=Mx(d),R!==0&&(S=R,p=n3(d,R))),p===1)throw v=ym,fu(d,0),Wl(d,S),Ps(d,fr()),v;if(p===6)Wl(d,S);else{if(R=d.current.alternate,(S&30)===0&&!TD(R)&&(p=jb(d,S),p===2&&(U=Mx(d),U!==0&&(S=U,p=n3(d,U))),p===1))throw v=ym,fu(d,0),Wl(d,S),Ps(d,fr()),v;switch(d.finishedWork=R,d.finishedLanes=S,p){case 0:case 1:throw Error(n(345));case 2:pu(d,_s,jo);break;case 3:if(Wl(d,S),(S&130023424)===S&&(p=X2+500-fr(),10<p)){if(My(d,0)!==0)break;if(R=d.suspendedLanes,(R&S)!==S){us(),d.pingedLanes|=d.suspendedLanes&R;break}d.timeoutHandle=c2(pu.bind(null,d,_s,jo),p);break}pu(d,_s,jo);break;case 4:if(Wl(d,S),(S&4194240)===S)break;for(p=d.eventTimes,R=-1;0<S;){var X=31-Va(S);U=1<<X,X=p[X],X>R&&(R=X),S&=~U}if(S=R,S=fr()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*jD(S/1960))-S,10<S){d.timeoutHandle=c2(pu.bind(null,d,_s,jo),S);break}pu(d,_s,jo);break;case 5:pu(d,_s,jo);break;default:throw Error(n(329))}}}return Ps(d,fr()),d.callbackNode===v?BS.bind(null,d):null}function n3(d,p){var v=bm;return d.current.memoizedState.isDehydrated&&(fu(d,p).flags|=256),d=jb(d,p),d!==2&&(p=_s,_s=v,p!==null&&r3(p)),d}function r3(d){_s===null?_s=d:_s.push.apply(_s,d)}function TD(d){for(var p=d;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var R=v[S],U=R.getSnapshot;R=R.value;try{if(!Za(U(),R))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Wl(d,p){for(p&=~Y2,p&=~Nb,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var v=31-Va(p),S=1<<v;d[v]=-1,p&=~S}}function FS(d){if((pn&6)!==0)throw Error(n(327));Ih();var p=My(d,0);if((p&1)===0)return Ps(d,fr()),null;var v=jb(d,p);if(d.tag!==0&&v===2){var S=Mx(d);S!==0&&(p=S,v=n3(d,S))}if(v===1)throw v=ym,fu(d,0),Wl(d,p),Ps(d,fr()),v;if(v===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,pu(d,_s,jo),Ps(d,fr()),null}function s3(d,p){var v=pn;pn|=1;try{return d(p)}finally{pn=v,pn===0&&(Th=fr()+500,tb&&Ml())}}function hu(d){Ul!==null&&Ul.tag===0&&(pn&6)===0&&Ih();var p=pn;pn|=1;var v=Ca.transition,S=Sn;try{if(Ca.transition=null,Sn=1,d)return d()}finally{Sn=S,Ca.transition=v,pn=p,(pn&6)===0&&Ml()}}function a3(){Xs=jh.current,Wn(jh)}function fu(d,p){d.finishedWork=null,d.finishedLanes=0;var v=d.timeoutHandle;if(v!==-1&&(d.timeoutHandle=-1,aD(v)),Nr!==null)for(v=Nr.return;v!==null;){var S=v;switch(m2(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Xy();break;case 3:Eh(),Wn(js),Wn(ts),j2();break;case 5:S2(S);break;case 4:Eh();break;case 13:Wn(er);break;case 19:Wn(er);break;case 10:x2(S.type._context);break;case 22:case 23:a3()}v=v.return}if($r=d,Nr=d=Hl(d.current,null),Hr=Xs=p,jr=0,ym=null,Y2=Nb=du=0,_s=bm=null,lu!==null){for(p=0;p<lu.length;p++)if(v=lu[p],S=v.interleaved,S!==null){v.interleaved=null;var R=S.next,U=v.pending;if(U!==null){var X=U.next;U.next=R,S.next=X}v.pending=S}lu=null}return d}function US(d,p){do{var v=Nr;try{if(v2(),db.current=mb,hb){for(var S=tr.memoizedState;S!==null;){var R=S.queue;R!==null&&(R.pending=null),S=S.next}hb=!1}if(uu=0,Rr=Ar=tr=null,dm=!1,hm=0,J2.current=null,v===null||v.return===null){jr=1,ym=p,Nr=null;break}e:{var U=d,X=v.return,pe=v,xe=p;if(p=Hr,pe.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var ze=xe,Ze=pe,Je=Ze.tag;if((Ze.mode&1)===0&&(Je===0||Je===11||Je===15)){var Ve=Ze.alternate;Ve?(Ze.updateQueue=Ve.updateQueue,Ze.memoizedState=Ve.memoizedState,Ze.lanes=Ve.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var ct=dS(X);if(ct!==null){ct.flags&=-257,hS(ct,X,pe,U,p),ct.mode&1&&uS(U,ze,p),p=ct,xe=ze;var wt=p.updateQueue;if(wt===null){var Nt=new Set;Nt.add(xe),p.updateQueue=Nt}else wt.add(xe);break e}else{if((p&1)===0){uS(U,ze,p),i3();break e}xe=Error(n(426))}}else if(Zn&&pe.mode&1){var pr=dS(X);if(pr!==null){(pr.flags&65536)===0&&(pr.flags|=256),hS(pr,X,pe,U,p),b2(Sh(xe,pe));break e}}U=xe=Sh(xe,pe),jr!==4&&(jr=2),bm===null?bm=[U]:bm.push(U),U=X;do{switch(U.tag){case 3:U.flags|=65536,p&=-p,U.lanes|=p;var _e=lS(U,xe,p);$8(U,_e);break e;case 1:pe=xe;var Ee=U.type,Oe=U.stateNode;if((U.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Fl===null||!Fl.has(Oe)))){U.flags|=65536,p&=-p,U.lanes|=p;var et=cS(U,pe,p);$8(U,et);break e}}U=U.return}while(U!==null)}HS(v)}catch(Et){p=Et,Nr===v&&v!==null&&(Nr=v=v.return);continue}break}while(!0)}function DS(){var d=xb.current;return xb.current=mb,d===null?mb:d}function i3(){(jr===0||jr===3||jr===2)&&(jr=4),$r===null||(du&268435455)===0&&(Nb&268435455)===0||Wl($r,Hr)}function jb(d,p){var v=pn;pn|=2;var S=DS();($r!==d||Hr!==p)&&(jo=null,fu(d,p));do try{ID();break}catch(R){US(d,R)}while(!0);if(v2(),pn=v,xb.current=S,Nr!==null)throw Error(n(261));return $r=null,Hr=0,jr}function ID(){for(;Nr!==null;)WS(Nr)}function _D(){for(;Nr!==null&&!nU();)WS(Nr)}function WS(d){var p=VS(d.alternate,d,Xs);d.memoizedProps=d.pendingProps,p===null?HS(d):Nr=p,J2.current=null}function HS(d){var p=d;do{var v=p.alternate;if(d=p.return,(p.flags&32768)===0){if(v=kD(v,p,Xs),v!==null){Nr=v;return}}else{if(v=CD(v,p),v!==null){v.flags&=32767,Nr=v;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{jr=6,Nr=null;return}}if(p=p.sibling,p!==null){Nr=p;return}Nr=p=d}while(p!==null);jr===0&&(jr=5)}function pu(d,p,v){var S=Sn,R=Ca.transition;try{Ca.transition=null,Sn=1,PD(d,p,v,S)}finally{Ca.transition=R,Sn=S}return null}function PD(d,p,v,S){do Ih();while(Ul!==null);if((pn&6)!==0)throw Error(n(327));v=d.finishedWork;var R=d.finishedLanes;if(v===null)return null;if(d.finishedWork=null,d.finishedLanes=0,v===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var U=v.lanes|v.childLanes;if(hU(d,U),d===$r&&(Nr=$r=null,Hr=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Cb||(Cb=!0,ZS(Py,function(){return Ih(),null})),U=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||U){U=Ca.transition,Ca.transition=null;var X=Sn;Sn=1;var pe=pn;pn|=4,J2.current=null,SD(d,v),RS(v,d),YU(o2),By=!!i2,o2=i2=null,d.current=v,AD(v),rU(),pn=pe,Sn=X,Ca.transition=U}else d.current=v;if(Cb&&(Cb=!1,Ul=d,Eb=R),U=d.pendingLanes,U===0&&(Fl=null),iU(v.stateNode),Ps(d,fr()),p!==null)for(S=d.onRecoverableError,v=0;v<p.length;v++)R=p[v],S(R.value,{componentStack:R.stack,digest:R.digest});if(kb)throw kb=!1,d=e3,e3=null,d;return(Eb&1)!==0&&d.tag!==0&&Ih(),U=d.pendingLanes,(U&1)!==0?d===t3?wm++:(wm=0,t3=d):wm=0,Ml(),null}function Ih(){if(Ul!==null){var d=_E(Eb),p=Ca.transition,v=Sn;try{if(Ca.transition=null,Sn=16>d?16:d,Ul===null)var S=!1;else{if(d=Ul,Ul=null,Eb=0,(pn&6)!==0)throw Error(n(331));var R=pn;for(pn|=4,mt=d.current;mt!==null;){var U=mt,X=U.child;if((mt.flags&16)!==0){var pe=U.deletions;if(pe!==null){for(var xe=0;xe<pe.length;xe++){var ze=pe[xe];for(mt=ze;mt!==null;){var Ze=mt;switch(Ze.tag){case 0:case 11:case 15:gm(8,Ze,U)}var Je=Ze.child;if(Je!==null)Je.return=Ze,mt=Je;else for(;mt!==null;){Ze=mt;var Ve=Ze.sibling,ct=Ze.return;if(TS(Ze),Ze===ze){mt=null;break}if(Ve!==null){Ve.return=ct,mt=Ve;break}mt=ct}}}var wt=U.alternate;if(wt!==null){var Nt=wt.child;if(Nt!==null){wt.child=null;do{var pr=Nt.sibling;Nt.sibling=null,Nt=pr}while(Nt!==null)}}mt=U}}if((U.subtreeFlags&2064)!==0&&X!==null)X.return=U,mt=X;else e:for(;mt!==null;){if(U=mt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:gm(9,U,U.return)}var _e=U.sibling;if(_e!==null){_e.return=U.return,mt=_e;break e}mt=U.return}}var Ee=d.current;for(mt=Ee;mt!==null;){X=mt;var Oe=X.child;if((X.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=X,mt=Oe;else e:for(X=Ee;mt!==null;){if(pe=mt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:vb(9,pe)}}catch(Et){or(pe,pe.return,Et)}if(pe===X){mt=null;break e}var et=pe.sibling;if(et!==null){et.return=pe.return,mt=et;break e}mt=pe.return}}if(pn=R,Ml(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(Oy,d)}catch{}S=!0}return S}finally{Sn=v,Ca.transition=p}}return!1}function GS(d,p,v){p=Sh(v,p),p=lS(d,p,1),d=Ll(d,p,1),p=us(),d!==null&&(Wp(d,1,p),Ps(d,p))}function or(d,p,v){if(d.tag===3)GS(d,d,v);else for(;p!==null;){if(p.tag===3){GS(p,d,v);break}else if(p.tag===1){var S=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Fl===null||!Fl.has(S))){d=Sh(v,d),d=cS(p,d,1),p=Ll(p,d,1),d=us(),p!==null&&(Wp(p,1,d),Ps(p,d));break}}p=p.return}}function OD(d,p,v){var S=d.pingCache;S!==null&&S.delete(p),p=us(),d.pingedLanes|=d.suspendedLanes&v,$r===d&&(Hr&v)===v&&(jr===4||jr===3&&(Hr&130023424)===Hr&&500>fr()-X2?fu(d,0):Y2|=v),Ps(d,p)}function qS(d,p){p===0&&((d.mode&1)===0?p=1:(p=$y,$y<<=1,($y&130023424)===0&&($y=4194304)));var v=us();d=Eo(d,p),d!==null&&(Wp(d,p,v),Ps(d,v))}function RD(d){var p=d.memoizedState,v=0;p!==null&&(v=p.retryLane),qS(d,v)}function $D(d,p){var v=0;switch(d.tag){case 13:var S=d.stateNode,R=d.memoizedState;R!==null&&(v=R.retryLane);break;case 19:S=d.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(p),qS(d,v)}var VS;VS=function(d,p,v){if(d!==null)if(d.memoizedProps!==p.pendingProps||js.current)Is=!0;else{if((d.lanes&v)===0&&(p.flags&128)===0)return Is=!1,ND(d,p,v);Is=(d.flags&131072)!==0}else Is=!1,Zn&&(p.flags&1048576)!==0&&E8(p,rb,p.index);switch(p.lanes=0,p.tag){case 2:var S=p.type;bb(d,p),d=p.pendingProps;var R=bh(p,ts.current);Ch(p,v),R=_2(null,p,S,d,R,v);var U=P2();return p.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ts(S)?(U=!0,eb(p)):U=!1,p.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,C2(p),R.updater=gb,p.stateNode=R,R._reactInternals=p,L2(p,S,d,v),p=D2(null,p,S,!0,U,v)):(p.tag=0,Zn&&U&&p2(p),cs(null,p,R,v),p=p.child),p;case 16:S=p.elementType;e:{switch(bb(d,p),d=p.pendingProps,R=S._init,S=R(S._payload),p.type=S,R=p.tag=zD(S),d=Qa(S,d),R){case 0:p=U2(null,p,S,d,v);break e;case 1:p=bS(null,p,S,d,v);break e;case 11:p=fS(null,p,S,d,v);break e;case 14:p=pS(null,p,S,Qa(S.type,d),v);break e}throw Error(n(306,S,""))}return p;case 0:return S=p.type,R=p.pendingProps,R=p.elementType===S?R:Qa(S,R),U2(d,p,S,R,v);case 1:return S=p.type,R=p.pendingProps,R=p.elementType===S?R:Qa(S,R),bS(d,p,S,R,v);case 3:e:{if(wS(p),d===null)throw Error(n(387));S=p.pendingProps,U=p.memoizedState,R=U.element,R8(d,p),cb(p,S,null,v);var X=p.memoizedState;if(S=X.element,U.isDehydrated)if(U={element:S,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},p.updateQueue.baseState=U,p.memoizedState=U,p.flags&256){R=Sh(Error(n(423)),p),p=vS(d,p,S,v,R);break e}else if(S!==R){R=Sh(Error(n(424)),p),p=vS(d,p,S,v,R);break e}else for(Ys=Ol(p.stateNode.containerInfo.firstChild),Js=p,Zn=!0,Ka=null,v=P8(p,null,S,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(xh(),S===R){p=Ao(d,p,v);break e}cs(d,p,S,v)}p=p.child}return p;case 5:return z8(p),d===null&&y2(p),S=p.type,R=p.pendingProps,U=d!==null?d.memoizedProps:null,X=R.children,l2(S,R)?X=null:U!==null&&l2(S,U)&&(p.flags|=32),yS(d,p),cs(d,p,X,v),p.child;case 6:return d===null&&y2(p),null;case 13:return xS(d,p,v);case 4:return E2(p,p.stateNode.containerInfo),S=p.pendingProps,d===null?p.child=Nh(p,null,S,v):cs(d,p,S,v),p.child;case 11:return S=p.type,R=p.pendingProps,R=p.elementType===S?R:Qa(S,R),fS(d,p,S,R,v);case 7:return cs(d,p,p.pendingProps,v),p.child;case 8:return cs(d,p,p.pendingProps.children,v),p.child;case 12:return cs(d,p,p.pendingProps.children,v),p.child;case 10:e:{if(S=p.type._context,R=p.pendingProps,U=p.memoizedProps,X=R.value,Fn(ib,S._currentValue),S._currentValue=X,U!==null)if(Za(U.value,X)){if(U.children===R.children&&!js.current){p=Ao(d,p,v);break e}}else for(U=p.child,U!==null&&(U.return=p);U!==null;){var pe=U.dependencies;if(pe!==null){X=U.child;for(var xe=pe.firstContext;xe!==null;){if(xe.context===S){if(U.tag===1){xe=So(-1,v&-v),xe.tag=2;var ze=U.updateQueue;if(ze!==null){ze=ze.shared;var Ze=ze.pending;Ze===null?xe.next=xe:(xe.next=Ze.next,Ze.next=xe),ze.pending=xe}}U.lanes|=v,xe=U.alternate,xe!==null&&(xe.lanes|=v),N2(U.return,v,p),pe.lanes|=v;break}xe=xe.next}}else if(U.tag===10)X=U.type===p.type?null:U.child;else if(U.tag===18){if(X=U.return,X===null)throw Error(n(341));X.lanes|=v,pe=X.alternate,pe!==null&&(pe.lanes|=v),N2(X,v,p),X=U.sibling}else X=U.child;if(X!==null)X.return=U;else for(X=U;X!==null;){if(X===p){X=null;break}if(U=X.sibling,U!==null){U.return=X.return,X=U;break}X=X.return}U=X}cs(d,p,R.children,v),p=p.child}return p;case 9:return R=p.type,S=p.pendingProps.children,Ch(p,v),R=Na(R),S=S(R),p.flags|=1,cs(d,p,S,v),p.child;case 14:return S=p.type,R=Qa(S,p.pendingProps),R=Qa(S.type,R),pS(d,p,S,R,v);case 15:return mS(d,p,p.type,p.pendingProps,v);case 17:return S=p.type,R=p.pendingProps,R=p.elementType===S?R:Qa(S,R),bb(d,p),p.tag=1,Ts(S)?(d=!0,eb(p)):d=!1,Ch(p,v),iS(p,S,R),L2(p,S,R,v),D2(null,p,S,!0,d,v);case 19:return kS(d,p,v);case 22:return gS(d,p,v)}throw Error(n(156,p.tag))};function ZS(d,p){return Up(d,p)}function MD(d,p,v,S){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(d,p,v,S){return new MD(d,p,v,S)}function o3(d){return d=d.prototype,!(!d||!d.isReactComponent)}function zD(d){if(typeof d=="function")return o3(d)?1:0;if(d!=null){if(d=d.$$typeof,d===M)return 11;if(d===z)return 14}return 2}function Hl(d,p){var v=d.alternate;return v===null?(v=Ea(d.tag,p,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=p,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&14680064,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,p=d.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v}function Tb(d,p,v,S,R,U){var X=2;if(S=d,typeof d=="function")o3(d)&&(X=1);else if(typeof d=="string")X=5;else e:switch(d){case _:return mu(v.children,R,U,p);case P:X=8,R|=8;break;case I:return d=Ea(12,v,p,R|2),d.elementType=I,d.lanes=U,d;case B:return d=Ea(13,v,p,R),d.elementType=B,d.lanes=U,d;case O:return d=Ea(19,v,p,R),d.elementType=O,d.lanes=U,d;case Z:return Ib(v,R,U,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case $:X=10;break e;case H:X=9;break e;case M:X=11;break e;case z:X=14;break e;case G:X=16,S=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return p=Ea(X,v,p,R),p.elementType=d,p.type=S,p.lanes=U,p}function mu(d,p,v,S){return d=Ea(7,d,S,p),d.lanes=v,d}function Ib(d,p,v,S){return d=Ea(22,d,S,p),d.elementType=Z,d.lanes=v,d.stateNode={isHidden:!1},d}function l3(d,p,v){return d=Ea(6,d,null,p),d.lanes=v,d}function c3(d,p,v){return p=Ea(4,d.children!==null?d.children:[],d.key,p),p.lanes=v,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function LD(d,p,v,S,R){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zx(0),this.expirationTimes=zx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zx(0),this.identifierPrefix=S,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function u3(d,p,v,S,R,U,X,pe,xe){return d=new LD(d,p,v,pe,xe),p===1?(p=1,U===!0&&(p|=8)):p=0,U=Ea(3,null,null,p),d.current=U,U.stateNode=d,U.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},C2(U),d}function BD(d,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:S==null?null:""+S,children:d,containerInfo:p,implementation:v}}function KS(d){if(!d)return $l;d=d._reactInternals;e:{if(st(d)!==d||d.tag!==1)throw Error(n(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ts(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(d.tag===1){var v=d.type;if(Ts(v))return N8(d,v,p)}return p}function QS(d,p,v,S,R,U,X,pe,xe){return d=u3(v,S,!0,d,R,U,X,pe,xe),d.context=KS(null),v=d.current,S=us(),R=Dl(v),U=So(S,R),U.callback=p??null,Ll(v,U,R),d.current.lanes=R,Wp(d,R,S),Ps(d,S),d}function _b(d,p,v,S){var R=p.current,U=us(),X=Dl(R);return v=KS(v),p.context===null?p.context=v:p.pendingContext=v,p=So(U,X),p.payload={element:d},S=S===void 0?null:S,S!==null&&(p.callback=S),d=Ll(R,p,X),d!==null&&(Xa(d,R,X,U),lb(d,R,X)),X}function Pb(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function JS(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<p?v:p}}function d3(d,p){JS(d,p),(d=d.alternate)&&JS(d,p)}function FD(){return null}var YS=typeof reportError=="function"?reportError:function(d){console.error(d)};function h3(d){this._internalRoot=d}Ob.prototype.render=h3.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));_b(d,p,null,null)},Ob.prototype.unmount=h3.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;hu(function(){_b(null,d,null,null)}),p[xo]=null}};function Ob(d){this._internalRoot=d}Ob.prototype.unstable_scheduleHydration=function(d){if(d){var p=RE();d={blockedOn:null,target:d,priority:p};for(var v=0;v<Il.length&&p!==0&&p<Il[v].priority;v++);Il.splice(v,0,d),v===0&&zE(d)}};function f3(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Rb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function XS(){}function UD(d,p,v,S,R){if(R){if(typeof S=="function"){var U=S;S=function(){var ze=Pb(X);U.call(ze)}}var X=QS(p,S,d,0,null,!1,!1,"",XS);return d._reactRootContainer=X,d[xo]=X.current,rm(d.nodeType===8?d.parentNode:d),hu(),X}for(;R=d.lastChild;)d.removeChild(R);if(typeof S=="function"){var pe=S;S=function(){var ze=Pb(xe);pe.call(ze)}}var xe=u3(d,0,!1,null,null,!1,!1,"",XS);return d._reactRootContainer=xe,d[xo]=xe.current,rm(d.nodeType===8?d.parentNode:d),hu(function(){_b(p,xe,v,S)}),xe}function $b(d,p,v,S,R){var U=v._reactRootContainer;if(U){var X=U;if(typeof R=="function"){var pe=R;R=function(){var xe=Pb(X);pe.call(xe)}}_b(p,X,d,R)}else X=UD(v,p,d,R,S);return Pb(X)}PE=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var v=Dp(p.pendingLanes);v!==0&&(Lx(p,v|1),Ps(p,fr()),(pn&6)===0&&(Th=fr()+500,Ml()))}break;case 13:hu(function(){var S=Eo(d,1);if(S!==null){var R=us();Xa(S,d,1,R)}}),d3(d,1)}},Bx=function(d){if(d.tag===13){var p=Eo(d,134217728);if(p!==null){var v=us();Xa(p,d,134217728,v)}d3(d,134217728)}},OE=function(d){if(d.tag===13){var p=Dl(d),v=Eo(d,p);if(v!==null){var S=us();Xa(v,d,p,S)}d3(d,p)}},RE=function(){return Sn},$E=function(d,p){var v=Sn;try{return Sn=d,p()}finally{Sn=v}},Ht=function(d,p,v){switch(p){case"input":if(ne(d,v),p=v.name,v.type==="radio"&&p!=null){for(v=d;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var S=v[p];if(S!==d&&S.form===d.form){var R=Yy(S);if(!R)throw Error(n(90));Ne(S),ne(S,R)}}}break;case"textarea":$e(d,v);break;case"select":p=v.value,p!=null&&je(d,!!v.multiple,p,!1)}},on=s3,Sl=hu;var DD={usingClientEntryPoint:!1,Events:[im,gh,Yy,Vn,Dr,s3]},vm={findFiberByHostInstance:su,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WD={bundleType:vm.bundleType,version:vm.version,rendererPackageName:vm.rendererPackageName,rendererConfig:vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=_i(d),d===null?null:d.stateNode},findFiberByHostInstance:vm.findFiberByHostInstance||FD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mb.isDisabled&&Mb.supportsFiber)try{Oy=Mb.inject(WD),Pi=Mb}catch{}}return Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DD,Os.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f3(p))throw Error(n(200));return BD(d,p,null,v)},Os.createRoot=function(d,p){if(!f3(d))throw Error(n(299));var v=!1,S="",R=YS;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onRecoverableError!==void 0&&(R=p.onRecoverableError)),p=u3(d,1,!1,null,null,v,!1,S,R),d[xo]=p.current,rm(d.nodeType===8?d.parentNode:d),new h3(p)},Os.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=_i(p),d=d===null?null:d.stateNode,d},Os.flushSync=function(d){return hu(d)},Os.hydrate=function(d,p,v){if(!Rb(p))throw Error(n(200));return $b(null,d,p,!0,v)},Os.hydrateRoot=function(d,p,v){if(!f3(d))throw Error(n(405));var S=v!=null&&v.hydratedSources||null,R=!1,U="",X=YS;if(v!=null&&(v.unstable_strictMode===!0&&(R=!0),v.identifierPrefix!==void 0&&(U=v.identifierPrefix),v.onRecoverableError!==void 0&&(X=v.onRecoverableError)),p=QS(p,null,d,1,v??null,R,!1,U,X),d[xo]=p.current,rm(d),S)for(d=0;d<S.length;d++)v=S[d],R=v._getVersion,R=R(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,R]:p.mutableSourceEagerHydrationData.push(v,R);return new Ob(p)},Os.render=function(d,p,v){if(!Rb(p))throw Error(n(200));return $b(null,d,p,!1,v)},Os.unmountComponentAtNode=function(d){if(!Rb(d))throw Error(n(40));return d._reactRootContainer?(hu(function(){$b(null,null,d,!1,function(){d._reactRootContainer=null,d[xo]=null})}),!0):!1},Os.unstable_batchedUpdates=s3,Os.unstable_renderSubtreeIntoContainer=function(d,p,v,S){if(!Rb(v))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return $b(d,p,v,!1,S)},Os.version="18.3.1-next-f1338f8080-20240426",Os}var lA;function N9(){if(lA)return p3.exports;lA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),p3.exports=ZD(),p3.exports}var k9=t=>{throw TypeError(t)},vk=(t,e,n)=>e.has(t)||k9("Cannot "+n),ve=(t,e,n)=>(vk(t,e,"read from private field"),n?n.call(t):e.get(t)),Ft=(t,e,n)=>e.has(t)?k9("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ut=(t,e,n,r)=>(vk(t,e,"write to private field"),e.set(t,n),n),sn=(t,e,n)=>(vk(t,e,"access private method"),n),Y4=(t,e,n,r)=>({set _(s){ut(t,e,s)},get _(){return ve(t,e,r)}});function KD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var cA={exports:{}},xm={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var uA;function QD(){if(uA)return xm;uA=1;var t=Qg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(o,c,u){var h,f={},m=null,g=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)r.call(c,h)&&!a.hasOwnProperty(h)&&(f[h]=c[h]);if(o&&o.defaultProps)for(h in c=o.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:o,key:m,ref:g,props:f,_owner:s.current}}return xm.Fragment=n,xm.jsx=i,xm.jsxs=i,xm}var dA;function JD(){return dA||(dA=1,cA.exports=QD()),cA.exports}var l=JD(),j=Qg();const Ke=xp(j),xk=KD({__proto__:null,default:Ke},[j]),C9="2.33.3";let m3={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${C9}`},He=class X4 extends Error{constructor(e,n={}){const r=n.cause instanceof X4?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof X4&&n.cause.docsPath||n.docsPath,a=m3.getDocsUrl?.({...n,docsPath:s}),i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...m3.version?[`Version: ${m3.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=C9}walk(e){return E9(this,e)}};function E9(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?E9(t.cause,e):e?null:t}let S9=class extends He{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},YD=class extends He{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},XD=class extends He{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},eW=class extends He{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},A9=class extends He{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},j9=class extends He{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}},hA=class extends He{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}};function il(t,{dir:e,size:n=32}={}){return typeof t=="string"?Mc(t,{dir:e,size:n}):tW(t,{dir:e,size:n})}function Mc(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new j9({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function tW(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new j9({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=e==="right";r[a?s:n-s-1]=t[a?s:t.length-s-1]}return r}function vi(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function ur(t){return vi(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function so(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const nW=new TextEncoder;function Np(t,e={}){return typeof t=="number"||typeof t=="bigint"?sW(t,e):typeof t=="boolean"?rW(t,e):vi(t)?Da(t,e):xd(t,e)}function rW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ga(n,{size:e.size}),il(n,{size:e.size})):n}const To={zero:48,nine:57,A:65,F:70,a:97,f:102};function fA(t){if(t>=To.zero&&t<=To.nine)return t-To.zero;if(t>=To.A&&t<=To.F)return t-(To.A-10);if(t>=To.a&&t<=To.f)return t-(To.a-10)}function Da(t,e={}){let n=t;e.size&&(Ga(n,{size:e.size}),n=il(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let i=0,o=0;i<s;i++){const c=fA(r.charCodeAt(o++)),u=fA(r.charCodeAt(o++));if(c===void 0||u===void 0)throw new He(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);a[i]=c*16+u}return a}function sW(t,e){const n=At(t,e);return Da(n)}function xd(t,e={}){const n=nW.encode(t);return typeof e.size=="number"?(Ga(n,{size:e.size}),il(n,{dir:"right",size:e.size})):n}function Ga(t,{size:e}){if(ur(t)>e)throw new eW({givenSize:ur(t),maxSize:e})}function Wa(t,e={}){const{signed:n}=e;e.size&&Ga(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function aW(t,e={}){let n=t;if(e.size&&(Ga(n,{size:e.size}),n=so(n)),so(n)==="0x00")return!1;if(so(n)==="0x01")return!0;throw new XD(n)}function xi(t,e={}){return Number(Wa(t,e))}function T9(t,e={}){let n=Da(t);return e.size&&(Ga(n,{size:e.size}),n=so(n,{dir:"right"})),new TextDecoder().decode(n)}const iW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function co(t,e={}){return typeof t=="number"||typeof t=="bigint"?At(t,e):typeof t=="string"?Id(t,e):typeof t=="boolean"?Nk(t,e):Pr(t,e)}function Nk(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ga(n,{size:e.size}),il(n,{size:e.size})):n}function Pr(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=iW[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ga(r,{size:e.size}),il(r,{dir:"right",size:e.size})):r}function At(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const c=typeof t=="bigint"?"n":"";throw new S9({max:a?`${a}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${t}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?il(o,{size:r}):o}const oW=new TextEncoder;function Id(t,e={}){const n=oW.encode(t);return Pr(n,e)}function Ni(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new bW(t.type);return`${t.name}(${Av(t.inputs,{includeName:e})})`}function Av(t,{includeName:e=!1}={}){return t?t.map(n=>lW(n,{includeName:e})).join(e?", ":","):""}function lW(t,{includeName:e}){return t.type.startsWith("tuple")?`(${Av(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}let cW=class extends He{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},pA=class extends He{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},I9=class extends He{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Av(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}},Jg=class extends He{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},uW=class extends He{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},dW=class extends He{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${ur(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},_9=class extends He{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},hW=class extends He{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}},mA=class extends He{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}},P9=class extends He{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},fW=class extends He{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},O9=class extends He{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}},gA=class extends He{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}},Vf=class extends He{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}},R9=class extends He{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}},pW=class extends He{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}},mW=class extends He{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ni(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Ni(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},$9=class extends He{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}},ug=class extends He{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Av(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}},jv=class extends He{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ni(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},gW=class extends He{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}},yW=class extends He{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}},M9=class extends He{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},bW=class extends He{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},wW=class extends He{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}};function ki(t){return typeof t[0]=="string"?Jc(t):vW(t)}function vW(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function Jc(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}let dl=class extends He{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Yg=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const zb=BigInt(2**32-1),yA=BigInt(32);function xW(t,e=!1){return e?{h:Number(t&zb),l:Number(t>>yA&zb)}:{h:Number(t>>yA&zb)|0,l:Number(t&zb)|0}}function NW(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:i,l:o}=xW(t[a],e);[r[a],s[a]]=[i,o]}return[r,s]}const kW=(t,e,n)=>t<<n|e>>>32-n,CW=(t,e,n)=>e<<n|t>>>32-n,EW=(t,e,n)=>e<<n-32|t>>>64-n,SW=(t,e,n)=>t<<n-32|e>>>64-n,_h=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kk(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Ci(t,...e){if(!kk(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function AW(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");dg(t.outputLen),dg(t.blockLen)}function Zf(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function z9(t,e){Ci(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function jW(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Kf(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function g3(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function zi(t,e){return t<<32-e|t>>>e}const TW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function IW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function _W(t){for(let e=0;e<t.length;e++)t[e]=IW(t[e]);return t}const bA=TW?t=>t:_W,L9=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",PW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hg(t){if(Ci(t),L9)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=PW[t[n]];return e}const Io={_0:48,_9:57,A:65,F:70,a:97,f:102};function wA(t){if(t>=Io._0&&t<=Io._9)return t-Io._0;if(t>=Io.A&&t<=Io.F)return t-(Io.A-10);if(t>=Io.a&&t<=Io.f)return t-(Io.a-10)}function Ck(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(L9)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const i=wA(t.charCodeAt(a)),o=wA(t.charCodeAt(a+1));if(i===void 0||o===void 0){const c=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[s]=i*16+o}return r}function OW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Tv(t){return typeof t=="string"&&(t=OW(t)),Ci(t),t}function id(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];Ci(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const a=t[r];n.set(a,s),s+=a.length}return n}let Ek=class{};function B9(t){const e=r=>t().update(Tv(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function RW(t=32){if(_h&&typeof _h.getRandomValues=="function")return _h.getRandomValues(new Uint8Array(t));if(_h&&typeof _h.randomBytes=="function")return Uint8Array.from(_h.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const $W=BigInt(0),Nm=BigInt(1),MW=BigInt(2),zW=BigInt(7),LW=BigInt(256),BW=BigInt(113),F9=[],U9=[],D9=[];for(let t=0,e=Nm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],F9.push(2*(5*r+n)),U9.push((t+1)*(t+2)/2%64);let s=$W;for(let a=0;a<7;a++)e=(e<<Nm^(e>>zW)*BW)%LW,e&MW&&(s^=Nm<<(Nm<<BigInt(a))-Nm);D9.push(s)}const W9=NW(D9,!0),FW=W9[0],UW=W9[1],vA=(t,e,n)=>n>32?EW(t,e,n):kW(t,e,n),xA=(t,e,n)=>n>32?SW(t,e,n):CW(t,e,n);function DW(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],h=n[c+1],f=vA(u,h,1)^n[o],m=xA(u,h,1)^n[o+1];for(let g=0;g<50;g+=10)t[i+g]^=f,t[i+g+1]^=m}let s=t[2],a=t[3];for(let i=0;i<24;i++){const o=U9[i],c=vA(s,a,o),u=xA(s,a,o),h=F9[i];s=t[h],a=t[h+1],t[h]=c,t[h+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=t[i+o];for(let o=0;o<10;o++)t[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=FW[r],t[1]^=UW[r]}Kf(n)}let WW=class H9 extends Ek{constructor(e,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,dg(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=jW(this.state)}clone(){return this._cloneInto()}keccak(){bA(this.state32),DW(this.state32,this.rounds),bA(this.state32),this.posOut=0,this.pos=0}update(e){Zf(this),e=Tv(e),Ci(e);const{blockLen:n,state:r}=this,s=e.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Zf(this,!1),Ci(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return dg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(z9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Kf(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return e||(e=new H9(n,r,s,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=i,e.destroyed=this.destroyed,e}};const HW=(t,e,n)=>B9(()=>new WW(e,t,n)),GW=HW(1,136,256/8);function Qr(t,e){const n=e||"hex",r=GW(vi(t,{strict:!1})?Np(t):t);return n==="bytes"?r:co(r)}const y3=new Yg(8192);function Iv(t,e){if(y3.has(`${t}.${e}`))return y3.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),r=Qr(xd(n),"bytes"),s=(e?n.substring(`${e}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const a=`0x${s.join("")}`;return y3.set(`${t}.${e}`,a),a}function Tc(t,e){if(!ma(t,{strict:!1}))throw new dl({address:t});return Iv(t,e)}const qW=/^0x[a-fA-F0-9]{40}$/,b3=new Yg(8192);function ma(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(b3.has(r))return b3.get(r);const s=qW.test(t)?t.toLowerCase()===t?!0:n?Iv(t)===t:!0:!1;return b3.set(r,s),s}function Qf(t,e,n,{strict:r}={}){return vi(t,{strict:!1})?yw(t,e,n,{strict:r}):V9(t,e,n,{strict:r})}function G9(t,e){if(typeof e=="number"&&e>0&&e>ur(t)-1)throw new A9({offset:e,position:"start",size:ur(t)})}function q9(t,e,n){if(typeof e=="number"&&typeof n=="number"&&ur(t)!==n-e)throw new A9({offset:n,position:"end",size:ur(t)})}function V9(t,e,n,{strict:r}={}){G9(t,e);const s=t.slice(e,n);return r&&q9(s,e,n),s}function yw(t,e,n,{strict:r}={}){G9(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&q9(s,e,n),s}const VW=/^(.*)\[([0-9]*)\]$/,Z9=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Sk=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function bl(t,e){if(t.length!==e.length)throw new _9({expectedLength:t.length,givenLength:e.length});const n=ZW({params:t,values:e}),r=jk(n);return r.length===0?"0x":r}function ZW({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(Ak({param:t[r],value:e[r]}));return n}function Ak({param:t,value:e}){const n=Tk(t.type);if(n){const[r,s]=n;return QW(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return tH(e,{param:t});if(t.type==="address")return KW(e);if(t.type==="bool")return YW(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=Sk.exec(t.type)??[];return XW(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return JW(e,{param:t});if(t.type==="string")return eH(e);throw new gW(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function jk(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:i,encoded:o}=t[a];i?e+=32:e+=ur(o)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:i,encoded:o}=t[a];i?(n.push(At(e+s,{size:32})),r.push(o),s+=ur(o)):n.push(o)}return ki([...n,...r])}function KW(t){if(!ma(t))throw new dl({address:t});return{dynamic:!1,encoded:Mc(t.toLowerCase())}}function QW(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new M9(t);if(!r&&t.length!==e)throw new uW({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const a=[];for(let i=0;i<t.length;i++){const o=Ak({param:n,value:t[i]});o.dynamic&&(s=!0),a.push(o)}if(r||s){const i=jk(a);if(r){const o=At(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ki([o,i]):o}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ki(a.map(({encoded:i})=>i))}}function JW(t,{param:e}){const[,n]=e.type.split("bytes"),r=ur(t);if(!n){let s=t;return r%32!==0&&(s=Mc(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:ki([Mc(At(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new dW({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Mc(t,{dir:"right"})}}function YW(t){if(typeof t!="boolean")throw new He(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Mc(Nk(t))}}function XW(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new S9({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:At(t,{size:32,signed:e})}}function eH(t){const e=Id(t),n=Math.ceil(ur(e)/32),r=[];for(let s=0;s<n;s++)r.push(Mc(Qf(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ki([Mc(At(ur(e),{size:32})),...r])}}function tH(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const a=e.components[s],i=Array.isArray(t)?s:a.name,o=Ak({param:a,value:t[i]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?jk(r):ki(r.map(({encoded:s})=>s))}}function Tk(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const w3="/docs/contract/encodeDeployData";function Ik(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new cW({docsPath:w3});if(!("inputs"in s))throw new pA({docsPath:w3});if(!s.inputs||s.inputs.length===0)throw new pA({docsPath:w3});const a=bl(s.inputs,n);return Jc([r,a])}function Yr(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}let _v=class extends He{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},v3=class extends He{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}};function nH(t){const e=Qr(`0x${t.substring(4)}`).substring(26);return Iv(`0x${e}`)}const rH="modulepreload",sH=function(t){return"/"+t},NA={},ol=function(t,e,n){let r=Promise.resolve();if(e&&e.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");r=a(e.map(c=>{if(c=sH(c),c in NA)return;NA[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rH,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})};async function aH({hash:t,signature:e}){const n=vi(t)?t:co(t),{secp256k1:r}=await ol(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>ZK);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:o,s:c,v:u,yParity:h}=e,f=Number(h??u),m=kA(f);return new r.Signature(Wa(o),Wa(c)).addRecoveryBit(m)}const s=vi(e)?e:co(e);if(ur(s)!==65)throw new Error("invalid signature length");const a=xi(`0x${s.slice(130)}`),i=kA(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function kA(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function K9({hash:t,signature:e}){return nH(await aH({hash:t,signature:e}))}let CA=class extends He{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Q9=class extends He{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},iH=class extends He{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const oH={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new iH({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Q9({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new CA({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new CA({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function _k(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(oH);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function lH(t,e="hex"){const n=J9(t),r=_k(new Uint8Array(n.length));return n.encode(r),e==="hex"?Pr(r.bytes):r.bytes}function J9(t){return Array.isArray(t)?cH(t.map(e=>J9(e))):uH(t)}function cH(t){const e=t.reduce((r,s)=>r+s.length,0),n=Y9(e);return{length:e<=55?1+e:1+n+e,encode(r){e<=55?r.pushByte(192+e):(r.pushByte(247+n),n===1?r.pushUint8(e):n===2?r.pushUint16(e):n===3?r.pushUint24(e):r.pushUint32(e));for(const{encode:s}of t)s(r)}}}function uH(t){const e=typeof t=="string"?Da(t):t,n=Y9(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(r){e.length===1&&e[0]<128?r.pushBytes(e):e.length<=55?(r.pushByte(128+e.length),r.pushBytes(e)):(r.pushByte(183+n),n===1?r.pushUint8(e.length):n===2?r.pushUint16(e.length):n===3?r.pushUint24(e.length):r.pushUint32(e.length),r.pushBytes(e))}}}function Y9(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new He("Length is too large.")}function dH(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,a=Qr(Jc(["0x05",lH([e?At(e):"0x",s,n?At(n):"0x"])]));return r==="bytes"?Da(a):a}async function X9(t){const{authorization:e,signature:n}=t;return K9({hash:dH(e),signature:n??e})}let eN=class extends He{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},hH=class extends He{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`],name:"ChainMismatchError"})}},fH=class extends He{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},eP=class extends He{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}};function pH({chain:t,currentChainId:e}){if(!t)throw new fH;if(e!==t.id)throw new hH({chain:t,currentChainId:e})}const mH={gwei:9,wei:18},gH={ether:-9,wei:9},yH={ether:-18,gwei:-9};function kp(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function Gs(t,e="wei"){return kp(t,gH[e])}class od extends He{constructor({cause:e,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(od,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(od,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});let bw=class extends He{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Gs(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty(bw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});let tN=class extends He{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Gs(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(tN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});let nN=class extends He{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(nN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});let rN=class extends He{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(rN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});let sN=class extends He{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(sN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});let aN=class extends He{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(aN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});let iN=class extends He{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(iN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});let oN=class extends He{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(oN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});let lN=class extends He{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(lN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});let ww=class extends He{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Gs(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Gs(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(ww,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});let Xg=class extends He{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}};function Pk(t,e="wei"){return kp(t,mH[e])}function ey(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}let bH=class extends He{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},wH=class extends He{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ey(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},vH=class extends He{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:h,to:f,value:m}){const g=ey({chain:s&&`${s?.name} (id: ${s?.id})`,from:n?.address,to:f,value:typeof m<"u"&&`${Pk(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${Gs(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Gs(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Gs(u)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},tP=class extends He{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){let i="Transaction";r&&a!==void 0&&(i=`Transaction at block time "${r}" at index "${a}"`),e&&a!==void 0&&(i=`Transaction at block hash "${e}" at index "${a}"`),n&&a!==void 0&&(i=`Transaction at block number "${n}" at index "${a}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}},nP=class extends He{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},xH=class extends He{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}};const Cr=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n),NH=t=>t,ty=t=>t;let Nd=class extends He{constructor({body:e,cause:n,details:r,headers:s,status:a,url:i}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[a&&`Status: ${a}`,`URL: ${ty(i)}`,e&&`Request body: ${Cr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=a,this.url=i}},Ok=class extends He{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ty(r)}`,`Request body: ${Cr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}},EA=class extends He{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ty(n)}`,`Request body: ${Cr(e)}`],name:"TimeoutError"})}};const kH=-1;let Ks=class extends He{constructor(e,{code:n,docsPath:r,metaMessages:s,name:a,shortMessage:i}){super(i,{cause:e,docsPath:r,metaMessages:s||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof Ok?e.code:n??kH}},ga=class extends Ks{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}},cN=class rP extends Ks{constructor(e){super(e,{code:rP.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(cN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});let uN=class sP extends Ks{constructor(e){super(e,{code:sP.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(uN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});let dN=class aP extends Ks{constructor(e,{method:n}={}){super(e,{code:aP.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}};Object.defineProperty(dN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});let hN=class iP extends Ks{constructor(e){super(e,{code:iP.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(hN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});let fg=class oP extends Ks{constructor(e){super(e,{code:oP.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});let pg=class lP extends Ks{constructor(e){super(e,{code:lP.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});let fN=class cP extends Ks{constructor(e){super(e,{code:cP.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(fN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});let Pf=class uP extends Ks{constructor(e){super(e,{code:uP.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(Pf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});let vw=class dP extends Ks{constructor(e){super(e,{code:dP.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(vw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});let Jm=class hP extends Ks{constructor(e,{method:n}={}){super(e,{code:hP.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}};Object.defineProperty(Jm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});let xw=class fP extends Ks{constructor(e){super(e,{code:fP.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(xw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});let pN=class pP extends Ks{constructor(e){super(e,{code:pP.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(pN,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let Vr=class mP extends ga{constructor(e){super(e,{code:mP.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});let mN=class gP extends ga{constructor(e){super(e,{code:gP.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(mN,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});let gN=class yP extends ga{constructor(e,{method:n}={}){super(e,{code:yP.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}};Object.defineProperty(gN,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});let yN=class bP extends ga{constructor(e){super(e,{code:bP.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(yN,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let bN=class wP extends ga{constructor(e){super(e,{code:wP.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(bN,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});let Fc=class vP extends ga{constructor(e){super(e,{code:vP.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(Fc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});let wN=class xP extends ga{constructor(e){super(e,{code:xP.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(wN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});let vN=class NP extends ga{constructor(e){super(e,{code:NP.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(vN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});let xN=class kP extends ga{constructor(e){super(e,{code:kP.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(xN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});let NN=class CP extends ga{constructor(e){super(e,{code:CP.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty(NN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});let kN=class EP extends ga{constructor(e){super(e,{code:EP.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(kN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});let CN=class SP extends ga{constructor(e){super(e,{code:SP.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(CN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});let EN=class AP extends ga{constructor(e){super(e,{code:AP.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(EN,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});let CH=class extends Ks{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}};function Pv(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof He?t.walk(s=>s?.code===od.code):t;return r instanceof He?new od({cause:t,message:r.details}):od.nodeMessage.test(n)?new od({cause:t,message:t.details}):bw.nodeMessage.test(n)?new bw({cause:t,maxFeePerGas:e?.maxFeePerGas}):tN.nodeMessage.test(n)?new tN({cause:t,maxFeePerGas:e?.maxFeePerGas}):nN.nodeMessage.test(n)?new nN({cause:t,nonce:e?.nonce}):rN.nodeMessage.test(n)?new rN({cause:t,nonce:e?.nonce}):sN.nodeMessage.test(n)?new sN({cause:t,nonce:e?.nonce}):aN.nodeMessage.test(n)?new aN({cause:t}):iN.nodeMessage.test(n)?new iN({cause:t,gas:e?.gas}):oN.nodeMessage.test(n)?new oN({cause:t,gas:e?.gas}):lN.nodeMessage.test(n)?new lN({cause:t}):ww.nodeMessage.test(n)?new ww({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Xg({cause:t})}function EH(t,{docsPath:e,...n}){const r=(()=>{const s=Pv(t,n);return s instanceof Xg?t:s})();return new vH(r,{docsPath:e,...n})}function Ov(t,{format:e}){if(!e)return{};const n={};function r(a){const i=Object.keys(a);for(const o of i)o in t&&(n[o]=t[o]),a[o]&&typeof a[o]=="object"&&!Array.isArray(a[o])&&r(a[o])}const s=e(t||{});return r(s),n}const SH={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ny(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=AH(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Pr(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=At(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=At(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=At(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=At(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=At(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=At(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=SH[t.type]),typeof t.value<"u"&&(e.value=At(t.value)),e}function AH(t){return t.map(e=>({address:e.address,r:e.r?At(BigInt(e.r)):e.r,s:e.s?At(BigInt(e.s)):e.s,chainId:At(e.chainId),nonce:At(e.nonce),...typeof e.yParity<"u"?{yParity:At(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:At(e.v)}:{}}))}function Mt(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}const jH=2n**256n-1n;function Cp(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=t,i=e?Yr(e):void 0;if(i&&!ma(i.address))throw new dl({address:i.address});if(a&&!ma(a))throw new dl({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new bH;if(r&&r>jH)throw new bw({maxFeePerGas:r});if(s&&r&&s>r)throw new ww({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function Rv(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return xi(e)}let TH=class extends He{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},Rk=class extends He{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},IH=class extends He{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Gs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}},jP=class extends He{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}};const TP={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function IP(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?xi(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?xi(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?TP[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=_H(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function _H(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function _P(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:IP(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function eo(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,i=n!==void 0?At(n):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,a]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[i||r,a]},{dedupe:!!i}),!o)throw new jP({blockHash:e,blockNumber:n});return(t.chain?.formatters?.block?.format||_P)(o)}async function $k(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function PH(t,e){return PP(t,e)}async function PP(t,e){const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){const o=n||await Mt(t,eo,"getBlock")({}),c=await a({block:o,client:t,request:s});if(c===null)throw new Error;return c}if(typeof a<"u")return a;const i=await t.request({method:"eth_maxPriorityFeePerGas"});return Wa(i)}catch{const[a,i]=await Promise.all([n?Promise.resolve(n):Mt(t,eo,"getBlock")({}),Mt(t,$k,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Rk;const o=i-a.baseFeePerGas;return o<0n?0n:o}}async function OH(t,e){return SN(t,e)}async function SN(t,e){const{block:n,chain:r=t.chain,request:s,type:a="eip1559"}=e||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new TH;const o=10**(i.toString().split(".")[1]?.length??0),c=h=>h*BigInt(Math.ceil(i*o))/BigInt(o),u=n||await Mt(t,eo,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const h=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:c,request:s,type:a});if(h!==null)return h}if(a==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new Rk;const h=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await PP(t,{block:u,chain:r,request:s}),f=c(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??f+h,maxPriorityFeePerGas:h}}return{gasPrice:s?.gasPrice??c(await Mt(t,$k,"getGasPrice")({}))}}let RH=class extends He{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:h,to:f,value:m}){const g=ey({from:n?.address,to:f,value:typeof m<"u"&&`${Pk(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${Gs(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Gs(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Gs(u)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}};function $H(t,{docsPath:e,...n}){const r=(()=>{const s=Pv(t,n);return s instanceof Xg?t:s})();return new RH(r,{docsPath:e,...n})}let MH=class extends He{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},zH=class extends He{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}};function SA(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function LH(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=SA(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=SA(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function AA(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new hA({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new hA({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function BH(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:a}=t,i={};if(a!==void 0&&(i.code=a),e!==void 0&&(i.balance=At(e)),n!==void 0&&(i.nonce=At(n)),r!==void 0&&(i.state=AA(r)),s!==void 0){if(i.state)throw new zH;i.stateDiff=AA(s)}return i}function Mk(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ma(n,{strict:!1}))throw new dl({address:n});if(e[n])throw new MH({address:n});e[n]=BH(r)}return e}async function zk(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?At(n):void 0,a=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(a)}async function $v(t,e){const{account:n=t.account}=e,r=n?Yr(n):void 0;try{let s=function(H){const{block:M,request:B,rpcStateOverride:O}=H;return t.request({method:"eth_estimateGas",params:O?[B,M??t.experimental_blockTag??"latest",O]:M?[B,M]:[B]})};const{accessList:a,authorizationList:i,blobs:o,blobVersionedHashes:c,blockNumber:u,blockTag:h,data:f,gas:m,gasPrice:g,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:x,value:N,stateOverride:E,...C}=await Mv(t,{...e,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),k=(typeof u=="bigint"?At(u):void 0)||h,A=Mk(E),_=await(async()=>{if(C.to)return C.to;if(i&&i.length>0)return await X9({authorization:i[0]}).catch(()=>{throw new He("`to` is required. Could not infer from `authorizationList`")})})();Cp(e);const P=t.chain?.formatters?.transactionRequest?.format,I=(P||ny)({...Ov(C,{format:P}),from:r?.address,accessList:a,authorizationList:i,blobs:o,blobVersionedHashes:c,data:f,gas:m,gasPrice:g,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:x,to:_,value:N});let $=BigInt(await s({block:k,request:I,rpcStateOverride:A}));if(i){const H=await zk(t,{address:I.from}),M=await Promise.all(i.map(async B=>{const{address:O}=B,z=await s({block:k,request:{authorizationList:void 0,data:f,from:r?.address,to:O,value:At(H)},rpcStateOverride:A}).catch(()=>100000n);return 2n*BigInt(z)}));$+=M.reduce((B,O)=>B+O,0n)}return $}catch(s){throw $H(s,{...e,account:r,chain:t.chain})}}async function Lk(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?At(r):n]},{dedupe:!!r});return xi(s)}function OP(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(a=>Da(a)):t.blobs,s=[];for(const a of r)s.push(Uint8Array.from(e.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>Pr(a))}function RP(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Da(i)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(i=>Da(i)):t.commitments,a=[];for(let i=0;i<r.length;i++){const o=r[i],c=s[i];a.push(Uint8Array.from(e.computeBlobKzgProof(o,c)))}return n==="bytes"?a:a.map(i=>Pr(i))}function FH(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),i=Number(n>>s&a),o=Number(n&a),c=r?4:0,u=r?0:4;t.setUint32(e+c,i,r),t.setUint32(e+u,o,r)}function UH(t,e,n){return t&e^~t&n}function DH(t,e,n){return t&e^t&n^e&n}let WH=class extends Ek{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=g3(this.buffer)}update(e){Zf(this),e=Tv(e),Ci(e);const{view:n,buffer:r,blockLen:s}=this,a=e.length;for(let i=0;i<a;){const o=Math.min(s-this.pos,a-i);if(o===s){const c=g3(e);for(;s<=a-i;i+=s)this.process(c,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zf(this),z9(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:i}=this;n[i++]=128,Kf(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let f=i;f<s;f++)n[f]=0;FH(r,s-8,BigInt(this.length*8),a),this.process(r,0);const o=g3(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,h[f],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:i,pos:o}=this;return e.destroyed=i,e.finished=a,e.length=s,e.pos=o,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const ql=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),HH=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vl=new Uint32Array(64);let GH=class extends WH{constructor(e=32){super(64,e,8,!1),this.A=ql[0]|0,this.B=ql[1]|0,this.C=ql[2]|0,this.D=ql[3]|0,this.E=ql[4]|0,this.F=ql[5]|0,this.G=ql[6]|0,this.H=ql[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:i,G:o,H:c}=this;return[e,n,r,s,a,i,o,c]}set(e,n,r,s,a,i,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=i|0,this.G=o|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Vl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const m=Vl[f-15],g=Vl[f-2],b=zi(m,7)^zi(m,18)^m>>>3,y=zi(g,17)^zi(g,19)^g>>>10;Vl[f]=y+Vl[f-7]+b+Vl[f-16]|0}let{A:r,B:s,C:a,D:i,E:o,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){const m=zi(o,6)^zi(o,11)^zi(o,25),g=h+m+UH(o,c,u)+HH[f]+Vl[f]|0,b=(zi(r,2)^zi(r,13)^zi(r,22))+DH(r,s,a)|0;h=u,u=c,c=o,o=i+g|0,i=a,a=s,s=r,r=g+b|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,i=i+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,s,a,i,o,c,u,h)}roundClean(){Kf(Vl)}destroy(){this.set(0,0,0,0,0,0,0,0),Kf(this.buffer)}};const $P=B9(()=>new GH),qH=$P;function VH(t,e){return qH(vi(t,{strict:!1})?Np(t):t)}function ZH(t){const{commitment:e,version:n=1}=t,r=t.to,s=VH(e);return s.set([n],0),r==="bytes"?s:Pr(s)}function KH(t){const{commitments:e,version:n}=t,r=t.to,s=[];for(const a of e)s.push(ZH({commitment:a,to:r,version:n}));return s}const jA=6,MP=32,Bk=4096,zP=MP*Bk,TA=zP*jA-1-1*Bk*jA;let QH=class extends He{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}},JH=class extends He{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}};function YH(t){const e=typeof t.data=="string"?Da(t.data):t.data,n=ur(e);if(!n)throw new JH;if(n>TA)throw new QH({maxSize:TA,size:n});const r=[];let s=!0,a=0;for(;s;){const i=_k(new Uint8Array(zP));let o=0;for(;o<Bk;){const c=e.slice(a,a+(MP-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}o++,a+=31}r.push(i)}return r.map(i=>Pr(i.bytes))}function XH(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??YH({data:e}),a=t.commitments??OP({blobs:s,kzg:n,to:r}),i=t.proofs??RP({blobs:s,commitments:a,kzg:n,to:r}),o=[];for(let c=0;c<s.length;c++)o.push({blob:s[c],commitment:a[c],proof:i[c]});return o}function eG(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new wH({transaction:t})}const LP=["blobVersionedHashes","chainId","fees","gas","nonce","type"],IA=new Map;async function Mv(t,e){const{account:n=t.account,blobs:r,chain:s,gas:a,kzg:i,nonce:o,nonceManager:c,parameters:u=LP,type:h}=e,f=n&&Yr(n),m={...e,...f?{from:f?.address}:{}};let g;async function b(){return g||(g=await Mt(t,eo,"getBlock")({blockTag:"latest"}),g)}let y;async function w(){return y||(s?s.id:typeof e.chainId<"u"?e.chainId:(y=await Mt(t,Rv,"getChainId")({}),y))}if(u.includes("nonce")&&typeof o>"u"&&f)if(c){const x=await w();m.nonce=await c.consume({address:f.address,chainId:x,client:t})}else m.nonce=await Mt(t,Lk,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const x=OP({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const N=KH({commitments:x,to:"hex"});m.blobVersionedHashes=N}if(u.includes("sidecars")){const N=RP({blobs:r,commitments:x,kzg:i}),E=XH({blobs:r,commitments:x,proofs:N,to:"hex"});m.sidecars=E}}if(u.includes("chainId")&&(m.chainId=await w()),(u.includes("fees")||u.includes("type"))&&typeof h>"u")try{m.type=eG(m)}catch{let x=IA.get(t.uid);typeof x>"u"&&(x=typeof(await b())?.baseFeePerGas=="bigint",IA.set(t.uid,x)),m.type=x?"eip1559":"legacy"}if(u.includes("fees"))if(m.type!=="legacy"&&m.type!=="eip2930"){if(typeof m.maxFeePerGas>"u"||typeof m.maxPriorityFeePerGas>"u"){const x=await b(),{maxFeePerGas:N,maxPriorityFeePerGas:E}=await SN(t,{block:x,chain:s,request:m});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<E)throw new IH({maxPriorityFeePerGas:E});m.maxPriorityFeePerGas=E,m.maxFeePerGas=N}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Rk;if(typeof e.gasPrice>"u"){const x=await b(),{gasPrice:N}=await SN(t,{block:x,chain:s,request:m,type:"legacy"});m.gasPrice=N}}return u.includes("gas")&&typeof a>"u"&&(m.gas=await Mt(t,$v,"estimateGas")({...m,account:f&&{address:f.address,type:"json-rpc"}})),Cp(m),delete m.parameters,m}async function BP(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const x3=new Yg(128);async function FP(t,e){const{account:n=t.account,chain:r=t.chain,accessList:s,authorizationList:a,blobs:i,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:g,type:b,value:y,...w}=e;if(typeof n>"u")throw new _v({docsPath:"/docs/actions/wallet/sendTransaction"});const x=n?Yr(n):null;try{Cp(e);const N=await(async()=>{if(e.to)return e.to;if(e.to!==null&&a&&a.length>0)return await X9({authorization:a[0]}).catch(()=>{throw new He("`to` is required. Could not infer from `authorizationList`.")})})();if(x?.type==="json-rpc"||x===null){let E;r!==null&&(E=await Mt(t,Rv,"getChainId")({}),pH({currentChainId:E,chain:r}));const C=t.chain?.formatters?.transactionRequest?.format,k=(C||ny)({...Ov(w,{format:C}),accessList:s,authorizationList:a,blobs:i,chainId:E,data:o,from:x?.address,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:g,to:N,type:b,value:y}),A=x3.get(t.uid),_=A?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:_,params:[k]},{retryCount:0})}catch(P){if(A===!1)throw P;const I=P;if(I.name==="InvalidInputRpcError"||I.name==="InvalidParamsRpcError"||I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then($=>(x3.set(t.uid,!0),$)).catch($=>{const H=$;throw H.name==="MethodNotFoundRpcError"||H.name==="MethodNotSupportedRpcError"?(x3.set(t.uid,!1),I):H});throw I}}if(x?.type==="local"){const E=await Mt(t,Mv,"prepareTransactionRequest")({account:x,accessList:s,authorizationList:a,blobs:i,chain:r,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:m,nonce:g,nonceManager:x.nonceManager,parameters:[...LP,"sidecars"],type:b,value:y,...w,to:N}),C=r?.serializers?.transaction,k=await x.signTransaction(E,{serializer:C});return await Mt(t,BP,"sendRawTransaction")({serializedTransaction:k})}throw x?.type==="smart"?new v3({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new v3({docsPath:"/docs/actions/wallet/sendTransaction",type:x?.type})}catch(N){throw N instanceof v3?N:EH(N,{...e,account:x,chain:e.chain||void 0})}}const AN=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],jN=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],UP=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],DP=[...UP,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],tG=[...UP,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],_A=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],PA=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],OA=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],_2e=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function nG(t,e={}){typeof e.size<"u"&&Ga(t,{size:e.size});const n=Pr(t,e);return Wa(n,e)}function rG(t,e={}){let n=t;if(typeof e.size<"u"&&(Ga(n,{size:e.size}),n=so(n)),n.length>1||n[0]>1)throw new YD(n);return!!n[0]}function ll(t,e={}){typeof e.size<"u"&&Ga(t,{size:e.size});const n=Pr(t,e);return xi(n,e)}function sG(t,e={}){let n=t;return typeof e.size<"u"&&(Ga(n,{size:e.size}),n=so(n,{dir:"right"})),new TextDecoder().decode(n)}function ry(t,e){const n=typeof e=="string"?Da(e):e,r=_k(n);if(ur(n)===0&&t.length>0)throw new Jg;if(ur(e)&&ur(e)<32)throw new I9({data:typeof e=="string"?e:Pr(e),params:t,size:ur(e)});let s=0;const a=[];for(let i=0;i<t.length;++i){const o=t[i];r.setPosition(s);const[c,u]=Of(r,o,{staticPosition:0});s+=u,a.push(c)}return a}function Of(t,e,{staticPosition:n}){const r=Tk(e.type);if(r){const[s,a]=r;return iG(t,{...e,type:a},{length:s,staticPosition:n})}if(e.type==="tuple")return uG(t,e,{staticPosition:n});if(e.type==="address")return aG(t);if(e.type==="bool")return oG(t);if(e.type.startsWith("bytes"))return lG(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return cG(t,e);if(e.type==="string")return dG(t,{staticPosition:n});throw new yW(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const RA=32,TN=32;function aG(t){const e=t.readBytes(32);return[Iv(Pr(V9(e,-20))),32]}function iG(t,e,{length:n,staticPosition:r}){if(!n){const i=ll(t.readBytes(TN)),o=r+i,c=o+RA;t.setPosition(o);const u=ll(t.readBytes(RA)),h=mg(e);let f=0;const m=[];for(let g=0;g<u;++g){t.setPosition(c+(h?g*32:f));const[b,y]=Of(t,e,{staticPosition:c});f+=y,m.push(b)}return t.setPosition(r+32),[m,32]}if(mg(e)){const i=ll(t.readBytes(TN)),o=r+i,c=[];for(let u=0;u<n;++u){t.setPosition(o+u*32);const[h]=Of(t,e,{staticPosition:o});c.push(h)}return t.setPosition(r+32),[c,32]}let s=0;const a=[];for(let i=0;i<n;++i){const[o,c]=Of(t,e,{staticPosition:r+s});s+=c,a.push(o)}return[a,s]}function oG(t){return[rG(t.readBytes(32),{size:32}),32]}function lG(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const a=ll(t.readBytes(32));t.setPosition(n+a);const i=ll(t.readBytes(32));if(i===0)return t.setPosition(n+32),["0x",32];const o=t.readBytes(i);return t.setPosition(n+32),[Pr(o),32]}return[Pr(t.readBytes(Number.parseInt(s),32)),32]}function cG(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?nG(s,{signed:n}):ll(s,{signed:n}),32]}function uG(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:i})=>!i),s=r?[]:{};let a=0;if(mg(e)){const i=ll(t.readBytes(TN)),o=n+i;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(o+a);const[h,f]=Of(t,u,{staticPosition:o});a+=f,s[r?c:u?.name]=h}return t.setPosition(n+32),[s,32]}for(let i=0;i<e.components.length;++i){const o=e.components[i],[c,u]=Of(t,o,{staticPosition:n});s[r?i:o?.name]=c,a+=u}return[s,a]}function dG(t,{staticPosition:e}){const n=ll(t.readBytes(32)),r=e+n;t.setPosition(r);const s=ll(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const a=t.readBytes(s,32),i=sG(so(a));return t.setPosition(e+32),[i,32]}function mg(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(mg);const n=Tk(t.type);return!!(n&&mg({...t,type:n[1]}))}const hG=t=>Qr(Np(t));function fG(t){return hG(t)}const pG="1.0.8";let ya=class IN extends Error{constructor(e,n={}){const r=n.cause instanceof IN?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof IN&&n.cause.docsPath||n.docsPath,a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${pG}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function wl(t,e){return t.exec(e)?.groups}const WP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,HP=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,GP=/^\(.+?\).*?$/,$A=/^tuple(?<array>(\[(\d*)\])*)$/;function _N(t){let e=t.type;if($A.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const a=t.components[s];e+=_N(a),s<n-1&&(e+=", ")}const r=wl($A,t.type);return e+=`)${r?.array??""}`,_N({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function km(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=_N(s),r!==n-1&&(e+=", ")}return e}function Nw(t){return t.type==="function"?`function ${t.name}(${km(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${km(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${km(t.inputs)})`:t.type==="error"?`error ${t.name}(${km(t.inputs)})`:t.type==="constructor"?`constructor(${km(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const qP=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function mG(t){return qP.test(t)}function gG(t){return wl(qP,t)}const VP=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function yG(t){return VP.test(t)}function bG(t){return wl(VP,t)}const ZP=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function wG(t){return ZP.test(t)}function vG(t){return wl(ZP,t)}const KP=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Fk(t){return KP.test(t)}function xG(t){return wl(KP,t)}const QP=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function NG(t){return QP.test(t)}function kG(t){return wl(QP,t)}const JP=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function CG(t){return JP.test(t)}function EG(t){return wl(JP,t)}const SG=/^receive\(\) external payable$/;function AG(t){return SG.test(t)}const jG=new Set(["indexed"]),PN=new Set(["calldata","memory","storage"]);let TG=class extends ya{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},IG=class extends ya{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},_G=class extends ya{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},PG=class extends ya{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},OG=class extends ya{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},RG=class extends ya{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},$G=class extends ya{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},MG=class extends ya{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},Ep=class extends ya{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},zG=class extends ya{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},LG=class extends ya{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},BG=class extends ya{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},FG=class extends ya{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function UG(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const i of s[1])a+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${a}})`}return e?`${e}:${t}${r}`:t}const N3=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function ON(t,e={}){if(wG(t))return DG(t,e);if(yG(t))return WG(t,e);if(mG(t))return HG(t,e);if(NG(t))return GG(t,e);if(CG(t))return qG(t);if(AG(t))return{type:"receive",stateMutability:"payable"};throw new zG({signature:t})}function DG(t,e={}){const n=vG(t);if(!n)throw new Ep({signature:t,type:"function"});const r=fi(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(_d(r[o],{modifiers:PN,structs:e,type:"function"}));const i=[];if(n.returns){const o=fi(n.returns),c=o.length;for(let u=0;u<c;u++)i.push(_d(o[u],{modifiers:PN,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function WG(t,e={}){const n=bG(t);if(!n)throw new Ep({signature:t,type:"event"});const r=fi(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(_d(r[i],{modifiers:jG,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function HG(t,e={}){const n=gG(t);if(!n)throw new Ep({signature:t,type:"error"});const r=fi(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(_d(r[i],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function GG(t,e={}){const n=kG(t);if(!n)throw new Ep({signature:t,type:"constructor"});const r=fi(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(_d(r[i],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function qG(t){const e=EG(t);if(!e)throw new Ep({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const VG=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ZG=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,KG=/^u?int$/;function _d(t,e){const n=UG(t,e?.type,e?.structs);if(N3.has(n))return N3.get(n);const r=GP.test(t),s=wl(r?ZG:VG,t);if(!s)throw new PG({param:t});if(s.name&&JG(s.name))throw new OG({param:t,name:s.name});const a=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},o=e?.structs??{};let c,u={};if(r){c="tuple";const f=fi(s.type),m=[],g=f.length;for(let b=0;b<g;b++)m.push(_d(f[b],{structs:o}));u={components:m}}else if(s.type in o)c="tuple",u={components:o[s.type]};else if(KG.test(s.type))c=`${s.type}256`;else if(c=s.type,e?.type!=="struct"&&!YP(c))throw new _G({type:c});if(s.modifier){if(!e?.modifiers?.has?.(s.modifier))throw new RG({param:t,type:e?.type,modifier:s.modifier});if(PN.has(s.modifier)&&!YG(c,!!s.array))throw new $G({param:t,type:e?.type,modifier:s.modifier})}const h={type:`${c}${s.array??""}`,...a,...i,...u};return N3.set(n,h),h}function fi(t,e=[],n="",r=0){const s=t.trim().length;for(let a=0;a<s;a++){const i=t[a],o=t.slice(a+1);switch(i){case",":return r===0?fi(o,[...e,n.trim()]):fi(o,e,`${n}${i}`,r);case"(":return fi(o,e,`${n}${i}`,r+1);case")":return fi(o,e,`${n}${i}`,r-1);default:return fi(o,e,`${n}${i}`,r)}}if(n==="")return e;if(r!==0)throw new FG({current:n,depth:r});return e.push(n.trim()),e}function YP(t){return t==="address"||t==="bool"||t==="function"||t==="string"||WP.test(t)||HP.test(t)}const QG=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function JG(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||WP.test(t)||HP.test(t)||QG.test(t)}function YG(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function XP(t){const e={},n=t.length;for(let i=0;i<n;i++){const o=t[i];if(!Fk(o))continue;const c=xG(o);if(!c)throw new Ep({signature:o,type:"struct"});const u=c.properties.split(";"),h=[],f=u.length;for(let m=0;m<f;m++){const g=u[m].trim();if(!g)continue;const b=_d(g,{type:"struct"});h.push(b)}if(!h.length)throw new LG({signature:o});e[c.name]=h}const r={},s=Object.entries(e),a=s.length;for(let i=0;i<a;i++){const[o,c]=s[i];r[o]=eO(c,e)}return r}const XG=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function eO(t,e,n=new Set){const r=[],s=t.length;for(let a=0;a<s;a++){const i=t[a];if(GP.test(i.type))r.push(i);else{const o=wl(XG,i.type);if(!o?.type)throw new MG({abiParameter:i});const{array:c,type:u}=o;if(u in e){if(n.has(u))throw new BG({type:u});r.push({...i,type:`tuple${c??""}`,components:eO(e[u]??[],e,new Set([...n,u]))})}else if(YP(u))r.push(i);else throw new IG({type:u})}}return r}function tO(t){const e=XP(t),n=[],r=t.length;for(let s=0;s<r;s++){const a=t[s];Fk(a)||n.push(ON(a,e))}return n}function eq(t){let e;if(typeof t=="string")e=ON(t);else{const n=XP(t),r=t.length;for(let s=0;s<r;s++){const a=t[s];if(!Fk(a)){e=ON(a,n);break}}}if(!e)throw new TG({signature:t});return e}function tq(t){let e=!0,n="",r=0,s="",a=!1;for(let i=0;i<t.length;i++){const o=t[i];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){t[i-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!a)throw new He("Unable to normalize signature.");return s}const nq=t=>{const e=typeof t=="string"?t:Nw(t);return tq(e)};function nO(t){return fG(nq(t))}const zv=nO,sy=t=>Qf(nO(t),0,4);function Jd(t){const{abi:e,args:n=[],name:r}=t,s=vi(r,{strict:!1}),a=e.filter(o=>s?o.type==="function"?sy(o)===r:o.type==="event"?zv(o)===r:!1:"name"in o&&o.name===r);if(a.length===0)return;if(a.length===1)return a[0];let i;for(const o of a)if("inputs"in o){if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)&&n.every((c,u)=>{const h="inputs"in o&&o.inputs[u];return h?RN(c,h):!1})){if(i&&"inputs"in i&&i.inputs){const c=rO(o.inputs,i.inputs,n);if(c)throw new mW({abiItem:o,type:c[0]},{abiItem:i,type:c[1]})}i=o}}return i||a[0]}function RN(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ma(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>RN(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>RN(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function rO(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return rO(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")||(i.includes("address")&&i.includes("string")?ma(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")&&ma(n[r],{strict:!1})))return i}}const k3="/docs/contract/decodeFunctionResult";function Yd(t){const{abi:e,args:n,functionName:r,data:s}=t;let a=e[0];if(r){const o=Jd({abi:e,args:n,name:r});if(!o)throw new Vf(r,{docsPath:k3});a=o}if(a.type!=="function")throw new Vf(void 0,{docsPath:k3});if(!a.outputs)throw new R9(a.name,{docsPath:k3});const i=ry(a.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const MA="/docs/contract/encodeFunctionData";function rq(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const a=Jd({abi:e,args:n,name:r});if(!a)throw new Vf(r,{docsPath:MA});s=a}if(s.type!=="function")throw new Vf(void 0,{docsPath:MA});return{abi:[s],functionName:sy(Ni(s))}}function ji(t){const{args:e}=t,{abi:n,functionName:r}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:rq(t),s=n[0],a=r,i="inputs"in s&&s.inputs?bl(s.inputs,e??[]):void 0;return Jc([a,i??"0x"])}function Sp({blockNumber:t,chain:e,contract:n}){const r=e?.contracts?.[n];if(!r)throw new eN({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new eN({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const sO={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},aO={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},sq={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function iO(t){const{abi:e,data:n}=t,r=Qf(n,0,4);if(r==="0x")throw new Jg;const s=[...e||[],aO,sq].find(a=>a.type==="error"&&r===sy(Ni(a)));if(!s)throw new P9(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ry(s.inputs,Qf(n,4)):void 0,errorName:s.name}}function oO({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof e[a]=="object"?Cr(e[a]):e[a]}`).join(", ")})`}let lO=class extends He{constructor(e,{account:n,docsPath:r,chain:s,data:a,gas:i,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:h,to:f,value:m,stateOverride:g}){const b=n?Yr(n):void 0;let y=ey({from:b?.address,to:f,value:typeof m<"u"&&`${Pk(m)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:a,gas:i,gasPrice:typeof o<"u"&&`${Gs(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${Gs(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Gs(u)} gwei`,nonce:h});g&&(y+=`
${LH(g)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},cO=class extends He{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:i,sender:o}){const c=Jd({abi:n,args:r,name:i}),u=c?oO({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=c?Ni(c,{includeName:!0}):void 0,f=ey({address:s&&NH(s),function:h,args:u&&u!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=i,this.sender=o}},$N=class extends He{constructor({abi:e,data:n,functionName:r,message:s}){let a,i,o,c;if(n&&n!=="0x")try{i=iO({abi:e,data:n});const{abiItem:h,errorName:f,args:m}=i;if(f==="Error")c=m[0];else if(f==="Panic"){const[g]=m;c=sO[g]}else{const g=h?Ni(h,{includeName:!0}):void 0,b=h&&m?oO({abiItem:h,args:m,includeFunctionName:!1,includeName:!1}):void 0;o=[g?`Error: ${g}`:"",b&&b!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(h){a=h}else s&&(c=s);let u;a instanceof P9&&(u=a.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=n,this.reason=c,this.signature=u}},aq=class extends He{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},iq=class extends He{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},Lv=class extends He{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}};function Uk(t,e){if(!(t instanceof He))return!1;const n=t.walk(r=>r instanceof $N);return n instanceof $N?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===sO[50]):!1}function oq(t){const{abi:e,data:n}=t,r=Qf(n,0,4),s=e.find(a=>a.type==="function"&&r===sy(Ni(a)));if(!s)throw new pW(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ry(s.inputs,Qf(n,4)):void 0}}const C3="/docs/contract/encodeErrorResult";function zA(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const c=Jd({abi:e,args:r,name:n});if(!c)throw new mA(n,{docsPath:C3});s=c}if(s.type!=="error")throw new mA(void 0,{docsPath:C3});const a=Ni(s),i=sy(a);let o="0x";if(r&&r.length>0){if(!s.inputs)throw new hW(s.name,{docsPath:C3});o=bl(s.inputs,r)}return Jc([i,o])}const E3="/docs/contract/encodeFunctionResult";function lq(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const i=Jd({abi:e,name:n});if(!i)throw new Vf(n,{docsPath:E3});s=i}if(s.type!=="function")throw new Vf(void 0,{docsPath:E3});if(!s.outputs)throw new R9(s.name,{docsPath:E3});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new M9(r)})();return bl(s.outputs,a)}const Bv="x-batch-gateway:true";async function uO(t){const{data:e,ccipRequest:n}=t,{args:[r]}=oq({abi:jN,data:e}),s=[],a=[];return await Promise.all(r.map(async(i,o)=>{try{a[o]=i.urls.includes(Bv)?await uO({data:i.data,ccipRequest:n}):await n(i),s[o]=!1}catch(c){s[o]=!0,a[o]=cq(c)}})),lq({abi:jN,functionName:"query",result:[s,a]})}function cq(t){return t.name==="HttpRequestError"&&t.status?zA({abi:jN,errorName:"HttpError",args:[t.status,t.shortMessage]}):zA({abi:[aO],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function dO(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return vi(e)?e:null}function S1(t){let e=new Uint8Array(32).fill(0);if(!t)return Pr(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=dO(n[r]),a=s?Np(s):Qr(xd(n[r]),"bytes");e=Qr(ki([e,a]),"bytes")}return Pr(e)}function uq(t){return`[${t.slice(2)}]`}function dq(t){const e=new Uint8Array(32).fill(0);return t?dO(t)||Qr(xd(t)):Pr(e)}function Fv(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(xd(e).byteLength+2);let r=0;const s=e.split(".");for(let a=0;a<s.length;a++){let i=xd(s[a]);i.byteLength>255&&(i=xd(uq(dq(s[a])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const hq=3;function Pd(t,{abi:e,address:n,args:r,docsPath:s,functionName:a,sender:i}){const o=t instanceof Lv?t:t instanceof He?t.walk(b=>"data"in b)||t.walk():{},{code:c,data:u,details:h,message:f,shortMessage:m}=o,g=t instanceof Jg?new aq({functionName:a}):[hq,fg.code].includes(c)&&(u||h||f||m)?new $N({abi:e,data:typeof u=="object"?u.data:u,functionName:a,message:o instanceof Ok?h:m??f}):t;return new cO(g,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:a,sender:i})}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function LA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function kw(t,...e){if(!fq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function BA(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pq(t,e){kw(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mq(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function hO(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const gq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function bq(t){for(let e=0;e<t.length;e++)t[e]=yq(t[e]);return t}const FA=gq?t=>t:bq;function wq(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function fO(t){return typeof t=="string"&&(t=wq(t)),kw(t),t}let vq=class{};function xq(t){const e=r=>t().update(fO(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const Nq="0.1.1";function kq(){return Nq}let vr=class MN extends Error{constructor(e,n={}){const r=(()=>{if(n.cause instanceof MN){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof MN&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${s??""}`,i=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(o=>typeof o=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${kq()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=e}walk(e){return pO(this,e)}};function pO(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?pO(t.cause,e):e?null:t}const Cq="#__bigint";function Eq(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+Cq:s,n)}function Sq(t,e){if(DA(t)>e)throw new Mq({givenSize:DA(t),maxSize:e})}const _o={zero:48,nine:57,A:65,F:70,a:97,f:102};function UA(t){if(t>=_o.zero&&t<=_o.nine)return t-_o.zero;if(t>=_o.A&&t<=_o.F)return t-(_o.A-10);if(t>=_o.a&&t<=_o.f)return t-(_o.a-10)}function Aq(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new zq({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const i=n==="right";s[i?a:r-a-1]=t[i?a:t.length-a-1]}return s}function Dk(t,e){if(Ha(t)>e)throw new Dq({givenSize:Ha(t),maxSize:e})}function jq(t,e){if(typeof e=="number"&&e>0&&e>Ha(t)-1)throw new wO({offset:e,position:"start",size:Ha(t)})}function Tq(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Ha(t)!==n-e)throw new wO({offset:n,position:"end",size:Ha(t)})}function mO(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new Wq({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Iq=new TextEncoder;function _q(t){return t instanceof Uint8Array?t:typeof t=="string"?Oq(t):Pq(t)}function Pq(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Oq(t,e={}){const{size:n}=e;let r=t;n&&(Dk(t,n),r=Rd(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,i=new Uint8Array(a);for(let o=0,c=0;o<a;o++){const u=UA(s.charCodeAt(c++)),h=UA(s.charCodeAt(c++));if(u===void 0||h===void 0)throw new vr(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[o]=u*16+h}return i}function Rq(t,e={}){const{size:n}=e,r=Iq.encode(t);return typeof n=="number"?(Sq(r,n),$q(r,n)):r}function $q(t,e){return Aq(t,{dir:"right",size:e})}function DA(t){return t.length}let Mq=class extends vr{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},zq=class extends vr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Lq=new TextEncoder,Bq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fq(t,e={}){const{strict:n=!1}=e;if(!t)throw new WA(t);if(typeof t!="string")throw new WA(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new HA(t);if(!t.startsWith("0x"))throw new HA(t)}function uo(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function gO(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Dk(n,e.size),Od(n,e.size)):n}function yO(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Bq[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Dk(r,e.size),Rd(r,e.size)):r}function bs(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const c=typeof t=="bigint"?"n":"";throw new bO({max:a?`${a}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${t}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Od(o,r):o}function Wk(t,e={}){return yO(Lq.encode(t),e)}function Od(t,e){return mO(t,{dir:"left",size:e})}function Rd(t,e){return mO(t,{dir:"right",size:e})}function Hk(t,e,n,r={}){const{strict:s}=r;jq(t,e);const a=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&Tq(a,e,n),a}function Ha(t){return Math.ceil((t.length-2)/2)}function Uq(t,e={}){const{strict:n=!1}=e;try{return Fq(t,{strict:n}),!0}catch{return!1}}let bO=class extends vr{constructor({max:e,min:n,signed:r,size:s,value:a}){super(`Number \`${a}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},WA=class extends vr{constructor(e){super(`Value \`${typeof e=="object"?Eq(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},HA=class extends vr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Dq=class extends vr{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},wO=class extends vr{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Wq=class extends vr{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Hq(t){return{address:t.address,amount:bs(t.amount),index:bs(t.index),validatorIndex:bs(t.validatorIndex)}}function vO(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:bs(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:bs(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:bs(t.gasLimit)},...typeof t.number=="bigint"&&{number:bs(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:bs(t.prevRandao)},...typeof t.time=="bigint"&&{time:bs(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Hq)}}}const Gq="0x82ad56cb",xO="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",qq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Vq="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function NO(t,{docsPath:e,...n}){const r=(()=>{const s=Pv(t,n);return s instanceof Xg?t:s})();return new lO(r,{docsPath:e,...n})}function Gk(){let t=()=>{},e=()=>{};return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}}const S3=new Map;function kO({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const h=c();i();const f=h.map(({args:m})=>m);f.length!==0&&t(f).then(m=>{s&&Array.isArray(m)&&m.sort(s);for(let g=0;g<h.length;g++){const{resolve:b}=h[g];b?.([m[g],m])}}).catch(m=>{for(let g=0;g<h.length;g++){const{reject:b}=h[g];b?.(m)}})},i=()=>S3.delete(e),o=()=>c().map(({args:h})=>h),c=()=>S3.get(e)||[],u=h=>S3.set(e,[...c(),h]);return{flush:i,async schedule(h){const{promise:f,resolve:m,reject:g}=Gk();return n?.([...o(),h])&&a(),c().length>0?(u({args:h,resolve:m,reject:g}),f):(u({args:h,resolve:m,reject:g}),setTimeout(a,r),f)}}}async function Ap(t,e){const{account:n=t.account,authorizationList:r,batch:s=!!t.batch?.multicall,blockNumber:a,blockTag:i=t.experimental_blockTag??"latest",accessList:o,blobs:c,blockOverrides:u,code:h,data:f,factory:m,factoryData:g,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:N,nonce:E,to:C,value:k,stateOverride:A,..._}=e,P=n?Yr(n):void 0;if(h&&(m||g))throw new He("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&C)throw new He("Cannot provide both `code` & `to` as parameters.");const I=h&&f,$=m&&g&&C&&f,H=I||$,M=I?Qq({code:h,data:f}):$?Jq({data:f,factory:m,factoryData:g,to:C}):f;try{Cp(e);const B=(typeof a=="bigint"?At(a):void 0)||i,O=u?vO(u):void 0,z=Mk(A),G=t.chain?.formatters?.transactionRequest?.format,Z=(G||ny)({...Ov(_,{format:G}),from:P?.address,accessList:o,authorizationList:r,blobs:c,data:M,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:x,maxPriorityFeePerGas:N,nonce:E,to:H?void 0:C,value:k});if(s&&Zq({request:Z})&&!z&&!O)try{return await Kq(t,{...Z,blockNumber:a,blockTag:i})}catch(ee){if(!(ee instanceof eP)&&!(ee instanceof eN))throw ee}const D=(()=>{const ee=[Z,B];return z&&O?[...ee,z,O]:z?[...ee,z]:O?[...ee,{},O]:ee})(),K=await t.request({method:"eth_call",params:D});return K==="0x"?{data:void 0}:{data:K}}catch(B){const O=Yq(B),{offchainLookup:z,offchainLookupSignature:G}=await ol(async()=>{const{offchainLookup:Z,offchainLookupSignature:D}=await Promise.resolve().then(()=>$Z);return{offchainLookup:Z,offchainLookupSignature:D}},void 0);if(t.ccipRead!==!1&&O?.slice(0,10)===G&&C)return{data:await z(t,{data:O,to:C})};throw H&&O?.slice(0,10)==="0x101bb98d"?new iq({factory:m}):NO(B,{...e,account:P,chain:t.chain})}}function Zq({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Gq)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Kq(t,e){const{batchSize:n=1024,wait:r=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",data:i,multicallAddress:o,to:c}=e;let u=o;if(!u){if(!t.chain)throw new eP;u=Sp({blockNumber:s,chain:t.chain,contract:"multicall3"})}const h=(typeof s=="bigint"?At(s):void 0)||a,{schedule:f}=kO({id:`${t.uid}.${h}`,wait:r,shouldSplitBatch(b){return b.reduce((y,{data:w})=>y+(w.length-2),0)>n*2},fn:async b=>{const y=b.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),w=ji({abi:AN,args:[y],functionName:"aggregate3"}),x=await t.request({method:"eth_call",params:[{data:w,to:u},h]});return Yd({abi:AN,args:[y],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:m,success:g}]=await f({data:i,to:c});if(!g)throw new Lv({data:m});return m==="0x"?{data:void 0}:{data:m}}function Qq(t){const{code:e,data:n}=t;return Ik({abi:tO(["constructor(bytes, bytes)"]),bytecode:xO,args:[e,n]})}function Jq(t){const{data:e,factory:n,factoryData:r,to:s}=t;return Ik({abi:tO(["constructor(address, bytes, address, bytes)"]),bytecode:qq,args:[s,e,n,r]})}function Yq(t){if(!(t instanceof He))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}async function ho(t,e){const{abi:n,address:r,args:s,functionName:a,...i}=e,o=ji({abi:n,args:s,functionName:a});try{const{data:c}=await Mt(t,Ap,"call")({...i,data:o,to:r});return Yd({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw Pd(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function Xq(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:i,strict:o}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Sp({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),h=c?.ensTlds;if(h&&!h.some(f=>a.endsWith(f)))return null;try{const f=ji({abi:PA,functionName:"addr",...s!=null?{args:[S1(a),BigInt(s)]}:{args:[S1(a)]}}),m={address:u,abi:DP,functionName:"resolve",args:[co(Fv(a)),f,i??[Bv]],blockNumber:n,blockTag:r},g=await Mt(t,ho,"readContract")(m);if(g[0]==="0x")return null;const b=Yd({abi:PA,args:s!=null?[S1(a),BigInt(s)]:void 0,functionName:"addr",data:g[0]});return b==="0x"||so(b)==="0x00"?null:b}catch(f){if(o)throw f;if(Uk(f,"resolve"))return null;throw f}}let eV=class extends He{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},Cm=class extends He{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},qk=class extends He{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},tV=class extends He{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}};const nV=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,rV=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,sV=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,aV=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function iV(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function GA(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function CO({uri:t,gatewayUrls:e}){const n=sV.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=GA(e?.ipfs,"https://ipfs.io"),s=GA(e?.arweave,"https://arweave.net"),a=t.match(nV),{protocol:i,subpath:o,target:c,subtarget:u=""}=a?.groups||{},h=i==="ipns:/"||o==="ipns/",f=i==="ipfs:/"||o==="ipfs/"||rV.test(t);if(t.startsWith("http")&&!h&&!f){let g=t;return e?.arweave&&(g=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((h||f)&&c)return{uri:`${r}/${h?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let m=t.replace(aV,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new qk({uri:t})}function EO(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new eV({data:t});return t.image||t.image_url||t.image_data}async function oV({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(r=>r.json());return await Vk({gatewayUrls:t,uri:EO(n)})}catch{throw new qk({uri:e})}}async function Vk({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=CO({uri:e,gatewayUrls:t});if(r||await iV(n))return n;throw new qk({uri:e})}function lV(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[a,i]=n.split(":"),[o,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Cm({reason:"Only EIP-155 supported"});if(!i)throw new Cm({reason:"Chain ID not found"});if(!c)throw new Cm({reason:"Contract address not found"});if(!s)throw new Cm({reason:"Token ID not found"});if(!o)throw new Cm({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:o.toLowerCase(),contractAddress:c,tokenID:s}}async function cV(t,{nft:e}){if(e.namespace==="erc721")return ho(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ho(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new tV({namespace:e.namespace})}async function uV(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?dV(t,{gatewayUrls:e,record:n}):Vk({uri:n,gatewayUrls:e})}async function dV(t,{gatewayUrls:e,record:n}){const r=lV(n),s=await cV(t,{nft:r}),{uri:a,isOnChain:i,isEncoded:o}=CO({uri:s,gatewayUrls:e});if(i&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=o?atob(a.replace("data:application/json;base64,","")):a,h=JSON.parse(u);return Vk({uri:EO(h),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),oV({gatewayUrls:e,uri:a.replace(/(?:0x)?{id}/,c)})}async function SO(t,e){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:i,strict:o}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Sp({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),h=c?.ensTlds;if(h&&!h.some(f=>a.endsWith(f)))return null;try{const f={address:u,abi:DP,functionName:"resolve",args:[co(Fv(a)),ji({abi:_A,functionName:"text",args:[S1(a),s]}),i??[Bv]],blockNumber:n,blockTag:r},m=await Mt(t,ho,"readContract")(f);if(m[0]==="0x")return null;const g=Yd({abi:_A,functionName:"text",data:m[0]});return g===""?null:g}catch(f){if(o)throw f;if(Uk(f,"resolve"))return null;throw f}}async function hV(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){const c=await Mt(t,SO,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:a,strict:i});if(!c)return null;try{return await uV(t,{record:c,gatewayUrls:r})}catch{return null}}async function fV(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:i}){let o=i;if(!o){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Sp({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:o,abi:tG,functionName:"reverse",args:[co(Fv(c))],blockNumber:n,blockTag:r},h=Mt(t,ho,"readContract"),[f,m]=s?await h({...u,args:[...u.args,s]}):await h(u);return e.toLowerCase()!==m.toLowerCase()?null:f}catch(u){if(a)throw u;if(Uk(u,"reverse"))return null;throw u}}async function pV(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:a}=t,i=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return Sp({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),o=a?.ensTlds;if(o&&!o.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${o?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await Mt(t,ho,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[co(Fv(s))],blockNumber:n,blockTag:r});return c}async function AO(t,e){const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,to:m,value:g,...b}=e,y=n?Yr(n):void 0;try{Cp(e);const w=(typeof r=="bigint"?At(r):void 0)||s,x=t.chain?.formatters?.transactionRequest?.format,N=(x||ny)({...Ov(b,{format:x}),from:y?.address,blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,to:m,value:g}),E=await t.request({method:"eth_createAccessList",params:[N,w]});return{accessList:E.accessList,gasUsed:BigInt(E.gasUsed)}}catch(w){throw NO(w,{...e,account:y,chain:t.chain})}}function Uv(t,{method:e}){const n={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:r,response:s,status:a,transport:i})=>{a==="success"&&e===r&&(n[s]=i.request)}),r=>n[r]||t.request}async function mV(t){const e=Uv(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}let gV=class extends He{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}};const qA="/docs/contract/encodeEventTopics";function ay(t){const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const c=Jd({abi:e,name:n});if(!c)throw new gA(n,{docsPath:qA});s=c}if(s.type!=="event")throw new gA(void 0,{docsPath:qA});const a=Ni(s),i=zv(a);let o=[];if(r&&"inputs"in s){const c=s.inputs?.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(h=>r[h.name])??[]:[];u.length>0&&(o=c?.map((h,f)=>Array.isArray(u[f])?u[f].map((m,g)=>VA({param:h,value:u[f][g]})):typeof u[f]<"u"&&u[f]!==null?VA({param:h,value:u[f]}):null)??[])}return[i,...o]}function VA({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Qr(Np(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new gV(t.type);return bl([t],[e])}async function jO(t,e){const{address:n,abi:r,args:s,eventName:a,fromBlock:i,strict:o,toBlock:c}=e,u=Uv(t,{method:"eth_newFilter"}),h=a?ay({abi:r,args:s,eventName:a}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?At(i):i,toBlock:typeof c=="bigint"?At(c):c,topics:h}]});return{abi:r,args:s,eventName:a,id:f,request:u(f),strict:!!o,type:"event"}}async function TO(t,{address:e,args:n,event:r,events:s,fromBlock:a,strict:i,toBlock:o}={}){const c=s??(r?[r]:void 0),u=Uv(t,{method:"eth_newFilter"});let h=[];c&&(h=[c.flatMap(m=>ay({abi:[m],eventName:m.name,args:n}))],r&&(h=h[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof a=="bigint"?At(a):a,toBlock:typeof o=="bigint"?At(o):o,...h.length?{topics:h}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:u(f),strict:!!i,toBlock:o,type:"event"}}async function IO(t){const e=Uv(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function yV(t,e){const{abi:n,address:r,args:s,functionName:a,dataSuffix:i,...o}=e,c=ji({abi:n,args:s,functionName:a});try{return await Mt(t,$v,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...o})}catch(u){const h=o.account?Yr(o.account):void 0;throw Pd(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:h?.address})}}async function bV(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}const wV=new Map,vV=new Map;function xV(t){const e=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:i=>a.set(s,i)}),n=e(t,wV),r=e(t,vV);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function NV(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=xV(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=t(),r.promise.set(a));try{const i=await a;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const kV=t=>`blockNumber.${t}`;async function iy(t,{cacheTime:e=t.cacheTime}={}){const n=await NV(()=>t.request({method:"eth_blockNumber"}),{cacheKey:kV(t.uid),cacheTime:e});return BigInt(n)}async function CV(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?At(n):void 0;let a;return e?a=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):a=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),xi(a)}async function ZA(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?At(n):void 0,a=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(a!=="0x")return a}function oy(t,e){if(!ma(t,{strict:!1}))throw new dl({address:t});if(!ma(e,{strict:!1}))throw new dl({address:e});return t.toLowerCase()===e.toLowerCase()}const KA="/docs/contract/decodeEventLog";function Zk(t){const{abi:e,data:n,strict:r,topics:s}=t,a=r??!0,[i,...o]=s;if(!i)throw new fW({docsPath:KA});const c=e.find(y=>y.type==="event"&&i===zv(Ni(y)));if(!(c&&"name"in c)||c.type!=="event")throw new O9(i,{docsPath:KA});const{name:u,inputs:h}=c,f=h?.some(y=>!("name"in y&&y.name)),m=f?[]:{},g=h.map((y,w)=>[y,w]).filter(([y])=>"indexed"in y&&y.indexed);for(let y=0;y<g.length;y++){const[w,x]=g[y],N=o[y];if(!N)throw new jv({abiItem:c,param:w});m[f?x:w.name||x]=EV({param:w,value:N})}const b=h.filter(y=>!("indexed"in y&&y.indexed));if(b.length>0){if(n&&n!=="0x")try{const y=ry(b,n);if(y)if(f)for(let w=0;w<h.length;w++)m[w]=m[w]??y.shift();else for(let w=0;w<b.length;w++)m[b[w].name]=y[w]}catch(y){if(a)throw y instanceof I9||y instanceof Q9?new ug({abiItem:c,data:n,params:b,size:ur(n)}):y}else if(a)throw new ug({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(m).length>0?m:void 0}}function EV({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(ry([t],e)||[])[0]}function Kk(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,a=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(i=>{try{const o=e.find(u=>u.type==="event"&&i.topics[0]===zv(u));if(!o)return null;const c=Zk({...i,abi:[o],strict:s});return a&&!a.includes(c.eventName)||!SV({args:c.args,inputs:o.inputs,matchArgs:n})?null:{...c,...i}}catch(o){let c,u;if(o instanceof O9)return null;if(o instanceof ug||o instanceof jv){if(s)return null;c=o.abiItem.name,u=o.abiItem.inputs?.some(h=>!("name"in h&&h.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function SV(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(a,i,o){try{return a.type==="address"?oy(i,o):a.type==="string"||a.type==="bytes"?Qr(Np(i))===o:i===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((a,i)=>{if(a==null)return!0;const o=n[i];return o?(Array.isArray(a)?a:[a]).some(c=>s(o,c,e[i])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,i])=>{if(i==null)return!0;const o=n.find(c=>c.name===a);return o?(Array.isArray(i)?i:[i]).some(c=>s(o,c,e[a])):!1}):!1}function hl(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Qk(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:a,events:i,args:o,strict:c}={}){const u=c??!1,h=i??(a?[a]:void 0);let f=[];h&&(f=[h.flatMap(b=>ay({abi:[b],eventName:b.name,args:i?void 0:o}))],a&&(f=f[0]));let m;n?m=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):m=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?At(r):r,toBlock:typeof s=="bigint"?At(s):s}]});const g=m.map(b=>hl(b));return h?Kk({abi:h,args:o,logs:g,strict:u}):g}async function _O(t,e){const{abi:n,address:r,args:s,blockHash:a,eventName:i,fromBlock:o,toBlock:c,strict:u}=e,h=i?Jd({abi:n,name:i}):void 0,f=h?void 0:n.filter(m=>m.type==="event");return Mt(t,Qk,"getLogs")({address:r,args:s,blockHash:a,event:h,events:f,fromBlock:o,toBlock:c,strict:u})}let AV=class extends He{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}};async function jV(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[a,i,o,c,u,h,f]=await Mt(t,ho,"readContract")({abi:TV,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:o,chainId:Number(c),verifyingContract:u,salt:h},extensions:f,fields:a}}catch(a){const i=a;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new AV({address:n}):i}}const TV=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function IV(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}async function _V(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?At(n):void 0,i=await t.request({method:"eth_feeHistory",params:[At(e),a||r,s]},{dedupe:!!a});return IV(i)}async function Dv(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>hl(a));return!("abi"in e)||!e.abi?s:Kk({abi:e.abi,logs:s,strict:n})}async function PV(t,{filter:e}){const n=e.strict??!1,r=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>hl(s));return e.abi?Kk({abi:e.abi,logs:r,strict:n}):r}async function OV(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?At(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,a||r]})}async function Wv(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:a}){const i=r||"latest",o=n!==void 0?At(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,At(a)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||i,At(a)]},{dedupe:!!o}),!c)throw new tP({blockHash:e,blockNumber:n,blockTag:i,hash:s,index:a});return(t.chain?.formatters?.transaction?.format||IP)(c)}async function RV(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([Mt(t,iy,"getBlockNumber")({}),e?Mt(t,Wv,"getTransaction")({hash:e}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}const PO={"0x0":"reverted","0x1":"success"};function $V(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>hl(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?xi(t.transactionIndex):null,status:t.status?PO[t.status]:null,type:t.type?TP[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}async function A1(t,{hash:e}){const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new nP({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||$V)(n)}async function OO(t,e){const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:i,multicallAddress:o,stateOverride:c}=e,u=e.contracts,h=s??(typeof t.batch?.multicall=="object"&&t.batch.multicall.batchSize||1024);let f=o;if(!f){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Sp({blockNumber:a,chain:t.chain,contract:"multicall3"})}const m=[[]];let g=0,b=0;for(let x=0;x<u.length;x++){const{abi:N,address:E,args:C,functionName:k}=u[x];try{const A=ji({abi:N,args:C,functionName:k});b+=(A.length-2)/2,h>0&&b>h&&m[g].length>0&&(g++,b=(A.length-2)/2,m[g]=[]),m[g]=[...m[g],{allowFailure:!0,callData:A,target:E}]}catch(A){const _=Pd(A,{abi:N,address:E,args:C,docsPath:"/docs/contract/multicall",functionName:k,sender:n});if(!r)throw _;m[g]=[...m[g],{allowFailure:!0,callData:"0x",target:E}]}}const y=await Promise.allSettled(m.map(x=>Mt(t,ho,"readContract")({abi:AN,account:n,address:f,args:[x],blockNumber:a,blockTag:i,functionName:"aggregate3",stateOverride:c}))),w=[];for(let x=0;x<y.length;x++){const N=y[x];if(N.status==="rejected"){if(!r)throw N.reason;for(let C=0;C<m[x].length;C++)w.push({status:"failure",error:N.reason,result:void 0});continue}const E=N.value;for(let C=0;C<E.length;C++){const{returnData:k,success:A}=E[C],{callData:_}=m[x][C],{abi:P,address:I,functionName:$,args:H}=u[w.length];try{if(_==="0x")throw new Jg;if(!A)throw new Lv({data:k});const M=Yd({abi:P,args:H,data:k,functionName:$});w.push(r?{result:M,status:"success"}:M)}catch(M){const B=Pd(M,{abi:P,address:I,args:H,docsPath:"/docs/contract/multicall",functionName:$});if(!r)throw B;w.push({error:B,result:void 0,status:"failure"})}}}if(w.length!==u.length)throw new He("multicall results mismatch");return w}async function zN(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:i,validation:o}=e;try{const c=[];for(const h of s){const f=h.blockOverrides?vO(h.blockOverrides):void 0,m=h.calls.map(b=>{const y=b,w=y.account?Yr(y.account):void 0,x=y.abi?ji(y):y.data,N={...y,data:y.dataSuffix?ki([x||"0x",y.dataSuffix]):x,from:y.from??w?.address};return Cp(N),ny(N)}),g=h.stateOverrides?Mk(h.stateOverrides):void 0;c.push({blockOverrides:f,calls:m,stateOverrides:g})}const u=(typeof n=="bigint"?At(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:i,validation:o},u]})).map((h,f)=>({..._P(h),calls:h.calls.map((m,g)=>{const{abi:b,args:y,functionName:w,to:x}=s[f].calls[g],N=m.error?.data??m.returnData,E=BigInt(m.gasUsed),C=m.logs?.map(P=>hl(P)),k=m.status==="0x1"?"success":"failure",A=b&&k==="success"&&N!=="0x"?Yd({abi:b,data:N,functionName:w}):null,_=(()=>{if(k==="success")return;let P;if(m.error?.data==="0x"?P=new Jg:m.error&&(P=new Lv(m.error)),!!P)return Pd(P,{abi:b??[],address:x??"0x",args:y,functionName:w??"<unknown>"})})();return{data:N,gasUsed:E,logs:C,status:k,...k==="success"?{result:A}:{error:_}}})}))}catch(c){const u=c,h=Pv(u,{});throw h instanceof Xg?u:h}}const Lb=BigInt(2**32-1),QA=BigInt(32);function MV(t,e=!1){return e?{h:Number(t&Lb),l:Number(t>>QA&Lb)}:{h:Number(t>>QA&Lb)|0,l:Number(t&Lb)|0}}function zV(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:i,l:o}=MV(t[a],e);[r[a],s[a]]=[i,o]}return[r,s]}const LV=(t,e,n)=>t<<n|e>>>32-n,BV=(t,e,n)=>e<<n|t>>>32-n,FV=(t,e,n)=>e<<n-32|t>>>64-n,UV=(t,e,n)=>t<<n-32|e>>>64-n,DV=BigInt(0),Em=BigInt(1),WV=BigInt(2),HV=BigInt(7),GV=BigInt(256),qV=BigInt(113),RO=[],$O=[],MO=[];for(let t=0,e=Em,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],RO.push(2*(5*r+n)),$O.push((t+1)*(t+2)/2%64);let s=DV;for(let a=0;a<7;a++)e=(e<<Em^(e>>HV)*qV)%GV,e&WV&&(s^=Em<<(Em<<BigInt(a))-Em);MO.push(s)}const zO=zV(MO,!0),VV=zO[0],ZV=zO[1],JA=(t,e,n)=>n>32?FV(t,e,n):LV(t,e,n),YA=(t,e,n)=>n>32?UV(t,e,n):BV(t,e,n);function KV(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],h=n[c+1],f=JA(u,h,1)^n[o],m=YA(u,h,1)^n[o+1];for(let g=0;g<50;g+=10)t[i+g]^=f,t[i+g+1]^=m}let s=t[2],a=t[3];for(let i=0;i<24;i++){const o=$O[i],c=JA(s,a,o),u=YA(s,a,o),h=RO[i];s=t[h],a=t[h+1],t[h]=c,t[h+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=t[i+o];for(let o=0;o<10;o++)t[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=VV[r],t[1]^=ZV[r]}hO(n)}let QV=class LO extends vq{constructor(e,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,LA(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=mq(this.state)}clone(){return this._cloneInto()}keccak(){FA(this.state32),KV(this.state32,this.rounds),FA(this.state32),this.posOut=0,this.pos=0}update(e){BA(this),e=fO(e),kw(e);const{blockLen:n,state:r}=this,s=e.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){BA(this,!1),kw(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return LA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(pq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hO(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return e||(e=new LO(n,r,s,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=i,e.destroyed=this.destroyed,e}};const JV=(t,e,n)=>xq(()=>new QV(e,t,n)),YV=JV(1,136,256/8);function BO(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=YV(_q(t));return n==="Bytes"?r:yO(r)}let XV=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const eZ={checksum:new XV(8192)},A3=eZ.checksum,tZ=/^0x[a-fA-F0-9]{40}$/;function Hv(t,e={}){const{strict:n=!0}=e;if(!tZ.test(t))throw new XA({address:t,cause:new rZ});if(n){if(t.toLowerCase()===t)return;if(nZ(t)!==t)throw new XA({address:t,cause:new sZ})}}function nZ(t){if(A3.has(t))return A3.get(t);Hv(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=BO(Rq(e),{as:"Bytes"}),r=e.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return A3.set(t,s),s}function LN(t,e={}){const{strict:n=!0}=e??{};try{return Hv(t,{strict:n}),!0}catch{return!1}}let XA=class extends vr{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},rZ=class extends vr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},sZ=class extends vr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};function BN(t){let e=!0,n="",r=0,s="",a=!1;for(let i=0;i<t.length;i++){const o=t[i];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function","error",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){t[i-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!a)throw new vr("Unable to normalize signature.");return s}function FN(t,e){const n=typeof t,r=e.type;switch(r){case"address":return LN(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,a)=>FN(Object.values(t)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>FN(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function FO(t,e,n){for(const r in t){const s=t[r],a=e[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return FO(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")||(i.includes("address")&&i.includes("string")?LN(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")&&LN(n[r],{strict:!1})))return i}}function UO(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?eq(t):t;return{...r,...n?{hash:Nf(r)}:{}}}function aZ(t,e,n){const{args:r=[],prepare:s=!0}=n??{},a=Uq(e,{strict:!1}),i=t.filter(u=>a?u.type==="function"||u.type==="error"?DO(u)===Hk(e,0,4):u.type==="event"?Nf(u)===e:!1:"name"in u&&u.name===e);if(i.length===0)throw new UN({name:e});if(i.length===1)return{...i[0],...s?{hash:Nf(i[0])}:{}};let o;for(const u of i)if("inputs"in u){if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Nf(u)}:{}};continue}if(!(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)&&r.every((h,f)=>{const m="inputs"in u&&u.inputs[f];return m?FN(h,m):!1})){if(o&&"inputs"in o&&o.inputs){const h=FO(u.inputs,o.inputs,r);if(h)throw new oZ({abiItem:u,type:h[0]},{abiItem:o,type:h[1]})}o=u}}const c=(()=>{if(o)return o;const[u,...h]=i;return{...u,overloads:h}})();if(!c)throw new UN({name:e});return{...c,...s?{hash:Nf(c)}:{}}}function DO(t){return Hk(Nf(t),0,4)}function iZ(t){const e=typeof t=="string"?t:Nw(t);return BN(e)}function Nf(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:BO(Wk(iZ(t)))}let oZ=class extends vr{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${BN(Nw(e.abiItem))}\`, and`,`\`${n.type}\` in \`${BN(Nw(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},UN=class extends vr{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}};const lZ=/^(.*)\[([0-9]*)\]$/,cZ=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,WO=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function uZ({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(Jk({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function Jk({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=bZ(r.type);if(s){const[a,i]=s;return hZ(n,{checksumAddress:t,length:a,parameter:{...r,type:i}})}if(r.type==="tuple")return yZ(n,{checksumAddress:t,parameter:r});if(r.type==="address")return dZ(n,{checksum:t});if(r.type==="bool")return pZ(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,i="256"]=WO.exec(r.type)??[];return mZ(n,{signed:a,size:Number(i)})}if(r.type.startsWith("bytes"))return fZ(n,{type:r.type});if(r.type==="string")return gZ(n);throw new VO(r.type)}function Yk(t){let e=0;for(let a=0;a<t.length;a++){const{dynamic:i,encoded:o}=t[a];i?e+=32:e+=Ha(o)}const n=[],r=[];let s=0;for(let a=0;a<t.length;a++){const{dynamic:i,encoded:o}=t[a];i?(n.push(bs(e+s,{size:32})),r.push(o),s+=Ha(o)):n.push(o)}return uo(...n,...r)}function dZ(t,e){const{checksum:n=!1}=e;return Hv(t,{strict:n}),{dynamic:!1,encoded:Od(t.toLowerCase())}}function hZ(t,e){const{checksumAddress:n,length:r,parameter:s}=e,a=r===null;if(!Array.isArray(t))throw new vZ(t);if(!a&&t.length!==r)throw new wZ({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let i=!1;const o=[];for(let c=0;c<t.length;c++){const u=Jk({checksumAddress:n,parameter:s,value:t[c]});u.dynamic&&(i=!0),o.push(u)}if(a||i){const c=Yk(o);if(a){const u=bs(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?uo(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:uo(...o.map(({encoded:c})=>c))}}function fZ(t,{type:e}){const[,n]=e.split("bytes"),r=Ha(t);if(!n){let s=t;return r%32!==0&&(s=Rd(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:uo(Od(bs(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new GO({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Rd(t)}}function pZ(t){if(typeof t!="boolean")throw new vr(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Od(gO(t))}}function mZ(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new bO({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:bs(t,{size:32,signed:e})}}function gZ(t){const e=Wk(t),n=Math.ceil(Ha(e)/32),r=[];for(let s=0;s<n;s++)r.push(Rd(Hk(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:uo(Rd(bs(Ha(e),{size:32})),...r)}}function yZ(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const a=[];for(let i=0;i<r.components.length;i++){const o=r.components[i],c=Array.isArray(t)?i:o.name,u=Jk({checksumAddress:n,parameter:o,value:t[c]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Yk(a):uo(...a.map(({encoded:i})=>i))}}function bZ(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function HO(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new qO({expectedLength:t.length,givenLength:e.length});const s=uZ({checksumAddress:r,parameters:t,values:e}),a=Yk(s);return a.length===0?"0x":a}function DN(t,e){if(t.length!==e.length)throw new qO({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],a=e[r];n.push(DN.encode(s,a))}return uo(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const c=r;return Hv(c),Od(c.toLowerCase(),s?32:0)}if(n==="string")return Wk(r);if(n==="bytes")return r;if(n==="bool")return Od(gO(r),s?32:1);const a=n.match(WO);if(a){const[c,u,h="256"]=a,f=Number.parseInt(h)/8;return bs(r,{size:s?32:f,signed:u==="int"})}const i=n.match(cZ);if(i){const[c,u]=i;if(Number.parseInt(u)!==(r.length-2)/2)throw new GO({expectedSize:Number.parseInt(u),value:r});return Rd(r,s?32:0)}const o=n.match(lZ);if(o&&Array.isArray(r)){const[c,u]=o,h=[];for(let f=0;f<r.length;f++)h.push(e(u,r[f],!0));return h.length===0?"0x":uo(...h)}throw new VO(n)}t.encode=e})(DN||(DN={}));let wZ=class extends vr{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},GO=class extends vr{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Ha(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},qO=class extends vr{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},vZ=class extends vr{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},VO=class extends vr{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};function xZ(t,e){const{bytecode:n,args:r}=e;return uo(n,t.inputs?.length&&r?.length?HO(t.inputs,r):"0x")}function NZ(t){return UO(t)}function kZ(t,...e){const{overloads:n}=t,r=n?CZ([t,...n],t.name,{args:e[0]}):t,s=EZ(r),a=e.length>0?HO(r.inputs,e[0]):void 0;return a?uo(s,a):s}function Ph(t,e={}){return UO(t,e)}function CZ(t,e,n){const r=aZ(t,e,n);if(r.type!=="function")throw new UN({name:e,type:"function"});return r}function EZ(t){return DO(t)}const SZ="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Li="0x0000000000000000000000000000000000000000",Bb=new Yg(8192);function AZ(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(Bb.get(n))return Bb.get(n);const r=t().finally(()=>Bb.delete(n));return Bb.set(n,r),r}async function Cw(t){return new Promise(e=>setTimeout(e,t))}function gg(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const i=async({count:o=0}={})=>{const c=async({error:u})=>{const h=typeof e=="function"?e({count:o,error:u}):e;h&&await Cw(h),i({count:o+1})};try{const u=await t();s(u)}catch(u){if(o<n&&await r({count:o,error:u}))return c({error:u});a(u)}};i()})}function jZ(t,e={}){return async(n,r={})=>{const{dedupe:s=!1,methods:a,retryDelay:i=150,retryCount:o=3,uid:c}={...e,...r},{method:u}=n;if(a?.exclude?.includes(u))throw new Jm(new Error("method not supported"),{method:u});if(a?.include&&!a.include.includes(u))throw new Jm(new Error("method not supported"),{method:u});const h=s?Id(`${c}.${Cr(n)}`):void 0;return AZ(()=>gg(async()=>{try{return await t(n)}catch(f){const m=f;switch(m.code){case cN.code:throw new cN(m);case uN.code:throw new uN(m);case dN.code:throw new dN(m,{method:n.method});case hN.code:throw new hN(m);case fg.code:throw new fg(m);case pg.code:throw new pg(m);case fN.code:throw new fN(m);case Pf.code:throw new Pf(m);case vw.code:throw new vw(m);case Jm.code:throw new Jm(m,{method:n.method});case xw.code:throw new xw(m);case pN.code:throw new pN(m);case Vr.code:throw new Vr(m);case mN.code:throw new mN(m);case gN.code:throw new gN(m);case yN.code:throw new yN(m);case bN.code:throw new bN(m);case Fc.code:throw new Fc(m);case wN.code:throw new wN(m);case vN.code:throw new vN(m);case xN.code:throw new xN(m);case NN.code:throw new NN(m);case kN.code:throw new kN(m);case CN.code:throw new CN(m);case EN.code:throw new EN(m);case 5e3:throw new Vr(m);default:throw f instanceof He?f:new CH(m)}}},{delay:({count:f,error:m})=>{if(m&&m instanceof Nd){const g=m?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<f)*i},retryCount:o,shouldRetry:({error:f})=>TZ(f)}),{enabled:s,id:h})}}function TZ(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===xw.code||t.code===fg.code:t instanceof Nd&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}let IZ=class extends He{constructor({callbackSelector:e,cause:n,data:r,extraData:s,sender:a,urls:i}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(o=>`    ${ty(o)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}},_Z=class extends He{constructor({result:e,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ty(n)}`,`Response: ${Cr(e)}`],name:"OffchainLookupResponseMalformedError"})}},PZ=class extends He{constructor({sender:e,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}};const OZ="0x556f1830",ZO={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function RZ(t,{blockNumber:e,blockTag:n,data:r,to:s}){const{args:a}=iO({data:r,abi:[ZO]}),[i,o,c,u,h]=a,{ccipRead:f}=t,m=f&&typeof f?.request=="function"?f.request:KO;try{if(!oy(s,i))throw new PZ({sender:i,to:s});const g=o.includes(Bv)?await uO({data:c,ccipRequest:m}):await m({data:c,sender:i,urls:o}),{data:b}=await Ap(t,{blockNumber:e,blockTag:n,data:ki([u,bl([{type:"bytes"},{type:"bytes"}],[g,h])]),to:s});return b}catch(g){throw new IZ({callbackSelector:u,cause:g,data:r,extraData:h,sender:i,urls:o})}}async function KO({data:t,sender:e,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],i=a.includes("{data}")?"GET":"POST",o=i==="POST"?{data:t,sender:e}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(a.replace("{sender}",e.toLowerCase()).replace("{data}",t),{body:JSON.stringify(o),headers:c,method:i});let h;if(u.headers.get("Content-Type")?.startsWith("application/json")?h=(await u.json()).data:h=await u.text(),!u.ok){r=new Nd({body:o,details:h?.error?Cr(h.error):u.statusText,headers:u.headers,status:u.status,url:a});continue}if(!vi(h)){r=new _Z({result:h,url:a});continue}return h}catch(u){r=new Nd({body:o,details:u.message,url:a})}}throw r}const $Z=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:KO,offchainLookup:RZ,offchainLookupAbiItem:ZO,offchainLookupSignature:OZ},Symbol.toStringTag,{value:"Module"}));function S3e(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function QO(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let i;try{const o=new AbortController;n>0&&(i=setTimeout(()=>{r?o.abort():a(e)},n)),s(await t({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&a(e),a(o)}finally{clearTimeout(i)}})()})}function MZ(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const ej=MZ();function zZ(t,e={}){return{async request(n){const{body:r,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:i=e.timeout??1e4}=n,o={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:h}=o;try{const f=await QO(async({signal:g})=>{const b={...o,body:Array.isArray(r)?Cr(r.map(x=>({jsonrpc:"2.0",id:x.id??ej.take(),...x}))):Cr({jsonrpc:"2.0",id:r.id??ej.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(i>0?g:null)},y=new Request(t,b),w=await s?.(y,b)??{...b,url:t};return await fetch(w.url??t,w)},{errorInstance:new EA({body:r,url:t}),timeout:i,signal:!0});a&&await a(f);let m;if(f.headers.get("Content-Type")?.startsWith("application/json"))m=await f.json();else{m=await f.text();try{m=JSON.parse(m||"{}")}catch(g){if(f.ok)throw g;m={error:m}}}if(!f.ok)throw new Nd({body:r,details:Cr(m.error)||f.statusText,headers:f.headers,status:f.status,url:t});return m}catch(f){throw f instanceof Nd||f instanceof EA?f:new Nd({body:r,cause:f,url:t})}}}}let LZ=class extends He{constructor({domain:e}){super(`Invalid domain "${Cr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},BZ=class extends He{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},FZ=class extends He{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};function UZ(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:qZ({domain:e}),...t.types};GZ({domain:e,message:n,primaryType:r,types:s});const a=["0x1901"];return e&&a.push(DZ({domain:e,types:s})),r!=="EIP712Domain"&&a.push(JO({data:n,primaryType:r,types:s})),Qr(ki(a))}function DZ({domain:t,types:e}){return JO({data:t,primaryType:"EIP712Domain",types:e})}function JO({data:t,primaryType:e,types:n}){const r=YO({data:t,primaryType:e,types:n});return Qr(r)}function YO({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[WZ({primaryType:e,types:n})];for(const a of n[e]){const[i,o]=eR({types:n,name:a.name,type:a.type,value:t[a.name]});r.push(i),s.push(o)}return bl(r,s)}function WZ({primaryType:t,types:e}){const n=co(HZ({primaryType:t,types:e}));return Qr(n)}function HZ({primaryType:t,types:e}){let n="";const r=XO({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const a of s)n+=`${a}(${e[a].map(({name:i,type:o})=>`${o} ${i}`).join(",")})`;return n}function XO({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u)?.[0];if(n.has(r)||e[r]===void 0)return n;n.add(r);for(const s of e[r])XO({primaryType:s.type,types:e},n);return n}function eR({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},Qr(YO({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Qr(r)];if(n==="string")return[{type:"bytes32"},Qr(co(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(i=>eR({name:e,type:s,types:t,value:i}));return[{type:"bytes32"},Qr(bl(a.map(([i])=>i),a.map(([,i])=>i)))]}return[{type:n},r]}function GZ(t){const{domain:e,message:n,primaryType:r,types:s}=t,a=(i,o)=>{for(const c of i){const{name:u,type:h}=c,f=o[u],m=h.match(Sk);if(m&&(typeof f=="number"||typeof f=="bigint")){const[y,w,x]=m;At(f,{signed:w==="int",size:Number.parseInt(x)/8})}if(h==="address"&&typeof f=="string"&&!ma(f))throw new dl({address:f});const g=h.match(Z9);if(g){const[y,w]=g;if(w&&ur(f)!==Number.parseInt(w))throw new $9({expectedSize:Number.parseInt(w),givenSize:ur(f)})}const b=s[h];b&&(VZ(h),a(b,f))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new LZ({domain:e});a(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])a(s[r],n);else throw new BZ({primaryType:r,types:s})}function qZ({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function VZ(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new FZ({type:t})}function I3e(t,e){if(t.length!==e.length)throw new _9({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],a=e[r];n.push(tR(s,a))}return Jc(n)}function tR(t,e,n=!1){if(t==="address"){const i=e;if(!ma(i))throw new dl({address:i});return il(i.toLowerCase(),{size:n?32:null})}if(t==="string")return Id(e);if(t==="bytes")return e;if(t==="bool")return il(Nk(e),{size:n?32:1});const r=t.match(Sk);if(r){const[i,o,c="256"]=r,u=Number.parseInt(c)/8;return At(e,{size:n?32:u,signed:o==="int"})}const s=t.match(Z9);if(s){const[i,o]=s;if(Number.parseInt(o)!==(e.length-2)/2)throw new $9({expectedSize:Number.parseInt(o),givenSize:(e.length-2)/2});return il(e,{dir:"right",size:n?32:null})}const a=t.match(VW);if(a&&Array.isArray(e)){const[i,o]=a,c=[];for(let u=0;u<e.length;u++)c.push(tR(o,e[u],!0));return c.length===0?"0x":Jc(c)}throw new wW(t)}const ZZ=`Ethereum Signed Message:
`;function KZ(t){const e=typeof t=="string"?Id(t):typeof t.raw=="string"?t.raw:Pr(t.raw),n=Id(`${ZZ}${ur(e)}`);return ki([n,e])}function nR(t,e){return Qr(KZ(t),e)}const rR="0x6492649264926492649264926492649264926492649264926492649264926492";function QZ(t){return yw(t,-32)===rR}function JZ(t){const{address:e,data:n,signature:r,to:s="hex"}=t,a=Jc([bl([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),rR]);return s==="hex"?a:Da(a)}let YZ=class extends He{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function XZ(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new YZ({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[a,i,o]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${i}.${o}`);c>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}function P3e(t){const{source:e}=t,n=new Map,r=new Yg(8192),s=new Map,a=({address:i,chainId:o})=>`${i}.${o}`;return{async consume({address:i,chainId:o,client:c}){const u=a({address:i,chainId:o}),h=this.get({address:i,chainId:o,client:c});this.increment({address:i,chainId:o});const f=await h;return await e.set({address:i,chainId:o},f),r.set(u,f),f},async increment({address:i,chainId:o}){const c=a({address:i,chainId:o}),u=n.get(c)??0;n.set(c,u+1)},async get({address:i,chainId:o,client:c}){const u=a({address:i,chainId:o});let h=s.get(u);return h||(h=(async()=>{try{const f=await e.get({address:i,chainId:o,client:c}),m=r.get(u)??0;return m>0&&f<=m?m+1:(r.delete(u),f)}finally{this.reset({address:i,chainId:o})}})(),s.set(u,h)),(n.get(u)??0)+await h},reset({address:i,chainId:o}){const c=a({address:i,chainId:o});n.delete(c),s.delete(c)}}}const eK="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function tK(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:i,traceTransfers:o,validation:c}=e,u=e.account?Yr(e.account):void 0;if(i&&!u)throw new He("`account` is required when `traceAssetChanges` is true");const h=u?xZ(NZ("constructor(bytes, bytes)"),{bytecode:xO,args:[eK,kZ(Ph("function getBalance(address)"),[u.address])]}):void 0,f=i?await Promise.all(e.calls.map(async D=>{if(!D.data&&!D.abi)return;const{accessList:K}=await AO(t,{account:u.address,...D,data:D.abi?ji(D):D.data});return K.map(({address:ee,storageKeys:F})=>F.length>0?ee:null)})).then(D=>D.flat().filter(Boolean)):[],m=await zN(t,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:h}],stateOverrides:a},{calls:f.map((D,K)=>({abi:[Ph("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:D,from:Li,nonce:K})),stateOverrides:[{address:Li,nonce:0}]}]:[],{calls:[...s,{}].map(D=>({...D,from:u?.address})),stateOverrides:a},...i?[{calls:[{data:h}]},{calls:f.map((D,K)=>({abi:[Ph("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:D,from:Li,nonce:K})),stateOverrides:[{address:Li,nonce:0}]},{calls:f.map((D,K)=>({to:D,abi:[Ph("function decimals() returns (uint256)")],functionName:"decimals",from:Li,nonce:K})),stateOverrides:[{address:Li,nonce:0}]},{calls:f.map((D,K)=>({to:D,abi:[Ph("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Li,nonce:K})),stateOverrides:[{address:Li,nonce:0}]},{calls:f.map((D,K)=>({to:D,abi:[Ph("function symbol() returns (string)")],functionName:"symbol",from:Li,nonce:K})),stateOverrides:[{address:Li,nonce:0}]}]:[]],traceTransfers:o,validation:c}),g=i?m[2]:m[0],[b,y,,w,x,N,E,C]=i?m:[],{calls:k,...A}=g,_=k.slice(0,-1)??[],P=b?.calls??[],I=y?.calls??[],$=[...P,...I].map(D=>D.status==="success"?Wa(D.data):null),H=w?.calls??[],M=x?.calls??[],B=[...H,...M].map(D=>D.status==="success"?Wa(D.data):null),O=(N?.calls??[]).map(D=>D.status==="success"?D.result:null),z=(C?.calls??[]).map(D=>D.status==="success"?D.result:null),G=(E?.calls??[]).map(D=>D.status==="success"?D.result:null),Z=[];for(const[D,K]of B.entries()){const ee=$[D];if(typeof K!="bigint"||typeof ee!="bigint")continue;const F=O[D-1],V=z[D-1],J=G[D-1],Q=D===0?{address:SZ,decimals:18,symbol:"ETH"}:{address:f[D-1],decimals:J||F?Number(F??1):void 0,symbol:V??void 0};Z.some(ae=>ae.token.address===Q.address)||Z.push({token:Q,value:{pre:ee,post:K,diff:K-ee}})}return{assetChanges:Z,block:A,results:_}}const j3=new Map,tj=new Map;let nK=0;function fl(t,e,n){const r=++nK,s=()=>j3.get(t)||[],a=()=>{const h=s();j3.set(t,h.filter(f=>f.id!==r))},i=()=>{const h=s();if(!h.some(m=>m.id===r))return;const f=tj.get(t);if(h.length===1&&f){const m=f();m instanceof Promise&&m.catch(()=>{})}a()},o=s();if(j3.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return i;const c={};for(const h in e)c[h]=(...f)=>{const m=s();if(m.length!==0)for(const g of m)g.fns[h]?.(...f)};const u=n(c);return typeof u=="function"&&tj.set(t,u),i}function jp(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;e&&(i=await t({unpoll:a}));const o=await n?.(i)??r;await Cw(o);const c=async()=>{s&&(await t({unpoll:a}),await Cw(r),c())};c()})(),a}function rK(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:i,poll:o,pollingInterval:c=t.pollingInterval}){const u=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=i??!1;let f;return u?(()=>{const m=Cr(["watchBlocks",t.uid,e,n,r,h,c]);return fl(m,{onBlock:s,onError:a},g=>jp(async()=>{try{const b=await Mt(t,eo,"getBlock")({blockTag:e,includeTransactions:h});if(b.number!==null&&f?.number!=null){if(b.number===f.number)return;if(b.number-f.number>1&&n)for(let y=f?.number+1n;y<b.number;y++){const w=await Mt(t,eo,"getBlock")({blockNumber:y,includeTransactions:h});g.onBlock(w,f),f=w}}(f?.number==null||e==="pending"&&b?.number==null||b.number!==null&&b.number>f.number)&&(g.onBlock(b,f),f=b)}catch(b){g.onError?.(b)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,g=!0,b=()=>m=!1;return(async()=>{try{r&&Mt(t,eo,"getBlock")({blockTag:e,includeTransactions:h}).then(x=>{m&&g&&(s(x,void 0),g=!1)}).catch(a);const y=(()=>{if(t.transport.type==="fallback"){const x=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return x?x.value:t.transport}return t.transport})(),{unsubscribe:w}=await y.subscribe({params:["newHeads"],async onData(x){if(!m)return;const N=await Mt(t,eo,"getBlock")({blockNumber:x.result?.number,includeTransactions:h}).catch(()=>{});m&&(s(N,f),g=!1,f=N)},onError(x){a?.(x)}});b=w,m||b()}catch(y){a?.(y)}})(),()=>b()})()}function sR(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:i=t.pollingInterval}){const o=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const u=Cr(["watchBlockNumber",t.uid,e,n,i]);return fl(u,{onBlockNumber:r,onError:s},h=>jp(async()=>{try{const f=await Mt(t,iy,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&n)for(let m=c+1n;m<f;m++)h.onBlockNumber(m,c),c=m}(!c||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){h.onError?.(f)}},{emitOnBegin:e,interval:i}))})():(()=>{const u=Cr(["watchBlockNumber",t.uid,e,n]);return fl(u,{onBlockNumber:r,onError:s},h=>{let f=!0,m=()=>f=!1;return(async()=>{try{const g=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return y?y.value:t.transport}return t.transport})(),{unsubscribe:b}=await g.subscribe({params:["newHeads"],onData(y){if(!f)return;const w=Wa(y.result?.number);h.onBlockNumber(w,c),c=w},onError(y){h.onError?.(y)}});m=b,f||m()}catch(g){s?.(g)}})(),()=>m()})})()}async function Gv(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function sK(t,{address:e,args:n,batch:r=!0,event:s,events:a,fromBlock:i,onError:o,onLogs:c,poll:u,pollingInterval:h=t.pollingInterval,strict:f}){const m=typeof u<"u"?u:typeof i=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),g=f??!1;return m?(()=>{const b=Cr(["watchEvent",e,n,r,t.uid,s,h,i]);return fl(b,{onLogs:c,onError:o},y=>{let w;i!==void 0&&(w=i-1n);let x,N=!1;const E=jp(async()=>{if(!N){try{x=await Mt(t,TO,"createEventFilter")({address:e,args:n,event:s,events:a,strict:g,fromBlock:i})}catch{}N=!0;return}try{let C;if(x)C=await Mt(t,Dv,"getFilterChanges")({filter:x});else{const k=await Mt(t,iy,"getBlockNumber")({});w&&w!==k?C=await Mt(t,Qk,"getLogs")({address:e,args:n,event:s,events:a,fromBlock:w+1n,toBlock:k}):C=[],w=k}if(C.length===0)return;if(r)y.onLogs(C);else for(const k of C)y.onLogs([k])}catch(C){x&&C instanceof pg&&(N=!1),y.onError?.(C)}},{emitOnBegin:!0,interval:h});return async()=>{x&&await Mt(t,Gv,"uninstallFilter")({filter:x}),E()}})})():(()=>{let b=!0,y=()=>b=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const C=t.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return C?C.value:t.transport}return t.transport})(),x=a??(s?[s]:void 0);let N=[];x&&(N=[x.flatMap(C=>ay({abi:[C],eventName:C.name,args:n}))],s&&(N=N[0]));const{unsubscribe:E}=await w.subscribe({params:["logs",{address:e,topics:N}],onData(C){if(!b)return;const k=C.result;try{const{eventName:A,args:_}=Zk({abi:x??[],data:k.data,topics:k.topics,strict:g}),P=hl(k,{args:_,eventName:A});c([P])}catch(A){let _,P;if(A instanceof ug||A instanceof jv){if(f)return;_=A.abiItem.name,P=A.abiItem.inputs?.some($=>!("name"in $&&$.name))}const I=hl(k,{args:P?[]:{},eventName:_});c([I])}},onError(C){o?.(C)}});y=E,b||y()}catch(w){o?.(w)}})(),()=>y()})()}function aR(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const i=Cr(["watchPendingTransactions",t.uid,e,a]);return fl(i,{onTransactions:r,onError:n},o=>{let c;const u=jp(async()=>{try{if(!c)try{c=await Mt(t,IO,"createPendingTransactionFilter")({});return}catch(f){throw u(),f}const h=await Mt(t,Dv,"getFilterChanges")({filter:c});if(h.length===0)return;if(e)o.onTransactions(h);else for(const f of h)o.onTransactions([f])}catch(h){o.onError?.(h)}},{emitOnBegin:!0,interval:a});return async()=>{c&&await Mt(t,Gv,"uninstallFilter")({filter:c}),u()}})})():(()=>{let i=!0,o=()=>i=!1;return(async()=>{try{const{unsubscribe:c}=await t.transport.subscribe({params:["newPendingTransactions"],onData(u){if(!i)return;const h=u.result;r([h])},onError(u){n?.(u)}});o=c,i||o()}catch(c){n?.(c)}})(),()=>o()})()}const aK="0x5792579257925792579257925792579257925792579257925792579257925792",iK=At(0,{size:32});async function oK(t,e){async function n(h){if(h.endsWith(aK.slice(2))){const f=so(yw(h,-64,-32)),m=yw(h,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(m.map(y=>iK.slice(2)!==y?t.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),b=g.some(y=>y===null)?100:g.every(y=>y?.status==="0x1")?200:g.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:xi(f),receipts:g.filter(Boolean),status:b,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[h]})}const{atomic:r=!1,chainId:s,receipts:a,version:i="2.0.0",...o}=await n(e.id),[c,u]=(()=>{const h=o.status;return h>=100&&h<200?["pending",h]:h>=200&&h<300?["success",h]:h>=300&&h<700?["failure",h]:h==="CONFIRMED"?["success",200]:h==="PENDING"?["pending",100]:[void 0,h]})();return{...o,atomic:r,chainId:s?xi(s):void 0,receipts:a?.map(h=>({...h,blockNumber:Wa(h.blockNumber),gasUsed:Wa(h.gasUsed),status:PO[h.status]}))??[],statusCode:u,status:c,version:i}}let lK=class extends He{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}};async function R3e(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:s=({statusCode:y})=>y===200||y>=300,retryCount:a=4,retryDelay:i=({count:y})=>~~(1<<y)*200,timeout:o=6e4,throwOnFailure:c=!1}=e,u=Cr(["waitForCallsStatus",t.uid,n]),{promise:h,resolve:f,reject:m}=Gk();let g;const b=fl(u,{resolve:f,reject:m},y=>{const w=jp(async()=>{const x=N=>{clearTimeout(g),w(),N(),b()};try{const N=await gg(async()=>{const E=await oK(t,{id:n});if(c&&E.status==="failure")throw new lK(E);return E},{retryCount:a,delay:i});if(!s(N))return;x(()=>y.resolve(N))}catch(N){x(()=>y.reject(N))}},{interval:r,emitOnBegin:!0});return w});return g=o?setTimeout(()=>{b(),clearTimeout(g),m(new cK({id:n}))},o):void 0,await h}let cK=class extends He{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}};function uK(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function dK(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?xi(t.nonce):void 0,storageProof:t.storageProof?uK(t.storageProof):void 0}}async function hK(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",i=n!==void 0?At(n):void 0,o=await t.request({method:"eth_getProof",params:[e,s,i||a]});return dK(o)}async function iR(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:i=6,retryDelay:o=({count:k})=>~~(1<<k)*200,timeout:c=18e4}=e,u=Cr(["waitForTransactionReceipt",t.uid,s]),h=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let f,m,g,b=!1,y,w;const{promise:x,resolve:N,reject:E}=Gk(),C=c?setTimeout(()=>{w(),y(),E(new xH({hash:s}))},c):void 0;return y=fl(u,{onReplaced:a,resolve:N,reject:E},async k=>{if(g=await Mt(t,A1,"getTransactionReceipt")({hash:s}).catch(()=>{}),g&&r<=1){clearTimeout(C),k.resolve(g),y();return}w=Mt(t,sR,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(A){const _=I=>{clearTimeout(C),w(),I(),y()};let P=A;if(!b)try{if(g){if(r>1&&(!g.blockNumber||P-g.blockNumber+1n<r))return;_(()=>k.resolve(g));return}if(n&&!f&&(b=!0,await gg(async()=>{f=await Mt(t,Wv,"getTransaction")({hash:s}),f.blockNumber&&(P=f.blockNumber)},{delay:o,retryCount:i}),b=!1),g=await Mt(t,A1,"getTransactionReceipt")({hash:s}),r>1&&(!g.blockNumber||P-g.blockNumber+1n<r))return;_(()=>k.resolve(g))}catch(I){if(I instanceof tP||I instanceof nP){if(!f){b=!1;return}try{m=f,b=!0;const $=await gg(()=>Mt(t,eo,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:B})=>B instanceof jP});b=!1;const H=$.transactions.find(({from:B,nonce:O})=>B===m.from&&O===m.nonce);if(!H||(g=await Mt(t,A1,"getTransactionReceipt")({hash:H.hash}),r>1&&(!g.blockNumber||P-g.blockNumber+1n<r)))return;let M="replaced";H.to===m.to&&H.value===m.value&&H.input===m.input?M="repriced":H.from===H.to&&H.value===0n&&(M="cancelled"),_(()=>{k.onReplaced?.({reason:M,replacedTransaction:m,transaction:H,transactionReceipt:g}),k.resolve(g)})}catch($){_(()=>k.reject($))}}else _(()=>k.reject(I))}}})}),x}async function M3e(t,e){const{account:n=t.account,chainId:r,nonce:s}=e;if(!n)throw new _v({docsPath:"/docs/eip7702/prepareAuthorization"});const a=Yr(n),i=(()=>{if(e.executor)return e.executor==="self"?e.executor:Yr(e.executor)})(),o={address:e.contractAddress??e.address,chainId:r,nonce:s};return typeof o.chainId>"u"&&(o.chainId=t.chain?.id??await Mt(t,Rv,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await Mt(t,Lk,"getTransactionCount")({address:a.address,blockTag:"pending"}),(i==="self"||i?.address&&oy(i.address,a.address))&&(o.nonce+=1)),o}async function fK(t,{account:e=t.account,message:n}){if(!e)throw new _v({docsPath:"/docs/actions/wallet/signMessage"});const r=Yr(e);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Id(n):n.raw instanceof Uint8Array?co(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function pK(t,e){const{abi:n,address:r,args:s,dataSuffix:a,functionName:i,...o}=e,c=o.account?Yr(o.account):t.account,u=ji({abi:n,args:s,functionName:i});try{const{data:h}=await Mt(t,Ap,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...o,account:c}),f=Yd({abi:n,args:s,functionName:i,data:h||"0x"}),m=n.filter(g=>"name"in g&&g.name===e.functionName);return{result:f,request:{abi:m,address:r,args:s,dataSuffix:a,functionName:i,...o,account:c}}}catch(h){throw Pd(h,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}let oR=class extends Ek{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,AW(e);const r=Tv(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let i=0;i<a.length;i++)a[i]^=54;this.iHash.update(a),this.oHash=e.create();for(let i=0;i<a.length;i++)a[i]^=106;this.oHash.update(a),Kf(a)}update(e){return Zf(this),this.iHash.update(e),this}digestInto(e){Zf(this),Ci(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:i,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=i,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const lR=(t,e,n)=>new oR(t,e).update(n).digest();lR.create=(t,e)=>new oR(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xk=BigInt(0),WN=BigInt(1);function Ew(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Fb(t){const e=t.toString(16);return e.length&1?"0"+e:e}function cR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Xk:BigInt("0x"+t)}function qv(t){return cR(hg(t))}function uR(t){return Ci(t),cR(hg(Uint8Array.from(t).reverse()))}function eC(t,e){return Ck(t.toString(16).padStart(e*2,"0"))}function dR(t,e){return eC(t,e).reverse()}function Ra(t,e,n){let r;if(typeof e=="string")try{r=Ck(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(kk(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}const T3=t=>typeof t=="bigint"&&Xk<=t;function mK(t,e,n){return T3(t)&&T3(e)&&T3(n)&&e<=t&&t<n}function gK(t,e,n,r){if(!mK(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function yK(t){let e;for(e=0;t>Xk;t>>=WN,e+=1);return e}const Vv=t=>(WN<<BigInt(t))-WN;function bK(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=m=>new Uint8Array(m),s=m=>Uint8Array.of(m);let a=r(t),i=r(t),o=0;const c=()=>{a.fill(1),i.fill(0),o=0},u=(...m)=>n(i,a,...m),h=(m=r(0))=>{i=u(s(0),m),a=u(),m.length!==0&&(i=u(s(1),m),a=u())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const g=[];for(;m<e;){a=u();const b=a.slice();g.push(b),m+=a.length}return id(...g)};return(m,g)=>{c(),h(m);let b;for(;!(b=g(f()));)h();return c(),b}}function tC(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,a,i){const o=t[s];if(i&&o===void 0)return;const c=typeof o;if(c!==a||o===null)throw new Error(`param "${s}" is invalid: expected ${a}, got ${c}`)}Object.entries(e).forEach(([s,a])=>r(s,a,!1)),Object.entries(n).forEach(([s,a])=>r(s,a,!0))}function nj(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const a=t(n,...r);return e.set(n,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ws=BigInt(0),Cs=BigInt(1),ld=BigInt(2),wK=BigInt(3),hR=BigInt(4),fR=BigInt(5),pR=BigInt(8);function Ma(t,e){const n=t%e;return n>=Ws?n:e+n}function Sa(t,e,n){let r=t;for(;e-- >Ws;)r*=r,r%=n;return r}function rj(t,e){if(t===Ws)throw new Error("invert: expected non-zero number");if(e<=Ws)throw new Error("invert: expected positive modulus, got "+e);let n=Ma(t,e),r=e,s=Ws,a=Cs;for(;n!==Ws;){const i=r/n,o=r%n,c=s-a*i;r=n,n=o,s=a,a=c}if(r!==Cs)throw new Error("invert: does not exist");return Ma(s,e)}function mR(t,e){const n=(t.ORDER+Cs)/hR,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function vK(t,e){const n=(t.ORDER-fR)/pR,r=t.mul(e,ld),s=t.pow(r,n),a=t.mul(e,s),i=t.mul(t.mul(a,ld),s),o=t.mul(a,t.sub(i,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function xK(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Cs,n=0;for(;e%ld===Ws;)e/=ld,n++;let r=ld;const s=Zv(t);for(;sj(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return mR;let a=s.pow(r,e);const i=(e+Cs)/ld;return function(o,c){if(o.is0(c))return c;if(sj(o,c)!==1)throw new Error("Cannot find square root");let u=n,h=o.mul(o.ONE,a),f=o.pow(c,e),m=o.pow(c,i);for(;!o.eql(f,o.ONE);){if(o.is0(f))return o.ZERO;let g=1,b=o.sqr(f);for(;!o.eql(b,o.ONE);)if(g++,b=o.sqr(b),g===u)throw new Error("Cannot find square root");const y=Cs<<BigInt(u-g-1),w=o.pow(h,y);u=g,h=o.sqr(w),f=o.mul(f,h),m=o.mul(m,w)}return m}}function NK(t){return t%hR===wK?mR:t%pR===fR?vK:xK(t)}const kK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CK(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=kK.reduce((r,s)=>(r[s]="function",r),e);return tC(t,n),t}function EK(t,e,n){if(n<Ws)throw new Error("invalid exponent, negatives unsupported");if(n===Ws)return t.ONE;if(n===Cs)return e;let r=t.ONE,s=e;for(;n>Ws;)n&Cs&&(r=t.mul(r,s)),s=t.sqr(s),n>>=Cs;return r}function gR(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((i,o,c)=>t.is0(o)?i:(r[c]=i,t.mul(i,o)),t.ONE),a=t.inv(s);return e.reduceRight((i,o,c)=>t.is0(o)?i:(r[c]=t.mul(i,r[c]),t.mul(i,o)),a),r}function sj(t,e){const n=(t.ORDER-Cs)/ld,r=t.pow(e,n),s=t.eql(r,t.ONE),a=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!s&&!a&&!i)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function SK(t,e){e!==void 0&&dg(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Zv(t,e,n=!1,r={}){if(t<=Ws)throw new Error("invalid field: expected ORDER > 0, got "+t);let s,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(s=h.BITS),h.sqrt&&(a=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE)}else typeof e=="number"&&(s=e),r.sqrt&&(a=r.sqrt);const{nBitLength:i,nByteLength:o}=SK(t,s);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:o,MASK:Vv(i),ZERO:Ws,ONE:Cs,create:h=>Ma(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Ws<=h&&h<t},is0:h=>h===Ws,isValidNot0:h=>!u.is0(h)&&u.isValid(h),isOdd:h=>(h&Cs)===Cs,neg:h=>Ma(-h,t),eql:(h,f)=>h===f,sqr:h=>Ma(h*h,t),add:(h,f)=>Ma(h+f,t),sub:(h,f)=>Ma(h-f,t),mul:(h,f)=>Ma(h*f,t),pow:(h,f)=>EK(u,h,f),div:(h,f)=>Ma(h*rj(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>rj(h,t),sqrt:a||(h=>(c||(c=NK(t)),c(u,h))),toBytes:h=>n?dR(h,o):eC(h,o),fromBytes:h=>{if(h.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);return n?uR(h):qv(h)},invertBatch:h=>gR(u,h),cmov:(h,f,m)=>m?f:h});return Object.freeze(u)}function yR(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bR(t){const e=yR(t);return e+Math.ceil(e/2)}function AK(t,e,n=!1){const r=t.length,s=yR(e),a=bR(e);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const i=n?uR(t):qv(t),o=Ma(i,e-Cs)+Cs;return n?dR(o,s):eC(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jf=BigInt(0),cd=BigInt(1);function Z0(t,e){const n=e.negate();return t?n:e}function jK(t,e,n){const r=a=>a.pz,s=gR(t.Fp,n.map(r));return n.map((a,i)=>a.toAffine(s[i])).map(t.fromAffine)}function wR(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function I3(t,e){wR(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,a=Vv(t),i=BigInt(t);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:i}}function aj(t,e,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:i}=n;let o=Number(t&s),c=t>>i;o>r&&(o-=a,c+=cd);const u=e*r,h=u+Math.abs(o)-1,f=o===0,m=o<0,g=e%2!==0;return{nextN:c,offset:h,isZero:f,isNeg:m,isNegF:g,offsetF:u}}function TK(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function IK(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const _3=new WeakMap,vR=new WeakMap;function P3(t){return vR.get(t)||1}function ij(t){if(t!==Jf)throw new Error("invalid wNAF")}function _K(t,e){return{constTimeNegate:Z0,hasPrecomputes(n){return P3(n)!==1},unsafeLadder(n,r,s=t.ZERO){let a=n;for(;r>Jf;)r&cd&&(s=s.add(a)),a=a.double(),r>>=cd;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=I3(r,e),i=[];let o=n,c=o;for(let u=0;u<s;u++){c=o,i.push(c);for(let h=1;h<a;h++)c=c.add(o),i.push(c);o=c.double()}return i},wNAF(n,r,s){let a=t.ZERO,i=t.BASE;const o=I3(n,e);for(let c=0;c<o.windows;c++){const{nextN:u,offset:h,isZero:f,isNeg:m,isNegF:g,offsetF:b}=aj(s,c,o);s=u,f?i=i.add(Z0(g,r[b])):a=a.add(Z0(m,r[h]))}return ij(s),{p:a,f:i}},wNAFUnsafe(n,r,s,a=t.ZERO){const i=I3(n,e);for(let o=0;o<i.windows&&s!==Jf;o++){const{nextN:c,offset:u,isZero:h,isNeg:f}=aj(s,o,i);if(s=c,!h){const m=r[u];a=a.add(f?m.negate():m)}}return ij(s),a},getPrecomputes(n,r,s){let a=_3.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(a=s(a)),_3.set(r,a))),a},wNAFCached(n,r,s){const a=P3(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const i=P3(n);return i===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,a)},setWindowSize(n,r){wR(r,e),vR.set(n,r),_3.delete(n)}}}function PK(t,e,n,r){let s=e,a=t.ZERO,i=t.ZERO;for(;n>Jf||r>Jf;)n&cd&&(a=a.add(s)),r&cd&&(i=i.add(s)),s=s.double(),n>>=cd,r>>=cd;return{p1:a,p2:i}}function OK(t,e,n,r){TK(n,t),IK(r,e);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=yK(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const u=Vv(c),h=new Array(Number(u)+1).fill(i),f=Math.floor((e.BITS-1)/c)*c;let m=i;for(let g=f;g>=0;g-=c){h.fill(i);for(let y=0;y<a;y++){const w=r[y],x=Number(w>>BigInt(g)&u);h[x]=h[x].add(n[y])}let b=i;for(let y=h.length-1,w=i;y>0;y--)w=w.add(h[y]),b=b.add(w);if(m=m.add(b),g!==0)for(let y=0;y<c;y++)m=m.double()}return m}function oj(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return CK(e),e}else return Zv(t)}function RK(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const i of["p","n","h"]){const o=e[i];if(!(typeof o=="bigint"&&o>Jf))throw new Error(`CURVE.${i} must be positive bigint`)}const r=oj(e.p,n.Fp),s=oj(e.n,n.Fn),a=["Gx","Gy","a","b"];for(const i of a)if(!r.isValid(e[i]))throw new Error(`CURVE.${i} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lj(t){t.lowS!==void 0&&Ew("lowS",t.lowS),t.prehash!==void 0&&Ew("prehash",t.prehash)}class $K extends Error{constructor(e=""){super(e)}}const Vo={Err:$K,_tlv:{encode:(t,e)=>{const{Err:n}=Vo;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Fb(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Fb(s.length/2|128):"";return Fb(t)+a+s+e},decode(t,e){const{Err:n}=Vo;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],a=!!(s&128);let i=0;if(!a)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of u)i=i<<8|h;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+i);if(o.length!==i)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=Vo;if(t<K0)throw new e("integer: negative integers are not allowed");let n=Fb(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Vo;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return qv(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Vo,s=Ra("signature",t),{v:a,l:i}=r.decode(48,s);if(i.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:u,l:h}=r.decode(2,c);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Vo,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),a=r+s;return e.encode(48,a)}},K0=BigInt(0),Q0=BigInt(1),MK=BigInt(2),Ub=BigInt(3),zK=BigInt(4);function LK(t,e,n){function r(s){const a=t.sqr(s),i=t.mul(a,s);return t.add(t.add(i,t.mul(s,e)),n)}return r}function xR(t,e,n){const{BYTES:r}=t;function s(a){let i;if(typeof a=="bigint")i=a;else{let o=Ra("private key",a);if(e){if(!e.includes(o.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(o,c.length-o.length),o=c}try{i=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof a}`)}}if(n&&(i=t.create(i)),!t.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}return s}function BK(t,e={}){const{Fp:n,Fn:r}=RK("weierstrass",t,e),{h:s,n:a}=t;tC(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:i}=e;if(i&&(!n.is0(t.a)||typeof i.beta!="bigint"||typeof i.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function o(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(P,I,$){const{x:H,y:M}=I.toAffine(),B=n.toBytes(H);if(Ew("isCompressed",$),$){o();const O=!n.isOdd(M);return id(NR(O),B)}else return id(Uint8Array.of(4),B,n.toBytes(M))}function u(P){Ci(P);const I=n.BYTES,$=I+1,H=2*I+1,M=P.length,B=P[0],O=P.subarray(1);if(M===$&&(B===2||B===3)){const z=n.fromBytes(O);if(!n.isValid(z))throw new Error("bad point: is not on curve, wrong x");const G=m(z);let Z;try{Z=n.sqrt(G)}catch(K){const ee=K instanceof Error?": "+K.message:"";throw new Error("bad point: is not on curve, sqrt error"+ee)}o();const D=n.isOdd(Z);return(B&1)===1!==D&&(Z=n.neg(Z)),{x:z,y:Z}}else if(M===H&&B===4){const z=n.fromBytes(O.subarray(I*0,I*1)),G=n.fromBytes(O.subarray(I*1,I*2));if(!g(z,G))throw new Error("bad point: is not on curve");return{x:z,y:G}}else throw new Error(`bad point: got length ${M}, expected compressed=${$} or uncompressed=${H}`)}const h=e.toBytes||c,f=e.fromBytes||u,m=LK(n,t.a,t.b);function g(P,I){const $=n.sqr(I),H=m(P);return n.eql($,H)}if(!g(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=n.mul(n.pow(t.a,Ub),zK),y=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(b,y)))throw new Error("bad curve params: a or b");function w(P,I,$=!1){if(!n.isValid(I)||$&&n.is0(I))throw new Error(`bad point coordinate ${P}`);return I}function x(P){if(!(P instanceof k))throw new Error("ProjectivePoint expected")}const N=nj((P,I)=>{const{px:$,py:H,pz:M}=P;if(n.eql(M,n.ONE))return{x:$,y:H};const B=P.is0();I==null&&(I=B?n.ONE:n.inv(M));const O=n.mul($,I),z=n.mul(H,I),G=n.mul(M,I);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(G,n.ONE))throw new Error("invZ was invalid");return{x:O,y:z}}),E=nj(P=>{if(P.is0()){if(e.allowInfinityPoint&&!n.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:I,y:$}=P.toAffine();if(!n.isValid(I)||!n.isValid($))throw new Error("bad point: x or y not field elements");if(!g(I,$))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(P,I,$,H,M){return $=new k(n.mul($.px,P),$.py,$.pz),I=Z0(H,I),$=Z0(M,$),I.add($)}class k{constructor(I,$,H){this.px=w("x",I),this.py=w("y",$,!0),this.pz=w("z",H),Object.freeze(this)}static fromAffine(I){const{x:$,y:H}=I||{};if(!I||!n.isValid($)||!n.isValid(H))throw new Error("invalid affine point");if(I instanceof k)throw new Error("projective point not allowed");return n.is0($)&&n.is0(H)?k.ZERO:new k($,H,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){return jK(k,"pz",I)}static fromBytes(I){return Ci(I),k.fromHex(I)}static fromHex(I){const $=k.fromAffine(f(Ra("pointHex",I)));return $.assertValidity(),$}static fromPrivateKey(I){const $=xR(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return k.BASE.multiply($(I))}static msm(I,$){return OK(k,r,I,$)}precompute(I=8,$=!0){return _.setWindowSize(this,I),$||this.multiply(Ub),this}_setWindowSize(I){this.precompute(I)}assertValidity(){E(this)}hasEvenY(){const{y:I}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(I)}equals(I){x(I);const{px:$,py:H,pz:M}=this,{px:B,py:O,pz:z}=I,G=n.eql(n.mul($,z),n.mul(B,M)),Z=n.eql(n.mul(H,z),n.mul(O,M));return G&&Z}negate(){return new k(this.px,n.neg(this.py),this.pz)}double(){const{a:I,b:$}=t,H=n.mul($,Ub),{px:M,py:B,pz:O}=this;let z=n.ZERO,G=n.ZERO,Z=n.ZERO,D=n.mul(M,M),K=n.mul(B,B),ee=n.mul(O,O),F=n.mul(M,B);return F=n.add(F,F),Z=n.mul(M,O),Z=n.add(Z,Z),z=n.mul(I,Z),G=n.mul(H,ee),G=n.add(z,G),z=n.sub(K,G),G=n.add(K,G),G=n.mul(z,G),z=n.mul(F,z),Z=n.mul(H,Z),ee=n.mul(I,ee),F=n.sub(D,ee),F=n.mul(I,F),F=n.add(F,Z),Z=n.add(D,D),D=n.add(Z,D),D=n.add(D,ee),D=n.mul(D,F),G=n.add(G,D),ee=n.mul(B,O),ee=n.add(ee,ee),D=n.mul(ee,F),z=n.sub(z,D),Z=n.mul(ee,K),Z=n.add(Z,Z),Z=n.add(Z,Z),new k(z,G,Z)}add(I){x(I);const{px:$,py:H,pz:M}=this,{px:B,py:O,pz:z}=I;let G=n.ZERO,Z=n.ZERO,D=n.ZERO;const K=t.a,ee=n.mul(t.b,Ub);let F=n.mul($,B),V=n.mul(H,O),J=n.mul(M,z),Q=n.add($,H),ae=n.add(B,O);Q=n.mul(Q,ae),ae=n.add(F,V),Q=n.sub(Q,ae),ae=n.add($,M);let ue=n.add(B,z);return ae=n.mul(ae,ue),ue=n.add(F,J),ae=n.sub(ae,ue),ue=n.add(H,M),G=n.add(O,z),ue=n.mul(ue,G),G=n.add(V,J),ue=n.sub(ue,G),D=n.mul(K,ae),G=n.mul(ee,J),D=n.add(G,D),G=n.sub(V,D),D=n.add(V,D),Z=n.mul(G,D),V=n.add(F,F),V=n.add(V,F),J=n.mul(K,J),ae=n.mul(ee,ae),V=n.add(V,J),J=n.sub(F,J),J=n.mul(K,J),ae=n.add(ae,J),F=n.mul(V,ae),Z=n.add(Z,F),F=n.mul(ue,ae),G=n.mul(Q,G),G=n.sub(G,F),F=n.mul(Q,V),D=n.mul(ue,D),D=n.add(D,F),new k(G,Z,D)}subtract(I){return this.add(I.negate())}is0(){return this.equals(k.ZERO)}multiply(I){const{endo:$}=e;if(!r.isValidNot0(I))throw new Error("invalid scalar: out of range");let H,M;const B=O=>_.wNAFCached(this,O,k.normalizeZ);if($){const{k1neg:O,k1:z,k2neg:G,k2:Z}=$.splitScalar(I),{p:D,f:K}=B(z),{p:ee,f:F}=B(Z);M=K.add(F),H=C($.beta,D,ee,O,G)}else{const{p:O,f:z}=B(I);H=O,M=z}return k.normalizeZ([H,M])[0]}multiplyUnsafe(I){const{endo:$}=e,H=this;if(!r.isValid(I))throw new Error("invalid scalar: out of range");if(I===K0||H.is0())return k.ZERO;if(I===Q0)return H;if(_.hasPrecomputes(this))return this.multiply(I);if($){const{k1neg:M,k1:B,k2neg:O,k2:z}=$.splitScalar(I),{p1:G,p2:Z}=PK(k,H,B,z);return C($.beta,G,Z,M,O)}else return _.wNAFCachedUnsafe(H,I)}multiplyAndAddUnsafe(I,$,H){const M=this.multiplyUnsafe($).add(I.multiplyUnsafe(H));return M.is0()?void 0:M}toAffine(I){return N(this,I)}isTorsionFree(){const{isTorsionFree:I}=e;return s===Q0?!0:I?I(k,this):_.wNAFCachedUnsafe(this,a).is0()}clearCofactor(){const{clearCofactor:I}=e;return s===Q0?this:I?I(k,this):this.multiplyUnsafe(s)}toBytes(I=!0){return Ew("isCompressed",I),this.assertValidity(),h(k,this,I)}toRawBytes(I=!0){return this.toBytes(I)}toHex(I=!0){return hg(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}k.BASE=new k(t.Gx,t.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=r;const A=r.BITS,_=_K(k,e.endo?Math.ceil(A/2):A);return k}function NR(t){return Uint8Array.of(t?2:3)}function FK(t,e,n={}){tC(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||RW,s=e.hmac||((H,...M)=>lR(e.hash,H,id(...M))),{Fp:a,Fn:i}=t,{ORDER:o,BITS:c}=i;function u(H){const M=o>>Q0;return H>M}function h(H){return u(H)?i.neg(H):H}function f(H,M){if(!i.isValidNot0(M))throw new Error(`invalid signature ${H}: out of range 1..CURVE.n`)}class m{constructor(M,B,O){f("r",M),f("s",B),this.r=M,this.s=B,O!=null&&(this.recovery=O),Object.freeze(this)}static fromCompact(M){const B=i.BYTES,O=Ra("compactSignature",M,B*2);return new m(i.fromBytes(O.subarray(0,B)),i.fromBytes(O.subarray(B,B*2)))}static fromDER(M){const{r:B,s:O}=Vo.toSig(Ra("DER",M));return new m(B,O)}assertValidity(){}addRecoveryBit(M){return new m(this.r,this.s,M)}recoverPublicKey(M){const B=a.ORDER,{r:O,s:z,recovery:G}=this;if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");if(o*MK<B&&G>1)throw new Error("recovery id is ambiguous for h>1 curve");const Z=G===2||G===3?O+o:O;if(!a.isValid(Z))throw new Error("recovery id 2 or 3 invalid");const D=a.toBytes(Z),K=t.fromHex(id(NR((G&1)===0),D)),ee=i.inv(Z),F=E(Ra("msgHash",M)),V=i.create(-F*ee),J=i.create(z*ee),Q=t.BASE.multiplyUnsafe(V).add(K.multiplyUnsafe(J));if(Q.is0())throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,i.neg(this.s),this.recovery):this}toBytes(M){if(M==="compact")return id(i.toBytes(this.r),i.toBytes(this.s));if(M==="der")return Ck(Vo.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return hg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return hg(this.toBytes("compact"))}}const g=xR(i,n.allowedPrivateKeyLengths,n.wrapPrivateKey),b={isValidPrivateKey(H){try{return g(H),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const H=o;return AK(r(bR(H)),H)},precompute(H=8,M=t.BASE){return M.precompute(H,!1)}};function y(H,M=!0){return t.fromPrivateKey(H).toBytes(M)}function w(H){if(typeof H=="bigint")return!1;if(H instanceof t)return!0;const M=Ra("key",H).length,B=a.BYTES,O=B+1,z=2*B+1;if(!(n.allowedPrivateKeyLengths||i.BYTES===O))return M===O||M===z}function x(H,M,B=!0){if(w(H)===!0)throw new Error("first arg must be private key");if(w(M)===!1)throw new Error("second arg must be public key");return t.fromHex(M).multiply(g(H)).toBytes(B)}const N=e.bits2int||function(H){if(H.length>8192)throw new Error("input is too large");const M=qv(H),B=H.length*8-c;return B>0?M>>BigInt(B):M},E=e.bits2int_modN||function(H){return i.create(N(H))},C=Vv(c);function k(H){return gK("num < 2^"+c,H,K0,C),i.toBytes(H)}function A(H,M,B=_){if(["recovered","canonical"].some(Q=>Q in B))throw new Error("sign() legacy options not supported");const{hash:O}=e;let{lowS:z,prehash:G,extraEntropy:Z}=B;z==null&&(z=!0),H=Ra("msgHash",H),lj(B),G&&(H=Ra("prehashed msgHash",O(H)));const D=E(H),K=g(M),ee=[k(K),k(D)];if(Z!=null&&Z!==!1){const Q=Z===!0?r(a.BYTES):Z;ee.push(Ra("extraEntropy",Q))}const F=id(...ee),V=D;function J(Q){const ae=N(Q);if(!i.isValidNot0(ae))return;const ue=i.inv(ae),re=t.BASE.multiply(ae).toAffine(),ie=i.create(re.x);if(ie===K0)return;const me=i.create(ue*i.create(V+ie*K));if(me===K0)return;let oe=(re.x===ie?0:2)|Number(re.y&Q0),he=me;return z&&u(me)&&(he=h(me),oe^=1),new m(ie,he,oe)}return{seed:F,k2sig:J}}const _={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function I(H,M,B=_){const{seed:O,k2sig:z}=A(H,M,B);return bK(e.hash.outputLen,i.BYTES,s)(O,z)}t.BASE.precompute(8);function $(H,M,B,O=P){const z=H;M=Ra("msgHash",M),B=Ra("publicKey",B),lj(O);const{lowS:G,prehash:Z,format:D}=O;if("strict"in O)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&!["compact","der","js"].includes(D))throw new Error('format must be "compact", "der" or "js"');const K=typeof z=="string"||kk(z),ee=!K&&!D&&typeof z=="object"&&z!==null&&typeof z.r=="bigint"&&typeof z.s=="bigint";if(!K&&!ee)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let F,V;try{if(ee)if(D===void 0||D==="js")F=new m(z.r,z.s);else throw new Error("invalid format");if(K){try{D!=="compact"&&(F=m.fromDER(z))}catch(oe){if(!(oe instanceof Vo.Err))throw oe}!F&&D!=="der"&&(F=m.fromCompact(z))}V=t.fromHex(B)}catch{return!1}if(!F||G&&F.hasHighS())return!1;Z&&(M=e.hash(M));const{r:J,s:Q}=F,ae=E(M),ue=i.inv(Q),re=i.create(ae*ue),ie=i.create(J*ue),me=t.BASE.multiplyUnsafe(re).add(V.multiplyUnsafe(ie));return me.is0()?!1:i.create(me.x)===J}return Object.freeze({getPublicKey:y,getSharedSecret:x,sign:I,verify:$,utils:b,Point:t,Signature:m})}function UK(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Zv(e.n,t.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function DK(t){const{CURVE:e,curveOpts:n}=UK(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function WK(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function HK(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=DK(t),s=BK(e,n),a=FK(s,r,n);return WK(t,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function GK(t,e){const n=r=>HK({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sw={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const qK=BigInt(1),HN=BigInt(2),cj=(t,e)=>(t+e/HN)/e;function VK(t){const e=Sw.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=t*t*t%e,h=u*u*t%e,f=Sa(h,n,e)*h%e,m=Sa(f,n,e)*h%e,g=Sa(m,HN,e)*u%e,b=Sa(g,s,e)*g%e,y=Sa(b,a,e)*b%e,w=Sa(y,o,e)*y%e,x=Sa(w,c,e)*w%e,N=Sa(x,o,e)*y%e,E=Sa(N,n,e)*h%e,C=Sa(E,i,e)*b%e,k=Sa(C,r,e)*u%e,A=Sa(k,HN,e);if(!GN.eql(GN.sqr(A),t))throw new Error("Cannot find square root");return A}const GN=Zv(Sw.p,void 0,void 0,{sqrt:VK}),nC=GK({...Sw,Fp:GN,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Sw.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-qK*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=cj(a*t,e),c=cj(-r*t,e);let u=Ma(t-o*n-c*s,e),h=Ma(-o*r-c*a,e);const f=u>i,m=h>i;if(f&&(u=e-u),m&&(h=e-h),u>i||h>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:m,k2:h}}}},$P),ZK=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:nC},Symbol.toStringTag,{value:"Module"}));function KK({r:t,s:e,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new nC.Signature(Wa(t),Wa(e)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?i:Da(i)}async function rC(t,e){const{address:n,factory:r,factoryData:s,hash:a,signature:i,universalSignatureVerifierAddress:o=t.chain?.contracts?.universalSignatureVerifier?.address,...c}=e,u=vi(i)?i:typeof i=="object"&&"r"in i&&"s"in i?KK(i):Pr(i),h=await(async()=>!r&&!s||QZ(u)?u:JZ({address:r,data:s,signature:u}))();try{const f=o?{to:o,data:ji({abi:OA,functionName:"isValidSig",args:[n,a,h]}),...c}:{data:Ik({abi:OA,args:[n,a,h],bytecode:Vq}),...c},{data:m}=await Mt(t,Ap,"call")(f);return aW(m??"0x0")}catch(f){try{if(oy(Tc(n),await K9({hash:a,signature:i})))return!0}catch{}if(f instanceof lO)return!1;throw f}}async function QK(t,{address:e,message:n,factory:r,factoryData:s,signature:a,...i}){const o=nR(n);return rC(t,{address:e,factory:r,factoryData:s,hash:o,signature:a,...i})}async function JK(t,e){const{address:n,factory:r,factoryData:s,signature:a,message:i,primaryType:o,types:c,domain:u,...h}=e,f=UZ({message:i,primaryType:o,types:c,domain:u});return rC(t,{address:n,factory:r,factoryData:s,hash:f,signature:a,...h})}function YK(t,e){const{abi:n,address:r,args:s,batch:a=!0,eventName:i,fromBlock:o,onError:c,onLogs:u,poll:h,pollingInterval:f=t.pollingInterval,strict:m}=e;return(typeof h<"u"?h:typeof o=="bigint"||!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const g=m??!1,b=Cr(["watchContractEvent",r,s,a,t.uid,i,f,g,o]);return fl(b,{onLogs:u,onError:c},y=>{let w;o!==void 0&&(w=o-1n);let x,N=!1;const E=jp(async()=>{if(!N){try{x=await Mt(t,jO,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:o})}catch{}N=!0;return}try{let C;if(x)C=await Mt(t,Dv,"getFilterChanges")({filter:x});else{const k=await Mt(t,iy,"getBlockNumber")({});w&&w<k?C=await Mt(t,_O,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:k,strict:g}):C=[],w=k}if(C.length===0)return;if(a)y.onLogs(C);else for(const k of C)y.onLogs([k])}catch(C){x&&C instanceof pg&&(N=!1),y.onError?.(C)}},{emitOnBegin:!0,interval:f});return async()=>{x&&await Mt(t,Gv,"uninstallFilter")({filter:x}),E()}})})():(()=>{const g=m??!1,b=Cr(["watchContractEvent",r,s,a,t.uid,i,f,g]);let y=!0,w=()=>y=!1;return fl(b,{onLogs:u,onError:c},x=>((async()=>{try{const N=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return k?k.value:t.transport}return t.transport})(),E=i?ay({abi:n,eventName:i,args:s}):[],{unsubscribe:C}=await N.subscribe({params:["logs",{address:r,topics:E}],onData(k){if(!y)return;const A=k.result;try{const{eventName:_,args:P}=Zk({abi:n,data:A.data,topics:A.topics,strict:m}),I=hl(A,{args:P,eventName:_});x.onLogs([I])}catch(_){let P,I;if(_ instanceof ug||_ instanceof jv){if(m)return;P=_.abiItem.name,I=_.abiItem.inputs?.some(H=>!("name"in H&&H.name))}const $=hl(A,{args:I?[]:{},eventName:P});x.onLogs([$])}},onError(k){x.onError?.(k)}});w=C,y||w()}catch(N){c?.(N)}})(),()=>w()))})()}async function XK(t,e){const{abi:n,account:r=t.account,address:s,args:a,dataSuffix:i,functionName:o,...c}=e;if(typeof r>"u")throw new _v({docsPath:"/docs/contract/writeContract"});const u=r?Yr(r):null,h=ji({abi:n,args:a,functionName:o});try{return await Mt(t,FP,"sendTransaction")({data:`${h}${i?i.replace("0x",""):""}`,to:s,account:u,...c})}catch(f){throw Pd(f,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:o,sender:u?.address})}}function Ba(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:a=>e(t,a)}const j1="2.19.0",eQ=()=>`@wagmi/core@${j1}`;var kR=function(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Aw,CR;let vl=class qN extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return eQ()}constructor(e,n={}){super(),Aw.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof qN?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof qN&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return kR(this,Aw,"m",CR).call(this,this,e)}};Aw=new WeakSet,CR=function t(e,n){return n?.(e)?e:e.cause?kR(this,Aw,"m",t).call(this,e.cause,n):e};let yg=class extends vl{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}},tQ=class extends vl{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}},nQ=class extends vl{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}};class rQ extends vl{constructor({address:e,connector:n}){super(`Account "${e}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class sQ extends vl{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class aQ extends vl{constructor({connector:e}){super(`Connector "${e.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function T1(t,e){let n;if(typeof e.connector=="function"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new tQ;try{t.setState(o=>({...o,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=e,a=await n.connect(s),i=a.accounts;return n.emitter.off("connect",t._internal.events.connect),n.emitter.on("change",t._internal.events.change),n.emitter.on("disconnect",t._internal.events.disconnect),await t.storage?.setItem("recentConnectorId",n.id),t.setState(o=>({...o,connections:new Map(o.connections).set(n.uid,{accounts:i,chainId:a.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i,chainId:a.chainId}}catch(r){throw t.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const VN=256;let Db=VN,Wb;function ER(t=11){if(!Wb||Db+t>VN*2){Wb="",Db=0;for(let e=0;e<VN;e++)Wb+=(256+Math.random()*256|0).toString(16).substring(1)}return Wb.substring(Db,Db+++t)}function sC(t){const{batch:e,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:i="base"}=t,o=t.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),h=t.pollingInterval??u,f=t.cacheTime??h,m=t.account?Yr(t.account):void 0,{config:g,request:b,value:y}=t.transport({chain:n,pollingInterval:h}),w={...g,...y},x={account:m,batch:e,cacheTime:f,ccipRead:r,chain:n,key:s,name:a,pollingInterval:h,request:b,transport:w,type:i,uid:ER(),...o?{experimental_blockTag:o}:{}};function N(E){return C=>{const k=C(E);for(const _ in x)delete k[_];const A={...E,...k};return Object.assign(A,{extend:N(A)})}}return Object.assign(x,{extend:N(x)})}function aC({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:i,type:o},c){const u=ER();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:a,timeout:i,type:o},request:jZ(r,{methods:e,retryCount:s,retryDelay:a,uid:u}),value:c}}function iQ(t,e={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=e;return({retryCount:i})=>aC({key:n,methods:r,name:s,request:t.request.bind(t),retryCount:e.retryCount??i,retryDelay:a,type:"custom"})}function uj(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=oQ,retryCount:i,retryDelay:o}=e;return({chain:c,pollingInterval:u=4e3,timeout:h,...f})=>{let m=t,g=()=>{};const b=aC({key:n,name:r,async request({method:y,params:w}){let x;const N=async(E=0)=>{const C=m[E]({...f,chain:c,retryCount:0,timeout:h});try{const k=await C.request({method:y,params:w});return g({method:y,params:w,response:k,transport:C,status:"success"}),k}catch(k){if(g({error:k,method:y,params:w,transport:C,status:"error"}),a(k)||E===m.length-1||(x??(x=m.slice(E+1).some(A=>{const{include:_,exclude:P}=A({chain:c}).config.methods||{};return _?_.includes(y):P?!P.includes(y):!0})),!x))throw k;return N(E+1)}};return N()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:y=>g=y,transports:m.map(y=>y({chain:c,retryCount:0}))});if(s){const y=typeof s=="object"?s:{};lQ({chain:c,interval:y.interval??u,onTransports:w=>m=w,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:m,weights:y.weights})}return b}}function oQ(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===vw.code||t.code===Vr.code||od.nodeMessage.test(t.message)||t.code===5e3))}function lQ({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:i,weights:o={}}){const{stability:c=.7,latency:u=.3}=o,h=[],f=async()=>{const m=await Promise.all(i.map(async y=>{const w=y({chain:t,retryCount:0,timeout:a}),x=Date.now();let N,E;try{await(r?r({transport:w}):w.request({method:"net_listening"})),E=1}catch{E=0}finally{N=Date.now()}return{latency:N-x,success:E}}));h.push(m),h.length>s&&h.shift();const g=Math.max(...h.map(y=>Math.max(...y.map(({latency:w})=>w)))),b=i.map((y,w)=>{const x=h.map(k=>k[w].latency),N=1-x.reduce((k,A)=>k+A,0)/x.length/g,E=h.map(k=>k[w].success),C=E.reduce((k,A)=>k+A,0)/E.length;return C===0?[0,w]:[u*N+c*C,w]}).sort((y,w)=>w[0]-y[0]);n(b.map(([,y])=>i[y])),await Cw(e),f()};f()}class cQ extends He{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Hb(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:a,name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:m,timeout:g})=>{const{batchSize:b=1e3,wait:y=0}=typeof n=="object"?n:{},w=e.retryCount??m,x=g??e.timeout??1e4,N=t||f?.rpcUrls.default.http[0];if(!N)throw new cQ;const E=zZ(N,{fetchOptions:r,onRequest:o,onResponse:c,timeout:x});return aC({key:s,methods:a,name:i,async request({method:C,params:k}){const A={method:C,params:k},{schedule:_}=kO({id:N,wait:y,shouldSplitBatch(H){return H.length>b},fn:H=>E.request({body:H}),sort:(H,M)=>H.id-M.id}),P=async H=>n?_(H):[await E.request({body:H})],[{error:I,result:$}]=await P(A);if(h)return{error:I,result:$};if(I)throw new Ok({body:A,error:I,url:N});return $},retryCount:w,retryDelay:u,timeout:x,type:"http"},{fetchOptions:r,url:N})}}function uQ(t){const{scheme:e,statement:n,...r}=t.match(dQ)?.groups??{},{chainId:s,expirationTime:a,issuedAt:i,notBefore:o,requestId:c,...u}=t.match(hQ)?.groups??{},h=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...i?{issuedAt:new Date(i)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...h?{resources:h}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const dQ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,hQ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function fQ(t){const{address:e,domain:n,message:r,nonce:s,scheme:a,time:i=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!ma(r.address,{strict:!1})||e&&!oy(r.address,e))return!1}catch{return!1}return!0}async function pQ(t,e){const{address:n,domain:r,message:s,nonce:a,scheme:i,signature:o,time:c=new Date,...u}=e,h=uQ(s);if(!h.address||!fQ({address:n,domain:r,message:h,nonce:a,scheme:i,time:c}))return!1;const f=nR(s);return rC(t,{address:h.address,hash:f,signature:o,...u})}function mQ(t){return{call:e=>Ap(t,e),createAccessList:e=>AO(t,e),createBlockFilter:()=>mV(t),createContractEventFilter:e=>jO(t,e),createEventFilter:e=>TO(t,e),createPendingTransactionFilter:()=>IO(t),estimateContractGas:e=>yV(t,e),estimateGas:e=>$v(t,e),getBalance:e=>zk(t,e),getBlobBaseFee:()=>bV(t),getBlock:e=>eo(t,e),getBlockNumber:e=>iy(t,e),getBlockTransactionCount:e=>CV(t,e),getBytecode:e=>ZA(t,e),getChainId:()=>Rv(t),getCode:e=>ZA(t,e),getContractEvents:e=>_O(t,e),getEip712Domain:e=>jV(t,e),getEnsAddress:e=>Xq(t,e),getEnsAvatar:e=>hV(t,e),getEnsName:e=>fV(t,e),getEnsResolver:e=>pV(t,e),getEnsText:e=>SO(t,e),getFeeHistory:e=>_V(t,e),estimateFeesPerGas:e=>OH(t,e),getFilterChanges:e=>Dv(t,e),getFilterLogs:e=>PV(t,e),getGasPrice:()=>$k(t),getLogs:e=>Qk(t,e),getProof:e=>hK(t,e),estimateMaxPriorityFeePerGas:e=>PH(t,e),getStorageAt:e=>OV(t,e),getTransaction:e=>Wv(t,e),getTransactionConfirmations:e=>RV(t,e),getTransactionCount:e=>Lk(t,e),getTransactionReceipt:e=>A1(t,e),multicall:e=>OO(t,e),prepareTransactionRequest:e=>Mv(t,e),readContract:e=>ho(t,e),sendRawTransaction:e=>BP(t,e),simulate:e=>zN(t,e),simulateBlocks:e=>zN(t,e),simulateCalls:e=>tK(t,e),simulateContract:e=>pK(t,e),verifyMessage:e=>QK(t,e),verifySiweMessage:e=>pQ(t,e),verifyTypedData:e=>JK(t,e),uninstallFilter:e=>Gv(t,e),waitForTransactionReceipt:e=>iR(t,e),watchBlocks:e=>rK(t,e),watchBlockNumber:e=>sR(t,e),watchContractEvent:e=>YK(t,e),watchEvent:e=>sK(t,e),watchPendingTransactions:e=>aR(t,e)}}function U3e(t){const{key:e="public",name:n="Public Client"}=t;return sC({...t,key:e,name:n,type:"publicClient"}).extend(mQ)}function D3e(t){const{r:e,s:n}=nC.Signature.fromCompact(t.slice(2,130)),r=+`0x${t.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:At(e,{size:32}),s:At(n,{size:32}),v:s,yParity:a}:{r:At(e,{size:32}),s:At(n,{size:32}),yParity:a}}async function Kv(t,e={}){let n;if(e.connector){const{connector:u}=e;if(t.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new aQ({connector:u});const[h,f]=await Promise.all([u.getAccounts().catch(m=>{if(e.account===null)return[];throw m}),u.getChainId()]);n={accounts:h,chainId:f,connector:u}}else n=t.state.connections.get(t.state.current);if(!n)throw new nQ;const r=e.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new sQ({connectionChainId:n.chainId,connectorChainId:s});const a=n.connector;if(a.getClient)return a.getClient({chainId:r});const i=Yr(e.account??n.accounts[0]);if(i&&(i.address=Tc(i.address)),e.account&&!n.accounts.some(u=>u.toLowerCase()===i.address.toLowerCase()))throw new rQ({address:i.address,connector:a});const o=t.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return sC({account:i,chain:o,name:"Connector Client",transport:u=>iQ(c)({...u,retryCount:0})})}async function ZN(t,e={}){let n;if(e.connector)n=e.connector;else{const{connections:s,current:a}=t.state;n=s.get(a)?.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off("change",t._internal.events.change),n.emitter.off("disconnect",t._internal.events.disconnect),n.emitter.on("connect",t._internal.events.connect),r.delete(n.uid)),t.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...s,connections:new Map(r),current:a.connector.uid}});{const s=t.state.current;if(!s)return;const a=t.state.connections.get(s)?.connector;if(!a)return;await t.storage?.setItem("recentConnectorId",a.id)}}function SR(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(yH[t])}async function gQ(t,e){const{chainId:n,connector:r,...s}=e;let a;e.account?a=e.account:a=(await Kv(t,{account:e.account,chainId:n,connector:r})).account;const i=t.getClient({chainId:n});return Ba(i,$v,"estimateGas")({...s,account:a})}function Rf(t){const e=t.state.current,n=t.state.connections.get(e),r=n?.accounts,s=r?.[0],a=t.chains.find(o=>o.id===n?.chainId),i=t.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function yQ(t,e){const{allowFailure:n=!0,chainId:r,contracts:s,...a}=e,i=t.getClient({chainId:r});return Ba(i,OO,"multicall")({allowFailure:n,contracts:s,...a})}function bQ(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return Ba(s,ho,"readContract")(r)}async function wQ(t,e){const{allowFailure:n=!0,blockNumber:r,blockTag:s,...a}=e,i=e.contracts;try{const o={};for(const[f,m]of i.entries()){const g=m.chainId??t.state.chainId;o[g]||(o[g]=[]),o[g]?.push({contract:m,index:f})}const c=()=>Object.entries(o).map(([f,m])=>yQ(t,{...a,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(f),contracts:m.map(({contract:g})=>g)})),u=(await Promise.all(c())).flat(),h=Object.values(o).flatMap(f=>f.map(({index:m})=>m));return u.reduce((f,m,g)=>(f&&(f[h[g]]=m),f),[])}catch(o){if(o instanceof cO)throw o;const c=()=>i.map(u=>bQ(t,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(c())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function AR(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:a,token:i,unit:o="ether"}=e;if(i)try{return await dj(t,{balanceAddress:n,chainId:a,symbolType:"string",tokenAddress:i})}catch(f){if(f.name==="ContractFunctionExecutionError"){const m=await dj(t,{balanceAddress:n,chainId:a,symbolType:"bytes32",tokenAddress:i}),g=T9(so(m.symbol,{dir:"right"}));return{...m,symbol:g}}throw f}const c=t.getClient({chainId:a}),u=await Ba(c,zk,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),h=t.chains.find(f=>f.id===a)??c.chain;return{decimals:h.nativeCurrency.decimals,formatted:kp(u,SR(o)),symbol:h.nativeCurrency.symbol,value:u}}async function dj(t,e){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:a,unit:i}=e,o={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:a},[c,u,h]=await wQ(t,{allowFailure:!1,contracts:[{...o,functionName:"balanceOf",args:[n],chainId:r},{...o,functionName:"decimals",chainId:r},{...o,functionName:"symbol",chainId:r}]}),f=kp(c??"0",SR(i??u));return{decimals:u,formatted:f,symbol:h,value:c}}function hj(t){return t.state.chainId}function Uc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,r;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uc(t[r],e[r]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(a&&!Uc(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}let O3=[];function fj(t){const e=t.chains;return Uc(O3,e)?O3:(O3=e,e)}let R3=[];function ii(t){const e=[...t.state.connections.values()];return t.state.status==="reconnecting"||Uc(R3,e)?R3:(R3=e,e)}let $3=[];function pj(t){const e=t.connectors;return Uc($3,e)?$3:($3=e,e)}async function vQ(t,e){const{account:n,chainId:r,...s}=e,a=n??Rf(t).address,i=t.getClient({chainId:r});return Ba(i,Mv,"prepareTransactionRequest")({...s,...a?{account:a}:{}})}let M3=!1;async function KN(t,e={}){if(M3)return[];M3=!0,t.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(e.connectors?.length)for(const u of e.connectors){let h;typeof u=="function"?h=t._internal.connectors.setup(u):h=u,n.push(h)}else n.push(...t.connectors);let r;try{r=await t.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of t.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const a=Object.keys(s).length>0?[...n].sort((u,h)=>(s[u.id]??10)-(s[h.id]??10)):n;let i=!1;const o=[],c=[];for(const u of a){const h=await u.getProvider().catch(()=>{});if(!h||c.some(m=>m===h)||!await u.isAuthorized())continue;const f=await u.connect({isReconnecting:!0}).catch(()=>null);f&&(u.emitter.off("connect",t._internal.events.connect),u.emitter.on("change",t._internal.events.change),u.emitter.on("disconnect",t._internal.events.disconnect),t.setState(m=>{const g=new Map(i?m.connections:new Map).set(u.uid,{accounts:f.accounts,chainId:f.chainId,connector:u});return{...m,current:i?m.current:u.uid,connections:g}}),o.push({accounts:f.accounts,chainId:f.chainId,connector:u}),c.push(h),i=!0)}return(t.state.status==="reconnecting"||t.state.status==="connecting")&&(i?t.setState(u=>({...u,status:"connected"})):t.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),M3=!1,o}async function xQ(t,e){const{account:n,chainId:r,connector:s,...a}=e;let i;return typeof n=="object"&&n?.type==="local"?i=t.getClient({chainId:r}):i=await Kv(t,{account:n??void 0,chainId:r,connector:s}),await Ba(i,FP,"sendTransaction")({...a,...n?{account:n}:{},chain:r?{id:r}:null,gas:a.gas??void 0})}async function NQ(t,e){const{account:n,connector:r,...s}=e;let a;return typeof n=="object"&&n.type==="local"?a=t.getClient():a=await Kv(t,{account:n,connector:r}),Ba(a,fK,"signMessage")({...s,...n?{account:n}:{}})}let xc=class extends vl{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}},kQ=class extends vl{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}};async function QN(t,e){const{addEthereumChainParameter:n,chainId:r}=e,s=t.state.connections.get(e.connector?.uid??t.state.current);if(s){const i=s.connector;if(!i.switchChain)throw new kQ({connector:i});return await i.switchChain({addEthereumChainParameter:n,chainId:r})}const a=t.chains.find(i=>i.id===r);if(!a)throw new yg;return t.setState(i=>({...i,chainId:r})),a}async function CQ(t,e){const{chainId:n,timeout:r=0,...s}=e,a=t.getClient({chainId:n}),i=await Ba(a,iR,"waitForTransactionReceipt")({...s,timeout:r});if(i.status==="reverted"){const o=await Ba(a,Wv,"getTransaction")({hash:i.transactionHash}),c=await Ba(a,Ap,"call")({...o,data:o.input,gasPrice:o.type!=="eip1559"?o.gasPrice:void 0,maxFeePerGas:o.type==="eip1559"?o.maxFeePerGas:void 0,maxPriorityFeePerGas:o.type==="eip1559"?o.maxPriorityFeePerGas:void 0}),u=c?.data?T9(`0x${c.data.substring(138)}`):"unknown reason";throw new Error(u)}return{...i,chainId:a.chain.id}}function jR(t,e){const{onChange:n}=e;return t.subscribe(()=>Rf(t),n,{equalityFn(r,s){const{connector:a,...i}=r,{connector:o,...c}=s;return Uc(i,c)&&a?.id===o?.id&&a?.uid===o?.uid}})}function EQ(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function TR(t,e){const{onChange:n}=e;return t.subscribe(()=>ii(t),n,{equalityFn:Uc})}function IR(t,e){const{onChange:n}=e;return t._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function SQ(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const a=c=>{s&&s();const u=t.getClient({chainId:c});return s=Ba(u,aR,"watchPendingTransactions")(r),s},i=a(e.chainId);let o;return n&&!e.chainId&&(o=t.subscribe(({chainId:c})=>c,async c=>a(c))),()=>{i?.(),o?.()}}async function AQ(t,e){const{account:n,chainId:r,connector:s,...a}=e;let i;return typeof n=="object"&&n?.type==="local"?i=t.getClient({chainId:r}):i=await Kv(t,{account:n??void 0,chainId:r,connector:s}),await Ba(i,XK,"writeContract")({...a,...n?{account:n}:{},chain:r?{id:r}:null})}function G3e(t){return t}Qv.type="injected";function Qv(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...jQ[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,a,i,o;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Qv.type,async setup(){const u=await this.getProvider();u?.on&&t.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:h}={}){const f=await this.getProvider();if(!f)throw new xc;let m=[];if(h)m=await this.getAccounts().catch(()=>[]);else if(e)try{m=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(g=>Tc(g)),m.length>0&&(m=await this.getAccounts())}catch(g){const b=g;if(b.code===Vr.code)throw new Vr(b);if(b.code===Pf.code)throw b}try{!m?.length&&!h&&(m=(await f.request({method:"eth_requestAccounts"})).map(b=>Tc(b))),i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),f.on("chainChanged",a)),o||(o=this.onDisconnect.bind(this),f.on("disconnect",o));let g=await this.getChainId();return u&&g!==u&&(g=(await this.switchChain({chainId:u}).catch(b=>{if(b.code===Vr.code)throw b;return{id:g}}))?.id??g),e&&await c.storage?.removeItem(`${this.id}.disconnected`),t.target||await c.storage?.setItem("injected.connected",!0),{accounts:m,chainId:g}}catch(g){const b=g;throw b.code===Vr.code?new Vr(b):b.code===Pf.code?new Pf(b):b}},async disconnect(){const u=await this.getProvider();if(!u)throw new xc;a&&(u.removeListener("chainChanged",a),a=void 0),o&&(u.removeListener("disconnect",o),o=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await QO(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await c.storage?.setItem(`${this.id}.disconnected`,!0),t.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new xc;return(await u.request({method:"eth_accounts"})).map(h=>Tc(h))},async getChainId(){const u=await this.getProvider();if(!u)throw new xc;const h=await u.request({method:"eth_chainId"});return Number(h)},async getProvider(){if(typeof window>"u")return;let u;const h=r();return typeof h.provider=="function"?u=h.provider(window):typeof h.provider=="string"?u=I1(window,h.provider):u=h.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(e&&await c.storage?.getItem(`${this.id}.disconnected`)||!t.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const u=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",u),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(f=>window.addEventListener("ethereum#initialized",()=>f(u()),{once:!0}))]:[],new Promise(f=>setTimeout(()=>f(u()),h))]))return!0}throw new xc}return!!(await gg(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:h}){const f=await this.getProvider();if(!f)throw new xc;const m=c.chains.find(b=>b.id===h);if(!m)throw new Fc(new yg);const g=new Promise(b=>{const y=w=>{"chainId"in w&&w.chainId===h&&(c.emitter.off("change",y),b())};c.emitter.on("change",y)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:At(h)}]}).then(async()=>{await this.getChainId()===h&&c.emitter.emit("change",{chainId:h})}),g]),m}catch(b){const y=b;if(y.code===4902||y?.data?.originalError?.code===4902)try{const{default:w,...x}=m.blockExplorers??{};let N;u?.blockExplorerUrls?N=u.blockExplorerUrls:w&&(N=[w.url,...Object.values(x).map(k=>k.url)]);let E;u?.rpcUrls?.length?E=u.rpcUrls:E=[m.rpcUrls.default?.http[0]??""];const C={blockExplorerUrls:N,chainId:At(h),chainName:u?.chainName??m.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??m.nativeCurrency,rpcUrls:E};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[C]}).then(async()=>{if(await this.getChainId()===h)c.emitter.emit("change",{chainId:h});else throw new Vr(new Error("User rejected switch after adding network."))}),g]),m}catch(w){throw new Vr(w)}throw y.code===Vr.code?new Vr(y):new Fc(y)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(h=>Tc(h))})},onChainChanged(u){const h=Number(u);c.emitter.emit("change",{chainId:h})},async onConnect(u){const h=await this.getAccounts();if(h.length===0)return;const f=Number(u.chainId);c.emitter.emit("connect",{accounts:h,chainId:f});const m=await this.getProvider();m&&(i&&(m.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),m.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),m.on("chainChanged",a)),o||(o=this.onDisconnect.bind(this),m.on("disconnect",o)))},async onDisconnect(u){const h=await this.getProvider();u&&u.code===1013&&h&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),h&&(a&&(h.removeListener("chainChanged",a),a=void 0),o&&(h.removeListener("disconnect",o),o=void 0),i||(i=this.onConnect.bind(this),h.on("connect",i))))}})}const jQ={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(t){return t?.coinbaseWalletExtension?t.coinbaseWalletExtension:I1(t,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(t){return I1(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(t){return t?.phantom?.ethereum?t.phantom?.ethereum:I1(t,"isPhantom")}}};function I1(t,e){function n(s){return typeof e=="function"?e(s):typeof e=="string"?s[e]:!0}const r=t.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function TQ(t){if(typeof window>"u")return;const e=n=>t(n.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function IQ(){const t=new Set;let e=[];const n=()=>TQ(s=>{e.some(({info:a})=>a.uuid===s.info.uuid)||(e=[...e,s],t.forEach(a=>a(e,{added:[s]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(s=>s([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r?.()},findProvider({rdns:s}){return e.find(a=>a.info.rdns===s)},getProviders(){return e},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:a}={}){return t.add(s),a&&s(e,{added:e}),()=>t.delete(s)}}}const _Q=t=>(e,n,r)=>{const s=r.subscribe;return r.subscribe=(a,i,o)=>{let c=a;if(i){const u=o?.equalityFn||Object.is;let h=a(r.getState());c=f=>{const m=a(f);if(!u(h,m)){const g=h;i(h=m,g)}},o?.fireImmediately&&i(h,h)}return s(c)},t(e,n,r)},PQ=_Q;function OQ(t,e){let n;try{n=t()}catch{return}return{getItem:r=>{var s;const a=o=>o===null?null:JSON.parse(o,void 0),i=(s=n.getItem(r))!=null?s:null;return i instanceof Promise?i.then(a):a(i)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const JN=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return JN(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return JN(r)(n)}}}},RQ=(t,e)=>(n,r,s)=>{let a={storage:OQ(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...e},i=!1;const o=new Set,c=new Set;let u=a.storage;if(!u)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},r,s);const h=()=>{const y=a.partialize({...r()});return u.setItem(a.name,{state:y,version:a.version})},f=s.setState;s.setState=(y,w)=>{f(y,w),h()};const m=t((...y)=>{n(...y),h()},r,s);s.getInitialState=()=>m;let g;const b=()=>{var y,w;if(!u)return;i=!1,o.forEach(N=>{var E;return N((E=r())!=null?E:m)});const x=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(y=r())!=null?y:m))||void 0;return JN(u.getItem.bind(u))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate)return[!0,a.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var E;const[C,k]=N;if(g=a.merge(k,(E=r())!=null?E:m),n(g,!0),C)return h()}).then(()=>{x?.(g,void 0),g=r(),i=!0,c.forEach(N=>N(g))}).catch(N=>{x?.(void 0,N)})};return s.persist={setOptions:y=>{a={...a,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||b(),g||m},$Q=RQ,mj=t=>{let e;const n=new Set,r=(o,c)=>{const u=typeof o=="function"?o(e):o;if(!Object.is(u,e)){const h=e;e=c??(typeof u!="object"||u===null)?u:Object.assign({},e,u),n.forEach(f=>f(e,h))}},s=()=>e,a={setState:r,getState:s,getInitialState:()=>i,subscribe:o=>(n.add(o),()=>n.delete(o))},i=e=t(r,s,a);return a},z3=t=>t?mj(t):mj;var gj={exports:{}},yj;function MQ(){return yj||(yj=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function a(c,u,h,f,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new s(h,f||c,m),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],g]:c._events[b].push(g):(c._events[b]=g,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,g=new Array(m);f<m;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,u,h,f,m,g){var b=n?n+c:c;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,x,N;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,m),!0;case 6:return y.fn.call(y.context,u,h,f,m,g),!0}for(N=1,x=new Array(w-1);N<w;N++)x[N-1]=arguments[N];y.fn.apply(y.context,x)}else{var E=y.length,C;for(N=0;N<E;N++)switch(y[N].once&&this.removeListener(c,y[N].fn,void 0,!0),w){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,u);break;case 3:y[N].fn.call(y[N].context,u,h);break;case 4:y[N].fn.call(y[N].context,u,h,f);break;default:if(!x)for(C=1,x=new Array(w-1);C<w;C++)x[C-1]=arguments[C];y[N].fn.apply(y[N].context,x)}}return!0},o.prototype.on=function(c,u,h){return a(this,c,u,h,!1)},o.prototype.once=function(c,u,h){return a(this,c,u,h,!0)},o.prototype.removeListener=function(c,u,h,f){var m=n?n+c:c;if(!this._events[m])return this;if(!u)return i(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&i(this,m);else{for(var b=0,y=[],w=g.length;b<w;b++)(g[b].fn!==u||f&&!g[b].once||h&&g[b].context!==h)&&y.push(g[b]);y.length?this._events[m]=y.length===1?y[0]:y:i(this,m)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&i(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o}(gj)),gj.exports}var zQ=MQ();const LQ=xp(zQ);let BQ=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new LQ})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}};function FQ(t){return new BQ(t)}function UQ(t,e){return JSON.parse(t,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),e?.(n,s)??s})}function bj(t,e){return t.slice(0,e).join(".")||"."}function wj(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function DQ(t,e){const n=typeof t=="function",r=typeof e=="function",s=[],a=[];return function(i,o){if(typeof o=="object")if(s.length){const c=wj(s,this);c===0?s[s.length]=this:(s.splice(c),a.splice(c)),a[a.length]=i;const u=wj(s,o);if(u!==0)return r?e.call(this,i,o,bj(a,u)):`[ref=${bj(a,u)}]`}else s[0]=o,a[0]=i;return n?t.call(this,i,o):o}}function WQ(t,e,n,r){return JSON.stringify(t,DQ((s,a)=>{let i=a;return typeof i=="bigint"&&(i={__type:"bigint",value:a.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(a.entries())}),e?.(s,i)??i},r),n??void 0)}function HQ(t){const{deserialize:e=UQ,key:n="wagmi",serialize:r=WQ,storage:s=_R}=t;function a(i){return i instanceof Promise?i.then(o=>o).catch(()=>null):i}return{...s,key:n,async getItem(i,o){const c=s.getItem(`${n}.${i}`),u=await a(c);return u?e(u)??null:o??null},async setItem(i,o){const c=`${n}.${i}`;o===null?await a(s.removeItem(c)):await a(s.setItem(c,r(o)))},async removeItem(i){await a(s.removeItem(`${n}.${i}`))}}}const _R={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function GQ(){const t=typeof window<"u"&&window.localStorage?window.localStorage:_R;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const YN=256;let Gb=YN,qb;function qQ(t=11){if(!qb||Gb+t>YN*2){qb="",Gb=0;for(let e=0;e<YN;e++)qb+=(256+Math.random()*256|0).toString(16).substring(1)}return qb.substring(Gb,Gb+++t)}function PR(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=HQ({storage:GQ()}),syncConnectedChain:r=!0,ssr:s=!1,...a}=t,i=typeof window<"u"&&e?IQ():void 0,o=z3(()=>a.chains),c=z3(()=>{const k=[],A=new Set;for(const _ of a.connectors??[]){const P=u(_);if(k.push(P),!s&&P.rdns){const I=typeof P.rdns=="string"?[P.rdns]:P.rdns;for(const $ of I)A.add($)}}if(!s&&i){const _=i.getProviders();for(const P of _)A.has(P.info.rdns)||k.push(u(h(P)))}return k});function u(k){const A=FQ(qQ()),_={...k({emitter:A,chains:o.getState(),storage:n,transports:a.transports}),emitter:A,uid:A.uid};return A.on("connect",E),_.setup?.(),_}function h(k){const{info:A}=k,_=k.provider;return Qv({target:{...A,id:A.rdns,provider:_}})}const f=new Map;function m(k={}){const A=k.chainId??w.getState().chainId,_=o.getState().find(I=>I.id===A);if(k.chainId&&!_)throw new yg;{const I=f.get(w.getState().chainId);if(I&&!_)return I;if(!_)throw new yg}{const I=f.get(A);if(I)return I}let P;if(a.client)P=a.client({chain:_});else{const I=_.id,$=o.getState().map(B=>B.id),H={},M=Object.entries(a);for(const[B,O]of M)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof O=="object")if(I in O)H[B]=O[I];else{if($.some(z=>z in O))continue;H[B]=O}else H[B]=O;P=sC({...H,chain:_,batch:H.batch??{multicall:!0},transport:B=>a.transports[I]({...B,connectors:c})})}return f.set(A,P),P}function g(){return{chainId:o.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const y="0.0.0-canary-";j1.startsWith(y)?b=Number.parseInt(j1.replace(y,"")):b=Number.parseInt(j1.split(".")[0]??"0");const w=z3(PQ(n?$Q(g,{migrate(k,A){if(A===b)return k;const _=g(),P=x(k,_.chainId);return{..._,chainId:P}},name:"store",partialize(k){return{connections:{__type:"Map",value:Array.from(k.connections.entries()).map(([A,_])=>{const{id:P,name:I,type:$,uid:H}=_.connector;return[A,{..._,connector:{id:P,name:I,type:$,uid:H}}]})},chainId:k.chainId,current:k.current}},merge(k,A){typeof k=="object"&&k&&"status"in k&&delete k.status;const _=x(k,A.chainId);return{...A,...k,chainId:_}},skipHydration:s,storage:n,version:b}):g));w.setState(g());function x(k,A){return k&&typeof k=="object"&&"chainId"in k&&typeof k.chainId=="number"&&o.getState().some(_=>_.id===k.chainId)?k.chainId:A}r&&w.subscribe(({connections:k,current:A})=>A?k.get(A)?.chainId:void 0,k=>{if(o.getState().some(A=>A.id===k))return w.setState(A=>({...A,chainId:k??A.chainId}))}),i?.subscribe(k=>{const A=new Set,_=new Set;for(const I of c.getState())if(A.add(I.id),I.rdns){const $=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const H of $)_.add(H)}const P=[];for(const I of k){if(_.has(I.info.rdns))continue;const $=u(h(I));A.has($.id)||P.push($)}n&&!w.persist.hasHydrated()||c.setState(I=>[...I,...P],!0)});function N(k){w.setState(A=>{const _=A.connections.get(k.uid);return _?{...A,connections:new Map(A.connections).set(k.uid,{accounts:k.accounts??_.accounts,chainId:k.chainId??_.chainId,connector:_.connector})}:A})}function E(k){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(A=>{const _=c.getState().find(P=>P.uid===k.uid);return _?(_.emitter.listenerCount("connect")&&_.emitter.off("connect",N),_.emitter.listenerCount("change")||_.emitter.on("change",N),_.emitter.listenerCount("disconnect")||_.emitter.on("disconnect",C),{...A,connections:new Map(A.connections).set(k.uid,{accounts:k.accounts,chainId:k.chainId,connector:_}),current:k.uid,status:"connected"}):A})}function C(k){w.setState(A=>{const _=A.connections.get(k.uid);if(_){const I=_.connector;I.emitter.listenerCount("change")&&_.connector.emitter.off("change",N),I.emitter.listenerCount("disconnect")&&_.connector.emitter.off("disconnect",C),I.emitter.listenerCount("connect")||_.connector.emitter.on("connect",E)}if(A.connections.delete(k.uid),A.connections.size===0)return{...A,connections:new Map,current:null,status:"disconnected"};const P=A.connections.values().next().value;return{...A,connections:new Map(A.connections),current:P.connector.uid}})}return{get chains(){return o.getState()},get connectors(){return c.getState()},storage:n,getClient:m,get state(){return w.getState()},setState(k){let A;typeof k=="function"?A=k(w.getState()):A=k;const _=g();typeof A!="object"&&(A=_),Object.keys(_).some(P=>!(P in A))&&(A=_),w.setState(A,!0)},subscribe(k,A,_){return w.subscribe(k,A,_?{..._,fireImmediately:_.emitImmediately}:void 0)},_internal:{mipd:i,store:w,ssr:!!s,syncConnectedChain:r,transports:a.transports,chains:{setState(k){const A=typeof k=="function"?k(o.getState()):k;if(A.length!==0)return o.setState(A,!0)},subscribe(k){return o.subscribe(k)}},connectors:{providerDetailToConnector:h,setup:u,setState(k){return c.setState(typeof k=="function"?k(c.getState()):k,!0)},subscribe(k){return c.subscribe(k)}},events:{change:N,connect:E,disconnect:C}}}}function VQ(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){t._internal.ssr&&(await t._internal.store.persist.rehydrate(),t._internal.mipd&&t._internal.connectors.setState(s=>{const a=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const h of u)a.add(h)}const i=[],o=t._internal.mipd?.getProviders()??[];for(const c of o){if(a.has(c.info.rdns))continue;const u=t._internal.connectors.providerDetailToConnector(c),h=t._internal.connectors.setup(u);i.push(h)}return[...s,...i]})),r?KN(t):t.storage&&t.setState(s=>({...s,connections:new Map}))}}}function ZQ(t){const{children:e,config:n,initialState:r,reconnectOnMount:s=!0}=t,{onMount:a}=VQ(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||a();const i=j.useRef(!0);return j.useEffect(()=>{if(i.current&&n._internal.ssr)return a(),()=>{i.current=!1}},[]),e}const OR=j.createContext(void 0);function KQ(t){const{children:e,config:n}=t,r={value:n};return j.createElement(ZQ,t,j.createElement(OR.Provider,r,e))}const QQ="2.16.2",JQ=()=>`wagmi@${QQ}`;let YQ=class extends vl{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return JQ()}},XQ=class extends YQ{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}};function xl(t={}){const e=t.config??j.useContext(OR);if(!e)throw new XQ;return e}function eJ(t,e){const{onChange:n}=e;return t._internal.chains.subscribe((r,s)=>{n(r,s)})}var vj={exports:{}},L3={},xj={exports:{}},B3={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Nj;function tJ(){if(Nj)return B3;Nj=1;var t=Qg();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,i=t.useDebugValue;function o(f,m){var g=m(),b=r({inst:{value:g,getSnapshot:m}}),y=b[0].inst,w=b[1];return a(function(){y.value=g,y.getSnapshot=m,c(y)&&w({inst:y})},[f,g,m]),s(function(){return c(y)&&w({inst:y}),f(function(){c(y)&&w({inst:y})})},[f]),i(g),g}function c(f){var m=f.getSnapshot;f=f.value;try{var g=m();return!n(f,g)}catch{return!0}}function u(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return B3.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,B3}var kj;function nJ(){return kj||(kj=1,xj.exports=tJ()),xj.exports}/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Cj;function rJ(){if(Cj)return L3;Cj=1;var t=Qg(),e=nJ();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,i=t.useEffect,o=t.useMemo,c=t.useDebugValue;return L3.useSyncExternalStoreWithSelector=function(u,h,f,m,g){var b=a(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function x(A){if(!N){if(N=!0,E=A,A=m(A),g!==void 0&&y.hasValue){var _=y.value;if(g(_,A))return C=_}return C=A}if(_=C,r(E,A))return _;var P=m(A);return g!==void 0&&g(_,P)?(E=A,_):(E=A,C=P)}var N=!1,E,C,k=f===void 0?null:f;return[function(){return x(h())},k===null?void 0:function(){return x(k())}]},[h,f,m,g]);var w=s(u,b[0],b[1]);return i(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},L3}var Ej;function sJ(){return Ej||(Ej=1,vj.exports=rJ()),vj.exports}var aJ=sJ();const F3=t=>typeof t=="object"&&!Array.isArray(t);function iJ(t,e,n=e,r=Uc){const s=j.useRef([]),a=aJ.useSyncExternalStoreWithSelector(t,e,n,i=>i,(i,o)=>{if(F3(i)&&F3(o)&&s.current.length){for(const c of s.current)if(!r(i[c],o[c]))return!1;return!0}return r(i,o)});return j.useMemo(()=>{if(F3(a)){const i={...a};let o={};for(const[c,u]of Object.entries(i))o={...o,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(i,o),i}return a},[a])}function oJ(t={}){const e=xl(t);return iJ(n=>jR(e,{onChange:n}),()=>Rf(e))}var Tp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$d=typeof window>"u"||"Deno"in globalThis;function gs(){}function lJ(t,e){return typeof t=="function"?t(e):t}function XN(t){return typeof t=="number"&&t>=0&&t!==1/0}function RR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zc(t,e){return typeof t=="function"?t(e):t}function za(t,e){return typeof t=="function"?t(e):t}function Sj(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=t;if(i){if(r){if(e.queryHash!==iC(i,e.options))return!1}else if(!bg(e.queryKey,i))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||a&&!a(e))}function Aj(t,e){const{exact:n,status:r,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Md(e.options.mutationKey)!==Md(a))return!1}else if(!bg(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function iC(t,e){return(e?.queryKeyHashFn||Md)(t)}function Md(t){return JSON.stringify(t,(e,n)=>e5(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function bg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>bg(t[n],e[n])):!1}function $R(t,e){if(t===e)return t;const n=jj(t)&&jj(e);if(n||e5(t)&&e5(e)){const r=n?t:Object.keys(t),s=r.length,a=n?e:Object.keys(e),i=a.length,o=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<i;h++){const f=n?h:a[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,u++):(o[f]=$R(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&u++)}return s===i&&u===s?t:o}return e}function jw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function jj(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function e5(t){if(!Tj(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Tj(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Tj(t){return Object.prototype.toString.call(t)==="[object Object]"}function cJ(t){return new Promise(e=>{setTimeout(e,t)})}function t5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?$R(t,e):e}function uJ(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function dJ(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var oC=Symbol();function MR(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===oC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function zR(t,e){return typeof t=="function"?t(...e):!!t}var Oh,gu,Sm,Ij,hJ=(Ij=class extends Tp{constructor(){super(),Ft(this,Oh),Ft(this,gu),Ft(this,Sm),ut(this,Sm,t=>{if(!$d&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){ve(this,gu)||this.setEventListener(ve(this,Sm))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,gu))==null||t.call(this),ut(this,gu,void 0))}setEventListener(t){var e;ut(this,Sm,t),(e=ve(this,gu))==null||e.call(this),ut(this,gu,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ve(this,Oh)!==t&&(ut(this,Oh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof ve(this,Oh)=="boolean"?ve(this,Oh):globalThis.document?.visibilityState!=="hidden"}},Oh=new WeakMap,gu=new WeakMap,Sm=new WeakMap,Ij),lC=new hJ,Am,yu,jm,_j,fJ=(_j=class extends Tp{constructor(){super(),Ft(this,Am,!0),Ft(this,yu),Ft(this,jm),ut(this,jm,t=>{if(!$d&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){ve(this,yu)||this.setEventListener(ve(this,jm))}onUnsubscribe(){var t;this.hasListeners()||((t=ve(this,yu))==null||t.call(this),ut(this,yu,void 0))}setEventListener(t){var e;ut(this,jm,t),(e=ve(this,yu))==null||e.call(this),ut(this,yu,t(this.setOnline.bind(this)))}setOnline(t){ve(this,Am)!==t&&(ut(this,Am,t),this.listeners.forEach(e=>{e(t)}))}isOnline(){return ve(this,Am)}},Am=new WeakMap,yu=new WeakMap,jm=new WeakMap,_j),Tw=new fJ;function n5(){let t,e;const n=new Promise((s,a)=>{t=s,e=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function pJ(t){return Math.min(1e3*2**t,3e4)}function LR(t){return(t??"online")==="online"?Tw.isOnline():!0}var BR=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function U3(t){return t instanceof BR}function FR(t){let e=!1,n=0,r=!1,s;const a=n5(),i=y=>{r||(m(new BR(y)),t.abort?.())},o=()=>{e=!0},c=()=>{e=!1},u=()=>lC.isFocused()&&(t.networkMode==="always"||Tw.isOnline())&&t.canRun(),h=()=>LR(t.networkMode)&&t.canRun(),f=y=>{r||(r=!0,t.onSuccess?.(y),s?.(),a.resolve(y))},m=y=>{r||(r=!0,t.onError?.(y),s?.(),a.reject(y))},g=()=>new Promise(y=>{s=w=>{(r||u())&&y(w)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),b=()=>{if(r)return;let y;const w=n===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{if(r)return;const N=t.retry??($d?0:3),E=t.retryDelay??pJ,C=typeof E=="function"?E(n,x):E,k=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,x);if(e||!k){m(x);return}n++,t.onFail?.(n,x),cJ(C).then(()=>u()?void 0:g()).then(()=>{e?m(x):b()})})};return{promise:a,cancel:i,continue:()=>(s?.(),a),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?b():g().then(b),a)}}var mJ=t=>setTimeout(t,0);function gJ(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=mJ;const a=o=>{e?t.push(o):s(()=>{n(o)})},i=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var _r=gJ(),Rh,Pj,UR=(Pj=class{constructor(){Ft(this,Rh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XN(this.gcTime)&&ut(this,Rh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($d?1/0:300*1e3))}clearGcTimeout(){ve(this,Rh)&&(clearTimeout(ve(this,Rh)),ut(this,Rh,void 0))}},Rh=new WeakMap,Pj),Tm,$h,ei,Mh,ds,Vb,zh,Bi,Po,Oj,yJ=(Oj=class extends UR{constructor(t){super(),Ft(this,Bi),Ft(this,Tm),Ft(this,$h),Ft(this,ei),Ft(this,Mh),Ft(this,ds),Ft(this,Vb),Ft(this,zh),ut(this,zh,!1),ut(this,Vb,t.defaultOptions),this.setOptions(t.options),this.observers=[],ut(this,Mh,t.client),ut(this,ei,ve(this,Mh).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ut(this,Tm,bJ(this.options)),this.state=t.state??ve(this,Tm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return ve(this,ds)?.promise}setOptions(t){this.options={...ve(this,Vb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ve(this,ei).remove(this)}setData(t,e){const n=t5(this.state.data,t,this.options);return sn(this,Bi,Po).call(this,{data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){sn(this,Bi,Po).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){const e=ve(this,ds)?.promise;return ve(this,ds)?.cancel(t),e?e.then(gs).catch(gs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ve(this,Tm))}isActive(){return this.observers.some(t=>za(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!RR(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),ve(this,ds)?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),ve(this,ds)?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ve(this,ei).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(ve(this,ds)&&(ve(this,zh)?ve(this,ds).cancel({revert:!0}):ve(this,ds).cancelRetry()),this.scheduleGc()),ve(this,ei).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sn(this,Bi,Po).call(this,{type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(ve(this,ds))return ve(this,ds).continueRetry(),ve(this,ds).promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(ut(this,zh,!0),n.signal)})},s=()=>{const o=MR(this.options,e),c=(()=>{const u={client:ve(this,Mh),queryKey:this.queryKey,meta:this.meta};return r(u),u})();return ut(this,zh,!1),this.options.persister?this.options.persister(o,c,this):o(c)},a=(()=>{const o={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:ve(this,Mh),state:this.state,fetchFn:s};return r(o),o})();this.options.behavior?.onFetch(a,this),ut(this,$h,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&sn(this,Bi,Po).call(this,{type:"fetch",meta:a.fetchOptions?.meta});const i=o=>{U3(o)&&o.silent||sn(this,Bi,Po).call(this,{type:"error",error:o}),U3(o)||(ve(this,ei).config.onError?.(o,this),ve(this,ei).config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return ut(this,ds,FR({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(c){i(c);return}ve(this,ei).config.onSuccess?.(o,this),ve(this,ei).config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:i,onFail:(o,c)=>{sn(this,Bi,Po).call(this,{type:"failed",failureCount:o,error:c})},onPause:()=>{sn(this,Bi,Po).call(this,{type:"pause"})},onContinue:()=>{sn(this,Bi,Po).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ve(this,ds).start()}},Tm=new WeakMap,$h=new WeakMap,ei=new WeakMap,Mh=new WeakMap,ds=new WeakMap,Vb=new WeakMap,zh=new WeakMap,Bi=new WeakSet,Po=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DR(n.data,this.options),fetchMeta:t.meta??null};case"success":return ut(this,$h,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return U3(r)&&r.revert&&ve(this,$h)?{...ve(this,$h),fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),_r.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ve(this,ei).notify({query:this,type:"updated",action:t})})},Oj);function DR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bJ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oo,Rj,wJ=(Rj=class extends Tp{constructor(t={}){super(),Ft(this,Oo),this.config=t,ut(this,Oo,new Map)}build(t,e,n){const r=e.queryKey,s=e.queryHash??iC(r,e);let a=this.get(s);return a||(a=new yJ({client:t,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){ve(this,Oo).has(t.queryHash)||(ve(this,Oo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=ve(this,Oo).get(t.queryHash);e&&(t.destroy(),e===t&&ve(this,Oo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_r.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ve(this,Oo).get(t)}getAll(){return[...ve(this,Oo).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Sj(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>Sj(t,n)):e}notify(t){_r.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){_r.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_r.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Oo=new WeakMap,Rj),Ro,Rs,Lh,$o,Zl,$j,vJ=($j=class extends UR{constructor(t){super(),Ft(this,$o),Ft(this,Ro),Ft(this,Rs),Ft(this,Lh),this.mutationId=t.mutationId,ut(this,Rs,t.mutationCache),ut(this,Ro,[]),this.state=t.state||WR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ve(this,Ro).includes(t)||(ve(this,Ro).push(t),this.clearGcTimeout(),ve(this,Rs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ut(this,Ro,ve(this,Ro).filter(e=>e!==t)),this.scheduleGc(),ve(this,Rs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ve(this,Ro).length||(this.state.status==="pending"?this.scheduleGc():ve(this,Rs).remove(this))}continue(){return ve(this,Lh)?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{sn(this,$o,Zl).call(this,{type:"continue"})};ut(this,Lh,FR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{sn(this,$o,Zl).call(this,{type:"failed",failureCount:s,error:a})},onPause:()=>{sn(this,$o,Zl).call(this,{type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ve(this,Rs).canRun(this)}));const n=this.state.status==="pending",r=!ve(this,Lh).canStart();try{if(n)e();else{sn(this,$o,Zl).call(this,{type:"pending",variables:t,isPaused:r}),await ve(this,Rs).config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&sn(this,$o,Zl).call(this,{type:"pending",context:a,variables:t,isPaused:r})}const s=await ve(this,Lh).start();return await ve(this,Rs).config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await ve(this,Rs).config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),sn(this,$o,Zl).call(this,{type:"success",data:s}),s}catch(s){try{throw await ve(this,Rs).config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await ve(this,Rs).config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{sn(this,$o,Zl).call(this,{type:"error",error:s})}}finally{ve(this,Rs).runNext(this)}}},Ro=new WeakMap,Rs=new WeakMap,Lh=new WeakMap,$o=new WeakSet,Zl=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),_r.batch(()=>{ve(this,Ro).forEach(n=>{n.onMutationUpdate(t)}),ve(this,Rs).notify({mutation:this,type:"updated",action:t})})},$j);function WR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kl,Fi,Zb,Mj,xJ=(Mj=class extends Tp{constructor(t={}){super(),Ft(this,Kl),Ft(this,Fi),Ft(this,Zb),this.config=t,ut(this,Kl,new Set),ut(this,Fi,new Map),ut(this,Zb,0)}build(t,e,n){const r=new vJ({mutationCache:this,mutationId:++Y4(this,Zb)._,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){ve(this,Kl).add(t);const e=Kb(t);if(typeof e=="string"){const n=ve(this,Fi).get(e);n?n.push(t):ve(this,Fi).set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ve(this,Kl).delete(t)){const e=Kb(t);if(typeof e=="string"){const n=ve(this,Fi).get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&ve(this,Fi).delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Kb(t);if(typeof e=="string"){const n=ve(this,Fi).get(e)?.find(r=>r.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=Kb(t);return typeof e=="string"?ve(this,Fi).get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_r.batch(()=>{ve(this,Kl).forEach(t=>{this.notify({type:"removed",mutation:t})}),ve(this,Kl).clear(),ve(this,Fi).clear()})}getAll(){return Array.from(ve(this,Kl))}find(t){const e={exact:!0,...t};return this.getAll().find(n=>Aj(e,n))}findAll(t={}){return this.getAll().filter(e=>Aj(t,e))}notify(t){_r.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return _r.batch(()=>Promise.all(t.map(e=>e.continue().catch(gs))))}},Kl=new WeakMap,Fi=new WeakMap,Zb=new WeakMap,Mj);function Kb(t){return t.options.scope?.id}function zj(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],i=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},m=MR(e.options,e.fetchOptions),g=async(b,y,w)=>{if(h)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const x=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:y,direction:w?"backward":"forward",meta:e.options.meta};return f(k),k})(),N=await m(x),{maxPages:E}=e.options,C=w?dJ:uJ;return{pages:C(b.pages,N,E),pageParams:C(b.pageParams,y,E)}};if(s&&a.length){const b=s==="backward",y=b?NJ:Lj,w={pages:a,pageParams:i},x=y(r,w);o=await g(w,x,b)}else{const b=t??a.length;do{const y=c===0?i[0]??r.initialPageParam:Lj(r,o);if(c>0&&y==null)break;o=await g(o,y),c++}while(c<b)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function Lj(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function NJ(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var mr,bu,wu,Im,_m,vu,Pm,Om,Bj,HR=(Bj=class{constructor(t={}){Ft(this,mr),Ft(this,bu),Ft(this,wu),Ft(this,Im),Ft(this,_m),Ft(this,vu),Ft(this,Pm),Ft(this,Om),ut(this,mr,t.queryCache||new wJ),ut(this,bu,t.mutationCache||new xJ),ut(this,wu,t.defaultOptions||{}),ut(this,Im,new Map),ut(this,_m,new Map),ut(this,vu,0)}mount(){Y4(this,vu)._++,ve(this,vu)===1&&(ut(this,Pm,lC.subscribe(async t=>{t&&(await this.resumePausedMutations(),ve(this,mr).onFocus())})),ut(this,Om,Tw.subscribe(async t=>{t&&(await this.resumePausedMutations(),ve(this,mr).onOnline())})))}unmount(){var t,e;Y4(this,vu)._--,ve(this,vu)===0&&((t=ve(this,Pm))==null||t.call(this),ut(this,Pm,void 0),(e=ve(this,Om))==null||e.call(this),ut(this,Om,void 0))}isFetching(t){return ve(this,mr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ve(this,bu).findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return ve(this,mr).get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ve(this,mr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(zc(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ve(this,mr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ve(this,mr).get(r.queryHash)?.state.data,a=lJ(e,s);if(a!==void 0)return ve(this,mr).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return _r.batch(()=>ve(this,mr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return ve(this,mr).get(e.queryHash)?.state}removeQueries(t){const e=ve(this,mr);_r.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ve(this,mr);return _r.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=_r.batch(()=>ve(this,mr).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(gs).catch(gs)}invalidateQueries(t,e={}){return _r.batch(()=>(ve(this,mr).findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=_r.batch(()=>ve(this,mr).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(gs)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(gs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ve(this,mr).build(this,e);return n.isStaleByTime(zc(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gs).catch(gs)}fetchInfiniteQuery(t){return t.behavior=zj(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gs).catch(gs)}ensureInfiniteQueryData(t){return t.behavior=zj(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Tw.isOnline()?ve(this,bu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ve(this,mr)}getMutationCache(){return ve(this,bu)}getDefaultOptions(){return ve(this,wu)}setDefaultOptions(t){ut(this,wu,t)}setQueryDefaults(t,e){ve(this,Im).set(Md(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ve(this,Im).values()],n={};return e.forEach(r=>{bg(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ve(this,_m).set(Md(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ve(this,_m).values()],n={};return e.forEach(r=>{bg(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ve(this,wu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...ve(this,wu).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ve(this,mr).clear(),ve(this,bu).clear()}},mr=new WeakMap,bu=new WeakMap,wu=new WeakMap,Im=new WeakMap,_m=new WeakMap,vu=new WeakMap,Pm=new WeakMap,Om=new WeakMap,Bj),ea,fn,Qb,$s,Bh,Rm,xu,Nu,Jb,$m,Mm,Fh,Uh,ku,zm,gr,Lm,D3,W3,H3,G3,q3,V3,Z3,Fj,Uj,kJ=(Uj=class extends Tp{constructor(t,e){super(),Ft(this,gr),Ft(this,ea),Ft(this,fn),Ft(this,Qb),Ft(this,$s),Ft(this,Bh),Ft(this,Rm),Ft(this,xu),Ft(this,Nu),Ft(this,Jb),Ft(this,$m),Ft(this,Mm),Ft(this,Fh),Ft(this,Uh),Ft(this,ku),Ft(this,zm,new Set),this.options=e,ut(this,ea,t),ut(this,Nu,null),ut(this,xu,n5()),this.options.experimental_prefetchInRender||ve(this,xu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ve(this,fn).addObserver(this),Dj(ve(this,fn),this.options)?sn(this,gr,Lm).call(this):this.updateResult(),sn(this,gr,G3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return r5(ve(this,fn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return r5(ve(this,fn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,sn(this,gr,q3).call(this),sn(this,gr,V3).call(this),ve(this,fn).removeObserver(this)}setOptions(t){const e=this.options,n=ve(this,fn);if(this.options=ve(this,ea).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof za(this.options.enabled,ve(this,fn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");sn(this,gr,Z3).call(this),ve(this,fn).setOptions(this.options),e._defaulted&&!jw(this.options,e)&&ve(this,ea).getQueryCache().notify({type:"observerOptionsUpdated",query:ve(this,fn),observer:this});const r=this.hasListeners();r&&Wj(ve(this,fn),n,this.options,e)&&sn(this,gr,Lm).call(this),this.updateResult(),r&&(ve(this,fn)!==n||za(this.options.enabled,ve(this,fn))!==za(e.enabled,ve(this,fn))||zc(this.options.staleTime,ve(this,fn))!==zc(e.staleTime,ve(this,fn)))&&sn(this,gr,D3).call(this);const s=sn(this,gr,W3).call(this);r&&(ve(this,fn)!==n||za(this.options.enabled,ve(this,fn))!==za(e.enabled,ve(this,fn))||s!==ve(this,ku))&&sn(this,gr,H3).call(this,s)}getOptimisticResult(t){const e=ve(this,ea).getQueryCache().build(ve(this,ea),t),n=this.createResult(e,t);return EJ(this,n)&&(ut(this,$s,n),ut(this,Rm,this.options),ut(this,Bh,ve(this,fn).state)),n}getCurrentResult(){return ve(this,$s)}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){ve(this,zm).add(t)}getCurrentQuery(){return ve(this,fn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=ve(this,ea).defaultQueryOptions(t),n=ve(this,ea).getQueryCache().build(ve(this,ea),e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return sn(this,gr,Lm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),ve(this,$s)))}createResult(t,e){const n=ve(this,fn),r=this.options,s=ve(this,$s),a=ve(this,Bh),i=ve(this,Rm),o=t!==n?t.state:ve(this,Qb),{state:c}=t;let u={...c},h=!1,f;if(e._optimisticResults){const A=this.hasListeners(),_=!A&&Dj(t,e),P=A&&Wj(t,n,e,r);(_||P)&&(u={...u,...DR(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:b}=u;f=u.data;let y=!1;if(e.placeholderData!==void 0&&f===void 0&&b==="pending"){let A;s?.isPlaceholderData&&e.placeholderData===i?.placeholderData?(A=s.data,y=!0):A=typeof e.placeholderData=="function"?e.placeholderData(ve(this,Mm)?.state.data,ve(this,Mm)):e.placeholderData,A!==void 0&&(b="success",f=t5(s?.data,A,e),h=!0)}if(e.select&&f!==void 0&&!y)if(s&&f===a?.data&&e.select===ve(this,Jb))f=ve(this,$m);else try{ut(this,Jb,e.select),f=e.select(f),f=t5(s?.data,f,e),ut(this,$m,f),ut(this,Nu,null)}catch(A){ut(this,Nu,A)}ve(this,Nu)&&(m=ve(this,Nu),f=ve(this,$m),g=Date.now(),b="error");const w=u.fetchStatus==="fetching",x=b==="pending",N=b==="error",E=x&&w,C=f!==void 0,k={status:b,fetchStatus:u.fetchStatus,isPending:x,isSuccess:b==="success",isError:N,isInitialLoading:E,isLoading:E,data:f,dataUpdatedAt:u.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:w,isRefetching:w&&!x,isLoadingError:N&&!C,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&C,isStale:cC(t,e),refetch:this.refetch,promise:ve(this,xu),isEnabled:za(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=I=>{k.status==="error"?I.reject(k.error):k.data!==void 0&&I.resolve(k.data)},_=()=>{const I=ut(this,xu,k.promise=n5());A(I)},P=ve(this,xu);switch(P.status){case"pending":t.queryHash===n.queryHash&&A(P);break;case"fulfilled":(k.status==="error"||k.data!==P.value)&&_();break;case"rejected":(k.status!=="error"||k.error!==P.reason)&&_();break}}return k}updateResult(){const t=ve(this,$s),e=this.createResult(ve(this,fn),this.options);if(ut(this,Bh,ve(this,fn).state),ut(this,Rm,this.options),ve(this,Bh).data!==void 0&&ut(this,Mm,ve(this,fn)),jw(e,t))return;ut(this,$s,e);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!ve(this,zm).size)return!0;const a=new Set(s??ve(this,zm));return this.options.throwOnError&&a.add("error"),Object.keys(ve(this,$s)).some(i=>{const o=i;return ve(this,$s)[o]!==t[o]&&a.has(o)})};sn(this,gr,Fj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&sn(this,gr,G3).call(this)}},ea=new WeakMap,fn=new WeakMap,Qb=new WeakMap,$s=new WeakMap,Bh=new WeakMap,Rm=new WeakMap,xu=new WeakMap,Nu=new WeakMap,Jb=new WeakMap,$m=new WeakMap,Mm=new WeakMap,Fh=new WeakMap,Uh=new WeakMap,ku=new WeakMap,zm=new WeakMap,gr=new WeakSet,Lm=function(t){sn(this,gr,Z3).call(this);let e=ve(this,fn).fetch(this.options,t);return t?.throwOnError||(e=e.catch(gs)),e},D3=function(){sn(this,gr,q3).call(this);const t=zc(this.options.staleTime,ve(this,fn));if($d||ve(this,$s).isStale||!XN(t))return;const e=RR(ve(this,$s).dataUpdatedAt,t)+1;ut(this,Fh,setTimeout(()=>{ve(this,$s).isStale||this.updateResult()},e))},W3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ve(this,fn)):this.options.refetchInterval)??!1},H3=function(t){sn(this,gr,V3).call(this),ut(this,ku,t),!($d||za(this.options.enabled,ve(this,fn))===!1||!XN(ve(this,ku))||ve(this,ku)===0)&&ut(this,Uh,setInterval(()=>{(this.options.refetchIntervalInBackground||lC.isFocused())&&sn(this,gr,Lm).call(this)},ve(this,ku)))},G3=function(){sn(this,gr,D3).call(this),sn(this,gr,H3).call(this,sn(this,gr,W3).call(this))},q3=function(){ve(this,Fh)&&(clearTimeout(ve(this,Fh)),ut(this,Fh,void 0))},V3=function(){ve(this,Uh)&&(clearInterval(ve(this,Uh)),ut(this,Uh,void 0))},Z3=function(){const t=ve(this,ea).getQueryCache().build(ve(this,ea),this.options);if(t===ve(this,fn))return;const e=ve(this,fn);ut(this,fn,t),ut(this,Qb,t.state),this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))},Fj=function(t){_r.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(ve(this,$s))}),ve(this,ea).getQueryCache().notify({query:ve(this,fn),type:"observerResultsUpdated"})})},Uj);function CJ(t,e){return za(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Dj(t,e){return CJ(t,e)||t.state.data!==void 0&&r5(t,e,e.refetchOnMount)}function r5(t,e,n){if(za(e.enabled,t)!==!1&&zc(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&cC(t,e)}return!1}function Wj(t,e,n,r){return(t!==e||za(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&cC(t,n)}function cC(t,e){return za(e.enabled,t)!==!1&&t.isStaleByTime(zc(e.staleTime,t))}function EJ(t,e){return!jw(t.getCurrentResult(),e)}var Cu,Eu,ta,Ql,Su,Yb,K3,Hj,SJ=(Hj=class extends Tp{constructor(t,e){super(),Ft(this,Su),Ft(this,Cu),Ft(this,Eu),Ft(this,ta),Ft(this,Ql),ut(this,Cu,t),this.setOptions(e),this.bindMethods(),sn(this,Su,Yb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=ve(this,Cu).defaultMutationOptions(t),jw(this.options,e)||ve(this,Cu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ve(this,ta),observer:this}),e?.mutationKey&&this.options.mutationKey&&Md(e.mutationKey)!==Md(this.options.mutationKey)?this.reset():ve(this,ta)?.state.status==="pending"&&ve(this,ta).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||ve(this,ta)?.removeObserver(this)}onMutationUpdate(t){sn(this,Su,Yb).call(this),sn(this,Su,K3).call(this,t)}getCurrentResult(){return ve(this,Eu)}reset(){ve(this,ta)?.removeObserver(this),ut(this,ta,void 0),sn(this,Su,Yb).call(this),sn(this,Su,K3).call(this)}mutate(t,e){return ut(this,Ql,e),ve(this,ta)?.removeObserver(this),ut(this,ta,ve(this,Cu).getMutationCache().build(ve(this,Cu),this.options)),ve(this,ta).addObserver(this),ve(this,ta).execute(t)}},Cu=new WeakMap,Eu=new WeakMap,ta=new WeakMap,Ql=new WeakMap,Su=new WeakSet,Yb=function(){const t=ve(this,ta)?.state??WR();ut(this,Eu,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},K3=function(t){_r.batch(()=>{if(ve(this,Ql)&&this.hasListeners()){const e=ve(this,Eu).variables,n=ve(this,Eu).context;t?.type==="success"?(ve(this,Ql).onSuccess?.(t.data,e,n),ve(this,Ql).onSettled?.(t.data,null,e,n)):t?.type==="error"&&(ve(this,Ql).onError?.(t.error,e,n),ve(this,Ql).onSettled?.(void 0,t.error,e,n))}this.listeners.forEach(e=>{e(ve(this,Eu))})})},Hj);function AJ(t){return JSON.stringify(t,(e,n)=>jJ(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function jJ(t){if(!Gj(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Gj(n)||!n.hasOwnProperty("isPrototypeOf"))}function Gj(t){return Object.prototype.toString.call(t)==="[object Object]"}function TJ(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:a,maxPages:i,meta:o,networkMode:c,queryFn:u,queryHash:h,queryKey:f,queryKeyHashFn:m,retry:g,retryDelay:b,structuralSharing:y,getPreviousPageParam:w,getNextPageParam:x,initialPageParam:N,_optimisticResults:E,enabled:C,notifyOnChangeProps:k,placeholderData:A,refetchInterval:_,refetchIntervalInBackground:P,refetchOnMount:I,refetchOnReconnect:$,refetchOnWindowFocus:H,retryOnMount:M,select:B,staleTime:O,suspense:z,throwOnError:G,config:Z,connector:D,query:K,...ee}=t;return ee}function IJ(t){return{mutationFn(e){return T1(t,e)},mutationKey:["connect"]}}function _J(t){return{mutationFn(e){return ZN(t,e)},mutationKey:["disconnect"]}}function PJ(t,e={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...a}=n[1];if(!r)throw new Error("address is required");return await AR(t,{...a,address:r})??null},queryKey:OJ(e)}}function OJ(t={}){return["balance",TJ(t)]}function RJ(t){return{mutationFn(e){return QN(t,e)},mutationKey:["switchChain"]}}var GR=j.createContext(void 0),qR=t=>{const e=j.useContext(GR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},VR=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(GR.Provider,{value:t,children:e})),ZR=j.createContext(!1),$J=()=>j.useContext(ZR);ZR.Provider;function MJ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zJ=j.createContext(MJ()),LJ=()=>j.useContext(zJ),BJ=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},FJ=t=>{j.useEffect(()=>{t.clearReset()},[t])},UJ=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(s&&t.data===void 0||zR(n,[t.error,r])),DJ=t=>{if(t.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...r)=>e(n(...r)):e(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},WJ=(t,e)=>t.isLoading&&t.isFetching&&!e,HJ=(t,e)=>t?.suspense&&e.isPending,qj=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function GJ(t,e,n){const r=$J(),s=LJ(),a=qR(),i=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=r?"isRestoring":"optimistic",DJ(i),BJ(i,s),FJ(s);const o=!a.getQueryCache().get(i.queryHash),[c]=j.useState(()=>new e(a,i)),u=c.getOptimisticResult(i),h=!r&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(f=>{const m=h?c.subscribe(_r.batchCalls(f)):gs;return c.updateResult(),m},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(i)},[i,c]),HJ(i,u))throw qj(i,c,s);if(UJ({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(i,u),i.experimental_prefetchInRender&&!$d&&WJ(u,r)&&(o?qj(i,c,s):a.getQueryCache().get(i.queryHash)?.promise)?.catch(gs).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?u:c.trackResult(u)}function qJ(t,e){return GJ(t,kJ)}function uC(t,e){const n=qR(),[r]=j.useState(()=>new SJ(n,t));j.useEffect(()=>{r.setOptions(t)},[r,t]);const s=j.useSyncExternalStore(j.useCallback(i=>r.subscribe(_r.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=j.useCallback((i,o)=>{r.mutate(i,o).catch(gs)},[r]);if(s.error&&zR(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function VJ(t){const e=qJ({...t,queryKeyHashFn:AJ});return e.queryKey=t.queryKey,e}function KR(t={}){const e=xl(t);return j.useSyncExternalStore(n=>EQ(e,{onChange:n}),()=>hj(e),()=>hj(e))}function ZJ(t={}){const{address:e,query:n={}}=t,r=xl(t),s=KR({config:r}),a=PJ(r,{...t,chainId:t.chainId??s}),i=!!(e&&(n.enabled??!0));return VJ({...n,...a,enabled:i})}function KJ(t={}){const e=xl(t);return j.useSyncExternalStore(n=>eJ(e,{onChange:n}),()=>fj(e),()=>fj(e))}function QJ(t={}){const e=xl(t);return j.useSyncExternalStore(n=>IR(e,{onChange:n}),()=>pj(e),()=>pj(e))}function JJ(t={}){const{mutation:e}=t,n=xl(t),r=IJ(n),{mutate:s,mutateAsync:a,...i}=uC({...e,...r});return j.useEffect(()=>n.subscribe(({status:o})=>o,(o,c)=>{c==="connected"&&o==="disconnected"&&i.reset()}),[n,i.reset]),{...i,connect:s,connectAsync:a,connectors:QJ({config:n})}}function YJ(t={}){const e=xl(t);return j.useSyncExternalStore(n=>TR(e,{onChange:n}),()=>ii(e),()=>ii(e))}function XJ(t={}){const{mutation:e}=t,n=xl(t),r=_J(n),{mutate:s,mutateAsync:a,...i}=uC({...e,...r});return{...i,connectors:YJ({config:n}).map(o=>o.connector),disconnect:s,disconnectAsync:a}}function eY(t={}){const{mutation:e}=t,n=xl(t),r=RJ(n),{mutate:s,mutateAsync:a,...i}=uC({...e,...r});return{...i,chains:KJ({config:n}),switchChain:s,switchChainAsync:a}}var tY=Object.defineProperty,QR=t=>{throw TypeError(t)},nY=(t,e,n)=>e in t?tY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pe=(t,e,n)=>nY(t,typeof e!="symbol"?e+"":e,n),dC=(t,e,n)=>e.has(t)||QR("Cannot "+n),Y=(t,e,n)=>(dC(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?QR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(dC(t,e,"write to private field"),e.set(t,n),n),Qe=(t,e,n)=>(dC(t,e,"access private method"),n),Iw=(t,e,n,r)=>({set _(s){de(t,e,s)},get _(){return Y(t,e,r)}});const rY="6.15.0";function sY(t,e,n){const r=e.split("|").map(a=>a.trim());for(let a=0;a<r.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function ys(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,r,s)=>(n[e[s]]=r,n),{})}function Ut(t,e,n){for(let r in e){let s=e[r];const a=n?n[r]:null;a&&sY(s,a,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function kf(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>kf(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=n[t[s]>>4],r+=n[t[s]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return kf(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${kf(r,e)}: ${kf(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Kr(t,e){return t&&t.code===e}function hC(t){return Kr(t,"CALL_EXCEPTION")}function Jn(t,e,n){let r=t;{const a=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${kf(n)}`);for(const i in n){if(i==="shortMessage")continue;const o=n[i];a.push(i+"="+kf(o))}}a.push(`code=${e}`),a.push(`version=${rY}`),a.length&&(t+=" ("+a.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Ut(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&Ut(s,{shortMessage:r}),s}function Ge(t,e,n,r){if(!t)throw Jn(e,n,r)}function ke(t,e,n,r){Ge(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function JR(t,e,n){n==null&&(n=""),n&&(n=": "+n),Ge(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Ge(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function ly(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),Ge(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function YR(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let a=0;a<r.length;a++)r[a]=parseInt(t.substring(s,s+2),16),s+=2;return r}ke(!1,"invalid BytesLike value",e||"value",t)}function Kt(t,e){return YR(t,e,!1)}function ws(t,e){return YR(t,e,!0)}function Un(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function fC(t){return Un(t,!0)||t instanceof Uint8Array}const Vj="0123456789abcdef";function it(t){const e=Kt(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=Vj[(s&240)>>4]+Vj[s&15]}return n}function Xn(t){return"0x"+t.map(e=>it(e).substring(2)).join("")}function kd(t){return Un(t,!0)?(t.length-2)/2:Kt(t).length}function cr(t,e,n){const r=Kt(t);return n!=null&&n>r.length&&Ge(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),it(r.slice(e??0,n??r.length))}function XR(t,e,n){const r=Kt(t);Ge(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),it(s)}function Fa(t,e){return XR(t,e,!0)}function e$(t,e){return XR(t,e,!1)}const Jv=BigInt(0),pi=BigInt(1),Cf=9007199254740991;function _w(t,e){const n=Yv(t,"value"),r=BigInt(en(e,"width"));if(Ge(n>>r===Jv,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-pi){const s=(pi<<r)-pi;return-((~n&s)+pi)}return n}function pC(t,e){let n=yt(t,"value");const r=BigInt(en(e,"width")),s=pi<<r-pi;if(n<Jv){n=-n,Ge(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const a=(pi<<r)-pi;return(~n&a)+pi}else Ge(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function ud(t,e){const n=Yv(t,"value"),r=BigInt(en(e,"bits"));return n&(pi<<r)-pi}function yt(t,e){switch(typeof t){case"bigint":return t;case"number":return ke(Number.isInteger(t),"underflow",e||"value",t),ke(t>=-Cf&&t<=Cf,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){ke(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}ke(!1,"invalid BigNumberish value",e||"value",t)}function Yv(t,e){const n=yt(t,e);return Ge(n>=Jv,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Zj="0123456789abcdef";function Xv(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Zj[n>>4],e+=Zj[n&15];return BigInt(e)}return yt(t)}function en(t,e){switch(typeof t){case"bigint":return ke(t>=-Cf&&t<=Cf,"overflow",e||"value",t),Number(t);case"number":return ke(Number.isInteger(t),"underflow",e||"value",t),ke(t>=-Cf&&t<=Cf,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return en(BigInt(t),e)}catch(n){ke(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}ke(!1,"invalid numeric value",e||"value",t)}function aY(t){return en(Xv(t))}function Dc(t,e){let n=Yv(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const r=en(e,"width");for(Ge(r*2>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<r*2;)n="0"+n}return"0x"+n}function kr(t){const e=Yv(t,"value");if(e===Jv)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const a=s*2;r[s]=parseInt(n.substring(a,a+2),16)}return r}function ui(t){let e=it(fC(t)?t:kr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Kj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Qj=BigInt(58);function iY(t){const e=Kt(t);let n=Xv(e),r="";for(;n;)r=Kj[Number(n%Qj)]+r,n/=Qj;for(let s=0;s<e.length&&!e[s];s++)r=Kj[0]+r;return r}function oY(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Kt(e)}function lY(t){const e=Kt(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Ym;let t$=class{constructor(e,n,r){Pe(this,"filter"),Pe(this,"emitter"),Le(this,Ym),de(this,Ym,n),Ut(this,{emitter:e,filter:r})}async removeListener(){Y(this,Ym)!=null&&await this.emitter.off(this.filter,Y(this,Ym))}};Ym=new WeakMap;function cY(t,e,n,r,s){ke(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function n$(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let a=0;for(let i=e+1;i<n.length&&n[i]>>6===2;i++)a++;return a}return t==="OVERRUN"?n.length-e-1:0}function uY(t,e,n,r,s){return t==="OVERLONG"?(ke(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),n$(t,e,n))}const dY=Object.freeze({error:cY,ignore:n$,replace:uY});function hY(t,e){e==null&&(e=dY.error);const n=Kt(t,"bytes"),r=[];let s=0;for(;s<n.length;){const a=n[s++];if(a>>7===0){r.push(a);continue}let i=null,o=null;if((a&224)===192)i=1,o=127;else if((a&240)===224)i=2,o=2047;else if((a&248)===240)i=3,o=65535;else{(a&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+i>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let c=a&(1<<8-i-1)-1;for(let u=0;u<i;u++){let h=n[s];if((h&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),c=null;break}c=c<<6|h&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-i,n,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-i,n,r,c);continue}if(c<=o){s+=e("OVERLONG",s-1-i,n,r,c);continue}r.push(c)}}return r}function ao(t,e){ke(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const a=t.charCodeAt(r);ke(r<t.length&&(a&64512)===56320,"invalid surrogate pair","str",t);const i=65536+((s&1023)<<10)+(a&1023);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function fY(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Pw(t,e){return fY(hY(t,e))}function r$(t){async function e(n,r){Ge(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();Ge(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),Ge(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null;const i=new AbortController,o=setTimeout(()=>{a=Jn("request timeout","TIMEOUT"),i.abort()},n.timeout);r&&r.addListener(()=>{a=Jn("request cancelled","CANCELLED"),i.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:i.signal});let u;try{u=await fetch(n.url,c)}catch(g){throw clearTimeout(o),a||g}clearTimeout(o);const h={};u.headers.forEach((g,b)=>{h[b.toLowerCase()]=g});const f=await u.arrayBuffer(),m=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:h,body:m}}return e}const pY=12,mY=250;let Jj=r$();const gY=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),yY=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Q3=!1;async function s$(t,e){try{const n=t.match(gY);if(!n)throw new Error("invalid data");return new Yf(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?oY(n[3]):xY(n[3]))}catch{return new Yf(599,"BAD REQUEST (invalid data: URI)",{},null,new zd(t))}}function a$(t){async function e(n,r){try{const s=n.match(yY);if(!s)throw new Error("invalid link");return new zd(`${t}${s[2]}`)}catch{return new Yf(599,"BAD REQUEST (invalid IPFS URI)",{},null,new zd(n))}}return e}const Ow={data:s$,ipfs:a$("https://gateway.ipfs.io/ipfs/")},i$=new WeakMap;var Jh,Ru;let bY=class{constructor(e){Le(this,Jh),Le(this,Ru),de(this,Jh,[]),de(this,Ru,!1),i$.set(e,()=>{if(!Y(this,Ru)){de(this,Ru,!0);for(const n of Y(this,Jh))setTimeout(()=>{n()},0);de(this,Jh,[])}})}addListener(e){Ge(!Y(this,Ru),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),Y(this,Jh).push(e)}get cancelled(){return Y(this,Ru)}checkSignal(){Ge(!this.cancelled,"cancelled","CANCELLED",{})}};Jh=new WeakMap,Ru=new WeakMap;function Xb(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Xm,e0,Wi,dc,t0,n0,Gr,Ia,hc,Yh,Xh,ef,Qo,Qi,$u,Ef,r0;const wY=class s5{constructor(e){Le(this,Ef),Le(this,Xm),Le(this,e0),Le(this,Wi),Le(this,dc),Le(this,t0),Le(this,n0),Le(this,Gr),Le(this,Ia),Le(this,hc),Le(this,Yh),Le(this,Xh),Le(this,ef),Le(this,Qo),Le(this,Qi),Le(this,$u),de(this,n0,String(e)),de(this,Xm,!1),de(this,e0,!0),de(this,Wi,{}),de(this,dc,""),de(this,t0,3e5),de(this,Qi,{slotInterval:mY,maxAttempts:pY}),de(this,$u,null)}get url(){return Y(this,n0)}set url(e){de(this,n0,String(e))}get body(){return Y(this,Gr)==null?null:new Uint8Array(Y(this,Gr))}set body(e){if(e==null)de(this,Gr,void 0),de(this,Ia,void 0);else if(typeof e=="string")de(this,Gr,ao(e)),de(this,Ia,"text/plain");else if(e instanceof Uint8Array)de(this,Gr,e),de(this,Ia,"application/octet-stream");else if(typeof e=="object")de(this,Gr,ao(JSON.stringify(e))),de(this,Ia,"application/json");else throw new Error("invalid body")}hasBody(){return Y(this,Gr)!=null}get method(){return Y(this,dc)?Y(this,dc):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),de(this,dc,String(e).toUpperCase())}get headers(){const e=Object.assign({},Y(this,Wi));return Y(this,hc)&&(e.authorization=`Basic ${lY(ao(Y(this,hc)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&Y(this,Ia)&&(e["content-type"]=Y(this,Ia)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){Y(this,Wi)[String(e).toLowerCase()]=String(n)}clearHeaders(){de(this,Wi,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return Y(this,hc)||null}setCredentials(e,n){ke(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),de(this,hc,`${e}:${n}`)}get allowGzip(){return Y(this,e0)}set allowGzip(e){de(this,e0,!!e)}get allowInsecureAuthentication(){return!!Y(this,Xm)}set allowInsecureAuthentication(e){de(this,Xm,!!e)}get timeout(){return Y(this,t0)}set timeout(e){ke(e>=0,"timeout must be non-zero","timeout",e),de(this,t0,e)}get preflightFunc(){return Y(this,Yh)||null}set preflightFunc(e){de(this,Yh,e)}get processFunc(){return Y(this,Xh)||null}set processFunc(e){de(this,Xh,e)}get retryFunc(){return Y(this,ef)||null}set retryFunc(e){de(this,ef,e)}get getUrlFunc(){return Y(this,$u)||Jj}set getUrlFunc(e){de(this,$u,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${Y(this,Gr)?it(Y(this,Gr)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(Y(this,Qi).slotInterval=e.slotInterval),e.maxAttempts!=null&&(Y(this,Qi).maxAttempts=e.maxAttempts)}send(){return Ge(Y(this,Qo)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),de(this,Qo,new bY(this)),Qe(this,Ef,r0).call(this,0,l$()+this.timeout,0,this,new Yf(0,"",{},null,this))}cancel(){Ge(Y(this,Qo)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=i$.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Ge(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new s5(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,de(s,Wi,Object.assign({},Y(this,Wi))),Y(this,Gr)&&de(s,Gr,new Uint8Array(Y(this,Gr))),de(s,Ia,Y(this,Ia)),s}clone(){const e=new s5(this.url);return de(e,dc,Y(this,dc)),Y(this,Gr)&&de(e,Gr,Y(this,Gr)),de(e,Ia,Y(this,Ia)),de(e,Wi,Object.assign({},Y(this,Wi))),de(e,hc,Y(this,hc)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),de(e,Yh,Y(this,Yh)),de(e,Xh,Y(this,Xh)),de(e,ef,Y(this,ef)),de(e,Qi,Object.assign({},Y(this,Qi))),de(e,$u,Y(this,$u)),e}static lockConfig(){Q3=!0}static getGateway(e){return Ow[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Q3)throw new Error("gateways locked");Ow[e]=n}static registerGetUrl(e){if(Q3)throw new Error("gateways locked");Jj=e}static createGetUrlFunc(e){return r$(e)}static createDataGateway(){return s$}static createIpfsGatewayFunc(e){return a$(e)}};Xm=new WeakMap,e0=new WeakMap,Wi=new WeakMap,dc=new WeakMap,t0=new WeakMap,n0=new WeakMap,Gr=new WeakMap,Ia=new WeakMap,hc=new WeakMap,Yh=new WeakMap,Xh=new WeakMap,ef=new WeakMap,Qo=new WeakMap,Qi=new WeakMap,$u=new WeakMap,Ef=new WeakSet,r0=async function(t,e,n,r,s){var a,i,o;if(t>=Y(this,Qi).maxAttempts)return s.makeServerError("exceeded maximum retry limit");Ge(l$()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await NY(n);let c=this.clone();const u=(c.url.split(":")[0]||"").toLowerCase();if(u in Ow){const m=await Ow[u](c.url,Xb(Y(r,Qo)));if(m instanceof Yf){let g=m;if(this.processFunc){Xb(Y(r,Qo));try{g=await this.processFunc(c,g)}catch(b){(b.throttle==null||typeof b.stall!="number")&&g.makeServerError("error in post-processing function",b).assertOk()}}return g}c=m}this.preflightFunc&&(c=await this.preflightFunc(c));const h=await this.getUrlFunc(c,Xb(Y(r,Qo)));let f=new Yf(h.statusCode,h.statusMessage,h.headers,h.body,r);if(f.statusCode===301||f.statusCode===302){try{const m=f.headers.location||"";return Qe(a=c.redirect(m),Ef,r0).call(a,t+1,e,0,r,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(c,f,t))){const m=f.headers["retry-after"];let g=Y(this,Qi).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(g=parseInt(m)),Qe(i=c.clone(),Ef,r0).call(i,t+1,e,g,r,f)}if(this.processFunc){Xb(Y(r,Qo));try{f=await this.processFunc(c,f)}catch(m){(m.throttle==null||typeof m.stall!="number")&&f.makeServerError("error in post-processing function",m).assertOk();let g=Y(this,Qi).slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return m.stall>=0&&(g=m.stall),Qe(o=c.clone(),Ef,r0).call(o,t+1,e,g,r,f)}}return f};let zd=wY;var _1,P1,O1,_a,s0,tf;const vY=class o${constructor(e,n,r,s,a){Le(this,_1),Le(this,P1),Le(this,O1),Le(this,_a),Le(this,s0),Le(this,tf),de(this,_1,e),de(this,P1,n),de(this,O1,Object.keys(r).reduce((i,o)=>(i[o.toLowerCase()]=String(r[o]),i),{})),de(this,_a,s==null?null:new Uint8Array(s)),de(this,s0,a||null),de(this,tf,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${Y(this,_a)?it(Y(this,_a)):"null"}>`}get statusCode(){return Y(this,_1)}get statusMessage(){return Y(this,P1)}get headers(){return Object.assign({},Y(this,O1))}get body(){return Y(this,_a)==null?null:new Uint8Array(Y(this,_a))}get bodyText(){try{return Y(this,_a)==null?"":Pw(Y(this,_a))}catch{Ge(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Ge(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new o$(599,r,this.headers,this.body,Y(this,s0)||void 0);return de(s,tf,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:ke(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw Ut(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return Y(this,_a)!=null}get request(){return Y(this,s0)}ok(){return Y(this,tf).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=Y(this,tf);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{Y(this,_a)&&(s=Pw(Y(this,_a)))}catch{}Ge(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};_1=new WeakMap,P1=new WeakMap,O1=new WeakMap,_a=new WeakMap,s0=new WeakMap,tf=new WeakMap;let Yf=vY;function l$(){return new Date().getTime()}function xY(t){return ao(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function NY(t){return new Promise(e=>setTimeout(e,t))}const kY=BigInt(-1),oi=BigInt(0),Sf=BigInt(1),CY=BigInt(5),nf={};let $f="0000";for(;$f.length<80;)$f+=$f;function Au(t){let e=$f;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function a0(t,e,n){const r=BigInt(e.width);if(e.signed){const s=Sf<<r-Sf;Ge(n==null||t>=-s&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>oi?t=_w(ud(t,r),r):t=-_w(ud(-t,r),r)}else{const s=Sf<<r;Ge(n==null||t>=0&&t<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%s+s)%s&s-Sf}return t}function J3(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const a=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ke(a,"invalid fixed format","format",t),e=a[1]!=="u",n=parseInt(a[2]),r=parseInt(a[3])}}else if(t){const a=t,i=(o,c,u)=>a[o]==null?u:(ke(typeof a[o]===c,"invalid fixed format ("+o+" not "+c+")","format."+o,a[o]),a[o]);e=i("signed","boolean",e),n=i("width","number",n),r=i("decimals","number",r)}ke(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ke(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:s}}function EY(t,e){let n="";t<oi&&(n="-",t*=kY);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=$f+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Ki,zn,Bs,Qn,ed,Jo,a5,i5,o5,l5;const c$=class rf{constructor(e,n,r){Le(this,Qn),Pe(this,"format"),Le(this,Ki),Le(this,zn),Le(this,Bs),Pe(this,"_value"),ly(e,nf,"FixedNumber"),de(this,zn,n),de(this,Ki,r);const s=EY(n,r.decimals);Ut(this,{format:r.name,_value:s}),de(this,Bs,Au(r.decimals))}get signed(){return Y(this,Ki).signed}get width(){return Y(this,Ki).width}get decimals(){return Y(this,Ki).decimals}get value(){return Y(this,zn)}addUnsafe(e){return Qe(this,Qn,a5).call(this,e)}add(e){return Qe(this,Qn,a5).call(this,e,"add")}subUnsafe(e){return Qe(this,Qn,i5).call(this,e)}sub(e){return Qe(this,Qn,i5).call(this,e,"sub")}mulUnsafe(e){return Qe(this,Qn,o5).call(this,e)}mul(e){return Qe(this,Qn,o5).call(this,e,"mul")}mulSignal(e){Qe(this,Qn,ed).call(this,e);const n=Y(this,zn)*Y(e,zn);return Ge(n%Y(this,Bs)===oi,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Qe(this,Qn,Jo).call(this,n/Y(this,Bs),"mulSignal")}divUnsafe(e){return Qe(this,Qn,l5).call(this,e)}div(e){return Qe(this,Qn,l5).call(this,e,"div")}divSignal(e){Ge(Y(e,zn)!==oi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Qe(this,Qn,ed).call(this,e);const n=Y(this,zn)*Y(this,Bs);return Ge(n%Y(e,zn)===oi,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Qe(this,Qn,Jo).call(this,n/Y(e,zn),"divSignal")}cmp(e){let n=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=Au(s):s<0&&(n*=Au(-s)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=Y(this,zn);return Y(this,zn)<oi&&(e-=Y(this,Bs)-Sf),e=Y(this,zn)/Y(this,Bs)*Y(this,Bs),Qe(this,Qn,Jo).call(this,e,"floor")}ceiling(){let e=Y(this,zn);return Y(this,zn)>oi&&(e+=Y(this,Bs)-Sf),e=Y(this,zn)/Y(this,Bs)*Y(this,Bs),Qe(this,Qn,Jo).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=CY*Au(n-1);let s=this.value+r;const a=Au(n);return s=s/a*a,a0(s,Y(this,Ki),"round"),new rf(nf,s,Y(this,Ki))}isZero(){return Y(this,zn)===oi}isNegative(){return Y(this,zn)<oi}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return rf.fromString(this.toString(),e)}static fromValue(e,n,r){const s=n==null?0:en(n),a=J3(r);let i=yt(e,"value");const o=s-a.decimals;if(o>0){const c=Au(o);Ge(i%c===oi,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),i/=c}else o<0&&(i*=Au(-o));return a0(i,a,"fromValue"),new rf(nf,i,a)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ke(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=J3(n);let a=r[2]||"0",i=r[3]||"";for(;i.length<s.decimals;)i+=$f;Ge(i.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),i=i.substring(0,s.decimals);const o=BigInt(r[1]+a+i);return a0(o,s,"fromString"),new rf(nf,o,s)}static fromBytes(e,n){let r=Xv(Kt(e,"value"));const s=J3(n);return s.signed&&(r=_w(r,s.width)),a0(r,s,"fromBytes"),new rf(nf,r,s)}};Ki=new WeakMap,zn=new WeakMap,Bs=new WeakMap,Qn=new WeakSet,ed=function(t){ke(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)},Jo=function(t,e){return t=a0(t,Y(this,Ki),e),new c$(nf,t,Y(this,Ki))},a5=function(t,e){return Qe(this,Qn,ed).call(this,t),Qe(this,Qn,Jo).call(this,Y(this,zn)+Y(t,zn),e)},i5=function(t,e){return Qe(this,Qn,ed).call(this,t),Qe(this,Qn,Jo).call(this,Y(this,zn)-Y(t,zn),e)},o5=function(t,e){return Qe(this,Qn,ed).call(this,t),Qe(this,Qn,Jo).call(this,Y(this,zn)*Y(t,zn)/Y(this,Bs),e)},l5=function(t,e){return Ge(Y(t,zn)!==oi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Qe(this,Qn,ed).call(this,t),Qe(this,Qn,Jo).call(this,Y(this,zn)*Y(this,Bs)/Y(t,zn),e)};let u$=c$;function SY(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Yj(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function Xj(t,e,n,r){const s=[];for(;n<e+1+r;){const a=d$(t,n);s.push(a.result),n+=a.consumed,Ge(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function d$(t,e){Ge(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{Ge(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=Yj(t,e+1,r);return n(e+1+r+s),Xj(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),Xj(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=Yj(t,e+1,r);n(e+1+r+s);const a=it(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:a}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=it(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:SY(t[e])}}function cy(t){const e=Kt(t,"data"),n=d$(e,0);return ke(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function eT(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function h$(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(a){r=r.concat(h$(a))}),r.length<=55)return r.unshift(192+r.length),r;const s=eT(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(Kt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=eT(e.length);return n.unshift(183+n.length),n.concat(e)}const tT="0123456789abcdef";function Wc(t){let e="0x";for(const n of h$(t))e+=tT[n>>4],e+=tT[n&15];return e}const AY=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Xf(t,e){let n=18;return n=en(e,"unit"),u$.fromValue(t,n,{decimals:n,width:512}).toString()}function ex(t,e){ke(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=AY.indexOf(e);ke(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=en(e,"unit"));return u$.fromString(t,{decimals:n,width:512}).value}function Y3(t){return Xf(t,18)}function R1(t){return ex(t,18)}const vs=32,c5=new Uint8Array(vs),jY=["then"],e1={},f$=new WeakMap;function td(t){return f$.get(t)}function nT(t,e){f$.set(t,e)}function Bm(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function u5(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof Rw?u5(td(r),r,n):r):t.reduce((r,s,a)=>{let i=e.getValue(s);return s in r||(n&&i instanceof Rw&&(i=u5(td(i),i,n)),r[s]=i),r},{})}var i0;const TY=class o0 extends Array{constructor(...e){const n=e[0];let r=e[1],s=(e[2]||[]).slice(),a=!0;n!==e1&&(r=e,s=[],a=!1),super(r.length),Le(this,i0),r.forEach((c,u)=>{this[u]=c});const i=s.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(nT(this,Object.freeze(r.map((c,u)=>{const h=s[u];return h!=null&&i.get(h)===1?h:null}))),de(this,i0,[]),Y(this,i0)==null&&Y(this,i0),!a)return;Object.freeze(this);const o=new Proxy(this,{get:(c,u,h)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const m=en(u,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const g=c[m];return g instanceof Error&&Bm(`index ${m}`,g),g}if(jY.indexOf(u)>=0)return Reflect.get(c,u,h);const f=c[u];if(f instanceof Function)return function(...m){return f.apply(this===h?c:this,m)};if(!(u in c))return c.getValue.apply(this===h?c:this,[u])}return Reflect.get(c,u,h)}});return nT(o,td(this)),o}toArray(e){const n=[];return this.forEach((r,s)=>{r instanceof Error&&Bm(`index ${s}`,r),e&&r instanceof o0&&(r=r.toArray(e)),n.push(r)}),n}toObject(e){const n=td(this);return n.reduce((r,s,a)=>(Ge(s!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),u5(n,this,e)),{})}slice(e,n){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=td(this),s=[],a=[];for(let i=e;i<n;i++)s.push(this[i]),a.push(r[i]);return new o0(e1,s,a)}filter(e,n){const r=td(this),s=[],a=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Bm(`index ${i}`,o),e.call(n,o,i,this)&&(s.push(o),a.push(r[i]))}return new o0(e1,s,a)}map(e,n){const r=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Bm(`index ${s}`,a),r.push(e.call(n,a,s,this))}return r}getValue(e){const n=td(this).indexOf(e);if(n===-1)return;const r=this[n];return r instanceof Error&&Bm(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,n){return new o0(e1,e,n)}};i0=new WeakMap;let Rw=TY;function rT(t){let e=kr(t);return Ge(e.length<=vs,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:vs,offset:e.length}),e.length!==vs&&(e=ws(Xn([c5.slice(e.length%vs),e]))),e}let Nl=class{constructor(e,n,r,s){Pe(this,"name"),Pe(this,"type"),Pe(this,"localName"),Pe(this,"dynamic"),Ut(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){ke(!1,e,this.localName,n)}};var Nc,Cc,l0,$1;let d5=class{constructor(){Le(this,l0),Le(this,Nc),Le(this,Cc),de(this,Nc,[]),de(this,Cc,0)}get data(){return Xn(Y(this,Nc))}get length(){return Y(this,Cc)}appendWriter(e){return Qe(this,l0,$1).call(this,ws(e.data))}writeBytes(e){let n=ws(e);const r=n.length%vs;return r&&(n=ws(Xn([n,c5.slice(r)]))),Qe(this,l0,$1).call(this,n)}writeValue(e){return Qe(this,l0,$1).call(this,rT(e))}writeUpdatableValue(){const e=Y(this,Nc).length;return Y(this,Nc).push(c5),de(this,Cc,Y(this,Cc)+vs),n=>{Y(this,Nc)[e]=rT(n)}}};Nc=new WeakMap,Cc=new WeakMap,l0=new WeakSet,$1=function(t){return Y(this,Nc).push(t),de(this,Cc,Y(this,Cc)+t.length),t.length};var ca,ua,nd,Mf,dd,J0,h5,p$;const IY=class m${constructor(e,n,r){Le(this,J0),Pe(this,"allowLoose"),Le(this,ca),Le(this,ua),Le(this,nd),Le(this,Mf),Le(this,dd),Ut(this,{allowLoose:!!n}),de(this,ca,ws(e)),de(this,nd,0),de(this,Mf,null),de(this,dd,r??1024),de(this,ua,0)}get data(){return it(Y(this,ca))}get dataLength(){return Y(this,ca).length}get consumed(){return Y(this,ua)}get bytes(){return new Uint8Array(Y(this,ca))}subReader(e){const n=new m$(Y(this,ca).slice(Y(this,ua)+e),this.allowLoose,Y(this,dd));return de(n,Mf,this),n}readBytes(e,n){let r=Qe(this,J0,p$).call(this,0,e,!!n);return Qe(this,J0,h5).call(this,e),de(this,ua,Y(this,ua)+r.length),r.slice(0,e)}readValue(){return Xv(this.readBytes(vs))}readIndex(){return aY(this.readBytes(vs))}};ca=new WeakMap,ua=new WeakMap,nd=new WeakMap,Mf=new WeakMap,dd=new WeakMap,J0=new WeakSet,h5=function(t){var e;if(Y(this,Mf))return Qe(e=Y(this,Mf),J0,h5).call(e,t);de(this,nd,Y(this,nd)+t),Ge(Y(this,dd)<1||Y(this,nd)<=Y(this,dd)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${Y(this,dd)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ws(Y(this,ca)),offset:Y(this,ua),length:t,info:{bytesRead:Y(this,nd),dataLength:this.dataLength}})},p$=function(t,e,n){let r=Math.ceil(e/vs)*vs;return Y(this,ua)+r>Y(this,ca).length&&(this.allowLoose&&n&&Y(this,ua)+e<=Y(this,ca).length?r=e:Ge(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ws(Y(this,ca)),length:Y(this,ca).length,offset:Y(this,ua)+r})),Y(this,ca).slice(Y(this,ua),Y(this,ua)+r)};let _Y=IY;function $w(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function mC(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function PY(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$w(t.outputLen),$w(t.blockLen)}function ep(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function g$(t,e){mC(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const X3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y$=t=>t instanceof Uint8Array,OY=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e4=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ui=(t,e)=>t<<32-e|t>>>e,RY=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!RY)throw new Error("Non little-endian hardware is not supported");function $Y(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function tx(t){if(typeof t=="string"&&(t=$Y(t)),!y$(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function MY(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!y$(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}let gC=class{clone(){return this._cloneInto()}};function yC(t){const e=r=>t().update(tx(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function zY(t=32){if(X3&&typeof X3.getRandomValues=="function")return X3.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let b$=class extends gC{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,PY(e);const r=tx(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,a=new Uint8Array(s);a.set(r.length>s?e.create().update(r).digest():r);for(let i=0;i<a.length;i++)a[i]^=54;this.iHash.update(a),this.oHash=e.create();for(let i=0;i<a.length;i++)a[i]^=106;this.oHash.update(a),a.fill(0)}update(e){return ep(this),this.iHash.update(e),this}digestInto(e){ep(this),mC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:a,blockLen:i,outputLen:o}=this;return e=e,e.finished=s,e.destroyed=a,e.blockLen=i,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const w$=(t,e,n)=>new b$(t,e).update(n).digest();w$.create=(t,e)=>new b$(t,e);function LY(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),a=BigInt(4294967295),i=Number(n>>s&a),o=Number(n&a),c=r?4:0,u=r?0:4;t.setUint32(e+c,i,r),t.setUint32(e+u,o,r)}class v$ extends gC{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=e4(this.buffer)}update(e){ep(this);const{view:n,buffer:r,blockLen:s}=this;e=tx(e);const a=e.length;for(let i=0;i<a;){const o=Math.min(s-this.pos,a-i);if(o===s){const c=e4(e);for(;s<=a-i;i+=s)this.process(c,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ep(this),g$(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let f=i;f<s;f++)n[f]=0;LY(r,s-8,BigInt(this.length*8),a),this.process(r,0);const o=e4(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,h[f],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:i,pos:o}=this;return e.length=s,e.pos=o,e.finished=a,e.destroyed=i,s%n&&e.buffer.set(r),e}}const BY=(t,e,n)=>t&e^~t&n,FY=(t,e,n)=>t&e^t&n^e&n,UY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yl=new Uint32Array(64);let DY=class extends v${constructor(){super(64,32,8,!1),this.A=Jl[0]|0,this.B=Jl[1]|0,this.C=Jl[2]|0,this.D=Jl[3]|0,this.E=Jl[4]|0,this.F=Jl[5]|0,this.G=Jl[6]|0,this.H=Jl[7]|0}get(){const{A:e,B:n,C:r,D:s,E:a,F:i,G:o,H:c}=this;return[e,n,r,s,a,i,o,c]}set(e,n,r,s,a,i,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=a|0,this.F=i|0,this.G=o|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Yl[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const m=Yl[f-15],g=Yl[f-2],b=Ui(m,7)^Ui(m,18)^m>>>3,y=Ui(g,17)^Ui(g,19)^g>>>10;Yl[f]=y+Yl[f-7]+b+Yl[f-16]|0}let{A:r,B:s,C:a,D:i,E:o,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){const m=Ui(o,6)^Ui(o,11)^Ui(o,25),g=h+m+BY(o,c,u)+UY[f]+Yl[f]|0,b=(Ui(r,2)^Ui(r,13)^Ui(r,22))+FY(r,s,a)|0;h=u,u=c,c=o,o=i+g|0,i=a,a=s,s=r,r=g+b|0}r=r+this.A|0,s=s+this.B|0,a=a+this.C|0,i=i+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(r,s,a,i,o,c,u,h)}roundClean(){Yl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const x$=yC(()=>new DY),t1=BigInt(2**32-1),f5=BigInt(32);function N$(t,e=!1){return e?{h:Number(t&t1),l:Number(t>>f5&t1)}:{h:Number(t>>f5&t1)|0,l:Number(t&t1)|0}}function k$(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:a,l:i}=N$(t[s],e);[n[s],r[s]]=[a,i]}return[n,r]}const WY=(t,e)=>BigInt(t>>>0)<<f5|BigInt(e>>>0),HY=(t,e,n)=>t>>>n,GY=(t,e,n)=>t<<32-n|e>>>n,qY=(t,e,n)=>t>>>n|e<<32-n,VY=(t,e,n)=>t<<32-n|e>>>n,ZY=(t,e,n)=>t<<64-n|e>>>n-32,KY=(t,e,n)=>t>>>n-32|e<<64-n,QY=(t,e)=>e,JY=(t,e)=>t,C$=(t,e,n)=>t<<n|e>>>32-n,E$=(t,e,n)=>e<<n|t>>>32-n,S$=(t,e,n)=>e<<n-32|t>>>64-n,A$=(t,e,n)=>t<<n-32|e>>>64-n;function YY(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const XY=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),eX=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,tX=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),nX=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,rX=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),sX=(t,e,n,r,s,a)=>e+n+r+s+a+(t/2**32|0)|0,tn={fromBig:N$,split:k$,toBig:WY,shrSH:HY,shrSL:GY,rotrSH:qY,rotrSL:VY,rotrBH:ZY,rotrBL:KY,rotr32H:QY,rotr32L:JY,rotlSH:C$,rotlSL:E$,rotlBH:S$,rotlBL:A$,add:YY,add3L:XY,add3H:eX,add4L:tX,add4H:nX,add5H:sX,add5L:rX},[aX,iX]=tn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Xl=new Uint32Array(80),ec=new Uint32Array(80);let oX=class extends v${constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:a,Cl:i,Dh:o,Dl:c,Eh:u,El:h,Fh:f,Fl:m,Gh:g,Gl:b,Hh:y,Hl:w}=this;return[e,n,r,s,a,i,o,c,u,h,f,m,g,b,y,w]}set(e,n,r,s,a,i,o,c,u,h,f,m,g,b,y,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=a|0,this.Cl=i|0,this.Dh=o|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=m|0,this.Gh=g|0,this.Gl=b|0,this.Hh=y|0,this.Hl=w|0}process(e,n){for(let E=0;E<16;E++,n+=4)Xl[E]=e.getUint32(n),ec[E]=e.getUint32(n+=4);for(let E=16;E<80;E++){const C=Xl[E-15]|0,k=ec[E-15]|0,A=tn.rotrSH(C,k,1)^tn.rotrSH(C,k,8)^tn.shrSH(C,k,7),_=tn.rotrSL(C,k,1)^tn.rotrSL(C,k,8)^tn.shrSL(C,k,7),P=Xl[E-2]|0,I=ec[E-2]|0,$=tn.rotrSH(P,I,19)^tn.rotrBH(P,I,61)^tn.shrSH(P,I,6),H=tn.rotrSL(P,I,19)^tn.rotrBL(P,I,61)^tn.shrSL(P,I,6),M=tn.add4L(_,H,ec[E-7],ec[E-16]),B=tn.add4H(M,A,$,Xl[E-7],Xl[E-16]);Xl[E]=B|0,ec[E]=M|0}let{Ah:r,Al:s,Bh:a,Bl:i,Ch:o,Cl:c,Dh:u,Dl:h,Eh:f,El:m,Fh:g,Fl:b,Gh:y,Gl:w,Hh:x,Hl:N}=this;for(let E=0;E<80;E++){const C=tn.rotrSH(f,m,14)^tn.rotrSH(f,m,18)^tn.rotrBH(f,m,41),k=tn.rotrSL(f,m,14)^tn.rotrSL(f,m,18)^tn.rotrBL(f,m,41),A=f&g^~f&y,_=m&b^~m&w,P=tn.add5L(N,k,_,iX[E],ec[E]),I=tn.add5H(P,x,C,A,aX[E],Xl[E]),$=P|0,H=tn.rotrSH(r,s,28)^tn.rotrBH(r,s,34)^tn.rotrBH(r,s,39),M=tn.rotrSL(r,s,28)^tn.rotrBL(r,s,34)^tn.rotrBL(r,s,39),B=r&a^r&o^a&o,O=s&i^s&c^i&c;x=y|0,N=w|0,y=g|0,w=b|0,g=f|0,b=m|0,{h:f,l:m}=tn.add(u|0,h|0,I|0,$|0),u=o|0,h=c|0,o=a|0,c=i|0,a=r|0,i=s|0;const z=tn.add3L($,M,O);r=tn.add3H(z,I,H,B),s=z|0}({h:r,l:s}=tn.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:a,l:i}=tn.add(this.Bh|0,this.Bl|0,a|0,i|0),{h:o,l:c}=tn.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:u,l:h}=tn.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:m}=tn.add(this.Eh|0,this.El|0,f|0,m|0),{h:g,l:b}=tn.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:y,l:w}=tn.add(this.Gh|0,this.Gl|0,y|0,w|0),{h:x,l:N}=tn.add(this.Hh|0,this.Hl|0,x|0,N|0),this.set(r,s,a,i,o,c,u,h,f,m,g,b,y,w,x,N)}roundClean(){Xl.fill(0),ec.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const lX=yC(()=>new oX);function cX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const sT=cX();sT.crypto||sT.msCrypto;function uX(t){switch(t){case"sha256":return x$.create();case"sha512":return lX.create()}ke(!1,"invalid hashing algorithm name","algorithm",t)}const[j$,T$,I$]=[[],[],[]],dX=BigInt(0),Fm=BigInt(1),hX=BigInt(2),fX=BigInt(7),pX=BigInt(256),mX=BigInt(113);for(let t=0,e=Fm,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],j$.push(2*(5*r+n)),T$.push((t+1)*(t+2)/2%64);let s=dX;for(let a=0;a<7;a++)e=(e<<Fm^(e>>fX)*mX)%pX,e&hX&&(s^=Fm<<(Fm<<BigInt(a))-Fm);I$.push(s)}const[gX,yX]=k$(I$,!0),aT=(t,e,n)=>n>32?S$(t,e,n):C$(t,e,n),iT=(t,e,n)=>n>32?A$(t,e,n):E$(t,e,n);function bX(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],h=n[c+1],f=aT(u,h,1)^n[o],m=iT(u,h,1)^n[o+1];for(let g=0;g<50;g+=10)t[i+g]^=f,t[i+g+1]^=m}let s=t[2],a=t[3];for(let i=0;i<24;i++){const o=T$[i],c=aT(s,a,o),u=iT(s,a,o),h=j$[i];s=t[h],a=t[h+1],t[h]=c,t[h+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=t[i+o];for(let o=0;o<10;o++)t[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=gX[r],t[1]^=yX[r]}n.fill(0)}let wX=class _$ extends gC{constructor(e,n,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$w(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=OY(this.state)}keccak(){bX(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ep(this);const{blockLen:n,state:r}=this;e=tx(e);const s=e.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ep(this,!1),mC(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=e.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);e.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return $w(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(g$(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return e||(e=new _$(n,r,s,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=s,e.enableXOF=i,e.destroyed=this.destroyed,e}};const vX=(t,e,n)=>yC(()=>new wX(e,t,n)),xX=vX(1,136,256/8);let P$=!1;const O$=function(t){return xX(t)};let R$=O$;function Gn(t){const e=Kt(t,"data");return it(R$(e))}Gn._=O$;Gn.lock=function(){P$=!0};Gn.register=function(t){if(P$)throw new TypeError("keccak256 is locked");R$=t};Object.freeze(Gn);const $$=function(t){return uX("sha256").update(t).digest()};let M$=$$,z$=!1;function Ip(t){const e=Kt(t,"data");return it(M$(e))}Ip._=$$;Ip.lock=function(){z$=!0};Ip.register=function(t){if(z$)throw new Error("sha256 is locked");M$=t};Object.freeze(Ip);Object.freeze(Ip);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L$=BigInt(0),nx=BigInt(1),NX=BigInt(2),rx=t=>t instanceof Uint8Array,kX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tp(t){if(!rx(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=kX[t[n]];return e}function B$(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function bC(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function np(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,a=t.slice(s,s+2),i=Number.parseInt(a,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function Cd(t){return bC(tp(t))}function wC(t){if(!rx(t))throw new Error("Uint8Array expected");return bC(tp(Uint8Array.from(t).reverse()))}function rp(t,e){return np(t.toString(16).padStart(e*2,"0"))}function vC(t,e){return rp(t,e).reverse()}function CX(t){return np(B$(t))}function li(t,e,n){let r;if(typeof e=="string")try{r=np(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(rx(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function wg(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!rx(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function EX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function SX(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function AX(t){let e;for(e=0;t>L$;t>>=nx,e+=1);return e}function jX(t,e){return t>>BigInt(e)&nx}const TX=(t,e,n)=>t|(n?nx:L$)<<BigInt(e),xC=t=>(NX<<BigInt(t-1))-nx,t4=t=>new Uint8Array(t),oT=t=>Uint8Array.from(t);function F$(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=t4(t),s=t4(t),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},o=(...h)=>n(s,r,...h),c=(h=t4())=>{s=o(oT([0]),h),r=o(),h.length!==0&&(s=o(oT([1]),h),r=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){r=o();const m=r.slice();f.push(m),h+=r.length}return wg(...f)};return(h,f)=>{i(),c(h);let m;for(;!(m=f(u()));)c();return i(),m}}const IX={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function uy(t,e,n={}){const r=(s,a,i)=>{const o=IX[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=t[s];if(!(i&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${a}`)};for(const[s,a]of Object.entries(e))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return t}const _X=Object.freeze(Object.defineProperty({__proto__:null,bitGet:jX,bitLen:AX,bitMask:xC,bitSet:TX,bytesToHex:tp,bytesToNumberBE:Cd,bytesToNumberLE:wC,concatBytes:wg,createHmacDrbg:F$,ensureBytes:li,equalBytes:EX,hexToBytes:np,hexToNumber:bC,numberToBytesBE:rp,numberToBytesLE:vC,numberToHexUnpadded:B$,numberToVarBytesBE:CX,utf8ToBytes:SX,validateObject:uy},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Br=BigInt(0),br=BigInt(1),rd=BigInt(2),PX=BigInt(3),p5=BigInt(4),lT=BigInt(5),cT=BigInt(8);BigInt(9);BigInt(16);function Us(t,e){const n=t%e;return n>=Br?n:e+n}function OX(t,e,n){if(n<=Br||e<Br)throw new Error("Expected power/modulo > 0");if(n===br)return Br;let r=br;for(;e>Br;)e&br&&(r=r*t%n),t=t*t%n,e>>=br;return r}function Aa(t,e,n){let r=t;for(;e-- >Br;)r*=r,r%=n;return r}function m5(t,e){if(t===Br||e<=Br)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Us(t,e),r=e,s=Br,a=br;for(;n!==Br;){const i=r/n,o=r%n,c=s-a*i;r=n,n=o,s=a,a=c}if(r!==br)throw new Error("invert: does not exist");return Us(s,e)}function RX(t){const e=(t-br)/rd;let n,r,s;for(n=t-br,r=0;n%rd===Br;n/=rd,r++);for(s=rd;s<t&&OX(s,e,t)!==t-br;s++);if(r===1){const i=(t+br)/p5;return function(o,c){const u=o.pow(c,i);if(!o.eql(o.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(n+br)/rd;return function(i,o){if(i.pow(o,e)===i.neg(i.ONE))throw new Error("Cannot find square root");let c=r,u=i.pow(i.mul(i.ONE,s),n),h=i.pow(o,a),f=i.pow(o,n);for(;!i.eql(f,i.ONE);){if(i.eql(f,i.ZERO))return i.ZERO;let m=1;for(let b=i.sqr(f);m<c&&!i.eql(b,i.ONE);m++)b=i.sqr(b);const g=i.pow(u,br<<BigInt(c-m-1));u=i.sqr(g),h=i.mul(h,g),f=i.mul(f,u),c=m}return h}}function $X(t){if(t%p5===PX){const e=(t+br)/p5;return function(n,r){const s=n.pow(r,e);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(t%cT===lT){const e=(t-lT)/cT;return function(n,r){const s=n.mul(r,rd),a=n.pow(s,e),i=n.mul(r,a),o=n.mul(n.mul(i,rd),a),c=n.mul(i,n.sub(o,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return RX(t)}const MX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zX(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=MX.reduce((r,s)=>(r[s]="function",r),e);return uy(t,n)}function LX(t,e,n){if(n<Br)throw new Error("Expected power > 0");if(n===Br)return t.ONE;if(n===br)return e;let r=t.ONE,s=e;for(;n>Br;)n&br&&(r=t.mul(r,s)),s=t.sqr(s),n>>=br;return r}function BX(t,e){const n=new Array(e.length),r=e.reduce((a,i,o)=>t.is0(i)?a:(n[o]=a,t.mul(a,i)),t.ONE),s=t.inv(r);return e.reduceRight((a,i,o)=>t.is0(i)?a:(n[o]=t.mul(a,n[o]),t.mul(a,i)),s),n}function U$(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function FX(t,e,n=!1,r={}){if(t<=Br)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:a}=U$(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=$X(t),o=Object.freeze({ORDER:t,BITS:s,BYTES:a,MASK:xC(s),ZERO:Br,ONE:br,create:c=>Us(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Br<=c&&c<t},is0:c=>c===Br,isOdd:c=>(c&br)===br,neg:c=>Us(-c,t),eql:(c,u)=>c===u,sqr:c=>Us(c*c,t),add:(c,u)=>Us(c+u,t),sub:(c,u)=>Us(c-u,t),mul:(c,u)=>Us(c*u,t),pow:(c,u)=>LX(o,c,u),div:(c,u)=>Us(c*m5(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>m5(c,t),sqrt:r.sqrt||(c=>i(o,c)),invertBatch:c=>BX(o,c),cmov:(c,u,h)=>h?u:c,toBytes:c=>n?vC(c,a):rp(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return n?wC(c):Cd(c)}});return Object.freeze(o)}function D$(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function W$(t){const e=D$(t);return e+Math.ceil(e/2)}function UX(t,e,n=!1){const r=t.length,s=D$(e),a=W$(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const i=n?Cd(t):wC(t),o=Us(i,e-br)+br;return n?vC(o,s):rp(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DX=BigInt(0),n4=BigInt(1);function WX(t,e){const n=(s,a)=>{const i=a.negate();return s?i:a},r=s=>{const a=Math.ceil(e/s)+1,i=2**(s-1);return{windows:a,windowSize:i}};return{constTimeNegate:n,unsafeLadder(s,a){let i=t.ZERO,o=s;for(;a>DX;)a&n4&&(i=i.add(o)),o=o.double(),a>>=n4;return i},precomputeWindow(s,a){const{windows:i,windowSize:o}=r(a),c=[];let u=s,h=u;for(let f=0;f<i;f++){h=u,c.push(h);for(let m=1;m<o;m++)h=h.add(u),c.push(h);u=h.double()}return c},wNAF(s,a,i){const{windows:o,windowSize:c}=r(s);let u=t.ZERO,h=t.BASE;const f=BigInt(2**s-1),m=2**s,g=BigInt(s);for(let b=0;b<o;b++){const y=b*c;let w=Number(i&f);i>>=g,w>c&&(w-=m,i+=n4);const x=y,N=y+Math.abs(w)-1,E=b%2!==0,C=w<0;w===0?h=h.add(n(E,a[x])):u=u.add(n(C,a[N]))}return{p:u,f:h}},wNAFCached(s,a,i,o){const c=s._WINDOW_SIZE||1;let u=a.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&a.set(s,o(u))),this.wNAF(c,u,i)}}}function H$(t){return zX(t.Fp),uy(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...U$(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HX(t){const e=H$(t);uy(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:GX,hexToBytes:qX}=_X,hd={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=hd;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:GX(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=hd,n=typeof t=="string"?qX(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:a}=hd._parseInt(n.subarray(2)),{d:i,l:o}=hd._parseInt(a);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const h=u.toString(16);return h.length&1?`0${h}`:h},r=e(n(t.s)),s=e(n(t.r)),a=r.length/2,i=s.length/2,o=n(a),c=n(i);return`30${n(i+a+4)}02${c}${s}02${o}${r}`}},Yo=BigInt(0),$a=BigInt(1);BigInt(2);const uT=BigInt(3);BigInt(4);function VX(t){const e=HX(t),{Fp:n}=e,r=e.toBytes||((b,y,w)=>{const x=y.toAffine();return wg(Uint8Array.from([4]),n.toBytes(x.x),n.toBytes(x.y))}),s=e.fromBytes||(b=>{const y=b.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),x=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:x}});function a(b){const{a:y,b:w}=e,x=n.sqr(b),N=n.mul(x,b);return n.add(n.add(N,n.mul(b,y)),w)}if(!n.eql(n.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function i(b){return typeof b=="bigint"&&Yo<b&&b<e.n}function o(b){if(!i(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:x,n:N}=e;if(y&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=tp(b)),typeof b!="string"||!y.includes(b.length))throw new Error("Invalid key");b=b.padStart(w*2,"0")}let E;try{E=typeof b=="bigint"?b:Cd(li("private key",b,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof b}`)}return x&&(E=Us(E,N)),o(E),E}const u=new Map;function h(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,w,x){if(this.px=y,this.py=w,this.pz=x,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(x==null||!n.isValid(x))throw new Error("z required")}static fromAffine(y){const{x:w,y:x}=y||{};if(!y||!n.isValid(w)||!n.isValid(x))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const N=E=>n.eql(E,n.ZERO);return N(w)&&N(x)?f.ZERO:new f(w,x,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(x=>x.pz));return y.map((x,N)=>x.toAffine(w[N])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(s(li("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=this.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const x=n.sqr(w),N=a(y);if(!n.eql(x,N))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){h(y);const{px:w,py:x,pz:N}=this,{px:E,py:C,pz:k}=y,A=n.eql(n.mul(w,k),n.mul(E,N)),_=n.eql(n.mul(x,k),n.mul(C,N));return A&&_}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,x=n.mul(w,uT),{px:N,py:E,pz:C}=this;let k=n.ZERO,A=n.ZERO,_=n.ZERO,P=n.mul(N,N),I=n.mul(E,E),$=n.mul(C,C),H=n.mul(N,E);return H=n.add(H,H),_=n.mul(N,C),_=n.add(_,_),k=n.mul(y,_),A=n.mul(x,$),A=n.add(k,A),k=n.sub(I,A),A=n.add(I,A),A=n.mul(k,A),k=n.mul(H,k),_=n.mul(x,_),$=n.mul(y,$),H=n.sub(P,$),H=n.mul(y,H),H=n.add(H,_),_=n.add(P,P),P=n.add(_,P),P=n.add(P,$),P=n.mul(P,H),A=n.add(A,P),$=n.mul(E,C),$=n.add($,$),P=n.mul($,H),k=n.sub(k,P),_=n.mul($,I),_=n.add(_,_),_=n.add(_,_),new f(k,A,_)}add(y){h(y);const{px:w,py:x,pz:N}=this,{px:E,py:C,pz:k}=y;let A=n.ZERO,_=n.ZERO,P=n.ZERO;const I=e.a,$=n.mul(e.b,uT);let H=n.mul(w,E),M=n.mul(x,C),B=n.mul(N,k),O=n.add(w,x),z=n.add(E,C);O=n.mul(O,z),z=n.add(H,M),O=n.sub(O,z),z=n.add(w,N);let G=n.add(E,k);return z=n.mul(z,G),G=n.add(H,B),z=n.sub(z,G),G=n.add(x,N),A=n.add(C,k),G=n.mul(G,A),A=n.add(M,B),G=n.sub(G,A),P=n.mul(I,z),A=n.mul($,B),P=n.add(A,P),A=n.sub(M,P),P=n.add(M,P),_=n.mul(A,P),M=n.add(H,H),M=n.add(M,H),B=n.mul(I,B),z=n.mul($,z),M=n.add(M,B),B=n.sub(H,B),B=n.mul(I,B),z=n.add(z,B),H=n.mul(M,z),_=n.add(_,H),H=n.mul(G,z),A=n.mul(O,A),A=n.sub(A,H),H=n.mul(O,M),P=n.mul(G,P),P=n.add(P,H),new f(A,_,P)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return g.wNAFCached(this,u,y,w=>{const x=n.invertBatch(w.map(N=>N.pz));return w.map((N,E)=>N.toAffine(x[E])).map(f.fromAffine)})}multiplyUnsafe(y){const w=f.ZERO;if(y===Yo)return w;if(o(y),y===$a)return this;const{endo:x}=e;if(!x)return g.unsafeLadder(this,y);let{k1neg:N,k1:E,k2neg:C,k2:k}=x.splitScalar(y),A=w,_=w,P=this;for(;E>Yo||k>Yo;)E&$a&&(A=A.add(P)),k&$a&&(_=_.add(P)),P=P.double(),E>>=$a,k>>=$a;return N&&(A=A.negate()),C&&(_=_.negate()),_=new f(n.mul(_.px,x.beta),_.py,_.pz),A.add(_)}multiply(y){o(y);let w=y,x,N;const{endo:E}=e;if(E){const{k1neg:C,k1:k,k2neg:A,k2:_}=E.splitScalar(w);let{p:P,f:I}=this.wNAF(k),{p:$,f:H}=this.wNAF(_);P=g.constTimeNegate(C,P),$=g.constTimeNegate(A,$),$=new f(n.mul($.px,E.beta),$.py,$.pz),x=P.add($),N=I.add(H)}else{const{p:C,f:k}=this.wNAF(w);x=C,N=k}return f.normalizeZ([x,N])[0]}multiplyAndAddUnsafe(y,w,x){const N=f.BASE,E=(k,A)=>A===Yo||A===$a||!k.equals(N)?k.multiplyUnsafe(A):k.multiply(A),C=E(this,w).add(E(y,x));return C.is0()?void 0:C}toAffine(y){const{px:w,py:x,pz:N}=this,E=this.is0();y==null&&(y=E?n.ONE:n.inv(N));const C=n.mul(w,y),k=n.mul(x,y),A=n.mul(N,y);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:C,y:k}}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===$a)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===$a?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return tp(this.toRawBytes(y))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,g=WX(f,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:i}}function ZX(t){const e=H$(t);return uy(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function KX(t){const e=ZX(t),{Fp:n,n:r}=e,s=n.BYTES+1,a=2*n.BYTES+1;function i(z){return Yo<z&&z<n.ORDER}function o(z){return Us(z,r)}function c(z){return m5(z,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:m}=VX({...e,toBytes(z,G,Z){const D=G.toAffine(),K=n.toBytes(D.x),ee=wg;return Z?ee(Uint8Array.from([G.hasEvenY()?2:3]),K):ee(Uint8Array.from([4]),K,n.toBytes(D.y))},fromBytes(z){const G=z.length,Z=z[0],D=z.subarray(1);if(G===s&&(Z===2||Z===3)){const K=Cd(D);if(!i(K))throw new Error("Point is not on curve");const ee=f(K);let F=n.sqrt(ee);const V=(F&$a)===$a;return(Z&1)===1!==V&&(F=n.neg(F)),{x:K,y:F}}else if(G===a&&Z===4){const K=n.fromBytes(D.subarray(0,n.BYTES)),ee=n.fromBytes(D.subarray(n.BYTES,2*n.BYTES));return{x:K,y:ee}}else throw new Error(`Point of length ${G} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}}),g=z=>tp(rp(z,e.nByteLength));function b(z){const G=r>>$a;return z>G}function y(z){return b(z)?o(-z):z}const w=(z,G,Z)=>Cd(z.slice(G,Z));class x{constructor(G,Z,D){this.r=G,this.s=Z,this.recovery=D,this.assertValidity()}static fromCompact(G){const Z=e.nByteLength;return G=li("compactSignature",G,Z*2),new x(w(G,0,Z),w(G,Z,2*Z))}static fromDER(G){const{r:Z,s:D}=hd.toSig(li("DER",G));return new x(Z,D)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(G){return new x(this.r,this.s,G)}recoverPublicKey(G){const{r:Z,s:D,recovery:K}=this,ee=_(li("msgHash",G));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");const F=K===2||K===3?Z+e.n:Z;if(F>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(K&1)===0?"02":"03",J=u.fromHex(V+g(F)),Q=c(F),ae=o(-ee*Q),ue=o(D*Q),re=u.BASE.multiplyAndAddUnsafe(J,ae,ue);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return np(this.toDERHex())}toDERHex(){return hd.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return np(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const N={isValidPrivateKey(z){try{return h(z),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const z=W$(e.n);return UX(e.randomBytes(z),e.n)},precompute(z=8,G=u.BASE){return G._setWindowSize(z),G.multiply(BigInt(3)),G}};function E(z,G=!0){return u.fromPrivateKey(z).toRawBytes(G)}function C(z){const G=z instanceof Uint8Array,Z=typeof z=="string",D=(G||Z)&&z.length;return G?D===s||D===a:Z?D===2*s||D===2*a:z instanceof u}function k(z,G,Z=!0){if(C(z))throw new Error("first arg must be private key");if(!C(G))throw new Error("second arg must be public key");return u.fromHex(G).multiply(h(z)).toRawBytes(Z)}const A=e.bits2int||function(z){const G=Cd(z),Z=z.length*8-e.nBitLength;return Z>0?G>>BigInt(Z):G},_=e.bits2int_modN||function(z){return o(A(z))},P=xC(e.nBitLength);function I(z){if(typeof z!="bigint")throw new Error("bigint expected");if(!(Yo<=z&&z<P))throw new Error(`bigint expected < 2^${e.nBitLength}`);return rp(z,e.nByteLength)}function $(z,G,Z=H){if(["recovered","canonical"].some(me=>me in Z))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:K}=e;let{lowS:ee,prehash:F,extraEntropy:V}=Z;ee==null&&(ee=!0),z=li("msgHash",z),F&&(z=li("prehashed msgHash",D(z)));const J=_(z),Q=h(G),ae=[I(Q),I(J)];if(V!=null){const me=V===!0?K(n.BYTES):V;ae.push(li("extraEntropy",me))}const ue=wg(...ae),re=J;function ie(me){const oe=A(me);if(!m(oe))return;const he=c(oe),Ne=u.BASE.multiply(oe).toAffine(),Re=o(Ne.x);if(Re===Yo)return;const W=o(he*o(re+Re*Q));if(W===Yo)return;let ye=(Ne.x===Re?0:2)|Number(Ne.y&$a),ce=W;return ee&&b(W)&&(ce=y(W),ye^=1),new x(Re,ce,ye)}return{seed:ue,k2sig:ie}}const H={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function B(z,G,Z=H){const{seed:D,k2sig:K}=$(z,G,Z),ee=e;return F$(ee.hash.outputLen,ee.nByteLength,ee.hmac)(D,K)}u.BASE._setWindowSize(8);function O(z,G,Z,D=M){const K=z;if(G=li("msgHash",G),Z=li("publicKey",Z),"strict"in D)throw new Error("options.strict was renamed to lowS");const{lowS:ee,prehash:F}=D;let V,J;try{if(typeof K=="string"||K instanceof Uint8Array)try{V=x.fromDER(K)}catch(he){if(!(he instanceof hd.Err))throw he;V=x.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){const{r:he,s:Ne}=K;V=new x(he,Ne)}else throw new Error("PARSE");J=u.fromHex(Z)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ee&&V.hasHighS())return!1;F&&(G=e.hash(G));const{r:Q,s:ae}=V,ue=_(G),re=c(ae),ie=o(ue*re),me=o(Q*re),oe=u.BASE.multiplyAndAddUnsafe(J,ie,me)?.toAffine();return oe?o(oe.x)===Q:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:k,sign:B,verify:O,ProjectivePoint:u,Signature:x,utils:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function QX(t){return{hash:t,hmac:(e,...n)=>w$(t,e,MY(...n)),randomBytes:zY}}function JX(t,e){const n=r=>KX({...t,...QX(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const G$=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),dT=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),YX=BigInt(1),g5=BigInt(2),hT=(t,e)=>(t+e/g5)/e;function XX(t){const e=G$,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=t*t*t%e,h=u*u*t%e,f=Aa(h,n,e)*h%e,m=Aa(f,n,e)*h%e,g=Aa(m,g5,e)*u%e,b=Aa(g,s,e)*g%e,y=Aa(b,a,e)*b%e,w=Aa(y,o,e)*y%e,x=Aa(w,c,e)*w%e,N=Aa(x,o,e)*y%e,E=Aa(N,n,e)*h%e,C=Aa(E,i,e)*b%e,k=Aa(C,r,e)*u%e,A=Aa(k,g5,e);if(!y5.eql(y5.sqr(A),t))throw new Error("Cannot find square root");return A}const y5=FX(G$,void 0,void 0,{sqrt:XX}),fc=JX({a:BigInt(0),b:BigInt(7),Fp:y5,n:dT,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=dT,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-YX*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=hT(a*t,e),c=hT(-r*t,e);let u=Us(t-o*n-c*s,e),h=Us(-o*r-c*a,e);const f=u>i,m=h>i;if(f&&(u=e-u),m&&(h=e-h),u>i||h>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:m,k2:h}}}},x$);BigInt(0);fc.ProjectivePoint;const Xd="0x0000000000000000000000000000000000000000",fT="0x0000000000000000000000000000000000000000000000000000000000000000",pT=BigInt(0),mT=BigInt(1),gT=BigInt(2),yT=BigInt(27),bT=BigInt(28),n1=BigInt(35),Dh={};function wT(t){return Fa(kr(t),32)}var c0,Uo,u0,sf;const eee=class Hi{constructor(e,n,r,s){Le(this,c0),Le(this,Uo),Le(this,u0),Le(this,sf),ly(e,Dh,"Signature"),de(this,c0,n),de(this,Uo,r),de(this,u0,s),de(this,sf,null)}get r(){return Y(this,c0)}set r(e){ke(kd(e)===32,"invalid r","value",e),de(this,c0,it(e))}get s(){return ke(parseInt(Y(this,Uo).substring(0,3))<8,"non-canonical s; use ._s","s",Y(this,Uo)),Y(this,Uo)}set s(e){ke(kd(e)===32,"invalid s","value",e),de(this,Uo,it(e))}get _s(){return Y(this,Uo)}isValid(){return parseInt(Y(this,Uo).substring(0,3))<8}get v(){return Y(this,u0)}set v(e){const n=en(e,"value");ke(n===27||n===28,"invalid v","v",e),de(this,u0,n)}get networkV(){return Y(this,sf)}get legacyChainId(){const e=this.networkV;return e==null?null:Hi.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Kt(this.s);return this.yParity&&(e[0]|=128),it(e)}get compactSerialized(){return Xn([this.r,this.yParityAndS])}get serialized(){return Xn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Hi(Dh,this.r,this._s,this.v);return this.networkV&&de(e,sf,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=yt(e,"v");return n==yT||n==bT?pT:(ke(n>=n1,"invalid EIP-155 v","v",e),(n-n1)/gT)}static getChainIdV(e,n){return yt(e)*gT+BigInt(35+n-27)}static getNormalizedV(e){const n=yt(e);return n===pT||n===yT?27:n===mT||n===bT?28:(ke(n>=n1,"invalid v","v",e),n&mT?27:28)}static from(e){function n(u,h){ke(u,h,"signature",e)}if(e==null)return new Hi(Dh,fT,fT,27);if(typeof e=="string"){const u=Kt(e,"signature");if(u.length===64){const h=it(u.slice(0,32)),f=u.slice(32,64),m=f[0]&128?28:27;return f[0]&=127,new Hi(Dh,h,it(f),m)}if(u.length===65){const h=it(u.slice(0,32)),f=it(u.slice(32,64)),m=Hi.getNormalizedV(u[64]);return new Hi(Dh,h,f,m)}n(!1,"invalid raw signature length")}if(e instanceof Hi)return e.clone();const r=e.r;n(r!=null,"missing r");const s=wT(r),a=function(u,h){if(u!=null)return wT(u);if(h!=null){n(Un(h,32),"invalid yParityAndS");const f=Kt(h);return f[0]&=127,it(f)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:i,v:o}=function(u,h,f){if(u!=null){const m=yt(u);return{networkV:m>=n1?m:void 0,v:Hi.getNormalizedV(m)}}if(h!=null)return n(Un(h,32),"invalid yParityAndS"),{v:Kt(h)[0]&128?28:27};if(f!=null){switch(en(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Hi(Dh,s,a,o);return i&&de(c,sf,i),n(e.yParity==null||en(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};c0=new WeakMap,Uo=new WeakMap,u0=new WeakMap,sf=new WeakMap;let Ua=eee;var pc;const tee=class af{constructor(e){Le(this,pc),ke(kd(e)===32,"invalid private key","privateKey","[REDACTED]"),de(this,pc,it(e))}get privateKey(){return Y(this,pc)}get publicKey(){return af.computePublicKey(Y(this,pc))}get compressedPublicKey(){return af.computePublicKey(Y(this,pc),!0)}sign(e){ke(kd(e)===32,"invalid digest length","digest",e);const n=fc.sign(ws(e),ws(Y(this,pc)),{lowS:!0});return Ua.from({r:Dc(n.r,32),s:Dc(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=af.computePublicKey(e);return it(fc.getSharedSecret(ws(Y(this,pc)),Kt(n),!1))}static computePublicKey(e,n){let r=Kt(e,"key");if(r.length===32){const a=fc.getPublicKey(r,!!n);return it(a)}if(r.length===64){const a=new Uint8Array(65);a[0]=4,a.set(r,1),r=a}const s=fc.ProjectivePoint.fromHex(r);return it(s.toRawBytes(n))}static recoverPublicKey(e,n){ke(kd(e)===32,"invalid digest length","digest",e);const r=Ua.from(n);let s=fc.Signature.fromCompact(ws(Xn([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const a=s.recoverPublicKey(ws(e));return ke(a!=null,"invalid signature for digest","signature",n),"0x"+a.toHex(!1)}static addPoints(e,n,r){const s=fc.ProjectivePoint.fromHex(af.computePublicKey(e).substring(2)),a=fc.ProjectivePoint.fromHex(af.computePublicKey(n).substring(2));return"0x"+s.add(a).toHex(!!r)}};pc=new WeakMap;let NC=tee;const nee=BigInt(0),ree=BigInt(36);function vT(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=Kt(Gn(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const kC={};for(let t=0;t<10;t++)kC[String(t)]=String(t);for(let t=0;t<26;t++)kC[String.fromCharCode(65+t)]=String(10+t);const xT=15;function see(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>kC[r]).join("");for(;e.length>=xT;){let r=e.substring(0,xT);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const aee=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function iee(t){t=t.toLowerCase();let e=nee;for(let n=0;n<t.length;n++)e=e*ree+aee[t[n]];return e}function un(t){if(ke(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=vT(t);return ke(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ke(t.substring(2,4)===see(t),"bad icap checksum","address",t);let e=iee(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return vT("0x"+e)}ke(!1,"invalid address","address",t)}function oee(t){const e=un(t.from);let n=yt(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,un(cr(Gn(Wc([e,n])),12))}function q$(t){return t&&typeof t.getAddress=="function"}function lee(t){try{return un(t),!0}catch{}return!1}async function r4(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Ge(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),ke(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),un(n)}function xs(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?un(t):(Ge(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),r4(t,e.resolveName(t)));if(q$(t))return r4(t,t.getAddress());if(t&&typeof t.then=="function")return r4(t,t);ke(!1,"unsupported addressable value","target",t)}const Go={};function gt(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new qs(Go,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function yn(t,e){return new qs(Go,`bytes${e||""}`,t,{size:e})}const NT=Symbol.for("_ethers_typed");var of;const cee=class mc{constructor(e,n,r,s){Pe(this,"type"),Pe(this,"value"),Le(this,of),Pe(this,"_typedSymbol"),s==null&&(s=null),ly(Go,e,"Typed"),Ut(this,{_typedSymbol:NT,type:n,value:r}),de(this,of,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return Y(this,of)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return Y(this,of)===!0?-1:Y(this,of)===!1?this.value.length:null}static from(e,n){return new mc(Go,e,n)}static uint8(e){return gt(e,8)}static uint16(e){return gt(e,16)}static uint24(e){return gt(e,24)}static uint32(e){return gt(e,32)}static uint40(e){return gt(e,40)}static uint48(e){return gt(e,48)}static uint56(e){return gt(e,56)}static uint64(e){return gt(e,64)}static uint72(e){return gt(e,72)}static uint80(e){return gt(e,80)}static uint88(e){return gt(e,88)}static uint96(e){return gt(e,96)}static uint104(e){return gt(e,104)}static uint112(e){return gt(e,112)}static uint120(e){return gt(e,120)}static uint128(e){return gt(e,128)}static uint136(e){return gt(e,136)}static uint144(e){return gt(e,144)}static uint152(e){return gt(e,152)}static uint160(e){return gt(e,160)}static uint168(e){return gt(e,168)}static uint176(e){return gt(e,176)}static uint184(e){return gt(e,184)}static uint192(e){return gt(e,192)}static uint200(e){return gt(e,200)}static uint208(e){return gt(e,208)}static uint216(e){return gt(e,216)}static uint224(e){return gt(e,224)}static uint232(e){return gt(e,232)}static uint240(e){return gt(e,240)}static uint248(e){return gt(e,248)}static uint256(e){return gt(e,256)}static uint(e){return gt(e,256)}static int8(e){return gt(e,-8)}static int16(e){return gt(e,-16)}static int24(e){return gt(e,-24)}static int32(e){return gt(e,-32)}static int40(e){return gt(e,-40)}static int48(e){return gt(e,-48)}static int56(e){return gt(e,-56)}static int64(e){return gt(e,-64)}static int72(e){return gt(e,-72)}static int80(e){return gt(e,-80)}static int88(e){return gt(e,-88)}static int96(e){return gt(e,-96)}static int104(e){return gt(e,-104)}static int112(e){return gt(e,-112)}static int120(e){return gt(e,-120)}static int128(e){return gt(e,-128)}static int136(e){return gt(e,-136)}static int144(e){return gt(e,-144)}static int152(e){return gt(e,-152)}static int160(e){return gt(e,-160)}static int168(e){return gt(e,-168)}static int176(e){return gt(e,-176)}static int184(e){return gt(e,-184)}static int192(e){return gt(e,-192)}static int200(e){return gt(e,-200)}static int208(e){return gt(e,-208)}static int216(e){return gt(e,-216)}static int224(e){return gt(e,-224)}static int232(e){return gt(e,-232)}static int240(e){return gt(e,-240)}static int248(e){return gt(e,-248)}static int256(e){return gt(e,-256)}static int(e){return gt(e,-256)}static bytes1(e){return yn(e,1)}static bytes2(e){return yn(e,2)}static bytes3(e){return yn(e,3)}static bytes4(e){return yn(e,4)}static bytes5(e){return yn(e,5)}static bytes6(e){return yn(e,6)}static bytes7(e){return yn(e,7)}static bytes8(e){return yn(e,8)}static bytes9(e){return yn(e,9)}static bytes10(e){return yn(e,10)}static bytes11(e){return yn(e,11)}static bytes12(e){return yn(e,12)}static bytes13(e){return yn(e,13)}static bytes14(e){return yn(e,14)}static bytes15(e){return yn(e,15)}static bytes16(e){return yn(e,16)}static bytes17(e){return yn(e,17)}static bytes18(e){return yn(e,18)}static bytes19(e){return yn(e,19)}static bytes20(e){return yn(e,20)}static bytes21(e){return yn(e,21)}static bytes22(e){return yn(e,22)}static bytes23(e){return yn(e,23)}static bytes24(e){return yn(e,24)}static bytes25(e){return yn(e,25)}static bytes26(e){return yn(e,26)}static bytes27(e){return yn(e,27)}static bytes28(e){return yn(e,28)}static bytes29(e){return yn(e,29)}static bytes30(e){return yn(e,30)}static bytes31(e){return yn(e,31)}static bytes32(e){return yn(e,32)}static address(e){return new mc(Go,"address",e)}static bool(e){return new mc(Go,"bool",!!e)}static bytes(e){return new mc(Go,"bytes",e)}static string(e){return new mc(Go,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new mc(Go,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===NT}static dereference(e,n){if(mc.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};of=new WeakMap;let qs=cee,uee=class extends Nl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=qs.dereference(n,"string");try{r=un(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return un(Dc(e.readValue(),20))}},dee=class extends Nl{constructor(e){super(e.name,e.type,"_",e.dynamic),Pe(this,"coder"),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,n){return this.coder.encode(e,n)}decode(e){return this.coder.decode(e)}};function V$(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(u=>{const h=u.localName;return Ge(h,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),Ge(!c[h],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[h]=!0,n[h]})}else ke(!1,"invalid tuple value","tuple",n);ke(e.length===r.length,"types/value length mismatch","tuple",n);let s=new d5,a=new d5,i=[];e.forEach((c,u)=>{let h=r[u];if(c.dynamic){let f=a.length;c.encode(a,h);let m=s.writeUpdatableValue();i.push(g=>{m(g+f)})}else c.encode(s,h)}),i.forEach(c=>{c(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(a),o}function Z$(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(a=>{let i=null;if(a.dynamic){let o=t.readIndex(),c=s.subReader(o);try{i=a.decode(c)}catch(u){if(Kr(u,"BUFFER_OVERRUN"))throw u;i=u,i.baseType=a.name,i.name=a.localName,i.type=a.type}}else try{i=a.decode(t)}catch(o){if(Kr(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=a.name,i.name=a.localName,i.type=a.type}if(i==null)throw new Error("investigate");n.push(i),r.push(a.localName||null)}),Rw.fromItems(n,r)}let hee=class extends Nl{constructor(e,n,r){const s=e.type+"["+(n>=0?n:"")+"]",a=n===-1||e.dynamic;super("array",s,r,a),Pe(this,"coder"),Pe(this,"length"),Ut(this,{coder:e,length:n})}defaultValue(){const e=this.coder.defaultValue(),n=[];for(let r=0;r<this.length;r++)n.push(e);return n}encode(e,n){const r=qs.dereference(n,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;s===-1&&(s=r.length,e.writeValue(r.length)),JR(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let i=0;i<r.length;i++)a.push(this.coder);return V$(e,a,r)}decode(e){let n=this.length;n===-1&&(n=e.readIndex(),Ge(n*vs<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:n*vs,length:e.dataLength}));let r=[];for(let s=0;s<n;s++)r.push(new dee(this.coder));return Z$(e,r)}},fee=class extends Nl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=qs.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}},K$=class extends Nl{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=ws(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}};class pee extends K${constructor(e){super("bytes",e)}decode(e){return it(super.decode(e))}}let mee=class extends Nl{constructor(e,n){let r="bytes"+String(e);super(r,r,n,!1),Pe(this,"size"),Ut(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,n){let r=ws(qs.dereference(n,this.type));return r.length!==this.size&&this._throwError("incorrect data length",n),e.writeBytes(r)}decode(e){return it(e.readBytes(this.size))}};const gee=new Uint8Array([]);let yee=class extends Nl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(gee)}decode(e){return e.readBytes(0),null}};const bee=BigInt(0),wee=BigInt(1),vee=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class xee extends Nl{constructor(e,n,r){const s=(n?"int":"uint")+e*8;super(s,s,r,!1),Pe(this,"size"),Pe(this,"signed"),Ut(this,{size:e,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,n){let r=yt(qs.dereference(n,this.type)),s=ud(vee,vs*8);if(this.signed){let a=ud(s,this.size*8-1);(r>a||r<-(a+wee))&&this._throwError("value out-of-bounds",n),r=pC(r,8*vs)}else(r<bee||r>ud(s,this.size*8))&&this._throwError("value out-of-bounds",n);return e.writeValue(r)}decode(e){let n=ud(e.readValue(),this.size*8);return this.signed&&(n=_w(n,this.size*8)),n}}let Nee=class extends K${constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,ao(qs.dereference(n,"string")))}decode(e){return Pw(super.decode(e))}},M1=class extends Nl{constructor(e,n){let r=!1;const s=[];e.forEach(i=>{i.dynamic&&(r=!0),s.push(i.type)});const a="tuple("+s.join(",")+")";super("tuple",a,n,r),Pe(this,"coders"),Ut(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const n=this.coders.reduce((r,s)=>{const a=s.localName;return a&&(r[a]||(r[a]=0),r[a]++),r},{});return this.coders.forEach((r,s)=>{let a=r.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[s]))}),Object.freeze(e)}encode(e,n){const r=qs.dereference(n,"tuple");return V$(e,this.coders,r)}decode(e){return Z$(e,this.coders)}};function s4(t,e){return{address:un(t),storageKeys:e.map((n,r)=>(ke(Un(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function eh(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(ke(n.length===2,"invalid slot set",`value[${r}]`,n),s4(n[0],n[1])):(ke(n!=null&&typeof n=="object","invalid address-slot set","value",t),s4(n.address,n.storageKeys)));ke(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,a)=>(s[a]=!0,s),{});return s4(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function Q$(t){return{address:un(t.address),nonce:yt(t.nonce!=null?t.nonce:0),chainId:yt(t.chainId!=null?t.chainId:0),signature:Ua.from(t.signature)}}function kee(t){let e;return typeof t=="string"?e=NC.computePublicKey(t,!1):e=t.publicKey,un(Gn("0x"+e.substring(4)).substring(26))}function Cee(t,e){return kee(NC.recoverPublicKey(t,e))}const zr=BigInt(0),Eee=BigInt(2),See=BigInt(27),Aee=BigInt(28),jee=BigInt(35),Tee=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),a4=4096*32;function Iee(t){return{blobToKzgCommitment:e=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Kt(t.blobToKzgCommitment(it(e)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Kt(t.blobToKzgCommitment(e));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Kt(t.blobToKZGCommitment(it(e)));ke(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(e,n)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Kt(t.computeBlobProof(it(e),it(n)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(e,n);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Kt(t.computeBlobKZGProof(it(e),it(n)));ke(!1,"unsupported KZG library","kzg",t)}}}function kT(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Ip(e).substring(4),"0x"+n}function _p(t){return t==="0x"?null:un(t)}function sx(t,e){try{return eh(t)}catch(n){ke(!1,n.message,e,t)}}function _ee(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const s=t[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);n.push({address:_p(s[1]),nonce:$n(s[2],"nonce"),chainId:$n(s[0],"chainId"),signature:Ua.from({yParity:th(s[3],"yParity"),r:Fa(s[4],32),s:Fa(s[5],32)})})}return n}catch(n){ke(!1,n.message,e,t)}}function th(t,e){return t==="0x"?0:en(t,e)}function $n(t,e){if(t==="0x")return zr;const n=yt(t,e);return ke(n<=Tee,"value exceeds uint size",e,n),n}function cn(t,e){const n=yt(t,"value"),r=kr(n);return ke(r.length<=32,"value too large",`tx.${e}`,n),r}function ax(t){return eh(t).map(e=>[e.address,e.storageKeys])}function Pee(t){return t.map(e=>[cn(e.chainId,"chainId"),e.address,cn(e.nonce,"nonce"),cn(e.signature.yParity,"yParity"),kr(e.signature.r),kr(e.signature.s)])}function Oee(t,e){ke(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)ke(Un(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function Ree(t){const e=cy(t);ke(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:th(e[0],"nonce"),gasPrice:$n(e[1],"gasPrice"),gasLimit:$n(e[2],"gasLimit"),to:_p(e[3]),value:$n(e[4],"value"),data:it(e[5]),chainId:zr};if(e.length===6)return n;const r=$n(e[6],"v"),s=$n(e[7],"r"),a=$n(e[8],"s");if(s===zr&&a===zr)n.chainId=r;else{let i=(r-jee)/Eee;i<zr&&(i=zr),n.chainId=i,ke(i!==zr||r===See||r===Aee,"non-canonical legacy v","v",e[6]),n.signature=Ua.from({r:Fa(e[7],32),s:Fa(e[8],32),v:r})}return n}function $ee(t,e){const n=[cn(t.nonce,"nonce"),cn(t.gasPrice||0,"gasPrice"),cn(t.gasLimit,"gasLimit"),t.to||"0x",cn(t.value,"value"),t.data];let r=zr;if(t.chainId!=zr)r=yt(t.chainId,"tx.chainId"),ke(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const a=t.signature.legacyChainId;a!=null&&(r=a)}if(!e)return r!==zr&&(n.push(kr(r)),n.push("0x"),n.push("0x")),Wc(n);let s=BigInt(27+e.yParity);return r!==zr?s=Ua.getChainIdV(r,e.v):BigInt(e.v)!==s&&ke(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(kr(s)),n.push(kr(e.r)),n.push(kr(e.s)),Wc(n)}function ix(t,e){let n;try{if(n=th(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ke(!1,"invalid yParity","yParity",e[0])}const r=Fa(e[1],32),s=Fa(e[2],32),a=Ua.from({r,s,yParity:n});t.signature=a}function Mee(t){const e=cy(Kt(t).slice(1));ke(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",it(t));const n={type:2,chainId:$n(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:$n(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$n(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$n(e[4],"gasLimit"),to:_p(e[5]),value:$n(e[6],"value"),data:it(e[7]),accessList:sx(e[8],"accessList")};return e.length===9||ix(n,e.slice(9)),n}function zee(t,e){const n=[cn(t.chainId,"chainId"),cn(t.nonce,"nonce"),cn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(t.maxFeePerGas||0,"maxFeePerGas"),cn(t.gasLimit,"gasLimit"),t.to||"0x",cn(t.value,"value"),t.data,ax(t.accessList||[])];return e&&(n.push(cn(e.yParity,"yParity")),n.push(kr(e.r)),n.push(kr(e.s))),Xn(["0x02",Wc(n)])}function Lee(t){const e=cy(Kt(t).slice(1));ke(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",it(t));const n={type:1,chainId:$n(e[0],"chainId"),nonce:th(e[1],"nonce"),gasPrice:$n(e[2],"gasPrice"),gasLimit:$n(e[3],"gasLimit"),to:_p(e[4]),value:$n(e[5],"value"),data:it(e[6]),accessList:sx(e[7],"accessList")};return e.length===8||ix(n,e.slice(8)),n}function Bee(t,e){const n=[cn(t.chainId,"chainId"),cn(t.nonce,"nonce"),cn(t.gasPrice||0,"gasPrice"),cn(t.gasLimit,"gasLimit"),t.to||"0x",cn(t.value,"value"),t.data,ax(t.accessList||[])];return e&&(n.push(cn(e.yParity,"recoveryParam")),n.push(kr(e.r)),n.push(kr(e.s))),Xn(["0x01",Wc(n)])}function Fee(t){let e=cy(Kt(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const a=e[1],i=e[2],o=e[3];ke(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),ke(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),ke(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),ke(a.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",e),ke(a.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:a[c],commitment:i[c],proof:o[c]});e=e[0]}ke(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",it(t));const s={type:3,chainId:$n(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:$n(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$n(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$n(e[4],"gasLimit"),to:_p(e[5]),value:$n(e[6],"value"),data:it(e[7]),accessList:sx(e[8],"accessList"),maxFeePerBlobGas:$n(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),ke(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),ke(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<s.blobVersionedHashes.length;a++)ke(Un(s.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||ix(s,e.slice(11)),s}function Uee(t,e,n){const r=[cn(t.chainId,"chainId"),cn(t.nonce,"nonce"),cn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(t.maxFeePerGas||0,"maxFeePerGas"),cn(t.gasLimit,"gasLimit"),t.to||Xd,cn(t.value,"value"),t.data,ax(t.accessList||[]),cn(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Oee(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(cn(e.yParity,"yParity")),r.push(kr(e.r)),r.push(kr(e.s)),n)?Xn(["0x03",Wc([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Xn(["0x03",Wc(r)])}function Dee(t){const e=cy(Kt(t).slice(1));ke(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",it(t));const n={type:4,chainId:$n(e[0],"chainId"),nonce:th(e[1],"nonce"),maxPriorityFeePerGas:$n(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$n(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$n(e[4],"gasLimit"),to:_p(e[5]),value:$n(e[6],"value"),data:it(e[7]),accessList:sx(e[8],"accessList"),authorizationList:_ee(e[9],"authorizationList")};return e.length===10||ix(n,e.slice(10)),n}function Wee(t,e){const n=[cn(t.chainId,"chainId"),cn(t.nonce,"nonce"),cn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(t.maxFeePerGas||0,"maxFeePerGas"),cn(t.gasLimit,"gasLimit"),t.to||"0x",cn(t.value,"value"),t.data,ax(t.accessList||[]),Pee(t.authorizationList||[])];return e&&(n.push(cn(e.yParity,"yParity")),n.push(kr(e.r)),n.push(kr(e.s))),Xn(["0x04",Wc(n)])}var Gi,d0,h0,f0,p0,m0,g0,y0,b0,w0,v0,x0,lf,Mu,Do,zu,N0,k0,z1;const Hee=class Wo{constructor(){Le(this,k0),Le(this,Gi),Le(this,d0),Le(this,h0),Le(this,f0),Le(this,p0),Le(this,m0),Le(this,g0),Le(this,y0),Le(this,b0),Le(this,w0),Le(this,v0),Le(this,x0),Le(this,lf),Le(this,Mu),Le(this,Do),Le(this,zu),Le(this,N0),de(this,Gi,null),de(this,d0,null),de(this,f0,0),de(this,p0,zr),de(this,m0,null),de(this,g0,null),de(this,y0,null),de(this,h0,"0x"),de(this,b0,zr),de(this,w0,zr),de(this,v0,null),de(this,x0,null),de(this,lf,null),de(this,Mu,null),de(this,Do,null),de(this,zu,null),de(this,N0,null)}get type(){return Y(this,Gi)}set type(e){switch(e){case null:de(this,Gi,null);break;case 0:case"legacy":de(this,Gi,0);break;case 1:case"berlin":case"eip-2930":de(this,Gi,1);break;case 2:case"london":case"eip-1559":de(this,Gi,2);break;case 3:case"cancun":case"eip-4844":de(this,Gi,3);break;case 4:case"pectra":case"eip-7702":de(this,Gi,4);break;default:ke(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=Y(this,d0);return e==null&&this.type===3?Xd:e}set to(e){de(this,d0,e==null?null:un(e))}get nonce(){return Y(this,f0)}set nonce(e){de(this,f0,en(e,"value"))}get gasLimit(){return Y(this,p0)}set gasLimit(e){de(this,p0,yt(e))}get gasPrice(){const e=Y(this,m0);return e==null&&(this.type===0||this.type===1)?zr:e}set gasPrice(e){de(this,m0,e==null?null:yt(e,"gasPrice"))}get maxPriorityFeePerGas(){return Y(this,g0)??(this.type===2||this.type===3?zr:null)}set maxPriorityFeePerGas(e){de(this,g0,e==null?null:yt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){return Y(this,y0)??(this.type===2||this.type===3?zr:null)}set maxFeePerGas(e){de(this,y0,e==null?null:yt(e,"maxFeePerGas"))}get data(){return Y(this,h0)}set data(e){de(this,h0,it(e))}get value(){return Y(this,b0)}set value(e){de(this,b0,yt(e,"value"))}get chainId(){return Y(this,w0)}set chainId(e){de(this,w0,yt(e))}get signature(){return Y(this,v0)||null}set signature(e){de(this,v0,e==null?null:Ua.from(e))}get accessList(){return(Y(this,x0)||null)??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){de(this,x0,e==null?null:eh(e))}get authorizationList(){const e=Y(this,N0)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){de(this,N0,e==null?null:e.map(n=>Q$(n)))}get maxFeePerBlobGas(){const e=Y(this,lf);return e==null&&this.type===3?zr:e}set maxFeePerBlobGas(e){de(this,lf,e==null?null:yt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=Y(this,Mu);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){ke(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)ke(Un(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}de(this,Mu,e)}get blobs(){return Y(this,zu)==null?null:Y(this,zu).map(e=>Object.assign({},e))}set blobs(e){if(e==null){de(this,zu,null);return}const n=[],r=[];for(let s=0;s<e.length;s++){const a=e[s];if(fC(a)){Ge(Y(this,Do),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let i=Kt(a);if(ke(i.length<=a4,"blob is too large",`blobs[${s}]`,a),i.length!==a4){const u=new Uint8Array(a4);u.set(i),i=u}const o=Y(this,Do).blobToKzgCommitment(i),c=it(Y(this,Do).computeBlobKzgProof(i,o));n.push({data:it(i),commitment:it(o),proof:c}),r.push(kT(1,o))}else{const i=it(a.commitment);n.push({data:it(a.data),commitment:i,proof:it(a.proof)}),r.push(kT(1,i))}}de(this,zu,n),de(this,Mu,r)}get kzg(){return Y(this,Do)}set kzg(e){e==null?de(this,Do,null):de(this,Do,Iee(e))}get hash(){return this.signature==null?null:Gn(Qe(this,k0,z1).call(this,!0,!1))}get unsignedHash(){return Gn(this.unsignedSerialized)}get from(){return this.signature==null?null:Cee(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:NC.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Qe(this,k0,z1).call(this,!0,!0)}get unsignedSerialized(){return Qe(this,k0,z1).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=Y(this,lf)!=null||Y(this,Mu);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ge(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ge(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ge(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return this.type!=null?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):n?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(s&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Wo.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Wo;if(typeof e=="string"){const r=Kt(e);if(r[0]>=127)return Wo.from(Ree(r));switch(r[0]){case 1:return Wo.from(Lee(r));case 2:return Wo.from(Mee(r));case 3:return Wo.from(Fee(r));case 4:return Wo.from(Dee(r))}Ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Wo;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Ua.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(ke(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),ke(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(ke(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),ke(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Gi=new WeakMap,d0=new WeakMap,h0=new WeakMap,f0=new WeakMap,p0=new WeakMap,m0=new WeakMap,g0=new WeakMap,y0=new WeakMap,b0=new WeakMap,w0=new WeakMap,v0=new WeakMap,x0=new WeakMap,lf=new WeakMap,Mu=new WeakMap,Do=new WeakMap,zu=new WeakMap,N0=new WeakMap,k0=new WeakSet,z1=function(t,e){Ge(!t||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=t?this.signature:null;switch(this.inferType()){case 0:return $ee(this,n);case 1:return Bee(this,n);case 2:return zee(this,n);case 3:return Uee(this,n,e?this.blobs:null);case 4:return Wee(this,n)}Ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let J$=Hee;function Ld(t){return Gn(ao(t))}var Gee="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const CT=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),ET=4;function qee(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,a=[0,1];for(let k=1;k<r;k++)a.push(s+=n());let i=n(),o=e;e+=i;let c=0,u=0;function h(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const f=31,m=2**f,g=m>>>1,b=g>>1,y=m-1;let w=0;for(let k=0;k<f;k++)w=w<<1|h();let x=[],N=0,E=m;for(;;){let k=Math.floor(((w-N+1)*s-1)/E),A=0,_=r;for(;_-A>1;){let $=A+_>>>1;k<a[$]?_=$:A=$}if(A==0)break;x.push(A);let P=N+Math.floor(E*a[A]/s),I=N+Math.floor(E*a[A+1]/s)-1;for(;((P^I)&g)==0;)w=w<<1&y|h(),P=P<<1&y,I=I<<1&y|1;for(;P&~I&b;)w=w&g|w<<1&y>>>1|h(),P=P<<1^g,I=(I^g)<<1|g|1;N=P,E=1+I-P}let C=r-4;return x.map(k=>{switch(k-C){case 3:return C+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return C+256+(t[o++]<<8|t[o++]);case 1:return C+t[o++];default:return k-1}})}function Vee(t){let e=0;return()=>t[e++]}function Y$(t){return Vee(qee(Zee(t)))}function Zee(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,a)=>e[s.charCodeAt(0)]=a);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,a=0,i=0,o=0;s<n;s++)o=o<<6|e[t.charCodeAt(s)],i+=6,i>=8&&(r[a++]=o>>(i-=8));return r}function Kee(t){return t&1?~t>>1:t>>1}function Qee(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=Kee(e());return n}function vg(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let a=0;a<s;a++)n.push(e+a);e+=s+1}return n}function X$(t){return xg(()=>{let e=vg(t);if(e.length)return e})}function eM(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(Jee(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(Yee(n,t))}return e.flat()}function xg(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function tM(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)Qee(t,n).forEach((a,i)=>r[i].push(a));return r}function Jee(t,e){let n=1+e(),r=e(),s=xg(e);return tM(s.length,1+t,e).flatMap((a,i)=>{let[o,...c]=a;return Array(s[i]).fill().map((u,h)=>{let f=h*r;return[o+h*n,c.map(m=>m+f)]})})}function Yee(t,e){let n=1+e();return tM(n,1+t,e).map(r=>[r[0],r.slice(1)])}function Xee(t){let e=[],n=vg(t);return s(r([]),[]),e;function r(a){let i=t(),o=xg(()=>{let c=vg(t).map(u=>n[u]);if(c.length)return r(c)});return{S:i,B:o,Q:a}}function s({S:a,B:i},o,c){if(!(a&4&&c===o[o.length-1])){a&2&&(c=o[o.length-1]),a&1&&e.push(o);for(let u of i)for(let h of u.Q)s(u,[...o,h],c)}}}function ete(t){return t.toString(16).toUpperCase().padStart(2,"0")}function nM(t){return`{${ete(t)}}`}function tte(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function sp(t){let e=t.length;if(e<4096)return String.fromCodePoint(...t);let n=[];for(let r=0;r<e;)n.push(String.fromCodePoint(...t.slice(r,r+=4096)));return n.join("")}function nte(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var rte="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Ng=44032,Mw=4352,zw=4449,Lw=4519,rM=19,sM=21,ap=28,Bw=sM*ap,ste=rM*Bw,ate=Ng+ste,ite=Mw+rM,ote=zw+sM,lte=Lw+ap;function C0(t){return t>>24&255}function aM(t){return t&16777215}let b5,ST,w5,L1;function cte(){let t=Y$(rte);b5=new Map(X$(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),ST=new Set(vg(t)),w5=new Map,L1=new Map;for(let[e,n]of eM(t)){if(!ST.has(e)&&n.length==2){let[r,s]=n,a=L1.get(r);a||(a=new Map,L1.set(r,a)),a.set(s,e)}w5.set(e,n.reverse())}}function iM(t){return t>=Ng&&t<ate}function ute(t,e){if(t>=Mw&&t<ite&&e>=zw&&e<ote)return Ng+(t-Mw)*Bw+(e-zw)*ap;if(iM(t)&&e>Lw&&e<lte&&(t-Ng)%ap==0)return t+(e-Lw);{let n=L1.get(t);return n&&(n=n.get(e),n)?n:-1}}function oM(t){b5||cte();let e=[],n=[],r=!1;function s(a){let i=b5.get(a);i&&(r=!0,a|=i),e.push(a)}for(let a of t)for(;;){if(a<128)e.push(a);else if(iM(a)){let i=a-Ng,o=i/Bw|0,c=i%Bw/ap|0,u=i%ap;s(Mw+o),s(zw+c),u>0&&s(Lw+u)}else{let i=w5.get(a);i?n.push(...i):s(a)}if(!n.length)break;a=n.pop()}if(r&&e.length>1){let a=C0(e[0]);for(let i=1;i<e.length;i++){let o=C0(e[i]);if(o==0||a<=o){a=o;continue}let c=i-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(a=C0(e[--c]),a<=o))break}a=C0(e[i])}}return e}function dte(t){let e=[],n=[],r=-1,s=0;for(let a of t){let i=C0(a),o=aM(a);if(r==-1)i==0?r=o:e.push(o);else if(s>0&&s>=i)i==0?(e.push(r,...n),n.length=0,r=o):n.push(o),s=i;else{let c=ute(r,o);c>=0?r=c:s==0&&i==0?(e.push(r),r=o):(n.push(o),s=i)}}return r>=0&&e.push(r,...n),e}function lM(t){return oM(t).map(aM)}function hte(t){return dte(oM(t))}const AT=45,cM=".",uM=65039,dM=1,Fw=t=>Array.from(t);function kg(t,e){return t.P.has(e)||t.Q.has(e)}let fte=class extends Array{get is_emoji(){return!0}},v5,hM,fd,x5,fM,zf,i4,cf,Lu,jT,N5;function CC(){if(v5)return;let t=Y$(Gee);const e=()=>vg(t),n=()=>new Set(e()),r=(h,f)=>f.forEach(m=>h.add(m));v5=new Map(eM(t)),hM=n(),fd=e(),x5=new Set(e().map(h=>fd[h])),fd=new Set(fd),fM=n(),n();let s=X$(t),a=t();const i=()=>{let h=new Set;return e().forEach(f=>r(h,s[f])),r(h,e()),h};zf=xg(h=>{let f=xg(t).map(m=>m+96);if(f.length){let m=h>=a;f[0]-=32,f=sp(f),m&&(f=`Restricted[${f}]`);let g=i(),b=i(),y=!t();return{N:f,P:g,Q:b,M:y,R:m}}}),i4=n(),cf=new Map;let o=e().concat(Fw(i4)).sort((h,f)=>h-f);o.forEach((h,f)=>{let m=t(),g=o[f]=m?o[f-m]:{V:[],M:new Map};g.V.push(h),i4.has(h)||cf.set(h,g)});for(let{V:h,M:f}of new Set(cf.values())){let m=[];for(let b of h){let y=zf.filter(x=>kg(x,b)),w=m.find(({G:x})=>y.some(N=>x.has(N)));w||(w={G:new Set,V:[]},m.push(w)),w.V.push(b),r(w.G,y)}let g=m.flatMap(b=>Fw(b.G));for(let{G:b,V:y}of m){let w=new Set(g.filter(x=>!b.has(x)));for(let x of y)f.set(x,w)}}Lu=new Set;let c=new Set;const u=h=>Lu.has(h)?c.add(h):Lu.add(h);for(let h of zf){for(let f of h.P)u(f);for(let f of h.Q)u(f)}for(let h of Lu)!cf.has(h)&&!c.has(h)&&cf.set(h,dM);r(Lu,lM(Lu)),jT=Xee(t).map(h=>fte.from(h)).sort(nte),N5=new Map;for(let h of jT){let f=[N5];for(let m of h){let g=f.map(b=>{let y=b.get(m);return y||(y=new Map,b.set(m,y)),y});m===uM?f.push(...g):f=g}for(let m of f)m.V=h}}function EC(t){return(pM(t)?"":`${SC(ox([t]))} `)+nM(t)}function SC(t){return`"${t}"‎`}function pte(t){if(t.length>=4&&t[2]==AT&&t[3]==AT)throw new Error(`invalid label extension: "${sp(t.slice(0,4))}"`)}function mte(t){for(let e=t.lastIndexOf(95);e>0;)if(t[--e]!==95)throw new Error("underscore allowed only at start")}function gte(t){let e=t[0],n=CT.get(e);if(n)throw Y0(`leading ${n}`);let r=t.length,s=-1;for(let a=1;a<r;a++){e=t[a];let i=CT.get(e);if(i){if(s==a)throw Y0(`${n} + ${i}`);s=a+1,n=i}}if(s==r)throw Y0(`trailing ${n}`)}function ox(t,e=1/0,n=nM){let r=[];yte(t[0])&&r.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,a=t.length;for(let i=0;i<a;i++){let o=t[i];pM(o)&&(r.push(sp(t.slice(s,i))),r.push(n(o)),s=i+1)}return r.push(sp(t.slice(s,a))),r.join("")}function yte(t){return CC(),fd.has(t)}function pM(t){return CC(),fM.has(t)}function bte(t){return Nte(wte(t,hte,Ete))}function wte(t,e,n){if(!t)return[];CC();let r=0;return t.split(cM).map(s=>{let a=tte(s),i={input:a,offset:r};r+=a.length+1;try{let o=i.tokens=Cte(a,e,n),c=o.length,u;if(!c)throw new Error("empty label");let h=i.output=o.flat();if(mte(h),!(i.emoji=c>1||o[0].is_emoji)&&h.every(f=>f<128))pte(h),u="ASCII";else{let f=o.flatMap(m=>m.is_emoji?[]:m);if(!f.length)u="Emoji";else{if(fd.has(h[0]))throw Y0("leading combining mark");for(let b=1;b<c;b++){let y=o[b];if(!y.is_emoji&&fd.has(y[0]))throw Y0(`emoji + combining mark: "${sp(o[b-1])} + ${ox([y[0]])}"`)}gte(h);let m=Fw(new Set(f)),[g]=xte(m);kte(g,f),vte(g,m),u=g.N}}i.type=u}catch(o){i.error=o}return i})}function vte(t,e){let n,r=[];for(let s of e){let a=cf.get(s);if(a===dM)return;if(a){let i=a.M.get(s);if(n=n?n.filter(o=>i.has(o)):Fw(i),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(a=>kg(s,a)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function xte(t){let e=zf;for(let n of t){let r=e.filter(s=>kg(s,n));if(!r.length)throw zf.some(s=>kg(s,n))?gM(e[0],n):mM(n);if(e=r,r.length==1)break}return e}function Nte(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${SC(ox(e,63))}: ${s}`)}return sp(r)}).join(cM)}function mM(t){return new Error(`disallowed character: ${EC(t)}`)}function gM(t,e){let n=EC(e),r=zf.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Y0(t){return new Error(`illegal placement: ${t}`)}function kte(t,e){for(let n of e)if(!kg(t,n))throw gM(t,n);if(t.M){let n=lM(e);for(let r=1,s=n.length;r<s;r++)if(x5.has(n[r])){let a=r+1;for(let i;a<s&&x5.has(i=n[a]);a++)for(let o=r;o<a;o++)if(n[o]==i)throw new Error(`duplicate non-spacing marks: ${EC(i)}`);if(a-r>ET)throw new Error(`excessive non-spacing marks: ${SC(ox(n.slice(r-1,a)))} (${a-r}/${ET})`);r=a}}}function Cte(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let a=Ste(t);if(a)s.length&&(r.push(e(s)),s=[]),r.push(n(a));else{let i=t.pop();if(Lu.has(i))s.push(i);else{let o=v5.get(i);if(o)s.push(...o);else if(!hM.has(i))throw mM(i)}}}return s.length&&r.push(e(s)),r}function Ete(t){return t.filter(e=>e!=uM)}function Ste(t,e){let n=N5,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:a}=n;a&&(r=a,t.length=s)}return r}const yM=new Uint8Array(32);yM.fill(0);function TT(t){return ke(t.length!==0,"invalid ENS name; empty component","comp",t),t}function bM(t){const e=ao(Ate(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(TT(e.slice(r,s))),r=s+1);return ke(r<e.length,"invalid ENS name; empty component","name",t),n.push(TT(e.slice(r))),n}function Ate(t){try{if(t.length===0)throw new Error("empty label");return bte(t)}catch(e){ke(!1,`invalid ENS name (${e.message})`,"name",t)}}function k5(t){ke(typeof t=="string","invalid ENS name; not a string","name",t),ke(t.length,"invalid ENS name (empty label)","name",t);let e=yM;const n=bM(t);for(;n.length;)e=Gn(Xn([e,Gn(n.pop())]));return it(e)}function jte(t,e){const n=e;return ke(n<=255,"DNS encoded label cannot exceed 255","length",n),it(Xn(bM(t).map(r=>{ke(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const Tte=new RegExp("^bytes([0-9]+)$"),Ite=new RegExp("^(u?int)([0-9]*)$"),_te=new RegExp("^(.*)\\[([0-9]*)\\]$");function wM(t,e,n){switch(t){case"address":return Kt(n?Fa(e,32):un(e));case"string":return ao(e);case"bytes":return Kt(e);case"bool":return e=e?"0x01":"0x00",Kt(n?Fa(e,32):e)}let r=t.match(Ite);if(r){let s=r[1]==="int",a=parseInt(r[2]||"256");return ke((!r[2]||r[2]===String(a))&&a%8===0&&a!==0&&a<=256,"invalid number type","type",t),n&&(a=256),s&&(e=pC(e,a)),Kt(Fa(kr(e),a/8))}if(r=t.match(Tte),r){const s=parseInt(r[1]);return ke(String(s)===r[1]&&s!==0&&s<=32,"invalid bytes type","type",t),ke(kd(e)===s,`invalid value for ${t}`,"value",e),n?Kt(e$(e,32)):e}if(r=t.match(_te),r&&Array.isArray(e)){const s=r[1],a=parseInt(r[2]||String(e.length));ke(a===e.length,`invalid array length for ${t}`,"value",e);const i=[];return e.forEach(function(o){i.push(wM(s,o,!0))}),Kt(Xn(i))}ke(!1,"invalid type","type",t)}function C5(t,e){ke(t.length===e.length,"wrong number of values; expected ${ types.length }","values",e);const n=[];return t.forEach(function(r,s){n.push(wM(r,e[s]))}),it(Xn(n))}const vM=new Uint8Array(32);vM.fill(0);const Pte=BigInt(-1),xM=BigInt(0),NM=BigInt(1),Ote=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Rte(t){const e=Kt(t),n=e.length%32;return n?Xn([e,vM.slice(n)]):it(e)}const $te=Dc(NM,32),Mte=Dc(xM,32),IT={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},o4=["name","version","chainId","verifyingContract","salt"];function _T(t){return function(e){return ke(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const zte={name:_T("name"),version:_T("version"),chainId:function(t){const e=yt(t,"domain.chainId");return ke(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):ui(e)},verifyingContract:function(t){try{return un(t).toLowerCase()}catch{}ke(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Kt(t,"domain.salt");return ke(e.length===32,'invalid domain value "salt"',"domain.salt",t),it(e)}};function E5(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);ke(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=ud(Ote,n?r-1:r),a=n?(s+NM)*Pte:xM;return function(i){const o=yt(i,"value");return ke(o>=a&&o<=s,`value out-of-bounds for ${t}`,"value",o),Dc(n?pC(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return ke(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=Kt(r);return ke(s.length===n,`invalid length for ${t}`,"value",r),Rte(r)}}}switch(t){case"address":return function(e){return Fa(un(e),32)};case"bool":return function(e){return e?$te:Mte};case"bytes":return function(e){return Gn(e)};case"string":return function(e){return Ld(e)}}return null}function PT(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function B1(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var F1,Ic,E0,S5,kM;const Lte=class ti{constructor(e){Le(this,S5),Pe(this,"primaryType"),Le(this,F1),Le(this,Ic),Le(this,E0),de(this,Ic,new Map),de(this,E0,new Map);const n=new Map,r=new Map,s=new Map,a={};Object.keys(e).forEach(c=>{a[c]=e[c].map(({name:u,type:h})=>{let{base:f,index:m}=B1(h);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(m||"")}}),n.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),de(this,F1,JSON.stringify(a));for(const c in a){const u=new Set;for(const h of a[c]){ke(!u.has(h.name),`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(c)}`,"types",e),u.add(h.name);const f=B1(h.type).base;ke(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!E5(f)&&(ke(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(c),n.get(c).add(f))}}const i=Array.from(r.keys()).filter(c=>r.get(c).length===0);ke(i.length!==0,"missing primary type","types",e),ke(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ut(this,{primaryType:i[0]});function o(c,u){ke(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const h of n.get(c))if(r.has(h)){o(h,u);for(const f of u)s.get(f).add(h)}u.delete(c)}o(this.primaryType,new Set);for(const[c,u]of s){const h=Array.from(u);h.sort(),Y(this,Ic).set(c,PT(c,a[c])+h.map(f=>PT(f,a[f])).join(""))}}get types(){return JSON.parse(Y(this,F1))}getEncoder(e){let n=Y(this,E0).get(e);return n||(n=Qe(this,S5,kM).call(this,e),Y(this,E0).set(e,n)),n}encodeType(e){const n=Y(this,Ic).get(e);return ke(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Gn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(E5(e))return r(e,n);const s=B1(e).array;if(s)return ke(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(i=>this._visit(s.prefix,i,r));const a=this.types[e];if(a)return a.reduce((i,{name:o,type:c})=>(i[o]=this._visit(c,n[o],r),i),{});ke(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new ti(e)}static getPrimaryType(e){return ti.from(e).primaryType}static hashStruct(e,n,r){return ti.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=IT[r];ke(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>o4.indexOf(r.name)-o4.indexOf(s.name)),ti.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Xn(["0x1901",ti.hashDomain(e),ti.from(n).hash(r)])}static hash(e,n,r){return Gn(ti.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const a={};e.verifyingContract&&!Un(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const i=ti.from(n);i.visit(r,(o,c)=>(o==="address"&&!Un(c,20)&&(a[c]="0x"),c));for(const o in a)a[o]=await s(o);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=i.visit(r,(o,c)=>o==="address"&&a[c]?a[c]:c),{domain:e,value:r}}static getPayload(e,n,r){ti.hashDomain(e);const s={},a=[];o4.forEach(c=>{const u=e[c];u!=null&&(s[c]=zte[c](u),a.push({name:c,type:IT[c]}))});const i=ti.from(n);n=i.types;const o=Object.assign({},n);return ke(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=a,i.encode(r),{types:o,domain:s,primaryType:i.primaryType,message:i.visit(r,(c,u)=>{if(c.match(/^bytes(\d*)/))return it(Kt(u));if(c.match(/^u?int/))return yt(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return ke(typeof u=="string","invalid string","value",u),u}ke(!1,"unsupported type","type",c)})}}};F1=new WeakMap,Ic=new WeakMap,E0=new WeakMap,S5=new WeakSet,kM=function(t){{const r=E5(t);if(r)return r}const e=B1(t).array;if(e){const r=e.prefix,s=this.getEncoder(r);return a=>{ke(e.count===-1||e.count===a.length,`array length mismatch; expected length ${e.count}`,"value",a);let i=a.map(s);return Y(this,Ic).has(r)&&(i=i.map(Gn)),Gn(Xn(i))}}const n=this.types[t];if(n){const r=Ld(Y(this,Ic).get(t));return s=>{const a=n.map(({name:i,type:o})=>{const c=this.getEncoder(o)(s[i]);return Y(this,Ic).has(o)?Gn(c):c});return a.unshift(r),Xn(a)}}ke(!1,`unknown type: ${t}`,"type",t)};let OT=Lte;function Ns(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const Bte="external public payable override",Fte=Ns(Bte.split(" ")),CM="constant external internal payable private public pure view override",Ute=Ns(CM.split(" ")),EM="constructor error event fallback function receive struct",SM=Ns(EM.split(" ")),AM="calldata memory storage payable indexed",Dte=Ns(AM.split(" ")),Wte="tuple returns",Hte=[EM,AM,Wte,CM].join(" "),Gte=Ns(Hte.split(" ")),qte={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Vte=new RegExp("^(\\s*)"),Zte=new RegExp("^([0-9]+)"),Kte=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),jM=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),TM=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var as,Vi,U1,A5;const IM=class _M{constructor(e){Le(this,U1),Le(this,as),Le(this,Vi),de(this,as,0),de(this,Vi,e.slice())}get offset(){return Y(this,as)}get length(){return Y(this,Vi).length-Y(this,as)}clone(){return new _M(Y(this,Vi))}reset(){de(this,as,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=Qe(this,U1,A5).call(this,Y(this,as)+1,e.match+1);return de(this,as,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;Y(this,as)<e.match-1;){const r=this.peek().linkNext;n.push(Qe(this,U1,A5).call(this,Y(this,as)+1,r)),de(this,as,r)}return de(this,as,e.match+1),n}peek(){if(Y(this,as)>=Y(this,Vi).length)throw new Error("out-of-bounds");return Y(this,Vi)[Y(this,as)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Iw(this,as)._++,e}toString(){const e=[];for(let n=Y(this,as);n<Y(this,Vi).length;n++){const r=Y(this,Vi)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};as=new WeakMap,Vi=new WeakMap,U1=new WeakSet,A5=function(t=0,e=0){return new IM(Y(this,Vi).slice(t,e).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))};let kl=IM;function Yc(t){const e=[],n=i=>{const o=a<t.length?JSON.stringify(t[a]):"$EOI";throw new Error(`invalid token ${o} at ${a}: ${i}`)};let r=[],s=[],a=0;for(;a<t.length;){let i=t.substring(a),o=i.match(Vte);o&&(a+=o[1].length,i=t.substring(a));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};e.push(c);let u=qte[i[0]]||"";if(u){if(c.type=u,c.text=i[0],a++,u==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let h=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;h=f+h,e[e.length-1].value=en(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=h}continue}if(o=i.match(Kte),o){if(c.text=o[1],a+=c.text.length,Gte.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(TM)){c.type="TYPE";continue}c.type="ID";continue}if(o=i.match(Zte),o){c.text=o[1],c.type="NUMBER",a+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${a}`)}return new kl(e.map(i=>Object.freeze(i)))}function RT(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function lx(t,e){if(e.peekKeyword(SM)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function pl(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function PM(t){let e=pl(t,Ute);return RT(e,Ns("constant payable nonpayable".split(" "))),RT(e,Ns("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function cl(t,e){return t.popParams().map(n=>Es.from(n,e))}function OM(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return yt(t.pop().text);throw new Error("invalid gas")}return null}function Bd(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Qte=new RegExp(/^(.*)\[([0-9]*)\]$/);function $T(t){const e=t.match(TM);if(ke(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);ke(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);ke(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const ar={},Vs=Symbol.for("_ethers_internal"),MT="_ParamTypeInternal",zT="_ErrorInternal",LT="_EventInternal",BT="_ConstructorInternal",FT="_FallbackInternal",UT="_FunctionInternal",DT="_StructInternal";var X0,D1;const Jte=class ni{constructor(e,n,r,s,a,i,o,c){if(Le(this,X0),Pe(this,"name"),Pe(this,"type"),Pe(this,"baseType"),Pe(this,"indexed"),Pe(this,"components"),Pe(this,"arrayLength"),Pe(this,"arrayChildren"),ly(e,ar,"ParamType"),Object.defineProperty(this,Vs,{value:MT}),i&&(i=Object.freeze(i.slice())),s==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(s==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");Ut(this,{name:n,type:r,baseType:s,indexed:a,components:i,arrayLength:o,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const a=JSON.parse(this.arrayChildren.format("json"));return a.name=r,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,a)=>r.components[a].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return Qe(this,X0,D1).call(this,r,e,n,a=>{s[0]=a}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(ni.isParamType(e))return e;if(typeof e=="string")try{return ni.from(Yc(e),n)}catch{ke(!1,"invalid param type","obj",e)}else if(e instanceof kl){let o="",c="",u=null;pl(e,Ns(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(b=>ni.from(b)),o=`tuple(${u.map(b=>b.format()).join(",")})`):(o=$T(e.popType("TYPE")),c=o);let h=null,f=null;for(;e.length&&e.peekType("BRACKET");){const b=e.pop();h=new ni(ar,"",o,c,null,u,f,h),f=b.value,o+=b.text,c="array",u=null}let m=null;if(pl(e,Dte).has("indexed")){if(!n)throw new Error("");m=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new ni(ar,g,o,c,m,u,f,h)}const r=e.name;ke(!r||typeof r=="string"&&r.match(jM),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(ke(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let a=e.type,i=a.match(Qte);if(i){const o=parseInt(i[2]||"-1"),c=ni.from({type:i[1],components:e.components});return new ni(ar,r||"",a,"array",s,null,o,c)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){const o=e.components!=null?e.components.map(c=>ni.from(c)):null;return new ni(ar,r||"",a,"tuple",s,o,null,null)}return a=$T(e.type),new ni(ar,r||"",a,a,s,null,null,null)}static isParamType(e){return e&&e[Vs]===MT}};X0=new WeakSet,D1=function(t,e,n,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,i=e.slice();i.forEach((o,c)=>{var u;Qe(u=a,X0,D1).call(u,t,o,n,h=>{i[c]=h})}),r(i);return}if(this.isTuple()){const a=this.components;let i;if(Array.isArray(e))i=e.slice();else{if(e==null||typeof e!="object")throw new Error("invalid tuple value");i=a.map(o=>{if(!o.name)throw new Error("cannot use object value with unnamed components");if(!(o.name in e))throw new Error(`missing value for component ${o.name}`);return e[o.name]})}if(i.length!==this.components.length)throw new Error("array is wrong length");i.forEach((o,c)=>{var u;Qe(u=a[c],X0,D1).call(u,t,o,n,h=>{i[c]=h})}),r(i);return}const s=n(this.type,e);s.then?t.push(async function(){r(await s)}()):r(s)};let Es=Jte,cx=class j5{constructor(e,n,r){Pe(this,"type"),Pe(this,"inputs"),ly(e,ar,"Fragment"),r=Object.freeze(r.slice()),Ut(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{j5.from(JSON.parse(e))}catch{}return j5.from(Yc(e))}if(e instanceof kl)switch(e.peekKeyword(SM)){case"constructor":return rl.from(e);case"error":return Zo.from(e);case"event":return Xi.from(e);case"fallback":case"receive":return WT.from(e);case"function":return W1.from(e);case"struct":return l4.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return rl.from(e);case"error":return Zo.from(e);case"event":return Xi.from(e);case"fallback":case"receive":return WT.from(e);case"function":return W1.from(e);case"struct":return l4.from(e)}Ge(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ke(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return rl.isFragment(e)}static isError(e){return Zo.isFragment(e)}static isEvent(e){return Xi.isFragment(e)}static isFunction(e){return W1.isFragment(e)}static isStruct(e){return l4.isFragment(e)}},ux=class extends cx{constructor(e,n,r,s){super(e,n,s),Pe(this,"name"),ke(typeof r=="string"&&r.match(jM),"invalid identifier","name",r),s=Object.freeze(s.slice()),Ut(this,{name:r})}};function Cg(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}let Zo=class S0 extends ux{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Vs,{value:zT})}get selector(){return Ld(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Cg(e,this.inputs)),n.join(" ")}static from(e){if(S0.isFragment(e))return e;if(typeof e=="string")return S0.from(Yc(e));if(e instanceof kl){const n=lx("error",e),r=cl(e);return Bd(e),new S0(ar,n,r)}return new S0(ar,e.name,e.inputs?e.inputs.map(Es.from):[])}static isFragment(e){return e&&e[Vs]===zT}};class Xi extends ux{constructor(e,n,r,s){super(e,"event",n,r),Pe(this,"anonymous"),Object.defineProperty(this,Vs,{value:LT}),Ut(this,{anonymous:s})}get topicHash(){return Ld(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("event"),n.push(this.name+Cg(e,this.inputs)),e!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(e,n){return n=(n||[]).map(r=>Es.from(r)),new Xi(ar,e,n,!1).topicHash}static from(e){if(Xi.isFragment(e))return e;if(typeof e=="string")try{return Xi.from(Yc(e))}catch{ke(!1,"invalid event fragment","obj",e)}else if(e instanceof kl){const n=lx("event",e),r=cl(e,!0),s=!!pl(e,Ns(["anonymous"])).has("anonymous");return Bd(e),new Xi(ar,n,r,s)}return new Xi(ar,e.name,e.inputs?e.inputs.map(n=>Es.from(n,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Vs]===LT}}class rl extends cx{constructor(e,n,r,s,a){super(e,n,r),Pe(this,"payable"),Pe(this,"gas"),Object.defineProperty(this,Vs,{value:BT}),Ut(this,{payable:s,gas:a})}format(e){if(Ge(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[`constructor${Cg(e,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(e){if(rl.isFragment(e))return e;if(typeof e=="string")try{return rl.from(Yc(e))}catch{ke(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof kl){pl(e,Ns(["constructor"]));const n=cl(e),r=!!pl(e,Fte).has("payable"),s=OM(e);return Bd(e),new rl(ar,"constructor",n,r,s)}return new rl(ar,"constructor",e.inputs?e.inputs.map(Es.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Vs]===BT}}let WT=class Bu extends cx{constructor(e,n,r){super(e,"fallback",n),Pe(this,"payable"),Object.defineProperty(this,Vs,{value:FT}),Ut(this,{payable:r})}format(e){const n=this.inputs.length===0?"receive":"fallback";if(e==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(e){if(Bu.isFragment(e))return e;if(typeof e=="string")try{return Bu.from(Yc(e))}catch{ke(!1,"invalid fallback fragment","obj",e)}else if(e instanceof kl){const n=e.toString(),r=e.peekKeyword(Ns(["fallback","receive"]));if(ke(r,"type must be fallback or receive","obj",n),e.popKeyword(Ns(["fallback","receive"]))==="receive"){const i=cl(e);return ke(i.length===0,"receive cannot have arguments","obj.inputs",i),pl(e,Ns(["payable"])),Bd(e),new Bu(ar,[],!0)}let s=cl(e);s.length?ke(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(i=>i.format("minimal")).join(", ")):s=[Es.from("bytes")];const a=PM(e);if(ke(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),pl(e,Ns(["returns"])).has("returns")){const i=cl(e);ke(i.length===1&&i[0].type==="bytes","invalid fallback outputs","obj.outputs",i.map(o=>o.format("minimal")).join(", "))}return Bd(e),new Bu(ar,s,a==="payable")}if(e.type==="receive")return new Bu(ar,[],!0);if(e.type==="fallback"){const n=[Es.from("bytes")],r=e.stateMutability==="payable";return new Bu(ar,n,r)}ke(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Vs]===FT}},W1=class uf extends ux{constructor(e,n,r,s,a,i){super(e,"function",n,s),Pe(this,"constant"),Pe(this,"outputs"),Pe(this,"stateMutability"),Pe(this,"payable"),Pe(this,"gas"),Object.defineProperty(this,Vs,{value:UT}),a=Object.freeze(a.slice()),Ut(this,{constant:r==="view"||r==="pure",gas:i,outputs:a,payable:r==="payable",stateMutability:r})}get selector(){return Ld(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("function"),n.push(this.name+Cg(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Cg(e,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(e,n){return n=(n||[]).map(r=>Es.from(r)),new uf(ar,e,"view",n,[],null).selector}static from(e){if(uf.isFragment(e))return e;if(typeof e=="string")try{return uf.from(Yc(e))}catch{ke(!1,"invalid function fragment","obj",e)}else if(e instanceof kl){const r=lx("function",e),s=cl(e),a=PM(e);let i=[];pl(e,Ns(["returns"])).has("returns")&&(i=cl(e));const o=OM(e);return Bd(e),new uf(ar,r,a,s,i,o)}let n=e.stateMutability;return n==null&&(n="payable",typeof e.constant=="boolean"?(n="view",e.constant||(n="payable",typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(n="nonpayable")),new uf(ar,e.name,n,e.inputs?e.inputs.map(Es.from):[],e.outputs?e.outputs.map(Es.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Vs]===UT}},l4=class H1 extends ux{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Vs,{value:DT})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return H1.from(Yc(e))}catch{ke(!1,"invalid struct fragment","obj",e)}else if(e instanceof kl){const n=lx("struct",e),r=cl(e);return Bd(e),new H1(ar,n,r)}return new H1(ar,e.name,e.inputs?e.inputs.map(Es.from):[])}static isFragment(e){return e&&e[Vs]===DT}};const Ti=new Map;Ti.set(0,"GENERIC_PANIC");Ti.set(1,"ASSERT_FALSE");Ti.set(17,"OVERFLOW");Ti.set(18,"DIVIDE_BY_ZERO");Ti.set(33,"ENUM_RANGE_ERROR");Ti.set(34,"BAD_STORAGE_DATA");Ti.set(49,"STACK_UNDERFLOW");Ti.set(50,"ARRAY_RANGE_ERROR");Ti.set(65,"OUT_OF_MEMORY");Ti.set(81,"UNINITIALIZED_FUNCTION_CALL");const Yte=new RegExp(/^bytes([0-9]*)$/),Xte=new RegExp(/^(u?int)([0-9]*)$/);let c4=null,HT=1024;function ene(t,e,n,r){let s="missing revert data",a=null;const i=null;let o=null;if(n){s="execution reverted";const u=Kt(n);if(n=it(n),u.length===0)s+=" (no data present; likely require(false) occurred",a="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(it(u.slice(0,4))==="0x08c379a0")try{a=r.decode(["string"],u.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},s+=`: ${JSON.stringify(a)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(it(u.slice(0,4))==="0x4e487b71")try{const h=Number(r.decode(["uint256"],u.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[h]},a=`Panic due to ${Ti.get(h)||"UNKNOWN"}(${h})`,s+=`: ${a}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?un(e.to):null,data:e.data||"0x"};return e.from&&(c.from=un(e.from)),Jn(s,"CALL_EXCEPTION",{action:t,data:n,reason:a,transaction:c,invocation:i,revert:o})}var pd,Lf;const tne=class T5{constructor(){Le(this,pd)}getDefaultValue(e){const n=e.map(r=>Qe(this,pd,Lf).call(this,Es.from(r)));return new M1(n,"_").defaultValue()}encode(e,n){JR(n.length,e.length,"types/values length mismatch");const r=e.map(i=>Qe(this,pd,Lf).call(this,Es.from(i))),s=new M1(r,"_"),a=new d5;return s.encode(a,n),a.data}decode(e,n,r){const s=e.map(a=>Qe(this,pd,Lf).call(this,Es.from(a)));return new M1(s,"_").decode(new _Y(n,r,HT))}static _setDefaultMaxInflation(e){ke(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),HT=e}static defaultAbiCoder(){return c4==null&&(c4=new T5),c4}static getBuiltinCallException(e,n,r){return ene(e,n,r,T5.defaultAbiCoder())}};pd=new WeakSet,Lf=function(t){if(t.isArray())return new hee(Qe(this,pd,Lf).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new M1(t.components.map(n=>Qe(this,pd,Lf).call(this,n)),t.name);switch(t.baseType){case"address":return new uee(t.name);case"bool":return new fee(t.name);case"string":return new Nee(t.name);case"bytes":return new pee(t.name);case"":return new yee(t.name)}let e=t.type.match(Xte);if(e){let n=parseInt(e[2]||"256");return ke(n!==0&&n<=256&&n%8===0,"invalid "+e[1]+" bit length","param",t),new xee(n/8,e[1]==="int",t.name)}if(e=t.type.match(Yte),e){let n=parseInt(e[1]);return ke(n!==0&&n<=32,"invalid bytes length","param",t),new mee(n,t.name)}ke(!1,"invalid type","type",t.type)};let I5=tne,nne=class{constructor(e,n,r){Pe(this,"fragment"),Pe(this,"name"),Pe(this,"signature"),Pe(this,"topic"),Pe(this,"args");const s=e.name,a=e.format();Ut(this,{fragment:e,name:s,signature:a,topic:n,args:r})}},rne=class{constructor(e,n,r,s){Pe(this,"fragment"),Pe(this,"name"),Pe(this,"args"),Pe(this,"signature"),Pe(this,"selector"),Pe(this,"value");const a=e.name,i=e.format();Ut(this,{fragment:e,name:a,args:r,signature:i,selector:n,value:s})}},sne=class{constructor(e,n,r){Pe(this,"fragment"),Pe(this,"name"),Pe(this,"args"),Pe(this,"signature"),Pe(this,"selector");const s=e.name,a=e.format();Ut(this,{fragment:e,name:s,args:r,signature:a,selector:n})}},GT=class{constructor(e){Pe(this,"hash"),Pe(this,"_isIndexed"),Ut(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}};const qT={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},VT={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&qT[t.toString()]&&(e=qT[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ho,Xo,el,hs,gc,G1,q1;const ane=class df{constructor(e){Le(this,gc),Pe(this,"fragments"),Pe(this,"deploy"),Pe(this,"fallback"),Pe(this,"receive"),Le(this,Ho),Le(this,Xo),Le(this,el),Le(this,hs);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,de(this,el,new Map),de(this,Ho,new Map),de(this,Xo,new Map);const r=[];for(const i of n)try{r.push(cx.from(i))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,o.message)}Ut(this,{fragments:Object.freeze(r)});let s=null,a=!1;de(this,hs,this.getAbiCoder()),this.fragments.forEach((i,o)=>{let c;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ut(this,{deploy:i});return;case"fallback":i.inputs.length===0?a=!0:(ke(!s||i.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,i),s=i,a=s.payable);return;case"function":c=Y(this,el);break;case"event":c=Y(this,Xo);break;case"error":c=Y(this,Ho);break;default:return}const u=i.format();c.has(u)||c.set(u,i)}),this.deploy||Ut(this,{deploy:rl.from("constructor()")}),Ut(this,{fallback:s,receive:a})}format(e){const n=e?"minimal":"full";return this.fragments.map(r=>r.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return I5.defaultAbiCoder()}getFunctionName(e){const n=Qe(this,gc,G1).call(this,e,null,!1);return ke(n,"no matching function","key",e),n.name}hasFunction(e){return!!Qe(this,gc,G1).call(this,e,null,!1)}getFunction(e,n){return Qe(this,gc,G1).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(Y(this,el).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(Y(this,el).get(s),r)}}getEventName(e){const n=Qe(this,gc,q1).call(this,e,null,!1);return ke(n,"no matching event","key",e),n.name}hasEvent(e){return!!Qe(this,gc,q1).call(this,e,null,!1)}getEvent(e,n){return Qe(this,gc,q1).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(Y(this,Xo).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(Y(this,Xo).get(s),r)}}getError(e,n){if(Un(e)){const s=e.toLowerCase();if(VT[s])return Zo.from(VT[s].signature);for(const a of Y(this,Ho).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,i]of Y(this,Ho))a.split("(")[0]===e&&s.push(i);if(s.length===0)return e==="Error"?Zo.from("error Error(string)"):e==="Panic"?Zo.from("error Panic(uint256)"):null;if(s.length>1){const a=s.map(i=>JSON.stringify(i.format())).join(", ");ke(!1,`ambiguous error description (i.e. ${a})`,"name",e)}return s[0]}return e=Zo.from(e).format(),e==="Error(string)"?Zo.from("error Error(string)"):e==="Panic(uint256)"?Zo.from("error Panic(uint256)"):Y(this,Ho).get(e)||null}forEachError(e){const n=Array.from(Y(this,Ho).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(Y(this,Ho).get(s),r)}}_decodeParams(e,n){return Y(this,hs).decode(e,n)}_encodeParams(e,n){return Y(this,hs).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ke(r,"unknown error","fragment",e),e=r}return ke(cr(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,cr(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);ke(r,"unknown error","fragment",e),e=r}return Xn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ke(r,"unknown function","fragment",e),e=r}return ke(cr(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,cr(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);ke(r,"unknown function","fragment",e),e=r}return Xn([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const a=this.getFunction(e);ke(a,"unknown function","fragment",e),e=a}let r="invalid length for result data";const s=ws(n);if(s.length%32===0)try{return Y(this,hs).decode(e.outputs,s)}catch{r="could not decode result data"}Ge(!1,r,"BAD_DATA",{value:it(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Kt(e,"data"),s=I5.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const i=it(r.slice(0,4)),o=this.getError(i);if(o)try{const c=Y(this,hs).decode(o.inputs,r.slice(4));s.revert={name:o.name,signature:o.format(),args:c},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);ke(r,"unknown function","fragment",e),e=r}return it(Y(this,hs).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const a=this.getEvent(e);ke(a,"unknown event","eventFragment",e),e=a}Ge(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(a,i)=>a.type==="string"?Ld(i):a.type==="bytes"?Gn(it(i)):(a.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":a.type.match(/^u?int/)?i=Dc(i):a.type.match(/^bytes/)?i=e$(i,32):a.type==="address"&&Y(this,hs).encode(["address"],[i]),Fa(it(i),32));for(n.forEach((a,i)=>{const o=e.inputs[i];if(!o.indexed){ke(a==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?ke(!1,"filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?r.push(a.map(c=>s(o,c))):r.push(s(o,a))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const i=this.getEvent(e);ke(i,"unknown event","eventFragment",e),e=i}const r=[],s=[],a=[];return e.anonymous||r.push(e.topicHash),ke(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((i,o)=>{const c=n[o];if(i.indexed)if(i.type==="string")r.push(Ld(c));else if(i.type==="bytes")r.push(Gn(c));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");r.push(Y(this,hs).encode([i.type],[c]))}else s.push(i),a.push(c)}),{data:Y(this,hs).encode(s,a),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const g=this.getEvent(e);ke(g,"unknown event","eventFragment",e),e=g}if(r!=null&&!e.anonymous){const g=e.topicHash;ke(Un(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],a=[],i=[];e.inputs.forEach((g,b)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(s.push(Es.from({type:"bytes32",name:g.name})),i.push(!0)):(s.push(g),i.push(!1)):(a.push(g),i.push(!1))});const o=r!=null?Y(this,hs).decode(s,Xn(r)):null,c=Y(this,hs).decode(a,n,!0),u=[],h=[];let f=0,m=0;return e.inputs.forEach((g,b)=>{let y=null;if(g.indexed)if(o==null)y=new GT(null);else if(i[b])y=new GT(o[m++]);else try{y=o[m++]}catch(w){y=w}else try{y=c[f++]}catch(w){y=w}u.push(y),h.push(g.name||null)}),Rw.fromItems(u,h)}parseTransaction(e){const n=Kt(e.data,"tx.data"),r=yt(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(it(n.slice(0,4)));if(!s)return null;const a=Y(this,hs).decode(s.inputs,n.slice(4));return new rne(s,s.selector,a,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new nne(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=it(e),r=this.getError(cr(n,0,4));if(!r)return null;const s=Y(this,hs).decode(r.inputs,cr(n,4));return new sne(r,r.selector,s)}static from(e){return e instanceof df?e:typeof e=="string"?new df(JSON.parse(e)):typeof e.formatJson=="function"?new df(e.formatJson()):typeof e.format=="function"?new df(e.format("json")):new df(e)}};Ho=new WeakMap,Xo=new WeakMap,el=new WeakMap,hs=new WeakMap,gc=new WeakSet,G1=function(t,e,n){if(Un(t)){const s=t.toLowerCase();for(const a of Y(this,el).values())if(s===a.selector)return a;return null}if(t.indexOf("(")===-1){const s=[];for(const[a,i]of Y(this,el))a.split("(")[0]===t&&s.push(i);if(e){const a=e.length>0?e[e.length-1]:null;let i=e.length,o=!0;qs.isTyped(a)&&a.type==="overrides"&&(o=!1,i--);for(let c=s.length-1;c>=0;c--){const u=s[c].inputs.length;u!==i&&(!o||u!==i-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const u=s[c].inputs;for(let h=0;h<e.length;h++)if(qs.isTyped(e[h])){if(h>=u.length){if(e[h].type==="overrides")continue;s.splice(c,1);break}if(e[h].type!==u[h].baseType){s.splice(c,1);break}}}}if(s.length===1&&e&&e.length!==s[0].inputs.length){const a=e[e.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(i=>JSON.stringify(i.format())).join(", ");ke(!1,`ambiguous function description (i.e. matches ${a})`,"key",t)}return s[0]}return Y(this,el).get(W1.from(t).format())||null},q1=function(t,e,n){if(Un(t)){const s=t.toLowerCase();for(const a of Y(this,Xo).values())if(s===a.topicHash)return a;return null}if(t.indexOf("(")===-1){const s=[];for(const[a,i]of Y(this,Xo))a.split("(")[0]===t&&s.push(i);if(e){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<e.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const i=s[a].inputs;for(let o=0;o<e.length;o++)if(qs.isTyped(e[o])&&e[o].type!==i[o].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(i=>JSON.stringify(i.format())).join(", ");ke(!1,`ambiguous event description (i.e. matches ${a})`,"key",t)}return s[0]}return Y(this,Xo).get(Xi.from(t).format())||null};let ine=ane;const RM=BigInt(0);function Bf(t){return t??null}function yr(t){return t==null?null:t.toString()}let ZT=class{constructor(e,n,r){Pe(this,"gasPrice"),Pe(this,"maxFeePerGas"),Pe(this,"maxPriorityFeePerGas"),Ut(this,{gasPrice:Bf(e),maxFeePerGas:Bf(n),maxPriorityFeePerGas:Bf(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:yr(e),maxFeePerGas:yr(n),maxPriorityFeePerGas:yr(r)}}};function dx(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=it(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=yt(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=en(t[s],`request.${s}`));return t.accessList&&(e.accessList=eh(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>fC(s)?it(s):Object.assign({},s))),e}var yc;let one=class{constructor(e,n){Pe(this,"provider"),Pe(this,"number"),Pe(this,"hash"),Pe(this,"timestamp"),Pe(this,"parentHash"),Pe(this,"parentBeaconBlockRoot"),Pe(this,"nonce"),Pe(this,"difficulty"),Pe(this,"gasLimit"),Pe(this,"gasUsed"),Pe(this,"stateRoot"),Pe(this,"receiptsRoot"),Pe(this,"blobGasUsed"),Pe(this,"excessBlobGas"),Pe(this,"miner"),Pe(this,"prevRandao"),Pe(this,"extraData"),Pe(this,"baseFeePerGas"),Le(this,yc),de(this,yc,e.transactions.map(r=>typeof r!="string"?new AC(r,n):r)),Ut(this,{provider:n,hash:Bf(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Bf(e.prevRandao),extraData:e.extraData,baseFeePerGas:Bf(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return Y(this,yc).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=Y(this,yc).slice();return e.length===0?[]:(Ge(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:a,hash:i,miner:o,prevRandao:c,nonce:u,number:h,parentHash:f,parentBeaconBlockRoot:m,stateRoot:g,receiptsRoot:b,timestamp:y,transactions:w}=this;return{_type:"Block",baseFeePerGas:yr(e),difficulty:yr(n),extraData:r,gasLimit:yr(s),gasUsed:yr(a),blobGasUsed:yr(this.blobGasUsed),excessBlobGas:yr(this.excessBlobGas),hash:i,miner:o,prevRandao:c,nonce:u,number:h,parentHash:f,timestamp:y,parentBeaconBlockRoot:m,stateRoot:g,receiptsRoot:b,transactions:w}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return Y(this,yc).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=Y(this,yc)[e];else{const r=e.toLowerCase();for(const s of Y(this,yc))if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash!==r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;ke(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return cne(this)}};yc=new WeakMap;let dy=class{constructor(e,n){Pe(this,"provider"),Pe(this,"transactionHash"),Pe(this,"blockHash"),Pe(this,"blockNumber"),Pe(this,"removed"),Pe(this,"address"),Pe(this,"data"),Pe(this,"topics"),Pe(this,"index"),Pe(this,"transactionIndex"),this.provider=n;const r=Object.freeze(e.topics.slice());Ut(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:a,removed:i,topics:o,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:a,removed:i,topics:o,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ge(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return une(this)}};var V1;let $M=class{constructor(e,n){Pe(this,"provider"),Pe(this,"to"),Pe(this,"from"),Pe(this,"contractAddress"),Pe(this,"hash"),Pe(this,"index"),Pe(this,"blockHash"),Pe(this,"blockNumber"),Pe(this,"logsBloom"),Pe(this,"gasUsed"),Pe(this,"blobGasUsed"),Pe(this,"cumulativeGasUsed"),Pe(this,"gasPrice"),Pe(this,"blobGasPrice"),Pe(this,"type"),Pe(this,"status"),Pe(this,"root"),Le(this,V1),de(this,V1,Object.freeze(e.logs.map(s=>new dy(s,n))));let r=RM;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),Ut(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return Y(this,V1)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:a,blockHash:i,blockNumber:o,logsBloom:c,logs:u,status:h,root:f}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:o,contractAddress:r,cumulativeGasUsed:yr(this.cumulativeGasUsed),from:n,gasPrice:yr(this.gasPrice),blobGasUsed:yr(this.blobGasUsed),blobGasPrice:yr(this.blobGasPrice),gasUsed:yr(this.gasUsed),hash:s,index:a,logs:u,logsBloom:c,root:f,status:h,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return LM(this)}reorderedEvent(e){return Ge(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),zM(this,e)}};V1=new WeakMap;var Fu;const lne=class MM{constructor(e,n){Pe(this,"provider"),Pe(this,"blockNumber"),Pe(this,"blockHash"),Pe(this,"index"),Pe(this,"hash"),Pe(this,"type"),Pe(this,"to"),Pe(this,"from"),Pe(this,"nonce"),Pe(this,"gasLimit"),Pe(this,"gasPrice"),Pe(this,"maxPriorityFeePerGas"),Pe(this,"maxFeePerGas"),Pe(this,"maxFeePerBlobGas"),Pe(this,"data"),Pe(this,"value"),Pe(this,"chainId"),Pe(this,"signature"),Pe(this,"accessList"),Pe(this,"blobVersionedHashes"),Pe(this,"authorizationList"),Le(this,Fu),this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,de(this,Fu,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:a,to:i,from:o,nonce:c,data:u,signature:h,accessList:f,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:m,chainId:yr(this.chainId),data:u,from:o,gasLimit:yr(this.gasLimit),gasPrice:yr(this.gasPrice),hash:s,maxFeePerGas:yr(this.maxFeePerGas),maxPriorityFeePerGas:yr(this.maxPriorityFeePerGas),maxFeePerBlobGas:yr(this.maxFeePerBlobGas),nonce:c,signature:h,to:i,index:r,type:a,value:yr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:n}=await ys({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return e==null||e.blockNumber==null?0:n-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let a=Y(this,Fu),i=-1,o=a===-1;const c=async()=>{if(o)return null;const{blockNumber:f,nonce:m}=await ys({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){a=f;return}if(o)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(i===-1&&(i=a-3,i<Y(this,Fu)&&(i=Y(this,Fu)));i<=f;){if(o)return null;const b=await this.provider.getBlock(i,!0);if(b==null)return;for(const y of b)if(y===this.hash)return;for(let y=0;y<b.length;y++){const w=await b.getTransaction(y);if(w.from===this.from&&w.nonce===this.nonce){if(o)return null;const x=await this.provider.getTransactionReceipt(w.hash);if(x==null||f-x.blockNumber+1<r)return;let N="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?N="repriced":w.data==="0x"&&w.from===w.to&&w.value===RM&&(N="cancelled"),Ge(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:w.replaceableTransaction(a),hash:w.hash,receipt:x})}}i++}},u=f=>{if(f==null||f.status!==0)return f;Ge(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},h=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(h);if(h){if(r===1||await h.confirmations()>=r)return u(h)}else if(await c(),r===0)return null;return await new Promise((f,m)=>{const g=[],b=()=>{g.forEach(w=>w())};if(g.push(()=>{o=!0}),s>0){const w=setTimeout(()=>{b(),m(Jn("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(w)})}const y=async w=>{if(await w.confirmations()>=r){b();try{f(u(w))}catch(x){m(x)}}};if(g.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),a>=0){const w=async()=>{try{await c()}catch(x){if(Kr(x,"TRANSACTION_REPLACED")){b(),m(x);return}}o||this.provider.once("block",w)};g.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),LM(this)}reorderedEvent(e){return Ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ge(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),zM(this,e)}replaceableTransaction(e){ke(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new MM(this,this.provider);return de(n,Fu,e),n}};Fu=new WeakMap;let AC=lne;function cne(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function zM(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function LM(t){return{orphan:"drop-transaction",tx:t}}function une(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}let jC=class extends dy{constructor(e,n,r){super(e,e.provider),Pe(this,"interface"),Pe(this,"fragment"),Pe(this,"args");const s=n.decodeEventLog(r,e.data,e.topics);Ut(this,{args:s,fragment:r,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},BM=class extends dy{constructor(e,n){super(e,e.provider),Pe(this,"error"),Ut(this,{error:n})}};var A0;let dne=class extends $M{constructor(e,n,r){super(r,n),Le(this,A0),de(this,A0,e)}get logs(){return super.logs.map(e=>{const n=e.topics.length?Y(this,A0).getEvent(e.topics[0]):null;if(n)try{return new jC(e,Y(this,A0),n)}catch(r){return new BM(e,r)}return e})}};A0=new WeakMap;var Z1;class TC extends AC{constructor(e,n,r){super(r,n),Le(this,Z1),de(this,Z1,e)}async wait(e,n){const r=await super.wait(e,n);return r==null?null:new dne(Y(this,Z1),this.provider,r)}}Z1=new WeakMap;let FM=class extends t${constructor(e,n,r,s){super(e,n,r),Pe(this,"log"),Ut(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},hne=class extends FM{constructor(e,n,r,s,a){super(e,n,r,new jC(a,e.interface,s));const i=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Ut(this,{args:i,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};const KT=BigInt(0);function UM(t){return t&&typeof t.call=="function"}function DM(t){return t&&typeof t.estimateGas=="function"}function hx(t){return t&&typeof t.resolveName=="function"}function WM(t){return t&&typeof t.sendTransaction=="function"}function HM(t){if(t!=null){if(hx(t))return t;if(t.provider)return t.provider}}var K1;let fne=class{constructor(e,n,r){if(Le(this,K1),Pe(this,"fragment"),Ut(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=Fd(e.runner,"resolveName"),a=hx(s)?s:null;de(this,K1,async function(){const i=await Promise.all(n.inputs.map((o,c)=>r[c]==null?null:o.walkAsync(r[c],(u,h)=>u==="address"?Array.isArray(h)?Promise.all(h.map(f=>xs(f,a))):xs(h,a):h)));return e.interface.encodeFilterTopics(n,i)}())}getTopicFilter(){return Y(this,K1)}};K1=new WeakMap;function Fd(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function md(t){return t==null?null:t.provider||null}async function GM(t,e){const n=qs.dereference(t,"overrides");ke(typeof n=="object","invalid overrides parameter","overrides",t);const r=dx(n);return ke(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ke(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function pne(t,e,n){const r=Fd(t,"resolveName"),s=hx(r)?r:null;return await Promise.all(e.map((a,i)=>a.walkAsync(n[i],(o,c)=>(c=qs.dereference(c,o),o==="address"?xs(c,s):c))))}function mne(t){const e=async function(i){const o=await GM(i,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await xs(o.from,HM(t.runner)));const c=t.interface,u=yt(o.value||KT,"overrides.value")===KT,h=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!h&&!u&&ke(!1,"cannot send data to receive or send value to non-payable fallback","overrides",i),ke(c.fallback||h,"cannot send data to receive-only contract","overrides.data",o.data);const f=c.receive||c.fallback&&c.fallback.payable;return ke(f||u,"cannot send value to non-payable fallback","overrides.value",o.value),ke(c.fallback||h,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(i){const o=Fd(t.runner,"call");Ge(UM(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(i);try{return await o.call(c)}catch(u){throw hC(u)&&u.data?t.interface.makeError(u.data,c):u}},r=async function(i){const o=t.runner;Ge(WM(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await o.sendTransaction(await e(i)),u=md(t.runner);return new TC(t.interface,u,c)},s=async function(i){const o=Fd(t.runner,"estimateGas");return Ge(DM(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(i))},a=async i=>await r(i);return Ut(a,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),a}function gne(t,e){const n=function(...u){const h=t.interface.getFunction(e,u);return Ge(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),h},r=async function(...u){const h=n(...u);let f={};if(h.inputs.length+1===u.length&&(f=await GM(u.pop()),f.from&&(f.from=await xs(f.from,HM(t.runner)))),h.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const m=await pne(t.runner,h.inputs,u);return Object.assign({},f,await ys({to:t.getAddress(),data:t.interface.encodeFunctionData(h,m)}))},s=async function(...u){const h=await o(...u);return h.length===1?h[0]:h},a=async function(...u){const h=t.runner;Ge(WM(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await h.sendTransaction(await r(...u)),m=md(t.runner);return new TC(t.interface,m,f)},i=async function(...u){const h=Fd(t.runner,"estimateGas");return Ge(DM(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await r(...u))},o=async function(...u){const h=Fd(t.runner,"call");Ge(UM(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...u);let m="0x";try{m=await h.call(f)}catch(b){throw hC(b)&&b.data?t.interface.makeError(b.data,f):b}const g=n(...u);return t.interface.decodeFunctionResult(g,m)},c=async(...u)=>n(...u).constant?await s(...u):await a(...u);return Ut(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:i,populateTransaction:r,send:a,staticCall:s,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return Ge(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function yne(t,e){const n=function(...s){const a=t.interface.getEvent(e,s);return Ge(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),a},r=function(...s){return new fne(t,n(...s),s)};return Ut(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return Ge(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const fx=Symbol.for("_ethersInternal_contract"),qM=new WeakMap;function bne(t,e){qM.set(t[fx],e)}function aa(t){return qM.get(t[fx])}function wne(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function IC(t,e){let n,r=null;if(Array.isArray(e)){const a=function(i){if(Un(i,32))return i;const o=t.interface.getEvent(i);return ke(o,"unknown fragment","name",i),o.topicHash};n=e.map(i=>i==null?null:Array.isArray(i)?i.map(a):a(i))}else e==="*"?n=[null]:typeof e=="string"?Un(e,32)?n=[e]:(r=t.interface.getEvent(e),ke(r,"unknown fragment","event",e),n=[r.topicHash]):wne(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):ke(!1,"unknown event name","event",e);n=n.map(a=>{if(a==null)return null;if(Array.isArray(a)){const i=Array.from(new Set(a.map(o=>o.toLowerCase())).values());return i.length===1?i[0]:(i.sort(),i)}return a.toLowerCase()});const s=n.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:r,tag:s,topics:n}}async function j0(t,e){const{subs:n}=aa(t);return n.get((await IC(t,e)).tag)||null}async function QT(t,e,n){const r=md(t.runner);Ge(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:a,topics:i}=await IC(t,n),{addr:o,subs:c}=aa(t);let u=c.get(a);if(!u){const h={address:o||t,topics:i},f=g=>{let b=s;if(b==null)try{b=t.interface.getEvent(g.topics[0])}catch{}if(b){const y=b,w=s?t.interface.decodeEventLog(s,g.data,g.topics):[];P5(t,n,w,x=>new hne(t,x,n,y,g))}else P5(t,n,[],y=>new FM(t,y,n,g))};let m=[];u={tag:a,listeners:[],start:()=>{m.length||m.push(r.on(h,f))},stop:async()=>{if(m.length==0)return;let g=m;m=[],await Promise.all(g),r.off(h,f)}},c.set(a,u)}return u}let _5=Promise.resolve();async function vne(t,e,n,r){await _5;const s=await j0(t,e);if(!s)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter(({listener:i,once:o})=>{const c=Array.from(n);r&&c.push(r(o?null:i));try{i.call(t,...c)}catch{}return!o}),s.listeners.length===0&&(s.stop(),aa(t).subs.delete(s.tag)),a>0}async function P5(t,e,n,r){try{await _5}catch{}const s=vne(t,e,n,r);return _5=s,await s}const r1=["then"];var VM;VM=fx;const xne=class Q1{constructor(e,n,r,s){Pe(this,"target"),Pe(this,"interface"),Pe(this,"runner"),Pe(this,"filters"),Pe(this,VM),Pe(this,"fallback"),ke(typeof e=="string"||q$(e),"invalid value for Contract target","target",e),r==null&&(r=null);const a=ine.from(n);Ut(this,{target:e,runner:r,interface:a}),Object.defineProperty(this,fx,{value:{}});let i,o=null,c=null;if(s){const f=md(r);c=new TC(this.interface,f,s)}let u=new Map;if(typeof e=="string")if(Un(e))o=e,i=Promise.resolve(e);else{const f=Fd(r,"resolveName");if(!hx(f))throw Jn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=f.resolveName(e).then(m=>{if(m==null)throw Jn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return aa(this).addr=m,m})}else i=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return aa(this).addr=f,f});bne(this,{addrPromise:i,addr:o,deployTx:c,subs:u});const h=new Proxy({},{get:(f,m,g)=>{if(typeof m=="symbol"||r1.indexOf(m)>=0)return Reflect.get(f,m,g);try{return this.getEvent(m)}catch(b){if(!Kr(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,m)=>r1.indexOf(m)>=0?Reflect.has(f,m):Reflect.has(f,m)||this.interface.hasEvent(String(m))});return Ut(this,{filters:h}),Ut(this,{fallback:a.receive||a.fallback?mne(this):null}),new Proxy(this,{get:(f,m,g)=>{if(typeof m=="symbol"||m in f||r1.indexOf(m)>=0)return Reflect.get(f,m,g);try{return f.getFunction(m)}catch(b){if(!Kr(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,m)=>typeof m=="symbol"||m in f||r1.indexOf(m)>=0?Reflect.has(f,m):f.interface.hasFunction(m)})}connect(e){return new Q1(this.target,this.interface,e)}attach(e){return new Q1(e,this.interface,this.runner)}async getAddress(){return await aa(this).addrPromise}async getDeployedCode(){const e=md(this.runner);Ge(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=md(this.runner);return Ge(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return r(this);n.once("block",a)}catch(i){s(i)}};a()})}deploymentTransaction(){return aa(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),gne(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),yne(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:a}=aa(this),i=s||await a,{fragment:o,topics:c}=await IC(this,e),u={address:i,topics:c,fromBlock:n,toBlock:r},h=md(this.runner);return Ge(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(u)).map(f=>{let m=o;if(m==null)try{m=this.interface.getEvent(f.topics[0])}catch{}if(m)try{return new jC(f,this.interface,m)}catch(g){return new BM(f,g)}return new dy(f,h)})}async on(e,n){const r=await QT(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await QT(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await P5(this,e,n,null)}async listenerCount(e){if(e){const s=await j0(this,e);return s?s.listeners.length:0}const{subs:n}=aa(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await j0(this,e);return s?s.listeners.map(({listener:a})=>a):[]}const{subs:n}=aa(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:a})=>a));return r}async off(e,n){const r=await j0(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:a})=>a).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),aa(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await j0(this,e);if(!n)return this;n.stop(),aa(this).subs.delete(n.tag)}else{const{subs:n}=aa(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Q1{constructor(s,a=null){super(s,e,a)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let Nne=xne;function kne(){return Nne}let Pt=class extends kne(){};function u4(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ke(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}let Cne=class{constructor(e){Pe(this,"name"),Ut(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}};const ZM=new RegExp("^(ipfs)://(.*)$","i"),JT=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ZM,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Uu,Ff,Du,hf,O5,KM;const R5=class $5{constructor(e,n,r){Le(this,Du),Pe(this,"provider"),Pe(this,"address"),Pe(this,"name"),Le(this,Uu),Le(this,Ff),Ut(this,{provider:e,address:n,name:r}),de(this,Uu,null),de(this,Ff,new Pt(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return Y(this,Uu)==null&&de(this,Uu,(async()=>{try{return await Y(this,Ff).supportsInterface("0x9061b923")}catch(e){if(Kr(e,"CALL_EXCEPTION"))return!1;throw de(this,Uu,null),e}})()),await Y(this,Uu)}async getAddress(e){if(e==null&&(e=60),e===60)try{const a=await Qe(this,Du,hf).call(this,"addr(bytes32)");return a==null||a===Xd?null:a}catch(a){if(Kr(a,"CALL_EXCEPTION"))return null;throw a}if(e>=0&&e<2147483648){let a=e+2147483648;const i=await Qe(this,Du,hf).call(this,"addr(bytes32,uint)",[a]);if(Un(i,20))return un(i)}let n=null;for(const a of this.provider.plugins)if(a instanceof Cne&&a.supportsCoinType(e)){n=a;break}if(n==null)return null;const r=await Qe(this,Du,hf).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;Ge(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await Qe(this,Du,hf).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await Qe(this,Du,hf).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",a=parseInt(n[4],16);if(n[5].length===a*2)return`${s}://${iY("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Ge(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<JT.length;r++){const s=n.match(JT[r]);if(s==null)continue;const a=s[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const i=u4(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:i}),{linkage:e,url:i}}case"erc721":case"erc1155":{const i=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:n});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${a}caip`,value:s[2]||""}),{url:null,linkage:e};const u=c[1],h=new Pt(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){const y=await h.ownerOf(u);if(o!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(a==="erc1155"){const y=await h.balanceOf(o,u);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let f=await h[i](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),a==="erc1155"&&(f=f.replace("{id}",Dc(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=u4(f)),e.push({type:"metadata-url",value:f});let m={};const g=await new zd(f).send();g.assertOk();try{m=g.bodyJson}catch{try{e.push({type:"!metadata",value:g.bodyText})}catch{const y=g.body;return y&&e.push({type:"!metadata",value:it(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!m)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(m)});let b=m.image;if(typeof b!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(ZM)==null)return e.push({type:"!imageUrl-ipfs",value:b}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:b}),b=u4(b)}return e.push({type:"url",value:b}),{linkage:e,url:b}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Ge(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var r;let s=n;for(;;){if(s===""||s==="."||n!=="eth"&&s==="eth")return null;const a=await Qe(r=$5,O5,KM).call(r,e,s);if(a!=null){const i=new $5(e,a,n);return s!==n&&!await i.supportsWildcard()?null:i}s=s.split(".").slice(1).join(".")}}};Uu=new WeakMap,Ff=new WeakMap,Du=new WeakSet,hf=async function(t,e){e=(e||[]).slice();const n=Y(this,Ff).interface;e.unshift(k5(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(t),Ge(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[jte(this.name,255),n.encodeFunctionData(r,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const s=await Y(this,Ff)[t](...e);return r?n.decodeFunctionResult(r,s)[0]:s}catch(s){if(!Kr(s,"CALL_EXCEPTION"))throw s}return null},O5=new WeakSet,KM=async function(t,e){const n=await R5.getEnsAddress(t);try{const r=await new Pt(n,["function resolver(bytes32) view returns (address)"],t).resolver(k5(e),{enableCcipRead:!0});return r===Xd?null:r}catch(r){throw r}return null},Le(R5,O5);let YT=R5;const XT=BigInt(0);function ln(t,e){return function(n){return n==null?e:t(n)}}function Eg(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function hy(t,e){return n=>{const r={};for(const s in t){let a=s;if(e&&s in e&&!(a in n)){for(const i of e[s])if(i in n){a=i;break}}try{const i=t[s](n[a]);i!==void 0&&(r[s]=i)}catch(i){const o=i instanceof Error?i.message:"not-an-error";Ge(!1,`invalid value for value.${s} (${o})`,"BAD_DATA",{value:n})}}return r}}function Ene(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}ke(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function ip(t){return ke(Un(t,!0),"invalid data","value",t),t}function Zr(t){return ke(Un(t,32),"invalid hash","value",t),t}const Sne=hy({address:un,blockHash:Zr,blockNumber:en,data:ip,index:en,removed:ln(Ene,!1),topics:Eg(Zr),transactionHash:Zr,transactionIndex:en},{index:["logIndex"]});function Ane(t){return Sne(t)}const jne=hy({hash:ln(Zr),parentHash:Zr,parentBeaconBlockRoot:ln(Zr,null),number:en,timestamp:en,nonce:ln(ip),difficulty:yt,gasLimit:yt,gasUsed:yt,stateRoot:ln(Zr,null),receiptsRoot:ln(Zr,null),blobGasUsed:ln(yt,null),excessBlobGas:ln(yt,null),miner:ln(un),prevRandao:ln(Zr,null),extraData:ip,baseFeePerGas:ln(yt)},{prevRandao:["mixHash"]});function Tne(t){const e=jne(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:QM(n)),e}const Ine=hy({transactionIndex:en,blockNumber:en,transactionHash:Zr,address:un,topics:Eg(Zr),data:ip,index:en,blockHash:Zr},{index:["logIndex"]});function _ne(t){return Ine(t)}const Pne=hy({to:ln(un,null),from:ln(un,null),contractAddress:ln(un,null),index:en,root:ln(it),gasUsed:yt,blobGasUsed:ln(yt,null),logsBloom:ln(ip),blockHash:Zr,hash:Zr,logs:Eg(_ne),blockNumber:en,cumulativeGasUsed:yt,effectiveGasPrice:ln(yt),blobGasPrice:ln(yt,null),status:ln(en),type:ln(en,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function One(t){return Pne(t)}function QM(t){t.to&&yt(t.to)===XT&&(t.to="0x0000000000000000000000000000000000000000");const e=hy({hash:Zr,index:ln(en,void 0),type:n=>n==="0x"||n==null?0:en(n),accessList:ln(eh,null),blobVersionedHashes:ln(Eg(Zr,!0),null),authorizationList:ln(Eg(n=>{let r;if(n.signature)r=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},n,{yParity:s})}return{address:un(n.address),chainId:yt(n.chainId),nonce:yt(n.nonce),signature:Ua.from(r)}},!1),null),blockHash:ln(Zr,null),blockNumber:ln(en,null),transactionIndex:ln(en,null),from:un,gasPrice:ln(yt),maxPriorityFeePerGas:ln(yt),maxFeePerGas:ln(yt),maxFeePerBlobGas:ln(yt,null),gasLimit:yt,to:ln(un,null),value:yt,nonce:en,data:ip,creates:ln(un,null),chainId:ln(yt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=oee(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Ua.from(t.signature):e.signature=Ua.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&yt(e.blockHash)===XT&&(e.blockHash=null),e}const Rne="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";let _C=class JM{constructor(e){Pe(this,"name"),Ut(this,{name:e})}clone(){return new JM(this.name)}},YM=class XM extends _C{constructor(e,n){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`),Pe(this,"effectiveBlock"),Pe(this,"txBase"),Pe(this,"txCreate"),Pe(this,"txDataZero"),Pe(this,"txDataNonzero"),Pe(this,"txAccessListStorageKey"),Pe(this,"txAccessListAddress");const r={effectiveBlock:e};function s(a,i){let o=(n||{})[a];o==null&&(o=i),ke(typeof o=="number",`invalud value for ${a}`,"costs",n),r[a]=o}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Ut(this,r)}clone(){return new XM(this.effectiveBlock,this)}},ez=class tz extends _C{constructor(e,n){super("org.ethers.plugins.network.Ens"),Pe(this,"address"),Pe(this,"targetNetwork"),Ut(this,{address:e||Rne,targetNetwork:n??1})}clone(){return new tz(this.address,this.targetNetwork)}};var J1,Y1;let $ne=class extends _C{constructor(e,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),Le(this,J1),Le(this,Y1),de(this,J1,e),de(this,Y1,n)}get url(){return Y(this,J1)}get processFunc(){return Y(this,Y1)}clone(){return this}};J1=new WeakMap,Y1=new WeakMap;const d4=new Map;var T0,I0,Wu;const Mne=class _0{constructor(e,n){Le(this,T0),Le(this,I0),Le(this,Wu),de(this,T0,e),de(this,I0,yt(n)),de(this,Wu,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return Y(this,T0)}set name(e){de(this,T0,e)}get chainId(){return Y(this,I0)}set chainId(e){de(this,I0,yt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===yt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===yt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===yt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(Y(this,Wu).values())}attachPlugin(e){if(Y(this,Wu).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return Y(this,Wu).set(e.name,e.clone()),this}getPlugin(e){return Y(this,Wu).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new _0(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new YM;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=eh(e.accessList);for(const a in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[a].storageKeys.length}return r}static from(e){if(zne(),e==null)return _0.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=d4.get(e);if(n)return n();if(typeof e=="bigint")return new _0("unknown",e);ke(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){ke(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new _0(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new ez(e.ensAddress,e.ensNetwork)),n}ke(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=d4.get(e);r&&ke(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),d4.set(e,n)}};T0=new WeakMap,I0=new WeakMap,Wu=new WeakMap;let _c=Mne;function eI(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function tI(t){return new $ne(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[a,i]=await Promise.all([r.send(),e()]);s=a;const o=s.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:eI(o.maxFee,9),maxPriorityFeePerGas:eI(o.maxPriorityFee,9)}}catch(a){Ge(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:a})}})}let nI=!1;function zne(){if(nI)return;nI=!0;function t(e,n,r){const s=function(){const a=new _c(e,n);return r.ensNetwork!=null&&a.attachPlugin(new ez(null,r.ensNetwork)),a.attachPlugin(new YM),(r.plugins||[]).forEach(i=>{a.attachPlugin(i)}),a};_c.register(e,s),_c.register(n,s),r.altNames&&r.altNames.forEach(a=>{_c.register(a,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[tI("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[tI("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function PC(t){return JSON.parse(JSON.stringify(t))}var Pc,ci,sd,Ko,eg,Uw;let Lne=class{constructor(e){Le(this,eg),Le(this,Pc),Le(this,ci),Le(this,sd),Le(this,Ko),de(this,Pc,e),de(this,ci,null),de(this,sd,4e3),de(this,Ko,-2)}get pollingInterval(){return Y(this,sd)}set pollingInterval(e){de(this,sd,e)}start(){Y(this,ci)||(de(this,ci,Y(this,Pc)._setTimeout(Qe(this,eg,Uw).bind(this),Y(this,sd))),Qe(this,eg,Uw).call(this))}stop(){Y(this,ci)&&(Y(this,Pc)._clearTimeout(Y(this,ci)),de(this,ci,null))}pause(e){this.stop(),e&&de(this,Ko,-2)}resume(){this.start()}};Pc=new WeakMap,ci=new WeakMap,sd=new WeakMap,Ko=new WeakMap,eg=new WeakSet,Uw=async function(){try{const t=await Y(this,Pc).getBlockNumber();if(Y(this,Ko)===-2){de(this,Ko,t);return}if(t!==Y(this,Ko)){for(let e=Y(this,Ko)+1;e<=t;e++){if(Y(this,ci)==null)return;await Y(this,Pc).emit("block",e)}de(this,Ko,t)}}catch{}Y(this,ci)!=null&&de(this,ci,Y(this,Pc)._setTimeout(Qe(this,eg,Uw).bind(this),Y(this,sd)))};var ff,pf,Hu;let OC=class{constructor(e){Le(this,ff),Le(this,pf),Le(this,Hu),de(this,ff,e),de(this,Hu,!1),de(this,pf,n=>{this._poll(n,Y(this,ff))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){Y(this,Hu)||(de(this,Hu,!0),Y(this,pf).call(this,-2),Y(this,ff).on("block",Y(this,pf)))}stop(){Y(this,Hu)&&(de(this,Hu,!1),Y(this,ff).off("block",Y(this,pf)))}pause(e){this.stop()}resume(){this.start()}};ff=new WeakMap,pf=new WeakMap,Hu=new WeakMap;var P0,bc;let Bne=class extends OC{constructor(e,n){super(e),Le(this,P0),Le(this,bc),de(this,P0,n),de(this,bc,-2)}pause(e){e&&de(this,bc,-2),super.pause(e)}async _poll(e,n){const r=await n.getBlock(Y(this,P0));r!=null&&(Y(this,bc)===-2?de(this,bc,r.number):r.number>Y(this,bc)&&(n.emit(Y(this,P0),r.number),de(this,bc,r.number)))}};P0=new WeakMap,bc=new WeakMap;var M5;let Fne=class extends OC{constructor(e,n){super(e),Le(this,M5),de(this,M5,PC(n))}async _poll(e,n){throw new Error("@TODO")}};M5=new WeakMap;var O0;let Une=class extends OC{constructor(e,n){super(e),Le(this,O0),de(this,O0,n)}async _poll(e,n){const r=await n.getTransactionReceipt(Y(this,O0));r&&n.emit(Y(this,O0),r)}};O0=new WeakMap;var Ec,tg,R0,Gu,di,z5,nz;let RC=class{constructor(e,n){Le(this,z5),Le(this,Ec),Le(this,tg),Le(this,R0),Le(this,Gu),Le(this,di),de(this,Ec,e),de(this,tg,PC(n)),de(this,R0,Qe(this,z5,nz).bind(this)),de(this,Gu,!1),de(this,di,-2)}start(){Y(this,Gu)||(de(this,Gu,!0),Y(this,di)===-2&&Y(this,Ec).getBlockNumber().then(e=>{de(this,di,e)}),Y(this,Ec).on("block",Y(this,R0)))}stop(){Y(this,Gu)&&(de(this,Gu,!1),Y(this,Ec).off("block",Y(this,R0)))}pause(e){this.stop(),e&&de(this,di,-2)}resume(){this.start()}};Ec=new WeakMap,tg=new WeakMap,R0=new WeakMap,Gu=new WeakMap,di=new WeakMap,z5=new WeakSet,nz=async function(t){if(Y(this,di)===-2)return;const e=PC(Y(this,tg));e.fromBlock=Y(this,di)+1,e.toBlock=t;const n=await Y(this,Ec).getLogs(e);if(n.length===0){Y(this,di)<t-60&&de(this,di,t-60);return}for(const r of n)Y(this,Ec).emit(Y(this,tg),r),de(this,di,r.blockNumber)};const Dne=BigInt(2),Wne=10;function s1(t){return t&&typeof t.then=="function"}function X1(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((a,i)=>(a[i]=r[i],a),{})}return r})}let rz=class{constructor(e){Pe(this,"name"),Ut(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function Hne(t){return JSON.parse(JSON.stringify(t))}function L5(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function h4(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Un(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:X1("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:X1("orphan",n),filter:Hne(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?L5(s.map(a=>a.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],a=[],i=o=>{Un(o)?s.push(o):a.push((async()=>{s.push(await xs(o,e))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),a.length&&await Promise.all(a),r.address=L5(s.map(o=>o.toLowerCase()))}return{filter:r,tag:X1("event",r),type:"event"}}ke(!1,"unknown ProviderEvent","event",t)}function f4(){return new Date().getTime()}const Gne={cacheTimeout:250,pollingInterval:4e3};var ps,qu,fs,$0,Pa,mf,ad,wc,ew,ri,M0,ng,xn,ia,B5,F5,z0,U5,L0,tw;let qne=class{constructor(e,n){if(Le(this,xn),Le(this,ps),Le(this,qu),Le(this,fs),Le(this,$0),Le(this,Pa),Le(this,mf),Le(this,ad),Le(this,wc),Le(this,ew),Le(this,ri),Le(this,M0),Le(this,ng),de(this,ng,Object.assign({},Gne,n||{})),e==="any")de(this,mf,!0),de(this,Pa,null);else if(e){const r=_c.from(e);de(this,mf,!1),de(this,Pa,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else de(this,mf,!1),de(this,Pa,null);de(this,wc,-1),de(this,ad,new Map),de(this,ps,new Map),de(this,qu,new Map),de(this,fs,null),de(this,$0,!1),de(this,ew,1),de(this,ri,new Map),de(this,M0,!1)}get pollingInterval(){return Y(this,ng).pollingInterval}get provider(){return this}get plugins(){return Array.from(Y(this,qu).values())}attachPlugin(e){if(Y(this,qu).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return Y(this,qu).set(e.name,e.connect(this)),this}getPlugin(e){return Y(this,qu).get(e)||null}get disableCcipRead(){return Y(this,M0)}set disableCcipRead(e){de(this,M0,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),a=n.toLowerCase(),i=[];for(let o=0;o<r.length;o++){const c=r[o],u=c.replace("{sender}",s).replace("{data}",a),h=new zd(u);c.indexOf("{data}")===-1&&(h.body={data:a,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:h,index:o,urls:r});let f="unknown error",m;try{m=await h.send()}catch(g){i.push(g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:{error:g}});continue}try{const g=m.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:h,result:g}),g.data;g.message&&(f=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:g})}catch{}Ge(m.statusCode<400||m.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),i.push(f)}Ge(!1,`error encountered during CCIP fetch: ${i.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:i}})}_wrapBlock(e,n){return new one(Tne(e),this)}_wrapLog(e,n){return new dy(Ane(e),this)}_wrapTransactionReceipt(e,n){return new $M(One(e),this)}_wrapTransactionResponse(e,n){return new AC(QM(e),this)}_detectNetwork(){Ge(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ge(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=en(await Qe(this,xn,ia).call(this,{method:"getBlockNumber"}),"%response");return Y(this,wc)>=0&&de(this,wc,e),e}_getAddress(e){return xs(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Un(e))return Un(e,32)?e:ui(e);if(typeof e=="bigint"&&(e=en(e,"blockTag")),typeof e=="number")return e>=0?ui(e):Y(this,wc)>=0?ui(Y(this,wc)+e):this.getBlockNumber().then(n=>ui(n+e));ke(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?L5(c.map(u=>u.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,u,h)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(r&&(u!=null||h!=null))throw new Error("invalid filter");const m={};return f&&(m.address=f),n.length&&(m.topics=n),u&&(m.fromBlock=u),h&&(m.toBlock=h),r&&(m.blockHash=r),m};let a=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)a.push(this._getAddress(c));else a.push(this._getAddress(e.address));let i;"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),a.filter(c=>typeof c!="string").length||i!=null&&typeof i!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(a),i,o]).then(c=>s(c[0],c[1],c[2])):s(a,i,o)}_getTransactionRequest(e){const n=dx(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const a=xs(n[s],this);s1(a)?r.push(async function(){n[s]=await a}()):n[s]=a}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);s1(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(Y(this,Pa)==null){const s=(async()=>{try{const a=await this._detectNetwork();return this.emit("network",a,null),a}catch(a){throw Y(this,Pa)===s&&de(this,Pa,null),a}})();return de(this,Pa,s),(await s).clone()}const e=Y(this,Pa),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(Y(this,mf)?(this.emit("network",r,n),Y(this,Pa)===e&&de(this,Pa,Promise.resolve(r))):Ge(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:a,priorityFee:i}=await ys({_block:Qe(this,xn,U5).call(this,"latest",!1),gasPrice:(async()=>{try{const h=await Qe(this,xn,ia).call(this,{method:"getGasPrice"});return yt(h,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const h=await Qe(this,xn,ia).call(this,{method:"getPriorityFee"});return yt(h,"%response")}catch{}return null})()});let o=null,c=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(c=i??BigInt("1000000000"),o=u.baseFeePerGas*Dne+c),new ZT(a,o,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new zd(r.url),a=await r.processFunc(n,this,s);return new ZT(a.gasPrice,a.maxFeePerGas,a.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return s1(n)&&(n=await n),yt(await Qe(this,xn,ia).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await ys({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Qe(this,xn,F5).call(this,Qe(this,xn,B5).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return yt(await Qe(this,xn,z0).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return en(await Qe(this,xn,z0).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return it(await Qe(this,xn,z0).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const s=yt(n,"position");return it(await Qe(this,xn,z0).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await ys({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),a=J$.from(e);if(a.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(a,s).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:s}=await ys({network:this.getNetwork(),params:Qe(this,xn,U5).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await ys({network:this.getNetwork(),params:Qe(this,xn,ia).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ys({network:this.getNetwork(),params:Qe(this,xn,ia).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await Qe(this,xn,ia).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ys({network:this.getNetwork(),result:Qe(this,xn,ia).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:it(n)}async getLogs(e){let n=this._getFilter(e);s1(n)&&(n=await n);const{network:r,params:s}=await ys({network:this.getNetwork(),params:Qe(this,xn,ia).call(this,{method:"getLogs",filter:n})});return s.map(a=>this._wrapLog(a,r))}_getProvider(e){Ge(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await YT.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=un(e);const n=k5(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await YT.getEnsAddress(this),s=await new Pt(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===Xd)return null;const a=await new Pt(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Kr(r,"BAD_DATA")&&r.value==="0x"||Kr(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(a,i)=>{let o=null;const c=async u=>{try{const h=await this.getTransactionReceipt(e);if(h!=null&&u-h.blockNumber+1>=s){a(h),o&&(clearTimeout(o),o=null);return}}catch(h){console.log("EEE",h)}this.once("block",c)};r!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",c),i(Jn("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){Ge(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=Y(this,ri).get(e);n&&(n.timer&&clearTimeout(n.timer),Y(this,ri).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=Iw(this,ew)._++,s=()=>{Y(this,ri).delete(r),e()};if(this.paused)Y(this,ri).set(r,{timer:null,func:s,time:n});else{const a=setTimeout(s,n);Y(this,ri).set(r,{timer:a,func:s,time:f4()})}return r}_forEachSubscriber(e){for(const n of Y(this,ps).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new rz(e.type);case"block":{const n=new Lne(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Bne(this,e.type);case"event":return new RC(this,e.filter);case"transaction":return new Une(this,e.hash);case"orphan":return new Fne(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of Y(this,ps).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),Y(this,fs)!=null&&n.pause(Y(this,fs));break}}async on(e,n){const r=await Qe(this,xn,tw).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,Y(this,fs)!=null&&r.subscriber.pause(Y(this,fs))),this}async once(e,n){const r=await Qe(this,xn,tw).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,Y(this,fs)!=null&&r.subscriber.pause(Y(this,fs))),this}async emit(e,...n){const r=await Qe(this,xn,L0).call(this,e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:a,once:i})=>{const o=new t$(this,i?null:a,e);try{a.call(this,...n,o)}catch{}return!i}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),Y(this,ps).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await Qe(this,xn,L0).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of Y(this,ps).values())n+=r.length;return n}async listeners(e){if(e){const r=await Qe(this,xn,L0).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of Y(this,ps).values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await Qe(this,xn,L0).call(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:a})=>a).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),Y(this,ps).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await Qe(this,xn,tw).call(this,e);r&&s.stop(),Y(this,ps).delete(n)}else for(const[n,{started:r,subscriber:s}]of Y(this,ps))r&&s.stop(),Y(this,ps).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return Y(this,$0)}destroy(){this.removeAllListeners();for(const e of Y(this,ri).keys())this._clearTimeout(e);de(this,$0,!0)}get paused(){return Y(this,fs)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(de(this,wc,-1),Y(this,fs)!=null){if(Y(this,fs)==!!e)return;Ge(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),de(this,fs,!!e);for(const n of Y(this,ri).values())n.timer&&clearTimeout(n.timer),n.time=f4()-n.time}resume(){if(Y(this,fs)!=null){this._forEachSubscriber(e=>e.resume()),de(this,fs,null);for(const e of Y(this,ri).values()){let n=e.time;n<0&&(n=0),e.time=f4(),setTimeout(e.func,n)}}}};ps=new WeakMap,qu=new WeakMap,fs=new WeakMap,$0=new WeakMap,Pa=new WeakMap,mf=new WeakMap,ad=new WeakMap,wc=new WeakMap,ew=new WeakMap,ri=new WeakMap,M0=new WeakMap,ng=new WeakMap,xn=new WeakSet,ia=async function(t){const e=Y(this,ng).cacheTimeout;if(e<0)return await this._perform(t);const n=X1(t.method,t);let r=Y(this,ad).get(n);return r||(r=this._perform(t),Y(this,ad).set(n,r),setTimeout(()=>{Y(this,ad).get(n)===r&&Y(this,ad).delete(n)},e)),await r},B5=async function(t,e,n){Ge(n<Wne,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const r=dx(t);try{return it(await this._perform({method:"call",transaction:r,blockTag:e}))}catch(s){if(!this.disableCcipRead&&hC(s)&&s.data&&n>=0&&e==="latest"&&r.to!=null&&cr(s.data,0,4)==="0x556f1830"){const a=s.data,i=await xs(r.to,this);let o;try{o=Jne(cr(s.data,4))}catch(h){Ge(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:a}})}Ge(o.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const c=await this.ccipReadFetch(r,o.calldata,o.urls);Ge(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:s.data,errorArgs:o.errorArgs}});const u={to:i,data:Xn([o.selector,Qne([c,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const h=await Qe(this,xn,B5).call(this,u,e,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:h}),h}}throw s}},F5=async function(t){const{value:e}=await ys({network:this.getNetwork(),value:t});return e},z0=async function(t,e,n){let r=this._getAddress(e),s=this._getBlockTag(n);return(typeof r!="string"||typeof s!="string")&&([r,s]=await Promise.all([r,s])),await Qe(this,xn,F5).call(this,Qe(this,xn,ia).call(this,Object.assign(t,{address:r,blockTag:s})))},U5=async function(t,e){if(Un(t,32))return await Qe(this,xn,ia).call(this,{method:"getBlock",blockHash:t,includeTransactions:e});let n=this._getBlockTag(t);return typeof n!="string"&&(n=await n),await Qe(this,xn,ia).call(this,{method:"getBlock",blockTag:n,includeTransactions:e})},L0=async function(t,e){let n=await h4(t,this);return n.type==="event"&&e&&e.length>0&&e[0].removed===!0&&(n=await h4({orphan:"drop-log",log:e[0]},this)),Y(this,ps).get(n.tag)||null},tw=async function(t){const e=await h4(t,this),n=e.tag;let r=Y(this,ps).get(n);return r||(r={subscriber:this._getSubscriber(e),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},Y(this,ps).set(n,r)),r};function Vne(t,e){try{const n=D5(t,e);if(n)return Pw(n)}catch{}return null}function D5(t,e){if(t==="0x")return null;try{const n=en(cr(t,e,e+32)),r=en(cr(t,n,n+32));return cr(t,n+32,n+32+r)}catch{}return null}function rI(t){const e=kr(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Zne(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Kne=new Uint8Array([]);function Qne(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(Kne),n+=32;for(let r=0;r<t.length;r++){const s=Kt(t[r]);e[r]=rI(n),e.push(rI(s.length)),e.push(Zne(s)),n+=32+Math.ceil(s.length/32)*32}return Xn(e)}const sI="0x0000000000000000000000000000000000000000000000000000000000000000";function Jne(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ge(kd(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=cr(t,0,32);Ge(cr(n,0,12)===cr(sI,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=cr(n,12);try{const r=[],s=en(cr(t,32,64)),a=en(cr(t,s,s+32)),i=cr(t,s+32);for(let o=0;o<a;o++){const c=Vne(i,o*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{Ge(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=D5(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Ge(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ge(cr(t,100,128)===cr(sI,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=cr(t,96,100);try{const r=D5(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Ge(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function ju(t,e){if(t.provider)return t.provider;Ge(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function aI(t,e){let n=dx(e);if(n.to!=null&&(n.to=xs(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),xs(r,t)]).then(([s,a])=>(ke(s.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),s))}else n.from=t.getAddress();return await ys(n)}let Yne=class{constructor(e){Pe(this,"provider"),Ut(this,{provider:e||null})}async getNonce(e){return ju(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await aI(this,e)}async populateTransaction(e){const n=ju(this,"populateTransaction"),r=await aI(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const i=yt(r.chainId);ke(i===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const a=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||a)?ke(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&a&&ke(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const i=await n.getFeeData();Ge(i.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice)}else{const i=await n.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(Ge(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Ge(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return await ys(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await ju(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return ju(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ju(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ju(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=ju(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=J$.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}authorize(e){Ge(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}};function Xne(t){return JSON.parse(JSON.stringify(t))}var Fs,qo,Af,Vu,jf,rg,gf,W5,H5;let sz=class{constructor(e){Le(this,gf),Le(this,Fs),Le(this,qo),Le(this,Af),Le(this,Vu),Le(this,jf),Le(this,rg),de(this,Fs,e),de(this,qo,null),de(this,Af,Qe(this,gf,W5).bind(this)),de(this,Vu,!1),de(this,jf,null),de(this,rg,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){Y(this,Vu)||(de(this,Vu,!0),Qe(this,gf,W5).call(this,-2))}stop(){Y(this,Vu)&&(de(this,Vu,!1),de(this,rg,!0),Qe(this,gf,H5).call(this),Y(this,Fs).off("block",Y(this,Af)))}pause(e){e&&Qe(this,gf,H5).call(this),Y(this,Fs).off("block",Y(this,Af))}resume(){this.start()}};Fs=new WeakMap,qo=new WeakMap,Af=new WeakMap,Vu=new WeakMap,jf=new WeakMap,rg=new WeakMap,gf=new WeakSet,W5=async function(t){try{Y(this,qo)==null&&de(this,qo,this._subscribe(Y(this,Fs)));let e=null;try{e=await Y(this,qo)}catch(s){if(!Kr(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(e==null){de(this,qo,null),Y(this,Fs)._recoverSubscriber(this,this._recover(Y(this,Fs)));return}const n=await Y(this,Fs).getNetwork();if(Y(this,jf)||de(this,jf,n),Y(this,jf).chainId!==n.chainId)throw new Error("chaid changed");if(Y(this,rg))return;const r=await Y(this,Fs).send("eth_getFilterChanges",[e]);await this._emitResults(Y(this,Fs),r)}catch(e){console.log("@TODO",e)}Y(this,Fs).once("block",Y(this,Af))},H5=function(){const t=Y(this,qo);t&&(de(this,qo,null),t.then(e=>{Y(this,Fs).destroyed||Y(this,Fs).send("eth_uninstallFilter",[e])}))};var yf;let ere=class extends sz{constructor(e,n){super(e),Le(this,yf),de(this,yf,Xne(n))}_recover(e){return new RC(e,Y(this,yf))}async _subscribe(e){return await e.send("eth_newFilter",[Y(this,yf)])}async _emitResults(e,n){for(const r of n)e.emit(Y(this,yf),e._wrapLog(r,e._network))}};yf=new WeakMap;let tre=class extends sz{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}};const nre="bigint,boolean,function,number,string,symbol".split(/,/g);function nw(t){if(t==null||nre.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(nw);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function rre(t){return new Promise(e=>{setTimeout(e,t)})}function Wh(t){return t&&t.toLowerCase()}function iI(t){return t&&typeof t.pollingInterval=="number"}const az={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};let p4=class extends Yne{constructor(e,n){super(e),Pe(this,"address"),n=un(n),Ut(this,{address:n})}connect(e){Ge(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const n=nw(e),r=[];if(n.from){const a=n.from;r.push((async()=>{const i=await xs(a,this.provider);ke(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=i})())}else n.from=this.address;if(n.gasLimit==null&&r.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;r.push((async()=>{n.to=await xs(a,this.provider)})())}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const n=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((s,a)=>{const i=[1e3,100];let o=0;const c=async()=>{try{const u=await this.provider.getTransaction(r);if(u!=null){s(u.replaceableTransaction(n));return}}catch(u){if(Kr(u,"CANCELLED")||Kr(u,"BAD_DATA")||Kr(u,"NETWORK_ERROR")||Kr(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=r,a(u);return}if(Kr(u,"INVALID_ARGUMENT")&&(o++,u.info==null&&(u.info={}),u.info.sendTransactionHash=r,o>10)){a(u);return}this.provider.emit("error",Jn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},i.pop()||4e3)};c()})}async signTransaction(e){const n=nw(e);if(n.from){const s=await xs(n.from,this.provider);ke(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=s}else n.from=this.address;const r=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const n=typeof e=="string"?ao(e):e;return await this.provider.send("personal_sign",[it(n),this.address.toLowerCase()])}async signTypedData(e,n,r){const s=nw(r),a=await OT.resolveNames(e,n,s,async i=>{const o=await xs(i);return ke(o!=null,"TypedData does not support null address","value",i),o});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(OT.getPayload(a.domain,n,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const n=typeof e=="string"?ao(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),it(n)])}};var Uf,B0,Sc,tl,qi,si,ra,rw,G5;let sre=class extends qne{constructor(e,n){super(e,n),Le(this,rw),Le(this,Uf),Le(this,B0),Le(this,Sc),Le(this,tl),Le(this,qi),Le(this,si),Le(this,ra),de(this,B0,1),de(this,Uf,Object.assign({},az,n||{})),de(this,Sc,[]),de(this,tl,null),de(this,si,null),de(this,ra,null);{let s=null;const a=new Promise(i=>{s=i});de(this,qi,{promise:a,resolve:s})}const r=this._getOption("staticNetwork");typeof r=="boolean"?(ke(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",n),r&&e!=null&&de(this,si,_c.from(e))):r&&(ke(e==null||r.matches(e),"staticNetwork MUST match network object","options",n),de(this,si,r))}_getOption(e){return Y(this,Uf)[e]}get _network(){return Ge(Y(this,si),"network is not available yet","NETWORK_ERROR"),Y(this,si)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&yt(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}const n=this.getRpcRequest(e);return n!=null?await this.send(n.method,n.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(Y(this,si))return Y(this,si)}else return e;return Y(this,ra)?await Y(this,ra):this.ready?(de(this,ra,(async()=>{try{const n=_c.from(yt(await this.send("eth_chainId",[])));return de(this,ra,null),n}catch(n){throw de(this,ra,null),n}})()),await Y(this,ra)):(de(this,ra,(async()=>{const n={id:Iw(this,B0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let r;try{r=(await this._send(n))[0],de(this,ra,null)}catch(s){throw de(this,ra,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return _c.from(yt(r.result));throw this.getRpcError(n,r)})()),await Y(this,ra))}_start(){Y(this,qi)==null||Y(this,qi).resolve==null||(Y(this,qi).resolve(),de(this,qi,null),(async()=>{for(;Y(this,si)==null&&!this.destroyed;)try{de(this,si,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Jn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await rre(1e3)}Qe(this,rw,G5).call(this)})())}async _waitUntilReady(){if(Y(this,qi)!=null)return await Y(this,qi).promise}_getSubscriber(e){return e.type==="pending"?new tre(this):e.type==="event"?this._getOption("polling")?new RC(this,e.filter):new ere(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new rz("orphan"):super._getSubscriber(e)}get ready(){return Y(this,qi)==null}getRpcTransaction(e){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let s=r;r==="gasLimit"&&(s="gas"),n[s]=ui(yt(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(n[r]=it(e[r]))}),e.accessList&&(n.accessList=eh(e.accessList)),e.blobVersionedHashes&&(n.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(n.authorizationList=e.authorizationList.map(r=>{const s=Q$(r);return{address:s.address,nonce:ui(s.nonce),chainId:ui(s.chainId),yParity:ui(s.signature.yParity),r:ui(s.signature.r),s:ui(s.signature.s)}})),n}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Wh(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Wh(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Wh(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Wh(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Wh):e.filter.address=Wh(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,n){const{method:r}=e,{error:s}=n;if(r==="eth_estimateGas"&&s.message){const o=s.message;if(!o.match(/revert/i)&&o.match(/insufficient funds/i))return Jn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Jn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:s}})}if(r==="eth_call"||r==="eth_estimateGas"){const o=q5(s),c=I5.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],o?o.data:null);return c.info={error:s,payload:e},c}const a=JSON.stringify(are(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Jn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){const o=e.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return Jn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o,info:{error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return Jn("nonce has already been used","NONCE_EXPIRED",{transaction:o,info:{error:s}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return Jn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o,info:{error:s}});if(a.match(/only replay-protected/i))return Jn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:o,info:{error:s}}})}let i=!!a.match(/the method .* does not exist/i);return i||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(i=!0),i?Jn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):Jn("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,n){if(this.destroyed)return Promise.reject(Jn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=Iw(this,B0)._++,s=new Promise((a,i)=>{Y(this,Sc).push({resolve:a,reject:i,payload:{method:e,params:n,id:r,jsonrpc:"2.0"}})});return Qe(this,rw,G5).call(this),s}async getSigner(e){e==null&&(e=0);const n=this.send("eth_accounts",[]);if(typeof e=="number"){const s=await n;if(e>=s.length)throw new Error("no such account");return new p4(this,s[e])}const{accounts:r}=await ys({network:this.getNetwork(),accounts:n});e=un(e);for(const s of r)if(un(s)===e)return new p4(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new p4(this,e))}destroy(){Y(this,tl)&&(clearTimeout(Y(this,tl)),de(this,tl,null));for(const{payload:e,reject:n}of Y(this,Sc))n(Jn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));de(this,Sc,[]),super.destroy()}};Uf=new WeakMap,B0=new WeakMap,Sc=new WeakMap,tl=new WeakMap,qi=new WeakMap,si=new WeakMap,ra=new WeakMap,rw=new WeakSet,G5=function(){if(Y(this,tl))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");de(this,tl,setTimeout(()=>{de(this,tl,null);const e=Y(this,Sc);for(de(this,Sc,[]);e.length;){const n=[e.shift()];for(;e.length&&n.length!==Y(this,Uf).batchMaxCount;)if(n.push(e.shift()),JSON.stringify(n.map(r=>r.payload)).length>Y(this,Uf).batchMaxSize){e.unshift(n.pop());break}(async()=>{const r=n.length===1?n[0].payload:n.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{const s=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:s});for(const{resolve:a,reject:i,payload:o}of n){if(this.destroyed){i(Jn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:o.method}));continue}const c=s.filter(u=>u.id===o.id)[0];if(c==null){const u=Jn("missing response for request","BAD_DATA",{value:s,info:{payload:o}});this.emit("error",u),i(u);continue}if("error"in c){i(this.getRpcError(o,c));continue}a(c.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(const{reject:a}of n)a(s)}})()}},t))};var Zu;let iz=class extends sre{constructor(e,n){super(e,n),Le(this,Zu);let r=this._getOption("pollingInterval");r==null&&(r=az.pollingInterval),de(this,Zu,r)}_getSubscriber(e){const n=super._getSubscriber(e);return iI(n)&&(n.pollingInterval=Y(this,Zu)),n}get pollingInterval(){return Y(this,Zu)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");de(this,Zu,e),this._forEachSubscriber(n=>{iI(n)&&(n.pollingInterval=Y(this,Zu))})}};Zu=new WeakMap;var F0;let In=class extends iz{constructor(e,n,r){e==null&&(e="http://localhost:8545"),super(n,r),Le(this,F0),typeof e=="string"?de(this,F0,new zd(e)):de(this,F0,e.clone())}_getConnection(){return Y(this,F0).clone()}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){const n=this._getConnection();n.body=JSON.stringify(e),n.setHeader("content-type","application/json");const r=await n.send();r.assertOk();let s=r.bodyJson;return Array.isArray(s)||(s=[s]),s}};F0=new WeakMap;function q5(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Un(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=q5(t[e]);if(n)return n}return null}if(typeof t=="string")try{return q5(JSON.parse(t))}catch{}return null}function V5(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)V5(t[n],e);if(typeof t=="string")try{return V5(JSON.parse(t),e)}catch{}}}function are(t){const e=[];return V5(t,e),e}var U0,D0;const ire=class bf extends iz{constructor(e,n,r){const s=Object.assign({},r??{},{batchMaxCount:1});ke(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(n,s),Le(this,U0),Le(this,D0),de(this,D0,null),r&&r.providerInfo&&de(this,D0,r.providerInfo),de(this,U0,async(a,i)=>{const o={method:a,params:i};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const c=await e.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return Y(this,D0)}async send(e,n){return await this._start(),await super.send(e,n)}async _send(e){ke(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const n=await Y(this,U0).call(this,e.method,e.params||[]);return[{id:e.id,result:n}]}catch(n){return[{id:e.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(e,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(e,n)}async hasSigner(e){e==null&&(e=0);const n=await this.send("eth_accounts",[]);return typeof e=="number"?n.length>e:(e=e.toLowerCase(),n.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await Y(this,U0).call(this,"eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new bf(e.provider);const n=e.window?e.window:typeof window<"u"?window:null;if(n==null)return null;const r=e.anyProvider;if(r&&n.ethereum)return new bf(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const s=e.timeout?e.timeout:300;return s===0?null:await new Promise((a,i)=>{let o=[];const c=f=>{o.push(f.detail),r&&u()},u=()=>{if(clearTimeout(h),o.length)if(e&&e.filter){const f=e.filter(o.map(m=>Object.assign({},m.info)));if(f==null)a(null);else if(f instanceof bf)a(f);else{let m=null;if(f.uuid&&(m=o.filter(g=>f.uuid===g.info.uuid)[0]),m){const{provider:g,info:b}=m;a(new bf(g,void 0,{providerInfo:b}))}else i(Jn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:m}=o[0];a(new bf(f,void 0,{providerInfo:m}))}else a(null);n.removeEventListener("eip6963:announceProvider",c)},h=setTimeout(()=>{u()},s);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};U0=new WeakMap,D0=new WeakMap;let wr=ire;const px=(t,e=px,n=e.f||(e.f=["assets/index-ChhyusO2.js","assets/wagmi-Ck0DqXmB.js","assets/vendor-CgHzTxSQ.js","assets/VirtualList-CkN222eY.js"]))=>t.map(r=>n[r]);var ore=Object.defineProperty,lre=(t,e,n)=>e in t?ore(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cre=(t,e,n)=>lre(t,e+"",n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();var a1={},oI;function ure(){if(oI)return a1;oI=1;var t=N9();return a1.createRoot=t.createRoot,a1.hydrateRoot=t.hydrateRoot,a1}var dre=ure();const hre=xp(dre);var io=N9();const oz=xp(io);/**
* @remix-run/router v1.15.3
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(this,arguments)}var Oc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oc||(Oc={}));const lI="popstate";function fre(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:i,hash:o}=r.location;return Z5("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dw(s)}return mre(e,n,null,t)}function Er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lz(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pre(){return Math.random().toString(36).substr(2,8)}function cI(t,e){return{usr:t.state,key:t.key,idx:e}}function Z5(t,e,n,r){return n===void 0&&(n=null),Sg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pp(e):e,{state:n,key:e&&e.key||r||pre()})}function Dw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Pp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mre(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=Oc.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Sg({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function f(){o=Oc.Pop;let w=h(),x=w==null?null:w-u;u=w,c&&c({action:o,location:y.location,delta:x})}function m(w,x){o=Oc.Push;let N=Z5(y.location,w,x);u=h()+1;let E=cI(N,u),C=y.createHref(N);try{i.pushState(E,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(C)}a&&c&&c({action:o,location:y.location,delta:1})}function g(w,x){o=Oc.Replace;let N=Z5(y.location,w,x);u=h();let E=cI(N,u),C=y.createHref(N);i.replaceState(E,"",C),a&&c&&c({action:o,location:y.location,delta:0})}function b(w){let x=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof w=="string"?w:Dw(w);return N=N.replace(/ $/,"%20"),Er(x,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,x)}let y={get action(){return o},get location(){return t(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(lI,f),c=w,()=>{s.removeEventListener(lI,f),c=null}},createHref(w){return e(s,w)},createURL:b,encodeLocation(w){let x=b(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(w){return i.go(w)}};return y}var uI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uI||(uI={}));function gre(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Pp(e):e,s=$C(r.pathname||"/",n);if(s==null)return null;let a=cz(t);yre(a);let i=null;for(let o=0;i==null&&o<a.length;++o){let c=Tre(s);i=Sre(a[o],c)}return i}function cz(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Er(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Lc([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(Er(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cz(a.children,e,h,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Cre(u,a.index),routesMeta:h})};return t.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of uz(a.path))s(a,i,c)}),e}function uz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=uz(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function yre(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ere(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bre=/^:[\w-]+$/,wre=3,vre=2,xre=1,Nre=10,kre=-2,dI=t=>t==="*";function Cre(t,e){let n=t.split("/"),r=n.length;return n.some(dI)&&(r+=kre),e&&(r+=vre),n.filter(s=>!dI(s)).reduce((s,a)=>s+(bre.test(a)?wre:a===""?xre:Nre),r)}function Ere(t,e){return t.length===e.length&&t.slice(0,-1).every((n,r)=>n===e[r])?t[t.length-1]-e[e.length-1]:0}function Sre(t,e){let{routesMeta:n}=t,r={},s="/",a=[];for(let i=0;i<n.length;++i){let o=n[i],c=i===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=Are({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u);if(!h)return null;Object.assign(r,h.params);let f=o.route;a.push({params:r,pathname:Lc([s,h.pathname]),pathnameBase:Ore(Lc([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Lc([s,h.pathnameBase]))}return a}function Are(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jre(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let b=o[h]||"";i=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[h];return m&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:t}}function jre(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lz(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,o)=>(r.push({paramName:i,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Tre(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lz(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $C(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ire(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Pp(t):t;return{pathname:n?n.startsWith("/")?n:_re(n,e):e,search:Rre(r),hash:$re(s)}}function _re(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function m4(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pre(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dz(t,e){let n=Pre(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hz(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Pp(t):(s=Sg({},t),Er(!s.pathname||!s.pathname.includes("?"),m4("?","pathname","search",s)),Er(!s.pathname||!s.pathname.includes("#"),m4("#","pathname","hash",s)),Er(!s.search||!s.search.includes("#"),m4("#","search","hash",s)));let a=t===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=n;else{let f=e.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}o=f>=0?e[f]:"/"}let c=Ire(s,o),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Lc=t=>t.join("/").replace(/\/\/+/g,"/"),Ore=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rre=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$re=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Mre(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fz=["post","put","patch","delete"];new Set(fz);const zre=["get",...fz];new Set(zre);/**
* React Router v6.22.3
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}const MC=j.createContext(null),Lre=j.createContext(null),nh=j.createContext(null),mx=j.createContext(null),Xc=j.createContext({outlet:null,matches:[],isDataRoute:!1}),pz=j.createContext(null);function Bre(t,e){let{relative:n}=e===void 0?{}:e;fy()||Er(!1);let{basename:r,navigator:s}=j.useContext(nh),{hash:a,pathname:i,search:o}=gz(t,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Lc([r,i])),s.createHref({pathname:c,search:o,hash:a})}function fy(){return j.useContext(mx)!=null}function py(){return fy()||Er(!1),j.useContext(mx).location}function mz(t){j.useContext(nh).static||j.useLayoutEffect(t)}function Xr(){let{isDataRoute:t}=j.useContext(Xc);return t?Yre():Fre()}function Fre(){fy()||Er(!1);let t=j.useContext(MC),{basename:e,future:n,navigator:r}=j.useContext(nh),{matches:s}=j.useContext(Xc),{pathname:a}=py(),i=JSON.stringify(dz(s,n.v7_relativeSplatPath)),o=j.useRef(!1);return mz(()=>{o.current=!0}),j.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=hz(c,JSON.parse(i),a,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Lc([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,i,a,t])}function my(){let{matches:t}=j.useContext(Xc),e=t[t.length-1];return e?e.params:{}}function gz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(nh),{matches:s}=j.useContext(Xc),{pathname:a}=py(),i=JSON.stringify(dz(s,r.v7_relativeSplatPath));return j.useMemo(()=>hz(t,JSON.parse(i),a,n==="path"),[t,i,a,n])}function Ure(t,e){return Dre(t,e)}function Dre(t,e,n,r){fy()||Er(!1);let{navigator:s}=j.useContext(nh),{matches:a}=j.useContext(Xc),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=py(),h;if(e){var f;let w=typeof e=="string"?Pp(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Er(!1),h=w}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=gre(t,{pathname:g}),y=Vre(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Lc([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Lc([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return e&&y?j.createElement(mx.Provider,{value:{location:Ag({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Oc.Pop}},y):y}function Wre(){let t=Jre(),e=Mre(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:r},n):null,null)}const Hre=j.createElement(Wre,null);class Gre extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Xc.Provider,{value:this.props.routeContext},j.createElement(pz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qre(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(MC);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Xc.Provider,{value:e},r)}function Vre(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if((a=n)!=null&&a.errors)t=n.matches;else return null}let i=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&o?.[f.route.id]);h>=0||Er(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,m)=>{let g,b=!1,y=null,w=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||Hre,c&&(u<0&&m===0?(Xre("route-fallback"),b=!0,w=null):u===m&&(b=!0,w=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),N=()=>{let E;return g?E=y:b?E=w:f.route.Component?E=j.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,j.createElement(qre,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(Gre,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:N(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):N()},null)}var yz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yz||{}),bz=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bz||{});function Zre(t){let e=j.useContext(MC);return e||Er(!1),e}function Kre(t){let e=j.useContext(Lre);return e||Er(!1),e}function Qre(t){let e=j.useContext(Xc);return e||Er(!1),e}function wz(t){let e=Qre(),n=e.matches[e.matches.length-1];return n.route.id||Er(!1),n.route.id}function Jre(){var t;let e=j.useContext(pz),n=Kre(),r=wz();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Yre(){let{router:t}=Zre(yz.UseNavigateStable),e=wz(bz.UseNavigateStable),n=j.useRef(!1);return mz(()=>{n.current=!0}),j.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Ag({fromRouteId:e},s)))},[t,e])}const hI={};function Xre(t,e,n){hI[t]||(hI[t]=!0)}function nr(t){Er(!1)}function ese(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Oc.Pop,navigator:a,static:i=!1,future:o}=t;fy()&&Er(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:a,static:i,future:Ag({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=Pp(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:b="default"}=r,y=j.useMemo(()=>{let w=$C(h,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:b},navigationType:s}},[c,h,f,m,g,b,s]);return y==null?null:j.createElement(nh.Provider,{value:u},j.createElement(mx.Provider,{children:n,value:y}))}function tse(t){let{children:e,location:n}=t;return Ure(K5(e),n)}new Promise(()=>{});function K5(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let a=[...e,s];if(r.type===j.Fragment){n.push.apply(n,K5(r.props.children,a));return}r.type!==nr&&Er(!1),!r.props.index||!r.props.children||Er(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=K5(r.props.children,a)),n.push(i)}),n}/**
* React Router DOM v6.22.3
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Q5(){return Q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q5.apply(this,arguments)}function nse(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function rse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sse(t,e){return t.button===0&&(!e||e==="_self")&&!rse(t)}const ase=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ise="6";try{window.__reactRouterVersion=ise}catch{}const ose="startTransition",fI=xk[ose];function lse(t){let{basename:e,children:n,future:r,window:s}=t,a=j.useRef();a.current==null&&(a.current=fre({window:s,v5Compat:!0}));let i=a.current,[o,c]=j.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=j.useCallback(f=>{u&&fI?fI(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>i.listen(h),[i,h]),j.createElement(ese,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const cse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",use=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=j.forwardRef(function(t,e){let{onClick:n,relative:r,reloadDocument:s,replace:a,state:i,target:o,to:c,preventScrollReset:u,unstable_viewTransition:h}=t,f=nse(t,ase),{basename:m}=j.useContext(nh),g,b=!1;if(typeof c=="string"&&use.test(c)&&(g=c,cse))try{let N=new URL(window.location.href),E=c.startsWith("//")?new URL(N.protocol+c):new URL(c),C=$C(E.pathname,m);E.origin===N.origin&&C!=null?c=C+E.search+E.hash:b=!0}catch{}let y=Bre(c,{relative:r}),w=dse(c,{replace:a,state:i,target:o,preventScrollReset:u,relative:r,unstable_viewTransition:h});function x(N){n&&n(N),N.defaultPrevented||w(N)}return j.createElement("a",Q5({},f,{href:g||y,onClick:b||s?n:x,ref:e,target:o}))});var pI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pI||(pI={}));var mI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mI||(mI={}));function dse(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,unstable_viewTransition:o}=e===void 0?{}:e,c=Xr(),u=py(),h=gz(t,{relative:i});return j.useCallback(f=>{if(sse(f,n)){f.preventDefault();let m=r!==void 0?r:Dw(u)===Dw(h);c(t,{replace:m,state:s,preventScrollReset:a,relative:i,unstable_viewTransition:o})}},[u,c,h,r,s,n,t,a,i,o])}const Ww={projectId:"24290d0dec9f291cdba39d39f76c1c33",chains:[{id:50312,name:"Somnia Testnet",nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},rpcUrls:{default:{http:["https://dream-rpc.somnia.network/"]},public:{http:["https://dream-rpc.somnia.network/"]}},blockExplorers:{default:{name:"Shannon Explorer",url:"https://shannon-explorer.somnia.network/"}},testnet:!0,chainNamespace:"eip155"}]},i1=Ww.chains[0],yo=()=>{const{address:t,isConnected:e}=oJ(),n=KR(),{data:r}=ZJ({address:t}),{disconnect:s}=XJ(),{connect:a,connectors:i}=JJ(),{switchChainAsync:o}=eY(),[c,u]=j.useState(null),[h,f]=j.useState(!1),m=async(x,N)=>{if(!(!x||!N))try{f(!0);const E=await(await fetch("https://dream-rpc.somnia.network/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBalance",params:[x,"latest"],id:1})})).json();if(E.result){const C=BigInt(E.result),k=Number(C)/Math.pow(10,18);u(k.toFixed(4))}}catch(E){console.error("Failed to fetch balance:",E),u("0.00")}finally{f(!1)}};j.useEffect(()=>{t&&n?m(t,n):u(null)},[t,n]);const g=async x=>{try{if(console.log("[Wallet] switchNetwork requested:",x,"current:",n),n===x)return console.log("[Wallet] already on target chain"),{success:!0};if(typeof o=="function")try{return console.log("[Wallet] trying wagmi switchChainAsync"),await o({chainId:x,chain:i1}),console.log("[Wallet] wagmi switchChainAsync success"),{success:!0}}catch(N){console.warn("[Wallet] wagmi switchChainAsync error:",N?.message||N)}if(typeof window.ethereum<"u"){try{await window.ethereum.request({method:"eth_requestAccounts"})}catch{}try{return console.log("[Wallet] trying window.ethereum wallet_switchEthereumChain"),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${x.toString(16)}`}]}),console.log("[Wallet] window.ethereum switch success"),{success:!0}}catch(N){if(console.warn("[Wallet] window.ethereum switch error:",N?.code,N?.message||N),N.code===4902)try{return console.log("[Wallet] trying wallet_addEthereumChain"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${x.toString(16)}`,chainName:"Somnia Testnet",nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},rpcUrls:["https://dream-rpc.somnia.network/"],blockExplorerUrls:["https://shannon-explorer.somnia.network/"]}]}),await new Promise(E=>setTimeout(E,300)),console.log("[Wallet] addEthereumChain success, retrying wagmi switch"),typeof o=="function"?(await o({chainId:x,chain:i1}),{success:!0}):{success:!0}}catch(E){return console.error("Failed to add network:",E),{success:!1,error:E}}return{success:!1,error:N}}}return{success:!1,error:"No ethereum provider available"}}catch(N){return console.error("[Wallet] switchNetwork fatal error:",N),{success:!1,error:N}}},b=async x=>null,y=async x=>{try{console.log("[Wallet] connect requested",x);const N=x?.connectorId?i.find(E=>E.id===x.connectorId):x?.connectorName?i.find(E=>(E.name||"").toLowerCase().includes(String(x.connectorName).toLowerCase())):null;if(N){const E=await a({connector:N,chainId:i1.id});return console.log("[Wallet] connect via preferred result:",E),{success:!0,result:E}}if(i.length>0){const E=await a({connector:i[0],chainId:i1.id});return console.log("[Wallet] connect via fallback result:",E),{success:!0,result:E}}return{success:!1,error:new Error("No connectors available")}}catch(N){return console.error("Failed to connect:",N),{success:!1,error:N}}},w=async()=>{try{u(null),f(!1),s()}catch(x){throw console.error("Failed to disconnect:",x),x}};return{address:t,isConnected:e,chainId:n,isLoading:!1,connect:y,connectors:i,disconnect:w,switchNetwork:g,balance:c||(r?Number(r.value)/Math.pow(10,r.decimals):null),isLoadingBalance:h,getEnsName:b,reown:{appKitState:{initialized:!0},appKitNetwork:{chainId:n},appKitAccount:{address:t},appKitBalance:{balance:r},appKit:null,disconnectHook:{disconnect:w}}}},hse=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[s,a]=j.useState(null),[i,o]=j.useState(0),c=()=>Date.now()-i>6e5,u=async(h=!1)=>{if(!h&&!c()&&t.length>0){console.log("📦 Using cached all collections data");return}try{console.log("🔄 Fetching all collections from API...");const f=new AbortController,m=setTimeout(()=>f.abort(),1e4),g=await fetch("/api/active-collections",{method:"GET",headers:{"Content-Type":"application/json"},signal:f.signal});if(clearTimeout(m),!g.ok)throw g.status===404?new Error("Collections data not available yet. Please wait for the indexer to run."):g.status===429?new Error("Too many requests. Please wait a moment and try again."):new Error(`HTTP ${g.status}: ${g.statusText}`);const b=await g.json();console.log("✅ Received all collections from API:",{totalCollections:b.totalCollections,validCollections:b.validCollections,activeCollections:b.activeCollections,lastUpdate:b.lastUpdate,collections:b.collections.map(y=>({address:y.address,name:y.name,description:y.description,symbol:y.symbol,banner:y.banner,metadataBanner:y.metadata?.banner,cover:y.cover,hasBanner:!!(y.banner||y.metadata?.banner),hasCover:!!y.cover,nfts:y.nfts||[],hasNFTs:!!(y.nfts&&y.nfts.length>0),firstNFTImage:y.nfts&&y.nfts.length>0?y.nfts[0].image||y.nfts[0].image_url||y.nfts[0].media_url:null,nftsCount:y.nfts?.length||0,firstNFT:y.nfts?.[0]||null}))}),e(b.collections||[]),o(Date.now()),a(null)}catch(f){console.error("❌ Failed to fetch all collections:",f),f.name==="AbortError"?a("Request timeout. Please check your connection."):f.message.includes("Too many requests")?a("Server is busy. Please wait a moment and refresh."):a(f.message),t.length===0&&e([])}finally{r(!1)}};return j.useEffect(()=>{u(!0);const h=setInterval(()=>u(),6e5);return()=>clearInterval(h)},[]),{collections:j.useMemo(()=>t,[t]),loading:n,error:s,refetch:()=>u(!0)}},vz=j.createContext(),zC=()=>{const t=j.useContext(vz);if(!t)throw new Error("useSearch must be used within a SearchProvider");return t},fse=({children:t})=>{const[e,n]=j.useState(""),[r,s]=j.useState({priceRange:"all",supplyRange:"all",status:"all"}),[a,i]=j.useState(!1),[o,c]=j.useState({collections:[],nfts:[],isLoading:!1}),[u,h]=j.useState(!1),[f,m]=j.useState([]),{address:g,isConnected:b}=yo(),{collections:y}=hse();j.useEffect(()=>{y&&y.length>0&&console.log("🔍 SearchContext received allCollections:",{total:y.length,sample:y.slice(0,3).map(I=>({name:I.name,nfts:I.nfts?.length||0,firstNFTImage:I.nfts?.[0]?.image,firstNFT:I.nfts?.[0]}))})},[y]);const w=j.useCallback((I,$)=>{if(!$||!I)return[];const H=$.toLowerCase(),M=I.filter(B=>B.name?.toLowerCase().includes(H)||B.description?.toLowerCase().includes(H)||B.symbol?.toLowerCase().includes(H));return M.length>0&&console.log("🔍 SearchCollections results:",{term:$,total:M.length,sample:M.slice(0,3).map(B=>({name:B.name,nfts:B.nfts?.length||0,firstNFTImage:B.nfts?.[0]?.image,firstNFT:B.nfts?.[0]}))}),M},[]),x=j.useCallback((I,$)=>{if(!$||!I)return[];const H=$.toLowerCase(),M=I.filter(B=>B.metadata?.name?.toLowerCase().includes(H)||B.metadata?.description?.toLowerCase().includes(H)||B.collectionName?.toLowerCase().includes(H)||B.id?.toString().includes(H)||B.token?.name?.toLowerCase().includes(H)||B.token?.symbol?.toLowerCase().includes(H));return M.length>0&&console.log("🔍 SearchNFTs results:",{term:$,total:M.length,sample:M.slice(0,3).map(B=>({id:B.id,name:B.metadata?.name,collectionName:B.collectionName,directImage:B.image,metadataImage:B.metadata?.image}))}),M},[]),N=j.useCallback(async()=>{if(!b||!g)return[];try{console.log("🔍 Fetching user NFTs for search from API...");const I=await fetch(`https://somnia.w3us.site/api/v2/addresses/${g}/nft/collections?type=ERC-721%2CERC-404%2CERC-1155`);if(!I.ok)return console.warn("API response not ok:",I.status),[];const $=await I.json();if(!$.items||!Array.isArray($.items))return console.warn("Invalid API response format"),[];let H=$.items.flatMap(B=>!B.token_instances||!Array.isArray(B.token_instances)?[]:B.token_instances.map(O=>({...O,id:O.id,collectionName:B.token?.name||"Unknown",collectionSymbol:B.token?.symbol||"",tokenType:B.token?.type||"ERC-721",token:B.token||{},isFactoryNFT:B.token?.address?.toLowerCase()==="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09".toLowerCase()})));if(H.length>0&&console.log("🔍 fetchUserNFTs received NFTs:",{total:H.length,sample:H.slice(0,3).map(B=>({id:B.id,name:B.metadata?.name,collectionName:B.collectionName,directImage:B.image,metadataImage:B.metadata?.image}))}),!H||H.length===0)try{const B=await fetch(`https://somnia.w3us.site/api/v2/addresses/${g}/nft/tokens?type=ERC-721%2CERC-404%2CERC-1155`);if(B.ok){const O=await B.json();Array.isArray(O.items)&&(H=O.items.map(z=>({...z,id:z.id,collectionName:z.token?.name||"Unknown",collectionSymbol:z.token?.symbol||"",tokenType:z.token?.type||"ERC-721",token:z.token||{},isFactoryNFT:z.token?.address?.toLowerCase()==="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09".toLowerCase()})))}}catch(B){console.warn("Fallback token fetch failed:",B.message)}const M=H.filter((B,O,z)=>O===z.findIndex(G=>G.id===B.id&&G.token?.address===B.token?.address));return console.log("✅ Fetched user NFTs for search:",M.length),M}catch(I){return console.warn("Error fetching user NFTs for search:",I),[]}},[b,g]);j.useEffect(()=>{let I=!1;return(async()=>{try{if(b&&g){const $=await N();I||m(Array.isArray($)?$:[])}else m([])}catch($){console.warn("Failed to load user NFTs for search:",$?.message||$),I||m([])}})(),()=>{I=!0}},[b,g,N]);const E=j.useCallback(async I=>{if(!I||I.trim().length<2){c({collections:[],nfts:[],isLoading:!1});return}c($=>({...$,isLoading:!0}));try{const $=w(y,I),H=x(f,I);console.log("🔍 performSearch results:",{term:I,collections:{total:$.length,sample:$.slice(0,3).map(M=>({name:M.name,nfts:M.nfts?.length||0,firstNFTImage:M.nfts?.[0]?.image}))},nfts:{total:H.length,sample:H.slice(0,3).map(M=>({id:M.id,name:M.metadata?.name,collectionName:M.collectionName}))}}),c({collections:$,nfts:H,isLoading:!1})}catch($){console.error("Search error:",$),c({collections:[],nfts:[],isLoading:!1})}},[y,f,w,x]),C=j.useCallback(I=>{n(I),I&&I.trim().length>=2?(console.log("🔍 updateSearch called with term:",I),E(I),h(!0)):c({collections:[],nfts:[],isLoading:!1})},[E]);j.useCallback(()=>{console.log("🔍 handleSearchFocus called, searchTerm:",e),e&&e.trim().length>=2&&h(!0)},[e]),j.useCallback(()=>{console.log("🔍 handleSearchBlur called"),setTimeout(()=>{h(!1)},200)},[]),j.useCallback(()=>{console.log("🔍 handleViewAllCollections called, collections:",o.collections.length),h(!1)},[o.collections.length]),j.useCallback(()=>{console.log("🔍 handleViewAllNFTs called, nfts:",o.nfts.length),h(!1)},[o.nfts.length]),j.useCallback(I=>{console.log("🔍 handleCollectionClick called for collection:",{name:I.name,address:I.address,nfts:I.nfts?.length||0,firstNFTImage:I.nfts?.[0]?.image}),h(!1)},[]),j.useCallback(I=>{console.log("🔍 handleNFTClick called for NFT:",{id:I.id,name:I.metadata?.name,collectionName:I.collectionName,directImage:I.image,metadataImage:I.metadata?.image}),h(!1)},[]);const k=j.useCallback(I=>{console.log("🔍 updateFilters called with:",I),s($=>({...$,...I}))},[]);j.useCallback(()=>{console.log("🔍 resetFilters called"),s({priceRange:"all",supplyRange:"all",status:"all"})},[]);const A=j.useCallback(()=>{console.log("🔍 clearSearch called"),n(""),c({collections:[],nfts:[],isLoading:!1}),h(!1),i(!1)},[]),_=j.useCallback(()=>{h(!1)},[]);j.useCallback(()=>{console.log("🔍 toggleSearch called, current state:",{isSearchActive:a,showSearchResults:u}),i(!a),a||h(!1)},[a]),j.useEffect(()=>{e.length>=2&&C(e)},[y,e,C]),j.useCallback(()=>{console.log("🔍 getFilteredResults called with filters:",r);let I=o.collections,$=o.nfts;return r.priceRange!=="all"&&console.log("🔍 Applying price filter:",r.priceRange),r.supplyRange!=="all"&&console.log("🔍 Applying supply filter:",r.supplyRange),r.status!=="all"&&console.log("🔍 Applying status filter:",r.status),{collections:I,nfts:$}},[o,r]),j.useCallback(()=>{console.log("🔍 getSearchStats called");const I=o.collections.length+o.nfts.length,$=I>0;return console.log("🔍 Search stats:",{totalResults:I,hasResults:$,collections:o.collections.length,nfts:o.nfts.length,isLoading:o.isLoading}),{totalResults:I,hasResults:$,collections:o.collections.length,nfts:o.nfts.length,isLoading:o.isLoading}},[o]),j.useCallback(I=>{if(!I||I.length<1)return[];console.log("🔍 getSearchSuggestions called with:",I);const $=[];if(y){const H=y.filter(M=>M.name?.toLowerCase().includes(I.toLowerCase())).slice(0,3).map(M=>({type:"collection",name:M.name,description:M.description,image:M.nfts?.[0]?.image||M.cover}));$.push(...H),console.log("🔍 Collection suggestions:",H)}if(f){const H=f.filter(M=>M.metadata?.name?.toLowerCase().includes(I.toLowerCase())).slice(0,2).map(M=>({type:"nft",name:M.metadata?.name,description:M.collectionName,image:M.image||M.metadata?.image}));$.push(...H),console.log("🔍 NFT suggestions:",H)}return console.log("🔍 Total suggestions:",$.length),$},[y,f]),j.useCallback(()=>{console.log("🔍 getSearchHistory called");const I=[];return console.log("🔍 Search history:",I),I},[]),j.useCallback(I=>{console.log("🔍 addRecentSearch called with:",I),console.log("🔍 Adding recent search:",I)},[]),j.useCallback(()=>{console.log("🔍 clearRecentSearches called"),console.log("🔍 Clearing recent searches")},[]);const P={searchTerm:e,filters:r,isSearchActive:a,searchResults:o,showSearchResults:u,updateSearch:C,updateFilters:k,clearSearch:A,hideSearchResults:_};return l.jsx(vz.Provider,{value:P,children:t})};var gI={},Um={},yI;function pse(){if(yI)return Um;yI=1,Um.byteLength=o,Um.toByteArray=u,Um.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=r.length;s<a;++s)t[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function i(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");y===-1&&(y=b);var w=y===b?0:4-y%4;return[y,w]}function o(g){var b=i(g),y=b[0],w=b[1];return(y+w)*3/4-w}function c(g,b,y){return(b+y)*3/4-y}function u(g){var b,y=i(g),w=y[0],x=y[1],N=new n(c(g,w,x)),E=0,C=x>0?w-4:w,k;for(k=0;k<C;k+=4)b=e[g.charCodeAt(k)]<<18|e[g.charCodeAt(k+1)]<<12|e[g.charCodeAt(k+2)]<<6|e[g.charCodeAt(k+3)],N[E++]=b>>16&255,N[E++]=b>>8&255,N[E++]=b&255;return x===2&&(b=e[g.charCodeAt(k)]<<2|e[g.charCodeAt(k+1)]>>4,N[E++]=b&255),x===1&&(b=e[g.charCodeAt(k)]<<10|e[g.charCodeAt(k+1)]<<4|e[g.charCodeAt(k+2)]>>2,N[E++]=b>>8&255,N[E++]=b&255),N}function h(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function f(g,b,y){for(var w,x=[],N=b;N<y;N+=3)w=(g[N]<<16&16711680)+(g[N+1]<<8&65280)+(g[N+2]&255),x.push(h(w));return x.join("")}function m(g){for(var b,y=g.length,w=y%3,x=[],N=16383,E=0,C=y-w;E<C;E+=N)x.push(f(g,E,E+N>C?C:E+N));return w===1?(b=g[y-1],x.push(t[b>>2]+t[b<<4&63]+"==")):w===2&&(b=(g[y-2]<<8)+g[y-1],x.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),x.join("")}return Um}var g4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var bI;function mse(){return bI||(bI=1,g4.read=function(t,e,n,r,s){var a,i,o=s*8-r-1,c=(1<<o)-1,u=c>>1,h=-7,f=n?s-1:0,m=n?-1:1,g=t[e+f];for(f+=m,a=g&(1<<-h)-1,g>>=-h,h+=o;h>0;a=a*256+t[e+f],f+=m,h-=8);for(i=a&(1<<-h)-1,a>>=-h,h+=r;h>0;i=i*256+t[e+f],f+=m,h-=8);if(a===0)a=1-u;else{if(a===c)return i?NaN:(g?-1:1)*(1/0);i=i+Math.pow(2,r),a=a-u}return(g?-1:1)*i*Math.pow(2,a-r)},g4.write=function(t,e,n,r,s,a){var i,o,c,u=a*8-s-1,h=(1<<u)-1,f=h>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:a-1,b=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,i=h):(i=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-i))<1&&(i--,c*=2),i+f>=1?e+=m/c:e+=m*Math.pow(2,1-f),e*c>=2&&(i++,c/=2),i+f>=h?(o=0,i=h):i+f>=1?(o=(e*c-1)*Math.pow(2,s),i=i+f):(o=e*Math.pow(2,f-1)*Math.pow(2,s),i=0));s>=8;t[n+g]=o&255,g+=b,o/=256,s-=8);for(i=i<<s|o,u+=s;u>0;t[n+g]=i&255,g+=b,i/=256,u-=8);t[n+g-b]|=y*128}),g4}/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/var wI;function gx(){return wI||(wI=1,function(t){const e=pse(),n=mse(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const T=new Uint8Array(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,Uint8Array.prototype),Object.setPrototypeOf(T,L),T.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(T){if(T>s)throw new RangeError('The value "'+T+'" is invalid for option "size"');const L=new Uint8Array(T);return Object.setPrototypeOf(L,o.prototype),L}function o(T,L,q){if(typeof T=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(T)}return c(T,L,q)}o.poolSize=8192;function c(T,L,q){if(typeof T=="string")return m(T,L);if(ArrayBuffer.isView(T))return b(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(be(T,ArrayBuffer)||T&&be(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(T,SharedArrayBuffer)||T&&be(T.buffer,SharedArrayBuffer)))return y(T,L,q);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=T.valueOf&&T.valueOf();if(le!=null&&le!==T)return o.from(le,L,q);const ge=w(T);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return o.from(T[Symbol.toPrimitive]("string"),L,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}o.from=function(T,L,q){return c(T,L,q)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function h(T,L,q){return u(T),T<=0?i(T):L!==void 0?typeof q=="string"?i(T).fill(L,q):i(T).fill(L):i(T)}o.alloc=function(T,L,q){return h(T,L,q)};function f(T){return u(T),i(T<0?0:x(T)|0)}o.allocUnsafe=function(T){return f(T)},o.allocUnsafeSlow=function(T){return f(T)};function m(T,L){if((typeof L!="string"||L==="")&&(L="utf8"),!o.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const q=E(T,L)|0;let le=i(q);const ge=le.write(T,L);return ge!==q&&(le=le.slice(0,ge)),le}function g(T){const L=T.length<0?0:x(T.length)|0,q=i(L);for(let le=0;le<L;le+=1)q[le]=T[le]&255;return q}function b(T){if(be(T,Uint8Array)){const L=new Uint8Array(T);return y(L.buffer,L.byteOffset,L.byteLength)}return g(T)}function y(T,L,q){if(L<0||T.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<L+(q||0))throw new RangeError('"length" is outside of buffer bounds');let le;return L===void 0&&q===void 0?le=new Uint8Array(T):q===void 0?le=new Uint8Array(T,L):le=new Uint8Array(T,L,q),Object.setPrototypeOf(le,o.prototype),le}function w(T){if(o.isBuffer(T)){const L=x(T.length)|0,q=i(L);return q.length===0||T.copy(q,0,0,L),q}if(T.length!==void 0)return typeof T.length!="number"||Be(T.length)?i(0):g(T);if(T.type==="Buffer"&&Array.isArray(T.data))return g(T.data)}function x(T){if(T>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return T|0}function N(T){return+T!=T&&(T=0),o.alloc(+T)}o.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==o.prototype},o.compare=function(T,L){if(be(T,Uint8Array)&&(T=o.from(T,T.offset,T.byteLength)),be(L,Uint8Array)&&(L=o.from(L,L.offset,L.byteLength)),!o.isBuffer(T)||!o.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===L)return 0;let q=T.length,le=L.length;for(let ge=0,Ce=Math.min(q,le);ge<Ce;++ge)if(T[ge]!==L[ge]){q=T[ge],le=L[ge];break}return q<le?-1:le<q?1:0},o.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(T,L){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return o.alloc(0);let q;if(L===void 0)for(L=0,q=0;q<T.length;++q)L+=T[q].length;const le=o.allocUnsafe(L);let ge=0;for(q=0;q<T.length;++q){let Ce=T[q];if(be(Ce,Uint8Array))ge+Ce.length>le.length?(o.isBuffer(Ce)||(Ce=o.from(Ce)),Ce.copy(le,ge)):Uint8Array.prototype.set.call(le,Ce,ge);else if(o.isBuffer(Ce))Ce.copy(le,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=Ce.length}return le};function E(T,L){if(o.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||be(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const q=T.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&q===0)return 0;let ge=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return ne(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return Ie(T).length;default:if(ge)return le?-1:ne(T).length;L=(""+L).toLowerCase(),ge=!0}}o.byteLength=E;function C(T,L,q){let le=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,L>>>=0,q<=L))return"";for(T||(T="utf8");;)switch(T){case"hex":return K(this,L,q);case"utf8":case"utf-8":return O(this,L,q);case"ascii":return Z(this,L,q);case"latin1":case"binary":return D(this,L,q);case"base64":return B(this,L,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,L,q);default:if(le)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),le=!0}}o.prototype._isBuffer=!0;function k(T,L,q){const le=T[L];T[L]=T[q],T[q]=le}o.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<T;L+=2)k(this,L,L+1);return this},o.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<T;L+=4)k(this,L,L+3),k(this,L+1,L+2);return this},o.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<T;L+=8)k(this,L,L+7),k(this,L+1,L+6),k(this,L+2,L+5),k(this,L+3,L+4);return this},o.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?O(this,0,T):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(T){if(!o.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:o.compare(this,T)===0},o.prototype.inspect=function(){let T="";const L=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(T+=" ... "),"<Buffer "+T+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(T,L,q,le,ge){if(be(T,Uint8Array)&&(T=o.from(T,T.offset,T.byteLength)),!o.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(L===void 0&&(L=0),q===void 0&&(q=T?T.length:0),le===void 0&&(le=0),ge===void 0&&(ge=this.length),L<0||q>T.length||le<0||ge>this.length)throw new RangeError("out of range index");if(le>=ge&&L>=q)return 0;if(le>=ge)return-1;if(L>=q)return 1;if(L>>>=0,q>>>=0,le>>>=0,ge>>>=0,this===T)return 0;let Ce=ge-le,Ae=q-L;const rt=Math.min(Ce,Ae),kt=this.slice(le,ge),ot=T.slice(L,q);for(let Ct=0;Ct<rt;++Ct)if(kt[Ct]!==ot[Ct]){Ce=kt[Ct],Ae=ot[Ct];break}return Ce<Ae?-1:Ae<Ce?1:0};function A(T,L,q,le,ge){if(T.length===0)return-1;if(typeof q=="string"?(le=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Be(q)&&(q=ge?0:T.length-1),q<0&&(q=T.length+q),q>=T.length){if(ge)return-1;q=T.length-1}else if(q<0)if(ge)q=0;else return-1;if(typeof L=="string"&&(L=o.from(L,le)),o.isBuffer(L))return L.length===0?-1:_(T,L,q,le,ge);if(typeof L=="number")return L=L&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(T,L,q):Uint8Array.prototype.lastIndexOf.call(T,L,q):_(T,[L],q,le,ge);throw new TypeError("val must be string, number or Buffer")}function _(T,L,q,le,ge){let Ce=1,Ae=T.length,rt=L.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(T.length<2||L.length<2)return-1;Ce=2,Ae/=2,rt/=2,q/=2}function kt(Ct,nt){return Ce===1?Ct[nt]:Ct.readUInt16BE(nt*Ce)}let ot;if(ge){let Ct=-1;for(ot=q;ot<Ae;ot++)if(kt(T,ot)===kt(L,Ct===-1?0:ot-Ct)){if(Ct===-1&&(Ct=ot),ot-Ct+1===rt)return Ct*Ce}else Ct!==-1&&(ot-=ot-Ct),Ct=-1}else for(q+rt>Ae&&(q=Ae-rt),ot=q;ot>=0;ot--){let Ct=!0;for(let nt=0;nt<rt;nt++)if(kt(T,ot+nt)!==kt(L,nt)){Ct=!1;break}if(Ct)return ot}return-1}o.prototype.includes=function(T,L,q){return this.indexOf(T,L,q)!==-1},o.prototype.indexOf=function(T,L,q){return A(this,T,L,q,!0)},o.prototype.lastIndexOf=function(T,L,q){return A(this,T,L,q,!1)};function P(T,L,q,le){q=Number(q)||0;const ge=T.length-q;le?(le=Number(le),le>ge&&(le=ge)):le=ge;const Ce=L.length;le>Ce/2&&(le=Ce/2);let Ae;for(Ae=0;Ae<le;++Ae){const rt=parseInt(L.substr(Ae*2,2),16);if(Be(rt))return Ae;T[q+Ae]=rt}return Ae}function I(T,L,q,le){return je(ne(L,T.length-q),T,q,le)}function $(T,L,q,le){return je(se(L),T,q,le)}function H(T,L,q,le){return je(Ie(L),T,q,le)}function M(T,L,q,le){return je(fe(L,T.length-q),T,q,le)}o.prototype.write=function(T,L,q,le){if(L===void 0)le="utf8",q=this.length,L=0;else if(q===void 0&&typeof L=="string")le=L,q=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(q)?(q=q>>>0,le===void 0&&(le="utf8")):(le=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-L;if((q===void 0||q>ge)&&(q=ge),T.length>0&&(q<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Ce=!1;for(;;)switch(le){case"hex":return P(this,T,L,q);case"utf8":case"utf-8":return I(this,T,L,q);case"ascii":case"latin1":case"binary":return $(this,T,L,q);case"base64":return H(this,T,L,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,T,L,q);default:if(Ce)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Ce=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(T,L,q){return L===0&&q===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(L,q))}function O(T,L,q){q=Math.min(T.length,q);const le=[];let ge=L;for(;ge<q;){const Ce=T[ge];let Ae=null,rt=Ce>239?4:Ce>223?3:Ce>191?2:1;if(ge+rt<=q){let kt,ot,Ct,nt;switch(rt){case 1:Ce<128&&(Ae=Ce);break;case 2:kt=T[ge+1],(kt&192)===128&&(nt=(Ce&31)<<6|kt&63,nt>127&&(Ae=nt));break;case 3:kt=T[ge+1],ot=T[ge+2],(kt&192)===128&&(ot&192)===128&&(nt=(Ce&15)<<12|(kt&63)<<6|ot&63,nt>2047&&(nt<55296||nt>57343)&&(Ae=nt));break;case 4:kt=T[ge+1],ot=T[ge+2],Ct=T[ge+3],(kt&192)===128&&(ot&192)===128&&(Ct&192)===128&&(nt=(Ce&15)<<18|(kt&63)<<12|(ot&63)<<6|Ct&63,nt>65535&&nt<1114112&&(Ae=nt))}}Ae===null?(Ae=65533,rt=1):Ae>65535&&(Ae-=65536,le.push(Ae>>>10&1023|55296),Ae=56320|Ae&1023),le.push(Ae),ge+=rt}return G(le)}const z=4096;function G(T){const L=T.length;if(L<=z)return String.fromCharCode.apply(String,T);let q="",le=0;for(;le<L;)q+=String.fromCharCode.apply(String,T.slice(le,le+=z));return q}function Z(T,L,q){let le="";q=Math.min(T.length,q);for(let ge=L;ge<q;++ge)le+=String.fromCharCode(T[ge]&127);return le}function D(T,L,q){let le="";q=Math.min(T.length,q);for(let ge=L;ge<q;++ge)le+=String.fromCharCode(T[ge]);return le}function K(T,L,q){const le=T.length;(!L||L<0)&&(L=0),(!q||q<0||q>le)&&(q=le);let ge="";for(let Ce=L;Ce<q;++Ce)ge+=$e[T[Ce]];return ge}function ee(T,L,q){const le=T.slice(L,q);let ge="";for(let Ce=0;Ce<le.length-1;Ce+=2)ge+=String.fromCharCode(le[Ce]+le[Ce+1]*256);return ge}o.prototype.slice=function(T,L){const q=this.length;T=~~T,L=L===void 0?q:~~L,T<0?(T+=q,T<0&&(T=0)):T>q&&(T=q),L<0?(L+=q,L<0&&(L=0)):L>q&&(L=q),L<T&&(L=T);const le=this.subarray(T,L);return Object.setPrototypeOf(le,o.prototype),le};function F(T,L,q){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+L>q)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(T,L,q){T=T>>>0,L=L>>>0,q||F(T,L,this.length);let le=this[T],ge=1,Ce=0;for(;++Ce<L&&(ge*=256);)le+=this[T+Ce]*ge;return le},o.prototype.readUintBE=o.prototype.readUIntBE=function(T,L,q){T=T>>>0,L=L>>>0,q||F(T,L,this.length);let le=this[T+--L],ge=1;for(;L>0&&(ge*=256);)le+=this[T+--L]*ge;return le},o.prototype.readUint8=o.prototype.readUInt8=function(T,L){return T=T>>>0,L||F(T,1,this.length),this[T]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(T,L){return T=T>>>0,L||F(T,2,this.length),this[T]|this[T+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(T,L){return T=T>>>0,L||F(T,2,this.length),this[T]<<8|this[T+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(T,L){return T=T>>>0,L||F(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(T,L){return T=T>>>0,L||F(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},o.prototype.readBigUInt64LE=Me(function(T){T=T>>>0,Re(T,"offset");const L=this[T],q=this[T+7];(L===void 0||q===void 0)&&W(T,this.length-8);const le=L+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,ge=this[++T]+this[++T]*2**8+this[++T]*2**16+q*2**24;return BigInt(le)+(BigInt(ge)<<BigInt(32))}),o.prototype.readBigUInt64BE=Me(function(T){T=T>>>0,Re(T,"offset");const L=this[T],q=this[T+7];(L===void 0||q===void 0)&&W(T,this.length-8);const le=L*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],ge=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+q;return(BigInt(le)<<BigInt(32))+BigInt(ge)}),o.prototype.readIntLE=function(T,L,q){T=T>>>0,L=L>>>0,q||F(T,L,this.length);let le=this[T],ge=1,Ce=0;for(;++Ce<L&&(ge*=256);)le+=this[T+Ce]*ge;return ge*=128,le>=ge&&(le-=Math.pow(2,8*L)),le},o.prototype.readIntBE=function(T,L,q){T=T>>>0,L=L>>>0,q||F(T,L,this.length);let le=L,ge=1,Ce=this[T+--le];for(;le>0&&(ge*=256);)Ce+=this[T+--le]*ge;return ge*=128,Ce>=ge&&(Ce-=Math.pow(2,8*L)),Ce},o.prototype.readInt8=function(T,L){return T=T>>>0,L||F(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},o.prototype.readInt16LE=function(T,L){T=T>>>0,L||F(T,2,this.length);const q=this[T]|this[T+1]<<8;return q&32768?q|4294901760:q},o.prototype.readInt16BE=function(T,L){T=T>>>0,L||F(T,2,this.length);const q=this[T+1]|this[T]<<8;return q&32768?q|4294901760:q},o.prototype.readInt32LE=function(T,L){return T=T>>>0,L||F(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},o.prototype.readInt32BE=function(T,L){return T=T>>>0,L||F(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},o.prototype.readBigInt64LE=Me(function(T){T=T>>>0,Re(T,"offset");const L=this[T],q=this[T+7];(L===void 0||q===void 0)&&W(T,this.length-8);const le=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(q<<24);return(BigInt(le)<<BigInt(32))+BigInt(L+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),o.prototype.readBigInt64BE=Me(function(T){T=T>>>0,Re(T,"offset");const L=this[T],q=this[T+7];(L===void 0||q===void 0)&&W(T,this.length-8);const le=(L<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(le)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+q)}),o.prototype.readFloatLE=function(T,L){return T=T>>>0,L||F(T,4,this.length),n.read(this,T,!0,23,4)},o.prototype.readFloatBE=function(T,L){return T=T>>>0,L||F(T,4,this.length),n.read(this,T,!1,23,4)},o.prototype.readDoubleLE=function(T,L){return T=T>>>0,L||F(T,8,this.length),n.read(this,T,!0,52,8)},o.prototype.readDoubleBE=function(T,L){return T=T>>>0,L||F(T,8,this.length),n.read(this,T,!1,52,8)};function V(T,L,q,le,ge,Ce){if(!o.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>ge||L<Ce)throw new RangeError('"value" argument is out of bounds');if(q+le>T.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(T,L,q,le){if(T=+T,L=L>>>0,q=q>>>0,!le){const Ae=Math.pow(2,8*q)-1;V(this,T,L,q,Ae,0)}let ge=1,Ce=0;for(this[L]=T&255;++Ce<q&&(ge*=256);)this[L+Ce]=T/ge&255;return L+q},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(T,L,q,le){if(T=+T,L=L>>>0,q=q>>>0,!le){const Ae=Math.pow(2,8*q)-1;V(this,T,L,q,Ae,0)}let ge=q-1,Ce=1;for(this[L+ge]=T&255;--ge>=0&&(Ce*=256);)this[L+ge]=T/Ce&255;return L+q},o.prototype.writeUint8=o.prototype.writeUInt8=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,1,255,0),this[L]=T&255,L+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,2,65535,0),this[L]=T&255,this[L+1]=T>>>8,L+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,2,65535,0),this[L]=T>>>8,this[L+1]=T&255,L+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,4,4294967295,0),this[L+3]=T>>>24,this[L+2]=T>>>16,this[L+1]=T>>>8,this[L]=T&255,L+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,4,4294967295,0),this[L]=T>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=T&255,L+4};function J(T,L,q,le,ge){Ne(L,le,ge,T,q,7);let Ce=Number(L&BigInt(4294967295));T[q++]=Ce,Ce=Ce>>8,T[q++]=Ce,Ce=Ce>>8,T[q++]=Ce,Ce=Ce>>8,T[q++]=Ce;let Ae=Number(L>>BigInt(32)&BigInt(4294967295));return T[q++]=Ae,Ae=Ae>>8,T[q++]=Ae,Ae=Ae>>8,T[q++]=Ae,Ae=Ae>>8,T[q++]=Ae,q}function Q(T,L,q,le,ge){Ne(L,le,ge,T,q,7);let Ce=Number(L&BigInt(4294967295));T[q+7]=Ce,Ce=Ce>>8,T[q+6]=Ce,Ce=Ce>>8,T[q+5]=Ce,Ce=Ce>>8,T[q+4]=Ce;let Ae=Number(L>>BigInt(32)&BigInt(4294967295));return T[q+3]=Ae,Ae=Ae>>8,T[q+2]=Ae,Ae=Ae>>8,T[q+1]=Ae,Ae=Ae>>8,T[q]=Ae,q+8}o.prototype.writeBigUInt64LE=Me(function(T,L=0){return J(this,T,L,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Me(function(T,L=0){return Q(this,T,L,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(T,L,q,le){if(T=+T,L=L>>>0,!le){const rt=Math.pow(2,8*q-1);V(this,T,L,q,rt-1,-rt)}let ge=0,Ce=1,Ae=0;for(this[L]=T&255;++ge<q&&(Ce*=256);)T<0&&Ae===0&&this[L+ge-1]!==0&&(Ae=1),this[L+ge]=(T/Ce>>0)-Ae&255;return L+q},o.prototype.writeIntBE=function(T,L,q,le){if(T=+T,L=L>>>0,!le){const rt=Math.pow(2,8*q-1);V(this,T,L,q,rt-1,-rt)}let ge=q-1,Ce=1,Ae=0;for(this[L+ge]=T&255;--ge>=0&&(Ce*=256);)T<0&&Ae===0&&this[L+ge+1]!==0&&(Ae=1),this[L+ge]=(T/Ce>>0)-Ae&255;return L+q},o.prototype.writeInt8=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,1,127,-128),T<0&&(T=255+T+1),this[L]=T&255,L+1},o.prototype.writeInt16LE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,2,32767,-32768),this[L]=T&255,this[L+1]=T>>>8,L+2},o.prototype.writeInt16BE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,2,32767,-32768),this[L]=T>>>8,this[L+1]=T&255,L+2},o.prototype.writeInt32LE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,4,2147483647,-2147483648),this[L]=T&255,this[L+1]=T>>>8,this[L+2]=T>>>16,this[L+3]=T>>>24,L+4},o.prototype.writeInt32BE=function(T,L,q){return T=+T,L=L>>>0,q||V(this,T,L,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[L]=T>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=T&255,L+4},o.prototype.writeBigInt64LE=Me(function(T,L=0){return J(this,T,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Me(function(T,L=0){return Q(this,T,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(T,L,q,le,ge,Ce){if(q+le>T.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function ue(T,L,q,le,ge){return L=+L,q=q>>>0,ge||ae(T,L,q,4),n.write(T,L,q,le,23,4),q+4}o.prototype.writeFloatLE=function(T,L,q){return ue(this,T,L,!0,q)},o.prototype.writeFloatBE=function(T,L,q){return ue(this,T,L,!1,q)};function re(T,L,q,le,ge){return L=+L,q=q>>>0,ge||ae(T,L,q,8),n.write(T,L,q,le,52,8),q+8}o.prototype.writeDoubleLE=function(T,L,q){return re(this,T,L,!0,q)},o.prototype.writeDoubleBE=function(T,L,q){return re(this,T,L,!1,q)},o.prototype.copy=function(T,L,q,le){if(!o.isBuffer(T))throw new TypeError("argument should be a Buffer");if(q||(q=0),!le&&le!==0&&(le=this.length),L>=T.length&&(L=T.length),L||(L=0),le>0&&le<q&&(le=q),le===q||T.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),T.length-L<le-q&&(le=T.length-L+q);const ge=le-q;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,q,le):Uint8Array.prototype.set.call(T,this.subarray(q,le),L),ge},o.prototype.fill=function(T,L,q,le){if(typeof T=="string"){if(typeof L=="string"?(le=L,L=0,q=this.length):typeof q=="string"&&(le=q,q=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!o.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(T.length===1){const Ce=T.charCodeAt(0);(le==="utf8"&&Ce<128||le==="latin1")&&(T=Ce)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(L<0||this.length<L||this.length<q)throw new RangeError("Out of range index");if(q<=L)return this;L=L>>>0,q=q===void 0?this.length:q>>>0,T||(T=0);let ge;if(typeof T=="number")for(ge=L;ge<q;++ge)this[ge]=T;else{const Ce=o.isBuffer(T)?T:o.from(T,le),Ae=Ce.length;if(Ae===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ge=0;ge<q-L;++ge)this[ge+L]=Ce[ge%Ae]}return this};const ie={};function me(T,L,q){ie[T]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}me("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),me("ERR_INVALID_ARG_TYPE",function(T,L){return`The "${T}" argument must be of type number. Received type ${typeof L}`},TypeError),me("ERR_OUT_OF_RANGE",function(T,L,q){let le=`The value of "${T}" is out of range.`,ge=q;return Number.isInteger(q)&&Math.abs(q)>2**32?ge=oe(String(q)):typeof q=="bigint"&&(ge=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(ge=oe(ge)),ge+="n"),le+=` It must be ${L}. Received ${ge}`,le},RangeError);function oe(T){let L="",q=T.length;const le=T[0]==="-"?1:0;for(;q>=le+4;q-=3)L=`_${T.slice(q-3,q)}${L}`;return`${T.slice(0,q)}${L}`}function he(T,L,q){Re(L,"offset"),(T[L]===void 0||T[L+q]===void 0)&&W(L,T.length-(q+1))}function Ne(T,L,q,le,ge,Ce){if(T>q||T<L){const Ae=typeof L=="bigint"?"n":"";let rt;throw L===0||L===BigInt(0)?rt=`>= 0${Ae} and < 2${Ae} ** ${(Ce+1)*8}${Ae}`:rt=`>= -(2${Ae} ** ${(Ce+1)*8-1}${Ae}) and < 2 ** ${(Ce+1)*8-1}${Ae}`,new ie.ERR_OUT_OF_RANGE("value",rt,T)}he(le,ge,Ce)}function Re(T,L){if(typeof T!="number")throw new ie.ERR_INVALID_ARG_TYPE(L,"number",T)}function W(T,L,q){throw Math.floor(T)!==T?(Re(T,q),new ie.ERR_OUT_OF_RANGE("offset","an integer",T)):L<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${L}`,T)}const ye=/[^+/0-9A-Za-z-_]/g;function ce(T){if(T=T.split("=")[0],T=T.trim().replace(ye,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function ne(T,L){L=L||1/0;let q;const le=T.length;let ge=null;const Ce=[];for(let Ae=0;Ae<le;++Ae){if(q=T.charCodeAt(Ae),q>55295&&q<57344){if(!ge){if(q>56319){(L-=3)>-1&&Ce.push(239,191,189);continue}else if(Ae+1===le){(L-=3)>-1&&Ce.push(239,191,189);continue}ge=q;continue}if(q<56320){(L-=3)>-1&&Ce.push(239,191,189),ge=q;continue}q=(ge-55296<<10|q-56320)+65536}else ge&&(L-=3)>-1&&Ce.push(239,191,189);if(ge=null,q<128){if((L-=1)<0)break;Ce.push(q)}else if(q<2048){if((L-=2)<0)break;Ce.push(q>>6|192,q&63|128)}else if(q<65536){if((L-=3)<0)break;Ce.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((L-=4)<0)break;Ce.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return Ce}function se(T){const L=[];for(let q=0;q<T.length;++q)L.push(T.charCodeAt(q)&255);return L}function fe(T,L){let q,le,ge;const Ce=[];for(let Ae=0;Ae<T.length&&!((L-=2)<0);++Ae)q=T.charCodeAt(Ae),le=q>>8,ge=q%256,Ce.push(ge),Ce.push(le);return Ce}function Ie(T){return e.toByteArray(ce(T))}function je(T,L,q,le){let ge;for(ge=0;ge<le&&!(ge+q>=L.length||ge>=T.length);++ge)L[ge+q]=T[ge];return ge}function be(T,L){return T instanceof L||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===L.name}function Be(T){return T!==T}const $e=function(){const T="0123456789abcdef",L=new Array(256);for(let q=0;q<16;++q){const le=q*16;for(let ge=0;ge<16;++ge)L[le+ge]=T[q]+T[ge]}return L}();function Me(T){return typeof BigInt>"u"?we:T}function we(){throw new Error("BigInt not supported")}}(gI)),gI}const gse=Symbol(),vI=Object.getPrototypeOf,J5=new WeakMap,yse=t=>t&&(J5.has(t)?J5.get(t):vI(t)===Object.prototype||vI(t)===Array.prototype),bse=t=>yse(t)&&t[gse]||null,xI=(t,e=!0)=>{J5.set(t,e)},Hw={},LC=t=>typeof t=="object"&&t!==null,wse=t=>LC(t)&&!gy.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),xz=(t,e)=>{const n=Y5.get(t);if(n?.[0]===e)return n[1];const r=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return xI(r,!0),Y5.set(t,[e,r]),Reflect.ownKeys(t).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const a=Reflect.get(t,s),{enumerable:i}=Reflect.getOwnPropertyDescriptor(t,s),o={value:a,enumerable:i,configurable:!0};if(gy.has(a))xI(a,!1);else if(Hc.has(a)){const[c,u]=Hc.get(a);o.value=xz(c,u())}Object.defineProperty(r,s,o)}),Object.preventExtensions(r)},vse=(t,e,n,r)=>({deleteProperty(s,a){const i=Reflect.get(s,a);n(a);const o=Reflect.deleteProperty(s,a);return o&&r(["delete",[a],i]),o},set(s,a,i,o){const c=!t()&&Reflect.has(s,a),u=Reflect.get(s,a,o);if(c&&(NI(u,i)||jg.has(i)&&NI(u,jg.get(i))))return!0;n(a),LC(i)&&(i=bse(i)||i);const h=!Hc.has(i)&&Nse(i)?qn(i):i;return e(a,h),Reflect.set(s,a,h,o),r(["set",[a],i,u]),!0}}),Hc=new WeakMap,gy=new WeakSet,Y5=new WeakMap,W0=[1,1],jg=new WeakMap;let NI=Object.is,xse=(t,e)=>new Proxy(t,e),Nse=wse,kse=xz,Cse=vse;function qn(t={}){if(!LC(t))throw new Error("object required");const e=jg.get(t);if(e)return e;let n=W0[0];const r=new Set,s=(w,x=++W0[0])=>{n!==x&&(n=x,r.forEach(N=>N(w,x)))};let a=W0[1];const i=(w=++W0[1])=>(a!==w&&!r.size&&(a=w,c.forEach(([x])=>{const N=x[1](w);N>n&&(n=N)})),n),o=w=>(x,N)=>{const E=[...x];E[1]=[w,...E[1]],s(E,N)},c=new Map,u=(w,x)=>{const N=!gy.has(x)&&Hc.get(x);if(N){if((Hw?"production":void 0)!=="production"&&c.has(w))throw new Error("prop listener already exists");if(r.size){const E=N[2](o(w));c.set(w,[N,E])}else c.set(w,[N])}},h=w=>{var x;const N=c.get(w);N&&(c.delete(w),(x=N[1])==null||x.call(N))},f=w=>(r.add(w),r.size===1&&c.forEach(([x,N],E)=>{if((Hw?"production":void 0)!=="production"&&N)throw new Error("remove already exists");const C=x[2](o(E));c.set(E,[x,C])}),()=>{r.delete(w),r.size===0&&c.forEach(([x,N],E)=>{N&&(N(),c.set(E,[x]))})});let m=!0;const g=Cse(()=>m,u,h,s),b=xse(t,g);jg.set(t,b);const y=[t,i,f];return Hc.set(b,y),Reflect.ownKeys(t).forEach(w=>{const x=Object.getOwnPropertyDescriptor(t,w);"value"in x&&x.writable&&(b[w]=t[w])}),m=!1,b}function Zs(t,e,n){const r=Hc.get(t);(Hw?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const a=[],i=r[2];let o=!1;const c=i(u=>{a.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,o&&e(a.splice(0))}))});return o=!0,()=>{o=!1,c()}}function Tg(t){const e=Hc.get(t);(Hw?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,r]=e;return kse(n,r())}function op(t){return gy.add(t),t}function Ese(){return{proxyStateMap:Hc,refSet:gy,snapCache:Y5,versionHolder:W0,proxyCache:jg}}function As(t,e,n,r){let s=t[e];return Zs(t,()=>{const a=t[e];Object.is(s,a)||n(s=a)})}const{proxyStateMap:Sse,snapCache:Ase}=Ese(),o1=t=>Sse.has(t);function jse(t){const e=[];let n=0;const r=new Map,s=new WeakMap,a=()=>{const u=Ase.get(o),h=u?.[1];if(h&&!s.has(h)){const f=new Map(r);s.set(h,f)}},i=u=>s.get(u)||r,o={data:e,index:n,epoch:0,get size(){return o1(this)||a(),i(this).size},get(u){const h=i(this).get(u);if(h===void 0){this.epoch;return}return this.data[h]},has(u){const h=i(this);return this.epoch,h.has(u)},set(u,h){if(!o1(this))throw new Error("Cannot perform mutations on a snapshot");const f=r.get(u);return f===void 0?(r.set(u,this.index),this.data[this.index++]=h):this.data[f]=h,this.epoch++,this},delete(u){if(!o1(this))throw new Error("Cannot perform mutations on a snapshot");const h=r.get(u);return h===void 0?!1:(delete this.data[h],r.delete(u),this.epoch++,!0)},clear(){if(!o1(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(u){this.epoch,i(this).forEach((h,f)=>{u(this.data[h],f,this)})},*entries(){this.epoch;const u=i(this);for(const[h,f]of u)yield[h,this.data[f]]},*keys(){this.epoch;const u=i(this);for(const h of u.keys())yield h},*values(){this.epoch;const u=i(this);for(const h of u.values())yield this.data[h]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=qn(o);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var kI={};const De={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof kI<"u"?kI.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},Gw={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(s=>s.caipNetworkId===e);if(n)return n.name;const[r]=e.split(":");return De.CHAIN_NAME_MAP?.[r]||void 0}},Nz=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var Tse=20,Ise=1,Ud=1e6,CI=1e6,_se=-7,Pse=21,Ose=!1,yy="[big.js] ",rh=yy+"Invalid ",yx=rh+"decimal places",Rse=rh+"rounding mode",kz=yy+"Division by zero",_n={},oo=void 0,$se=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Cz(){function t(e){var n=this;if(!(n instanceof t))return e===oo?Cz():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(rh+"value");e=e===0&&1/e<0?"-0":String(e)}Mse(n,e)}n.constructor=t}return t.prototype=_n,t.DP=Tse,t.RM=Ise,t.NE=_se,t.PE=Pse,t.strict=Ose,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Mse(t,e){var n,r,s;if(!$se.test(e))throw Error(rh+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),s=e.length,r=0;r<s&&e.charAt(r)=="0";)++r;if(r==s)t.c=[t.e=0];else{for(;s>0&&e.charAt(--s)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=s;)t.c[n++]=+e.charAt(r++)}return t}function sh(t,e,n,r){var s=t.c;if(n===oo&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(Rse);if(e<1)r=n===3&&(r||!!s[0])||e===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==oo))),s.length=1,r?(t.e=t.e-e+1,s[0]=1):s[0]=t.e=0;else if(e<s.length){if(r=n===1&&s[e]>=5||n===2&&(s[e]>5||s[e]===5&&(r||s[e+1]!==oo||s[e-1]&1))||n===3&&(r||!!s[0]),s.length=e,r){for(;++s[--e]>9;)if(s[e]=0,e===0){++t.e,s.unshift(1);break}}for(e=s.length;!s[--e];)s.pop()}return t}function ah(t,e,n){var r=t.e,s=t.c.join(""),a=s.length;if(e)s=s.charAt(0)+(a>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>a)for(r-=a;r--;)s+="0";else r<a&&(s=s.slice(0,r)+"."+s.slice(r));else a>1&&(s=s.charAt(0)+"."+s.slice(1));return t.s<0&&n?"-"+s:s}_n.abs=function(){var t=new this.constructor(this);return t.s=1,t};_n.cmp=function(t){var e,n=this,r=n.c,s=(t=new n.constructor(t)).c,a=n.s,i=t.s,o=n.e,c=t.e;if(!r[0]||!s[0])return r[0]?a:s[0]?-i:0;if(a!=i)return a;if(e=a<0,o!=c)return o>c^e?1:-1;for(i=(o=r.length)<(c=s.length)?o:c,a=-1;++a<i;)if(r[a]!=s[a])return r[a]>s[a]^e?1:-1;return o==c?0:o>c^e?1:-1};_n.div=function(t){var e=this,n=e.constructor,r=e.c,s=(t=new n(t)).c,a=e.s==t.s?1:-1,i=n.DP;if(i!==~~i||i<0||i>Ud)throw Error(yx);if(!s[0])throw Error(kz);if(!r[0])return t.s=a,t.c=[t.e=0],t;var o,c,u,h,f,m=s.slice(),g=o=s.length,b=r.length,y=r.slice(0,o),w=y.length,x=t,N=x.c=[],E=0,C=i+(x.e=e.e-t.e)+1;for(x.s=a,a=C<0?0:C,m.unshift(0);w++<o;)y.push(0);do{for(u=0;u<10;u++){if(o!=(w=y.length))h=o>w?1:-1;else for(f=-1,h=0;++f<o;)if(s[f]!=y[f]){h=s[f]>y[f]?1:-1;break}if(h<0){for(c=w==o?s:m;w;){if(y[--w]<c[w]){for(f=w;f&&!y[--f];)y[f]=9;--y[f],y[w]+=10}y[w]-=c[w]}for(;!y[0];)y.shift()}else break}N[E++]=h?u:++u,y[0]&&h?y[w]=r[g]||0:y=[r[g]]}while((g++<b||y[0]!==oo)&&a--);return!N[0]&&E!=1&&(N.shift(),x.e--,C--),E>C&&sh(x,C,n.RM,y[0]!==oo),x};_n.eq=function(t){return this.cmp(t)===0};_n.gt=function(t){return this.cmp(t)>0};_n.gte=function(t){return this.cmp(t)>-1};_n.lt=function(t){return this.cmp(t)<0};_n.lte=function(t){return this.cmp(t)<1};_n.minus=_n.sub=function(t){var e,n,r,s,a=this,i=a.constructor,o=a.s,c=(t=new i(t)).s;if(o!=c)return t.s=-c,a.plus(t);var u=a.c.slice(),h=a.e,f=t.c,m=t.e;if(!u[0]||!f[0])return f[0]?t.s=-c:u[0]?t=new i(a):t.s=1,t;if(o=h-m){for((s=o<0)?(o=-o,r=u):(m=h,r=f),r.reverse(),c=o;c--;)r.push(0);r.reverse()}else for(n=((s=u.length<f.length)?u:f).length,o=c=0;c<n;c++)if(u[c]!=f[c]){s=u[c]<f[c];break}if(s&&(r=u,u=f,f=r,t.s=-t.s),(c=(n=f.length)-(e=u.length))>0)for(;c--;)u[e++]=0;for(c=e;n>o;){if(u[--n]<f[n]){for(e=n;e&&!u[--e];)u[e]=9;--u[e],u[n]+=10}u[n]-=f[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--m;return u[0]||(t.s=1,u=[m=0]),t.c=u,t.e=m,t};_n.mod=function(t){var e,n=this,r=n.constructor,s=n.s,a=(t=new r(t)).s;if(!t.c[0])throw Error(kz);return n.s=t.s=1,e=t.cmp(n)==1,n.s=s,t.s=a,e?new r(n):(s=r.DP,a=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=s,r.RM=a,this.minus(n.times(t)))};_n.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};_n.plus=_n.add=function(t){var e,n,r,s=this,a=s.constructor;if(t=new a(t),s.s!=t.s)return t.s=-t.s,s.minus(t);var i=s.e,o=s.c,c=t.e,u=t.c;if(!o[0]||!u[0])return u[0]||(o[0]?t=new a(s):t.s=s.s),t;if(o=o.slice(),e=i-c){for(e>0?(c=i,r=u):(e=-e,r=o),r.reverse();e--;)r.push(0);r.reverse()}for(o.length-u.length<0&&(r=u,u=o,o=r),e=u.length,n=0;e;o[e]%=10)n=(o[--e]=o[e]+u[e]+n)/10|0;for(n&&(o.unshift(n),++c),e=o.length;o[--e]===0;)o.pop();return t.c=o,t.e=c,t};_n.pow=function(t){var e=this,n=new e.constructor("1"),r=n,s=t<0;if(t!==~~t||t<-CI||t>CI)throw Error(rh+"exponent");for(s&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return s?n.div(r):r};_n.prec=function(t,e){if(t!==~~t||t<1||t>Ud)throw Error(rh+"precision");return sh(new this.constructor(this),t,e)};_n.round=function(t,e){if(t===oo)t=0;else if(t!==~~t||t<-Ud||t>Ud)throw Error(yx);return sh(new this.constructor(this),t+this.e+1,e)};_n.sqrt=function(){var t,e,n,r=this,s=r.constructor,a=r.s,i=r.e,o=new s("0.5");if(!r.c[0])return new s(r);if(a<0)throw Error(yy+"No square root");a=Math.sqrt(+ah(r,!0,!0)),a===0||a===1/0?(e=r.c.join(""),e.length+i&1||(e+="0"),a=Math.sqrt(e),i=((i+1)/2|0)-(i<0||i&1),t=new s((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+i)):t=new s(a+""),i=t.e+(s.DP+=4);do n=t,t=o.times(n.plus(r.div(n)));while(n.c.slice(0,i).join("")!==t.c.slice(0,i).join(""));return sh(t,(s.DP-=4)+t.e+1,s.RM)};_n.times=_n.mul=function(t){var e,n=this,r=n.constructor,s=n.c,a=(t=new r(t)).c,i=s.length,o=a.length,c=n.e,u=t.e;if(t.s=n.s==t.s?1:-1,!s[0]||!a[0])return t.c=[t.e=0],t;for(t.e=c+u,i<o&&(e=s,s=a,a=e,u=i,i=o,o=u),e=new Array(u=i+o);u--;)e[u]=0;for(c=o;c--;){for(o=0,u=i+c;u>c;)o=e[u]+a[c]*s[u-c-1]+o,e[u--]=o%10,o=o/10|0;e[u]=o}for(o?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};_n.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==oo){if(t!==~~t||t<0||t>Ud)throw Error(yx);for(n=sh(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return ah(n,!0,!!r)};_n.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==oo){if(t!==~~t||t<0||t>Ud)throw Error(yx);for(n=sh(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return ah(n,!1,!!r)};_n[Symbol.for("nodejs.util.inspect.custom")]=_n.toJSON=_n.toString=function(){var t=this,e=t.constructor;return ah(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};_n.toNumber=function(){var t=+ah(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(yy+"Imprecise conversion");return t};_n.toPrecision=function(t,e){var n=this,r=n.constructor,s=n.c[0];if(t!==oo){if(t!==~~t||t<1||t>Ud)throw Error(rh+"precision");for(n=sh(new r(n),t,e);n.c.length<t;)n.c.push(0)}return ah(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};_n.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(yy+"valueOf disallowed");return ah(t,t.e<=e.NE||t.e>=e.PE,!0)};var tc=Cz();const zse={bigNumber(t){return t?new tc(t):new tc(0)},multiply(t,e){if(t===void 0||e===void 0)return new tc(0);const n=new tc(t),r=new tc(e);return n.times(r)},toFixed(t,e=2){return t===void 0||t===""?new tc(0).toFixed(e):new tc(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new tc(e).toNumber()}},Lse=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Bse=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Fse=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Use={getERC20Abi:t=>De.USDT_CONTRACT_ADDRESSES.includes(t)?Fse:Lse,getSwapAbi:()=>Bse},Rc={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,s]=e;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Rt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function y4(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const jt={setItem(t,e){H0()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(H0())return localStorage.getItem(t)||void 0},removeItem(t){H0()&&localStorage.removeItem(t)},clear(){H0()&&localStorage.clear()}};function H0(){return typeof window<"u"&&typeof localStorage<"u"}function qw(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const ks={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,NAMES_SUPPORTED_CHAIN_NAMESPACES:[De.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,DEFAULT_REMOTE_FEATURES:{socials:["google","x","discord","farcaster","github","apple","facebook"]},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},at={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=at.getActiveNamespace(),e=at.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{jt.setItem(Rt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=jt.getItem(Rt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{jt.removeItem(Rt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{jt.setItem(Rt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{jt.setItem(Rt.ACTIVE_CAIP_NETWORK_ID,t),at.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return jt.getItem(Rt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{jt.removeItem(Rt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=y4(t);jt.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=at.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),jt.setItem(Rt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=jt.getItem(Rt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=y4(t);jt.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return jt.getItem(Rt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=y4(t);return jt.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{jt.setItem(Rt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return jt.getItem(Rt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{jt.removeItem(Rt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return jt.getItem(Rt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return jt.getItem(Rt.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{jt.setItem(Rt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return jt.getItem(Rt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=jt.getItem(Rt.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));jt.setItem(Rt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=at.getConnectedNamespaces();e.includes(t)||(e.push(t),at.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=at.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),at.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return jt.getItem(Rt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{jt.setItem(Rt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{jt.removeItem(Rt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=jt.getItem(Rt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=at.getBalanceCache();jt.setItem(Rt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const e=at.getBalanceCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.portfolio))return e.balance;at.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=at.getBalanceCache();e[t.caipAddress]=t,jt.setItem(Rt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=jt.getItem(Rt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=at.getBalanceCache();jt.setItem(Rt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const e=at.getNativeBalanceCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.nativeBalance))return e;console.info("Discarding cache for address",t),at.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=at.getNativeBalanceCache();e[t.caipAddress]=t,jt.setItem(Rt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=jt.getItem(Rt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const e=at.getEnsCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.ens))return e.ens;at.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=at.getEnsCache();e[t.address]=t,jt.setItem(Rt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=at.getEnsCache();jt.setItem(Rt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=jt.getItem(Rt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const e=at.getIdentityCache()[t];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.identity))return e.identity;at.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=at.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},jt.setItem(Rt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=at.getIdentityCache();jt.setItem(Rt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{jt.removeItem(Rt.PORTFOLIO_CACHE),jt.removeItem(Rt.NATIVE_BALANCE_CACHE),jt.removeItem(Rt.ENS_CACHE),jt.removeItem(Rt.IDENTITY_CACHE),jt.removeItem(Rt.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{jt.setItem(Rt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=jt.getItem(Rt.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=at.getConnections(),r=n[e]??[],s=new Map;for(const i of r)s.set(i.connectorId,{...i});for(const i of t){const o=s.get(i.connectorId),c=i.connectorId===De.CONNECTOR_ID.AUTH;if(o&&!c){const u=new Set(o.accounts.map(f=>f.address.toLowerCase())),h=i.accounts.filter(f=>!u.has(f.address.toLowerCase()));o.accounts.push(...h)}else s.set(i.connectorId,{...i})}const a={...n,[e]:Array.from(s.values())};jt.setItem(Rt.CONNECTIONS,JSON.stringify(a))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=jt.getItem(Rt.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const r=at.getConnections(),s=r[n]??[],a=new Map(s.map(o=>[o.connectorId,o])),i=a.get(t);i&&(i.accounts.filter(o=>o.address.toLowerCase()!==e.toLowerCase()).length===0?a.delete(t):a.set(t,{...i,accounts:i.accounts.filter(o=>o.address.toLowerCase()!==e.toLowerCase())})),jt.setItem(Rt.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(a.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=jt.getItem(Rt.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=at.getDisconnectedConnectorIds(),r=n[e]??[];r.push(t),jt.setItem(Rt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=at.getDisconnectedConnectorIds();let r=n[e]??[];r=r.filter(s=>s.toLowerCase()!==t.toLowerCase()),jt.setItem(Rt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(at.getDisconnectedConnectorIds()[e]??[]).some(n=>n.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=jt.getItem(Rt.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const n=at.getTransactionsCache()[t]?.[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;at.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:r}){try{const s=at.getTransactionsCache();s[t]={...s[t],[e]:{timestamp:n,transactions:r}},jt.setItem(Rt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:r})}},removeTransactionsCache({address:t,chainId:e}){try{const n=at.getTransactionsCache(),r=n?.[t]||{},{[e]:s,...a}=r;jt.setItem(Rt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:a}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=jt.getItem(Rt.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const e=at.getTokenPriceCache()[t.join(",")];if(e&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.tokenPrice))return e.tokenPrice;at.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=at.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},jt.setItem(Rt.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=at.getTokenPriceCache();jt.setItem(Rt.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},zt={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return zt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=ks.TEN_SEC_MS:!0},isAllowedRetry(t,e=ks.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(zt.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),r=new URL(e);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+ks.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function s(){t(...r)}n&&clearTimeout(n),n=setTimeout(s,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(zt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,s=n;r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const a=encodeURIComponent(e);return{redirect:`${r}wc?uri=${a}`,redirectUniversalLink:s?`${s}wc?uri=${a}`:void 0,href:r}},formatUniversalUrl(t,e){if(!zt.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?at.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=t});return Promise.race([e,zt.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${e?` ${e}`:""}`},getApiUrl(){return De.W3M_API_URL},getBlockchainApiUrl(){return De.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return De.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,s)=>{n[r]=s}),e.sort((r,s)=>{const a=n[r.id],i=n[s.id];return a!==void 0&&i!==void 0?a-i:a!==void 0?-1:i!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const s=r[e];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(t,e,n){const r=t.length===0?ks.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${r}-${n}`},createAccount(t,e,n,r,s){return{namespace:t,address:e,type:n,publicKey:r,path:s}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in De.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const r="provider_authorization_url=",s=t.substring(t.indexOf(r)+r.length),a=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(a))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const s=t.indexOf("&",r),a=e.length,i=s!==-1?s:t.length,o=t.substring(0,r+a),c=t.substring(r+a,i),u=t.substring(s),h=c+n;return o+h+u}};async function Dm(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class by{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...s}){const a=this.createUrl(s);return(await Dm(a,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const s=this.createUrl(r);return(await Dm(s,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Dm(a,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Dm(a,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Dm(a,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([s,a])=>{a&&r.searchParams.append(s,a)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Dse={getFeatureValue(t,e){const n=e?.[t];return n===void 0?ks.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(zt.isTelegram()){if(zt.isIos())return t.filter(e=>e!=="google");if(zt.isMac())return t.filter(e=>e!=="x");if(zt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},St=qn({features:ks.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ks.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),qt={state:St,subscribeKey(t,e){return As(St,t,e)},setOptions(t){Object.assign(St,t)},setRemoteFeatures(t){if(!t)return;const e={...St.remoteFeatures,...t};St.remoteFeatures=e,St.remoteFeatures?.socials&&(St.remoteFeatures.socials=Dse.filterSocialsByPlatform(St.remoteFeatures.socials)),St.features?.pay&&(St.remoteFeatures.email=!1,St.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;St.features||(St.features=ks.DEFAULT_FEATURES);const e={...St.features,...t};St.features=e,St.features?.pay&&St.remoteFeatures&&(St.remoteFeatures.email=!1,St.remoteFeatures.socials=!1)},setProjectId(t){St.projectId=t},setCustomRpcUrls(t){St.customRpcUrls=t},setAllWallets(t){St.allWallets=t},setIncludeWalletIds(t){St.includeWalletIds=t},setExcludeWalletIds(t){St.excludeWalletIds=t},setFeaturedWalletIds(t){St.featuredWalletIds=t},setTokens(t){St.tokens=t},setTermsConditionsUrl(t){St.termsConditionsUrl=t},setPrivacyPolicyUrl(t){St.privacyPolicyUrl=t},setCustomWallets(t){St.customWallets=t},setIsSiweEnabled(t){St.isSiweEnabled=t},setIsUniversalProvider(t){St.isUniversalProvider=t},setSdkVersion(t){St.sdkVersion=t},setMetadata(t){St.metadata=t},setDisableAppend(t){St.disableAppend=t},setEIP6963Enabled(t){St.enableEIP6963=t},setDebug(t){St.debug=t},setEnableWalletConnect(t){St.enableWalletConnect=t},setEnableWalletGuide(t){St.enableWalletGuide=t},setEnableAuthLogger(t){St.enableAuthLogger=t},setEnableWallets(t){St.enableWallets=t},setPreferUniversalLinks(t){St.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(ks.SIWX_DEFAULTS))t[e]??(t[e]=n);St.siwx=t},setConnectMethodsOrder(t){St.features={...St.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){St.features={...St.features,walletFeaturesOrder:t}},setSocialsOrder(t){St.remoteFeatures={...St.remoteFeatures,socials:t}},setCollapseWallets(t){St.features={...St.features,collapseWallets:t}},setEnableEmbedded(t){St.enableEmbedded=t},setAllowUnsupportedChain(t){St.allowUnsupportedChain=t},setManualWCControl(t){St.manualWCControl=t},setEnableNetworkSwitch(t){St.enableNetworkSwitch=t},setEnableReconnect(t){St.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(St.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){St.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return St.universalProviderConfigOverride},getSnapshot(){return Tg(St)}},Wse=Object.freeze({enabled:!0,events:[]}),Hse=new by({baseUrl:zt.getAnalyticsUrl(),clientId:null}),Gse=5,qse=60*1e3,nc=qn({...Wse}),Vse={state:nc,subscribeKey(t,e){return As(nc,t,e)},async sendError(t,e){if(!nc.enabled)return;const n=Date.now();if(nc.events.filter(s=>{const a=new Date(s.properties.timestamp||"").getTime();return n-a<qse}).length>=Gse)return;const r={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};nc.events.push(r);try{if(typeof window>"u")return;const{projectId:s,sdkType:a,sdkVersion:i}=qt.state;await Hse.post({path:"/e",params:{projectId:s,st:a,sv:i||"html-wagmi-4.2.2"},body:{eventId:zt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){nc.enabled=!0},disable(){nc.enabled=!1},clearEvents(){nc.events=[]}};class lp extends Error{constructor(e,n,r){super(e),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,lp.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const a=r.stack,i=a.indexOf(`
`);if(i>-1){const o=a.substring(i+1);this.stack=`${this.name}: ${this.message}
${o}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,lp):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function EI(t,e){const n=t instanceof lp?t:new lp(t instanceof Error?t.message:String(t),e,t);throw Vse.sendError(n,n.category),n}function qa(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(r=>{const s=t[r];if(typeof s=="function"){let a=s;s.constructor.name==="AsyncFunction"?a=async(...i)=>{try{return await s(...i)}catch(o){return EI(o,e)}}:a=(...i)=>{try{return s(...i)}catch(o){return EI(o,e)}},n[r]=a}else n[r]=s}),n}var cp={};const Zse="https://secure.walletconnect.org/sdk",Kse=(typeof process<"u"&&typeof cp<"u"?cp.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Zse,Qse=(typeof process<"u"&&typeof cp<"u"?cp.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Jse=(typeof process<"u"&&typeof cp<"u"?cp.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",bt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Jr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ms={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},Yse={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===ms.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",a=n.split("/")[2],i=encodeURIComponent(`${s}://${a}`);window.location.href=`${ms.PHANTOM.url}/ul/browse/${r}?ref=${i}`}if(t===ms.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ms.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===De.CHAIN.SOLANA&&t===ms.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ms.COINBASE.url}/dapp?cb_url=${r}`),e===De.CHAIN.BITCOIN&&t===ms.BINANCE.id&&!("binancew3w"in window)){const s=Se.state.activeCaipNetwork,a=window.btoa("/pages/browser/index"),i=window.btoa(`url=${r}&defaultChainId=${s?.id??1}`),o=new URL(ms.BINANCE.deeplink);o.searchParams.set("appId",ms.BINANCE.appId),o.searchParams.set("startPagePath",a),o.searchParams.set("startPageQuery",i);const c=new URL(ms.BINANCE.url);c.searchParams.set("_dp",window.btoa(o.toString())),window.location.href=c.toString()}}},na=qn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Xse={state:na,subscribeNetworkImages(t){return Zs(na.networkImages,()=>t(na.networkImages))},subscribeKey(t,e){return As(na,t,e)},subscribe(t){return Zs(na,()=>t(na))},setWalletImage(t,e){na.walletImages[t]=e},setNetworkImage(t,e){na.networkImages[t]=e},setChainImage(t,e){na.chainImages[t]=e},setConnectorImage(t,e){na.connectorImages={...na.connectorImages,[t]:e}},setTokenImage(t,e){na.tokenImages[t]=e},setCurrencyImage(t,e){na.currencyImages[t]=e}},hi=qa(Xse),eae={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},b4=qn({networkImagePromises:{}}),tae={async fetchWalletImage(t){if(t)return await Dt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){return t?this.getNetworkImageById(t)||(b4.networkImagePromises[t]||(b4.networkImagePromises[t]=Dt._fetchNetworkImage(t)),await b4.networkImagePromises[t],this.getNetworkImageById(t)):void 0},getWalletImageById(t){if(t)return hi.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return hi.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return hi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return hi.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return hi.state.connectorImages[t.imageId]},getChainImage(t){return hi.state.networkImages[eae[t]]}},rc=qn({message:"",variant:"info",open:!1}),nae={state:rc,subscribeKey(t,e){return As(rc,t,e)},open(t,e){const{debug:n}=qt.state,{code:r,displayMessage:s,debugMessage:a}=t;s&&n&&(rc.message=s,rc.variant=e,rc.open=!0),a&&console.error(typeof a=="function"?a():a,r?{code:r}:void 0)},close(){rc.open=!1,rc.message="",rc.variant="info"}},Ku=qa(nae),rae=zt.getAnalyticsUrl(),sae=new by({baseUrl:rae,clientId:null}),aae=["MODAL_CREATED"],Mo=qn({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ir={state:Mo,subscribe(t){return Zs(Mo,()=>t(Mo))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=qt.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=Cn.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),aae.includes(t.data.event)||typeof window>"u")return;const n=Se.getActiveCaipNetwork()?.caipNetworkId;await sae.post({path:"/e",params:ir.getSdkProperties(),body:{eventId:zt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:n}}}}),Mo.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===De.HTTP_STATUS_CODES.FORBIDDEN&&!Mo.reportedErrors.FORBIDDEN&&(Ku.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${H0()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Mo.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){Mo.timestamp=Date.now(),Mo.data=t,(qt.state.features?.analytics||t.event==="INITIALIZE")&&ir._sendAnalyticsEvent(Mo)}},iae=zt.getApiUrl(),Ms=new by({baseUrl:iae,clientId:null}),oae=40,SI=4,lae=20,Yt=qn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Dt={state:Yt,subscribeKey(t,e){return As(Yt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=qt.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return qt.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Ms.baseUrl}/getWalletImage/${t}`,n=await Ms.getBlob({path:e,params:Dt._getSdkProperties()});hi.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Ms.baseUrl}/public/getAssetImage/${t}`,n=await Ms.getBlob({path:e,params:Dt._getSdkProperties()});hi.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Ms.baseUrl}/public/getAssetImage/${t}`,n=await Ms.getBlob({path:e,params:Dt._getSdkProperties()});hi.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Ms.baseUrl}/public/getCurrencyImage/${t}`,n=await Ms.getBlob({path:e,params:Dt._getSdkProperties()});hi.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Ms.baseUrl}/public/getTokenImage/${t}`,n=await Ms.getBlob({path:e,params:Dt._getSdkProperties()});hi.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return zt.isMobile()?t?.filter(e=>e.mobile_link||e.id===ms.COINBASE.id||e.id===ms.BINANCE.id?!0:Se.state.activeChain==="solana"&&(e.id===ms.SOLFLARE.id||e.id===ms.PHANTOM.id)):t},async fetchProjectConfig(){return(await Ms.get({path:"/appkit/v1/config",params:Dt._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Ms.get({path:"/projects/v1/origins",params:Dt._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===De.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=De.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const t=Se.getAllRequestedCaipNetworks()?.map(({assets:e})=>e?.imageId).filter(Boolean).filter(e=>!tae.getNetworkImageById(e));t&&await Promise.allSettled(t.map(e=>Dt._fetchNetworkImage(e)))},async fetchConnectorImages(){const{connectors:t}=It.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Dt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Dt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Dt._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Dt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(ms).map(r=>r.id));const n=await Ms.get({path:"/getWallets",params:{...Dt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:Dt._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=qt.state;if(t?.length){const e={...Dt._getSdkProperties(),page:1,entries:t?.length??SI,include:t},{data:n}=await Dt.fetchWallets(e),r=[...n].sort((a,i)=>t.indexOf(a.id)-t.indexOf(i.id)),s=r.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(s.map(a=>Dt._fetchWalletImage(a))),Yt.featured=r,Yt.allFeatured=r}},async fetchRecommendedWallets(){try{Yt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=qt.state,r=[...e??[],...n??[]].filter(Boolean),s=Se.getRequestedCaipNetworkIds().join(","),a={page:1,entries:SI,include:t,exclude:r,chains:s},{data:i,count:o}=await Dt.fetchWallets(a),c=at.getRecentWallets(),u=i.map(f=>f.image_id).filter(Boolean),h=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u,...h].map(f=>Dt._fetchWalletImage(f))),Yt.recommended=i,Yt.allRecommended=i,Yt.count=o??0}catch{}finally{Yt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=qt.state,s=Se.getRequestedCaipNetworkIds().join(","),a=[...Yt.recommended.map(({id:h})=>h),...n??[],...r??[]].filter(Boolean),i={page:t,entries:oae,include:e,exclude:a,chains:s},{data:o,count:c}=await Dt.fetchWallets(i),u=o.slice(0,lae).map(h=>h.image_id).filter(Boolean);await Promise.allSettled(u.map(h=>Dt._fetchWalletImage(h))),Yt.wallets=zt.uniqueBy([...Yt.wallets,...Dt._filterOutExtensions(o)],"id").filter(h=>h.chains?.some(f=>s.includes(f))),Yt.count=c>Yt.count?c:Yt.count,Yt.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Dt.fetchWallets(e);n&&n.forEach(r=>{Yt.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=qt.state,s=Se.getRequestedCaipNetworkIds().join(",");Yt.search=[];const a={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:r,chains:s},{data:i}=await Dt.fetchWallets(a);ir.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const o=i.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...o.map(c=>Dt._fetchWalletImage(c)),zt.wait(300)]),Yt.search=Dt._filterOutExtensions(i)},initPromise(t,e){return Yt.promises[t]||(Yt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[t&&Dt.initPromise("connectorImages",Dt.fetchConnectorImages),e&&Dt.initPromise("featuredWallets",Dt.fetchFeaturedWallets),n&&Dt.initPromise("recommendedWallets",Dt.fetchRecommendedWallets),r&&Dt.initPromise("networkImages",Dt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){qt.state.features?.analytics&&Dt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Ms.get({path:"/getAnalyticsConfig",params:Dt._getSdkProperties()});qt.setFeatures({analytics:t})}catch{qt.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Yt.featured=Yt.allFeatured,Yt.recommended=Yt.allRecommended;return}const e=Se.getRequestedCaipNetworkIds().join(",");Yt.featured=Yt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Yt.recommended=Yt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Yt.filteredWallets=Yt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))},clearFilterByNamespaces(){Yt.filteredWallets=[]},setFilterByNamespace(t){if(!t){Yt.featured=Yt.allFeatured,Yt.recommended=Yt.allRecommended;return}const e=Se.getRequestedCaipNetworkIds().join(",");Yt.featured=Yt.allFeatured.filter(n=>n.chains?.some(r=>e.includes(r))),Yt.recommended=Yt.allRecommended.filter(n=>n.chains?.some(r=>e.includes(r))),Yt.filteredWallets=Yt.wallets.filter(n=>n.chains?.some(r=>e.includes(r)))}},Pn=qn({view:"Connect",history:["Connect"],transactionStack:[]}),cae={state:Pn,subscribeKey(t,e){return As(Pn,t,e)},pushTransactionStack(t){Pn.transactionStack.push(t)},popTransactionStack(t){const e=Pn.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:s}=e;switch(t){case"success":n?.();break;case"error":r?.(),Qt.goBack();break;case"cancel":s?.(),Qt.goBack();break}},push(t,e){t!==Pn.view&&(Pn.view=t,Pn.history.push(t),Pn.data=e)},reset(t,e){Pn.view=t,Pn.history=[t],Pn.data=e},replace(t,e){Pn.history.at(-1)===t||(Pn.view=t,Pn.history[Pn.history.length-1]=t,Pn.data=e)},goBack(){const t=Se.state.activeCaipAddress,e=Qt.state.view==="ConnectingFarcaster",n=!t&&e;if(Pn.history.length>1){Pn.history.pop();const[r]=Pn.history.slice(-1);r&&(t&&r==="Connect"?Pn.view="Account":Pn.view=r)}else On.close();Pn.data?.wallet&&(Pn.data.wallet=void 0),setTimeout(()=>{if(n){Cn.setFarcasterUrl(void 0,Se.state.activeChain);const r=It.getAuthConnector();r?.provider?.reload();const s=Tg(qt.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(t){if(Pn.history.length>1){Pn.history=Pn.history.slice(0,t+1);const[e]=Pn.history.slice(-1);e&&(Pn.view=e)}},goBackOrCloseModal(){Qt.state.history.length>1?Qt.goBack():On.close()}},Qt=qa(cae),zo=qn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),X5={state:zo,subscribe(t){return Zs(zo,()=>t(zo))},setThemeMode(t){zo.themeMode=t;try{const e=It.getAuthConnector();if(e){const n=X5.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:qw(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){zo.themeVariables={...zo.themeVariables,...t};try{const e=It.getAuthConnector();if(e){const n=X5.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:qw(zo.themeVariables,zo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Tg(zo)}},l1=qa(X5),Ez=Object.fromEntries(Nz.map(t=>[t,void 0])),uae=Object.fromEntries(Nz.map(t=>[t,!0])),bn=qn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:Ez,filterByNamespaceMap:uae}),dae={state:bn,subscribe(t){return Zs(bn,()=>{t(bn)})},subscribeKey(t,e){return As(bn,t,e)},initialize(t){t.forEach(e=>{const n=at.getConnectedConnectorId(e);n&&It.setConnectorId(n,e)})},setActiveConnector(t){t&&(bn.activeConnector=op(t))},setConnectors(t){t.filter(r=>!bn.allConnectors.some(s=>s.id===r.id&&It.getConnectorName(s.name)===It.getConnectorName(r.name)&&s.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&bn.allConnectors.push(op(r))});const e=It.getEnabledNamespaces(),n=It.getEnabledConnectors(e);bn.connectors=It.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(bn.filterByNamespaceMap).forEach(e=>{bn.filterByNamespaceMap[e]=!1}),t.forEach(e=>{bn.filterByNamespaceMap[e]=!0}),It.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){bn.filterByNamespaceMap[t]=e,It.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=It.getEnabledNamespaces(),e=It.getEnabledConnectors(t),n=It.areAllNamespacesEnabled();bn.connectors=It.mergeMultiChainConnectors(e),n?Dt.clearFilterByNamespaces():Dt.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(bn.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return bn.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(bn.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=It.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const s=r[0],a=s?.id===De.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,s=It.getConnectorName(r);if(!s)return;const a=e.get(s)||[];a.find(i=>i.chain===n.chain)||a.push(n),e.set(s,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===De.CONNECTOR_ID.AUTH){const e=t,n=Tg(qt.state),r=l1.getSnapshot().themeMode,s=l1.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:qw(s,r)}),It.setConnectors([t])}else It.setConnectors([t])},getAuthConnector(t){const e=t||Se.state.activeChain,n=bn.connectors.find(r=>r.id===De.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(r=>r.chain===e):n},getAnnouncedConnectorRdns(){return bn.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return bn.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const r=n||Se.state.activeChain;return bn.allConnectors.filter(s=>s.chain===r).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=Tg(qt.state),r=l1.getSnapshot().themeMode,s=l1.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:qw(s,r)})},getConnectorsByNamespace(t){const e=bn.allConnectors.filter(n=>n.chain===t);return It.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return Se.checkIfSmartAccountEnabled()&&fo(t)===Jr.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=It.getConnector({id:t.id,rdns:t.rdns});Yse.handleMobileDeeplinkRedirect(e?.explorerId||t.id,Se.state.activeChain),e?Qt.push("ConnectingExternal",{connector:e,wallet:t}):Qt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?It.getConnectorsByNamespace(t):It.mergeMultiChainConnectors(bn.allConnectors)},setFilterByNamespace(t){bn.filterByNamespace=t,bn.connectors=It.getConnectors(t),Dt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(bn.activeConnectorIds={...bn.activeConnectorIds,[e]:t},at.setConnectedConnectorId(e,t))},removeConnectorId(t){bn.activeConnectorIds={...bn.activeConnectorIds,[t]:void 0},at.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return bn.activeConnectorIds[t]},isConnected(t){return t?!!bn.activeConnectorIds[t]:Object.values(bn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){bn.activeConnectorIds={...Ez}}},It=qa(dae),hae=1e3,Wm={checkNamespaceConnectorId(t,e){return It.getConnectorId(t)===e},isSocialProvider(t){return ks.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:a}){return new Promise((i,o)=>{if(t&&It.setActiveConnector(e),s?.(zt.isMobile()&&t),r){const u=On.subscribeKey("open",h=>{h||(Qt.state.view!==r&&Qt.replace(r),u(),o(new Error("Modal closed")))})}const c=Se.subscribeKey("activeCaipAddress",u=>{u&&(a?.(),n&&On.close(),c(),i(Rc.parseCaipAddress(u)))})})},connectExternal(t){return new Promise((e,n)=>{const r=Se.subscribeKey("activeCaipAddress",s=>{s&&(On.close(),r(),e(Rc.parseCaipAddress(s)))});_t.connectExternal(t,t.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let a=Cn.state.socialWindow,i=Cn.state.socialProvider,o=!1,c=null;const u=e||Se.state.activeChain,h=Se.subscribeKey("activeCaipAddress",f=>{f&&(n&&On.close(),h())});return new Promise((f,m)=>{async function g(y){if(y.data?.resultUri)if(y.origin===De.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const w=It.getAuthConnector(u);if(w&&!o){a&&(a.close(),Cn.setSocialWindow(void 0,u),a=Cn.state.socialWindow),o=!0;const x=y.data.resultUri;if(i&&ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),i){at.setConnectedSocialProvider(i),await _t.connectExternal({id:w.id,type:w.type,socialUri:x},w.chain);const N=Se.state.activeCaipAddress;if(!N){m(new Error("Failed to connect"));return}f(Rc.parseCaipAddress(N)),ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),m(new Error("Failed to connect"))}}else i&&ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function b(){if(t&&(Cn.setSocialProvider(t,u),i=Cn.state.socialProvider,ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){r?.();const y=On.subscribeKey("open",x=>{!x&&t==="farcaster"&&(m(new Error("Popup closed")),s?.(),y())}),w=It.getAuthConnector();if(w&&!Cn.state.farcasterUrl)try{const{url:x}=await w.provider.getFarcasterUri();Cn.setFarcasterUrl(x,u)}catch{m(new Error("Failed to connect to farcaster"))}}else{const y=It.getAuthConnector();c=zt.returnOpenHref(`${De.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(y&&i){const{uri:w}=await y.provider.getSocialRedirectUri({provider:i});if(c&&w){Cn.setSocialWindow(c,u),a=Cn.state.socialWindow,c.location.href=w;const x=setInterval(()=>{a?.closed&&!o&&(m(new Error("Popup closed")),clearInterval(x))},1e3);window.addEventListener("message",g,!1)}else c?.close(),m(new Error("Failed to initiate social connection"))}}catch{m(new Error("Failed to initiate social connection")),c?.close()}}}b()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:r}){return new Promise((s,a)=>{if(n?.(),e){const o=On.subscribeKey("open",c=>{c||(Qt.state.view!==e&&Qt.replace(e),o(),a(new Error("Modal closed")))})}const i=Se.subscribeKey("activeCaipAddress",o=>{o&&(r?.(),t&&On.close(),i(),s(Rc.parseCaipAddress(o)))})})},async updateEmail(){const t=at.getConnectedConnectorId(Se.state.activeChain),e=It.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==De.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await On.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const a=setInterval(()=>{const o=e.provider.getEmail()??"";o!==n&&(On.close(),clearInterval(a),i(),r({email:o}))},hae),i=On.subscribeKey("open",o=>{o||(Qt.state.view!=="Connect"&&Qt.push("Connect"),clearInterval(a),i(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return Se.checkIfSmartAccountEnabled()&&fo(t)===Jr.ACCOUNT_TYPES.EOA}};function Sz(){const t=Se.state.activeCaipNetwork?.chainNamespace||"eip155",e=Se.state.activeCaipNetwork?.id||1,n=ks.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function fo(t){return Se.getAccountData(t)?.preferredAccountType}function gd(t){return t?Se.state.chains.get(t)?.networkState?.caipNetwork:Se.state.activeCaipNetwork}const Az={getConnectionStatus(t,e){const n=It.state.activeConnectorIds[e],r=_t.getConnections(e);return n&&t.connectorId===n?"connected":r.some(s=>s.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(r=>{if(e&&r.connectorId.toLowerCase()===e.toLowerCase()&&n){const s=r.accounts.filter(a=>!n.some(i=>i.toLowerCase()===a.address.toLowerCase()));return{...r,accounts:s}}return r})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!qt.state.remoteFeatures?.multiWallet,n=It.state.activeConnectorIds[t],r=_t.getConnections(t),s=(_t.state.recentConnections.get(t)??[]).filter(i=>It.getConnectorById(i.connectorId)),a=Az.excludeExistingConnections([...r.map(i=>i.connectorId),...n?[n]:[]],s);return e?{connections:r,recentConnections:a}:{connections:r.filter(i=>i.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},Qu=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Tr=qn({...Qu}),fae={state:Tr,subscribeKey(t,e){return As(Tr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=zt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Tr.message=Qu.message,Tr.variant=Qu.variant,Tr.svg=Qu.svg,Tr.open=Qu.open,Tr.autoClose=Qu.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=Qu.autoClose}){Tr.open?(Tr.open=!1,setTimeout(()=>{Tr.message=t,Tr.variant=n,Tr.svg=e,Tr.open=!0,Tr.autoClose=r},150)):(Tr.message=t,Tr.variant=n,Tr.svg=e,Tr.open=!0,Tr.autoClose=r)}},$c=fae,Kn=qn({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),pae={state:Kn,subscribe(t){return Zs(Kn,()=>t(Kn))},setLastNetworkInView(t){Kn.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Kn.loading=!0;try{const e=await Gt.fetchTransactions({account:t,cursor:Kn.next,chainId:Se.state.activeCaipNetwork?.caipNetworkId}),n=sw.filterSpamTransactions(e.data),r=sw.filterByConnectedChain(n),s=[...Kn.transactions,...r];Kn.loading=!1,Kn.transactions=s,Kn.transactionsByYear=sw.groupTransactionsByYearAndMonth(Kn.transactionsByYear,r),Kn.empty=s.length===0,Kn.next=e.next?e.next:void 0}catch{const e=Se.state.activeChain;ir.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:qt.state.projectId,cursor:Kn.next,isSmartAccount:fo(e)===Jr.ACCOUNT_TYPES.SMART_ACCOUNT}}),$c.showError("Failed to fetch transactions"),Kn.loading=!1,Kn.empty=!0,Kn.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),a=new Date(r.metadata.minedAt).getMonth(),i=n[s]??{},o=(i[a]??[]).filter(c=>c.id!==r.id);n[s]={...i,[a]:[...o,r].sort((c,u)=>new Date(u.metadata.minedAt).getTime()-new Date(c.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=Se.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){Kn.next=void 0},resetTransactions(){Kn.transactions=[],Kn.transactionsByYear={},Kn.lastNetworkInView=void 0,Kn.loading=!1,Kn.empty=!1,Kn.next=void 0}},sw=qa(pae,"API_ERROR"),wn=qn({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Tu;const mae={state:wn,subscribe(t){return Zs(wn,()=>t(wn))},subscribeKey(t,e){return As(wn,t,e)},_getClient(){return wn._client},setClient(t){wn._client=op(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);_t.syncStorageConnections(e)},syncStorageConnections(t){const e=at.getConnections(),n=t??Array.from(Se.state.chains.keys());for(const r of n){const s=e[r]??[],a=new Map(wn.recentConnections);a.set(r,s),wn.recentConnections=a}},getConnections(t){return t?wn.connections.get(t)??[]:[]},hasAnyConnection(t){const e=_t.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect(){if(zt.isTelegram()||zt.isSafari()&&zt.isIos()){if(Tu){await Tu,Tu=void 0;return}if(!zt.isPairingExpired(wn?.wcPairingExpiry)){const t=wn.wcUri;wn.wcUri=t;return}Tu=_t._getClient()?.connectWalletConnect?.().catch(()=>{}),_t.state.status="connecting",await Tu,Tu=void 0,wn.wcPairingExpiry=void 0,_t.state.status="connected"}else await _t._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){const r=await _t._getClient()?.connectExternal?.(t);return n&&Se.setActiveNamespace(e),r},async reconnectExternal(t){await _t._getClient()?.reconnectExternal?.(t);const e=t.chain||Se.state.activeChain;e&&It.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;On.setLoading(!0,Se.state.activeChain);const n=It.getAuthConnector();n&&(Cn.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),at.setPreferredAccountTypes(Object.entries(Se.state.chains).reduce((r,[s,a])=>{const i=s,o=fo(i);return o!==void 0&&(r[i]=o),r},{})),await _t.reconnectExternal(n),On.setLoading(!1,Se.state.activeChain),ir.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:Se.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return _t._getClient()?.signMessage(t)},parseUnits(t,e){return _t._getClient()?.parseUnits(t,e)},formatUnits(t,e){return _t._getClient()?.formatUnits(t,e)},async sendTransaction(t){return _t._getClient()?.sendTransaction(t)},async getCapabilities(t){return _t._getClient()?.getCapabilities(t)},async grantPermissions(t){return _t._getClient()?.grantPermissions(t)},async walletGetAssets(t){return _t._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return _t._getClient()?.estimateGas(t)},async writeContract(t){return _t._getClient()?.writeContract(t)},async getEnsAddress(t){return _t._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return _t._getClient()?.getEnsAvatar(t)},checkInstalled(t){return _t._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){wn.wcUri=void 0,wn.wcPairingExpiry=void 0,wn.wcLinking=void 0,wn.recentWallet=void 0,wn.status="disconnected",sw.resetTransactions(),at.deleteWalletConnectDeepLink()},resetUri(){wn.wcUri=void 0,wn.wcPairingExpiry=void 0,Tu=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:n}=_t.state;e&&at.setWalletConnectDeepLink(e),n&&at.setAppKitRecent(n),ir.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:Qt.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){wn.wcBasic=t},setUri(t){wn.wcUri=t,wn.wcPairingExpiry=zt.getPairingExpiry()},setWcLinking(t){wn.wcLinking=t},setWcError(t){wn.wcError=t,wn.buffering=!1},setRecentWallet(t){wn.recentWallet=t},setBuffering(t){wn.buffering=t},setStatus(t){wn.status=t},setIsSwitchingConnection(t){wn.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){try{await _t._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:n})}catch(r){throw new lp("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(t,e){const n=new Map(wn.connections);n.set(e,t),wn.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){const n=Cn.state.user?.accounts?.find(s=>s.type==="smartAccount"),r=n&&n.address.toLowerCase()===t.toLowerCase()&&Wm.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await _t.setPreferredAccountType(r,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const r=It.getConnectorById(t.connectorId),s=t.connectorId===De.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${t.connectorId}`);if(s)s&&n&&await _t.handleAuthAccountSwitch({address:n,namespace:e});else return(await _t.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:e},e))?.address;return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:r}){const s=It.getConnectorById(t.connectorId),a=t.auth?.name?.toLowerCase(),i=t.connectorId===De.CONNECTOR_ID.AUTH,o=t.connectorId===De.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(i)if(a&&Wm.isSocialProvider(a)){const{address:u}=await Wm.connectSocial({social:a,closeModalOnConnect:r,onOpenFarcaster(){On.open({view:"ConnectingFarcaster"})},onConnect(){Qt.replace("ProfileWallets")}});c=u}else{const{address:u}=await Wm.connectEmail({closeModalOnConnect:r,onOpen(){On.open({view:"EmailLogin"})},onConnect(){Qt.replace("ProfileWallets")}});c=u}else if(o){const{address:u}=await Wm.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){On.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){Qt.replace("ProfileWallets")}});c=u}else{const u=await _t.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:e},e);u&&(c=u.address)}return i&&n&&await _t.handleAuthAccountSwitch({address:n,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:r,onChange:s}){let a;const i=Cn.getCaipAddress(n);if(i){const{address:c}=Rc.parseCaipAddress(i);a=c}const o=Az.getConnectionStatus(t,n);switch(o){case"connected":case"active":{const c=await _t.handleActiveConnection({connection:t,namespace:n,address:e});if(a&&c){const u=c.toLowerCase()!==a.toLowerCase();s?.({address:c,namespace:n,hasSwitchedAccount:u,hasSwitchedWallet:o==="active"})}break}case"disconnected":{const c=await _t.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:r});c&&s?.({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${o}`)}}},_t=qa(mae),Hh=qn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),yd={state:Hh,subscribe(t){return Zs(Hh,()=>t(Hh))},subscribeOpen(t){return As(Hh,"open",t)},set(t){Object.assign(Hh,{...Hh,...t})}},gae={async getTokenList(t){return(await Gt.fetchSwapTokens({chainId:t}))?.tokens?.map(e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=Se.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await _t?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Gt.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Gt.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(s?.allowance&&n&&r){const a=_t.parseUnits(n,r)||0;return BigInt(s.allowance)>=a}return!1},async getMyTokensWithBalance(t){const e=await BC.getMyTokensWithBalance(t);return Cn.setTokenBalance(e,Se.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:Sz(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},An=qn({tokenBalances:[],loading:!1}),yae={state:An,subscribe(t){return Zs(An,()=>t(An))},subscribeKey(t,e){return As(An,t,e)},setToken(t){t&&(An.token=op(t))},setTokenAmount(t){An.sendTokenAmount=t},setReceiverAddress(t){An.receiverAddress=t},setReceiverProfileImageUrl(t){An.receiverProfileImageUrl=t},setReceiverProfileName(t){An.receiverProfileName=t},setNetworkBalanceInUsd(t){An.networkBalanceInUSD=t},setLoading(t){An.loading=t},async sendToken(){try{switch(kn.setLoading(!0),Se.state.activeCaipNetwork?.chainNamespace){case"eip155":await kn.sendEvmToken();return;case"solana":await kn.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{kn.setLoading(!1)}},async sendEvmToken(){const t=Se.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=fo(t);if(!kn.state.sendTokenAmount||!kn.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!kn.state.token)throw new Error("A token is required");kn.state.token?.address?(ir.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Jr.ACCOUNT_TYPES.SMART_ACCOUNT,token:kn.state.token.address,amount:kn.state.sendTokenAmount,network:Se.state.activeCaipNetwork?.caipNetworkId||""}}),await kn.sendERC20Token({receiverAddress:kn.state.receiverAddress,tokenAddress:kn.state.token.address,sendTokenAmount:kn.state.sendTokenAmount,decimals:kn.state.token.quantity.decimals})):(ir.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Jr.ACCOUNT_TYPES.SMART_ACCOUNT,token:kn.state.token.symbol||"",amount:kn.state.sendTokenAmount,network:Se.state.activeCaipNetwork?.caipNetworkId||""}}),await kn.sendNativeToken({receiverAddress:kn.state.receiverAddress,sendTokenAmount:kn.state.sendTokenAmount,decimals:kn.state.token.quantity.decimals}))},async fetchTokenBalance(t){An.loading=!0;const e=Se.state.activeCaipNetwork?.caipNetworkId,n=Se.state.activeCaipNetwork?.chainNamespace,r=Se.state.activeCaipAddress,s=r?zt.getPlainAddress(r):void 0;if(An.lastRetry&&!zt.isAllowedRetry(An.lastRetry,30*ks.ONE_SEC_MS))return An.loading=!1,[];try{if(s&&e&&n){const a=await BC.getMyTokensWithBalance();return An.tokenBalances=a,An.lastRetry=void 0,a}}catch(a){An.lastRetry=Date.now(),t?.(a),$c.showError("Token Balance Unavailable")}finally{An.loading=!1}return[]},fetchNetworkBalance(){if(An.tokenBalances.length===0)return;const t=gae.mapBalancesToSwapTokens(An.tokenBalances);if(!t)return;const e=t.find(n=>n.address===Sz());e&&(An.networkBalanceInUSD=e?zse.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){Qt.pushTransactionStack({});const e=t.receiverAddress,n=Cn.state.address,r=_t.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await _t.sendTransaction({chainNamespace:De.CHAIN.EVM,to:e,address:n,data:"0x",value:r??BigInt(0)}),ir.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:fo("eip155")===Jr.ACCOUNT_TYPES.SMART_ACCOUNT,token:kn.state.token?.symbol||"",amount:t.sendTokenAmount,network:Se.state.activeCaipNetwork?.caipNetworkId||""}}),_t._getClient()?.updateBalance("eip155"),kn.resetSend()},async sendERC20Token(t){Qt.pushTransactionStack({onSuccess(){Qt.replace("Account")}});const e=_t.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(Cn.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=zt.getPlainAddress(t.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await _t.writeContract({fromAddress:Cn.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Use.getERC20Abi(n),chainNamespace:De.CHAIN.EVM}),kn.resetSend()}},async sendSolanaToken(){if(!kn.state.sendTokenAmount||!kn.state.receiverAddress)throw new Error("An amount and receiver address are required");Qt.pushTransactionStack({onSuccess(){Qt.replace("Account")}}),await _t.sendTransaction({chainNamespace:"solana",to:kn.state.receiverAddress,value:kn.state.sendTokenAmount}),_t._getClient()?.updateBalance("solana"),kn.resetSend()},resetSend(){An.token=void 0,An.sendTokenAmount=void 0,An.receiverAddress=void 0,An.receiverProfileImageUrl=void 0,An.receiverProfileName=void 0,An.loading=!1,An.tokenBalances=[]}},kn=qa(yae),w4={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},c1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},lt=qn({chains:jse(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),bae={state:lt,subscribe(t){return Zs(lt,()=>{t(lt)})},subscribeKey(t,e){return As(lt,t,e)},subscribeChainProp(t,e,n){let r;return Zs(lt.chains,()=>{const s=n||lt.activeChain;if(s){const a=lt.chains.get(s)?.[t];r!==a&&(r=a,e(a))}})},initialize(t,e,n){const{chainId:r,namespace:s}=at.getActiveNetworkProps(),a=e?.find(u=>u.id.toString()===r?.toString()),i=t.find(u=>u?.namespace===s)||t?.[0],o=t.map(u=>u.namespace).filter(u=>u!==void 0),c=qt.state.enableEmbedded?new Set([...o]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!i)&&(lt.noAdapters=!0),lt.noAdapters||(lt.activeChain=i?.namespace,lt.activeCaipNetwork=a,Se.setChainNetworkData(i?.namespace,{caipNetwork:a}),lt.activeChain&&yd.set({activeChain:i?.namespace})),c.forEach(u=>{const h=e?.filter(g=>g.chainNamespace===u),f=at.getPreferredAccountTypes()||{},m={...qt.state.defaultAccountTypes,...f};Se.state.chains.set(u,{namespace:u,networkState:qn({...c1,caipNetwork:h?.[0]}),accountState:qn({...w4,preferredAccountType:m[u]}),caipNetworks:h??[],...n}),Se.setRequestedCaipNetworks(h??[],u)})},removeAdapter(t){if(lt.activeChain===t){const e=Array.from(lt.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&Se.setActiveCaipNetwork(n)}}lt.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");lt.chains.set(t.namespace,{namespace:t.namespace,networkState:{...c1,caipNetwork:r[0]},accountState:w4,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),Se.setRequestedCaipNetworks(r?.filter(s=>s.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=lt.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(r=>r.id===t.id)||n.push(t),lt.chains.set(t.chainNamespace,{...e,caipNetworks:n}),Se.setRequestedCaipNetworks(n,t.chainNamespace),It.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=lt.chains.get(t);if(n){const r=lt.activeCaipNetwork?.id===e,s=[...n.caipNetworks?.filter(a=>a.id!==e)||[]];r&&n?.caipNetworks?.[0]&&Se.setActiveCaipNetwork(n.caipNetworks[0]),lt.chains.set(t,{...n,caipNetworks:s}),Se.setRequestedCaipNetworks(s||[],t),s.length===0&&It.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=lt.chains.get(t);n&&(n.networkState={...n.networkState||c1,...e},lt.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=lt.chains.get(t);if(r){const s={...r.accountState||w4,...e};lt.chains.set(t,{...r,accountState:s}),(lt.chains.size===1||lt.activeChain===t)&&(e.caipAddress&&(lt.activeCaipAddress=e.caipAddress),Cn.replaceState(s))}},setChainNetworkData(t,e){if(!t)return;const n=lt.chains.get(t);if(n){const r={...n.networkState||c1,...e};lt.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){Se.setChainAccountData(n,{[t]:e},r)},setActiveNamespace(t){lt.activeChain=t;const e=t?lt.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(lt.activeCaipAddress=e?.accountState?.caipAddress,lt.activeCaipNetwork=n,Se.setChainNetworkData(t,{caipNetwork:n}),at.setActiveCaipNetworkId(n?.caipNetworkId),yd.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;lt.activeChain!==t.chainNamespace&&Se.setIsSwitchingNamespace(!0);const e=lt.chains.get(t.chainNamespace);lt.activeChain=t.chainNamespace,lt.activeCaipNetwork=t,Se.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?lt.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:lt.activeCaipAddress=void 0,Se.setAccountProp("caipAddress",lt.activeCaipAddress,t.chainNamespace),e&&Cn.replaceState(e.accountState),kn.resetSend(),yd.set({activeChain:lt.activeChain,selectedNetworkId:lt.activeCaipNetwork?.caipNetworkId}),at.setActiveCaipNetworkId(t.caipNetworkId),!Se.checkIfSupportedNetwork(t.chainNamespace)&&qt.state.enableNetworkSwitch&&!qt.state.allowUnsupportedChain&&!_t.state.wcBasic&&Se.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=lt.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==Se.state.activeChain,n=Se.getNetworkData(t)?.caipNetwork,r=Se.getCaipNetworkByNamespace(t,n?.id);e&&r&&await Se.switchActiveNetwork(r)},async switchActiveNetwork(t){const e=Se.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!Se.state.chains.get(e)?.caipNetworks?.some(s=>s.id===lt.activeCaipNetwork?.id),r=Se.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&On.close()}catch{Qt.goBack()}ir.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||lt.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=lt.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||lt.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=lt.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){const n=lt.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=lt.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=e?.networkState||{};return zt.sortRequestedNetworks(n,r).filter(s=>s?.id)},getAllRequestedCaipNetworks(){const t=[];return lt.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=Se.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){Se.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=Se.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),r=Array.from(new Set(n));It.filterByNamespaces(r)},getAllApprovedCaipNetworkIds(){const t=[];return lt.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=Se.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){return t?lt.chains.get(t)?.networkState?.caipNetwork:lt.activeCaipNetwork},getActiveCaipAddress(){return lt.activeCaipAddress},getApprovedCaipNetworkIds(t){return lt.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const e=await Se.getNetworkControllerClient()?.getApprovedCaipNetworksData();Se.setAdapterNetworkState(t,{approvedCaipNetworkIds:e?.approvedCaipNetworkIds,supportsAllNetworks:e?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||lt.activeCaipNetwork?.caipNetworkId,r=Se.getRequestedCaipNetworks(t);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(t){return lt.activeChain?Se.getRequestedCaipNetworks(lt.activeChain)?.some(e=>e.id===t):!0},setSmartAccountEnabledNetworks(t,e){Se.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=Gw.caipNetworkIdToNumber(lt.activeCaipNetwork?.caipNetworkId),e=lt.activeChain;return!e||!t?!1:!!Se.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){On.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=lt.activeCaipNetwork;return!!(t?.chainNamespace&&ks.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){Se.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=Se.state.chains.get(e)?.accountState?.preferredAccountType,r=qt.state.defaultAccountTypes[e];lt.activeCaipAddress=void 0,Se.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),It.removeConnectorId(e)},setIsSwitchingNamespace(t){lt.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(lt.chains.forEach(n=>{De.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?lt.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||lt.activeChain;if(e)return Se.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||lt.activeChain;if(e)return Se.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=Se.state.chains.get(t);return n?.caipNetworks?.find(s=>s.id===e)||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=It.state.filterByNamespace;return(t?[lt.chains.get(t)]:Array.from(lt.chains.values())).flatMap(e=>e?.caipNetworks||[]).map(e=>e.caipNetworkId)},getCaipNetworks(t){return t?Se.getRequestedCaipNetworks(t):Se.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){lt.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return lt.lastConnectedSIWECaipNetwork}},Se=qa(bae),wae={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},jz=zt.getBlockchainApiUrl(),zs=qn({clientId:null,api:new by({baseUrl:jz,clientId:null}),supportedChains:{http:[],ws:[]}}),Gt={state:zs,async get(t){const{st:e,sv:n}=Gt.getSdkProperties(),r=qt.state.projectId,s={...t.params||{},st:e,sv:n,projectId:r};return zs.api.get({...t,params:s})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=qt.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{zs.supportedChains.http.length||await Gt.getSupportedNetworks()}catch{return!1}return zs.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Gt.get({path:"v1/supported-chains"});return zs.supportedChains=t,t}catch{return zs.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Gt.isNetworkSupported(e))return{avatar:"",name:""};const n=at.getIdentityFromCacheForAddress(t);if(n)return n;const r=await Gt.get({path:`/v1/identity/${t}`,params:{sender:Se.state.activeCaipAddress?zt.getPlainAddress(Se.state.activeCaipAddress):void 0}});return at.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:n,cache:r,chainId:s}){if(!await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const a=at.getTransactionsCacheForAddress({address:t,chainId:s});if(a)return a;const i=await Gt.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:s},signal:n,cache:r});return at.updateTransactionsCache({address:t,chainId:s,timestamp:Date.now(),transactions:i}),i},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:s}){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const e=at.getTokenPriceCacheForAddresses(t);if(e)return e;const n=await zs.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:qt.state.projectId},headers:{"Content-Type":"application/json"}});return at.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=Gt.getSdkProperties();if(!await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Gt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:s}){if(!await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return zs.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:ks.CONVERT_SLIPPAGE_TOLERANCE},projectId:qt.state.projectId,from:e,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:r,sv:s}=Gt.getSdkProperties();if(!await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Gt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:s}})},async getBalance(t,e,n){const{st:r,sv:s}=Gt.getSdkProperties();if(!await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId))return $c.showError("Token Balance Unavailable"),{balances:[]};const a=`${e}:${t}`,i=at.getBalanceCacheForCaipAddress(a);if(i)return i;const o=await Gt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:s}});return at.updateBalanceCache({caipAddress:a,balance:o,timestamp:Date.now()}),o},async lookupEnsName(t){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/profile/reverse/${t}`,params:{sender:Cn.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?zs.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?(await zs.api.post({path:"/v1/generators/onrampurl",params:{projectId:qt.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Gt.get({path:"/v1/onramp/options"})}catch{return wae}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){try{return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?await zs.api.post({path:"/v1/onramp/quote",params:{projectId:qt.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await Gt.isNetworkSupported(Se.state.activeCaipNetwork?.caipNetworkId)?zs.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:qt.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){zs.clientId=t,zs.api=new by({baseUrl:jz,clientId:t})}},v4={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return kp(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},BC={async getMyTokensWithBalance(t){const e=Cn.state.address,n=Se.state.activeCaipNetwork,r=It.getConnectorId("eip155")===De.CONNECTOR_ID.AUTH;if(!e||!n)return[];const s=`${n.caipNetworkId}:${e}`,a=at.getBalanceCacheForCaipAddress(s);if(a)return a.balances;if(n.chainNamespace===De.CHAIN.EVM&&r){const o=await this.getEIP155Balances(e,n);if(o)return this.filterLowQualityTokens(o)}const i=await Gt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(t,e){try{const n=v4.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await _t.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const r=await _t.walletGetAssets({account:t,chainFilter:[n]});if(!v4.isWalletGetAssetsResponse(r))return null;const s=(r[n]||[]).map(a=>v4.createBalance(a,e.caipNetworkId));return at.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:s},timestamp:Date.now()}),s}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Di=qn({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),vae={state:Di,replaceState(t){t&&Object.assign(Di,op(t))},subscribe(t){return Se.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return Se.subscribeChainProp("accountState",s=>{if(s){const a=s[t];r!==a&&(r=a,e(a))}},n)},setStatus(t,e){Se.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return Se.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const n=t?zt.getPlainAddress(t):void 0;e===Se.state.activeChain&&(Se.state.activeCaipAddress=t),Se.setAccountProp("caipAddress",t,e),Se.setAccountProp("address",n,e)},setBalance(t,e,n){Se.setAccountProp("balance",t,n),Se.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){Se.setAccountProp("profileName",t,e)},setProfileImage(t,e){Se.setAccountProp("profileImage",t,e)},setUser(t,e){Se.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){Se.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){Se.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){Se.setAccountProp("currentTab",t,Se.state.activeChain)},setTokenBalance(t,e){t&&Se.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){Se.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){if(!n)return;const r=Se.state.chains.get(n)?.accountState?.addressLabels||new Map;r.set(t,e),Se.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){if(!e)return;const n=Se.state.chains.get(e)?.accountState?.addressLabels||new Map;n.delete(t),Se.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){Se.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){Se.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&Se.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){Se.setAccountProp("socialWindow",t?op(t):void 0,e)},setFarcasterUrl(t,e){Se.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){Di.balanceLoading=!0;const e=Se.state.activeCaipNetwork?.caipNetworkId,n=Se.state.activeCaipNetwork?.chainNamespace,r=Se.state.activeCaipAddress,s=r?zt.getPlainAddress(r):void 0;if(Di.lastRetry&&!zt.isAllowedRetry(Di.lastRetry,30*ks.ONE_SEC_MS))return Di.balanceLoading=!1,[];try{if(s&&e&&n){const a=await BC.getMyTokensWithBalance();return Cn.setTokenBalance(a,n),Di.lastRetry=void 0,Di.balanceLoading=!1,a}}catch(a){Di.lastRetry=Date.now(),t?.(a),$c.showError("Token Balance Unavailable")}finally{Di.balanceLoading=!1}return[]},resetAccount(t){Se.resetAccount(t)}},Cn=qa(vae),xae={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=Se.state.activeCaipNetwork,r=Qt.state.data;if(t.id===n?.id)return;const s=Cn.getCaipAddress(Se.state.activeChain),a=t.chainNamespace!==Se.state.activeChain,i=Cn.getCaipAddress(t.chainNamespace),o=It.getConnectorId(Se.state.activeChain)===De.CONNECTOR_ID.AUTH,c=De.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(u=>u===t.chainNamespace);e||o&&c?Qt.push("SwitchNetwork",{...r,network:t}):s&&a&&!i?Qt.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):Qt.push("SwitchNetwork",{...r,network:t})}},Ls=qn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Nae={state:Ls,subscribe(t){return Zs(Ls,()=>t(Ls))},subscribeKey(t,e){return As(Ls,t,e)},async open(t){const e=t?.namespace,n=Se.state.activeChain,r=e&&e!==n,s=Se.getAccountData(t?.namespace)?.caipAddress;if(_t.state.wcBasic?Dt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Dt.prefetch(),It.setFilterByNamespace(t?.namespace),On.setLoading(!0,e),e&&r){const a=Se.getNetworkData(e)?.caipNetwork||Se.getRequestedCaipNetworks(e)[0];a&&xae.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0})}else{const a=Se.state.noAdapters;qt.state.manualWCControl||a&&!s?zt.isMobile()?Qt.reset("AllWallets"):Qt.reset("ConnectingWalletConnectBasic"):t?.view?Qt.reset(t.view,t.data):s?Qt.reset("Account"):Qt.reset("Connect")}Ls.open=!0,yd.set({open:!0}),ir.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const t=qt.state.enableEmbedded,e=!!Se.state.activeCaipAddress;Ls.open&&ir.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Ls.open=!1,Qt.reset("Connect"),On.clearLoading(),t?e?Qt.replace("Account"):Qt.push("Connect"):yd.set({open:!1}),_t.resetUri()},setLoading(t,e){e&&Ls.loadingNamespaceMap.set(e,t),Ls.loading=t,yd.set({loading:t})},clearLoading(){Ls.loadingNamespaceMap.clear(),Ls.loading=!1,yd.set({loading:!1})},shake(){Ls.shake||(Ls.shake=!0,setTimeout(()=>{Ls.shake=!1},500))}},On=qa(Nae),AI=2147483648,kae={convertEVMChainIdToCoinType(t){if(t>=AI)throw new Error("Invalid chainId");return(AI|t)>>>0}},ja=qn({suggestions:[],loading:!1}),Cae={state:ja,subscribe(t){return Zs(ja,()=>t(ja))},subscribeKey(t,e){return As(ja,t,e)},async resolveName(t){try{return await Gt.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Gt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ja.loading=!0,ja.suggestions=[];const e=await Gt.getEnsNameSuggestions(t);return ja.suggestions=e.suggestions||[],ja.suggestions}catch(e){const n=aw.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ja.loading=!1}},async getNamesForAddress(t){try{if(!Se.state.activeCaipNetwork)return[];const e=at.getEnsFromCacheForAddress(t);if(e)return e;const n=await Gt.reverseLookupEnsName({address:t});return at.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const n=aw.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=Se.state.activeCaipNetwork,n=Cn.state.address,r=It.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");ja.loading=!0;try{const s=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Qt.pushTransactionStack({onCancel(){Qt.replace("RegisterAccountName")}});const a=await _t.signMessage(s);ja.loading=!1;const i=e.id;if(!i)throw new Error("Network not found");const o=kae.convertEVMChainIdToCoinType(Number(i));await Gt.registerEnsName({coinType:o,address:n,signature:a,message:s}),Cn.setProfileName(t,e.chainNamespace),at.updateEnsCache({address:n,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Qt.replace("RegisterAccountNameSuccess")}catch(s){const a=aw.parseEnsApiError(s,`Error registering name ${t}`);throw Qt.replace("RegisterAccountName"),new Error(a)}finally{ja.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},aw=qa(Cae);var u1={exports:{}},jI;function Eae(){if(jI)return u1.exports;jI=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,k,A){return Function.prototype.apply.call(C,k,A)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(C){console&&console.warn&&console.warn(C)}var s=Number.isNaN||function(C){return C!==C};function a(){a.init.call(this)}u1.exports=a,u1.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");i=C}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(C){return C._maxListeners===void 0?a.defaultMaxListeners:C._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(C){for(var k=[],A=1;A<arguments.length;A++)k.push(arguments[A]);var _=C==="error",P=this._events;if(P!==void 0)_=_&&P.error===void 0;else if(!_)return!1;if(_){var I;if(k.length>0&&(I=k[0]),I instanceof Error)throw I;var $=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw $.context=I,$}var H=P[C];if(H===void 0)return!1;if(typeof H=="function")e(H,this,k);else for(var M=H.length,B=b(H,M),A=0;A<M;++A)e(B[A],this,k);return!0};function u(C,k,A,_){var P,I,$;if(o(A),I=C._events,I===void 0?(I=C._events=Object.create(null),C._eventsCount=0):(I.newListener!==void 0&&(C.emit("newListener",k,A.listener?A.listener:A),I=C._events),$=I[k]),$===void 0)$=I[k]=A,++C._eventsCount;else if(typeof $=="function"?$=I[k]=_?[A,$]:[$,A]:_?$.unshift(A):$.push(A),P=c(C),P>0&&$.length>P&&!$.warned){$.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=C,H.type=k,H.count=$.length,r(H)}return C}a.prototype.addListener=function(C,k){return u(this,C,k,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(C,k){return u(this,C,k,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(C,k,A){var _={fired:!1,wrapFn:void 0,target:C,type:k,listener:A},P=h.bind(_);return P.listener=A,_.wrapFn=P,P}a.prototype.once=function(C,k){return o(k),this.on(C,f(this,C,k)),this},a.prototype.prependOnceListener=function(C,k){return o(k),this.prependListener(C,f(this,C,k)),this},a.prototype.removeListener=function(C,k){var A,_,P,I,$;if(o(k),_=this._events,_===void 0)return this;if(A=_[C],A===void 0)return this;if(A===k||A.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete _[C],_.removeListener&&this.emit("removeListener",C,A.listener||k));else if(typeof A!="function"){for(P=-1,I=A.length-1;I>=0;I--)if(A[I]===k||A[I].listener===k){$=A[I].listener,P=I;break}if(P<0)return this;P===0?A.shift():y(A,P),A.length===1&&(_[C]=A[0]),_.removeListener!==void 0&&this.emit("removeListener",C,$||k)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(C){var k,A,_;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[C]),this;if(arguments.length===0){var P=Object.keys(A),I;for(_=0;_<P.length;++_)I=P[_],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=A[C],typeof k=="function")this.removeListener(C,k);else if(k!==void 0)for(_=k.length-1;_>=0;_--)this.removeListener(C,k[_]);return this};function m(C,k,A){var _=C._events;if(_===void 0)return[];var P=_[k];return P===void 0?[]:typeof P=="function"?A?[P.listener||P]:[P]:A?w(P):b(P,P.length)}a.prototype.listeners=function(C){return m(this,C,!0)},a.prototype.rawListeners=function(C){return m(this,C,!1)},a.listenerCount=function(C,k){return typeof C.listenerCount=="function"?C.listenerCount(k):g.call(C,k)},a.prototype.listenerCount=g;function g(C){var k=this._events;if(k!==void 0){var A=k[C];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(C,k){for(var A=new Array(k),_=0;_<k;++_)A[_]=C[_];return A}function y(C,k){for(;k+1<C.length;k++)C[k]=C[k+1];C.pop()}function w(C){for(var k=new Array(C.length),A=0;A<k.length;++A)k[A]=C[A].listener||C[A];return k}function x(C,k){return new Promise(function(A,_){function P($){C.removeListener(k,I),_($)}function I(){typeof C.removeListener=="function"&&C.removeListener("error",P),A([].slice.call(arguments))}E(C,k,I,{once:!0}),k!=="error"&&N(C,P,{once:!0})})}function N(C,k,A){typeof C.on=="function"&&E(C,"error",k,A)}function E(C,k,A,_){if(typeof C.on=="function")_.once?C.once(k,A):C.on(k,A);else if(typeof C.addEventListener=="function")C.addEventListener(k,function P(I){_.once&&C.removeEventListener(k,P),A(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return u1.exports}Eae();const Sae=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n);function TI(t){return typeof t=="string"?t:Sae(t)||""}var x4,II;function Aae(){if(II)return x4;II=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}x4=e;function e(n,r,s){var a=s&&s.stringify||t,i=1;if(typeof n=="object"&&n!==null){var o=r.length+i;if(o===1)return n;var c=new Array(o);c[0]=a(n);for(var u=1;u<o;u++)c[u]=a(r[u]);return c.join(" ")}if(typeof n!="string")return n;var h=r.length;if(h===0)return n;for(var f="",m=1-i,g=-1,b=n&&n.length||0,y=0;y<b;){if(n.charCodeAt(y)===37&&y+1<b){switch(g=g>-1?g:0,n.charCodeAt(y+1)){case 100:case 102:if(m>=h||r[m]==null)break;g<y&&(f+=n.slice(g,y)),f+=Number(r[m]),g=y+2,y++;break;case 105:if(m>=h||r[m]==null)break;g<y&&(f+=n.slice(g,y)),f+=Math.floor(Number(r[m])),g=y+2,y++;break;case 79:case 111:case 106:if(m>=h||r[m]===void 0)break;g<y&&(f+=n.slice(g,y));var w=typeof r[m];if(w==="string"){f+="'"+r[m]+"'",g=y+2,y++;break}if(w==="function"){f+=r[m].name||"<anonymous>",g=y+2,y++;break}f+=a(r[m]),g=y+2,y++;break;case 115:if(m>=h)break;g<y&&(f+=n.slice(g,y)),f+=String(r[m]),g=y+2,y++;break;case 37:g<y&&(f+=n.slice(g,y)),f+="%",g=y+2,y++,m--;break}++m}++y}return g===-1?n:(g<b&&(f+=n.slice(g)),f)}return x4}var N4,_I;function jae(){if(_I)return N4;_I=1;const t=Aae();N4=s;const e=k().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:b,res:b,err:m};function r(A,_){return Array.isArray(A)?A.filter(function(P){return P!=="!stdSerializers.err"}):A===!0?Object.keys(_):!1}function s(A){A=A||{},A.browser=A.browser||{};const _=A.browser.transmit;if(_&&typeof _.send!="function")throw Error("pino: transmit option must have a send function");const P=A.browser.write||e;A.browser.write&&(A.browser.asObject=!0);const I=A.serializers||{},$=r(A.browser.serialize,I);let H=A.browser.serialize;Array.isArray(A.browser.serialize)&&A.browser.serialize.indexOf("!stdSerializers.err")>-1&&(H=!1);const M=["error","fatal","warn","info","debug","trace"];typeof P=="function"&&(P.error=P.fatal=P.warn=P.info=P.debug=P.trace=P),A.enabled===!1&&(A.level="silent");const B=A.level||"info",O=Object.create(P);O.log||(O.log=w),Object.defineProperty(O,"levelVal",{get:G}),Object.defineProperty(O,"level",{get:Z,set:D});const z={transmit:_,serialize:$,asObject:A.browser.asObject,levels:M,timestamp:g(A)};O.levels=s.levels,O.level=B,O.setMaxListeners=O.getMaxListeners=O.emit=O.addListener=O.on=O.prependListener=O.once=O.prependOnceListener=O.removeListener=O.removeAllListeners=O.listeners=O.listenerCount=O.eventNames=O.write=O.flush=w,O.serializers=I,O._serialize=$,O._stdErrSerialize=H,O.child=K,_&&(O._logEvent=f());function G(){return this.level==="silent"?1/0:this.levels.values[this.level]}function Z(){return this._level}function D(ee){if(ee!=="silent"&&!this.levels.values[ee])throw Error("unknown level "+ee);this._level=ee,a(z,O,"error","log"),a(z,O,"fatal","error"),a(z,O,"warn","error"),a(z,O,"info","log"),a(z,O,"debug","log"),a(z,O,"trace","log")}function K(ee,F){if(!ee)throw new Error("missing bindings for child Pino");F=F||{},$&&ee.serializers&&(F.serializers=ee.serializers);const V=F.serializers;if($&&V){var J=Object.assign({},I,V),Q=A.browser.serialize===!0?Object.keys(J):$;delete ee.serializers,c([ee],Q,J,this._stdErrSerialize)}function ae(ue){this._childLevel=(ue._childLevel|0)+1,this.error=u(ue,ee,"error"),this.fatal=u(ue,ee,"fatal"),this.warn=u(ue,ee,"warn"),this.info=u(ue,ee,"info"),this.debug=u(ue,ee,"debug"),this.trace=u(ue,ee,"trace"),J&&(this.serializers=J,this._serialize=Q),_&&(this._logEvent=f([].concat(ue._logEvent.bindings,ee)))}return ae.prototype=this,new ae(this)}return O}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:x,epochTime:N,unixTime:E,isoTime:C});function a(A,_,P,I){const $=Object.getPrototypeOf(_);_[P]=_.levelVal>_.levels.values[P]?w:$[P]?$[P]:e[P]||e[I]||w,i(A,_,P)}function i(A,_,P){!A.transmit&&_[P]===w||(_[P]=function(I){return function(){const $=A.timestamp(),H=new Array(arguments.length),M=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var B=0;B<H.length;B++)H[B]=arguments[B];if(A.serialize&&!A.asObject&&c(H,this._serialize,this.serializers,this._stdErrSerialize),A.asObject?I.call(M,o(this,P,H,$)):I.apply(M,H),A.transmit){const O=A.transmit.level||_.level,z=s.levels.values[O],G=s.levels.values[P];if(G<z)return;h(this,{ts:$,methodLevel:P,methodValue:G,transmitValue:s.levels.values[A.transmit.level||_.level],send:A.transmit.send,val:_.levelVal},H)}}}(_[P]))}function o(A,_,P,I){A._serialize&&c(P,A._serialize,A.serializers,A._stdErrSerialize);const $=P.slice();let H=$[0];const M={};I&&(M.time=I),M.level=s.levels.values[_];let B=(A._childLevel|0)+1;if(B<1&&(B=1),H!==null&&typeof H=="object"){for(;B--&&typeof $[0]=="object";)Object.assign(M,$.shift());H=$.length?t($.shift(),$):void 0}else typeof H=="string"&&(H=t($.shift(),$));return H!==void 0&&(M.msg=H),M}function c(A,_,P,I){for(const $ in A)if(I&&A[$]instanceof Error)A[$]=s.stdSerializers.err(A[$]);else if(typeof A[$]=="object"&&!Array.isArray(A[$]))for(const H in A[$])_&&_.indexOf(H)>-1&&H in P&&(A[$][H]=P[H](A[$][H]))}function u(A,_,P){return function(){const I=new Array(1+arguments.length);I[0]=_;for(var $=1;$<I.length;$++)I[$]=arguments[$-1];return A[P].apply(this,I)}}function h(A,_,P){const I=_.send,$=_.ts,H=_.methodLevel,M=_.methodValue,B=_.val,O=A._logEvent.bindings;c(P,A._serialize||Object.keys(A.serializers),A.serializers,A._stdErrSerialize===void 0?!0:A._stdErrSerialize),A._logEvent.ts=$,A._logEvent.messages=P.filter(function(z){return O.indexOf(z)===-1}),A._logEvent.level.label=H,A._logEvent.level.value=M,I(H,A._logEvent,B),A._logEvent=f(O)}function f(A){return{ts:0,messages:[],bindings:A||[],level:{label:"",value:0}}}function m(A){const _={type:A.constructor.name,msg:A.message,stack:A.stack};for(const P in A)_[P]===void 0&&(_[P]=A[P]);return _}function g(A){return typeof A.timestamp=="function"?A.timestamp:A.timestamp===!1?x:N}function b(){return{}}function y(A){return A}function w(){}function x(){return!1}function N(){return Date.now()}function E(){return Math.round(Date.now()/1e3)}function C(){return new Date(Date.now()).toISOString()}function k(){function A(_){return typeof _<"u"&&_}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return A(self)||A(window)||A(this)||{}}}return N4}var wf=jae();const Tz=xp(wf),Tae={level:"info"},wy="custom_context",FC=1e3*1024;let Iae=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},PI=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const e=new Iae(t);if(e.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${e.size}`);for(;this.size+e.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=e),this.tail=e):(this.head=e,this.tail=e),this.lengthInNodes++,this.sizeInBytes+=e.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let e=this.head;for(;e!==null;)t.push(e.value),e=e.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const e=t.value;return t=t.next,{done:!1,value:e}}}}},Iz=class{constructor(t,e=FC){this.level=t??"error",this.levelValue=wf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=e,this.logs=new PI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,e){e===wf.levels.values.error?console.error(t):e===wf.levels.values.warn?console.warn(t):e===wf.levels.values.debug?console.debug(t):e===wf.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(TI({timestamp:new Date().toISOString(),log:t}));const e=typeof t=="string"?JSON.parse(t).level:t.level;e>=this.levelValue&&this.forwardToConsole(t,e)}getLogs(){return this.logs}clearLogs(){this.logs=new PI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const e=this.getLogArray();return e.push(TI({extraMetadata:t})),new Blob(e,{type:"application/json"})}},_ae=class{constructor(t,e=FC){this.baseChunkLogger=new Iz(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const e=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=e,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}},Pae=class{constructor(t,e=FC){this.baseChunkLogger=new Iz(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var Oae=Object.defineProperty,Rae=Object.defineProperties,$ae=Object.getOwnPropertyDescriptors,OI=Object.getOwnPropertySymbols,Mae=Object.prototype.hasOwnProperty,zae=Object.prototype.propertyIsEnumerable,RI=(t,e,n)=>e in t?Oae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vw=(t,e)=>{for(var n in e||(e={}))Mae.call(e,n)&&RI(t,n,e[n]);if(OI)for(var n of OI(e))zae.call(e,n)&&RI(t,n,e[n]);return t},Zw=(t,e)=>Rae(t,$ae(e));function Lae(t){return Zw(Vw({},t),{level:t?.level||Tae.level})}function Bae(t,e=wy){return t[e]||""}function Fae(t,e,n=wy){return t[n]=e,t}function Uae(t,e=wy){let n="";return typeof t.bindings>"u"?n=Bae(t,e):n=t.bindings().context||"",n}function Dae(t,e,n=wy){const r=Uae(t,n);return r.trim()?`${r}/${e}`:e}function Wae(t,e,n=wy){const r=Dae(t,e,n),s=t.child({context:r});return Fae(s,r,n)}function Hae(t){var e,n;const r=new _ae((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Tz(Zw(Vw({},t.opts),{level:"trace",browser:Zw(Vw({},(n=t.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Gae(t){var e;const n=new Pae((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Tz(Zw(Vw({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function qae(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Hae(t):Gae(t)}function Vae(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const h=t.charAt(u),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=u}const n=t.length,r=t.charAt(0),s=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function i(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let h=0,f=0,m=0;const g=u.length;for(;m!==g&&u[m]===0;)m++,h++;const b=(g-m)*a+1>>>0,y=new Uint8Array(b);for(;m!==g;){let N=u[m],E=0;for(let C=b-1;(N!==0||E<f)&&C!==-1;C--,E++)N+=256*y[C]>>>0,y[C]=N%n>>>0,N=N/n>>>0;if(N!==0)throw new Error("Non-zero carry");f=E,m++}let w=b-f;for(;w!==b&&y[w]===0;)w++;let x=r.repeat(h);for(;w<b;++w)x+=t.charAt(y[w]);return x}function o(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let h=0,f=0,m=0;for(;u[h]===r;)f++,h++;const g=(u.length-h)*s+1>>>0,b=new Uint8Array(g);for(;h<u.length;){const N=u.charCodeAt(h);if(N>255)return;let E=e[N];if(E===255)return;let C=0;for(let k=g-1;(E!==0||C<m)&&k!==-1;k--,C++)E+=n*b[k]>>>0,b[k]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");m=C,h++}let y=g-m;for(;y!==g&&b[y]===0;)y++;const w=new Uint8Array(f+(g-y));let x=f;for(;y!==g;)w[x++]=b[y++];return w}function c(u){const h=o(u);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:i,decodeUnsafe:o,decode:c}}var Zae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Vae(Zae);var $I={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var e6=function(t,e){return e6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},e6(t,e)};function Kae(t,e){e6(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var t6=function(){return t6=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},t6.apply(this,arguments)};function Qae(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Jae(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function Yae(t,e){return function(n,r){e(n,r,t)}}function Xae(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function eie(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((r=r.apply(t,e||[])).next())})}function tie(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nie(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function rie(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function n6(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _z(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function sie(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_z(arguments[e]));return t}function aie(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],i=0,o=a.length;i<o;i++,s++)r[s]=a[i];return r}function Ig(t){return this instanceof Ig?(this.v=t,this):new Ig(t)}function iie(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(m){r[m]&&(s[m]=function(g){return new Promise(function(b,y){a.push([m,g,b,y])>1||o(m,g)})})}function o(m,g){try{c(r[m](g))}catch(b){f(a[0][3],b)}}function c(m){m.value instanceof Ig?Promise.resolve(m.value.v).then(u,h):f(a[0][2],m)}function u(m){o("next",m)}function h(m){o("throw",m)}function f(m,g){m(g),a.shift(),a.length&&o(a[0][0],a[0][1])}}function oie(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(i){return(n=!n)?{value:Ig(t[s](i)),done:s==="return"}:a?a(i):i}:a}}function lie(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof n6=="function"?n6(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(i){return new Promise(function(o,c){i=t[a](i),s(o,c,i.done,i.value)})}}function s(a,i,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},i)}}function cie(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function uie(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function die(t){return t&&t.__esModule?t:{default:t}}function hie(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function fie(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const pie=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return t6},__asyncDelegator:oie,__asyncGenerator:iie,__asyncValues:lie,__await:Ig,__awaiter:eie,__classPrivateFieldGet:hie,__classPrivateFieldSet:fie,__createBinding:nie,__decorate:Jae,__exportStar:rie,__extends:Kae,__generator:tie,__importDefault:die,__importStar:uie,__makeTemplateObject:cie,__metadata:Xae,__param:Yae,__read:_z,__rest:Qae,__spread:sie,__spreadArrays:aie,__values:n6},Symbol.toStringTag,{value:"Module"})),mie=x9(pie);var Lo={},MI;function gie(){if(MI)return Lo;MI=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.isBrowserCryptoAvailable=Lo.getSubtleCrypto=Lo.getBrowerCrypto=void 0;function t(){return globalThis?.crypto||globalThis?.msCrypto||{}}Lo.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}Lo.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return Lo.isBrowserCryptoAvailable=n,Lo}var Bo={},zI;function yie(){if(zI)return Bo;zI=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.isBrowser=Bo.isNode=Bo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Bo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Bo.isNode=e;function n(){return!t()&&!e()}return Bo.isBrowser=n,Bo}var LI;function bie(){return LI||(LI=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=mie;e.__exportStar(gie(),t),e.__exportStar(yie(),t)}($I)),$I}bie();var k4={exports:{}},BI;function wie(){return BI||(BI=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(i){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof a<"u"&&a||{},c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(z){return z&&DataView.prototype.isPrototypeOf(z)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(z){return z&&h.indexOf(Object.prototype.toString.call(z))>-1};function m(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||z==="")throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function g(z){return typeof z!="string"&&(z=String(z)),z}function b(z){var G={next:function(){var Z=z.shift();return{done:Z===void 0,value:Z}}};return c.iterable&&(G[Symbol.iterator]=function(){return G}),G}function y(z){this.map={},z instanceof y?z.forEach(function(G,Z){this.append(Z,G)},this):Array.isArray(z)?z.forEach(function(G){if(G.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+G.length);this.append(G[0],G[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(G){this.append(G,z[G])},this)}y.prototype.append=function(z,G){z=m(z),G=g(G);var Z=this.map[z];this.map[z]=Z?Z+", "+G:G},y.prototype.delete=function(z){delete this.map[m(z)]},y.prototype.get=function(z){return z=m(z),this.has(z)?this.map[z]:null},y.prototype.has=function(z){return this.map.hasOwnProperty(m(z))},y.prototype.set=function(z,G){this.map[m(z)]=g(G)},y.prototype.forEach=function(z,G){for(var Z in this.map)this.map.hasOwnProperty(Z)&&z.call(G,this.map[Z],Z,this)},y.prototype.keys=function(){var z=[];return this.forEach(function(G,Z){z.push(Z)}),b(z)},y.prototype.values=function(){var z=[];return this.forEach(function(G){z.push(G)}),b(z)},y.prototype.entries=function(){var z=[];return this.forEach(function(G,Z){z.push([Z,G])}),b(z)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function w(z){if(!z._noBody){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}}function x(z){return new Promise(function(G,Z){z.onload=function(){G(z.result)},z.onerror=function(){Z(z.error)}})}function N(z){var G=new FileReader,Z=x(G);return G.readAsArrayBuffer(z),Z}function E(z){var G=new FileReader,Z=x(G),D=/charset=([A-Za-z0-9_-]+)/.exec(z.type),K=D?D[1]:"utf-8";return G.readAsText(z,K),Z}function C(z){for(var G=new Uint8Array(z),Z=new Array(G.length),D=0;D<G.length;D++)Z[D]=String.fromCharCode(G[D]);return Z.join("")}function k(z){if(z.slice)return z.slice(0);var G=new Uint8Array(z.byteLength);return G.set(new Uint8Array(z)),G.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(z){this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:c.blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:c.formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():c.arrayBuffer&&c.blob&&u(z)?(this._bodyArrayBuffer=k(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||f(z))?this._bodyArrayBuffer=k(z):this._bodyText=z=Object.prototype.toString.call(z):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var z=w(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var z=w(this);return z||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(N);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var z=w(this);if(z)return z;if(this._bodyBlob)return E(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(z){var G=z.toUpperCase();return _.indexOf(G)>-1?G:z}function I(z,G){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');G=G||{};var Z=G.body;if(z instanceof I){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,G.headers||(this.headers=new y(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!Z&&z._bodyInit!=null&&(Z=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=G.credentials||this.credentials||"same-origin",(G.headers||!this.headers)&&(this.headers=new y(G.headers)),this.method=P(G.method||this.method||"GET"),this.mode=G.mode||this.mode||null,this.signal=G.signal||this.signal||function(){if("AbortController"in o){var ee=new AbortController;return ee.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Z)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Z),(this.method==="GET"||this.method==="HEAD")&&(G.cache==="no-store"||G.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var K=/\?/;this.url+=(K.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function $(z){var G=new FormData;return z.trim().split("&").forEach(function(Z){if(Z){var D=Z.split("="),K=D.shift().replace(/\+/g," "),ee=D.join("=").replace(/\+/g," ");G.append(decodeURIComponent(K),decodeURIComponent(ee))}}),G}function H(z){var G=new y,Z=z.replace(/\r?\n[\t ]+/g," ");return Z.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var K=D.split(":"),ee=K.shift().trim();if(ee){var F=K.join(":").trim();try{G.append(ee,F)}catch(V){console.warn("Response "+V.message)}}}),G}A.call(I.prototype);function M(z,G){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(G||(G={}),this.type="default",this.status=G.status===void 0?200:G.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=G.statusText===void 0?"":""+G.statusText,this.headers=new y(G.headers),this.url=G.url||"",this._initBody(z)}A.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},M.error=function(){var z=new M(null,{status:200,statusText:""});return z.ok=!1,z.status=0,z.type="error",z};var B=[301,302,303,307,308];M.redirect=function(z,G){if(B.indexOf(G)===-1)throw new RangeError("Invalid status code");return new M(null,{status:G,headers:{location:z}})},i.DOMException=o.DOMException;try{new i.DOMException}catch{i.DOMException=function(z,G){this.message=z,this.name=G;var Z=Error(z);this.stack=Z.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function O(z,G){return new Promise(function(Z,D){var K=new I(z,G);if(K.signal&&K.signal.aborted)return D(new i.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function F(){ee.abort()}ee.onload=function(){var Q={statusText:ee.statusText,headers:H(ee.getAllResponseHeaders()||"")};K.url.indexOf("file://")===0&&(ee.status<200||ee.status>599)?Q.status=200:Q.status=ee.status,Q.url="responseURL"in ee?ee.responseURL:Q.headers.get("X-Request-URL");var ae="response"in ee?ee.response:ee.responseText;setTimeout(function(){Z(new M(ae,Q))},0)},ee.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},ee.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},ee.onabort=function(){setTimeout(function(){D(new i.DOMException("Aborted","AbortError"))},0)};function V(Q){try{return Q===""&&o.location.href?o.location.href:Q}catch{return Q}}if(ee.open(K.method,V(K.url),!0),K.credentials==="include"?ee.withCredentials=!0:K.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&(c.blob?ee.responseType="blob":c.arrayBuffer&&(ee.responseType="arraybuffer")),G&&typeof G.headers=="object"&&!(G.headers instanceof y||o.Headers&&G.headers instanceof o.Headers)){var J=[];Object.getOwnPropertyNames(G.headers).forEach(function(Q){J.push(m(Q)),ee.setRequestHeader(Q,g(G.headers[Q]))}),K.headers.forEach(function(Q,ae){J.indexOf(ae)===-1&&ee.setRequestHeader(ae,Q)})}else K.headers.forEach(function(Q,ae){ee.setRequestHeader(ae,Q)});K.signal&&(K.signal.addEventListener("abort",F),ee.onreadystatechange=function(){ee.readyState===4&&K.signal.removeEventListener("abort",F)}),ee.send(typeof K._bodyInit>"u"?null:K._bodyInit)})}return O.polyfill=!0,o.fetch||(o.fetch=O,o.Headers=y,o.Request=I,o.Response=M),i.Headers=y,i.Request=I,i.Response=M,i.fetch=O,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(k4,k4.exports)),k4.exports}wie();let Iu=null;const kc={getSIWX(){return qt.state.siwx},async initializeIfEnabled(t=Se.getActiveCaipAddress()){const e=qt.state.siwx;if(!(e&&t))return;const[n,r,s]=t.split(":");if(Se.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(qt.state.remoteFeatures?.emailCapture){const a=Se.getAccountData(n)?.user;await On.open({view:"DataCapture",data:{email:a?.email??void 0}});return}if(Iu&&await Iu,(await e.getSessions(`${n}:${r}`,s)).length)return;await On.open({view:"SIWXSignMessage"})}catch(a){console.error("SIWXUtil:initializeIfEnabled",a),ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await _t._getClient()?.disconnect().catch(console.error),Qt.reset("Connect"),$c.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=qt.state.siwx,e=zt.getPlainAddress(Se.getActiveCaipAddress()),n=gd(),r=_t._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),a=s.toString();It.getConnectorId(n.chainNamespace)===De.CONNECTOR_ID.AUTH&&Qt.pushTransactionStack({});const i=await r.signMessage(a);await t.addSession({data:s,message:a,signature:i}),Se.setLastConnectedSIWECaipNetwork(n),On.close(),ir.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const a=this.getSIWXEventProperties();(!On.state.open||Qt.state.view==="ApproveTransaction")&&await On.open({view:"SIWXSignMessage"}),$c.showError("Error signing message"),ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const e=Se.getLastConnectedSIWECaipNetwork();if(e){const n=await t?.getSessions(e?.caipNetworkId,zt.getPlainAddress(Se.getActiveCaipAddress())||"");n&&n.length>0?await Se.switchActiveNetwork(e):await _t.disconnect()}else await _t.disconnect()}else On.close();On.close(),ir.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=Se.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async r=>{const s=await t?.getSessions(r.caipNetworkId,zt.getPlainAddress(Se.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(t){const e=qt.state.siwx;let n=t?.address;if(!n){const s=Se.getActiveCaipAddress();n=zt.getPlainAddress(s)}let r=t?.caipNetworkId;return r||(r=Se.getActiveCaipNetwork()?.caipNetworkId),e&&n&&r?e.getSessions(r,n):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=Qt.state.view==="ApproveTransaction",n=Qt.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:r,chainNamespace:s}){const a=kc.getSIWX();if(!a||!s.includes(De.CHAIN.EVM)||qt.state.remoteFeatures?.emailCapture){const h=await t.connect({chainId:e,socialUri:n,preferredAccountType:r});return{address:h.address,chainId:h.chainId,accounts:h.accounts}}const i=`${s}:${e}`,o=await a.createMessage({chainId:i,accountAddress:"<<AccountAddress>>"}),c={accountAddress:o.accountAddress,chainId:o.chainId,domain:o.domain,uri:o.uri,version:o.version,nonce:o.nonce,notBefore:o.notBefore,statement:o.statement,resources:o.resources,requestId:o.requestId,issuedAt:o.issuedAt,expirationTime:o.expirationTime,serializedMessage:o.toString()},u=await t.connect({chainId:e,socialUri:n,siwxMessage:c,preferredAccountType:r});return c.accountAddress=u.address,c.serializedMessage=u.message||"",u.signature&&u.message&&await kc.addEmbeddedWalletSession(c,u.message,u.signature),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,n){if(Iu)return Iu;const r=kc.getSIWX();return r?(Iu=r.addSession({data:t,message:e,signature:n}).finally(()=>{Iu=null}),Iu):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const r=kc.getSIWX(),s=gd(),a=new Set(e.map(c=>c.split(":")[0]));if(!r||a.size!==1||!a.has("eip155"))return!1;const i=await r.createMessage({chainId:gd()?.caipNetworkId||"",accountAddress:""}),o=await t.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...e.filter(c=>c!==i.chainId)]});if($c.showLoading("Authenticating...",{autoClose:!1}),Cn.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(a)[0]),o?.auths?.length){const c=o.auths.map(u=>{const h=t.client.formatAuthMessage({request:u.p,iss:u.p.iss});return{data:{...u.p,accountAddress:u.p.iss.split(":").slice(-1).join(""),chainId:u.p.iss.split(":").slice(2,4).join(":"),uri:u.p.aud,version:u.p.version||i.version,expirationTime:u.p.exp,issuedAt:u.p.iat,notBefore:u.p.nbf},message:h,signature:u.s.s,cacao:u}});try{await r.setSessions(c),s&&Se.setLastConnectedSIWECaipNetwork(s),ir.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:kc.getSIWXEventProperties()})}catch(u){throw console.error("SIWX:universalProviderAuth - failed to set sessions",u),ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:kc.getSIWXEventProperties()}),await t.disconnect().catch(console.error),u}finally{$c.hide()}}return!0},getSIWXEventProperties(){const t=Se.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:Se.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:fo(t)===Jr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},sa={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:De.CHAIN.EVM,CONNECTOR_TYPE_AUTH:"AUTH"},oa={ConnectorExplorerIds:{[De.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[De.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[De.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[De.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[De.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[sa.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[sa.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[sa.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[sa.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[sa.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[sa.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[sa.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[sa.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[sa.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[sa.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[sa.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[De.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[De.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[De.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[De.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[De.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[De.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[De.CONNECTOR_ID.INJECTED]:"Browser Wallet",[De.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[De.CONNECTOR_ID.COINBASE]:"Coinbase",[De.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[De.CONNECTOR_ID.LEDGER]:"Ledger",[De.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[De.CONNECTOR_ID.INJECTED]:"INJECTED",[De.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[De.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[De.CONNECTOR_ID.AUTH]:"AUTH",[sa.CONNECTOR_TYPE_AUTH]:"AUTH"}},Ds={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${sa.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=Se.state.activeChain;return De.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>It.getConnectorId(e)===De.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let r=0;return new Promise(s=>{async function a(){return r+=1,await t()?s(!0):r>=n?s(!1):(setTimeout(a,e),null)}a()})}},vie=new AbortController,sc={EmbeddedWalletAbortController:vie,ALERT_ERRORS:{IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."}}},xie="rpc.walletconnect.org";function FI(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const C4=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],G0={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===xie}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:De.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${De.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const r=t.rpcUrls?.default?.http?.[0];return C4.includes(e)?FI(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(t),a=this.getCaipNetworkId(t),i=t.rpcUrls?.default?.http?.[0],o=this.getDefaultRpcUrl(t,a,n),c=t?.rpcUrls?.chainDefault?.http?.[0]||i,u=r?.[a]?.map(m=>m.url)||[],h=[...u,...o?[o]:[]],f=[...u];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:s,caipNetworkId:a,assets:{imageId:oa.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:h},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(s=>G0.extendCaipNetwork(s,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){const r=[];return n?.forEach(s=>{r.push(Hb(s.url,s.config))}),C4.includes(t.caipNetworkId)&&r.push(Hb(FI(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(s=>{r.push(Hb(s))}),uj(r)},extendWagmiTransports(t,e,n){if(C4.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return uj([n,Hb(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:De.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=at.getActiveCaipNetworkId(),n=Se.getAllRequestedCaipNetworks(),r=Array.from(Se.state.chains?.keys()||[]),s=e?.split(":")[0],a=s?r.includes(s):!1,i=n?.find(o=>o.caipNetworkId===e);return a&&!i&&e?this.getUnsupportedNetwork(e):i||t||n?.[0]}},UI={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},qr={set(t,e){Ji.isClient&&localStorage.setItem(`${bt.STORAGE_KEY}${t}`,e)},get(t){return Ji.isClient?localStorage.getItem(`${bt.STORAGE_KEY}${t}`):null},delete(t,e){Ji.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${bt.STORAGE_KEY}${t}`))}},d1=30*1e3,Ji={checkIfAllowedToTriggerEmail(){const t=qr.get(bt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<d1){const n=Math.ceil((d1-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=qr.get(bt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<d1)return Math.ceil((d1-e)/1e3)}return 0},checkIfRequestExists(t){return Jr.NOT_SAFE_RPC_METHODS.includes(t.method)||Jr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(UI.transactionHash)||t?.match(UI.signedMessage))?bt.RPC_RESPONSE_TYPE_TX:bt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Jr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var vn;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(const i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(vn||(vn={}));var r6;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(r6||(r6={}));const dt=vn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ac=t=>{switch(typeof t){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return isNaN(t)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(t)?dt.array:t===null?dt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?dt.promise:typeof Map<"u"&&t instanceof Map?dt.map:typeof Set<"u"&&t instanceof Set?dt.set:typeof Date<"u"&&t instanceof Date?dt.date:dt.object;default:return dt.unknown}},tt=vn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Nie=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class bi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,vn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bi.create=t=>new bi(t);const _g=(t,e)=>{let n;switch(t.code){case tt.invalid_type:t.received===dt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case tt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,vn.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:n=`Unrecognized key(s) in object: ${vn.joinValues(t.keys,", ")}`;break;case tt.invalid_union:n="Invalid input";break;case tt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vn.joinValues(t.options)}`;break;case tt.invalid_enum_value:n=`Invalid enum value. Expected ${vn.joinValues(t.options)}, received '${t.received}'`;break;case tt.invalid_arguments:n="Invalid function arguments";break;case tt.invalid_return_type:n="Invalid function return type";break;case tt.invalid_date:n="Invalid date";break;case tt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:vn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case tt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case tt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case tt.custom:n="Invalid input";break;case tt.invalid_intersection_types:n="Intersection results could not be merged";break;case tt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case tt.not_finite:n="Number must be finite";break;default:n=e.defaultError,vn.assertNever(t)}return{message:n}};let Pz=_g;function kie(t){Pz=t}function Kw(){return Pz}const Qw=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,a=[...n,...s.path||[]],i={...s,path:a};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:e,defaultError:o}).message;return{...s,path:a,message:s.message||o}},Cie=[];function pt(t,e){const n=Qw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Kw(),_g].filter(r=>!!r)});t.common.issues.push(n)}class ls{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Jt;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return ls.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Jt;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:e.value,value:r}}}const Jt=Object.freeze({status:"aborted"}),Oz=t=>({status:"dirty",value:t}),Ss=t=>({status:"valid",value:t}),s6=t=>t.status==="aborted",a6=t=>t.status==="dirty",Pg=t=>t.status==="valid",Jw=t=>typeof Promise<"u"&&t instanceof Promise;var $t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})($t||($t={}));class po{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const DI=(t,e)=>{if(Pg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bi(t.common.issues);return this._error=n,this._error}}};function Xt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,i)=>a.code!=="invalid_type"?{message:i.defaultError}:typeof i.data>"u"?{message:r??i.defaultError}:{message:n??i.defaultError},description:s}}class nn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ac(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ac(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ls,ctx:{common:e.parent.common,data:e.data,parsedType:Ac(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Jw(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ac(e)},a=this._parseSync({data:e,path:s.path,parent:s});return DI(s,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ac(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(Jw(s)?s:Promise.resolve(s));return DI(r,a)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=e(s),o=()=>a.addIssue({code:tt.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Ei({schema:this,typeName:Wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ul.create(this,this._def)}nullable(){return Hd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wi.create(this,this._def)}promise(){return dp.create(this,this._def)}or(e){return Mg.create([this,e],this._def)}and(e){return zg.create(this,e,this._def)}transform(e){return new Ei({...Xt(this._def),schema:this,typeName:Wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Dg({...Xt(this._def),innerType:this,defaultValue:n,typeName:Wt.ZodDefault})}brand(){return new $z({typeName:Wt.ZodBranded,type:this,...Xt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new tv({...Xt(this._def),innerType:this,catchValue:n,typeName:Wt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return vy.create(this,e)}readonly(){return rv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Eie=/^c[^\s-]{8,}$/i,Sie=/^[a-z][a-z0-9]*$/,Aie=/^[0-9A-HJKMNP-TV-Z]{26}$/,jie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Tie=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Iie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let E4;const _ie=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Pie=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Oie=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Rie(t,e){return!!((e==="v4"||!e)&&_ie.test(t)||(e==="v6"||!e)&&Pie.test(t))}class mi extends nn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==dt.string){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_type,expected:dt.string,received:s.parsedType}),Jt}const n=new ls;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,i=e.data.length<s.value;(a||i)&&(r=this._getOrReturnCtx(e,r),a?pt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&pt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Tie.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"email",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")E4||(E4=new RegExp(Iie,"u")),E4.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"emoji",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")jie.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"uuid",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Eie.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"cuid",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Sie.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"cuid2",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Aie.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"ulid",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),pt(r,{validation:"url",code:tt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"regex",code:tt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Oie(s).test(e.data)||(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Rie(e.data,s.version)||(r=this._getOrReturnCtx(e,r),pt(r,{validation:"ip",code:tt.invalid_string,message:s.message}),n.dirty()):vn.assertNever(s);return{status:n.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:tt.invalid_string,...$t.errToObj(r)})}_addCheck(e){return new mi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$t.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$t.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,...$t.errToObj(e?.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...$t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...$t.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...$t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...$t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...$t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...$t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...$t.errToObj(n)})}nonempty(e){return this.min(1,$t.errToObj(e))}trim(){return new mi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mi.create=t=>{var e;return new mi({checks:[],typeName:Wt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Xt(t)})};function $ie(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(t.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class Gc extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==dt.number){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_type,expected:dt.number,received:s.parsedType}),Jt}let n;const r=new ls;for(const s of this._def.checks)s.kind==="int"?vn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?$ie(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.not_finite,message:s.message}),r.dirty()):vn.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,$t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$t.toString(n))}setLimit(e,n,r,s){return new Gc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$t.toString(s)}]})}_addCheck(e){return new Gc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:$t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Gc.create=t=>new Gc({checks:[],typeName:Wt.ZodNumber,coerce:t?.coerce||!1,...Xt(t)});class qc extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==dt.bigint){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_type,expected:dt.bigint,received:s.parsedType}),Jt}let n;const r=new ls;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):vn.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,$t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$t.toString(n))}setLimit(e,n,r,s){return new qc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$t.toString(s)}]})}_addCheck(e){return new qc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}qc.create=t=>{var e;return new qc({checks:[],typeName:Wt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Xt(t)})};class Og extends nn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==dt.boolean){const n=this._getOrReturnCtx(e);return pt(n,{code:tt.invalid_type,expected:dt.boolean,received:n.parsedType}),Jt}return Ss(e.data)}}Og.create=t=>new Og({typeName:Wt.ZodBoolean,coerce:t?.coerce||!1,...Xt(t)});class Dd extends nn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==dt.date){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_type,expected:dt.date,received:s.parsedType}),Jt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return pt(s,{code:tt.invalid_date}),Jt}const n=new ls;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),pt(r,{code:tt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):vn.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Dd({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:$t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:$t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Dd.create=t=>new Dd({checks:[],coerce:t?.coerce||!1,typeName:Wt.ZodDate,...Xt(t)});class Yw extends nn{_parse(e){if(this._getType(e)!==dt.symbol){const n=this._getOrReturnCtx(e);return pt(n,{code:tt.invalid_type,expected:dt.symbol,received:n.parsedType}),Jt}return Ss(e.data)}}Yw.create=t=>new Yw({typeName:Wt.ZodSymbol,...Xt(t)});class Rg extends nn{_parse(e){if(this._getType(e)!==dt.undefined){const n=this._getOrReturnCtx(e);return pt(n,{code:tt.invalid_type,expected:dt.undefined,received:n.parsedType}),Jt}return Ss(e.data)}}Rg.create=t=>new Rg({typeName:Wt.ZodUndefined,...Xt(t)});class $g extends nn{_parse(e){if(this._getType(e)!==dt.null){const n=this._getOrReturnCtx(e);return pt(n,{code:tt.invalid_type,expected:dt.null,received:n.parsedType}),Jt}return Ss(e.data)}}$g.create=t=>new $g({typeName:Wt.ZodNull,...Xt(t)});class up extends nn{constructor(){super(...arguments),this._any=!0}_parse(e){return Ss(e.data)}}up.create=t=>new up({typeName:Wt.ZodAny,...Xt(t)});class Ed extends nn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ss(e.data)}}Ed.create=t=>new Ed({typeName:Wt.ZodUnknown,...Xt(t)});class ml extends nn{_parse(e){const n=this._getOrReturnCtx(e);return pt(n,{code:tt.invalid_type,expected:dt.never,received:n.parsedType}),Jt}}ml.create=t=>new ml({typeName:Wt.ZodNever,...Xt(t)});class Xw extends nn{_parse(e){if(this._getType(e)!==dt.undefined){const n=this._getOrReturnCtx(e);return pt(n,{code:tt.invalid_type,expected:dt.void,received:n.parsedType}),Jt}return Ss(e.data)}}Xw.create=t=>new Xw({typeName:Wt.ZodVoid,...Xt(t)});class wi extends nn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==dt.array)return pt(n,{code:tt.invalid_type,expected:dt.array,received:n.parsedType}),Jt;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(i||o)&&(pt(n,{code:i?tt.too_big:tt.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(pt(n,{code:tt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(pt(n,{code:tt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>s.type._parseAsync(new po(n,i,n.path,o)))).then(i=>ls.mergeArray(r,i));const a=[...n.data].map((i,o)=>s.type._parseSync(new po(n,i,n.path,o)));return ls.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new wi({...this._def,minLength:{value:e,message:$t.toString(n)}})}max(e,n){return new wi({...this._def,maxLength:{value:e,message:$t.toString(n)}})}length(e,n){return new wi({...this._def,exactLength:{value:e,message:$t.toString(n)}})}nonempty(e){return this.min(1,e)}}wi.create=(t,e)=>new wi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Wt.ZodArray,...Xt(e)});function vf(t){if(t instanceof rr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ul.create(vf(r))}return new rr({...t._def,shape:()=>e})}else return t instanceof wi?new wi({...t._def,type:vf(t.element)}):t instanceof ul?ul.create(vf(t.unwrap())):t instanceof Hd?Hd.create(vf(t.unwrap())):t instanceof mo?mo.create(t.items.map(e=>vf(e))):t}class rr extends nn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=vn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==dt.object){const c=this._getOrReturnCtx(e);return pt(c,{code:tt.invalid_type,expected:dt.object,received:c.parsedType}),Jt}const{status:n,ctx:r}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof ml&&this._def.unknownKeys==="strip"))for(const c in r.data)a.includes(c)||i.push(c);const o=[];for(const c of a){const u=s[c],h=r.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new po(r,h,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof ml){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of i)o.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(c==="strict")i.length>0&&(pt(r,{code:tt.unrecognized_keys,keys:i}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of i){const h=r.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new po(r,h,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const h=await u.key;c.push({key:h,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>ls.mergeObjectSync(n,c)):ls.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(e){return $t.errToObj,new rr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a,i,o;const c=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=$t.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new rr({...this._def,unknownKeys:"strip"})}passthrough(){return new rr({...this._def,unknownKeys:"passthrough"})}extend(e){return new rr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new rr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Wt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new rr({...this._def,catchall:e})}pick(e){const n={};return vn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new rr({...this._def,shape:()=>n})}omit(e){const n={};return vn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new rr({...this._def,shape:()=>n})}deepPartial(){return vf(this)}partial(e){const n={};return vn.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new rr({...this._def,shape:()=>n})}required(e){const n={};return vn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ul;)s=s._def.innerType;n[r]=s}}),new rr({...this._def,shape:()=>n})}keyof(){return Rz(vn.objectKeys(this.shape))}}rr.create=(t,e)=>new rr({shape:()=>t,unknownKeys:"strip",catchall:ml.create(),typeName:Wt.ZodObject,...Xt(e)});rr.strictCreate=(t,e)=>new rr({shape:()=>t,unknownKeys:"strict",catchall:ml.create(),typeName:Wt.ZodObject,...Xt(e)});rr.lazycreate=(t,e)=>new rr({shape:t,unknownKeys:"strip",catchall:ml.create(),typeName:Wt.ZodObject,...Xt(e)});class Mg extends nn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new bi(o.ctx.common.issues));return pt(n,{code:tt.invalid_union,unionErrors:i}),Jt}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new bi(c));return pt(n,{code:tt.invalid_union,unionErrors:o}),Jt}}get options(){return this._def.options}}Mg.create=(t,e)=>new Mg({options:t,typeName:Wt.ZodUnion,...Xt(e)});const iw=t=>t instanceof Bg?iw(t.schema):t instanceof Ei?iw(t.innerType()):t instanceof Fg?[t.value]:t instanceof Vc?t.options:t instanceof Ug?Object.keys(t.enum):t instanceof Dg?iw(t._def.innerType):t instanceof Rg?[void 0]:t instanceof $g?[null]:null;class bx extends nn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==dt.object)return pt(n,{code:tt.invalid_type,expected:dt.object,received:n.parsedType}),Jt;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(pt(n,{code:tt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Jt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const a of n){const i=iw(a.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,a)}}return new bx({typeName:Wt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Xt(r)})}}function i6(t,e){const n=Ac(t),r=Ac(e);if(t===e)return{valid:!0,data:t};if(n===dt.object&&r===dt.object){const s=vn.objectKeys(e),a=vn.objectKeys(t).filter(o=>s.indexOf(o)!==-1),i={...t,...e};for(const o of a){const c=i6(t[o],e[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(n===dt.array&&r===dt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const i=t[a],o=e[a],c=i6(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===dt.date&&r===dt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class zg extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(a,i)=>{if(s6(a)||s6(i))return Jt;const o=i6(a.value,i.value);return o.valid?((a6(a)||a6(i))&&n.dirty(),{status:n.value,value:o.data}):(pt(r,{code:tt.invalid_intersection_types}),Jt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}zg.create=(t,e,n)=>new zg({left:t,right:e,typeName:Wt.ZodIntersection,...Xt(n)});class mo extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==dt.array)return pt(r,{code:tt.invalid_type,expected:dt.array,received:r.parsedType}),Jt;if(r.data.length<this._def.items.length)return pt(r,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Jt;!this._def.rest&&r.data.length>this._def.items.length&&(pt(r,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,i)=>{const o=this._def.items[i]||this._def.rest;return o?o._parse(new po(r,a,r.path,i)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>ls.mergeArray(n,a)):ls.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new mo({...this._def,rest:e})}}mo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mo({items:t,typeName:Wt.ZodTuple,rest:null,...Xt(e)})};class Lg extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==dt.object)return pt(r,{code:tt.invalid_type,expected:dt.object,received:r.parsedType}),Jt;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new po(r,o,r.path,o)),value:i._parse(new po(r,r.data[o],r.path,o))});return r.common.async?ls.mergeObjectAsync(n,s):ls.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof nn?new Lg({keyType:e,valueType:n,typeName:Wt.ZodRecord,...Xt(r)}):new Lg({keyType:mi.create(),valueType:e,typeName:Wt.ZodRecord,...Xt(n)})}}class ev extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==dt.map)return pt(r,{code:tt.invalid_type,expected:dt.map,received:r.parsedType}),Jt;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,c],u)=>({key:s._parse(new po(r,o,r.path,[u,"key"])),value:a._parse(new po(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return Jt;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(u.value,h.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of i){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return Jt;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(u.value,h.value)}return{status:n.value,value:o}}}}ev.create=(t,e,n)=>new ev({valueType:e,keyType:t,typeName:Wt.ZodMap,...Xt(n)});class Wd extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==dt.set)return pt(r,{code:tt.invalid_type,expected:dt.set,received:r.parsedType}),Jt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(pt(r,{code:tt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(pt(r,{code:tt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const h of c){if(h.status==="aborted")return Jt;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>a._parse(new po(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(e,n){return new Wd({...this._def,minSize:{value:e,message:$t.toString(n)}})}max(e,n){return new Wd({...this._def,maxSize:{value:e,message:$t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Wd.create=(t,e)=>new Wd({valueType:t,minSize:null,maxSize:null,typeName:Wt.ZodSet,...Xt(e)});class Df extends nn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==dt.function)return pt(n,{code:tt.invalid_type,expected:dt.function,received:n.parsedType}),Jt;function r(o,c){return Qw({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Kw(),_g].filter(u=>!!u),issueData:{code:tt.invalid_arguments,argumentsError:c}})}function s(o,c){return Qw({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Kw(),_g].filter(u=>!!u),issueData:{code:tt.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof dp){const o=this;return Ss(async function(...c){const u=new bi([]),h=await o._def.args.parseAsync(c,a).catch(m=>{throw u.addIssue(r(c,m)),u}),f=await Reflect.apply(i,this,h);return await o._def.returns._def.type.parseAsync(f,a).catch(m=>{throw u.addIssue(s(f,m)),u})})}else{const o=this;return Ss(function(...c){const u=o._def.args.safeParse(c,a);if(!u.success)throw new bi([r(c,u.error)]);const h=Reflect.apply(i,this,u.data),f=o._def.returns.safeParse(h,a);if(!f.success)throw new bi([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Df({...this._def,args:mo.create(e).rest(Ed.create())})}returns(e){return new Df({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Df({args:e||mo.create([]).rest(Ed.create()),returns:n||Ed.create(),typeName:Wt.ZodFunction,...Xt(r)})}}class Bg extends nn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Bg.create=(t,e)=>new Bg({getter:t,typeName:Wt.ZodLazy,...Xt(e)});class Fg extends nn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return pt(n,{received:n.data,code:tt.invalid_literal,expected:this._def.value}),Jt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fg.create=(t,e)=>new Fg({value:t,typeName:Wt.ZodLiteral,...Xt(e)});function Rz(t,e){return new Vc({values:t,typeName:Wt.ZodEnum,...Xt(e)})}class Vc extends nn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return pt(n,{expected:vn.joinValues(r),received:n.parsedType,code:tt.invalid_type}),Jt}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return pt(n,{received:n.data,code:tt.invalid_enum_value,options:r}),Jt}return Ss(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Vc.create(e)}exclude(e){return Vc.create(this.options.filter(n=>!e.includes(n)))}}Vc.create=Rz;class Ug extends nn{_parse(e){const n=vn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==dt.string&&r.parsedType!==dt.number){const s=vn.objectValues(n);return pt(r,{expected:vn.joinValues(s),received:r.parsedType,code:tt.invalid_type}),Jt}if(n.indexOf(e.data)===-1){const s=vn.objectValues(n);return pt(r,{received:r.data,code:tt.invalid_enum_value,options:s}),Jt}return Ss(e.data)}get enum(){return this._def.values}}Ug.create=(t,e)=>new Ug({values:t,typeName:Wt.ZodNativeEnum,...Xt(e)});class dp extends nn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==dt.promise&&n.common.async===!1)return pt(n,{code:tt.invalid_type,expected:dt.promise,received:n.parsedType}),Jt;const r=n.parsedType===dt.promise?n.data:Promise.resolve(n.data);return Ss(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}dp.create=(t,e)=>new dp({type:t,typeName:Wt.ZodPromise,...Xt(e)});class Ei extends nn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{pt(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:i,path:r.path,parent:r})}if(s.type==="refinement"){const i=o=>{const c=s.refinement(o,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Jt:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Jt:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Pg(i))return i;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Pg(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:n.value,value:o})):i);vn.assertNever(s)}}Ei.create=(t,e,n)=>new Ei({schema:t,typeName:Wt.ZodEffects,effect:e,...Xt(n)});Ei.createWithPreprocess=(t,e,n)=>new Ei({schema:e,effect:{type:"preprocess",transform:t},typeName:Wt.ZodEffects,...Xt(n)});class ul extends nn{_parse(e){return this._getType(e)===dt.undefined?Ss(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ul.create=(t,e)=>new ul({innerType:t,typeName:Wt.ZodOptional,...Xt(e)});class Hd extends nn{_parse(e){return this._getType(e)===dt.null?Ss(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hd.create=(t,e)=>new Hd({innerType:t,typeName:Wt.ZodNullable,...Xt(e)});class Dg extends nn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===dt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Dg.create=(t,e)=>new Dg({innerType:t,typeName:Wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xt(e)});class tv extends nn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Jw(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tv.create=(t,e)=>new tv({innerType:t,typeName:Wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xt(e)});class nv extends nn{_parse(e){if(this._getType(e)!==dt.nan){const n=this._getOrReturnCtx(e);return pt(n,{code:tt.invalid_type,expected:dt.nan,received:n.parsedType}),Jt}return{status:"valid",value:e.data}}}nv.create=t=>new nv({typeName:Wt.ZodNaN,...Xt(t)});const Mie=Symbol("zod_brand");class $z extends nn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class vy extends nn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Jt:s.status==="dirty"?(n.dirty(),Oz(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Jt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new vy({in:e,out:n,typeName:Wt.ZodPipeline})}}class rv extends nn{_parse(e){const n=this._def.innerType._parse(e);return Pg(n)&&(n.value=Object.freeze(n.value)),n}}rv.create=(t,e)=>new rv({innerType:t,typeName:Wt.ZodReadonly,...Xt(e)});const Mz=(t,e={},n)=>t?up.create().superRefine((r,s)=>{var a,i;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(i=(a=o.fatal)!==null&&a!==void 0?a:n)!==null&&i!==void 0?i:!0,u=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...u,fatal:c})}}):up.create(),zie={object:rr.lazycreate};var Wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Wt||(Wt={}));const Lie=(t,e={message:`Input not instance of ${t.name}`})=>Mz(n=>n instanceof t,e),zz=mi.create,Lz=Gc.create,Bie=nv.create,Fie=qc.create,Bz=Og.create,Uie=Dd.create,Die=Yw.create,Wie=Rg.create,Hie=$g.create,Gie=up.create,qie=Ed.create,Vie=ml.create,Zie=Xw.create,Kie=wi.create,Qie=rr.create,Jie=rr.strictCreate,Yie=Mg.create,Xie=bx.create,eoe=zg.create,toe=mo.create,noe=Lg.create,roe=ev.create,soe=Wd.create,aoe=Df.create,ioe=Bg.create,ooe=Fg.create,loe=Vc.create,coe=Ug.create,uoe=dp.create,WI=Ei.create,doe=ul.create,hoe=Hd.create,foe=Ei.createWithPreprocess,poe=vy.create,moe=()=>zz().optional(),goe=()=>Lz().optional(),yoe=()=>Bz().optional(),boe={string:t=>mi.create({...t,coerce:!0}),number:t=>Gc.create({...t,coerce:!0}),boolean:t=>Og.create({...t,coerce:!0}),bigint:t=>qc.create({...t,coerce:!0}),date:t=>Dd.create({...t,coerce:!0})},woe=Jt;var te=Object.freeze({__proto__:null,defaultErrorMap:_g,setErrorMap:kie,getErrorMap:Kw,makeIssue:Qw,EMPTY_PATH:Cie,addIssueToContext:pt,ParseStatus:ls,INVALID:Jt,DIRTY:Oz,OK:Ss,isAborted:s6,isDirty:a6,isValid:Pg,isAsync:Jw,get util(){return vn},get objectUtil(){return r6},ZodParsedType:dt,getParsedType:Ac,ZodType:nn,ZodString:mi,ZodNumber:Gc,ZodBigInt:qc,ZodBoolean:Og,ZodDate:Dd,ZodSymbol:Yw,ZodUndefined:Rg,ZodNull:$g,ZodAny:up,ZodUnknown:Ed,ZodNever:ml,ZodVoid:Xw,ZodArray:wi,ZodObject:rr,ZodUnion:Mg,ZodDiscriminatedUnion:bx,ZodIntersection:zg,ZodTuple:mo,ZodRecord:Lg,ZodMap:ev,ZodSet:Wd,ZodFunction:Df,ZodLazy:Bg,ZodLiteral:Fg,ZodEnum:Vc,ZodNativeEnum:Ug,ZodPromise:dp,ZodEffects:Ei,ZodTransformer:Ei,ZodOptional:ul,ZodNullable:Hd,ZodDefault:Dg,ZodCatch:tv,ZodNaN:nv,BRAND:Mie,ZodBranded:$z,ZodPipeline:vy,ZodReadonly:rv,custom:Mz,Schema:nn,ZodSchema:nn,late:zie,get ZodFirstPartyTypeKind(){return Wt},coerce:boe,any:Gie,array:Kie,bigint:Fie,boolean:Bz,date:Uie,discriminatedUnion:Xie,effect:WI,enum:loe,function:aoe,instanceof:Lie,intersection:eoe,lazy:ioe,literal:ooe,map:roe,nan:Bie,nativeEnum:coe,never:Vie,null:Hie,nullable:hoe,number:Lz,object:Qie,oboolean:yoe,onumber:goe,optional:doe,ostring:moe,pipeline:poe,preprocess:foe,promise:uoe,record:noe,set:soe,strictObject:Jie,string:zz,symbol:Die,transformer:WI,tuple:toe,undefined:Wie,union:Yie,unknown:qie,void:Zie,NEVER:woe,ZodIssueCode:tt,quotelessJson:Nie,ZodError:bi});const lr=te.object({message:te.string()});function ht(t){return te.literal(bt[t])}const wx=te.object({serializedMessage:te.string().optional(),accountAddress:te.string(),chainId:te.string(),notBefore:te.string().optional(),domain:te.string(),uri:te.string(),version:te.string(),nonce:te.string(),statement:te.string().optional(),resources:te.array(te.string()).optional(),requestId:te.string().optional(),issuedAt:te.string().optional(),expirationTime:te.string().optional()});te.object({accessList:te.array(te.string()),blockHash:te.string().nullable(),blockNumber:te.string().nullable(),chainId:te.string().or(te.number()),from:te.string(),gas:te.string(),hash:te.string(),input:te.string().nullable(),maxFeePerGas:te.string(),maxPriorityFeePerGas:te.string(),nonce:te.string(),r:te.string(),s:te.string(),to:te.string(),transactionIndex:te.string().nullable(),type:te.string(),v:te.string(),value:te.string()});const voe=te.object({chainId:te.string().or(te.number()),rpcUrl:te.optional(te.string())}),xoe=te.object({email:te.string().email()}),Noe=te.object({otp:te.string()}),koe=te.object({uri:te.string(),preferredAccountType:te.optional(te.string()),chainId:te.optional(te.string().or(te.number())),siwxMessage:te.optional(wx),rpcUrl:te.optional(te.string())}),Coe=te.object({chainId:te.optional(te.string().or(te.number())),preferredAccountType:te.optional(te.string()),socialUri:te.optional(te.string()),siwxMessage:te.optional(wx),rpcUrl:te.optional(te.string())}),Eoe=te.object({provider:te.enum(["google","github","apple","facebook","x","discord"])}),Soe=te.object({email:te.string().email()}),Aoe=te.object({otp:te.string()}),joe=te.object({otp:te.string()}),Toe=te.object({themeMode:te.optional(te.enum(["light","dark"])),themeVariables:te.optional(te.record(te.string(),te.string().or(te.number()))),w3mThemeVariables:te.optional(te.record(te.string(),te.string()))}),Ioe=te.object({metadata:te.object({name:te.string(),description:te.string(),url:te.string(),icons:te.array(te.string())}).optional(),sdkVersion:te.string().optional(),sdkType:te.string().optional(),projectId:te.string()}),_oe=te.object({type:te.string()}),Poe=te.object({action:te.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Ooe=te.object({url:te.string()}),Roe=te.object({userName:te.string()}),$oe=te.object({email:te.string().optional().nullable(),address:te.string(),chainId:te.string().or(te.number()),accounts:te.array(te.object({address:te.string(),type:te.enum([Jr.ACCOUNT_TYPES.EOA,Jr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:te.string().optional().nullable(),preferredAccountType:te.optional(te.string()),signature:te.string().optional(),message:te.string().optional(),siwxMessage:te.optional(wx)}),Moe=te.object({action:te.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),zoe=te.object({email:te.string().email().optional().nullable(),address:te.string(),chainId:te.string().or(te.number()),smartAccountDeployed:te.optional(te.boolean()),accounts:te.array(te.object({address:te.string(),type:te.enum([Jr.ACCOUNT_TYPES.EOA,Jr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:te.optional(te.string()),signature:te.string().optional(),message:te.string().optional(),siwxMessage:te.optional(wx)}),Loe=te.object({uri:te.string()}),Boe=te.object({isConnected:te.boolean()}),Foe=te.object({chainId:te.string().or(te.number())}),Uoe=te.object({chainId:te.string().or(te.number())}),Doe=te.object({newEmail:te.string().email()}),Woe=te.object({smartAccountEnabledNetworks:te.array(te.number())});te.object({address:te.string(),isDeployed:te.boolean()});const Hoe=te.object({version:te.string().optional()}),Goe=te.object({type:te.string(),address:te.string()}),qoe=te.any(),Voe=te.object({method:te.literal("eth_accounts")}),Zoe=te.object({method:te.literal("eth_blockNumber")}),Koe=te.object({method:te.literal("eth_call"),params:te.array(te.any())}),Qoe=te.object({method:te.literal("eth_chainId")}),Joe=te.object({method:te.literal("eth_estimateGas"),params:te.array(te.any())}),Yoe=te.object({method:te.literal("eth_feeHistory"),params:te.array(te.any())}),Xoe=te.object({method:te.literal("eth_gasPrice")}),ele=te.object({method:te.literal("eth_getAccount"),params:te.array(te.any())}),tle=te.object({method:te.literal("eth_getBalance"),params:te.array(te.any())}),nle=te.object({method:te.literal("eth_getBlockByHash"),params:te.array(te.any())}),rle=te.object({method:te.literal("eth_getBlockByNumber"),params:te.array(te.any())}),sle=te.object({method:te.literal("eth_getBlockReceipts"),params:te.array(te.any())}),ale=te.object({method:te.literal("eth_getBlockTransactionCountByHash"),params:te.array(te.any())}),ile=te.object({method:te.literal("eth_getBlockTransactionCountByNumber"),params:te.array(te.any())}),ole=te.object({method:te.literal("eth_getCode"),params:te.array(te.any())}),lle=te.object({method:te.literal("eth_getFilterChanges"),params:te.array(te.any())}),cle=te.object({method:te.literal("eth_getFilterLogs"),params:te.array(te.any())}),ule=te.object({method:te.literal("eth_getLogs"),params:te.array(te.any())}),dle=te.object({method:te.literal("eth_getProof"),params:te.array(te.any())}),hle=te.object({method:te.literal("eth_getStorageAt"),params:te.array(te.any())}),fle=te.object({method:te.literal("eth_getTransactionByBlockHashAndIndex"),params:te.array(te.any())}),ple=te.object({method:te.literal("eth_getTransactionByBlockNumberAndIndex"),params:te.array(te.any())}),mle=te.object({method:te.literal("eth_getTransactionByHash"),params:te.array(te.any())}),gle=te.object({method:te.literal("eth_getTransactionCount"),params:te.array(te.any())}),yle=te.object({method:te.literal("eth_getTransactionReceipt"),params:te.array(te.any())}),ble=te.object({method:te.literal("eth_getUncleCountByBlockHash"),params:te.array(te.any())}),wle=te.object({method:te.literal("eth_getUncleCountByBlockNumber"),params:te.array(te.any())}),vle=te.object({method:te.literal("eth_maxPriorityFeePerGas")}),xle=te.object({method:te.literal("eth_newBlockFilter")}),Nle=te.object({method:te.literal("eth_newFilter"),params:te.array(te.any())}),kle=te.object({method:te.literal("eth_newPendingTransactionFilter")}),Cle=te.object({method:te.literal("eth_sendRawTransaction"),params:te.array(te.any())}),Ele=te.object({method:te.literal("eth_syncing"),params:te.array(te.any())}),Sle=te.object({method:te.literal("eth_uninstallFilter"),params:te.array(te.any())}),HI=te.object({method:te.literal("personal_sign"),params:te.array(te.any())}),Ale=te.object({method:te.literal("eth_signTypedData_v4"),params:te.array(te.any())}),jle=te.object({method:te.literal("eth_sendTransaction"),params:te.array(te.any())}),Tle=te.object({method:te.literal("solana_signMessage"),params:te.object({message:te.string(),pubkey:te.string()})}),Ile=te.object({method:te.literal("solana_signTransaction"),params:te.object({transaction:te.string()})}),_le=te.object({method:te.literal("solana_signAllTransactions"),params:te.object({transactions:te.array(te.string())})}),Ple=te.object({method:te.literal("solana_signAndSendTransaction"),params:te.object({transaction:te.string(),options:te.object({skipPreflight:te.boolean().optional(),preflightCommitment:te.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:te.number().optional(),minContextSlot:te.number().optional()}).optional()})}),Ole=te.object({method:te.literal("wallet_sendCalls"),params:te.array(te.object({chainId:te.string().or(te.number()).optional(),from:te.string().optional(),version:te.string().optional(),capabilities:te.any().optional(),calls:te.array(te.object({to:te.string().startsWith("0x"),data:te.string().startsWith("0x").optional(),value:te.string().optional()}))}))}),Rle=te.object({method:te.literal("wallet_getCallsStatus"),params:te.array(te.string())}),$le=te.object({method:te.literal("wallet_getCapabilities"),params:te.array(te.string().or(te.number()).optional()).optional()}),Mle=te.object({method:te.literal("wallet_grantPermissions"),params:te.array(te.any())}),zle=te.object({method:te.literal("wallet_revokePermissions"),params:te.any()}),Lle=te.object({method:te.literal("wallet_getAssets"),params:te.any()}),GI=te.object({token:te.string()}),ft=te.object({id:te.string().optional()}),S4={appEvent:ft.extend({type:ht("APP_SWITCH_NETWORK"),payload:voe}).or(ft.extend({type:ht("APP_CONNECT_EMAIL"),payload:xoe})).or(ft.extend({type:ht("APP_CONNECT_DEVICE")})).or(ft.extend({type:ht("APP_CONNECT_OTP"),payload:Noe})).or(ft.extend({type:ht("APP_CONNECT_SOCIAL"),payload:koe})).or(ft.extend({type:ht("APP_GET_FARCASTER_URI")})).or(ft.extend({type:ht("APP_CONNECT_FARCASTER")})).or(ft.extend({type:ht("APP_GET_USER"),payload:te.optional(Coe)})).or(ft.extend({type:ht("APP_GET_SOCIAL_REDIRECT_URI"),payload:Eoe})).or(ft.extend({type:ht("APP_SIGN_OUT")})).or(ft.extend({type:ht("APP_IS_CONNECTED"),payload:te.optional(GI)})).or(ft.extend({type:ht("APP_GET_CHAIN_ID")})).or(ft.extend({type:ht("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ft.extend({type:ht("APP_INIT_SMART_ACCOUNT")})).or(ft.extend({type:ht("APP_SET_PREFERRED_ACCOUNT"),payload:_oe})).or(ft.extend({type:ht("APP_RPC_REQUEST"),payload:HI.or(Lle).or(Voe).or(Zoe).or(Koe).or(Qoe).or(Joe).or(Yoe).or(Xoe).or(ele).or(tle).or(nle).or(rle).or(sle).or(ale).or(ile).or(ole).or(lle).or(cle).or(ule).or(dle).or(hle).or(fle).or(ple).or(mle).or(gle).or(yle).or(ble).or(wle).or(vle).or(xle).or(Nle).or(kle).or(Cle).or(Ele).or(Sle).or(HI).or(Ale).or(jle).or(Tle).or(Ile).or(_le).or(Ple).or(Rle).or(Ole).or($le).or(Mle).or(zle).and(te.object({chainId:te.string().or(te.number()).optional(),chainNamespace:te.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:te.string().optional()}))})).or(ft.extend({type:ht("APP_UPDATE_EMAIL"),payload:Soe})).or(ft.extend({type:ht("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Aoe})).or(ft.extend({type:ht("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:joe})).or(ft.extend({type:ht("APP_SYNC_THEME"),payload:Toe})).or(ft.extend({type:ht("APP_SYNC_DAPP_DATA"),payload:Ioe})).or(ft.extend({type:ht("APP_RELOAD")})).or(ft.extend({type:ht("APP_RPC_ABORT")})),frameEvent:ft.extend({type:ht("FRAME_SWITCH_NETWORK_ERROR"),payload:lr}).or(ft.extend({type:ht("FRAME_SWITCH_NETWORK_SUCCESS"),payload:Uoe})).or(ft.extend({type:ht("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Poe})).or(ft.extend({type:ht("FRAME_CONNECT_EMAIL_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Ooe})).or(ft.extend({type:ht("FRAME_GET_FARCASTER_URI_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Roe})).or(ft.extend({type:ht("FRAME_CONNECT_FARCASTER_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_OTP_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_OTP_SUCCESS")})).or(ft.extend({type:ht("FRAME_CONNECT_DEVICE_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ft.extend({type:ht("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:$oe})).or(ft.extend({type:ht("FRAME_CONNECT_SOCIAL_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_USER_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_USER_SUCCESS"),payload:zoe})).or(ft.extend({type:ht("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Loe})).or(ft.extend({type:ht("FRAME_SIGN_OUT_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SIGN_OUT_SUCCESS")})).or(ft.extend({type:ht("FRAME_IS_CONNECTED_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_IS_CONNECTED_SUCCESS"),payload:Boe})).or(ft.extend({type:ht("FRAME_GET_CHAIN_ID_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Foe})).or(ft.extend({type:ht("FRAME_RPC_REQUEST_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_RPC_REQUEST_SUCCESS"),payload:qoe})).or(ft.extend({type:ht("FRAME_SESSION_UPDATE"),payload:GI})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Moe})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Doe})).or(ft.extend({type:ht("FRAME_SYNC_THEME_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SYNC_THEME_SUCCESS")})).or(ft.extend({type:ht("FRAME_SYNC_DAPP_DATA_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ft.extend({type:ht("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Woe})).or(ft.extend({type:ht("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Goe})).or(ft.extend({type:ht("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_READY"),payload:Hoe})).or(ft.extend({type:ht("FRAME_RELOAD_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_RELOAD_SUCCESS")}))};function A4(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function Ble({projectId:t,chainId:e,enableLogger:n,rpcUrl:r=De.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const a=new URL(Kse);return a.searchParams.set("projectId",t),a.searchParams.set("chainId",String(e)),a.searchParams.set("version",Jse),a.searchParams.set("enableLogger",String(n)),a.searchParams.set("rpcUrl",r),s&&a.searchParams.set("enableCloudAuthAccount","true"),a.toString()}class Fle{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:a=!1,rpcUrl:i=De.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const o=document.getElementById("w3m-iframe");this.iframe&&!o&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(o,c,u)=>{function h({data:f}){if(!A4(bt.FRAME_EVENT_KEY,f))return;const m=S4.frameEvent.safeParse(f);if(!m.success){console.warn("W3mFrame: invalid frame event",m.error.message);return}m.data?.id===o&&(c(m.data),window.removeEventListener("message",h))}Ji.isClient&&(window.addEventListener("message",h),u.addEventListener("abort",()=>{window.removeEventListener("message",h)}))},onFrameEvent:o=>{Ji.isClient&&window.addEventListener("message",({data:c})=>{if(!A4(bt.FRAME_EVENT_KEY,c))return;const u=S4.frameEvent.safeParse(c);u.success?o(u.data):console.warn("W3mFrame: invalid frame event",u.error.message)})},onAppEvent:o=>{Ji.isClient&&window.addEventListener("message",({data:c})=>{if(!A4(bt.APP_EVENT_KEY,c))return;const u=S4.appEvent.safeParse(c);u.success||console.warn("W3mFrame: invalid app event",u.error.message),o(c)})},postAppEvent:o=>{if(Ji.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(o,"*")}},postFrameEvent:o=>{if(Ji.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(o,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((o,c)=>{this.frameLoadPromiseResolver={resolve:o,reject:c}}),this.rpcUrl=i,n&&(this.frameLoadPromise=new Promise((o,c)=>{this.frameLoadPromiseResolver={resolve:o,reject:c}}),Ji.isClient)){const o=document.createElement("iframe");o.id="w3m-iframe",o.src=Ble({projectId:e,chainId:r,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:a}),o.name="w3m-secure-iframe",o.style.position="fixed",o.style.zIndex="999999",o.style.display="none",o.style.border="none",o.style.animationDelay="0s, 50ms",o.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",o.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=o,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class Ule{constructor(e){const n=Lae({level:Qse}),{logger:r,chunkLoggerController:s}=qae({opts:n});this.logger=Wae(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class Dle{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:a,getActiveCaipNetwork:i,getCaipNetworks:o,enableCloudAuthAccount:c}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new Ule(e)),this.abortController=a,this.getActiveCaipNetwork=i,this.getCaipNetworks=o;const u=this.getRpcUrl(n);this.w3mFrame=new Fle({projectId:e,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:u,enableCloudAuthAccount:c}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!qr.get(bt.EMAIL_LOGIN_USED_KEY)}getEmail(){return qr.get(bt.EMAIL)}getUsername(){return qr.get(bt.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:bt.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{Ji.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:bt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:bt.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:bt.APP_CONNECT_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:bt.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:bt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:bt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(e){try{const n=await this.appEvent({type:bt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:bt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(e){try{const n=await this.appEvent({type:bt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(e){try{return this.appEvent({type:bt.APP_SYNC_THEME,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(e){try{return this.appEvent({type:bt.APP_SYNC_DAPP_DATA,payload:e})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:bt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:bt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(e){if(e?.socialUri)try{await this.init();const n=this.getRpcUrl(e.chainId),r=await this.appEvent({type:bt.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(e){try{await this.init();const n=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:bt.APP_GET_USER,payload:{...e,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:e,chainId:n,preferredAccountType:r}){try{await this.init();const s=this.getRpcUrl(n),a=await this.appEvent({type:bt.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:n,rpcUrl:s,preferredAccountType:r}});return a.userName&&this.setSocialLoginSuccess(a.userName),a}catch(s){throw this.w3mLogger?.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:bt.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:bt.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const n=this.getRpcUrl(e),r=await this.appEvent({type:bt.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async e=>{const n=setTimeout(()=>{e()},3e3);await this.appEvent({type:bt.APP_SIGN_OUT}),clearTimeout(n),e()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const n=e;try{if(Jr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const r=e.chainNamespace||"eip155",s=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=s,n.rpcUrl=this.getRpcUrl(s),this.rpcRequestHandler?.(e);const a=await this.appEvent({type:bt.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(a,n),a}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_IS_CONNECTED_ERROR&&e(),n.type===bt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===bt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Jr.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(this.openRpcRequests.map(async({abortController:e,method:n})=>{Jr.SAFE_RPC_METHODS.includes(n)||e.abort(),await this.appEvent({type:bt.APP_RPC_ABORT})})),this.openRpcRequests=[]}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let n,r;function s(o){return o.replace("@w3m-app/","")}const a=[bt.APP_SYNC_DAPP_DATA,bt.APP_SYNC_THEME,bt.APP_SET_PREFERRED_ACCOUNT],i=s(e.type);return!this.w3mFrame.iframeIsReady&&!a.includes(e.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[bt.APP_CONNECT_EMAIL,bt.APP_CONNECT_DEVICE,bt.APP_CONNECT_OTP,bt.APP_CONNECT_SOCIAL,bt.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(i)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((o,c)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const h=new AbortController;if(i==="RPC_REQUEST"){const m=e;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:h}]}h.signal.addEventListener("abort",()=>{i==="RPC_REQUEST"?c(new Error("Request was aborted")):i!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function f(m,g){m.id===u&&(g?.logger.info?.({framEvent:m,id:u},"Received frame response"),m.type===`@w3m-frame/${i}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&o(m.payload),o(void 0)):m.type===`@w3m-frame/${i}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in m&&c(new Error(m.payload?.message||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,m=>f(m,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){qr.set(bt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){qr.set(bt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&qr.set(bt.EMAIL,e),qr.set(bt.EMAIL_LOGIN_USED_KEY,"true"),qr.delete(bt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){qr.delete(bt.EMAIL_LOGIN_USED_KEY),qr.delete(bt.EMAIL),qr.delete(bt.LAST_USED_CHAIN_KEY),qr.delete(bt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&qr.set(bt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=qr.get(bt.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){qr.set(bt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let n=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?n=Rc.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(e?r.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):r[0])?.rpcUrls.default.http?.[0]}}class Wf{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a,getActiveCaipNetwork:i,getCaipNetworks:o}){return Wf.instance||(Wf.instance=new Dle({projectId:e,chainId:n,enableLogger:r,onTimeout:s,abortController:a,getActiveCaipNetwork:i,getCaipNetworks:o,enableCloudAuthAccount:!!qt.state.remoteFeatures?.emailCapture})),Wf.instance}}const Wle={DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]},qI={filterOutDuplicatesByRDNS(t){const e=qt.state.enableEIP6963?It.state.connectors:[],n=at.getRecentWallets(),r=e.map(i=>i.info?.rdns).filter(Boolean),s=n.map(i=>i.rdns).filter(Boolean),a=r.concat(s);if(a.includes("io.metamask.mobile")&&zt.isMobile()){const i=a.indexOf("io.metamask.mobile");a[i]="io.metamask"}return t.filter(i=>!(i?.rdns&&a.includes(String(i.rdns))||!i?.rdns&&e.some(o=>o.name===i.name)))},filterOutDuplicatesByIds(t){const e=It.state.connectors.filter(i=>i.type==="ANNOUNCED"||i.type==="INJECTED"),n=at.getRecentWallets(),r=e.map(i=>i.explorerId),s=n.map(i=>i.id),a=r.concat(s);return t.filter(i=>!a.includes(i?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=It.state,{featuredWalletIds:n}=qt.state,r=e.filter(s=>s.type==="ANNOUNCED").reduce((s,a)=>(a.info?.rdns&&(s[a.info.rdns]=!0),s),{});return t.map(s=>({...s,installed:!!s.rdns&&!!r[s.rdns??""]})).sort((s,a)=>{const i=Number(a.installed)-Number(s.installed);if(i!==0)return i;if(n?.length){const o=n.indexOf(s.id),c=n.indexOf(a.id);if(o!==-1&&c!==-1)return o-c;if(o!==-1)return-1;if(c!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||qt.state.features?.connectMethodsOrder,r=e||It.state.connectors;if(n)return n;const{injected:s,announced:a}=ow.getConnectorsByType(r,Dt.state.recommended,Dt.state.featured),i=s.filter(ow.showConnector),o=a.filter(ow.showConnector);return i.length||o.length?["wallet","email","social"]:Wle.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Dt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Dt.state.excludedWallets.some(r=>Ds.isLowerCaseMatch(r.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))}},ow={getConnectorsByType(t,e,n){const{customWallets:r}=qt.state,s=at.getRecentWallets(),a=qI.filterOutDuplicateWallets(e),i=qI.filterOutDuplicateWallets(n),o=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),u=t.filter(f=>f.type==="INJECTED"),h=t.filter(f=>f.type==="EXTERNAL");return{custom:r,recent:s,external:h,multiChain:o,announced:c,injected:u,recommended:a,featured:i}},showConnector(t){const e=t.info?.rdns,n=!!e&&Dt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&Dt.state.excludedWallets.some(s=>Ds.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!zt.isMobile()||zt.isMobile()&&!e&&!_t.checkInstalled())||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(Se.state.chains.values()).some(t=>It.getConnectorId(t.namespace)===De.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:s,injected:a,multiChain:i,external:o,overriddenConnectors:c=qt.state.features?.connectorTypeOrder??[]}){const u=[{type:"walletConnect",isEnabled:qt.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...a,...s,...i].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:o.length>0},{type:"recommended",isEnabled:t.length>0}].filter(g=>g.isEnabled),h=new Set(u.map(g=>g.type)),f=c.filter(g=>h.has(g)).map(g=>({type:g,isEnabled:!0})),m=u.filter(({type:g})=>!f.some(({type:b})=>b===g));return Array.from(new Set([...f,...m].map(({type:g})=>g)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!zt.isMobile())return{accounts:[],chainId:void 0};if(t.id===De.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,n]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:e,chainId:n}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const lw=globalThis,UC=lw.ShadowRoot&&(lw.ShadyCSS===void 0||lw.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,DC=Symbol(),VI=new WeakMap;let Fz=class{constructor(t,e,n){if(this._$cssResult$=!0,n!==DC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(UC&&t===void 0){const n=e!==void 0&&e.length===1;n&&(t=VI.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&VI.set(e,t))}return t}toString(){return this.cssText}};const Hle=t=>new Fz(typeof t=="string"?t:t+"",void 0,DC),WC=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,a)=>r+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[a+1],t[0]);return new Fz(n,t,DC)},Gle=(t,e)=>{if(UC)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=lw.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},ZI=UC?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Hle(n)})(t):t;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const{is:qle,defineProperty:Vle,getOwnPropertyDescriptor:Zle,getOwnPropertyNames:Kle,getOwnPropertySymbols:Qle,getPrototypeOf:Jle}=Object,hp=globalThis,KI=hp.trustedTypes,Yle=KI?KI.emptyScript:"",Xle=hp.reactiveElementPolyfillSupport,sg=(t,e)=>t,o6={toAttribute(t,e){switch(e){case Boolean:t=t?Yle:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Uz=(t,e)=>!qle(t,e),QI={attribute:!0,type:String,converter:o6,reflect:!1,useDefault:!1,hasChanged:Uz};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),hp.litPropertyMetadata??(hp.litPropertyMetadata=new WeakMap);let xf=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=QI){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(t,n,e);r!==void 0&&Vle(this.prototype,t,r)}}static getPropertyDescriptor(t,e,n){const{get:r,set:s}=Zle(this.prototype,t)??{get(){return this[e]},set(a){this[e]=a}};return{get:r,set(a){const i=r?.call(this);s?.call(this,a),this.requestUpdate(t,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??QI}static _$Ei(){if(this.hasOwnProperty(sg("elementProperties")))return;const t=Jle(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(sg("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(sg("properties"))){const e=this.properties,n=[...Kle(e),...Qle(e)];for(const r of n)this.createProperty(r,e[r])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[n,r]of e)this.elementProperties.set(n,r)}this._$Eh=new Map;for(const[e,n]of this.elementProperties){const r=this._$Eu(e,n);r!==void 0&&this._$Eh.set(r,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const r of n)e.unshift(ZI(r))}else t!==void 0&&e.push(ZI(t));return e}static _$Eu(t,e){const n=e.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Gle(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ET(t,e){const n=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,n);if(r!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:o6).toAttribute(e,n.type);this._$Em=t,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._$Em=null}}_$AK(t,e){const n=this.constructor,r=n._$Eh.get(t);if(r!==void 0&&this._$Em!==r){const s=n.getPropertyOptions(r),a=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:o6;this._$Em=r;const i=a.fromAttribute(e,s.type);this[r]=i??this._$Ej?.get(r)??i,this._$Em=null}}requestUpdate(t,e,n){if(t!==void 0){const r=this.constructor,s=this[t];if(n??(n=r.getPropertyOptions(t)),!((n.hasChanged??Uz)(s,e)||n.useDefault&&n.reflect&&s===this._$Ej?.get(t)&&!this.hasAttribute(r._$Eu(t,n))))return;this.C(t,e,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,e,{useDefault:n,reflect:r,wrapped:s},a){n&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,a??e??this[t]),s!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||n||(e=void 0),this._$AL.set(t,e)),r===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[r,s]of this._$Ep)this[r]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[r,s]of n){const{wrapped:a}=s,i=this[r];a!==!0||this._$AL.has(r)||i===void 0||this.C(r,void 0,s,i)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(e)):this._$EM()}catch(n){throw t=!1,this._$EM(),n}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(e=>this._$ET(e,this[e]))),this._$EM()}updated(t){}firstUpdated(t){}};xf.elementStyles=[],xf.shadowRootOptions={mode:"open"},xf[sg("elementProperties")]=new Map,xf[sg("finalized")]=new Map,Xle?.({ReactiveElement:xf}),(hp.reactiveElementVersions??(hp.reactiveElementVersions=[])).push("2.1.1");/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const sv=globalThis,av=sv.trustedTypes,JI=av?av.createPolicy("lit-html",{createHTML:t=>t}):void 0,Dz="$lit$",jc=`lit$${Math.random().toFixed(9).slice(2)}$`,Wz="?"+jc,ece=`<${Wz}>`,Gd=document,Wg=()=>Gd.createComment(""),Hg=t=>t===null||typeof t!="object"&&typeof t!="function",HC=Array.isArray,tce=t=>HC(t)||typeof t?.[Symbol.iterator]=="function",j4=`[ 	
\f\r]`,Hm=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,YI=/-->/g,XI=/>/g,_u=RegExp(`>|${j4}(?:([^\\s"'>=/]+)(${j4}*=${j4}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),e_=/'/g,t_=/"/g,Hz=/^(?:script|style|textarea|title)$/i,fp=Symbol.for("lit-noChange"),Lr=Symbol.for("lit-nothing"),n_=new WeakMap,bd=Gd.createTreeWalker(Gd,129);function Gz(t,e){if(!HC(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return JI!==void 0?JI.createHTML(e):e}const nce=(t,e)=>{const n=t.length-1,r=[];let s,a=e===2?"<svg>":e===3?"<math>":"",i=Hm;for(let o=0;o<n;o++){const c=t[o];let u,h,f=-1,m=0;for(;m<c.length&&(i.lastIndex=m,h=i.exec(c),h!==null);)m=i.lastIndex,i===Hm?h[1]==="!--"?i=YI:h[1]!==void 0?i=XI:h[2]!==void 0?(Hz.test(h[2])&&(s=RegExp("</"+h[2],"g")),i=_u):h[3]!==void 0&&(i=_u):i===_u?h[0]===">"?(i=s??Hm,f=-1):h[1]===void 0?f=-2:(f=i.lastIndex-h[2].length,u=h[1],i=h[3]===void 0?_u:h[3]==='"'?t_:e_):i===t_||i===e_?i=_u:i===YI||i===XI?i=Hm:(i=_u,s=void 0);const g=i===_u&&t[o+1].startsWith("/>")?" ":"";a+=i===Hm?c+ece:f>=0?(r.push(u),c.slice(0,f)+Dz+c.slice(f)+jc+g):c+jc+(f===-2?o:g)}return[Gz(t,a+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let l6=class qz{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let a=0,i=0;const o=e.length-1,c=this.parts,[u,h]=nce(e,n);if(this.el=qz.createElement(u,r),bd.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=bd.nextNode())!==null&&c.length<o;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(Dz)){const m=h[i++],g=s.getAttribute(f).split(jc),b=/([.?@])?(.*)/.exec(m);c.push({type:1,index:a,name:b[2],strings:g,ctor:b[1]==="."?sce:b[1]==="?"?ace:b[1]==="@"?ice:vx}),s.removeAttribute(f)}else f.startsWith(jc)&&(c.push({type:6,index:a}),s.removeAttribute(f));if(Hz.test(s.tagName)){const f=s.textContent.split(jc),m=f.length-1;if(m>0){s.textContent=av?av.emptyScript:"";for(let g=0;g<m;g++)s.append(f[g],Wg()),bd.nextNode(),c.push({type:2,index:++a});s.append(f[m],Wg())}}}else if(s.nodeType===8)if(s.data===Wz)c.push({type:2,index:a});else{let f=-1;for(;(f=s.data.indexOf(jc,f+1))!==-1;)c.push({type:7,index:a}),f+=jc.length-1}a++}}static createElement(e,n){const r=Gd.createElement("template");return r.innerHTML=e,r}};function pp(t,e,n=t,r){if(e===fp)return e;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const a=Hg(e)?void 0:e._$litDirective$;return s?.constructor!==a&&(s?._$AO?.(!1),a===void 0?s=void 0:(s=new a(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(e=pp(t,s._$AS(t,e.values),s,r)),e}class rce{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=(e?.creationScope??Gd).importNode(n,!0);bd.currentNode=s;let a=bd.nextNode(),i=0,o=0,c=r[0];for(;c!==void 0;){if(i===c.index){let u;c.type===2?u=new xy(a,a.nextSibling,this,e):c.type===1?u=new c.ctor(a,c.name,c.strings,this,e):c.type===6&&(u=new oce(a,this,e)),this._$AV.push(u),c=r[++o]}i!==c?.index&&(a=bd.nextNode(),i++)}return bd.currentNode=Gd,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class xy{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=Lr,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=pp(this,e,n),Hg(e)?e===Lr||e==null||e===""?(this._$AH!==Lr&&this._$AR(),this._$AH=Lr):e!==this._$AH&&e!==fp&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):tce(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Lr&&Hg(this._$AH)?this._$AA.nextSibling.data=e:this.T(Gd.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=l6.createElement(Gz(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const a=new rce(s,this),i=a.u(this.options);a.p(n),this.T(i),this._$AH=a}}_$AC(e){let n=n_.get(e.strings);return n===void 0&&n_.set(e.strings,n=new l6(e)),n}k(e){HC(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const a of e)s===n.length?n.push(r=new xy(this.O(Wg()),this.O(Wg()),this,this.options)):r=n[s],r._$AI(a),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class vx{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,a){this.type=1,this._$AH=Lr,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Lr}_$AI(e,n=this,r,s){const a=this.strings;let i=!1;if(a===void 0)e=pp(this,e,n,0),i=!Hg(e)||e!==this._$AH&&e!==fp,i&&(this._$AH=e);else{const o=e;let c,u;for(e=a[0],c=0;c<a.length-1;c++)u=pp(this,o[r+c],n,c),u===fp&&(u=this._$AH[c]),i||(i=!Hg(u)||u!==this._$AH[c]),u===Lr?e=Lr:e!==Lr&&(e+=(u??"")+a[c+1]),this._$AH[c]=u}i&&!s&&this.j(e)}j(e){e===Lr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}let sce=class extends vx{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Lr?void 0:t}};class ace extends vx{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Lr)}}let ice=class extends vx{constructor(t,e,n,r,s){super(t,e,n,r,s),this.type=5}_$AI(t,e=this){if((t=pp(this,t,e,0)??Lr)===fp)return;const n=this._$AH,r=t===Lr&&n!==Lr||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,s=t!==Lr&&(n===Lr||r);r&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}};class oce{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){pp(this,e)}}const lce=sv.litHtmlPolyfillSupport;lce?.(l6,xy),(sv.litHtmlVersions??(sv.litHtmlVersions=[])).push("3.3.1");const cce=(t,e,n)=>{const r=n?.renderBefore??e;let s=r._$litPart$;if(s===void 0){const a=n?.renderBefore??null;r._$litPart$=s=new xy(e.insertBefore(Wg(),a),a,void 0,n??{})}return s._$AI(t),s};/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const iv=globalThis;let cw=class extends xf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t;const e=super.createRenderRoot();return(t=this.renderOptions).renderBefore??(t.renderBefore=e.firstChild),e}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=cce(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return fp}};cw._$litElement$=!0,cw.finalized=!0,iv.litElementHydrateSupport?.({LitElement:cw});const uce=iv.litElementPolyfillSupport;uce?.({LitElement:cw});(iv.litElementVersions??(iv.litElementVersions=[])).push("4.2.1");WC`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`;WC`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`;WC`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;const uw={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([uw.getAddresses(t),uw.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const n=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:uw.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[oa.NetworkImageIds[e.id]]}]})}},Gh={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function Ny(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const r_=Ny({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),s_=Ny({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Ny({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Ny({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Ny({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const dce={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Sd={getMethodsByChainNamespace(t){return dce[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(s=>r.add(s)),e.chains&&Object.keys(e.chains).forEach(s=>r.add(s)),e.events&&Object.keys(e.events).forEach(s=>r.add(s)),e.rpcMap&&Object.keys(e.rpcMap).forEach(s=>{const[a]=s.split(":");a&&r.add(a)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),e.methods&&Object.entries(e.methods).forEach(([s,a])=>{n[s]&&(n[s].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([s,a])=>{n[s]&&(n[s].chains=a)}),e.events&&Object.entries(e.events).forEach(([s,a])=>{n[s]&&(n[s].events=a)}),e.rpcMap){const s=new Set;Object.entries(e.rpcMap).forEach(([a,i])=>{const[o,c]=a.split(":");!o||!c||!n[o]||(n[o].rpcMap||(n[o].rpcMap={}),s.has(o)||(n[o].rpcMap={},s.add(o)),n[o].rpcMap[c]=i)})}return n},createNamespaces(t,e){const n=t.reduce((r,s)=>{const{id:a,chainNamespace:i,rpcUrls:o}=s,c=o.default.http[0];r[i]||(r[i]=this.createDefaultNamespace(i));const u=`${i}:${a}`,h=r[i];switch(h.chains.push(u),u){case r_.caipNetworkId:h.chains.push(r_.deprecatedCaipNetworkId);break;case s_.caipNetworkId:h.chains.push(s_.deprecatedCaipNetworkId);break}return h?.rpcMap&&c&&(h.rpcMap[a]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await aw.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(s=>{const[a,i]=s.split(":");return`${a}:${i}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:a,onDisplayUri:i}){n&&t.on("connect",()=>{const o=Sd.getWalletConnectAccounts(t,e);n(o)}),r&&t.on("disconnect",()=>{r()}),s&&t.on("session_event",o=>{if(Sd.isSessionEventData(o)){const{name:c,data:u}=o.params.event;if(c==="accountsChanged"&&Array.isArray(u)){const h=u.filter(f=>zt.isCaipAddress(f)).map(f=>Rc.parseCaipAddress(f)).filter(f=>f.chainNamespace===e);s(h)}}}),a&&t.on("chainChanged",o=>{a(o)}),i&&t.on("display_uri",o=>{i(o)})},getWalletConnectAccounts(t,e){const n=new Set,r=t?.session?.namespaces?.[e]?.accounts?.map(s=>Rc.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}};class hce{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case De.CHAIN.EVM:await this.syncEVMConnections(e);break;case De.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case De.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:a,onListenProvider:i}){await Promise.all(e.filter(o=>{const{hasDisconnected:c,hasConnected:u}=s(o.id);return!c&&u}).map(async o=>{if(o.id===De.CONNECTOR_ID.WALLET_CONNECT){const c=Sd.getWalletConnectAccounts(r,this.namespace),u=n.find(h=>h.chainNamespace===this.namespace&&h.id.toString()===c[0]?.chainId?.toString());c.length>0&&a({connectorId:o.id,accounts:c.map(h=>({address:h.address})),caipNetwork:u})}else{const{accounts:c,chainId:u}=await ow.fetchProviderData(o);if(c.length>0&&u){const h=n.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===u.toString());a({connectorId:o.id,accounts:c.map(f=>({address:f})),caipNetwork:h}),o.provider&&o.id!==De.CONNECTOR_ID.AUTH&&o.id!==De.CONNECTOR_ID.WALLET_CONNECT&&i(o.id,o.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:a,onListenProvider:i}){await Promise.all(e.filter(o=>{const{hasDisconnected:c,hasConnected:u}=s(o.id);return!c&&u}).map(async o=>{if(o.id===De.CONNECTOR_ID.WALLET_CONNECT){const c=Sd.getWalletConnectAccounts(r,this.namespace);c.length>0&&a({connectorId:o.id,accounts:c.map(u=>({address:u.address})),caipNetwork:n})}else{const c=await o.connect({chainId:n?.id});c&&(a({connectorId:o.id,accounts:[{address:c}],caipNetwork:n}),i(o.id,o.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:a,onListenProvider:i}){await Promise.all(e.filter(o=>{const{hasDisconnected:c,hasConnected:u}=s(o.id);return!c&&u}).map(async o=>{if(o.id===De.CONNECTOR_ID.WALLET_CONNECT){const h=Sd.getWalletConnectAccounts(r,this.namespace);h.length>0&&a({connectorId:o.id,accounts:h.map(f=>({address:f.address})),caipNetwork:n});return}const c=await o.connect();let u=(await o.getAccountAddresses())?.map(h=>zt.createAccount(De.CHAIN.BITCOIN,h.address,h.purpose||"payment",h.publicKey,h.path));if(u&&u.length>1&&(u=[{namespace:De.CHAIN.BITCOIN,publicKey:u[Gh.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[Gh.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[Gh.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:De.CHAIN.BITCOIN,publicKey:u[Gh.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[Gh.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[Gh.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(o.chains.find(h=>h.id===n?.id)||o.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(i(o.id,o.provider),a({connectorId:o.id,accounts:u.map(h=>({address:h.address,type:h.type})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:r,connectors:s}){if(n){const i=r.find(u=>Ds.isLowerCaseMatch(u.connectorId,n));if(!i)return null;const o=s.find(u=>Ds.isLowerCaseMatch(u.id,i.connectorId)),c=e?i.accounts.find(u=>Ds.isLowerCaseMatch(u.address,e)):i.accounts[0];return{...i,account:c,connector:o}}const a=r.find(i=>i.accounts.length>0&&s.some(o=>Ds.isLowerCaseMatch(o.id,i.connectorId)));if(a){const[i]=a.accounts,o=s.find(c=>Ds.isLowerCaseMatch(c.id,a.connectorId));return{...a,account:i,connector:o}}return null}}class Vz{constructor({provider:e,namespace:n}){this.id=De.CONNECTOR_ID.WALLET_CONNECT,this.name=oa.ConnectorNamesMap[De.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=oa.ConnectorImageIds[De.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=Se.getCaipNetworks.bind(Se),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const e=this.getCaipNetworks(),n=qt.state.universalProviderConfigOverride,r=Sd.createNamespaces(e,n);await this.provider.connect({optionalNamespaces:r})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return kc.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:fce})}}const fce=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],pce=[De.CONNECTOR_ID.AUTH,De.CONNECTOR_ID.WALLET_CONNECT];class mce{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>Se.getCaipNetworks(n),this.getConnectorId=n=>It.getConnectorId(n),e&&this.construct(e),e?.namespace&&(this.connectionManager=new hce({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());e&&r&&this.addConnection({connectorId:De.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:De.CONNECTOR_ID.AUTH,type:"AUTH",name:De.CONNECTOR_NAMES.AUTH,provider:e,imageId:oa.ConnectorImageIds[De.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!Ds.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){Cn.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(s=>s(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const s="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const a=s,i=fo(n.chainNamespace);await a.switchNetwork({chainId:n.caipNetworkId});const o=await a.getUser({chainId:n.caipNetworkId,preferredAccountType:i});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof Vz);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:r,chainId:s}=zt.getAccount(e[0]),a=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===s?.toString()),i=this.connectors.find(o=>o.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:i}),this.addConnection({connectorId:n,accounts:e.map(o=>{const{address:c}=zt.getAccount(o);return{address:c}}),caipNetwork:a}))}}onAccountsChanged(e,n,r=!0){if(e.length>0){const{address:s}=zt.getAccount(e[0]),a=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&Ds.isLowerCaseMatch(this.getConnectorId(De.CHAIN.EVM),n)&&this.emit("accountChanged",{address:s,chainId:a?.caipNetwork?.id,connector:a?.connector}),this.addConnection({connectorId:n,accounts:e.map(i=>{const{address:o}=zt.getAccount(i);return{address:o}}),caipNetwork:a?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Ds.isLowerCaseMatch(this.getConnectorId(De.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){const r=typeof e=="string"&&e.startsWith("0x")?uw.hexStringToNumber(e).toString():e.toString(),s=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),a=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:a}),Ds.isLowerCaseMatch(this.getConnectorId(De.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,n){if(pce.includes(e))return;const r=i=>this.onAccountsChanged(i,e),s=i=>this.onChainChanged(i,e),a=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",a),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[e]={provider:n,disconnect:a,accountsChanged:r,chainChanged:s})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:a}=this.providerHandlers[e];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",a),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}function gce(t){let e=[],n,r;function s(o){return Gw.parseEvmChainId(o)||1}function a(){return n||(n=Wf.getInstance({projectId:t.options.projectId,chainId:gd()?.caipNetworkId,enableLogger:t.options.enableAuthLogger,onTimeout:o=>{o==="iframe_load_failed"?Ku.open(sc.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):o==="iframe_request_timeout"?Ku.open(sc.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):o==="unverified_domain"&&Ku.open(sc.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:sc.EmbeddedWalletAbortController,getActiveCaipNetwork:o=>gd(o),getCaipNetworks:o=>Se.getCaipNetworks(o)})),n}async function i(o={}){const c=a();let u=o.chainId;if(o.isReconnecting){const y=Gw.parseEvmChainId(c.getLastUsedChainId()||""),w=t.chains?.[0].id;if(u=y||w,!u)throw new Error("ChainId not found in provider")}const h=fo("eip155"),{address:f,chainId:m,accounts:g}=await kc.authConnectorAuthenticate({authConnector:c,chainId:u,preferredAccountType:h,socialUri:o.socialUri,chainNamespace:De.CHAIN.EVM});e=g?.map(y=>y.address)||[f];const b=s(m);return{accounts:e,account:f,chainId:b,chain:{id:b,unsuported:!1}}}return o=>({id:De.CONNECTOR_ID.AUTH,name:De.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:De.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(h=>{h(i(c))}));const u=await r;return r=void 0,u},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return e?.length?(o.emitter.emit("change",{accounts:e}),Promise.resolve(e)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=Wf.getInstance({projectId:t.options.projectId,chainId:gd()?.caipNetworkId,enableLogger:t.options.enableAuthLogger,abortController:sc.EmbeddedWalletAbortController,onTimeout:c=>{c==="iframe_load_failed"?Ku.open(sc.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Ku.open(sc.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Ku.open(sc.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:c=>gd(c),getCaipNetworks:c=>Se.getCaipNetworks(c)})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:u}=await c.getChainId();return s(u)},async isAuthorized(){const c=Se.state.activeChain===De.CHAIN.EVM;if(De.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>It.getConnectorId(h)===De.CONNECTOR_ID.AUTH)&&!c)return!1;const u=await this.getProvider();return Promise.resolve(u.getLoginEmailUsed())},async switchChain({chainId:c}){try{const u=o.chains.find(g=>g.id===c);if(!u)throw new Fc(new Error("chain not found on connector."));const h=await this.getProvider(),f=fo("eip155"),m=await h.connect({chainId:c,preferredAccountType:f});return e=m?.accounts?.map(g=>g.address)||[m.address],o.emitter.emit("change",{chainId:Number(c),accounts:e}),u}catch(u){throw u instanceof Error?new Fc(u):u}},onAccountsChanged(c){c.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:c.map(Tc)})},onChainChanged(c){const u=Number(c);o.emitter.emit("change",{chainId:u})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}GC.type="walletConnect";function GC(t,e){const n=t.isNewChainsStale??!0;let r,s,a,i,o,c,u;return h=>({id:"walletConnect",name:"WalletConnect",type:GC.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(i||(i=this.onConnect.bind(this),f.on("connect",i)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c)))},async connect({...f}={}){try{const m=Se.getCaipNetworks(),g=await this.getProvider();if(!g)throw new xc;o||(o=this.onDisplayUri,g.on("display_uri",o));const b=await this.isChainsStale();g.session&&b&&await g.disconnect();const y=qt.state.universalProviderConfigOverride;if(!g.session||b){const A=Sd.createNamespaces(m,y);await g.connect({optionalNamespaces:A,..."pairingTopic"in f?{pairingTopic:f.pairingTopic}:{}}),this.setRequestedChainsIds(m.map(_=>Number(_.id)))}const w=await this.getAccounts(),x=await this.getChainId(),N=g.session?.namespaces?.eip155?.chains,E=N?.some(A=>Number(A.split(":")[1])===x);let C=1;E?C=x:N?.[0]&&(C=Number(N[0].split(":")[1])),o&&(g.removeListener("display_uri",o),o=void 0),i&&(g.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),g.on("chainChanged",a)),u||(u=this.onDisconnect.bind(this),g.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),g.on("session_delete",c));const k=y?.defaultChain;return g.setDefaultChain(k??`eip155:${C}`),{accounts:w,chainId:C}}catch(m){throw/(user rejected|connection request reset)/i.test(m?.message)?new Vr(m):m}},async disconnect(){const f=await this.getProvider();try{await f?.disconnect()}catch(m){if(!/No matching key/i.test(m.message))throw m}finally{a&&(f?.removeListener("chainChanged",a),a=void 0),u&&(f?.removeListener("disconnect",u),u=void 0),i||(i=this.onConnect.bind(this),f?.on("connect",i)),s&&(f?.removeListener("accountsChanged",s),s=void 0),c&&(f?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){const f=await this.getProvider();if(!f?.session?.namespaces)return[];const m=f?.session?.namespaces[De.CHAIN.EVM]?.accounts?.map(b=>b.split(":")[2])??[],g=new Set;return m.filter(b=>{const y=b?.toLowerCase();return g.has(y)?!1:(g.add(y),!0)})},async getProvider({chainId:f}={}){r||(r=await e.getUniversalProvider(),r?.events.setMaxListeners(Number.POSITIVE_INFINITY));const m=at.getActiveNamespace(),g=e.getCaipNetwork()?.id;if(f&&g!==f&&m){const b=at.getStoredActiveCaipNetworkId(),y=(m?e.getCaipNetworks(m):[])?.find(w=>w.id===b);y&&y.chainNamespace===De.CHAIN.EVM&&await this.switchChain?.({chainId:Number(y.id)})}return r},async getChainId(){const f=e.getCaipNetwork(De.CHAIN.EVM)?.id;if(f)return f;const m=(await this.getProvider()).session?.namespaces[De.CHAIN.EVM]?.chains?.[0];return Se.getCaipNetworks().find(g=>g.id===m)?.id},async isAuthorized(){try{const[f,m]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&m.session?(await m.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:m}){const g=await this.getProvider();if(!g)throw new xc;const b=Se.getCaipNetworks().find(y=>y.id===m);if(!b)throw new Fc(new yg);try{await g.request({method:"wallet_switchEthereumChain",params:[{chainId:At(m)}]}),b?.caipNetworkId&&g.setDefaultChain(b?.caipNetworkId),h.emitter.emit("change",{chainId:Number(m)});const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,m]),{...b,id:b.id}}catch(y){const w=y;if(/(?:user rejected)/iu.test(w.message))throw new Vr(w);try{let x;f?.blockExplorerUrls?x=f.blockExplorerUrls:x=b.blockExplorers?.default.url?[b.blockExplorers?.default.url]:[];const N=b.rpcUrls?.chainDefault?.http||[],E={blockExplorerUrls:x,chainId:At(m),chainName:b.name,iconUrls:f?.iconUrls,nativeCurrency:b.nativeCurrency,rpcUrls:N};await g.request({method:"wallet_addEthereumChain",params:[E]});const C=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...C,m]),{...b,id:b.id}}catch(x){throw new Vr(x)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():h.emitter.emit("change",{accounts:f.map(m=>Tc(m))})},onChainChanged(f){const m=Number(f);h.emitter.emit("change",{chainId:m})},onConnect(f){this.setRequestedChainsIds(Se.getCaipNetworks().map(m=>Number(m.id)))},async onDisconnect(f){this.setRequestedChainsIds([]),h.emitter.emit("disconnect");const m=await this.getProvider();s&&(m.removeListener("accountsChanged",s),s=void 0),a&&(m.removeListener("chainChanged",a),a=void 0),u&&(m.removeListener("disconnect",u),u=void 0),c&&(m.removeListener("session_delete",c),c=void 0),i||(i=this.onConnect.bind(this),m.on("connect",i))},onDisplayUri(f){h.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return r?.session?.namespaces?r?.session?.namespaces[De.CHAIN.EVM]?.accounts?.map(f=>Number.parseInt(f.split(":")[1]??""))??[]:[]},async getRequestedChainsIds(){const f=await h.storage?.getItem(this.requestedChainsStorageKey)??[];return[...new Set(f)]},async isChainsStale(){if(!n)return!1;const f=h.chains.map(b=>b.id),m=this.getNamespaceChainsIds();if(m.length&&!m.some(b=>f.includes(b)))return!1;const g=await this.getRequestedChainsIds();return!f.every(b=>g.includes(Number(b)))},async setRequestedChainsIds(f){await h.storage?.setItem(this.requestedChainsStorageKey,f)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const Gm=qn({pendingTransactions:0}),a_={state:Gm,subscribeKey(t,e){return As(Gm,t,e)},increase(t){Gm[t]+=1},decrease(t){Gm[t]-=1},reset(t){Gm[t]=0}};async function yce(t){if(zt.isSafeApp()){const{safe:e}=await ol(async()=>{const{safe:n}=await vd(async()=>{const{safe:r}=await import("./index-ChhyusO2-DAa6Xq7i.js");return{safe:r}},__vite__mapDeps([0,1]));return{safe:n}},px([0,1,2]));if(e&&!t.some(n=>n.type==="safe"))return e()}return null}async function bce(t){try{const{coinbaseWallet:e}=await ol(async()=>{const{coinbaseWallet:n}=await vd(async()=>{const{coinbaseWallet:r}=await import("./index-ChhyusO2-DAa6Xq7i.js");return{coinbaseWallet:r}},__vite__mapDeps([0,1]));return{coinbaseWallet:n}},px([0,1,2]));if(e&&!t.some(n=>n.id==="coinbaseWalletSDK"))return e()}catch(e){console.error("Failed to import Coinbase Wallet SDK:",e)}return null}const wce={enable:!1,pollingInterval:3e4};class vce extends mce{constructor(e){const n=G0.extendCaipNetworks(e.networks,{projectId:e.projectId,customNetworkImageUrls:{},customRpcUrls:e.customRpcUrls});super(),this.balancePromises={},this.namespace=De.CHAIN.EVM,this.adapterType=De.ADAPTER_TYPES.WAGMI,this.projectId=e.projectId,this.pendingTransactionsFilter={...wce,...e.pendingTransactionsFilter??{}},this.createConfig({...e,networks:n}),this.checkChainId()}construct(e){this.checkChainId(),this.setupWatchers()}async getAccounts(e){const n=this.getWagmiConnector(e.id);if(!n)return{accounts:[]};if(n.id===De.CONNECTOR_ID.AUTH){const a=await n.getProvider();if(!a?.user)return{accounts:[]};const{address:i,accounts:o}=a.user;return Promise.resolve({accounts:(o||[{address:i,type:"eoa"}]).map(c=>zt.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Rf(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(a=>zt.createAccount("eip155",a||"","eoa"))})}checkChainId(){const{chainId:e}=Rf(this.wagmiConfig);e&&this.emit("switchNetwork",{chainId:e})}getWagmiConnector(e){return this.wagmiConfig.connectors.find(n=>n.id===e)}createConfig(e){this.wagmiChains=e.networks.filter(s=>s.chainNamespace===De.CHAIN.EVM);const n={},r=[...e.connectors??[]];this.wagmiChains.forEach(s=>{const a=e.transports?.[s.id],i=G0.getCaipNetworkId(s);a?n[s.id]=G0.extendWagmiTransports(s,e.projectId,a):n[s.id]=G0.getViemTransport(s,e.projectId,e.customRpcUrls?.[i])}),this.wagmiConfig=PR({...e,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=SQ(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),a_.increase("pendingTransactions")}});const e=a_.subscribeKey("pendingTransactions",n=>{n>=De.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),e())})}setupWatchers(){TR(this.wagmiConfig,{onChange:e=>{this.clearConnections(),this.addConnection(...e.map(n=>{const r=this.getCaipNetworks().find(a=>a.id===n.chainId),s=n.connector.id===De.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(a=>({address:a})),caipNetwork:r,connectorId:n.connector.id,auth:s?{name:at.getConnectedSocialProvider(),username:at.getConnectedSocialUsername()}:void 0}}))}}),jR(this.wagmiConfig,{onChange:(e,n)=>{if(e.status==="disconnected"&&n.address&&this.emit("disconnect"),e?.chainId&&e?.chainId!==n?.chainId&&this.emit("switchNetwork",{chainId:e.chainId}),e.status==="connected"){const r=e.address!==n?.address,s=e.connector.id!==n.connector?.id,a=n.status!=="connected";(r||s||a)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:e.address,chainId:e.chainId,connector:e.connector}))}}})}async addThirdPartyConnectors(e){const n=[];if(e.enableCoinbase!==!1){const s=await bce(this.wagmiConfig.connectors);s&&n.push(s)}const r=await yce(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const a=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(i=>[...i,a]),this.addWagmiConnector(a,e)}))}addWagmiConnectors(e,n){const r=[];e.enableWalletConnect!==!1&&r.push(GC(e,n)),e.enableEIP6963!==!1&&r.push(Qv({shimDisconnect:!0}));const s=n?.remoteFeatures?.email??!0,a=Array.isArray(n?.remoteFeatures?.socials)&&n?.remoteFeatures?.socials?.length>0;(s||a)&&r.push(gce({chains:this.wagmiChains,options:{projectId:e.projectId,enableAuthLogger:e.enableAuthLogger}})),r.forEach(i=>{const o=this.wagmiConfig._internal.connectors.setup(i);this.wagmiConfig._internal.connectors.setState(c=>[...c,o])})}async handleAccountChanged({address:e,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const s=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:e,chainId:n,connector:{id:r.id,name:oa.ConnectorNamesMap[r.id]??r.name,imageId:oa.ConnectorImageIds[r.id],type:oa.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===De.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:s,chain:this.namespace,chains:[]}})}async signMessage(e){try{return{signature:await NQ(this.wagmiConfig,{message:e.message,account:e.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(e){const{chainId:n,address:r}=Rf(this.wagmiConfig),s={account:r,to:e.to,value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,data:e.data,chainId:n,type:"legacy",parameters:["nonce"]};await vQ(this.wagmiConfig,s);const a=await xQ(this.wagmiConfig,s);return await CQ(this.wagmiConfig,{hash:a,timeout:25e3}),{hash:a}}async writeContract(e){const{caipNetwork:n,...r}=e,s=Number(Gw.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await AQ(this.wagmiConfig,{chain:this.wagmiChains?.[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(e){try{return{gas:await gQ(this.wagmiConfig,{account:e.address,to:e.to,data:e.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(e){return XZ(e.value,e.decimals)}formatUnits(e){return kp(e.value,e.decimals)}async addWagmiConnector(e,n){if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");if(e.type===De.CONNECTOR_ID.INJECTED&&n.enableEIP6963===!1||e.id===De.CONNECTOR_ID.AUTH||e.id===De.CONNECTOR_ID.WALLET_CONNECT)return;const r=await e.getProvider().catch(()=>{});this.addConnector({id:e.id,explorerId:oa.ConnectorExplorerIds[e.id],imageUrl:n?.connectorImages?.[e.id]??e.icon,name:oa.ConnectorNamesMap[e.id]??e.name,imageId:oa.ConnectorImageIds[e.id],type:oa.ConnectorTypesMap[e.type]??"EXTERNAL",info:e.id===De.CONNECTOR_ID.INJECTED?void 0:{rdns:e.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(e,n){IR(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,e))}}),this.addWagmiConnectors(e,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,e))),this.addThirdPartyConnectors(e)}async syncConnections(){return Promise.resolve()}async syncConnection(e){const{id:n,chainId:r}=e,s=ii(this.wagmiConfig).find(i=>i.connector.id===n),a=await this.getWagmiConnector(n)?.getProvider();if(zt.isSafeApp()&&n===De.CONNECTOR_ID.SAFE&&!s?.accounts.length){const i=this.getWagmiConnector("safe");if(i){const o=await T1(this.wagmiConfig,{connector:i,chainId:Number(r)}),c=await i.getProvider();return{chainId:Number(r),address:o.accounts[0],provider:c,type:s?.connector.type?.toUpperCase(),id:s?.connector.id}}}return{chainId:Number(s?.chainId),address:s?.accounts[0],provider:a,type:s?.connector.type?.toUpperCase(),id:s?.connector.id}}async connectWalletConnect(e){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await T1(this.wagmiConfig,{connector:r,chainId:e?Number(e):void 0});return s.chainId!==Number(e)&&await QN(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(e){const{id:n,address:r,provider:s,type:a,info:i,chainId:o,socialUri:c}=e,u=this.getWagmiConnector(n);if(!u)throw new Error("connectionControllerClient:connectExternal - connector is undefined");s&&i&&u.id===De.CONNECTOR_ID.EIP6963&&u.setEip6963Wallet?.({provider:s,info:i});const h=this.wagmiConfig.state?.connections?.get(u.uid);if(h){await this.wagmiConfig.storage?.setItem("recentConnectorId",u.id);const m=[...h.accounts].sort((g,b)=>Ds.isLowerCaseMatch(g,r)?-1:Ds.isLowerCaseMatch(b,r)?1:0);return this.wagmiConfig?.setState(g=>({...g,connections:new Map(g.connections).set(u.uid,{accounts:m,chainId:h.chainId,connector:h.connector}),current:u.uid,status:"connected"})),{address:m[0],chainId:h.chainId,provider:s,type:a,id:n}}const f=await T1(this.wagmiConfig,{connector:u,chainId:o?Number(o):void 0,socialUri:c});return{address:f.accounts[0],chainId:f.chainId,provider:s,type:a,id:n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(e=>({accounts:e.accounts.map(n=>({address:n})),connectorId:e.connector.id}))}async reconnect(e){const{id:n}=e,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await KN(this.wagmiConfig,{connectors:[r]})}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(s=>s.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${e.address}`,a=this.balancePromises[s];if(a)return a;const i=at.getNativeBalanceCacheForCaipAddress(s);return i?{balance:i.balance,symbol:i.symbol}:(this.balancePromises[s]=new Promise(async o=>{try{const c=Number(e.chainId),u=await AR(this.wagmiConfig,{address:e.address,chainId:c,token:e.tokens?.[r.caipNetworkId]?.address});at.updateNativeBalanceCache({caipAddress:s,balance:u.formatted,symbol:u.symbol,timestamp:Date.now()}),o({balance:u.formatted,symbol:u.symbol})}catch(c){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",c),o({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(e){if(e.id){const n=this.getWagmiConnector(e.id),r=ii(this.wagmiConfig).find(s=>Ds.isLowerCaseMatch(s.connector.id,e.id));return await ZN(this.wagmiConfig,{connector:n}),qt.state.enableReconnect===!1&&this.deleteConnection(e.id),r?{connections:[{accounts:r.accounts.map(s=>({address:s})),connectorId:r.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const e=ii(this.wagmiConfig),n=await Promise.allSettled(e.map(async r=>{const s=this.getWagmiConnector(r.connector.id);return s&&await ZN(this.wagmiConfig,{connector:s}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(s=>({address:s})),connectorId:r.connector.id}))}}async switchNetwork(e){const{caipNetwork:n}=e,r=this.wagmiConfig.chains.find(s=>s.id.toString()===n.id.toString());await QN(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:r?.name??n.name,nativeCurrency:r?.nativeCurrency??n.nativeCurrency,rpcUrls:[n.rpcUrls?.chainDefault?.http?.[0]??r?.rpcUrls?.default?.http?.[0]??""],blockExplorerUrls:[r?.blockExplorers?.default?.url??n.blockExplorers?.default?.url??""]}}),await super.switchNetwork(e)}async getCapabilities(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await s.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:e})}async walletGetAssets(e){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[e]})}setAuthProvider(e){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:De.CONNECTOR_ID.AUTH,type:"AUTH",name:De.CONNECTOR_NAMES.AUTH,provider:e,imageId:oa.ConnectorImageIds[De.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(e){return e.on("connect",()=>{const n=ii(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(Se.state.activeChain==="eip155")return;KN(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new Vz({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}}const i_=new vce({networks:Ww.chains,projectId:Ww.projectId}),xce=PR({chains:Ww.chains,connectors:i_.connectors,transports:i_.transports}),Nce=new HR,Zz=({children:t})=>{const[e,n]=j.useState(!1),[r,s]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{await new Promise(m=>setTimeout(m,1e3));const a=window.ethereum?.isMetaMask,i=window.ethereum?.isWalletConnect,o=window.ethereum?.isCoinbaseWallet,c=window.ethereum?.isNightlyWallet,u=window.ethereum?.isBackpack,h=window.ethereum?.isEVMAsk,f=window.ethereum?.isReown;console.log("ReownProvider: Wallet detection:",{hasMetaMask:a,hasWalletConnect:i,hasCoinbaseWallet:o,hasNightlyWallet:c,hasBackpack:u,hasEVMAsk:h,hasReown:f}),a||i||o||c||u||h?(console.log("ReownProvider: Other wallet detected, but still initializing Reown as fallback"),n(!0)):(console.log("ReownProvider: No other wallets detected, initializing Reown as primary"),n(!0))}catch(a){console.error("ReownProvider: Error during initialization:",a),n(!1)}finally{s(!1)}})()},[]),r?l.jsx("div",{className:"min-h-screen bg-black"}):l.jsx(KQ,{config:xce,children:l.jsx(VR,{client:Nce,children:t})})},dr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%20104%2074'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1,0,0,1,-62.9053,-11.72)'%3e%3cg%20transform='matrix(0.0278661,0,0,0.0278661,60.3688,-0.633193)'%3e%3cg%20transform='matrix(1.08496,0,0,1.0179,-170.176,2.41367)'%3e%3crect%20x='1560.3'%20y='433.14'%20width='386.277'%20height='1265.57'%20style='fill:url(%23_Linear1);'/%3e%3c/g%3e%3cpath%20d='M3363.03,2953.95C3363.03,2953.95%202976.77,3177.24%202513.2,3001.78C2256.74,2904.7%202027.59,2543.53%202002.52,2505.16C2002.52,2505.16%202255.22,2189.28%202259.54,2193.44C2292.02,2224.76%202448.89,2465.2%202554.79,2537.07C2665.28,2612.07%202779.6,2683.18%202970.3,2652.7C3217.62,2613.18%203363.39,2371.41%203363.39,2371.41'%20style='fill:url(%23_Linear2);'/%3e%3cpath%20d='M3421.17,2470.92C3422.52,2447.75%203443.22,2074.2%203390.09,1942.48C3356.26,1858.59%203268.81,1711.19%203107.17,1645.27C2955.45,1583.38%202779.15,1587.81%202633.79,1670.86C2561.72,1712.03%202397.69,1903.9%202359.97,1958.81C2323.5,2014.7%201972.12,2474.32%201972.12,2474.32C1972.12,2474.32%201792.59,2743.35%201467.02,2979.07C1231.3,3149.74%20857.758,3073.22%20760.787,3048.45C470.205,2974.23%20226.48,2763.69%20134.941,2474.32C98.86,2360.26%2086.861,2240%2092.254,2120.78C97.769,1998.84%20126.508,1879.35%20170.93,1765.41C353.602,1296.86%20821.557,1121.11%201286.23,1228.41C1345.46,1242.09%201587.1,1310.11%201695.77,1400.6C1742.46,1439.48%201890.47,1694.12%201941.78,1731.52C1868.72,1829.34%201662.26,2088.89%201656.22,2080.66C1560.18,1949.87%201466.29,1825.54%201396.67,1752.54C1364.49,1718.8%201326.78,1688.4%201286.07,1665.59C1241.7,1640.73%201192.39,1626.32%201142.77,1616.25C1014.63,1590.25%20875.39,1602.15%20760.787,1668.48C702.968,1701.95%20654.83,1749.35%20615.662,1803.22C515.695,1940.71%20479.125,2123.88%20529.362,2287.5C602.031,2524.17%20860.168,2697.81%201107.83,2651.96C1222.22,2630.78%201318.25,2565.39%201407.08,2493.48C1463.76,2447.6%201853.67,1933.92%201911.86,1861.91C1911.86,1861.91%202075.85,1598.88%202335.58,1385.29C2468.96,1275.61%202633.57,1219.77%202746.42,1203.44C2983.45,1169.14%203319.16,1197.95%203556.91,1456.64C3846.57,1771.78%203807.86,1963.54%203809.45,2200.65C3809.7,2236.87%203809.22,2272.06%203807.84,2306.18L3807.84,3095.05L3421.11,3095.05L3421.11,2472.06L3421.17,2470.92Z'%20style='fill:url(%23_Linear3);'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='_Linear1'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='_Linear2'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='_Linear3'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Hs="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0224%203.58728C12.0281%203.35631%2012.3279%203.27146%2012.4561%203.46284C14.0002%205.76973%2016.6294%207.28848%2019.6139%207.28848C20.7329%207.28848%2021.8019%207.07448%2022.7823%206.68607C20.8309%202.74069%2016.7745%200.0227692%2012.0809%200.000143355C5.4924%20-0.0319099%200.0747474%205.31532%200.0228993%2011.9041C0.0125297%2013.2249%200.216151%2014.4976%200.600769%2015.6883C3.43639%2015.4536%206.2079%2014.2525%208.37704%2012.0823C10.73%209.72924%2011.9451%206.67004%2012.0224%203.58728Z'%20fill='url(%23paint0_linear_728_4516)'/%3e%3cpath%20d='M11.9651%2023.9999C18.5526%2024.031%2023.9694%2018.6866%2024.0222%2012.0987C24.0325%2010.7779%2023.8289%209.50616%2023.4452%208.31548C20.6087%208.55022%2017.8381%209.75127%2015.668%2011.9215C13.315%2014.2745%2012.1008%2017.3337%2012.0235%2020.4165C12.0179%2020.6475%2011.7181%2020.7323%2011.5899%2020.5409C10.0458%2018.2341%207.41658%2016.7153%204.43201%2016.7153C3.31398%2016.7153%202.24496%2016.9284%201.26456%2017.3168C3.21688%2021.2603%207.27235%2023.9772%2011.9651%2023.9999Z'%20fill='url(%23paint1_linear_728_4516)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_728_4516'%20x1='22.7823'%20y1='-8.42108e-07'%20x2='9.57872'%20y2='18.4678'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234B1BF9'/%3e%3cstop%20offset='1'%20stop-color='%233ECCEE'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_728_4516'%20x1='24.0225'%20y1='8.31547'%20x2='10.8228'%20y2='26.7809'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F20A49'/%3e%3cstop%20offset='0.52'%20stop-color='%23C119E7'/%3e%3cstop%20offset='1'%20stop-color='%234675F3'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",kce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2038%2027'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-1694.3,-36.2585)'%3e%3cg%20transform='matrix(1,0,0,1,-40,-2.12025)'%3e%3cpath%20d='M1769.01,55.819L1764.32,55.819C1763.21,55.819%201762.31,54.916%201762.31,53.805L1762.31,49.777C1762.31,48.665%201763.21,47.763%201764.32,47.763L1769.01,47.763L1769.01,45.557C1769.01,42.116%201766.21,39.323%201762.77,39.323L1741.48,39.323C1738.04,39.323%201735.25,42.116%201735.25,45.557L1735.25,58.025C1735.25,61.465%201738.04,64.258%201741.48,64.258L1762.77,64.258C1766.21,64.258%201769.01,61.465%201769.01,58.025L1769.01,55.819Z'%20style='fill:none;stroke:white;stroke-width:1.89px;'/%3e%3cg%20transform='matrix(0.720727,0,0,1,492.88,0.767239)'%3e%3cpath%20d='M1773.61,49.01C1773.61,47.898%201772.36,46.996%201770.81,46.996L1763.74,46.996C1762.2,46.996%201760.95,47.898%201760.95,49.01L1760.95,53.038C1760.95,54.149%201762.2,55.052%201763.74,55.052L1770.81,55.052C1772.36,55.052%201773.61,54.149%201773.61,53.038L1773.61,49.01Z'%20style='fill:none;stroke:white;stroke-width:2.17px;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Cce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ece=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),o_=t=>{const e=Ece(t);return e.charAt(0).toUpperCase()+e.slice(1)},Kz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Sce=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var Ace={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jce=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...o},c)=>j.createElement("svg",{ref:c,...Ace,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kz("lucide",s),...!a&&!Sce(o)&&{"aria-hidden":"true"},...o},[...i.map(([u,h])=>j.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ot=(t,e)=>{const n=j.forwardRef(({className:r,...s},a)=>j.createElement(jce,{ref:a,iconNode:e,className:Kz(`lucide-${Cce(o_(t))}`,`lucide-${t}`,r),...s}));return n.displayName=o_(t),n};/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Tce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ice=Ot("activity",Tce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _ce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ov=Ot("arrow-right",_ce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qz=Ot("calendar",Pce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Oce=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qd=Ot("chart-column",Oce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qC=Ot("check",Rce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $ce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xx=Ot("chevron-down",$ce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Mce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Jz=Ot("chevron-left",Mce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zce=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yz=Ot("chevron-right",zce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Lce=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yi=Ot("circle-check-big",Lce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Bce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Fce=Ot("circle-help",Bce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Uce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Dce=Ot("circle-stop",Uce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Wce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hce=Ot("circle-x",Wce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Gce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mp=Ot("clock",Gce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qce=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],c6=Ot("cpu",qce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Vce=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zce=Ot("dollar-sign",Vce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kce=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lv=Ot("download",Kce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Qce=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Jce=Ot("ellipsis",Qce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Yce=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Vd=Ot("external-link",Yce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eue=Ot("eye",Xce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],nue=Ot("funnel",tue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],u6=Ot("globe",rue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],aue=Ot("grid-3x3",sue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iue=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],cv=Ot("hard-drive",iue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oue=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],lue=Ot("heart",oue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],d6=Ot("image",cue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const uue=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],due=Ot("list",uue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zd=Ot("loader-circle",hue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fue=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],pue=Ot("menu",fue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mue=[["path",{d:"M5 12h14",key:"1ays0h"}]],Xz=Ot("minus",mue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gue=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],yue=Ot("move",gue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bue=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],l_=Ot("package",bue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wue=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],vue=Ot("party-popper",wue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xue=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Nue=Ot("pause",xue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kue=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Cue=Ot("play",kue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Eue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eL=Ot("plus",Eue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Sue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uv=Ot("refresh-cw",Sue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Aue=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],jue=Ot("rocket",Aue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Tue=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Iue=Ot("rotate-cw",Tue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _ue=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dw=Ot("search",_ue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pue=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oue=Ot("settings",Pue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rue=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$ue=Ot("share-2",Rue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Mue=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],h6=Ot("sparkles",Mue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zue=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Lue=Ot("trash-2",zue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Bue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],c_=Ot("trending-up",Bue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Fue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],to=Ot("triangle-alert",Fue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Uue=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Due=Ot("trophy",Uue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Wue=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],u_=Ot("twitter",Wue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Hue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dv=Ot("upload",Hue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Gue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hv=Ot("users",Gue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const que=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],fv=Ot("wifi",que);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Vue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yn=Ot("x",Vue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Zue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pv=Ot("zap",Zue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kue=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Que=Ot("zoom-in",Kue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Jue=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Yue=Ot("zoom-out",Jue),Ad=({src:t,alt:e,className:n="",fallbackSrc:r="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMzM0MTU1Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDMTE2LjU2OSA3MCAxMzAgODMuNDMxIDMwIDEwMEMxMzAgMTE2LjU2OSAxMTYuNTY5IDEzMCAxMDAgMTMwQzgzLjQzMSAxMzAgNzAgMTE2LjU2OSA3MCAxMEM3MCA4My40MzEgODMuNDMxIDcwIDEwMCA3MFoiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+",placeholderSrc:s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iMjAiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+",onLoad:a,onError:i,priority:o=!1,sizes:c="100vw",...u})=>{const[h,f]=j.useState(s),[m,g]=j.useState("loading"),[b,y]=j.useState(!1),w=j.useRef(null),x=j.useRef(null),N=j.useMemo(()=>({rootMargin:o?"0px":"100px",threshold:o?0:.1}),[o]),E=j.useMemo(()=>!t||!t.includes("ipfs")||t.includes("data:")?t:t.includes("gateway.lighthouse.storage")?t.replace(/\.(jpg|jpeg|png)$/i,".webp"):t,[t]);return j.useEffect(()=>{if(!t){f(r),g("error");return}if(o){y(!0);return}return x.current=new IntersectionObserver(C=>{C.forEach(k=>{k.isIntersecting&&(y(!0),x.current&&x.current.disconnect())})},N),w.current&&x.current.observe(w.current),()=>{x.current&&x.current.disconnect()}},[t,o,N]),j.useEffect(()=>{if(!b||!t)return;const C=new Image;if(E!==t){const k=new Image;k.src=E}C.onload=()=>{f(t),g("loaded"),a&&a()},C.onerror=()=>{if(E!==t){const k=new Image;k.onload=()=>{f(t),g("loaded"),a&&a()},k.onerror=()=>{f(r),g("error"),i&&i()},k.src=t}else f(r),g("error"),i&&i()},C.src=E},[b,t,E,r,a,i]),l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{ref:w,src:h,alt:e,className:`${n} ${m==="loading"?"animate-pulse blur-sm scale-105":""} ${m==="loaded"?"animate-fade-in":""}`,style:{transition:"all 0.3s ease-in-out",opacity:m==="loaded"?1:.8,filter:m==="loading"?"blur(4px)":"blur(0px)",transform:m==="loading"?"scale(1.05)":"scale(1)"},sizes:c,loading:o?"eager":"lazy",...u}),m==="loading"&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse"})]})},Xue=t=>{console.log("🔍 getNFTImageUrl called for NFT:",t.metadata?.name||t.id,t.collectionName);let e=t.image||t.image_url||t.media_url||"";if(e&&!e.startsWith("ipfs://")&&(e.startsWith("http://")||e.startsWith("https://")))return console.log("✅ Using pre-converted HTTP image URL:",e),e;if(!e&&t.metadata&&(e=t.metadata.image||t.metadata.image_url||t.metadata.media_url||"",console.log("📋 Using metadata image:",e)),e&&e.startsWith("ipfs://")){const n=e.replace("ipfs://","");t.collectionName?.toLowerCase().includes("somnia")||t.collectionName?.toLowerCase().includes("dreava")||t.collectionName?.toLowerCase().includes("dreava.art")?(e=`https://gateway.lighthouse.storage/ipfs/${n}`,console.log("🏭 Converting to Lighthouse gateway for collection:",t.collectionName)):(e=`https://cloudflare-ipfs.com/ipfs/${n}`,console.log("🌐 Converting to Cloudflare gateway for external collection:",t.collectionName))}return console.log("✅ Final image URL:",e),e},d_=t=>{window.allCollections&&console.log("🔍 Available collections in window.allCollections:",{total:window.allCollections.length,sample:window.allCollections.slice(0,3).map(n=>({name:n.name,nfts:n.nfts?.length||0,firstNFTImage:n.nfts?.[0]?.image}))});const e=window.allCollections?.find(n=>n.name===t.collectionName||n.name?.toLowerCase().includes(t.collectionName?.toLowerCase())||t.collectionName?.toLowerCase().includes(n.name?.toLowerCase()));if(e){if(console.log("🔍 Found collection for fallback:",{name:e.name,nfts:e.nfts?.length||0,firstNFT:e.nfts?.[0]}),e.nfts&&e.nfts.length>0){const r=e.nfts[0],s=r.image||r.image_url||r.media_url;if(s&&!s.startsWith("ipfs://"))return console.log("🖼️ Using first NFT image from collection as fallback:",e.name,s),s;if(s&&s.startsWith("ipfs://")){const a=`https://gateway.lighthouse.storage/ipfs/${s.replace("ipfs://","")}`;return console.log("🖼️ Converting IPFS NFT image for fallback:",e.name,a),a}}const n=e.cover||e.banner||e.metadataBanner;if(n)return console.log("🖼️ Using collection fallback image:",e.name,n),n}return console.log("⚠️ No fallback image found, using placeholder"),null},f6=()=>{const{searchResults:t,showSearchResults:e,hideSearchResults:n,searchTerm:r}=zC(),s=Xr(),a=j.useCallback(m=>{n(),s(`/launchpad/collection/${m.address}`),console.log("Collection clicked:",m)},[n,s]),i=j.useCallback(m=>{n();const g=new URLSearchParams;m.id&&g.set("nftId",m.id),m.token?.address&&g.set("contract",m.token.address),m.metadata?.name&&g.set("nftName",m.metadata.name),m.collectionName&&g.set("collection",m.collectionName),s(`/my-nfts?${g.toString()}`),console.log("NFT clicked with search params:",m,g.toString())},[n,s]),o=j.useCallback(()=>{n(),s("/")},[n,s]),c=j.useCallback(()=>{n(),s("/my-nfts")},[n,s]),u=j.useMemo(()=>t.collections.length+t.nfts.length,[t.collections.length,t.nfts.length]),h=j.useMemo(()=>t.collections.slice(0,3),[t.collections]),f=j.useMemo(()=>t.nfts.slice(0,3),[t.nfts]);return!e||!r?null:l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900/95 backdrop-blur-sm border border-zinc-700/30 rounded-xl shadow-xl z-50 max-h-96 overflow-y-auto",children:t.isLoading?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(Zd,{className:"w-6 h-6 animate-spin mx-auto text-zinc-400 mb-2"}),l.jsx("p",{className:"text-zinc-400",children:"Searching..."})]}):u===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(l_,{className:"w-8 h-8 mx-auto text-zinc-400 mb-2"}),l.jsxs("p",{className:"text-zinc-400",children:['No results found for "',r,'"']})]}):l.jsxs("div",{className:"p-4",children:[t.collections.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-sm font-semibold text-zinc-300 flex items-center gap-2",children:[l.jsx(l_,{className:"w-4 h-4"}),"Collections (",t.collections.length,")"]}),l.jsx("button",{onClick:o,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"View all"})]}),l.jsx("div",{className:"space-y-2",children:h.map((m,g)=>(g===0&&console.log("🔍 First collection in search results:",{name:m.name,cover:m.cover,banner:m.banner,metadataBanner:m.metadataBanner,nfts:m.nfts,nftsCount:m.nfts?.length||0,firstNFTImage:m.nfts?.[0]?.image,firstNFT:m.nfts?.[0],fullCollection:m}),l.jsxs("div",{onClick:()=>a(m),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-zinc-800/50 cursor-pointer transition-colors",children:[l.jsxs("div",{className:"w-10 h-10 rounded-lg bg-zinc-800 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[(()=>{const b=m.cover||m.banner||m.metadataBanner||m.metadata?.image||m.metadata?.banner,y=b;return b?l.jsx(Ad,{src:y,alt:m.name,className:"w-full h-full object-cover",priority:g<2,sizes:"40px",onError:w=>{console.warn("⚠️ Collection image failed to load:",w.target.src),w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null})(),(!m.cover&&!m.banner&&!m.metadataBanner&&(m.nfts&&m.nfts.length>0),null),!m.cover&&!m.banner&&!m.metadataBanner&&m.nfts&&m.nfts.length>0?l.jsx(Ad,{src:m.nfts[0].image,alt:`${m.name} NFT`,className:"w-full h-full object-cover",priority:g<2,sizes:"40px",onError:b=>{console.warn("⚠️ Collection NFT image failed to load:",b.target.src),b.target.style.display="none",b.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:m.cover||m.banner||m.metadataBanner||m.nfts&&m.nfts.length>0?"none":"flex"},children:l.jsx(d6,{className:"w-5 h-5 text-zinc-400"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:m.name}),l.jsx("p",{className:"text-xs text-zinc-400 truncate",children:m.description||"No description"})]}),l.jsx(ov,{className:"w-4 h-4 text-zinc-400"})]},`collection-${g}`)))})]}),t.nfts.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-sm font-semibold text-zinc-300 flex items-center gap-2",children:[l.jsx(d6,{className:"w-4 h-4"}),"My NFTs (",t.nfts.length,")"]}),l.jsx("button",{onClick:c,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"View all"})]}),l.jsx("div",{className:"space-y-2",children:f.map((m,g)=>{g===0&&console.log("🔍 First NFT in search results:",{id:m.id,directImage:m.image,metadataImage:m.metadata?.image,contractAddress:m.contractAddress||m.token?.address,isFactoryNFT:m.isFactoryNFT,collectionName:m.collectionName,fullNft:m});let b=Xue(m);if(b||(b=d_(m),console.log("🔄 Using fallback image for NFT:",m.metadata?.name||m.id)),!b&&m.collectionName){const y=window.allCollections?.find(w=>w.name===m.collectionName||w.name?.toLowerCase().includes(m.collectionName?.toLowerCase())||m.collectionName?.toLowerCase().includes(w.name?.toLowerCase()));if(y&&y.nfts&&y.nfts.length>0){const w=y.nfts[0],x=w.image||w.image_url||w.media_url;x&&(x.startsWith("ipfs://")?b=`https://gateway.lighthouse.storage/ipfs/${x.replace("ipfs://","")}`:b=x,console.log("🖼️ Using collection NFT image as fallback:",y.name,b))}}return l.jsxs("div",{onClick:()=>i(m),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-zinc-800/50 cursor-pointer transition-colors",children:[l.jsxs("div",{className:"w-10 h-10 rounded-lg bg-zinc-800 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[b?l.jsx(Ad,{src:b,alt:m.metadata?.name||`NFT #${m.id}`,className:"w-full h-full object-cover",priority:g<2,sizes:"40px",onError:y=>{console.warn("⚠️ NFT image failed to load:",y.target.src),console.log("🔍 NFT data for debugging:",{nft:m.id,directImage:m.image,metadataImage:m.metadata?.image,resolvedUrl:b});const w=d_(m);w&&w!==b?(console.log("🔄 Retrying with fallback image:",w),y.target.src=w):(y.target.style.display="none",y.target.nextSibling.style.display="flex")}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:b?"none":"flex"},children:l.jsx("img",{src:dr,alt:"Logo",className:"w-5 h-5 opacity-50"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:m.metadata?.name||`NFT #${m.id}`}),l.jsx("p",{className:"text-xs text-zinc-400 truncate",children:m.collectionName})]}),l.jsx(ov,{className:"w-4 h-4 text-zinc-400"})]},`nft-${m.token?.address}-${m.id}-${g}`)})})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-zinc-700/30",children:l.jsxs("p",{className:"text-xs text-zinc-500 text-center",children:["Found ",u," result",u!==1?"s":"",' for "',r,'"']})})]})})},ede=({isOpen:t,onClose:e})=>{const{connect:n,disconnect:r,isConnected:s,address:a,connectors:i}=yo(),[o,c]=j.useState([]),[u,h]=j.useState(!1);if(!t)return null;j.useEffect(()=>{if(t){document.body.classList.add("modal-open");const b=document.querySelector(".wallet-modal-overlay");b&&(b.style.position="fixed",b.style.top="0",b.style.left="0",b.style.right="0",b.style.bottom="0",b.style.display="flex",b.style.alignItems="center",b.style.justifyContent="center",b.style.zIndex="999999",b.style.width="100vw",b.style.height="100vh")}else document.body.classList.remove("modal-open");return()=>{document.body.classList.remove("modal-open")}},[t]),j.useEffect(()=>{try{console.log("[ConnectModal] available connectors:",i?.map(y=>({id:y.id,name:y.name})))}catch{}const b=g.map(y=>({...y,installed:y.id==="metamask"?window.ethereum&&window.ethereum.isMetaMask:y.id==="rabby"?window.ethereum&&window.ethereum.isRabby:y.id==="keplr"?!!window.keplr:y.id==="subwallet"?!!(window.injectedWeb3&&window.injectedWeb3["polkadot-js"]):y.id==="pontem"?window.ethereum&&window.ethereum.isPontem:y.id==="nightly"?window.ethereum&&window.ethereum.isNightly:y.id==="okx"?window.ethereum&&window.ethereum.isOkxWallet:!0}));c(b)},[]);const f=async b=>{if(!u)try{h(!0),console.log("Attempting to connect with wallet:",b);const y=i?.find(E=>E.id.toLowerCase().includes(b)),w=i?.find(E=>(E.name||"").toLowerCase().includes(b)),x=y||w||i?.[0],N=await n({connectorId:x?.id,connectorName:x?.name});if(!N?.success)throw N?.error||new Error("Failed to connect");e()}catch(y){console.error("Failed to connect:",y),alert(`Connection failed: ${y.message}`)}finally{h(!1)}},m=async()=>{try{await r(),e()}catch(b){console.error("Failed to disconnect:",b)}},g=[{id:"metamask",name:"MetaMask",icon:"🦊",description:"Connect using MetaMask",installed:!0},{id:"walletconnect",name:"WalletConnect",icon:"🔗",description:"Connect using WalletConnect",installed:!0},{id:"rabby",name:"Rabby Wallet",icon:"🐰",description:"Connect using Rabby Wallet",installed:!0},{id:"keplr",name:"Keplr",icon:"🔵",description:"Connect using Keplr",installed:window.keplr},{id:"subwallet",name:"SubWallet",icon:"🟢",description:"Connect using SubWallet",installed:window.injectedWeb3&&window.injectedWeb3["polkadot-js"]},{id:"pontem",name:"Pontem Wallet",icon:"🟣",description:"Connect using Pontem Wallet",installed:window.ethereum&&window.ethereum.isPontem},{id:"nightly",name:"Nightly",icon:"🌙",description:"Connect using Nightly",installed:window.ethereum&&window.ethereum.isNightly},{id:"okx",name:"OKX Wallet",icon:"⚫",description:"Connect using OKX Wallet",installed:window.ethereum&&window.ethereum.isOkxWallet}];return io.createPortal(l.jsx("div",{className:"wallet-modal-overlay fixed inset-0 bg-black/60 backdrop-blur-md p-4 z-[100000]",onClick:e,children:l.jsxs("div",{className:"wallet-modal-content bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl mx-auto my-auto",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:dr,alt:"Dreava",className:"w-8 h-8"}),l.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect"})]}),l.jsx("button",{onClick:e,className:"text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Yn,{size:24})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-green-400 font-medium",children:"Connected"})]}),l.jsx("p",{className:"text-zinc-300 text-sm font-mono break-all",children:a})]}),l.jsx("button",{onClick:m,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors duration-200",children:"Disconnect Wallet"})]}):l.jsx("div",{className:"space-y-3",children:o.map(b=>l.jsxs("button",{onClick:()=>f(b.id),disabled:!b.installed||u,className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all duration-200 ${b.installed?"bg-zinc-800 border-zinc-700 hover:bg-zinc-700 hover:border-zinc-600 cursor-pointer":"bg-zinc-800/50 border-zinc-700/50 cursor-not-allowed opacity-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:b.icon}),l.jsxs("div",{className:"text-left",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-white",children:b.name}),b.installed&&l.jsx("span",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full",children:"installed"})]}),l.jsx("p",{className:"text-zinc-400 text-sm",children:b.description})]})]}),u&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]},b.id))})}),l.jsx("div",{className:"p-6 border-t border-zinc-800 bg-zinc-900/50",children:l.jsxs("p",{className:"text-center text-zinc-400 text-sm",children:["By connecting your wallet, you agree to our"," ",l.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-blue-300 underline",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-blue-300 underline",children:"Privacy Policy"})]})})]})}),document.body)},h_=({isMobile:t=!1})=>{const[e,n]=j.useState(!1),[r,s]=j.useState(!1),a=j.useRef(),{disconnect:i,isConnected:o,address:c,isLoading:u}=yo();j.useEffect(()=>{const g=b=>{a.current&&!a.current.contains(b.target)&&n(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=()=>{o?n(g=>!g):s(!0)},f=async()=>{try{await i(),n(!1)}catch(g){console.error("Disconnect failed:",g)}},m=g=>g?`${g.slice(0,6)}...${g.slice(-4)}`:"";return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:h,disabled:u,"data-wallet-connect":!0,className:`flex items-center gap-2 rounded-xl text-white font-semibold shadow hover:shadow-lg hover:scale-105 transition-all duration-200 bg-gradient-to-r from-blue-500 to-pink-500 ${t?"px-3 py-2":"px-4 py-2"}`,children:[l.jsx("img",{src:kce,alt:"Wallet",className:"w-5 h-5"}),o?m(c):"Connect"]}),e&&io.createPortal(l.jsx("div",{ref:a,className:"fixed inset-0 z-[100000]",onClick:()=>n(!1),children:l.jsx("div",{className:"absolute right-3 top-16 w-64 bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl shadow-2xl animate-fadeIn",onClick:g=>g.stopPropagation(),children:l.jsxs("div",{className:"pt-2",children:[l.jsx(ha,{to:"/my-nfts",onClick:()=>n(!1),className:"block px-4 py-3 hover:bg-white/5 text-white transition-colors duration-200",children:"My NFTs"}),l.jsx("button",{onClick:f,className:"w-full text-left px-4 py-3 text-red-400 hover:bg-red-400/10 transition-colors duration-200",children:"Disconnect"})]})})}),document.body),r&&l.jsx("div",{className:"relative z-[999999]",children:l.jsx(ede,{isOpen:r,onClose:()=>s(!1)})})]})},nl=50312,hw="0xc488",tde={chainId:hw,chainName:"Somnia Testnet",rpcUrls:["https://dream-rpc.somnia.network/"],nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},blockExplorerUrls:["https://shannon-explorer.somnia.network/"]};async function jd(){if(console.log("[Network] ensureSomniaNetwork invoked"),typeof window>"u"||!window.ethereum)throw new Error("Wallet not detected");try{typeof window.ethereum.request=="function"&&(console.log("[Network] requesting permissions: wallet_requestPermissions"),await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))}catch{}const t=await window.ethereum.request({method:"eth_chainId"});if(console.log("[Network] current chainId:",t),t===hw)return console.log("[Network] already on Somnia"),!0;try{return console.log("[Network] trying wallet_switchEthereumChain to",hw),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:hw}]}),console.log("[Network] switchEthereumChain success"),!0}catch(e){if(console.warn("[Network] switchEthereumChain error:",e?.code,e?.message||e),e&&(e.code===4902||String(e.message||"").toLowerCase().includes("unrecognized")))return console.log("[Network] trying wallet_addEthereumChain"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[tde]}),console.log("[Network] addEthereumChain success"),!0;throw e}}const nde=()=>{const t=Xr(),e=py(),{searchTerm:n,filters:r,updateSearch:s,updateFilters:a,clearSearch:i,hideSearchResults:o}=zC(),[c,u]=j.useState(!1),[h,f]=j.useState(!1),{isConnected:m,chainId:g,switchNetwork:b,balance:y}=yo();j.useEffect(()=>{m||console.warn("❌ Wallet not connected")},[m]),j.useEffect(()=>{(async()=>{if(m&&g!==nl)try{console.log("[Header] enforcing network. current chainId:",g),await b(nl)}catch(k){console.warn("[Header] Network switch failed (wagmi):",k?.message||k)}})()},[m,g,b]),j.useEffect(()=>{const k=A=>{A.target.closest(".search-container")||o(),!A.target.closest(".mobile-menu")&&h&&f(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[o,h]),j.useEffect(()=>{f(!1),u(!1)},[e.pathname]);const w=()=>{t("/create-dreams"),f(!1)},x=j.useCallback(k=>{s(k.target.value)},[s]),N=j.useCallback((k,A)=>{a({...r,[k]:A})},[r,a]),E=j.useCallback(()=>{i()},[i]),C=k=>{if(!k)return"0.00";try{return parseFloat(k).toFixed(2)}catch{return"0.00"}};return l.jsx(l.Fragment,{children:l.jsxs("header",{className:"bg-black text-white px-4 md:px-6 py-3 flex items-center justify-between border-b border-zinc-800 relative z-[100]",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx(ha,{to:"/",children:l.jsx("img",{src:dr,alt:"Logo",className:"h-8 md:h-9"})}),l.jsxs("button",{onClick:w,className:"hidden md:inline-flex items-center bg-zinc-800 hover:bg-zinc-700 text-white font-semibold px-6 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg border border-zinc-700",children:[l.jsx(h6,{className:"inline w-4 h-4 mr-2"}),"Create your dreams"]})]}),l.jsx("div",{className:"hidden md:block flex-1 md:px-10 md:max-w-xl",children:l.jsxs("div",{className:"search-container relative",children:[l.jsxs("div",{className:"relative",children:[l.jsx(dw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search items, collections and accounts",value:n,onChange:x,className:"w-full px-4 py-2 rounded-full bg-zinc-800 placeholder-zinc-400 text-white focus:outline-none pl-10 pr-20"}),n&&l.jsx("button",{onClick:E,className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Yn,{size:16})}),l.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(nue,{size:16})})]}),c&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl p-4 z-40",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Price Range"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.priceRange||"",onChange:k=>N("priceRange",k.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"0-0.1",children:"0 - 0.1 STT"}),l.jsx("option",{value:"0.1-1",children:"0.1 - 1 STT"}),l.jsx("option",{value:"1-10",children:"1 - 10 STT"}),l.jsx("option",{value:"10+",children:"10+ STT"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Supply Range"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.supplyRange||"",onChange:k=>N("supplyRange",k.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"1-100",children:"1 - 100"}),l.jsx("option",{value:"100-1000",children:"100 - 1,000"}),l.jsx("option",{value:"1000-10000",children:"1,000 - 10,000"}),l.jsx("option",{value:"10000+",children:"10,000+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.type||"",onChange:k=>N("type",k.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"collection",children:"Collection"}),l.jsx("option",{value:"nft",children:"NFT"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Sort"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.sort||"",onChange:k=>N("sort",k.target.value),children:[l.jsx("option",{value:"relevance",children:"Relevance"}),l.jsx("option",{value:"newest",children:"Newest"}),l.jsx("option",{value:"popular",children:"Popular"})]})]})]})}),l.jsx(f6,{})]})}),l.jsxs("div",{className:"hidden md:flex items-center gap-6 relative",children:[l.jsx(ha,{to:"/launchpad",className:"font-semibold",children:"Launchpad"}),l.jsx(ha,{to:"/marketplace",className:"font-semibold",children:"Marketplace"}),m&&y&&l.jsxs("div",{className:"flex items-center gap-1 pr-2",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-5 h-5"}),l.jsxs("span",{className:"font-bold text-sm",children:[C(y)," STT"]})]}),l.jsx(h_,{})]}),l.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[l.jsx("button",{onClick:()=>u(!c),className:"p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(dw,{className:"w-5 h-5"})}),l.jsx("div",{className:"p-2",children:l.jsx(h_,{isMobile:!0})}),l.jsx("button",{onClick:()=>f(!h),className:"p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(pue,{className:"w-5 h-5"})})]}),c&&io.createPortal(l.jsx("div",{className:"search-container fixed inset-x-0 top-20 z-[100000] md:hidden px-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl p-3 shadow-2xl mx-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(dw,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search collections, NFTs, creators...",value:n,onChange:x,className:"w-full pl-10 pr-10 py-3 bg-zinc-800/60 border border-zinc-700/50 rounded-lg text-white placeholder:text-zinc-500 focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300",autoFocus:!0}),n&&l.jsx("button",{onClick:E,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Yn,{size:16})})]}),l.jsx("div",{className:"mt-2",children:l.jsx(f6,{})})]})}),document.body),h&&l.jsx("div",{className:"mobile-menu md:hidden absolute top-full left-0 right-0 bg-zinc-900/95 backdrop-blur-xl border-t border-zinc-800/50 animate-fadeIn",children:l.jsxs("div",{className:"p-6 space-y-6 relative",children:[l.jsx("button",{onClick:()=>f(!1),className:"absolute top-0 right-0 p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Yn,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("button",{onClick:()=>{w(),f(!1)},className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-semibold px-6 py-4 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg border border-zinc-700 shadow-lg",children:[l.jsx(h6,{className:"inline w-5 h-5 mr-2"}),"Create Your Dreams"]}),l.jsx("p",{className:"text-zinc-400 text-sm mt-2",children:"Build, populate, and manage your NFT collections."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ha,{to:"/launchpad",onClick:()=>f(!1),className:"block text-center py-3 font-semibold text-white hover:text-pink-400 transition-colors duration-200 border border-zinc-700 rounded-lg hover:bg-zinc-800/50",children:"Launchpad"}),l.jsx(ha,{to:"/marketplace",onClick:()=>f(!1),className:"block text-center py-3 font-semibold text-white hover:text-pink-400 transition-colors duration-200 border border-zinc-700 rounded-lg hover:bg-zinc-800/50",children:"Marketplace"})]})]})})]})})};var tL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f_=Ke.createContext&&Ke.createContext(tL),rde=["attr","size","title"];function sde(t,e){if(t==null)return{};var n=ade(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ade(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function p_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(n),!0).forEach(function(r){ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e,n){return e=ode(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ode(t){var e=lde(t,"string");return typeof e=="symbol"?e:e+""}function lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nL(t){return t&&t.map((e,n)=>Ke.createElement(e.tag,gv({key:n},e.attr),nL(e.child)))}function VC(t){return e=>Ke.createElement(cde,mv({attr:gv({},t.attr)},e),nL(t.child))}function cde(t){var e=n=>{var{attr:r,size:s,title:a}=t,i=sde(t,rde),o=s||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),Ke.createElement("svg",mv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:c,style:gv(gv({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Ke.createElement("title",null,a),t.children)};return f_!==void 0?Ke.createElement(f_.Consumer,null,n=>e(n)):e(tL)}function ude(t){return VC({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(t)}function dde(t){return VC({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(t)}function hde(t){return VC({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}const fde=()=>l.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-[#0d0d0d] border-t border-zinc-700 z-[80]",children:l.jsxs("div",{className:"flex flex-row items-center justify-between px-4 md:px-6 py-3 w-full min-h-[52px]",children:[l.jsxs("div",{className:"flex gap-6 text-xs md:text-sm text-white whitespace-nowrap overflow-x-auto no-scrollbar",children:[l.jsx("a",{href:"https://www.notion.so/dreava-art-NFT-Launchpad-Guide-Step-by-Step-from-Collection-to-Sale-220626bc8ae98000adfffd01b1aff334",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:"Docs"}),l.jsx(ha,{to:"/privacy",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"}),l.jsx(ha,{to:"/terms",className:"hover:text-blue-400 transition-colors",children:"Terms Of Service"})]}),l.jsxs("div",{className:"flex gap-4 flex-shrink-0",children:[l.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:l.jsx(ude,{className:"text-white w-5 h-5"})}),l.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:l.jsx(hde,{className:"text-white w-5 h-5"})}),l.jsx("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:l.jsx(dde,{className:"text-white w-5 h-5"})})]})]})}),pde="/assets/blurry%20circle%20on%20the%20left-B9j3xpR6.svg",mde="/assets/blurry%20circle%20on%20the%20right-BrslP2N3.svg",Op=()=>l.jsxs(l.Fragment,{children:[l.jsx("img",{src:pde,alt:"",className:"fixed top-[-400px] left-0 w-[800px] translate-x-[-50%] translate-y-[50%] pointer-events-none select-none z-0"}),l.jsx("img",{src:mde,alt:"",className:"fixed top-[-80px] right-0 w-[800px] translate-x-[50%] pointer-events-none select-none z-0"})]}),fw="/assets/IMG-ClTlsDTj.mov",gde=({onLoadingComplete:t})=>{const[e,n]=j.useState("Initializing"),[r,s]=j.useState(!0),[a,i]=j.useState(!1),[o,c]=j.useState(0),u=j.useRef(null),h=async()=>{n("Preloading assets"),c(30),await new Promise(m=>setTimeout(m,300)),c(60)},f=async()=>{n("Loading collections"),c(80);try{JSON.parse(localStorage.getItem("dreava_collections")||"[]")}catch{}await new Promise(m=>setTimeout(m,200)),c(90)};return j.useEffect(()=>{(async()=>{try{const m=Date.now(),g=2e3;n("Initializing"),c(10),await new Promise(y=>setTimeout(y,300)),await h(),await f(),n("Almost ready"),c(95),await new Promise(y=>setTimeout(y,300)),c(100),n("Ready");const b=Date.now()-m;b<g&&await new Promise(y=>setTimeout(y,g-b)),s(!1),t&&t()}catch(m){console.error("Loading error:",m),s(!1),t&&t()}})()},[t]),r?l.jsxs("div",{className:"fixed inset-0 bg-black z-[9996] flex flex-col items-center justify-center",children:[l.jsx(Op,{}),a?l.jsx("div",{className:"relative z-10 mb-6 w-64 h-64 bg-zinc-800/80 backdrop-blur-sm rounded-2xl shadow-2xl flex items-center justify-center border border-zinc-700/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:dr,alt:"Dreava",className:"w-32 h-32 mx-auto mb-4"}),l.jsx("div",{className:"text-zinc-300 text-lg font-semibold",children:"Dreava"})]})}):l.jsx("div",{className:"relative z-10 mb-6",children:l.jsx("video",{ref:u,src:fw,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-64 h-64 object-cover rounded-2xl shadow-2xl",onError:m=>{console.warn("Failed to load video:",m),i(!0),m.target.style.display="none"}})}),l.jsx("div",{className:"relative z-10 w-80 h-2 bg-zinc-800 rounded-full overflow-hidden mb-4",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-blue-500 rounded-full transition-all duration-300 ease-out",style:{width:`${o}%`}})}),l.jsxs("div",{className:"relative z-10 text-zinc-300 text-sm font-medium mb-2",children:[Math.round(o),"%"]}),l.jsx("div",{className:"relative z-10 text-zinc-300 text-sm font-medium",children:e})]}):null},yde=()=>window.ethereum&&(window.ethereum.isMetaMask||window.ethereum.isWalletConnect||window.ethereum.isCoinbaseWallet||window.ethereum.isReown),bde=()=>window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"Coinbase Wallet":window.ethereum.isReown?"Reown":"Unknown Provider":null,wde=async()=>{try{return window.ethereum?await window.ethereum.request({method:"eth_chainId"})!==void 0:!1}catch(t){return console.warn("Network availability check failed:",t),!1}},vde=({enabled:t=!1})=>{const[e,n]=j.useState({hasProvider:!1,providerType:null,networkAvailable:!1,lastCheck:null}),[r,s]=j.useState(!1);return j.useEffect(()=>{if(!t)return;const a=async()=>{try{const o=yde(),c=bde(),u=await wde();n({hasProvider:o,providerType:c,networkAvailable:u,lastCheck:new Date().toLocaleTimeString()})}catch(o){console.error("Wallet status check failed:",o),n(c=>({...c,lastCheck:new Date().toLocaleTimeString()}))}},i=setInterval(a,5e3);return a(),()=>clearInterval(i)},[t]),t?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>s(!r),className:"fixed bottom-4 right-4 z-50 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:[r?"Hide":"Show"," Wallet Status"]}),r&&l.jsxs("div",{className:"fixed bottom-16 right-4 z-50 bg-gray-900 border border-gray-700 rounded-lg p-4 text-white text-sm shadow-xl max-w-xs",children:[l.jsx("h3",{className:"font-bold mb-2 text-blue-400",children:"Wallet Status Monitor"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Provider:"}),l.jsx("span",{className:e.hasProvider?"text-green-400":"text-red-400",children:e.providerType||"None"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Network:"}),l.jsx("span",{className:e.networkAvailable?"text-green-400":"text-red-400",children:e.networkAvailable?"Available":"Unavailable"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Last Check:"}),l.jsx("span",{className:"text-gray-400 text-xs",children:e.lastCheck||"Never"})]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:l.jsxs("div",{className:"text-xs text-gray-400",children:[l.jsxs("div",{children:["Window.ethereum: ",window.ethereum?"✓":"✗"]}),l.jsxs("div",{children:["MetaMask: ",window.ethereum?.isMetaMask?"✓":"✗"]}),l.jsxs("div",{children:["Reown: ",window.ethereum?.isReown?"✓":"✗"]})]})})]})]}):null},xde=({enabled:t=!1})=>{const[e,n]=j.useState({pageLoadTime:null,errors:[],warnings:[],walletStatus:null,networkRequests:[],domReady:!1}),[r,s]=j.useState(!1);return j.useEffect(()=>{if(!t)return;const a=performance.now(),i=m=>{n(g=>({...g,errors:[...g.errors,{message:m.message||m.error?.message||"Unknown error",source:m.filename||m.target?.src||"Unknown",line:m.lineno||"Unknown",time:new Date().toLocaleTimeString()}]}))},o=m=>{(m.target.tagName==="SCRIPT"||m.target.tagName==="LINK")&&n(g=>({...g,networkRequests:[...g.networkRequests,{url:m.target.src||m.target.href,type:m.target.tagName,success:!m.target.onerror,time:new Date().toLocaleTimeString()}]}))},c=m=>{n(g=>({...g,errors:[...g.errors,{message:`Failed to load resource: ${m.target.src||m.target.href}`,source:m.target.src||m.target.href||"Unknown",time:new Date().toLocaleTimeString()}]}))},u=()=>{n(m=>({...m,domReady:document.readyState==="complete",pageLoadTime:((performance.now()-a)/1e3).toFixed(2)}))};window.addEventListener("error",i),window.addEventListener("unhandledrejection",m=>{i({message:m.reason?.message||"Unhandled promise rejection"})}),window.addEventListener("load",u),document.addEventListener("DOMContentLoaded",u),document.addEventListener("load",o,!0),document.addEventListener("error",c,!0);const h=()=>{const m={hasEthereum:!!window.ethereum,ethereumType:window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isReown?"Reown":"Unknown":"None",time:new Date().toLocaleTimeString()};n(g=>({...g,walletStatus:m}))},f=setInterval(h,2e3);return h(),()=>{window.removeEventListener("error",i),window.removeEventListener("unhandledrejection",i),window.removeEventListener("load",u),document.removeEventListener("DOMContentLoaded",u),document.removeEventListener("load",o,!0),document.removeEventListener("error",c,!0),clearInterval(f)}},[t]),t?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>s(!r),className:"fixed bottom-4 left-4 z-50 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:[r?"Hide":"Show"," Debug"]}),r&&l.jsxs("div",{className:"fixed bottom-16 left-4 z-50 bg-gray-900 border border-gray-700 rounded-lg p-4 text-white text-sm shadow-xl max-w-md max-h-96 overflow-y-auto",children:[l.jsx("h3",{className:"font-bold mb-2 text-red-400",children:"Debug Loader"}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"DOM Ready:"}),l.jsx("span",{className:e.domReady?"text-green-400":"text-red-400",children:e.domReady?"Yes":"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Load Time:"}),l.jsx("span",{className:"text-blue-400",children:e.pageLoadTime?`${e.pageLoadTime}s`:"Loading..."})]})]}),e.walletStatus&&l.jsxs("div",{className:"mb-3 p-2 bg-gray-800 rounded",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Wallet Status:"}),l.jsxs("div",{className:"text-xs",children:[l.jsxs("div",{children:["Ethereum: ",e.walletStatus.hasEthereum?"✓":"✗"]}),l.jsxs("div",{children:["Type: ",e.walletStatus.ethereumType]}),l.jsxs("div",{children:["Time: ",e.walletStatus.time]})]})]}),e.errors.length>0&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-xs text-red-400 mb-1",children:["Errors (",e.errors.length,"):"]}),l.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:e.errors.slice(-5).map((a,i)=>l.jsx("div",{className:"text-xs text-red-300 bg-red-900 p-1 rounded",children:a.message},i))})]}),e.warnings.length>0&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-xs text-yellow-400 mb-1",children:["Warnings (",e.warnings.length,"):"]}),l.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:e.warnings.slice(-5).map((a,i)=>l.jsx("div",{className:"text-xs text-yellow-300 bg-yellow-900 p-1 rounded",children:a.message},i))})]}),e.networkRequests.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs text-blue-400 mb-1",children:["Network (",e.networkRequests.length,"):"]}),l.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:e.networkRequests.slice(-5).map((a,i)=>l.jsxs("div",{className:`text-xs p-1 rounded ${a.success?"text-green-300 bg-green-900":"text-red-300 bg-red-900"}`,children:[a.type,": ",a.success?"✓":"✗"]},i))})]})]})]}):null},Nde=()=>{const[t,e]=j.useState({hasEthereum:!1,ethereumType:"None",metaMaskAvailable:!1,reownAvailable:!1});return j.useEffect(()=>{const n=()=>{const s=!!window.ethereum,a=window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isReown?"Reown":"Unknown":"None";e({hasEthereum:s,ethereumType:a,metaMaskAvailable:window.ethereum?.isMetaMask||!1,reownAvailable:window.ethereum?.isReown||!1})};n();const r=setInterval(n,2e3);return()=>clearInterval(r)},[]),l.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"🧪 Test Page - Wallet Status"}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Wallet Status"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Ethereum Provider"}),l.jsx("div",{className:`text-2xl font-bold ${t.hasEthereum?"text-green-400":"text-red-400"}`,children:t.hasEthereum?"✓ Available":"✗ Not Available"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Provider Type"}),l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.ethereumType})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"MetaMask"}),l.jsx("div",{className:`text-2xl font-bold ${t.metaMaskAvailable?"text-green-400":"text-red-400"}`,children:t.metaMaskAvailable?"✓ Active":"✗ Inactive"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Reown"}),l.jsx("div",{className:`text-2xl font-bold ${t.reownAvailable?"text-green-400":"text-red-400"}`,children:t.reownAvailable?"✓ Active":"✗ Inactive"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"System Info"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:["User Agent: ",navigator.userAgent]}),l.jsxs("div",{children:["Platform: ",navigator.platform]}),l.jsxs("div",{children:["Language: ",navigator.language]}),l.jsxs("div",{children:["Cookies Enabled: ",navigator.cookieEnabled?"Yes":"No"]}),l.jsxs("div",{children:["Online: ",navigator.onLine?"Yes":"No"]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Test Actions"}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded",children:"Reload Page"}),l.jsx("button",{onClick:()=>console.log("Current ethereum:",window.ethereum),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded",children:"Log Ethereum to Console"}),l.jsx("button",{onClick:()=>{try{const n=window.ethereum?.request?.({method:"eth_chainId"});console.log("Chain ID test:",n)}catch(n){console.error("Chain ID test failed:",n)}},className:"bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded",children:"Test Chain ID"})]})]}),l.jsxs("div",{className:"bg-blue-900 rounded-lg p-6 mt-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Instructions"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:"1. Откройте консоль браузера (F12)"}),l.jsx("div",{children:"2. Проверьте, нет ли ошибок"}),l.jsx("div",{children:"3. Убедитесь, что MetaMask работает"}),l.jsx("div",{children:"4. Если все работает, можно включить Reown обратно"})]})]})]})})},kde=()=>{const[t,e]=j.useState({hasEthereum:!1,ethereumType:"None",metaMaskAvailable:!1,pageLoaded:!1});return j.useEffect(()=>{const n=()=>{const s=!!window.ethereum,a=window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isBackpack?"Backpack":window.ethereum.isEVMAsk?"EVM Ask":window.ethereum.isReown?"Reown":"Unknown":"None";e({hasEthereum:s,ethereumType:a,metaMaskAvailable:window.ethereum?.isMetaMask||!1,pageLoaded:!0})};n();const r=setInterval(n,2e3);return()=>clearInterval(r)},[]),l.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:"🧪 Simple Test Page"}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Status"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Page Loaded"}),l.jsx("div",{className:`text-2xl font-bold ${t.pageLoaded?"text-green-400":"text-red-400"}`,children:t.pageLoaded?"✓ Yes":"✗ No"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"React Working"}),l.jsx("div",{className:"text-2xl font-bold text-green-400",children:"✓ Yes"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Wallet Status"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Ethereum Provider"}),l.jsx("div",{className:`text-2xl font-bold ${t.hasEthereum?"text-green-400":"text-red-400"}`,children:t.hasEthereum?"✓ Available":"✗ Not Available"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Provider Type"}),l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:t.ethereumType})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"MetaMask"}),l.jsx("div",{className:`text-2xl font-bold ${t.metaMaskAvailable?"text-green-400":"text-red-400"}`,children:t.metaMaskAvailable?"✓ Active":"✗ Inactive"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Console Errors"}),l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"Check F12"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"System Info"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:["User Agent: ",navigator.userAgent]}),l.jsxs("div",{children:["Platform: ",navigator.platform]}),l.jsxs("div",{children:["Language: ",navigator.language]}),l.jsxs("div",{children:["Cookies Enabled: ",navigator.cookieEnabled?"Yes":"No"]}),l.jsxs("div",{children:["Online: ",navigator.onLine?"Yes":"No"]}),l.jsxs("div",{children:["Window Ethereum: ",window.ethereum?"Yes":"No"]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Test Actions"}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded",children:"Reload Page"}),l.jsx("button",{onClick:()=>console.log("Current ethereum:",window.ethereum),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded",children:"Log Ethereum to Console"}),l.jsx("button",{onClick:()=>{try{window.ethereum?.request?window.ethereum.request({method:"eth_chainId"}).then(n=>console.log("Chain ID:",n)).catch(n=>console.error("Chain ID error:",n)):console.log("No ethereum.request method available")}catch(n){console.error("Chain ID test failed:",n)}},className:"bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded",children:"Test Chain ID"})]})]}),l.jsxs("div",{className:"bg-blue-900 rounded-lg p-6 mt-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Instructions"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:"1. Откройте консоль браузера (F12)"}),l.jsx("div",{children:"2. Проверьте, нет ли ошибок"}),l.jsx("div",{children:"3. Убедитесь, что MetaMask работает"}),l.jsx("div",{children:"4. Если все работает, можно будет добавить Reown позже"})]})]})]})})},Cde=()=>{const t=yo();return l.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:"🧪 Reown Test Page"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"💰 Wallet Status"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Connected:"}),l.jsx("span",{className:t.isConnected?"text-green-400":"text-red-400",children:t.isConnected?"Yes":"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Loading:"}),l.jsx("span",{className:"text-green-400",children:"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Address:"}),l.jsx("span",{className:"text-blue-400 font-mono text-sm",children:t.address||"Not connected"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Chain ID:"}),l.jsx("span",{className:"text-purple-400",children:t.chainId||"Unknown"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Balance:"}),l.jsx("span",{className:"text-green-400",children:t.balance?`${t.balance} STT`:"Loading..."})]})]})]}),l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"🔧 Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:t.connect,disabled:t.isLoading,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Connect Wallet"}),l.jsx("button",{onClick:t.disconnect,disabled:!t.isConnected,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Disconnect"}),l.jsx("button",{onClick:()=>t.switchNetwork(50312),disabled:!t.isConnected||t.chainId===50312,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Switch to Somnia Testnet"})]})]}),l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg md:col-span-2",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"🔍 Reown AppKit Info"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"AppKit Initialized:"}),l.jsx("span",{className:t.reown.appKitState.initialized?"text-green-400":"text-red-400",children:t.reown.appKitState.initialized?"Yes":"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"AppKit Instance:"}),l.jsx("span",{className:"text-blue-400",children:"Not available"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg md:col-span-2",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"🐛 Debug Info"}),l.jsx("div",{className:"bg-gray-800 p-4 rounded-lg",children:l.jsx("pre",{className:"text-sm text-gray-300 overflow-x-auto",children:JSON.stringify({wallet:{isConnected:t.isConnected,isLoading:t.isLoading,address:t.address,chainId:t.chainId,balance:t.balance},reown:{appKitState:t.reown.appKitState,appKitNetwork:t.reown.appKitNetwork,appKitAccount:t.reown.appKitAccount,appKitBalance:t.reown.appKitBalance}},null,2)})})]})]})]})})},ZC="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2034%2034'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-291.918,-540.871)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20transform='matrix(1.00333,0,0,1.00574,-419.254,-12.0358)'%3e%3ccircle%20cx='510.859'%20cy='552.602'%20r='16.583'%20style='fill:rgb(22,22,22);stroke:white;stroke-width:0.5px;'/%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20id='svgexport-6.svg'%20transform='matrix(-1.00333,0,0,1.00574,93.3056,543.738)'%3e%3cg%20transform='matrix(1,0,0,1,-12,-12)'%3e%3cpath%20d='M10,6L8.59,7.41L13.17,12L8.59,16.59L10,18L16,12L10,6Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",KC="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2034%2034'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-695.346,-540.871)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20transform='matrix(1.00333,0,0,1.00574,-14.483,-12.0358)'%3e%3ccircle%20cx='510.859'%20cy='552.602'%20r='16.583'%20style='fill:rgb(22,22,22);stroke:white;stroke-width:0.5px;'/%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20id='svgexport-6.svg'%20transform='matrix(1.00333,0,0,1.00574,498.077,543.738)'%3e%3cg%20transform='matrix(1,0,0,1,-12,-12)'%3e%3cpath%20d='M10,6L8.59,7.41L13.17,12L8.59,16.59L10,18L16,12L10,6Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var m_={exports:{}},T4,g_;function Ede(){if(g_)return T4;g_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T4=t,T4}var I4,y_;function Sde(){if(y_)return I4;y_=1;var t=Ede();function e(){}function n(){}return n.resetWarningCache=e,I4=function(){function r(i,o,c,u,h,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},I4}var b_;function Ade(){return b_||(b_=1,m_.exports=Sde()()),m_.exports}var Hn=Ade();function rL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sL(t,e,n){return e&&jde(t.prototype,e),t}function aL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p6(t,e)}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yv(t)}function p6(t,e){return p6=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},p6(t,e)}function Tde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _de(t,e){return e&&(typeof e=="object"||typeof e=="function")?e:Ide(t)}function iL(t){var e=Tde();return function(){var n=yv(t),r;if(e){var s=yv(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return _de(this,r)}}function Pde(t){return Ode(t)||Rde(t)||$de(t)||Mde()}function Ode(t){if(Array.isArray(t))return m6(t)}function Rde(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $de(t,e){if(t){if(typeof t=="string")return m6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m6(t,e)}}function m6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=String(t);if(e===0)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),s=r?r[1]:"",a=r?r[3]:"",i=r?r[2]:n,o=i.length>=e?i:(Pde(Array(e)).map(function(){return"0"}).join("")+i).slice(e*-1);return"".concat(s).concat(o).concat(a)}var oL={daysInHours:!1,zeroPadTime:2};function zde(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.now,r=n===void 0?Date.now:n,s=e.precision,a=s===void 0?0:s,i=e.controlled,o=e.offsetTime,c=o===void 0?0:o,u=e.overtime,h;typeof t=="string"?h=new Date(t).getTime():t instanceof Date?h=t.getTime():h=t,i||(h+=c);var f=i?h:h-r(),m=Math.min(20,Math.max(0,a)),g=Math.round(parseFloat(((u?f:Math.max(0,f))/1e3).toFixed(m))*1e3),b=Math.abs(g)/1e3;return{total:g,days:Math.floor(b/(3600*24)),hours:Math.floor(b/3600%24),minutes:Math.floor(b/60%60),seconds:Math.floor(b%60),milliseconds:Number((b%1*1e3).toFixed()),completed:g<=0}}function Lde(t,e){var n=t.days,r=t.hours,s=t.minutes,a=t.seconds,i=Object.assign(Object.assign({},oL),e),o=i.daysInHours,c=i.zeroPadTime,u=i.zeroPadDays,h=u===void 0?c:u,f=Math.min(2,c),m=o?qm(r+n*24,c):qm(r,f);return{days:o?"":qm(n,h),hours:m,minutes:qm(s,f),seconds:qm(a,f)}}var lL=function(t){aL(n,t);var e=iL(n);function n(){var r;return rL(this,n),r=e.apply(this,arguments),r.state={count:r.props.count||3},r.startCountdown=function(){r.interval=window.setInterval(function(){var s=r.state.count-1;s===0?(r.stopCountdown(),r.props.onComplete&&r.props.onComplete()):r.setState(function(a){return{count:a.count-1}})},1e3)},r.stopCountdown=function(){clearInterval(r.interval)},r.addTime=function(s){r.stopCountdown(),r.setState(function(a){return{count:a.count+s}},r.startCountdown)},r}return sL(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?j.cloneElement(this.props.children,{count:this.state.count}):null}}]),n}(j.Component);lL.propTypes={count:Hn.number,children:Hn.element,onComplete:Hn.func};var Gg=function(t){aL(n,t);var e=iL(n);function n(r){var s;if(rL(this,n),s=e.call(this,r),s.mounted=!1,s.initialTimestamp=s.calcOffsetStartTimestamp(),s.offsetStartTimestamp=s.props.autoStart?0:s.initialTimestamp,s.offsetTime=0,s.legacyMode=!1,s.legacyCountdownRef=null,s.tick=function(){var i=s.calcTimeDelta(),o=i.completed&&!s.props.overtime?void 0:s.props.onTick;s.setTimeDeltaState(i,void 0,o)},s.setLegacyCountdownRef=function(i){s.legacyCountdownRef=i},s.start=function(){if(!s.isStarted()){var i=s.offsetStartTimestamp;s.offsetStartTimestamp=0,s.offsetTime+=i?s.calcOffsetStartTimestamp()-i:0;var o=s.calcTimeDelta();s.setTimeDeltaState(o,"STARTED",s.props.onStart),!s.props.controlled&&(!o.completed||s.props.overtime)&&(s.clearTimer(),s.interval=window.setInterval(s.tick,s.props.intervalDelay))}},s.pause=function(){s.isPaused()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.setTimeDeltaState(s.state.timeDelta,"PAUSED",s.props.onPause))},s.stop=function(){s.isStopped()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.offsetTime=s.offsetStartTimestamp-s.initialTimestamp,s.setTimeDeltaState(s.calcTimeDelta(),"STOPPED",s.props.onStop))},s.isStarted=function(){return s.isStatus("STARTED")},s.isPaused=function(){return s.isStatus("PAUSED")},s.isStopped=function(){return s.isStatus("STOPPED")},s.isCompleted=function(){return s.isStatus("COMPLETED")},r.date){var a=s.calcTimeDelta();s.state={timeDelta:a,status:a.completed?"COMPLETED":"STOPPED"}}else s.legacyMode=!0;return s}return sL(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(r){this.legacyMode||this.props.date!==r.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var r=this.props,s=r.date,a=r.now,i=r.precision,o=r.controlled,c=r.overtime;return zde(s,{now:a,precision:i,controlled:o,offsetTime:this.offsetTime,overtime:c})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(r){this.legacyCountdownRef.addTime(r)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(r){return this.state.status===r}},{key:"setTimeDeltaState",value:function(r,s,a){var i=this;if(this.mounted){var o=r.completed&&!this.state.timeDelta.completed,c=r.completed&&s==="STARTED";o&&!this.props.overtime&&this.clearTimer();var u=function(){a&&a(i.state.timeDelta),i.props.onComplete&&(o||c)&&i.props.onComplete(r,c)};return this.setState(function(h){var f=s||h.status;return r.completed&&!i.props.overtime?f="COMPLETED":!s&&f==="COMPLETED"&&(f="STOPPED"),{timeDelta:r,status:f}},u)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var r=this.props,s=r.daysInHours,a=r.zeroPadTime,i=r.zeroPadDays,o=this.state.timeDelta;return Object.assign(Object.assign({},o),{api:this.getApi(),props:this.props,formatted:Lde(o,{daysInHours:s,zeroPadTime:a,zeroPadDays:i})})}},{key:"render",value:function(){if(this.legacyMode){var r=this.props,s=r.count,a=r.children,i=r.onComplete;return j.createElement(lL,{ref:this.setLegacyCountdownRef,count:s,onComplete:i},a)}var o=this.props,c=o.className,u=o.overtime,h=o.children,f=o.renderer,m=this.getRenderProps();if(f)return f(m);if(h&&this.state.timeDelta.completed&&!u)return j.cloneElement(h,{countdown:m});var g=m.formatted,b=g.days,y=g.hours,w=g.minutes,x=g.seconds;return j.createElement("span",{className:c},m.total<0?"-":"",b,b?":":"",y,":",w,":",x)}}]),n}(j.Component);Gg.defaultProps=Object.assign(Object.assign({},oL),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});Gg.propTypes={date:Hn.oneOfType([Hn.instanceOf(Date),Hn.string,Hn.number]),daysInHours:Hn.bool,zeroPadTime:Hn.number,zeroPadDays:Hn.number,controlled:Hn.bool,intervalDelay:Hn.number,precision:Hn.number,autoStart:Hn.bool,overtime:Hn.bool,className:Hn.string,children:Hn.element,renderer:Hn.func,now:Hn.func,onMount:Hn.func,onStart:Hn.func,onPause:Hn.func,onStop:Hn.func,onTick:Hn.func,onComplete:Hn.func};const Ln=t=>t?t.startsWith("ipfs://")?[`https://gateway.lighthouse.storage/ipfs/${t.replace("ipfs://","")}`]:[t]:[],bv=async t=>{const e=async n=>{const r=await fetch(n,{method:"GET",mode:"cors",headers:{Accept:"application/json"}});if(!r.ok)throw new Error(`HTTP ${r.status}`);return await r.json()};if(typeof t=="string")try{return await e(t)}catch{throw new Error("Failed to fetch from URL")}else if(Array.isArray(t)){for(const n of t)try{return await e(n)}catch{continue}throw new Error("All URLs failed")}throw new Error("Invalid URL format")},Rn=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"uint256","name":"maxSupply_","type":"uint256"},{"internalType":"string","name":"baseTokenURI_","type":"string"},{"internalType":"string","name":"unrevealedURI_","type":"string"},{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"string","name":"contractURI_","type":"string"},{"internalType":"address","name":"royaltyRecipient","type":"address"},{"internalType":"uint96","name":"royaltyFeeNumerator","type":"uint96"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidDefaultRoyalty","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidDefaultRoyaltyReceiver","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidTokenRoyalty","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidTokenRoyaltyReceiver","type":"error"},{"inputs":[],"name":"ERC721EnumerableForbiddenBatchMint","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"ERC721OutOfBoundsIndex","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"AdminSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uri","type":"string"}],"name":"ContractURISet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"startPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"startTime","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"DutchAuctionStarted","type":"event"},{"anonymous":false,"inputs":[],"name":"DutchAuctionStopped","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"PaymentTokenSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"PhaseActivated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"},{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"indexed":false,"internalType":"struct SomniaNFT.Phase","name":"phase","type":"tuple"}],"name":"PhaseAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"},{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"indexed":false,"internalType":"struct SomniaNFT.Phase","name":"phase","type":"tuple"}],"name":"PhaseUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"revealed","type":"bool"}],"name":"Revealed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"name":"addPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"auction","outputs":[{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"endPrice","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseTokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentPhase","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deleteDefaultRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentAuctionPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentPhase","outputs":[{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"internalType":"struct SomniaNFT.Phase","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"getPhase","outputs":[{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"internalType":"struct SomniaNFT.Phase","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isAdmin","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mintDutch","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"mintWithERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"mintedPerWallet","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ownerMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paymentToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"phases","outputs":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setContractURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"setCurrentPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint96","name":"feeNumerator","type":"uint96"}],"name":"setDefaultRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newMax","type":"uint256"}],"name":"setMaxSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_paused","type":"bool"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setPaymentToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_revealed","type":"bool"}],"name":"setRevealed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"uri","type":"string"}],"name":"setTokenURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"},{"internalType":"string[]","name":"uris","type":"string[]"}],"name":"setTokenURIs","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setUnrevealedURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"endPrice","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"startDutchAuction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stopDutchAuction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateCurrentPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"name":"updatePhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"useERC20","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Bde=({message:t="Loading...",progress:e=null,showVideo:n=!0,showBackground:r=!0,size:s="default",className:a="",onComplete:i=null,autoProgress:o=!1,minDuration:c=2e3,showProgress:u=!0,showDots:h=!0})=>{const[f,m]=j.useState(0),[g,b]=j.useState(!1),[y,w]=j.useState(0),x=j.useRef(null),N=j.useRef(Date.now());j.useEffect(()=>{const k=setInterval(()=>{m(A=>(A+1)%4)},500);return()=>clearInterval(k)},[]),j.useEffect(()=>{if(o&&e===null){const k=setInterval(()=>{w(A=>A>=100?(clearInterval(k),i&&i(),100):A+1)},50);return()=>clearInterval(k)}},[o,e,i]),j.useEffect(()=>{if(i&&!o){const k=Date.now()-N.current,A=Math.max(0,c-k);if(A>0){const _=setTimeout(()=>{i()},A);return()=>clearTimeout(_)}else i()}},[i,o,c]);const E=(()=>{switch(s){case"small":return{container:"py-8",video:"w-32 h-32",logo:"text-2xl",message:"text-sm",progress:"w-48 h-2",dots:"w-2 h-2"};case"large":return{container:"py-20",video:"w-96 h-96",logo:"text-5xl",message:"text-xl",progress:"w-96 h-4",dots:"w-4 h-4"};default:return{container:"py-16",video:"w-64 h-64",logo:"text-4xl",message:"text-lg",progress:"w-80 h-3",dots:"w-3 h-3"}}})(),C=e!==null?e:y;return l.jsxs("div",{className:`flex flex-col items-center justify-center ${E.container} ${a}`,children:[r&&l.jsx(Op,{}),n&&!g?l.jsx("div",{className:"relative z-10 mb-8",children:l.jsx("video",{ref:x,src:fw,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${E.video} object-cover rounded-2xl shadow-2xl`,onError:k=>{console.warn("Failed to load video:",k),b(!0),k.target.style.display="none"}})}):n&&g?l.jsx("div",{className:`relative z-10 mb-8 ${E.video} bg-zinc-800/80 backdrop-blur-sm rounded-2xl shadow-2xl flex items-center justify-center border border-zinc-700/30`,children:l.jsx("div",{className:"text-center",children:l.jsx("video",{src:fw,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${E.video} object-cover rounded-2xl`})})}):l.jsx("div",{className:"mb-8",children:l.jsx("video",{src:fw,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${E.video} object-cover rounded-2xl shadow-2xl`})}),l.jsxs("p",{className:`text-zinc-400 ${E.message} mb-6 text-center`,children:[t,h&&f>0&&l.jsx("span",{className:"ml-1",children:".".repeat(f)})]}),u&&l.jsxs("div",{className:`max-w-full mx-auto mb-6 ${E.progress}`,children:[l.jsx("div",{className:"bg-zinc-800/80 backdrop-blur-sm rounded-full h-full overflow-hidden border border-zinc-700/30",children:l.jsx("div",{className:"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] h-full transition-all duration-300 ease-out rounded-full",style:{width:`${C}%`}})}),l.jsx("div",{className:"flex justify-center items-center mt-2",children:l.jsxs("span",{className:"text-white font-semibold",children:[Math.round(C),"%"]})})]}),h&&l.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(k=>l.jsx("div",{className:`bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] rounded-full animate-pulse ${E.dots}`,style:{animationDelay:`${k*.2}s`,animationDuration:"1s"}},k))})]})},Td=({message:t="Loading...",progress:e=null,showLogo:n=!0,size:r="default",className:s="",showVideo:a=!1,showBackground:i=!1,showProgress:o=!1,showDots:c=!1})=>l.jsx(Bde,{message:t,progress:e,showVideo:a,showBackground:i,size:r,className:s,showProgress:o,showDots:c}),Fde=({currentPage:t,totalPages:e,onPageChange:n,itemsPerPage:r=5,totalItems:s,className:a=""})=>{if(e<=1)return null;const i=t*r+1,o=Math.min((t+1)*r,s),c=(()=>{const u=[];if(e<=5)for(let h=0;h<e;h++)u.push(h);else if(t<=2){for(let h=0;h<4;h++)u.push(h);u.push("..."),u.push(e-1)}else if(t>=e-3){u.push(0),u.push("...");for(let h=e-4;h<e;h++)u.push(h)}else{u.push(0),u.push("...");for(let h=t-1;h<=t+1;h++)u.push(h);u.push("..."),u.push(e-1)}return u})();return l.jsxs("div",{className:`flex items-center justify-between ${a}`,children:[l.jsxs("div",{className:"text-sm text-zinc-400",children:["Showing ",i," to ",o," of ",s," collections"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>n(t-1),disabled:t===0,className:`p-2 rounded-lg transition-all duration-200 ${t===0?"bg-zinc-800/50 text-zinc-600 cursor-not-allowed":"bg-zinc-800/80 text-white hover:bg-zinc-700/80 hover:scale-105"}`,children:l.jsx(Jz,{className:"w-4 h-4"})}),l.jsx("div",{className:"flex items-center gap-1",children:c.map((u,h)=>l.jsx("button",{onClick:()=>typeof u=="number"&&n(u),disabled:typeof u!="number",className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${u===t?"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white":typeof u=="number"?"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700/80 hover:text-white":"text-zinc-500 cursor-default"}`,children:u==="..."?"...":u+1},h))}),l.jsx("button",{onClick:()=>n(t+1),disabled:t>=e-1,className:`p-2 rounded-lg transition-all duration-200 ${t>=e-1?"bg-zinc-800/50 text-zinc-600 cursor-not-allowed":"bg-zinc-800/80 text-white hover:bg-zinc-700/80 hover:scale-105"}`,children:l.jsx(Yz,{className:"w-4 h-4"})})]})]})};class Ude extends Ke.Component{constructor(e){super(e),cre(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:l.jsxs("div",{className:"max-w-md w-full bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-700/30 p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(to,{className:"w-8 h-8 text-red-400"})}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:this.handleRetry,className:"w-full px-4 py-2 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 flex items-center justify-center gap-2",children:[l.jsx(uv,{className:"w-4 h-4"}),"Try Again"]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-zinc-800/50 text-zinc-300 rounded-lg hover:bg-zinc-700/50 transition-colors",children:"Refresh Page"})]}),!1]})}):this.props.children}}const QC=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[s,a]=j.useState(null),[i,o]=j.useState(0),c=()=>Date.now()-i>6e5,u=async(h=!1)=>{if(!h&&!c()&&t.length>0){console.log("📦 Using cached collections data");return}try{console.log("🔄 Fetching active collections from API...");const f=new AbortController,m=setTimeout(()=>f.abort(),1e4),g=h?`/api/active-collections?ts=${Date.now()}`:"/api/active-collections",b=await fetch(g,{method:"GET",headers:{"Content-Type":"application/json"},signal:f.signal});if(clearTimeout(m),!b.ok)throw b.status===404?new Error("Active collections data not available yet. Please wait for the indexer to run."):b.status===429?new Error("Too many requests. Please wait a moment and try again."):new Error(`HTTP ${b.status}: ${b.statusText}`);const y=await b.json();console.log("✅ Received active collections from API:",{totalCollections:y.totalCollections,validCollections:y.validCollections,activeCollections:y.activeCollections,lastUpdate:y.lastUpdate,collections:y.collections.map(w=>({address:w.address,name:w.name,banner:w.banner,metadataBanner:w.metadata?.banner,cover:w.cover,hasBanner:!!(w.banner||w.metadata?.banner),hasCover:!!w.cover,nfts:w.nfts||[],hasNFTs:!!(w.nfts&&w.nfts.length>0),firstNFTImage:w.nfts&&w.nfts.length>0?w.nfts[0].image||w.nfts[0].image_url||w.nfts[0].media_url:null}))});try{const{filterOutBlacklisted:w}=await ol(async()=>{const{filterOutBlacklisted:N}=await vd(async()=>{const{filterOutBlacklisted:E}=await import("./blacklist-DCkqdEOg-DQnnouI3.js");return{filterOutBlacklisted:E}},[]);return{filterOutBlacklisted:N}},[]),x=await w(y.collections||[]);e(x)}catch{e(y.collections||[])}o(Date.now()),a(null)}catch(f){console.error("❌ Failed to fetch active collections:",f),f.name==="AbortError"?a("Request timeout. Please check your connection."):f.message.includes("Too many requests")?a("Server is busy. Please wait a moment and refresh."):a(f.message),t.length===0&&e([])}finally{r(!1)}};return j.useEffect(()=>{u(!0);const h=setInterval(()=>u(),6e5);return()=>clearInterval(h)},[]),{collections:j.useMemo(()=>t,[t]),loading:n,error:s,refetch:()=>u(!0)}},wv=({images:t=[],priority:e=!1,onProgress:n=null,onComplete:r=null})=>{const s=j.useRef(0),a=j.useRef(t.length),i=j.useRef(!1);return j.useEffect(()=>{if(!t.length||i.current)return;i.current=!0,s.current=0;const o=c=>new Promise((u,h)=>{const f=new Image;f.onload=()=>{s.current++,n&&n(s.current,a.current),u(c)},f.onerror=()=>{s.current++,n&&n(s.current,a.current),h(new Error(`Failed to load: ${c}`))},f.src=c});(async()=>{try{if(e)await Promise.allSettled(t.map(o));else for(const c of t)await o(c);r&&r(s.current,a.current)}catch{}finally{i.current=!1}})()},[t,e,n,r]),null},JC=({enabled:t=!0,onMetrics:e=null,showUI:n=!1})=>{const[r,s]=j.useState({}),[a,i]=j.useState(!1),o=j.useRef(null),c=j.useRef(null),u=()=>{if(!window.performance)return{};const g=performance.getEntriesByType("navigation")[0],b=performance.getEntriesByType("paint");return g&&(c.current=g),{dns:g?.domainLookupEnd-g?.domainLookupStart||0,tcp:g?.connectEnd-g?.connectStart||0,ttfb:g?.responseStart-g?.requestStart||0,domContentLoaded:g?.domContentLoadedEventEnd-g?.domContentLoadedEventStart||0,loadComplete:g?.loadEventEnd-g?.loadEventStart||0,totalTime:g?.loadEventEnd-g?.navigationStart||0,firstPaint:b.find(y=>y.name==="first-paint")?.startTime||0,firstContentfulPaint:b.find(y=>y.name==="first-contentful-paint")?.startTime||0,memory:window.performance.memory?{usedJSHeapSize:window.performance.memory.usedJSHeapSize,totalJSHeapSize:window.performance.memory.totalJSHeapSize,jsHeapSizeLimit:window.performance.memory.jsHeapSizeLimit,memoryUsagePercent:Math.round(window.performance.memory.usedJSHeapSize/window.performance.memory.totalJSHeapSize*100)}:null,userTiming:performance.getEntriesByType("measure").reduce((y,w)=>(y[w.name]=w.duration,y),{}),timestamp:Date.now(),userAgent:navigator.userAgent,connection:navigator.connection?{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}:null,resources:performance.getEntriesByType("resource").length,resourceTypes:performance.getEntriesByType("resource").reduce((y,w)=>{const x=w.initiatorType||"other";return y[x]=(y[x]||0)+1,y},{}),errors:window.errorCount||0,warnings:window.warningCount||0}},h=()=>{window.errorCount=0,window.warningCount=0,window.addEventListener("error",g=>{window.errorCount++,console.error("🚨 Performance Monitor - Error:",g.error)}),window.addEventListener("unhandledrejection",g=>{window.warningCount++,console.warn("⚠️ Performance Monitor - Unhandled Promise Rejection:",g.reason)})},f=()=>{if(window.PerformanceObserver)try{o.current=new PerformanceObserver(g=>{const b=g.getEntries(),y=b[b.length-1];s(w=>({...w,lcp:y.startTime,lcpElement:y.element?.tagName||"unknown"}))}),o.current.observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(g=>{g.getEntries().forEach(b=>{s(y=>({...y,fid:b.processingStart-b.startTime,fidElement:b.name||"unknown"}))})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(g=>{let b=0;g.getEntries().forEach(y=>{y.hadRecentInput||(b+=y.value)}),s(y=>({...y,cls:b}))}).observe({entryTypes:["layout-shift"]}),new PerformanceObserver(g=>{g.getEntries().forEach(b=>{b.entryType==="navigation"&&s(y=>({...y,ttfb:b.responseStart-b.requestStart}))})}).observe({entryTypes:["navigation"]})}catch(g){console.warn("Performance monitoring setup failed:",g)}},m=()=>{const g=u(),b={...r,...g},y={lcp:b.lcp<2500?"good":b.lcp<4e3?"needs-improvement":"poor",fid:b.fid<100?"good":b.fid<300?"needs-improvement":"poor",cls:b.cls<.1?"good":b.cls<.25?"needs-improvement":"poor",ttfb:b.ttfb<800?"good":b.ttfb<1800?"needs-improvement":"poor"},w=Object.values(y).reduce((N,E)=>(E==="good"?N+=1:E==="needs-improvement"&&(N+=.5),N),0)/Object.keys(y).length,x={...b,scores:y,overallScore:Math.round(w*100),timestamp:Date.now()};return s(x),e&&e(x),x};return j.useEffect(()=>{if(!t)return;i(!0);const g=()=>{h(),f(),setTimeout(()=>{m()},1e3);const b=setInterval(m,3e4);return()=>clearInterval(b)};if(document.readyState==="complete")g();else return window.addEventListener("load",g),()=>window.removeEventListener("load",g);return()=>{o.current&&o.current.disconnect()}},[t,e]),j.useEffect(()=>{r.overallScore&&window.gtag&&window.gtag("event","performance_metrics",{event_category:"performance",value:r.overallScore,custom_parameters:{lcp:r.lcp,fid:r.fid,cls:r.cls,ttfb:r.ttfb}})},[r.overallScore]),!n||!a?null:l.jsxs("div",{className:"fixed bottom-4 right-4 bg-zinc-900/90 backdrop-blur-sm border border-zinc-700 rounded-lg p-4 text-white text-sm z-50",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Performance Monitor"}),r.overallScore&&l.jsxs("div",{className:"mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Overall Score:"}),l.jsxs("span",{className:`ml-2 font-bold ${r.overallScore>=80?"text-green-400":r.overallScore>=60?"text-yellow-400":"text-red-400"}`,children:[r.overallScore,"/100"]})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[r.lcp&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"LCP:"}),l.jsxs("span",{className:r.scores?.lcp==="good"?"text-green-400":"text-red-400",children:[Math.round(r.lcp),"ms"]})]}),r.fid&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"FID:"}),l.jsxs("span",{className:r.scores?.fid==="good"?"text-green-400":"text-red-400",children:[Math.round(r.fid),"ms"]})]}),r.cls&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"CLS:"}),l.jsx("span",{className:r.scores?.cls==="good"?"text-green-400":"text-red-400",children:r.cls.toFixed(3)})]})]})]})},Dde=({metrics:t,showDetails:e=!1,isVisible:n=!1})=>{const[r,s]=j.useState(!1);if(!n||!t||Object.keys(t).length===0)return null;const a=u=>u>=80?"text-green-400":u>=60?"text-yellow-400":"text-red-400",i=u=>u>=80?l.jsx(Yi,{className:"w-4 h-4"}):u>=60?l.jsx(to,{className:"w-4 h-4"}):l.jsx(to,{className:"w-4 h-4"}),o=u=>{if(!u)return"0 B";const h=1024,f=["B","KB","MB","GB"],m=Math.floor(Math.log(u)/Math.log(h));return parseFloat((u/Math.pow(h,m)).toFixed(2))+" "+f[m]},c=u=>u?u<1e3?`${Math.round(u)}ms`:`${(u/1e3).toFixed(2)}s`:"0ms";return l.jsxs("div",{className:"bg-zinc-900/90 backdrop-blur-sm border border-zinc-700 rounded-lg p-4 text-white text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qd,{className:"w-5 h-5 text-blue-400"}),l.jsx("span",{className:"font-semibold",children:"Performance Stats"})]}),l.jsx("button",{onClick:()=>s(!r),className:"text-zinc-400 hover:text-white transition-colors",children:r?"−":"+"})]}),t.overallScore&&l.jsxs("div",{className:"mb-4 p-3 bg-zinc-800/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Overall Score"}),l.jsxs("div",{className:`flex items-center gap-2 ${a(t.overallScore)}`,children:[i(t.overallScore),l.jsxs("span",{className:"font-bold text-lg",children:[t.overallScore,"/100"]})]})]}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${t.overallScore>=80?"bg-green-500":t.overallScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.overallScore}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[t.lcp&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(pv,{className:"w-4 h-4 text-blue-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"LCP"}),l.jsx("div",{className:"font-medium",children:c(t.lcp)})]})]}),t.fid&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(Ice,{className:"w-4 h-4 text-green-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"FID"}),l.jsx("div",{className:"font-medium",children:c(t.fid)})]})]}),t.cls&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(to,{className:"w-4 h-4 text-yellow-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"CLS"}),l.jsx("div",{className:"font-medium",children:t.cls.toFixed(3)})]})]}),t.ttfb&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(mp,{className:"w-4 h-4 text-purple-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"TTFB"}),l.jsx("div",{className:"font-medium",children:c(t.ttfb)})]})]})]}),r&&l.jsxs("div",{className:"space-y-3 border-t border-zinc-700 pt-3",children:[t.memory&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(cv,{className:"w-4 h-4 text-cyan-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"Memory Usage"}),l.jsxs("div",{className:"font-medium",children:[o(t.memory.usedJSHeapSize)," / ",o(t.memory.totalJSHeapSize)]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[t.memory.memoryUsagePercent,"% used"]})]})]}),t.connection&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(fv,{className:"w-4 h-4 text-green-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"Network"}),l.jsxs("div",{className:"font-medium",children:[t.connection.effectiveType," • ",t.connection.downlink,"Mbps"]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:["RTT: ",t.connection.rtt,"ms"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(qd,{className:"w-4 h-4 text-orange-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"Resources Loaded"}),l.jsxs("div",{className:"font-medium",children:[t.resources," total"]}),t.resourceTypes&&l.jsx("div",{className:"text-xs text-zinc-500",children:Object.entries(t.resourceTypes).slice(0,3).map(([u,h])=>l.jsxs("span",{className:"mr-2",children:[u,": ",h]},u))})]})]}),(t.errors>0||t.warnings>0)&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-900/30 rounded border border-red-500/30",children:[l.jsx(to,{className:"w-4 h-4 text-red-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-red-400",children:"Issues Detected"}),l.jsxs("div",{className:"font-medium text-red-300",children:[t.errors," errors • ",t.warnings," warnings"]})]})]}),l.jsxs("div",{className:"text-xs text-zinc-500 text-center",children:["Last updated: ",new Date(t.timestamp).toLocaleTimeString()]})]})]})},Wde=()=>{const{collections:t,loading:e,error:n}=QC(),[r,s]=j.useState(0),[a,i]=j.useState(!1),[o,c]=j.useState("active"),[u,h]=j.useState(0),f=j.useRef(null),m=Xr(),{searchTerm:g,filters:b,updateSearch:y}=zC(),[w,x]=j.useState({}),[N,E]=j.useState(!1),C=j.useMemo(()=>window.innerWidth<768,[]),k=j.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]),A=j.useMemo(()=>{if(!t||t.length===0)return[];const re=[];return t.slice(0,3).forEach(ie=>{ie.cover&&re.push(ie.cover),ie.bannerImage&&re.push(ie.bannerImage),ie.firstNFTImage&&re.push(ie.firstNFTImage)}),t.slice(0,6).forEach(ie=>{ie.cover&&re.push(ie.cover),ie.firstNFTImage&&re.push(ie.firstNFTImage)}),[...new Set(re)]},[t]),_=j.useMemo(()=>Math.floor(Date.now()/1e3),[]),P=j.useMemo(()=>Math.floor(new Date("2025-06-29T00:00:00Z").getTime()/1e3),[]);j.useCallback(re=>re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply),[]);const I=j.useCallback(re=>{const ie=re.phases||{};if(Object.values(ie).length===0)return!1;const me=Object.values(ie).every(he=>Number(he.end)<_),oe=re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply);return(re.name==="Somniac visioner"||re.name==="True Friendship in Somnia")&&console.log("🔍 isSaleEnded debug for:",re.name,{phases:ie,allPhasesEnded:me,soldOut:oe,now:_,phaseEnds:Object.values(ie).map(he=>({end:he.end,endTime:new Date(he.end*1e3)}))}),oe||me},[_]),$=j.useCallback(re=>{if(!re||Object.values(re).length===0)return!1;const ie=Object.values(re).some(me=>Number(me.start)<=_&&_<=Number(me.end));if(re&&Object.keys(re).length>0){const me=Object.values(re)[0];me&&(me.name==="Somniac visioner"||me.name==="True Friendship in Somnia")&&console.log("🔍 isActiveSale debug:",{phases:re,hasActive:ie,now:_,phaseTimes:Object.values(re).map(oe=>({start:oe.start,end:oe.end,startTime:new Date(oe.start*1e3),endTime:new Date(oe.end*1e3),isActive:Number(oe.start)<=_&&_<=Number(oe.end)}))})}return ie},[_]),H=j.useCallback(re=>re&&Object.values(re).some(ie=>Number(ie.start)>_),[_]),M=j.useCallback(re=>re.phases||re.metadata?.phases||{},[]),B=j.useCallback(re=>{const ie=M(re);return!ie||Object.values(ie).length===0?0:Math.max(...Object.values(ie).map(me=>Number(me.end)))},[M]),O=j.useCallback(re=>{const ie=M(re);if(!ie)return null;const me=Math.floor(Date.now()/1e3);for(const[oe,he]of Object.entries(ie))if(Number(he.start)<=me&&me<=Number(he.end))return{name:oe,...he};return null},[M]),z=re=>{const ie=Number(re);return!isFinite(ie)||ie===0?"0":ie>=1?ie.toLocaleString(void 0,{maximumFractionDigits:2}):ie>=.1?ie.toLocaleString(void 0,{maximumFractionDigits:3}):ie>=.01?ie.toLocaleString(void 0,{maximumFractionDigits:4}):ie.toLocaleString(void 0,{maximumFractionDigits:6})},G=j.useCallback(re=>{const ie=O(re);return ie?ie.price:"0"},[O]),Z=j.useMemo(()=>{const re=t.filter(ie=>{const me=M(ie),oe=$(me)&&!I(ie);return(ie.name==="Somniac visioner"||ie.name==="True Friendship in Somnia")&&console.log("🔍 Debug collection:",ie.name,{phases:me,isActiveSale:$(me),isSaleEnded:I(ie),isActive:oe}),oe});return console.log("🎯 Active collections found:",re.length,re.map(ie=>ie.name)),re},[t,M,$,I]),D=j.useMemo(()=>{console.log("🔍 Filtering collections for tab:",o,"Total collections:",t.length);let re=t.filter(ie=>{const me=M(ie);let oe=!1;if(o==="completed")oe=I(ie)&&B(ie)>=P,console.log(`📊 Collection ${ie.name}: completed=${oe}, isSaleEnded=${I(ie)}, lastPhaseEnd=${B(ie)}, cutoff=${P}`);else if(o==="active")oe=$(me)&&!I(ie),console.log(`📊 Collection ${ie.name}: active=${oe}, isActiveSale=${$(me)}, isSaleEnded=${I(ie)}`);else if(o==="upcoming"){const he=H(me),Ne=$(me);oe=(he||!Ne&&!I(ie))&&!I(ie),console.log(`📊 Collection ${ie.name}: upcoming=${oe}, hasUpcoming=${he}, hasActive=${Ne}, isSaleEnded=${I(ie)}`)}return oe});if(console.log(`✅ Filtered collections for ${o}:`,re.length),g){const ie=g.toLowerCase();re=re.filter(me=>me.name.toLowerCase().includes(ie)||me.description.toLowerCase().includes(ie))}return b.priceRange!=="all"&&(re=re.filter(ie=>{const me=O(ie),oe=me?parseFloat(me.price):0;switch(b.priceRange){case"low":return oe<.1;case"medium":return oe>=.1&&oe<=1;case"high":return oe>1;default:return!0}})),b.supplyRange!=="all"&&(re=re.filter(ie=>{const me=ie.totalSupply||0;switch(b.supplyRange){case"small":return me<1e3;case"medium":return me>=1e3&&me<=1e4;case"large":return me>1e4;default:return!0}})),b.status!=="all"&&(re=re.filter(ie=>{const me=M(ie),oe=Math.floor(Date.now()/1e3);switch(b.status){case"active":return Object.values(me).some(he=>Number(he.start)<=oe&&oe<=Number(he.end));case"upcoming":return Object.values(me).some(he=>Number(he.start)>oe);case"completed":return I(ie);default:return!0}})),re},[t,o,g,b,M,I,$,H,B,P,O]);j.useEffect(()=>{if(!(Z.length<=1||a))return f.current=setInterval(()=>{s(re=>(re+1)%Z.length)},5e3),()=>{f.current&&clearInterval(f.current)}},[Z.length,a]),j.useEffect(()=>{g&&g.length>=2&&console.log("🔍 Performing search for term:",g)},[g]),j.useEffect(()=>{console.log("📊 Home state:",{loading:e,error:n,collectionsCount:t.length,activeCollectionsCount:Z.length,shownCollectionsCount:D.length,activeTab:o,searchTerm:g,filters:b}),t.length>0&&console.log("📋 Collections details:",t.map(re=>({name:re.name,address:re.address,phases:re.phases,totalSupply:re.totalSupply,minted:re.minted,hasPhases:Object.keys(re.phases||{}).length>0})))},[e,n,t.length,Z.length,D.length,o,g,b]);const K=j.useCallback(()=>{i(!0),s(re=>(re-1+Z.length)%Z.length)},[Z.length]),ee=j.useCallback(()=>{i(!0),s(re=>(re+1)%Z.length)},[Z.length]),F=j.useCallback(()=>{Z[r]&&m(`/launchpad/collection/${Z[r].address}`)},[Z,r,m]),V=j.useCallback(re=>{m(`/launchpad/collection/${re.address}`)},[m]);j.useCallback(()=>{h(0)},[]);const J=j.useCallback(({collection:re})=>{if(!re)return null;const ie=localStorage.getItem(`collection_${re.address}_banner`),me=re.metadata?.banner?Ln(re.metadata.banner)[0]:null,oe=re.banner?re.banner.startsWith("ipfs://")?Ln(re.banner)[0]:re.banner:null,he=ie||me||oe||null,Ne=localStorage.getItem(`collection_${re.address}_banner_position`)||"center center",Re=localStorage.getItem(`collection_${re.address}_banner_fit`)||"cover",W=O(re),ye=G(re),ce=re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply);return l.jsxs("div",{className:"relative h-[250px] md:h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[he?l.jsx("img",{src:he,alt:"banner",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:Ne,objectFit:Re},onError:ne=>{console.warn("⚠️ Banner image failed to load:",he),ne.target.style.display="none";const se=ne.target.nextElementSibling;se&&(se.style.display="flex")}}):null,l.jsxs("div",{className:`flex items-center justify-center h-full w-full ${he?"hidden":""}`,style:{display:he?"none":"flex"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),l.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[l.jsx("div",{className:"text-2xl md:text-4xl font-bold mb-2 md:mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:re.name}),l.jsx("div",{className:"hidden md:block text-xl text-zinc-300 mb-2",children:re.description?re.description.slice(0,100)+"...":"Amazing NFT Collection"}),l.jsx("div",{className:"text-sm md:text-base text-zinc-400",children:"Discover and mint unique NFTs"})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/60 via-zinc-900/20 to-transparent"}),l.jsx("div",{className:"absolute top-3 md:top-6 right-3 md:right-6 z-30",children:ce?l.jsx("div",{className:"bg-pink-500/20 text-pink-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-pink-500/30",children:"Sold out"}):W?l.jsx("div",{className:"bg-green-500/20 text-green-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-green-500/30 animate-pulse",children:"Live"}):l.jsx("div",{className:"bg-blue-500/20 text-blue-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-blue-500/30",children:"Coming soon"})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-8 z-20",children:l.jsxs("div",{className:"flex items-end gap-3 md:gap-6",children:[l.jsx("img",{src:re.cover||re.firstNFTImage||re.bannerImage||"/placeholder-banner.jpg",alt:re.name,className:"w-20 h-20 md:w-32 md:h-32 object-cover rounded-xl border border-zinc-700/30 flex-shrink-0",onError:ne=>{console.warn("⚠️ Cover image failed to load:",ne.target.src),re.firstNFTImage&&re.firstNFTImage!==ne.target.src?ne.target.src=re.firstNFTImage:ne.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjMyIiBmaWxsPSIjNjY3MzgwIi8+Cjwvc3ZnPgo="}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{onClick:()=>window.innerWidth<768&&F(),className:`text-xl md:text-3xl font-bold text-white drop-shadow-lg mb-2 md:mb-4 ${window.innerWidth<768?"cursor-pointer hover:text-pink-400 transition-colors duration-200":""}`,children:re.name}),l.jsx("div",{className:"hidden md:block",children:l.jsx("p",{className:"text-zinc-300 text-base leading-relaxed mb-6",children:re.description||"No description available"})}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm px-3 py-2 md:px-4 md:py-2 rounded-xl border border-zinc-700/30 w-full md:w-[180px]",children:[l.jsx("span",{className:"text-zinc-400 text-xs md:text-sm",children:"Minted:"}),l.jsxs("span",{className:"text-white font-semibold ml-2 text-sm md:text-base",children:[Number(re.minted)||0," / ",Number(re.totalSupply)||0]})]}),l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm px-3 py-2 md:px-4 md:py-2 rounded-xl border border-zinc-700/30 w-full md:w-[180px]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-zinc-400 text-xs md:text-sm",children:"Price:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-3 h-3 md:w-4 md:h-4"}),l.jsxs("span",{className:"text-white font-semibold text-sm md:text-base",children:[z(ye)," STT"]})]})]})})]})]})]})}),l.jsxs("button",{onClick:F,className:"hidden md:inline-flex absolute bottom-4 md:bottom-6 right-4 md:right-6 items-center gap-2 px-3 py-2 md:px-5 md:py-2.5 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-medium rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-pink-500/25 text-xs md:text-sm z-30",children:["View",l.jsx(ov,{size:12,className:"md:w-3.5 md:h-3.5"})]}),Z.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:K,className:"absolute left-2 md:left-4 top-1/2 transform -translate-y-1/2 bg-black/40 backdrop-blur-sm border border-white/20 rounded-full p-1.5 md:p-2 hover:bg-black/60 transition-all duration-200 z-30",children:l.jsx("img",{src:ZC,alt:"Previous",className:"w-4 h-4 md:w-5 md:h-5"})}),l.jsx("button",{onClick:ee,className:"absolute right-2 md:right-4 top-1/2 transform -translate-y-1/2 bg-black/40 backdrop-blur-sm border border-white/20 rounded-full p-1.5 md:p-2 hover:bg-black/60 transition-all duration-200 z-30",children:l.jsx("img",{src:KC,alt:"Next",className:"w-4 h-4 md:w-5 md:h-5"})}),l.jsx("div",{className:"absolute bottom-2 md:bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5 md:gap-2 z-30",children:Z.map((ne,se)=>l.jsx("button",{onClick:()=>{i(!0),s(se)},className:`w-1.5 h-1.5 md:w-2 md:h-2 rounded-full transition-all duration-200 ${se===r?"bg-white":"bg-white/40 hover:bg-white/60"}`},se))})]})]})},[O,G,F,Z.length]),Q=j.useCallback(({collection:re,index:ie})=>{const me=O(re),oe=G(re),he=re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply);return l.jsxs("div",{onClick:()=>V(re),className:"bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-700/30 p-3 md:p-4 hover:border-zinc-600/50 transition-all duration-300 hover:scale-105 cursor-pointer group","data-index":ie,children:[l.jsx("div",{className:"aspect-square rounded-xl overflow-hidden mb-3 md:mb-4 border border-zinc-600/30",children:l.jsx(Ad,{src:re.cover||re.firstNFTImage||"/default-cover.png",alt:re.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:ie<6,sizes:C?"100vw":k?"50vw":"33vw",onError:Ne=>{console.warn("⚠️ Collection cover failed to load:",Ne.target.src),re.firstNFTImage&&re.firstNFTImage!==Ne.target.src?Ne.target.src=re.firstNFTImage:Ne.target.src="/default-cover.png"}})}),l.jsx("h3",{onClick:()=>window.innerWidth<768&&V(re),className:`text-white font-semibold mb-2 truncate text-sm md:text-base ${window.innerWidth<768?"cursor-pointer hover:text-pink-400 transition-colors duration-200":""}`,children:re.name}),l.jsxs("div",{className:"space-y-1.5 md:space-y-2 text-xs md:text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Price:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-2.5 h-2.5 md:w-3 md:h-3"}),l.jsx("span",{className:"text-white",children:z(oe)})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Supply:"}),l.jsx("span",{className:"text-white",children:Number(re.totalSupply)||0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Minted:"}),l.jsx("span",{className:"text-white",children:Number(re.minted)||0})]})]}),l.jsx("div",{className:"mt-2 md:mt-3",children:he?l.jsx("div",{className:"text-center text-zinc-400 text-xs md:text-sm",children:"Finished"}):me?l.jsx("div",{className:"text-center text-green-400 text-xs md:text-sm",children:"Live"}):l.jsx("div",{className:"text-center text-blue-400 text-xs md:text-sm",children:"Coming soon"})})]})},[O,G,V]),ae=j.useCallback(()=>l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:l.jsx("div",{className:"flex",children:[{id:"completed",name:"Completed Sales"},{id:"active",name:"Active Sales"},{id:"upcoming",name:"Upcoming Sales"}].map(re=>l.jsx("button",{onClick:()=>{c(re.id),h(0)},className:`py-3 md:py-4 px-3 md:px-6 font-medium transition-all duration-200 border-b-2 text-sm md:text-base ${o===re.id?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:re.name},re.id))})})}),[o]),ue=j.useCallback(({message:re,icon:ie})=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-zinc-800/50 rounded-full flex items-center justify-center mb-4",children:l.jsx(ie,{className:"w-8 h-8 text-zinc-500"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Collections Found"}),l.jsx("p",{className:"text-zinc-400 max-w-md",children:re})]}),[]);return l.jsx(Ude,{children:l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Op,{}),Z.length>0?l.jsx("div",{className:"relative z-10",children:l.jsx(J,{collection:Z[r]})}):l.jsxs("div",{className:"relative h-[250px] md:h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:"Welcome to Dreava"}),l.jsx("p",{className:"text-xl text-zinc-300 mb-6",children:"Discover amazing NFT collections"}),l.jsx("div",{className:"text-zinc-400",children:"No active sales at the moment"})]})})]}),l.jsx(ae,{}),l.jsx("div",{className:"relative z-10 py-6 md:py-8 pb-20 md:pb-24",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[l.jsx(JC,{onMetrics:x,showUI:!1}),Object.keys(w).length>0&&l.jsx("div",{className:"mb-6",children:l.jsx(Dde,{metrics:w,isVisible:localStorage.getItem("showPerformanceStats")==="true"})}),A.length>0&&l.jsx(wv,{images:A,priority:!0,onComplete:()=>E(!0),onProgress:(re,ie)=>{re===ie&&E(!0)}}),e?l.jsx(Td,{message:"Loading collections",showVideo:!0,showBackground:!0,size:"large",showProgress:!1,showDots:!1}):n?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Yn,{className:"w-8 h-8 text-red-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Error Loading Collections"}),l.jsx("p",{className:"text-zinc-400 mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300",children:"Try Again"})]}):D.length===0?l.jsx(ue,{message:`No ${o} collections found. Check back later for new drops!`,icon:o==="completed"?Due:o==="active"?mp:Qz}):l.jsx(l.Fragment,{children:g?l.jsx(f6,{collections:D,searchTerm:g,onCollectionClick:V}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6 mb-6 md:mb-8",children:D.slice(u*5,(u+1)*5).map((re,ie)=>l.jsx(Q,{collection:re,index:ie},re.address))}),l.jsx(Fde,{currentPage:u,totalPages:Math.ceil(D.length/5),onPageChange:h,totalItems:D.length,itemsPerPage:5})]})})]})})]})})},Rp=[{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"CollectionCreated",type:"event"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint256",name:"maxSupply_",type:"uint256"},{internalType:"string",name:"baseTokenURI_",type:"string"},{internalType:"string",name:"unrevealedURI_",type:"string"},{internalType:"string",name:"contractURI_",type:"string"},{internalType:"address",name:"royaltyRecipient_",type:"address"},{internalType:"uint96",name:"royaltyFeeNumerator_",type:"uint96"}],name:"createCollection",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newFee",type:"uint256"}],name:"updateCreationFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRecipient",type:"address"}],name:"updateFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collectionAddr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"verifyCollection",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"collections",outputs:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"bool",name:"verified",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"creationFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Hde=()=>{try{const t=typeof window<"u",e=t&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),n=t&&String(window.location.port)==="5173";if(e&&n)return"";const r="http://localhost:3000";if(r&&typeof r=="string"&&r.trim()){const s=r.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(s))return s}}catch{}return""},Tf=t=>{const e=Hde(),n=t.startsWith("/")?t:`/${t}`;return e?`${e}${n}`:n},cL=async t=>{console.log("📤 uploadFile called with:",t);const e=[Tf("/api/upload-file"),"/api/upload-file",Tf("/upload-file"),"/upload-file",Tf("/api/pin-file"),"/api/pin-file",Tf("/pin-file"),"/pin-file"];let n=null;for(const r of e)try{const s=new FormData;s.append("file",t),console.log(`📤 Sending request to ${r}`);const a=await fetch(r,{method:"POST",body:s});if(console.log("📤 Response status:",a.status,"for",r),!a.ok){let c={};try{c=await a.json()}catch{}console.error(`❌ Upload failed on ${r}:`,c),n=new Error(c.error||`Upload failed (${a.status}) at ${r}`);continue}const i=await a.json();console.log("📤 Upload response:",i);const o=i.gatewayUrl||i.url||i.cid;return console.log("📤 Final result URL:",o),i}catch(s){console.error(`❌ Request error on ${r}:`,s),n=s;continue}throw n||new Error("File upload failed")},Gde=async t=>{console.log("📋 uploadMetadata called with:",t);const e=[{url:Tf("/api/upload-metadata"),method:"POST",body:JSON.stringify({metadata:t}),headers:{"Content-Type":"application/json"}},{url:"/api/upload-metadata",method:"POST",body:JSON.stringify({metadata:t}),headers:{"Content-Type":"application/json"}},{url:Tf("/pin-json"),method:"POST",body:JSON.stringify({metadata:t}),headers:{"Content-Type":"application/json"}},{url:"/pin-json",method:"POST",body:JSON.stringify({metadata:t}),headers:{"Content-Type":"application/json"}}];let n=null;for(const r of e)try{console.log("📋 Trying metadata endpoint:",r.url);const s=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body});if(console.log("📋 Metadata upload response status:",s.status,"for",r.url),!s.ok){const i=await s.json().catch(()=>({}));console.error("❌ Metadata upload failed:",i),n=new Error(i.error||`Metadata upload failed (${s.status}) at ${r.url}`);continue}const a=await s.json();return console.log("📋 Metadata upload response data:",a),{url:a.url||a.ipfsUri,...a}}catch(s){console.error(`❌ Metadata request error on ${r.url}:`,s),n=s;continue}throw n||new Error("Metadata upload failed")},uL="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.5187%2027.4077H6.22219C3.52187%2027.4077%201.33325%2025.2191%201.33325%2022.5187V6.22228C1.33325%203.52195%203.52187%201.33333%206.22219%201.33333H22.5187C25.219%201.33333%2027.4076%203.52195%2027.4076%206.22228V22.5187C27.4076%2025.2191%2025.219%2027.4077%2022.5187%2027.4077Z'%20fill='%2352525B'%3e%3c/path%3e%3cpath%20d='M27.1791%204.82062C27.3127%205.26714%2027.4072%205.73159%2027.4072%206.22212V22.5186C27.4072%2025.2189%2025.2186%2027.4075%2022.5183%2027.4075H6.22181C5.73129%2027.4075%205.26684%2027.313%204.82031%2027.1794C5.42654%2029.192%207.2713%2030.6668%209.4811%2030.6668H25.7776C28.4779%2030.6668%2030.6665%2028.4782%2030.6665%2025.7779V9.48141C30.6665%207.27161%2029.1917%205.42685%2027.1791%204.82062Z'%20fill='%2371717A'%3e%3c/path%3e%3cpath%20d='M18.4445%2012.7407C19.7945%2012.7407%2020.8889%2011.6463%2020.8889%2010.2962C20.8889%208.94619%2019.7945%207.85176%2018.4445%207.85176C17.0944%207.85176%2016%208.94619%2016%2010.2962C16%2011.6463%2017.0944%2012.7407%2018.4445%2012.7407Z'%20fill='%23A1A1AA'%3e%3c/path%3e%3cpath%20d='M6.22217%2021.5001C6.22217%2022.0574%206.67847%2022.5186%207.2407%2022.5186H21.5001C22.0623%2022.5186%2022.5186%2022.0655%2022.5186%2021.5001C22.5186%2020.1116%2021.7494%2016%2020.0742%2016C19.2479%2016%2017.9638%2017.6296%2016.8149%2017.6296C14.5334%2017.6296%2012.3333%2012.7407%2010.2963%2012.7407C8.25923%2012.7407%206.22217%2018.8128%206.22217%2021.5001Z'%20fill='%23A1A1AA'%3e%3c/path%3e%3c/svg%3e",YC=({type:t="processing",className:e="",size:n="md"})=>{const r=()=>{switch(n){case"sm":return"w-8 h-8";case"md":return"w-12 h-12";case"lg":return"w-20 h-20";default:return"w-12 h-12"}};return l.jsx("div",{className:`flex items-center justify-center ${e}`,children:l.jsx("div",{className:`${r()} bg-black rounded-full flex items-center justify-center overflow-hidden`,children:l.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",children:[l.jsx("source",{src:"/assets/videos/IMG.mov",type:"video/quicktime"}),l.jsx("source",{src:"/assets/videos/IMG.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})})},XC=({isVisible:t,onConfirm:e,onCancel:n,title:r="Cancel Upload",message:s="Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over."})=>t?l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-zinc-900 border border-zinc-700 rounded-2xl p-6 max-w-md w-full animate-fadeIn",tabIndex:-1,autoFocus:!0,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500/20 border border-red-500/30 rounded-full flex items-center justify-center",children:l.jsx(to,{size:24,className:"text-red-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:r}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"This action cannot be undone"})]})]}),l.jsx("p",{className:"text-zinc-300 mb-6 leading-relaxed",children:s}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Continue"}),l.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 rounded-xl bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-red-500/25",children:"Cancel Process"})]}),l.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110","aria-label":"Close",children:l.jsx(Yn,{size:20})})]})}):null,qde="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",Vde=["Art","Collectibles","Gaming","Music","Domains","Utility","Other"],w_=["bg-blue-600","bg-pink-600","bg-green-600","bg-purple-600","bg-yellow-600","bg-red-600"],dL=({onSuccess:t})=>{const[e,n]=j.useState({name:"",description:"",categories:[],royaltyRecipient:"",royaltyPercent:0}),[r,s]=j.useState(null),[a,i]=j.useState(!1),[o,c]=j.useState(""),[u,h]=j.useState(0),[f,m]=j.useState(!1),[g,b]=j.useState(!1),[y,w]=j.useState({visible:!1,message:"",txHash:""}),[x,N]=j.useState(!1),[E,C]=j.useState(!1),[k,A]=j.useState(!1);Xr();const{switchNetwork:_}=yo();j.useEffect(()=>{if(y.visible){const D=setTimeout(()=>w(K=>({...K,visible:!1})),5e3);return()=>clearTimeout(D)}},[y.visible]);const P=(D,K="")=>{w({visible:!0,message:D,txHash:K})},I=D=>{const{name:K,value:ee}=D.target;console.log("📝 Form field changed:",K,ee),n({...e,[K]:ee})},$=D=>{const K=D.target.files[0];if(console.log("📁 File selected:",K?{name:K.name,size:K.size,type:K.type}:"No file"),K){if(K.size>10485760){const ee=(K.size/1048576).toFixed(1),F=`File size (${ee}MB) exceeds the maximum allowed size of 10MB. Please choose a smaller file.`;P(`❌ ${F}`),console.error("❌ File too large:",ee,"MB"),D.target.value="";return}if(!K.type.startsWith("image/")){P("❌ Please select an image file (JPG, PNG, GIF, SVG)"),console.error("❌ Invalid file type:",K.type),D.target.value="";return}}s(K)},H=D=>{D.preventDefault(),D.currentTarget.classList.add("border-pink-500/50","bg-pink-500/10")},M=D=>{D.preventDefault(),D.currentTarget.classList.remove("border-pink-500/50","bg-pink-500/10")},B=D=>{D.preventDefault(),D.currentTarget.classList.remove("border-pink-500/50","bg-pink-500/10");const K=D.dataTransfer.files;if(K.length>0){const ee=K[0];if(!ee.type.startsWith("image/")){P("❌ Please drop an image file (JPG, PNG, GIF, SVG)"),console.error("❌ Invalid file type dropped:",ee.type);return}const F=10*1024*1024;if(ee.size>F){const V=(ee.size/1048576).toFixed(1),J=`File size (${V}MB) exceeds the maximum allowed size of 10MB. Please choose a smaller file.`;P(`❌ ${J}`),console.error("❌ File too large dropped:",V,"MB");return}s(ee)}},O=D=>{n(K=>{const ee=K.categories.includes(D)?K.categories.filter(F=>F!==D):[...K.categories,D];return{...K,categories:ee}})},z=async D=>{try{console.log("📤 Uploading file:",D.name,D.size,D.type),console.log("📤 File object:",D);const K=await cL(D);console.log("✅ File uploaded successfully:",K),console.log("✅ Result object:",K);const ee=K.gatewayUrl||K.url;if(console.log("✅ Image URL for collection:",ee),console.log("✅ Full result object:",K),!ee)throw console.error("❌ No image URL found in result:",K),new Error("Failed to get image URL from upload result");return ee}catch(K){throw console.error("❌ Error uploading file:",K),console.error("❌ Error details:",{message:K.message,stack:K.stack,response:K.response}),K}},G=async D=>{try{console.log("📋 Uploading metadata JSON:",D);const K=await Gde(D);return console.log("✅ Metadata uploaded successfully:",K),K.url}catch(K){throw console.error("❌ Error uploading metadata:",K),K}},Z=async()=>{try{if(N(!0),console.log("🔍 Form validation:",{name:e.name,description:e.description,coverFile:r?r.name:"No file",ethereum:!!window.ethereum}),!window.ethereum)throw new Error("Wallet not detected");if(!e.name||!r||!e.description)throw new Error("Name, description, and cover image required");const D=10*1024*1024;if(r.size>D){const W=(r.size/1048576).toFixed(1);throw new Error(`File size (${W}MB) exceeds the maximum allowed size of 10MB`)}if(!r.type.startsWith("image/"))throw new Error("Invalid file type. Please select an image file.");try{(await(async()=>{try{return await _?.(nl)}catch{return{success:!1}}})())?.success||await jd();const W=await new wr(window.ethereum).getNetwork();if(Number(W.chainId)!==nl){A(!0),N(!1);return}}catch{A(!0),N(!1);return}i(!0),c("📤 Uploading cover image to IPFS..."),h(10);const K=await z(r);console.log("🎯 Cover URL for metadata:",K),c("📋 Uploading collection metadata..."),h(40);const ee={name:e.name,description:e.description,image:K,categories:e.categories,royaltyRecipient:e.royaltyRecipient,royaltyPercent:e.royaltyPercent};console.log("🎯 Metadata JSON to upload:",ee);const F=await G(ee);c("⛓️ Creating collection on blockchain..."),h(70);try{(await(async()=>{try{return await _?.(nl)}catch{return{success:!1}}})())?.success||await jd()}catch{P("❌ Please switch to Somnia Testnet to create a collection"),N(!1);return}const V=new wr(window.ethereum),J=await V.getSigner();try{const W=await V.getNetwork();console.log("Connected to network:",W)}catch(W){throw console.error("RPC connection error:",W),new Error("Network error. Please check your connection and try again.")}const Q=new Pt(qde,Rp,J);console.log("Factory address:",Q.target);const ae=e.name.substring(0,3).toUpperCase(),ue=[e.name,ae,0,"","",F,e.royaltyRecipient||Xd,Math.round(Number(e.royaltyPercent)*100),{value:ex("0.05",18)}];console.log("Creating collection with params:",ue);let re=null,ie=3;for(;ie>0&&!re;)try{re=await Q.createCollection(...ue);break}catch(W){if(console.warn(`Collection creation attempt ${4-ie} failed:`,W),ie--,ie>0)await new Promise(ye=>setTimeout(ye,2e3));else throw W}console.log("Transaction sent:",re.hash),c("⏳ Waiting for blockchain confirmation...");let me=null;for(ie=3;ie>0&&!me;)try{me=await re.wait();break}catch(W){if(console.warn(`Transaction confirmation attempt ${4-ie} failed:`,W),ie--,ie>0)await new Promise(ye=>setTimeout(ye,2e3));else throw W}console.log("Transaction confirmed:",me);const oe=me.logs.map(W=>{try{return Q.interface.parseLog(W)}catch(ye){return console.warn("Failed to parse log:",ye),null}}).find(W=>W&&W.name==="CollectionCreated");if(!oe)throw new Error("CollectionCreated event not found in transaction logs");const he=oe.args.collection;console.log("Collection created at:",he),he&&await new Pt(he,Rn,J).setContractURI(F);const Ne={address:he,name:e.name,description:e.description,image:K,cover:K,banner:K,metadata:F,createdAt:new Date().toISOString()};console.log("📦 Collection data created:",Ne),console.log("📦 Cover URL in collection data:",Ne.cover);const Re=JSON.parse(localStorage.getItem("dreava_collections"))||[];Re.push(Ne),localStorage.setItem("dreava_collections",JSON.stringify(Re)),c("✅ Collection created successfully!"),h(100);try{const W=await(await new wr(window.ethereum).getSigner()).getAddress();await fetch("/api/quest/record-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:W,actionType:"collection_created",data:{collectionAddress:he,collectionName:e.name,txHash:re.hash,metadataUrl:F,coverUrl:K}})})}catch(W){console.warn("⚠️ Failed to record quest action:",W)}setTimeout(()=>{m(!0)},1500),P("✅ Collection created!",re.hash),window.newlyCreatedCollectionData=Ne}catch(D){console.error("Error creating collection:",D),c(`❌ Error: ${D.reason||D.message}`),h(0),setTimeout(()=>{m(!0)},1e3),P(`❌ Error: ${D.reason||D.message}`),delete window.newlyCreatedCollectionData}finally{N(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto text-white",children:[l.jsxs("div",{className:"text-left mb-8",children:[l.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-4",children:"Collection Identity"}),l.jsx("p",{className:"text-zinc-400 text-lg leading-relaxed max-w-2xl",children:"Give your collection a unique identity. Set the foundation for your NFT project with a name, description, and visual identity that represents your vision. Once created, you'll be able to add your amazing NFTs in the next step."})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("label",{className:"text-sm font-medium mb-4 block",children:[l.jsx("span",{className:"text-white",children:"Collection Cover Image"})," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[l.jsxs("label",{htmlFor:"cover-upload",className:"w-48 h-48 bg-zinc-800/50 border-2 border-dashed border-zinc-600 rounded-2xl flex items-center justify-center cursor-pointer overflow-hidden hover:border-pink-500/50 transition-all duration-300 group",onDragOver:H,onDragLeave:M,onDrop:B,children:[r?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:URL.createObjectURL(r),alt:"preview",className:"w-full h-full object-cover rounded-2xl",onLoad:()=>console.log("✅ Preview image loaded successfully"),onError:D=>{console.error("❌ Preview image failed to load:",D),console.error("❌ Image src:",D.target.src)}}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:l.jsxs("div",{className:"text-white text-center",children:[l.jsx("div",{className:"text-sm font-medium",children:"Change Image"}),l.jsx("div",{className:"text-xs text-zinc-300",children:"Click to replace"})]})}),l.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:[(r.size/1024/1024).toFixed(2)," MB"]})]}):l.jsxs("div",{className:"text-center text-zinc-400",children:[l.jsx(dv,{className:"w-8 h-8 mx-auto mb-2"}),l.jsx("div",{className:"text-sm",children:"Drop image here or click to upload"}),l.jsx("div",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]}),l.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",onChange:$,className:"hidden"})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-6 border border-zinc-700/30",children:[l.jsx("h4",{className:"text-white font-semibold mb-3",children:"Upload Requirements"}),l.jsxs("ul",{className:"space-y-2 text-sm text-zinc-300",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Recommended size: 300 × 300px"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"File types: JPG, PNG, SVG or GIF"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Max file size: 10MB"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"This will be your collection's main image"]})]}),l.jsxs("button",{onClick:()=>document.getElementById("cover-upload").click(),className:"mt-4 w-full py-3 px-6 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:from-[#0095E6] hover:to-[#E61CC7] text-white font-semibold transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),l.jsx("span",{children:"Choose Image"})]})]})]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium mb-3 block",children:[l.jsx("span",{className:"text-white",children:"Collection Name"})," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"name",value:e.name,onChange:I,placeholder:"Enter collection name",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-3 block",children:l.jsx("span",{className:"text-white",children:"Categories"})}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>b(D=>!D),className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-left text-white text-base flex justify-between items-center focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300",children:[e.categories.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:e.categories.map((D,K)=>l.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${w_[K%w_.length]}`,children:[D,l.jsx("span",{onClick:ee=>{ee.stopPropagation(),O(D)},className:"hover:text-red-400 transition-colors cursor-pointer",children:l.jsx(Yn,{size:12})})]},D))}):"Select Categories",l.jsx(xx,{size:16,className:"ml-2"})]}),g&&l.jsx("div",{className:"absolute bg-zinc-800/95 backdrop-blur-sm border border-zinc-700/50 rounded-2xl w-full max-h-40 overflow-y-auto z-20 mt-2 shadow-2xl",children:Vde.map(D=>l.jsx("div",{onClick:()=>O(D),className:`px-4 py-3 cursor-pointer hover:bg-zinc-700/50 transition-colors duration-200 ${e.categories.includes(D)?"bg-zinc-700/50":""}`,children:D},D))})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("label",{className:"text-sm font-medium mb-3 block",children:[l.jsx("span",{className:"text-white",children:"Description"})," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"description",value:e.description,onChange:I,placeholder:"Write a short description about this collection",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white h-32 placeholder:text-zinc-500 text-base focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300 resize-none"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-2xl p-6 border border-blue-500/30 mb-8",children:[l.jsxs("h4",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-[#46ABEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Collection Creation Cost"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-[#46ABEF]/20 p-4 rounded-xl border border-[#46ABEF]/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-4 h-4 text-[#46ABEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l.jsx("div",{className:"text-white font-medium text-sm",children:"Gas Fee"})]}),l.jsx("div",{className:"text-white font-bold text-lg",children:"~0.01 STT"}),l.jsx("div",{className:"text-white text-xs",children:"Network transaction cost"})]}),l.jsxs("div",{className:"bg-[#8223D5]/20 p-4 rounded-xl border border-[#8223D5]/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-4 h-4 text-[#8223D5]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("div",{className:"text-white font-medium text-sm",children:"Platform Fee"})]}),l.jsx("div",{className:"text-white font-bold text-lg",children:"0.05 STT"}),l.jsx("div",{className:"text-white text-xs",children:"One-time creation fee"})]}),l.jsxs("div",{className:"bg-[#D0139A]/20 p-4 rounded-xl border border-[#D0139A]/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-4 h-4 text-[#D0139A]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("div",{className:"text-white font-medium text-sm",children:"Total Cost"})]}),l.jsx("div",{className:"text-white font-bold text-lg",children:"~0.06 STT"}),l.jsx("div",{className:"text-white text-xs",children:"Estimated total"})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-6 border border-zinc-700/30 mb-8",children:[l.jsxs("h4",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-[#8223D5]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Royalty Settings"]}),l.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Set up royalty payments for your collection. This allows you to earn a percentage of sales when your NFTs are traded."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] items-end gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block text-white",children:"Royalty Recipient Address"}),l.jsx("input",{type:"text",name:"royaltyRecipient",value:e.royaltyRecipient,onChange:I,placeholder:"0x...",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all duration-300"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Leave empty to use your wallet address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block text-white",children:"Royalty Percentage"}),l.jsxs("div",{className:"relative w-24 md:w-28",children:[l.jsx("input",{type:"number",name:"royaltyPercent",min:0,max:100,value:e.royaltyPercent,onChange:I,placeholder:"0",className:"w-full p-4 pr-10 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all duration-300"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"%"})]}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2 whitespace-nowrap",children:"Recommended: 2.5% - 10%"})]})]})]}),l.jsxs("button",{onClick:Z,className:"w-full max-w-xs mx-auto mt-8 py-4 px-8 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-lg transition-all duration-300 hover:from-[#0095E6] hover:to-[#E61CC7] hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:"Create Collection"})]})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9998] p-4",children:l.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[u===100?l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):l.jsx("div",{className:"mb-4",children:l.jsx(YC,{type:"processing",size:"lg"})}),l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:u===100?"Collection Created!":"Creating Collection..."}),l.jsx("p",{className:"text-zinc-400 text-sm",children:u===100?"Your collection has been successfully created on the blockchain":"Please wait while we process your collection"})]}),u<100&&l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${u}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[u,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400",children:o})]})]}),u===100&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),l.jsx("p",{className:"text-zinc-300 text-sm",children:"Your collection is now live on the blockchain"})]})}),f&&u===100&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{if(i(!1),h(0),m(!1),t){const D=window.newlyCreatedCollectionData;t(D),delete window.newlyCreatedCollectionData}},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t?"Continue to Populate Collection":"Continue"]})]}),l.jsx("button",{onClick:()=>{i(!1),h(0),m(!1),delete window.newlyCreatedCollectionData},className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]}),l.jsx("button",{type:"button",onClick:()=>{C(!0)},"aria-label":"Close",className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-pink-500/40 rounded-xl",children:l.jsx(Yn,{size:24})})]})})}),k&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9999] p-4",children:l.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Wrong Network"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Please switch to Somnia Testnet (50312) to create a collection."})]}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:async()=>{try{(await(async()=>{try{return await _?.(nl)}catch{return{success:!1}}})())?.success||await jd();const D=await new wr(window.ethereum).getNetwork();Number(D.chainId)===nl?(A(!1),P("✅ Switched to Somnia Testnet. Please retry.")):P("❌ Please switch to Somnia Testnet in your wallet")}catch{P("❌ Please switch to Somnia Testnet in your wallet")}},className:"flex-1 py-3 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300",children:"Switch to Somnia"}),l.jsx("button",{onClick:()=>A(!1),className:"flex-1 py-3 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200",children:"Close"})]})]})})}),y.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-2xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105",children:[l.jsx("p",{className:"text-sm mb-1",children:y.message}),y.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${y.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[l.jsx(Vd,{size:16}),"View Transaction"]})]}),l.jsx(XC,{isVisible:E,onConfirm:()=>{C(!1),i(!1),h(0),m(!1),delete window.newlyCreatedCollectionData},onCancel:()=>C(!1),title:"Cancel Collection Creation",message:"Are you sure you want to cancel this collection creation? All progress will be lost and you'll need to start over. This action cannot be undone."})]})},Zde=()=>(j.useEffect(()=>{const t=window.location.hash;if(t){const e=document.querySelector(t);e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},100)}},[]),l.jsx("main",{className:"max-w-4xl mx-auto px-4 py-10 text-white",children:l.jsx("section",{id:"create",className:"bg-[#1a1a1a] p-8 rounded-2xl shadow-lg mb-10",children:l.jsx(dL,{})})})),Nn={webAssembly:typeof WebAssembly<"u",sharedArrayBuffer:typeof crossOriginIsolated<"u"&&crossOriginIsolated&&"SharedArrayBuffer"in globalThis,webTransport:"WebTransport"in window,serviceWorker:"serviceWorker"in navigator,fileSystemAccess:"showOpenFilePicker"in window,webGPU:"gpu"in navigator,compressionStreams:"CompressionStream"in window,webCodecs:"VideoEncoder"in window,backgroundSync:"serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration?.prototype,webAssemblySimd:typeof WebAssembly<"u"&&WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,0,11]))},jn={enableWasm:!0,enableServiceWorker:typeof window<"u"&&!location.port,enableSharedArrayBuffer:!0,enableWebTransport:!0,enableWebGPU:!1,enableFileSystemAccess:!1,enableCompression:!0,enableBackgroundSync:!1},h1=t=>({wasm:Nn.webAssembly&&jn.enableWasm,sharedArrayBuffer:Nn.sharedArrayBuffer&&jn.enableSharedArrayBuffer,webTransport:Nn.webTransport&&jn.enableWebTransport,serviceWorker:Nn.serviceWorker&&jn.enableServiceWorker,fileSystemAccess:Nn.fileSystemAccess&&jn.enableFileSystemAccess,webGPU:Nn.webGPU&&jn.enableWebGPU,compression:Nn.compressionStreams&&jn.enableCompression,backgroundSync:Nn.backgroundSync&&jn.enableBackgroundSync})[t]||!1,Kde=()=>{console.log("🔍 Browser Capabilities:",{...Nn,flags:jn,supported:Object.keys(Nn).filter(t=>Nn[t])}),console.log("📊 Production Feature Stats:",{timestamp:new Date().toISOString(),userAgent:navigator.userAgent,features:Nn,flags:jn})};Kde();class hL{constructor(){this.initialized=!1,this.optimizers={},this.initializeOptimizations()}async initializeOptimizations(){try{console.log("🚀 Initializing SafeOptimizer with advanced features..."),h1("wasm")&&(this.optimizers.wasm=await this.createWasmProcessor(),console.log("✅ WASM processor initialized")),h1("serviceWorker")&&(this.optimizers.serviceWorker=await this.createServiceWorkerCache(),console.log("✅ Service Worker cache initialized")),h1("sharedArrayBuffer")&&(this.optimizers.sharedBuffer=await this.createSharedBufferWorker(),console.log("✅ Shared Buffer Worker initialized")),h1("compression")&&(this.optimizers.compression=!0,console.log("✅ Compression API available")),this.initialized=!0,console.log("✅ SafeOptimizer initialized with optimizations:",Object.keys(this.optimizers))}catch(e){console.warn("⚠️ SafeOptimizer initialization failed, using fallbacks:",e),this.initialized=!0}}async createWasmProcessor(){try{const{WasmImageProcessor:e}=await ol(async()=>{const{WasmImageProcessor:n}=await vd(async()=>{const{WasmImageProcessor:r}=await import("./wasmImageProcessor-zC3R95mO-BfsWJS9u.js");return{WasmImageProcessor:r}},[]);return{WasmImageProcessor:n}},[]);return new e}catch(e){return console.warn("⚠️ WASM processor creation failed:",e),null}}async createServiceWorkerCache(){try{const{ServiceWorkerCache:e}=await ol(async()=>{const{ServiceWorkerCache:n}=await vd(async()=>{const{ServiceWorkerCache:r}=await import("./serviceWorkerCache-BN3PYH06-COMpp69h.js");return{ServiceWorkerCache:r}},[]);return{ServiceWorkerCache:n}},[]);return new e}catch(e){return console.warn("⚠️ Service Worker cache creation failed:",e),null}}async createSharedBufferWorker(){try{const{SharedBufferWorker:e}=await ol(async()=>{const{SharedBufferWorker:n}=await vd(async()=>{const{SharedBufferWorker:r}=await import("./sharedBufferWorker-CTA752j6-CWZKBTEP.js");return{SharedBufferWorker:r}},[]);return{SharedBufferWorker:n}},[]);return new e}catch(e){return console.warn("⚠️ Shared Buffer Worker creation failed:",e),null}}async optimizeImage(e,n=.8){if(this.optimizers.wasm)try{const r=await this.optimizers.wasm.optimize(e,n);return console.log("✅ WASM optimization successful"),r}catch(r){console.warn("⚠️ WASM optimization failed, using Canvas fallback:",r)}return await this.canvasOptimize(e,n)}async canvasOptimize(e,n){return new Promise(r=>{const s=document.createElement("canvas"),a=s.getContext("2d"),i=new Image;i.onload=()=>{let{width:o,height:c}=i;if(o>1200||c>900){const u=Math.min(1200/o,900/c);o*=u,c*=u}s.width=o,s.height=c,a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(i,0,0,o,c),s.toBlob(u=>{const h=new File([u],e.name,{type:e.type,lastModified:Date.now()});console.log(`📱 Canvas optimization: ${e.size} -> ${h.size} bytes (${Math.round((1-h.size/e.size)*100)}% reduction)`),r(h)},e.type,n)},i.onerror=()=>{console.warn("⚠️ Image loading failed, returning original file"),r(e)},i.src=URL.createObjectURL(e)})}async uploadFiles(e,n,r={}){const s=[];if(this.optimizers.sharedBuffer)try{console.log("🚀 Using Shared Buffer Worker for file processing...");const a=await this.optimizers.sharedBuffer.processFiles(e);for(let i=0;i<e.length;i++){const o=e[i],c=a[i];if(c&&c.processed)this.optimizers.serviceWorker&&await this.optimizers.serviceWorker.cacheUpload(o,c),s.push(c);else{const u=await this.regularUpload(o,n,r);s.push(u)}}}catch(a){console.warn("⚠️ Shared Buffer processing failed, using regular upload:",a);for(const i of e){const o=await this.regularUpload(i,n,r);s.push(o)}}else for(const a of e){const i=await this.regularUpload(a,n,r);s.push(i)}return s}async regularUpload(e,n,r={}){const s=new FormData;s.append("file",e),r.metadata&&s.append("metadata",JSON.stringify(r.metadata));const a=await fetch(n,{method:"POST",body:s});if(!a.ok)throw new Error(`Upload failed: ${a.status}`);const i=await a.json();return this.optimizers.serviceWorker&&await this.optimizers.serviceWorker.cacheUpload(e,i),i}async compressData(e){if(this.optimizers.compression&&this.optimizers.sharedBuffer)try{return await this.optimizers.sharedBuffer.compressData(e)}catch(n){console.warn("⚠️ Shared Buffer compression failed, using fallback:",n)}return await this.fallbackCompression(e)}async fallbackCompression(e){try{const n=new CompressionStream("gzip"),r=n.writable.getWriter(),s=n.readable.getReader(),a=new Uint8Array(e);r.write(a),r.close();const i=[];for(;;){const{done:u,value:h}=await s.read();if(u)break;i.push(h)}const o=new Uint8Array(i.reduce((u,h)=>u+h.length,0));let c=0;for(const u of i)o.set(u,c),c+=u.length;return o.buffer}catch(n){return console.warn("⚠️ Fallback compression failed:",n),e}}async decompressData(e){if(this.optimizers.compression&&this.optimizers.sharedBuffer)try{return await this.optimizers.sharedBuffer.decompressData(e)}catch(n){console.warn("⚠️ Shared Buffer decompression failed, using fallback:",n)}return await this.fallbackDecompression(e)}async fallbackDecompression(e){try{const n=new DecompressionStream("gzip"),r=n.writable.getWriter(),s=n.readable.getReader(),a=new Uint8Array(e);r.write(a),r.close();const i=[];for(;;){const{done:u,value:h}=await s.read();if(u)break;i.push(h)}const o=new Uint8Array(i.reduce((u,h)=>u+h.length,0));let c=0;for(const u of i)o.set(u,c),c+=u.length;return o.buffer}catch(n){return console.warn("⚠️ Fallback decompression failed:",n),e}}getOptimizationStats(){const e={initialized:this.initialized,availableOptimizers:Object.keys(this.optimizers),features:Nn,featureFlags:jn};return this.optimizers.serviceWorker&&(e.serviceWorker=this.optimizers.serviceWorker.getCacheStats()),this.optimizers.sharedBuffer&&(e.sharedBuffer="available"),this.optimizers.wasm&&(e.wasm="available"),this.optimizers.compression&&(e.compression="available"),e}destroy(){this.optimizers.sharedBuffer&&this.optimizers.sharedBuffer.destroy(),this.optimizers.serviceWorker&&this.optimizers.serviceWorker.clearCache(),this.optimizers={},this.initialized=!1}}const v_=new hL;class Qde{constructor(){this.metrics={uploads:{total:0,successful:0,failed:0,totalBytes:0,averageSpeed:0,averageTime:0},cache:{hits:0,misses:0,hitRate:0,totalItems:0,memoryUsage:0},network:{requests:0,errors:0,averageResponseTime:0,slowestRequest:0},memory:{used:0,peak:0,available:0},timing:{startTime:null,lastUpdate:null,totalDuration:0}},this.history=[],this.maxHistorySize=100,this.isMonitoring=!1,this.monitoringInterval=null}start(){this.isMonitoring||(this.isMonitoring=!0,this.metrics.timing.startTime=Date.now(),this.metrics.timing.lastUpdate=Date.now(),this.monitoringInterval=setInterval(()=>{this.updateMetrics()},2e3),console.log("📊 Performance monitoring started"))}stop(){this.isMonitoring&&(this.isMonitoring=!1,this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null),this.updateMetrics(),this.saveToHistory(),console.log("📊 Performance monitoring stopped"))}updateMetrics(){const e=Date.now();if(this.metrics.timing.lastUpdate=e,this.metrics.timing.totalDuration=e-this.metrics.timing.startTime,"memory"in performance){const r=performance.memory;this.metrics.memory.used=r.usedJSHeapSize,this.metrics.memory.available=r.jsHeapSizeLimit,this.metrics.memory.peak=Math.max(this.metrics.memory.peak,r.usedJSHeapSize)}this.metrics.uploads.total>0&&(this.metrics.uploads.averageSpeed=this.metrics.uploads.totalBytes/(this.metrics.timing.totalDuration/1e3),this.metrics.uploads.averageTime=this.metrics.timing.totalDuration/this.metrics.uploads.total);const n=this.metrics.cache.hits+this.metrics.cache.misses;n>0&&(this.metrics.cache.hitRate=this.metrics.cache.hits/n*100),this.metrics.network.requests>0&&(this.metrics.network.averageResponseTime=this.metrics.network.averageResponseTime/this.metrics.network.requests)}saveToHistory(){const e={timestamp:Date.now(),metrics:JSON.parse(JSON.stringify(this.metrics))};this.history.push(e),this.history.length>this.maxHistorySize&&this.history.shift()}recordSuccessfulUpload(e,n){this.metrics.uploads.total++,this.metrics.uploads.successful++,this.metrics.uploads.totalBytes+=e,n&&(this.metrics.network.averageResponseTime+=n,this.metrics.network.slowestRequest=Math.max(this.metrics.network.slowestRequest,n)),this.metrics.network.requests++}recordFailedUpload(e,n){this.metrics.uploads.total++,this.metrics.uploads.failed++,e&&(this.metrics.uploads.totalBytes+=e),this.metrics.network.requests++,this.metrics.network.errors++,console.warn("📊 Upload failed:",n)}recordCacheHit(){this.metrics.cache.hits++}recordCacheMiss(){this.metrics.cache.misses++}updateCacheStats(e){this.metrics.cache.totalItems=e.totalItems||0,this.metrics.cache.memoryUsage=e.totalMemory||0}getMetrics(){return this.updateMetrics(),this.metrics}getHistory(){return this.history}getPerformanceSummary(){const e=this.getMetrics();return{uploads:{total:e.uploads.total,successRate:e.uploads.total>0?(e.uploads.successful/e.uploads.total*100).toFixed(1):0,averageSpeed:this.formatBytes(e.uploads.averageSpeed)+"/s",totalData:this.formatBytes(e.uploads.totalBytes)},cache:{hitRate:e.cache.hitRate.toFixed(1)+"%",items:e.cache.totalItems,memory:this.formatBytes(e.cache.memoryUsage)},network:{requests:e.network.requests,errorRate:e.network.requests>0?(e.network.errors/e.network.requests*100).toFixed(1):0,averageResponseTime:e.network.averageResponseTime.toFixed(0)+"ms"},memory:{used:this.formatBytes(e.memory.used),peak:this.formatBytes(e.memory.peak),available:this.formatBytes(e.memory.available)},duration:this.formatDuration(e.timing.totalDuration)}}formatBytes(e){if(e===0)return"0 B";const n=1024,r=["B","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,s)).toFixed(2))+" "+r[s]}formatDuration(e){if(e<1e3)return e+"ms";if(e<6e4)return(e/1e3).toFixed(1)+"s";const n=Math.floor(e/6e4),r=(e%6e4/1e3).toFixed(0);return`${n}m ${r}s`}exportMetrics(){return{metrics:this.getMetrics(),history:this.getHistory(),summary:this.getPerformanceSummary(),exportTime:new Date().toISOString()}}reset(){this.metrics={uploads:{total:0,successful:0,failed:0,totalBytes:0,averageSpeed:0,averageTime:0},cache:{hits:0,misses:0,hitRate:0,totalItems:0,memoryUsage:0},network:{requests:0,errors:0,averageResponseTime:0,slowestRequest:0},memory:{used:0,peak:0,available:0},timing:{startTime:null,lastUpdate:null,totalDuration:0}},this.history=[],console.log("📊 Performance metrics reset")}}const os=new Qde,x_=new hL;let Jde=class{constructor(){this.cache=new Map,this.maxSize=100}async getFileHash(t){const e=await t.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")}async get(t,e=""){const n=`${await this.getFileHash(t)}::${e}`;return this.cache.get(n)}async set(t,e,n=""){const r=`${await this.getFileHash(t)}::${n}`;if(this.cache.size>=this.maxSize){const s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(r,e)}clear(){this.cache.clear()}};const f1=new Jde,N_={Background:["Blue","Red","Green","Purple","Orange","Yellow","Pink","Black","White","Gradient"],Body:["Alien","Ape","Zombie","Robot","Human","Cat","Dog","Bear","Pig","Frog"],Eyes:["Blue","Green","Brown","Red","Yellow","Purple","Pink","Black","White","Laser"],Mouth:["Smile","Frown","Open","Closed","Tongue","Pipe","Cigar","None"],Hat:["Cap","Beanie","Fedora","Crown","Helmet","Bandana","None"],Clothing:["T-Shirt","Suit","Hoodie","Jacket","Dress","None"],Accessory:["Glasses","Earring","Necklace","Watch","Tattoo","None"],Rarity:["Common","Uncommon","Rare","Epic","Legendary","Mythic"],Type:["Character","Item","Weapon","Armor","Pet","Vehicle"],Element:["Fire","Water","Earth","Air","Lightning","Ice","Dark","Light"],Season:["Spring","Summer","Fall","Winter"],Mood:["Happy","Sad","Angry","Surprised","Calm","Excited"],Style:["Cartoon","Realistic","Pixel","Anime","Abstract","Minimalist"],Color:["Red","Blue","Green","Yellow","Purple","Orange","Pink","Black","White","Gold","Silver"],Pattern:["Stripes","Dots","Zigzag","Solid","Gradient","Camouflage","Geometric"],Material:["Metal","Wood","Plastic","Fabric","Glass","Stone","Leather"],Size:["Tiny","Small","Medium","Large","Huge","Massive"],Age:["Baby","Young","Adult","Elder","Ancient"],Gender:["Male","Female","Non-binary","Unknown"],Class:["Warrior","Mage","Archer","Rogue","Paladin","Druid","Monk"],Faction:["Alliance","Horde","Neutral","Chaos","Order","Nature"]},Yde=({trait_type:t,value:e,description:n,onChange:r,onRemove:s,index:a})=>{const[i,o]=j.useState(!1),[c,u]=j.useState(!1),[h,f]=j.useState([]),[m,g]=j.useState(()=>{const A=localStorage.getItem("recent_attributes");return A?JSON.parse(A):{}}),b=A=>{const _=N_[A]||[],P=m[A]||[];return[...new Set([...P,..._])]},y=(A,_)=>{if(!A||!_)return;const P={...m};P[A]||(P[A]=[]),P[A]=[_,...P[A].filter(I=>I!==_)].slice(0,10),g(P),localStorage.setItem("recent_attributes",JSON.stringify(P))},w=A=>{if(r("trait_type",A),A){const _=b(A);f(_),o(!0)}else o(!1)},x=A=>{w(A),o(!1)},N=A=>{r("value",A),A&&t&&y(t,A)},E=A=>{N(A),u(!1)},C=()=>{if(t){const A=b(t);f(A),u(!0)}},k=A=>{setTimeout(()=>{A==="trait"?o(!1):A==="value"&&u(!1)},150)};return l.jsxs("div",{className:"flex flex-col gap-2 mt-2 p-3 border border-zinc-600 rounded-lg bg-zinc-800/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-xs text-zinc-400 font-medium",children:["Attribute #",a+1]}),l.jsx("button",{onClick:s,className:"px-2 py-1 text-red-400 hover:text-red-300 transition-colors text-xs",children:"Remove"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",placeholder:"Trait (e.g., Background)",value:t,onChange:A=>w(A.target.value),onFocus:()=>{t&&o(!0)},onBlur:()=>k("trait"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),t&&l.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:l.jsx(xx,{size:16,className:"text-zinc-400"})}),i&&t&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:Object.keys(N_).filter(A=>A.toLowerCase().includes(t.toLowerCase())).map(A=>l.jsx("div",{onClick:()=>x(A),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white",children:A},A))})]}),l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",placeholder:"Value",value:e,onChange:A=>N(A.target.value),onFocus:C,onBlur:()=>k("value"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),c&&h.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:h.map(A=>l.jsxs("div",{onClick:()=>E(A),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white flex items-center justify-between",children:[l.jsx("span",{children:A}),m[t]?.includes(A)&&l.jsx(qC,{size:14,className:"text-green-400"})]},A))})]})]}),l.jsx("input",{type:"text",placeholder:"Description for this attribute (optional)",value:n,onChange:A=>r("description",A.target.value),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})]})},k_=500,fL=({collection:t,onSuccess:e})=>{const[n,r]=j.useState(""),[s,a]=j.useState(1),[i,o]=j.useState([]),[c,u]=j.useState(null),[h,f]=j.useState(!1),[m,g]=j.useState(!1),[b,y]=j.useState(!1),[w,x]=j.useState(0),[N,E]=j.useState(""),[C,k]=j.useState(!1),A=j.useRef(null);Xr(),j.useEffect(()=>{console.log("🔍 Loading collection info:",t),t&&t.name?(console.log("✅ Setting collection name:",t.name),r(t.name)):(console.log("❌ No collection or collection name provided"),r(""))},[t]);const _=(G,Z,D)=>{const K=[...i];K[G][Z]=D,console.log(`✏️ Updating attribute ${G+1}:`,{field:Z,value:D}),console.log("📊 Updated attributes:",K),o(K)},P=()=>{const G={trait_type:"",value:"",description:""},Z=[...i,G];console.log("➕ Adding attribute:",G),console.log("📊 Total attributes now:",Z.length),o(Z)},I=async G=>{const Z=G.target.files[0];if(Z){y(!0);try{console.log("🔄 Processing uploaded file:",Z.name);let D=Z;if(Z.type.startsWith("image/")&&Z.size>1024*1024){console.log("🖼️ Optimizing image...");try{D=await x_.optimizeImage(Z,.8),console.log(`✅ Image optimized: ${Z.size} -> ${D.size} bytes`)}catch(K){console.warn("⚠️ Image optimization failed, using original:",K),D=Z}}await new Promise(K=>setTimeout(K,300)),u(D),console.log("✅ File processed successfully")}catch(D){console.error("❌ Error processing file:",D)}finally{y(!1)}}},$=G=>G?G.startsWith("ipfs://")?[`https://gateway.lighthouse.storage/ipfs/${G.replace("ipfs://","")}`]:[G]:[],H=async G=>{for(const Z of G)try{const D=await fetch(Z);if(D.ok)return await D.json()}catch{}throw new Error("All IPFS gateways failed")},M=()=>{const G=x_.getOptimizationStats(),Z=os.getMetrics();return{optimizer:G,performance:Z,cache:{hits:f1.cache.size,maxSize:f1.maxSize}}},B=async(G,Z,D,K)=>{console.log("📤 Uploading file to backend:",G.name,G.size,G.type);const ee=()=>{try{const ue=typeof window<"u",re=ue&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),ie=ue&&String(window.location.port)==="5173";if(re&&ie)return"";const me="http://localhost:3000";if(me&&typeof me=="string"&&me.trim()){const oe=me.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(oe))return oe}}catch{}return""},F=ue=>{const re=ee(),ie=ue.startsWith("/")?ue:`/${ue}`;return re?`${re}${ie}`:ie},V=new FormData;V.append("file",G),V.append("name",Z),V.append("description",`A unique NFT from the ${Z} collection`),V.append("attributes",JSON.stringify(K)),V.append("quantity",D.toString());const J=await fetch(F("/api/pin-nft"),{method:"POST",body:V});if(!J.ok){const ue=await J.json().catch(()=>({}));throw console.error("❌ NFT upload failed:",ue),new Error("Failed to upload NFT to backend server")}const Q=await J.json();console.log("✅ NFT uploaded successfully:",Q);const ae=Array.isArray(Q.metadataUrls)?Q.metadataUrls:[];if(ae.length===0)throw new Error("Backend did not return metadataUrls");return ae},O=async(G,Z,D,K)=>{console.log("🔥 Using optimized upload with caching for SingleNFT..."),os.start();const ee=Date.now();try{const F=JSON.stringify({name:Z,quantity:D,attributes:K}),V=await f1.get(G,F);if(V)return console.log("✅ Cache hit for SingleNFT file (with params)"),os.recordCacheHit(),V;os.recordCacheMiss();const J=await B(G,Z,D,K);await f1.set(G,J,F);const Q=Date.now()-ee;return os.recordSuccessfulUpload(G.size,Q),J}catch(F){throw os.recordFailedUpload(G.size,F),F}finally{os.stop()}},z=async()=>{const G=Math.max(1,parseInt(s||1,10));if(!c||!n||G<1||isNaN(G)){alert("Please upload an image and fill in all required fields.");return}if(G>k_){alert(`You can upload a maximum of ${k_} NFTs at once. Please reduce the quantity.`);return}try{f(!0),g(!0),x(0),E("Preparing upload..."),x(20),E("Uploading image to IPFS...");const Z=await O(c,n,G,i);x(60),E("Processing metadata..."),await new Promise(ae=>setTimeout(ae,500)),x(80),E("Saving NFTs locally...");const D=JSON.parse(localStorage.getItem(`collection_${t.address}_nfts`))||[];console.log("📦 Existing NFTs in localStorage:",D.length);const K=D.map(ae=>{const ue=ae.name?.match(/#(\d+)$/);return ue?parseInt(ue[1],10):null}).filter(ae=>ae!==null).sort((ae,ue)=>ae-ue);console.log("📊 Existing numbers:",K);let ee=1;if(K.length>0){for(let ae=1;ae<=Math.max(...K)+1;ae++)if(!K.includes(ae)){ee=ae;break}}console.log("🎯 Starting NFT numbering from:",ee),console.log("📝 Processing",Z.length,"metadata URLs");let F="",V="";for(let ae=0;ae<Z.length;ae++){const ue=Z[ae];let re="",ie;const me=80+Math.round(ae/Z.length*15);x(me),E(`Processing NFT ${ae+1}/${Z.length}...`),console.log(`🔄 Processing NFT ${ae+1}/${Z.length}:`,ue);try{const he=$(ue);console.log("🔗 IPFS URLs:",he),ie=await H(he),console.log("📋 Metadata fetched:",ie.name),re=ie.image?$(ie.image)[0]:"",console.log("🖼️ Image URL:",re),ae===0&&(F=re,V=ue)}catch(he){console.error("❌ Metadata fetch failed for NFT",ae+1,":",he.message),re=ue,ae===0&&(F=re,V=ue)}const oe={id:Date.now()+ae,name:`${n} #${ee+ae}`,description:i.map(he=>he.description).join(" "),tokenURI:ue,image:re,quantity:1,attributes:[...i],price:0,status:"draft",type:"single"};console.log("💾 Saving NFT:",oe.name,"with ID:",oe.id),D.push(oe)}console.log("💾 Saving",D.length,"NFTs to localStorage"),x(95),E("Saving to local storage..."),localStorage.setItem(`collection_${t.address}_nfts`,JSON.stringify(D));const J=JSON.parse(localStorage.getItem(`collection_${t.address}_nfts`))||[];console.log("✅ Verification: Saved",J.length,"NFTs to localStorage"),x(100),E("✅ Upload complete!");const Q=M();if(console.log("📊 SingleNFT Optimization Stats:",Q),e){const ae={type:"single",collection:t,nft:{name:n,quantity:G,attributes:i,imageUrl:F,metadataUrl:V},timestamp:new Date().toISOString(),optimizationStats:Q};e(ae)}}catch(Z){console.error(Z),alert("Failed to upload NFT metadata to IPFS."),E("❌ Upload failed")}finally{g(!1)}};return l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Single NFT Upload"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[l.jsxs("div",{className:"flex-shrink-0",children:[l.jsx("label",{className:"text-sm text-zinc-400 block mb-2",children:"Upload image *"}),l.jsxs("div",{className:`w-[160px] h-[144px] bg-zinc-900 border border-zinc-600 rounded-xl flex items-center justify-center cursor-pointer overflow-hidden ${b?"ring-2 ring-blue-500 bg-blue-900/20":""} ${m?"ring-2 ring-green-500 bg-green-900/20":""}`,onClick:()=>!b&&!m&&A.current.click(),children:[m?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-green-400 border-t-transparent rounded-full animate-spin"}),l.jsx("div",{className:"text-green-400 text-xs",children:"Uploading..."})]}):b?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),l.jsx("div",{className:"text-blue-400 text-xs",children:"Processing..."})]}):c?l.jsx("img",{src:URL.createObjectURL(c),alt:"preview",className:"object-cover w-full h-full"}):l.jsx("img",{src:uL,alt:"upload",className:"w-8 h-8 opacity-70"}),l.jsx("input",{ref:A,type:"file",accept:"image/*",onChange:I,disabled:b||m,className:"hidden"})]})]}),l.jsxs("div",{className:"flex-1 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-zinc-400 mb-1 block",children:"Name *"}),l.jsx("input",{type:"text",value:n,onChange:G=>r(G.target.value),placeholder:t?"Collection name should appear here...":"Enter NFT name",className:`w-full p-3 rounded-xl bg-zinc-800 border text-white text-sm ${t&&!n?"border-yellow-500/50":"border-zinc-600"}`}),t&&!n&&l.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"⚠️ Collection name not found. Please enter a name manually."})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{type:"button",onClick:P,className:"text-sm font-medium rounded-lg border border-purple-600 px-4 py-2 text-purple-400 hover:bg-purple-900 hover:text-white transition",children:["Add Attribute (",i.length,")"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-zinc-400",children:"Quantity"}),l.jsx("input",{type:"number",min:1,value:isNaN(s)?"":s,onChange:G=>a(parseInt(G.target.value)),className:"w-20 p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})]})]}),i.length>0&&l.jsxs("div",{className:"text-sm text-zinc-400 mb-2",children:["Attributes: ",i.length," ",i.length===1?"attribute":"attributes"," added"]}),i.map((G,Z)=>l.jsx(Yde,{trait_type:G.trait_type,value:G.value,description:G.description,onChange:(D,K)=>_(Z,D,K),onRemove:()=>o(i.filter((D,K)=>K!==Z)),index:Z},Z)),i.length===0&&l.jsx("div",{className:"text-center py-4 text-zinc-500 text-sm border border-dashed border-zinc-700 rounded-lg",children:'No attributes added yet. Click "Add Attribute" to start adding traits like Background, Body, Eyes, etc.'}),l.jsx("button",{onClick:z,disabled:m,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:m?"Uploading...":"Publish NFT"})]})]}),s>10&&l.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[l.jsx("span",{className:"text-lg",children:"🚀"}),l.jsx("span",{className:"font-semibold",children:"Performance Optimization Active"})]}),l.jsxs("p",{className:"text-sm text-blue-300",children:["Large quantity detected (",s," NFTs). Using smart caching for faster upload."]}),l.jsx("div",{className:"mt-2 text-xs text-blue-400",children:"• Smart caching: Enabled • File processing: Optimized"})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9998] p-4",children:l.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[w===100?l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):l.jsx("div",{className:"mb-4",children:l.jsx(YC,{type:"uploading",size:"lg"})}),l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:w===100?"NFT Uploaded!":"Uploading NFT..."}),l.jsx("p",{className:"text-zinc-400 text-sm",children:w===100?"Your NFT has been successfully uploaded to IPFS":"Please wait while we process your NFT"})]}),w<100&&l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${w}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[w,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400",children:N})]})]}),w===100&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),l.jsx("p",{className:"text-zinc-300 text-sm",children:"Your NFT is now live on IPFS"})]})}),w===100&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{f(!1)},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e?"Continue to Studio Dashboard":"Continue"]})]}),l.jsx("button",{onClick:()=>f(!1),className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]}),l.jsx("button",{onClick:()=>{w<100?k(!0):f(!1)},className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:24})})]})})}),l.jsx(XC,{isVisible:C,onConfirm:()=>{k(!1),f(!1)},onCancel:()=>k(!1),title:"Cancel Upload Process",message:"Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over. This action cannot be undone."})]})};class Xde{constructor(e={}){this.chunkSize=e.chunkSize||1024*1024,this.maxConcurrentChunks=e.maxConcurrentChunks||3,this.onProgress=e.onProgress||(()=>{}),this.onChunk=e.onChunk||(()=>{})}async processFileStream(e){const n=e.stream().getReader(),r=[];let s=0,a=0;try{for(;;){const{done:u,value:h}=await n.read();if(u)break;r.push(h),s+=h.length,a+=h.length,this.onProgress({processed:a,total:e.size,percentage:a/e.size*100})}const i=new ArrayBuffer(s),o=new Uint8Array(i);let c=0;for(const u of r)o.set(u,c),c+=u.length;return i}finally{n.releaseLock()}}async processFilesParallel(e){const n=new ehe(this.maxConcurrentChunks),r=[],s=e.map(async(a,i)=>{await n.acquire();try{const o=await this.processFileStream(a);return r[i]={file:a,result:o,index:i},o}finally{n.release()}});return await Promise.all(s),r.filter(Boolean)}async uploadStream(e,n,r={}){const{onProgress:s,chunkSize:a=this.chunkSize}=r,i=e.stream().getReader(),o=[];let c=0;try{for(;;){const{done:u,value:h}=await i.read();if(u)break;o.push(h),c+=h.length,o.length>=a&&(await this.uploadChunk(o,n),o.length=0,s&&s({uploaded:c,total:e.size}))}o.length>0&&await this.uploadChunk(o,n)}finally{i.releaseLock()}}async uploadChunk(e,n){const r=new Blob(e),s=new FormData;s.append("chunk",r);const a=await fetch(n,{method:"POST",body:s});if(!a.ok)throw new Error(`Upload failed: ${a.status}`);return a.json()}}let ehe=class{constructor(t){this.max=t,this.current=0,this.queue=[]}async acquire(){return this.current<this.max?(this.current++,Promise.resolve()):new Promise(t=>{this.queue.push(t)})}release(){this.current--,this.queue.length>0&&(this.current++,this.queue.shift()())}};class the{constructor(e={}){this.maxSize=e.maxSize||100,this.maxMemory=e.maxMemory||100*1024*1024,this.ttl=e.ttl||1440*60*1e3,this.compression=e.compression!==!1,this.cache=new Map,this.indexes=new Map,this.accessOrder=[],this.stats={hits:0,misses:0,sets:0,deletes:0,compressions:0},this.cleanupInterval=setInterval(()=>{this.cleanup()},300*1e3)}generateKey(e){return typeof e=="string"?e:e instanceof File?`file_${e.name}_${e.size}_${e.lastModified}`:e instanceof ArrayBuffer?`buffer_${e.byteLength}`:JSON.stringify(e)}async compress(e){if(!this.compression)return e;try{if(typeof e=="string"){const n=new TextEncoder().encode(e),r=await this.compressUint8Array(n);return this.stats.compressions++,r}if(e instanceof ArrayBuffer){const n=new Uint8Array(e),r=await this.compressUint8Array(n);return this.stats.compressions++,r}return e}catch(n){return console.warn("Compression failed, using original data:",n),e}}async compressUint8Array(e){const n=new CompressionStream("gzip"),r=n.writable.getWriter(),s=n.readable.getReader();r.write(e),r.close();const a=[];for(;;){const{done:c,value:u}=await s.read();if(c)break;a.push(u)}const i=new Uint8Array(a.reduce((c,u)=>c+u.length,0));let o=0;for(const c of a)i.set(c,o),o+=c.length;return i.buffer}async decompress(e){if(!this.compression||!(e instanceof ArrayBuffer))return e;try{const n=new Uint8Array(e),r=new DecompressionStream("gzip"),s=r.writable.getWriter(),a=r.readable.getReader();s.write(n),s.close();const i=[];for(;;){const{done:u,value:h}=await a.read();if(u)break;i.push(h)}const o=new Uint8Array(i.reduce((u,h)=>u+h.length,0));let c=0;for(const u of i)o.set(u,c),c+=u.length;return new TextDecoder().decode(o)}catch(n){return console.warn("Decompression failed, returning original data:",n),e}}async set(e,n,r={}){const s=this.generateKey(e),a=r.ttl||this.ttl,i=await this.compress(n),o={value:i,timestamp:Date.now(),expiresAt:Date.now()+a,accessCount:0,lastAccessed:Date.now(),size:this.calculateSize(i),originalSize:this.calculateSize(n)};return this.shouldEvict(o.size)&&this.evict(),this.cache.set(s,o),this.updateAccessOrder(s),this.updateIndexes(s,n),this.stats.sets++,s}async get(e){const n=this.generateKey(e),r=this.cache.get(n);return r?Date.now()>r.expiresAt?(this.delete(n),this.stats.misses++,null):(r.accessCount++,r.lastAccessed=Date.now(),this.updateAccessOrder(n),this.stats.hits++,await this.decompress(r.value)):(this.stats.misses++,null)}delete(e){const n=this.generateKey(e);this.cache.get(n)&&(this.cache.delete(n),this.removeFromAccessOrder(n),this.removeFromIndexes(n),this.stats.deletes++)}has(e){const n=this.generateKey(e),r=this.cache.get(n);return r?Date.now()>r.expiresAt?(this.delete(n),!1):!0:!1}clear(){this.cache.clear(),this.indexes.clear(),this.accessOrder=[]}getStats(){const e=this.cache.size,n=this.getTotalMemory(),r=this.stats.hits/(this.stats.hits+this.stats.misses)||0;return{...this.stats,totalItems:e,totalMemory:n,hitRate:r*100,compressionRatio:this.getCompressionRatio()}}search(e){const n=[];for(const[r,s]of this.indexes)if(r.includes(e)||e.includes(r))for(const a of s){const i=this.cache.get(a);i&&Date.now()<=i.expiresAt&&n.push({key:a,entry:i})}return n}calculateSize(e){return typeof e=="string"?new TextEncoder().encode(e).length:e instanceof ArrayBuffer?e.byteLength:e instanceof File?e.size:JSON.stringify(e).length}shouldEvict(e){return this.getTotalMemory()+e>this.maxMemory||this.cache.size>=this.maxSize}getTotalMemory(){let e=0;for(const n of this.cache.values())e+=n.size;return e}getCompressionRatio(){let e=0,n=0;for(const r of this.cache.values())e+=r.originalSize,n+=r.size;return e>0?n/e*100:100}updateAccessOrder(e){this.removeFromAccessOrder(e),this.accessOrder.push(e)}removeFromAccessOrder(e){const n=this.accessOrder.indexOf(e);n>-1&&this.accessOrder.splice(n,1)}updateIndexes(e,n){if(typeof n=="string"){const a=n.toLowerCase().split(/\s+/);for(const i of a)i.length>2&&(this.indexes.has(i)||this.indexes.set(i,new Set),this.indexes.get(i).add(e))}const r=this.calculateSize(n),s=this.getSizeRange(r);this.indexes.has(s)||this.indexes.set(s,new Set),this.indexes.get(s).add(e)}removeFromIndexes(e){for(const n of this.indexes.values())n.delete(e)}getSizeRange(e){return e<1024?"small":e<1024*1024?"medium":e<10*1024*1024?"large":"huge"}evict(){for(;this.shouldEvict(0)&&this.accessOrder.length>0;){const e=this.accessOrder.shift();this.delete(e)}}cleanup(){const e=Date.now(),n=[];for(const[r,s]of this.cache.entries())e>s.expiresAt&&n.push(r);for(const r of n)this.delete(r);n.length>0&&console.log(`Cleaned up ${n.length} expired cache entries`)}destroy(){this.cleanupInterval&&clearInterval(this.cleanupInterval),this.clear()}}class nhe extends the{constructor(e={}){super({maxSize:e.maxSize||50,maxMemory:e.maxMemory||500*1024*1024,ttl:e.ttl||10080*60*1e3,compression:!0,...e})}async setFile(e,n={}){const r=await this.generateFileKey(e),s={file:e,metadata:{name:e.name,size:e.size,type:e.type,lastModified:e.lastModified,...n}};return this.set(r,s)}async getFile(e){return(await this.get(e))?.file||null}async generateFileKey(e){const n=await e.arrayBuffer(),r=await crypto.subtle.digest("SHA-256",n);return`file_${Array.from(new Uint8Array(r)).map(s=>s.toString(16).padStart(2,"0")).join("")}`}searchByType(e){const n=[];for(const[r,s]of this.cache.entries())s.value?.metadata?.type===e&&n.push({key:r,entry:s});return n}searchBySize(e,n){const r=[];for(const[s,a]of this.cache.entries()){const i=a.value?.metadata?.size;i>=e&&i<=n&&r.push({key:s,entry:a})}return r}}class rhe{constructor(){this.isMobile=this.detectMobile(),this.isLowEnd=this.detectLowEndDevice(),this.connectionSpeed=this.detectConnectionSpeed(),this.batteryLevel=null,this.batteryCharging=!1,this.initializeBatteryMonitoring(),this.initializeConnectionMonitoring()}detectMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768}detectLowEndDevice(){const e=navigator.deviceMemory||4,n=navigator.hardwareConcurrency||4,r=e<4||n<4;return console.log(`📱 Device specs: ${e}GB RAM, ${n} cores, Low-end: ${r}`),r}detectConnectionSpeed(){if("connection"in navigator){const e=navigator.connection,n=e.effectiveType||"unknown",r=e.downlink||10;return console.log(`🌐 Connection: ${n}, ${r}Mbps`),n==="slow-2g"||n==="2g"||r<1?"slow":n==="3g"||r<5?"medium":"fast"}return"unknown"}async initializeBatteryMonitoring(){if("getBattery"in navigator)try{const e=await navigator.getBattery();this.batteryLevel=e.level,this.batteryCharging=e.charging,e.addEventListener("levelchange",()=>{this.batteryLevel=e.level}),e.addEventListener("chargingchange",()=>{this.batteryCharging=e.charging}),console.log(`🔋 Battery: ${(this.batteryLevel*100).toFixed(0)}%, Charging: ${this.batteryCharging}`)}catch(e){console.warn("Battery API not available:",e)}}initializeConnectionMonitoring(){"connection"in navigator&&navigator.connection.addEventListener("change",()=>{this.connectionSpeed=this.detectConnectionSpeed(),console.log(`🌐 Connection changed: ${this.connectionSpeed}`)})}getOptimalSettings(){const e={batchSize:25,maxConcurrentUploads:3,compressionLevel:"medium",imageQuality:.8,useWebWorker:!0,useStreaming:!1,cacheSize:50,retryAttempts:3,retryDelay:1e3};return this.isMobile&&(e.batchSize=10,e.maxConcurrentUploads=2,e.cacheSize=25,this.isLowEnd&&(e.batchSize=5,e.maxConcurrentUploads=1,e.useWebWorker=!1,e.cacheSize=10,e.retryAttempts=2),this.connectionSpeed==="slow"&&(e.batchSize=3,e.maxConcurrentUploads=1,e.compressionLevel="high",e.imageQuality=.6,e.retryDelay=2e3),this.batteryLevel!==null&&this.batteryLevel<.2&&!this.batteryCharging&&(e.batchSize=Math.max(2,e.batchSize/2),e.maxConcurrentUploads=1,e.useWebWorker=!1,console.log("🔋 Low battery detected, reducing performance"))),console.log("📱 Optimal settings:",e),e}async optimizeImage(e,n=.8){return this.isMobile?new Promise(r=>{const s=document.createElement("canvas"),a=s.getContext("2d"),i=new Image;i.onload=()=>{const o=this.isLowEnd?800:1200,c=this.isLowEnd?600:900;let{width:u,height:h}=i;if(u>o||h>c){const f=Math.min(o/u,c/h);u*=f,h*=f}s.width=u,s.height=h,a.drawImage(i,0,0,u,h),s.toBlob(f=>{const m=new File([f],e.name,{type:e.type,lastModified:Date.now()});console.log(`📱 Image optimized: ${e.size} -> ${m.size} bytes`),r(m)},e.type,n)},i.src=URL.createObjectURL(e)}):e}async optimizeFiles(e){if(!this.isMobile)return e;const n=this.getOptimalSettings(),r=[];for(let s=0;s<e.length;s++){const a=e[s];if(a.type.startsWith("image/")){const i=await this.optimizeImage(a,n.imageQuality);r.push(i)}else r.push(a)}return r}getRecommendations(){const e=[];return this.isMobile&&(e.push("📱 Mobile device detected - using optimized settings"),this.isLowEnd&&e.push("⚠️ Low-end device detected - reduced batch size and performance"),this.connectionSpeed==="slow"&&e.push("🌐 Slow connection detected - increased compression and reduced batch size"),this.batteryLevel!==null&&this.batteryLevel<.2&&!this.batteryCharging&&e.push("🔋 Low battery - consider charging or reducing upload size")),e}canUpload(){return this.batteryLevel!==null&&this.batteryLevel<.1&&!this.batteryCharging?{canUpload:!1,reason:"Battery too low (less than 10%)"}:this.connectionSpeed==="slow"&&this.isLowEnd?{canUpload:!0,reason:"Slow connection and low-end device - uploads may be slow"}:{canUpload:!0,reason:"Ready to upload"}}getDeviceInfo(){return{isMobile:this.isMobile,isLowEnd:this.isLowEnd,connectionSpeed:this.connectionSpeed,batteryLevel:this.batteryLevel,batteryCharging:this.batteryCharging,userAgent:navigator.userAgent,screenSize:`${window.innerWidth}x${window.innerHeight}`,memory:navigator.deviceMemory||"unknown",cores:navigator.hardwareConcurrency||"unknown"}}}const Vm=new rhe,she=({isVisible:t=!1,onClose:e})=>{const[n,r]=j.useState(null),[s,a]=j.useState(!1),[i,o]=j.useState(!0);if(j.useEffect(()=>{if(!t)return;const u=()=>{const h=os.getMetrics(),f=os.getPerformanceSummary();r({...h,summary:f})};if(u(),i){const h=setInterval(u,2e3);return()=>clearInterval(h)}},[t,i]),!t||!n)return null;const{summary:c}=n;return l.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!s&&l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-3 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qd,{size:16,className:"text-blue-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Performance"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(lv,{size:12,className:"text-green-400"}),l.jsxs("span",{className:"text-green-400",children:[c.uploads.successRate,"%"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(cv,{size:12,className:"text-purple-400"}),l.jsx("span",{className:"text-purple-400",children:c.cache.hitRate})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(fv,{size:12,className:"text-blue-400"}),l.jsxs("span",{className:"text-blue-400",children:[c.network.errorRate,"%"]})]})]}),l.jsx("button",{onClick:()=>a(!0),className:"text-xs text-zinc-400 hover:text-white transition-colors",children:"Expand"}),e&&l.jsx("button",{onClick:e,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"×"})]})}),s&&l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-4 shadow-2xl w-80",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qd,{size:18,className:"text-blue-400"}),l.jsx("span",{className:"text-sm text-white font-semibold",children:"Performance Monitor"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>o(!i),className:`text-xs px-2 py-1 rounded ${i?"bg-green-600 text-white":"bg-zinc-700 text-zinc-300"}`,children:"Auto"}),l.jsx("button",{onClick:()=>a(!1),className:"text-xs text-zinc-400 hover:text-white transition-colors",children:"Collapse"}),e&&l.jsx("button",{onClick:e,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"×"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(lv,{size:14,className:"text-green-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Uploads"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Total:"}),l.jsx("span",{className:"text-white ml-1",children:c.uploads.total})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Success:"}),l.jsxs("span",{className:"text-green-400 ml-1",children:[c.uploads.successRate,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Speed:"}),l.jsx("span",{className:"text-blue-400 ml-1",children:c.uploads.averageSpeed})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Data:"}),l.jsx("span",{className:"text-purple-400 ml-1",children:c.uploads.totalData})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(cv,{size:14,className:"text-purple-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Cache"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Hit Rate:"}),l.jsx("span",{className:"text-purple-400 ml-1",children:c.cache.hitRate})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Items:"}),l.jsx("span",{className:"text-white ml-1",children:c.cache.items})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Memory:"}),l.jsx("span",{className:"text-blue-400 ml-1",children:c.cache.memory})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(fv,{size:14,className:"text-blue-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Network"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Requests:"}),l.jsx("span",{className:"text-white ml-1",children:c.network.requests})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Errors:"}),l.jsxs("span",{className:"text-red-400 ml-1",children:[c.network.errorRate,"%"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Avg Response:"}),l.jsx("span",{className:"text-green-400 ml-1",children:c.network.averageResponseTime})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(c6,{size:14,className:"text-orange-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Memory"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Used:"}),l.jsx("span",{className:"text-orange-400 ml-1",children:c.memory.used})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Peak:"}),l.jsx("span",{className:"text-red-400 ml-1",children:c.memory.peak})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Available:"}),l.jsx("span",{className:"text-green-400 ml-1",children:c.memory.available})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(mp,{size:14,className:"text-yellow-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Duration"})]}),l.jsxs("div",{className:"text-xs",children:[l.jsx("span",{className:"text-zinc-400",children:"Total Time:"}),l.jsx("span",{className:"text-yellow-400 ml-1",children:c.duration})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{const u=os.exportMetrics(),h=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),f=URL.createObjectURL(h),m=document.createElement("a");m.href=f,m.download=`performance-metrics-${new Date().toISOString().split("T")[0]}.json`,m.click(),URL.revokeObjectURL(f)},className:"flex-1 text-xs bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded transition-colors",children:"Export"}),l.jsx("button",{onClick:()=>{os.reset(),r(null)},className:"flex-1 text-xs bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded transition-colors",children:"Reset"})]})]})]})]})},ahe=({isVisible:t=!1,onClose:e})=>{const[n,r]=j.useState(null);if(j.useEffect(()=>{if(t){const o={features:Nn,flags:jn,supported:Object.keys(Nn).filter(c=>Nn[c]),enabled:Object.keys(jn).filter(c=>jn[c])};r(o)}},[t]),!t||!n)return null;const s=(o,c)=>o&&c?l.jsx(Yi,{size:16,className:"text-green-400"}):o&&!c?l.jsx(to,{size:16,className:"text-yellow-400"}):l.jsx(Hce,{size:16,className:"text-red-400"}),a=(o,c)=>o&&c?"Active":o&&!c?"Available":"Not Supported",i=(o,c)=>o&&c?"text-green-400":o&&!c?"text-yellow-400":"text-red-400";return l.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-4 shadow-2xl w-80",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pv,{size:18,className:"text-blue-400"}),l.jsx("span",{className:"text-sm text-white font-semibold",children:"Optimization Status"})]}),e&&l.jsx("button",{onClick:e,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"×"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(c6,{size:14,className:"text-purple-400"}),l.jsx("span",{className:"text-xs text-white",children:"WebAssembly"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.webAssembly,jn.enableWasm),l.jsx("span",{className:`text-xs ${i(Nn.webAssembly,jn.enableWasm)}`,children:a(Nn.webAssembly,jn.enableWasm)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cv,{size:14,className:"text-blue-400"}),l.jsx("span",{className:"text-xs text-white",children:"Service Worker"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.serviceWorker,jn.enableServiceWorker),l.jsx("span",{className:`text-xs ${i(Nn.serviceWorker,jn.enableServiceWorker)}`,children:a(Nn.serviceWorker,jn.enableServiceWorker)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pv,{size:14,className:"text-green-400"}),l.jsx("span",{className:"text-xs text-white",children:"SharedArrayBuffer"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.sharedArrayBuffer,jn.enableSharedArrayBuffer),l.jsx("span",{className:`text-xs ${i(Nn.sharedArrayBuffer,jn.enableSharedArrayBuffer)}`,children:a(Nn.sharedArrayBuffer,jn.enableSharedArrayBuffer)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(fv,{size:14,className:"text-orange-400"}),l.jsx("span",{className:"text-xs text-white",children:"WebTransport"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.webTransport,jn.enableWebTransport),l.jsx("span",{className:`text-xs ${i(Nn.webTransport,jn.enableWebTransport)}`,children:a(Nn.webTransport,jn.enableWebTransport)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(c6,{size:14,className:"text-cyan-400"}),l.jsx("span",{className:"text-xs text-white",children:"Compression"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.compressionStreams,jn.enableCompression),l.jsx("span",{className:`text-xs ${i(Nn.compressionStreams,jn.enableCompression)}`,children:a(Nn.compressionStreams,jn.enableCompression)})]})]})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-zinc-700",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Supported"}),l.jsx("div",{className:"text-white font-medium",children:n.supported.length})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Enabled"}),l.jsx("div",{className:"text-white font-medium",children:n.enabled.length})]})]})}),l.jsxs("div",{className:"mt-3 text-xs text-zinc-400",children:[n.supported.length<3&&l.jsx("div",{className:"text-yellow-400 mb-1",children:"⚠️ Consider updating your browser for better performance"}),n.enabled.length>0&&l.jsxs("div",{className:"text-green-400",children:["✅ ",n.enabled.length," optimizations active"]})]})]})})},ihe=()=>{try{const t=typeof window<"u",e=t&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),n=t&&String(window.location.port)==="5173";if(e&&n)return"";const r="http://localhost:3000";if(r&&typeof r=="string"&&r.trim()){const s=r.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(s))return s}}catch{}return""},C_=t=>{const e=ihe(),n=t.startsWith("/")?t:`/${t}`;return e?`${e}${n}`:n},If=new nhe({maxSize:100,maxMemory:500*1024*1024,ttl:10080*60*1e3,compression:!0}),ohe=new Xde({chunkSize:1024*1024,maxConcurrentChunks:5,onProgress:t=>{console.log("Stream progress:",t)}});let fa=null,lhe=0;const che=()=>{if(typeof Worker<"u"&&!fa)try{const t=`/workers/upload-worker.js?v=${Date.now()}`;fa=new Worker(t),fa.onmessage=uhe,fa.onerror=dhe,console.log("🔥 Web Worker initialized successfully with cache busting")}catch(t){console.warn("Web Worker not available, falling back to main thread:",t)}},uhe=t=>{const{type:e,data:n,id:r}=t.data;if(!r)switch(e){case"CACHE_STATS":console.log("📊 Worker cache stats:",n);break;case"BATCH_PROGRESS":console.log("🔥 Worker batch progress:",n);break;case"BATCH_COMPLETE":console.log("✅ Worker batch complete:",n);break;case"UPLOAD_COMPLETE":console.log("🎉 Worker upload complete:",n);break;case"ERROR":console.error("❌ Worker error:",n);break}},dhe=t=>{console.error("❌ Web Worker error:",t)},hhe=async(t,e,n,r,s={})=>(console.log("🚀 Starting uploadWithWorker..."),console.log("📊 Files count:",t.length),console.log("📊 Options:",s),fa?new Promise((a,i)=>{const o=++lhe;console.log("🆔 Generated message ID:",o);const c=setTimeout(()=>{console.error("⏰ Worker timeout after 5 minutes"),i(new Error("Worker timeout"))},3e5),u=f=>{console.log("📨 Worker message received:",f.data);const{type:m,data:g,id:b}=f.data;if(console.log("🔍 Message details:",{type:m,id:b,messageId:o,match:b===o}),b===o)if(console.log("✅ Message ID matches, processing response..."),m==="UPLOAD_COMPLETE")console.log("🎉 Worker completed successfully, resolving with data:",g),clearTimeout(c),fa.removeEventListener("message",u),a(g);else if(m==="ERROR"){console.error("❌ Worker error:",g);let y="Unknown worker error";typeof g=="string"?y=g:g&&g.error?y=g.error:g&&typeof g=="object"&&(y=JSON.stringify(g)),console.error("❌ Worker error details:",{data:g,errorMessage:y}),clearTimeout(c),fa.removeEventListener("message",u),i(new Error(y))}else console.log("📊 Progress message received:",m,g);else console.log("⏭️ Skipping message with different ID:",b)};fa.addEventListener("message",u);const h={type:"UPLOAD_FILES",data:{files:t,names:e,descriptions:n,allAttributes:r,options:s},id:o};console.log("📤 Sending message to worker:",h),fa.postMessage(h)}):(console.log("🐌 Falling back to main thread processing"),pL(t,e,n,r))),pL=async(t,e,n,r)=>{console.log("🔥 Using advanced cache and streaming...");const s=await Promise.all(t.map(async(u,h)=>{const f=await If.getFile(u);return f?(console.log(`✅ Advanced cache hit for file ${h+1}`),os.recordCacheHit(),{cached:!0,data:f,index:h}):(os.recordCacheMiss(),{cached:!1,file:u,index:h})})),a=s.filter(u=>u.cached),i=s.filter(u=>!u.cached);console.log(`📊 Advanced cache stats: ${a.length} cached, ${i.length} new files`);let o=[];if(i.length>0){const u=i.map(b=>b.file),h=i.map(b=>e[b.index]),f=i.map(b=>n[b.index]),m=i.map(b=>r[b.index]);if(u.some(b=>b.size>10*1024*1024))console.log("🌊 Using streaming for large files..."),o=await fhe(u,h,f,m);else{console.log("⚡ Using parallel processing for small files...");const b=[];for(let y=0;y<u.length;y++){const w=await mL(u[y],h[y],f[y],m[y]);b.push(w)}o={results:b}}const g=i.map((b,y)=>{const w=o.results[y];return w?{...w,index:b.index}:null}).filter(Boolean);for(let b=0;b<i.length;b++){const y=i[b].file,w=g[b];w&&await If.setFile(y,w)}o=g}const c=[];for(let u=0;u<t.length;u++){const h=a.find(m=>m.index===u),f=o.find(m=>m.index===u);h?c.push(h.data):f&&c.push(f)}return{success:!0,results:c}},fhe=async(t,e,n,r)=>{const s=[],a=new phe(3),i=t.map(async(o,c)=>{await a.acquire();try{console.log(`🌊 Processing large file ${c+1}/${t.length}: ${o.name}`);const u=await ohe.processFileStream(o),h=await mL(o,e[c],n[c],r[c]);return s[c]=h,h}finally{a.release()}});return await Promise.all(i),{results:s.filter(Boolean)}};class phe{constructor(e){this.max=e,this.current=0,this.queue=[]}async acquire(){return this.current<this.max?(this.current++,Promise.resolve()):new Promise(e=>{this.queue.push(e)})}release(){this.current--,this.queue.length>0&&(this.current++,this.queue.shift()())}}const mL=async(t,e,n,r,s=3)=>{for(let a=1;a<=s;a++)try{console.log(`📤 Upload attempt ${a} for file:`,t.name,t.size,t.type);const i=new FormData;i.append("file",t),i.append("name",e),i.append("description",n||""),i.append("quantity","1"),r&&r.length>0&&i.append("attributes",JSON.stringify(r));const o=[C_("/api/pin-nft"),C_("/pin-nft")];let c=null;for(const u of o)try{const h=await fetch(u,{method:"POST",body:i});if(!h.ok){const f=await h.text();console.error("❌ NFT upload failed:",f),c=new Error(`NFT upload failed: ${h.status} - ${f}`);continue}return await h.json()}catch(h){c=h;continue}throw c||new Error("All endpoints failed")}catch(i){if(console.warn(`Upload attempt ${a} failed:`,i),a===s)throw i;await new Promise(o=>setTimeout(o,500*a))}},E_={Background:["Blue","Red","Green","Purple","Orange","Yellow","Pink","Black","White","Gradient"],Body:["Alien","Ape","Zombie","Robot","Human","Cat","Dog","Bear","Pig","Frog"],Eyes:["Blue","Green","Brown","Red","Yellow","Purple","Pink","Black","White","Laser"],Mouth:["Smile","Frown","Open","Closed","Tongue","Pipe","Cigar","None"],Hat:["Cap","Beanie","Fedora","Crown","Helmet","Bandana","None"],Clothing:["T-Shirt","Suit","Hoodie","Jacket","Dress","None"],Accessory:["Glasses","Earring","Necklace","Watch","Tattoo","None"],Rarity:["Common","Uncommon","Rare","Epic","Legendary","Mythic"],Type:["Character","Item","Weapon","Armor","Pet","Vehicle"],Element:["Fire","Water","Earth","Air","Lightning","Ice","Dark","Light"],Season:["Spring","Summer","Fall","Winter"],Mood:["Happy","Sad","Angry","Surprised","Calm","Excited"],Style:["Cartoon","Realistic","Pixel","Anime","Abstract","Minimalist"],Color:["Red","Blue","Green","Yellow","Purple","Orange","Pink","Black","White","Gold","Silver"],Pattern:["Stripes","Dots","Zigzag","Solid","Gradient","Camouflage","Geometric"],Material:["Metal","Wood","Plastic","Fabric","Glass","Stone","Leather"],Size:["Tiny","Small","Medium","Large","Huge","Massive"],Age:["Baby","Young","Adult","Elder","Ancient"],Gender:["Male","Female","Non-binary","Unknown"],Class:["Warrior","Mage","Archer","Rogue","Paladin","Druid","Monk"],Faction:["Alliance","Horde","Neutral","Chaos","Order","Nature"]},mhe=({trait_type:t,value:e,onChange:n,onRemove:r,index:s})=>{const[a,i]=j.useState(!1),[o,c]=j.useState(!1),[u,h]=j.useState([]),[f,m]=j.useState(()=>{const k=localStorage.getItem("recent_attributes");return k?JSON.parse(k):{}}),g=k=>{const A=E_[k]||[],_=f[k]||[];return[...new Set([..._,...A])]},b=(k,A)=>{if(!k||!A)return;const _={...f};_[k]||(_[k]=[]),_[k]=[A,..._[k].filter(P=>P!==A)].slice(0,10),m(_),localStorage.setItem("recent_attributes",JSON.stringify(_))},y=k=>{if(n("trait_type",k),k){const A=g(k);h(A),i(!0)}else i(!1)},w=k=>{y(k),i(!1)},x=k=>{n("value",k),k&&t&&b(t,k)},N=k=>{x(k),c(!1)},E=()=>{if(t){const k=g(t);h(k),c(!0)}},C=k=>{setTimeout(()=>{k==="trait"?i(!1):k==="value"&&c(!1)},150)};return l.jsxs("div",{className:"flex gap-2 relative",children:[l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",value:t,placeholder:"Trait (e.g., Background)",onChange:k=>y(k.target.value),onFocus:()=>{t&&i(!0)},onBlur:()=>C("trait"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),t&&l.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:l.jsx(xx,{size:16,className:"text-zinc-400"})}),a&&t&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:Object.keys(E_).filter(k=>k.toLowerCase().includes(t.toLowerCase())).map(k=>l.jsx("div",{onClick:()=>w(k),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white",children:k},k))})]}),l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",value:e,placeholder:"Value",onChange:k=>x(k.target.value),onFocus:E,onBlur:()=>C("value"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),o&&u.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:u.map(k=>l.jsxs("div",{onClick:()=>N(k),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white flex items-center justify-between",children:[l.jsx("span",{children:k}),f[t]?.includes(k)&&l.jsx(qC,{size:14,className:"text-green-400"})]},k))})]}),l.jsx("button",{onClick:r,className:"px-2 py-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Yn,{size:16})})]})},gL=({collection:t,onSuccess:e})=>{const[n,r]=j.useState({name:"",description:""}),[s,a]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState(0),[h,f]=j.useState(""),[m,g]=j.useState([]),[b,y]=j.useState(!1),[w,x]=j.useState([]),[N,E]=j.useState(!1),C=j.useRef(null);Xr();const[k,A]=j.useState(1),_=25,P=1e4,[I,$]=j.useState({current:0,total:0,success:0,failed:0}),[H,M]=j.useState(!1),[B,O]=j.useState(!1),[z,G]=j.useState(!1),[Z,D]=j.useState([]),[K,ee]=j.useState(!1),[F,V]=j.useState(!1),J=j.useRef(null);j.useEffect(()=>{console.log("🔍 Loading collection info:",t),t&&r({name:t.name||"",description:t.description||""});const oe=(JSON.parse(localStorage.getItem(`collection_${t?.address}_nfts`))||[]).map(W=>{const ye=W.name?.match(/#(\d+)$/);return ye?parseInt(ye[1],10):null}).filter(W=>W!==null),he=oe.length?Math.max(...oe)+1:1;A(he),che(),os.start();const Ne=Vm.getRecommendations();D(Ne);const Re=v_.getOptimizationStats();console.log("🚀 SafeOptimizer stats:",Re)},[t]),j.useEffect(()=>{if(s.length===0)A(1);else{const oe=s.map((he,Ne)=>({...he,name:`${n.name||"NFT"} #${Ne+1}`}));a(oe)}},[s.length,n.name]),j.useEffect(()=>{b&&setTimeout(()=>{try{J.current?.focus(),J.current?.scrollIntoView({block:"center",inline:"nearest"})}catch{}},0)},[b]);const Q=async(oe,he,Ne,Re)=>{console.log("🔥 Using optimized upload with caching...");const W=await Promise.all(oe.map(async(fe,Ie)=>{const je=await If.getFile(fe);return je?(console.log(`✅ Cache hit for file ${Ie+1}`),{cached:!0,data:je,index:Ie}):{cached:!1,file:fe,index:Ie}})),ye=W.filter(fe=>fe.cached),ce=W.filter(fe=>!fe.cached);console.log(`📊 Cache stats: ${ye.length} cached, ${ce.length} new files`);let ne=[];if(ce.length>0){const fe=ce.map(Me=>Me.file),Ie=ce.map(Me=>he[Me.index]),je=ce.map(Me=>Ne[Me.index]),be=ce.map(Me=>Re[Me.index]),Be=await pL(fe,Ie,je,be),$e=ce.map((Me,we)=>{const T=Be.results[we];return T?{...T,index:Me.index}:null}).filter(Boolean);for(let Me=0;Me<ce.length;Me++){const we=ce[Me].file,T=$e[Me];T&&await If.setFile(we,T)}ne=$e}const se=[];for(let fe=0;fe<oe.length;fe++){const Ie=ye.find(be=>be.index===fe),je=ne.find(be=>be.index===fe);Ie?se.push(Ie.data):je&&se.push(je)}return{success:!0,results:se}},ae=async oe=>{oe.preventDefault();const he=Array.from(oe.dataTransfer?.files||oe.target.files).filter(Ne=>{const Re=Ne.type.startsWith("image/");return Re||console.warn("Skipping non-image file:",Ne.name),Re});if(he.length===0){alert("Please select only image files.");return}ee(!0);try{console.log(`🔄 Processing ${he.length} files...`);const Ne=[];for(let W=0;W<he.length;W++){const ye=he[W];console.log(`🔄 Optimizing file ${W+1}/${he.length}: ${ye.name}`);const ce=await v_.optimizeImage(ye);Ne.push(ce)}const Re=Ne.map((W,ye)=>{const ce=W.name.split(".").pop()||"png",ne=`${n.name||"NFT"}`,se=k+ye;return{file:W,name:`${ne} #${se}`,description:"",attributes:[{trait_type:"",value:""}],originalName:W.name,fileExtension:ce}});a([...s,...Re]),A(W=>W+he.length),console.log("Added images:",Re.map(W=>({name:W.name,originalName:W.originalName})))}catch(Ne){console.error("Error processing uploaded files:",Ne),alert("Error processing files: "+Ne.message)}finally{ee(!1)}};function ue(oe,he){const Ne=[];for(let Re=0;Re<oe.length;Re+=he)Ne.push(oe.slice(Re,Re+he));return Ne}const re=async()=>{if(!s.length||!n.name){alert("Please upload at least one image.");return}if(s.length>P){alert(`You can upload a maximum of ${P} NFTs per collection. Please reduce the number of images.`);return}const oe=s.length>100;M(oe);try{o(!0),u(0),f("Preparing upload..."),y(!0),g([]),x([]),E(!1),$({current:0,total:Math.ceil(s.length/_),success:0,failed:0});const he=oe?10:_,Ne=ue(s,he);let Re=[],W=[];if(oe&&Ne.length>3){console.log("🚀 Using parallel batch processing for large upload..."),console.log("🚀 Using sequential batch processing for large upload...");for(let ye=0;ye<Ne.length;ye++){const ce=Ne[ye],ne=ce.map(be=>be.file),se=ce.map(be=>be.name),fe=ce.map(be=>be.description||n.description),Ie=ce.map(be=>be.attributes);console.log(`🔥 Processing batch ${ye+1}/${Ne.length} (${ce.length} images)...`);const je=Math.round((ye+1)/Ne.length*80);u(je),f(`Uploading batch ${ye+1}/${Ne.length} (${ce.length} images)...`);try{const be=await hhe(ne,se,fe,Ie,{batchSize:he,batchDelay:oe?1e3:500,useStreaming:ne.some(L=>L.size>10485760),maxConcurrent:1});console.log("🔥 Worker response:",be),console.log("🔥 Response type:",typeof be),console.log("🔥 Response keys:",Object.keys(be||{}));const Be=JSON.parse(localStorage.getItem(`collection_${t?.address}_nfts`)||"[]");console.log("🔍 Processing worker response..."),console.log("🔍 Full response:",be),console.log("🔍 Response.results:",be.results),console.log("🔍 Response.data?.results:",be.data?.results);const $e=be.results||[];if(console.log("🔍 Final results array:",$e),console.log("🔍 Results length:",$e.length),console.log("🔍 Is array:",Array.isArray($e)),$e.forEach((L,q)=>{console.log(`🔍 Result ${q}:`,L),console.log(`🔍 Result ${q} status:`,L.status||"success"),console.log(`🔍 Result ${q} metadataIpfs:`,L.metadataIpfs||(Array.isArray(L.metadataUrls)?L.metadataUrls[0]:void 0)),console.log(`🔍 Result ${q} imageIpfs:`,L.imageIpfs||L.imageUrl)}),!Array.isArray($e))throw console.error("❌ Invalid response format:",be),new Error("Invalid server response format");const Me=await Promise.all($e.map(async(L,q)=>{try{const le=L.status==="success"||L.success===!0,ge=L.metadataIpfs||Array.isArray(L.metadataUrls)&&L.metadataUrls.length>0;if(!le&&!ge)throw console.error("❌ Small upload result marked as failed:",L),new Error(`Server marked as failed: ${L.error||"Unknown error"}`);console.log("🔍 Processing result:",L);const Ce=L.metadataIpfs||(Array.isArray(L.metadataUrls)?L.metadataUrls[0]:void 0),Ae=L.imageIpfs||L.imageUrl;if(!Ce)throw console.error("❌ No metadata IPFS hash in result:",L),new Error("No metadata IPFS hash returned");let rt;if(Ce&&Ae&&Ce===Ae)rt={image:Ae};else try{const ot=Ln(Ce);rt=await bv(ot)}catch(ot){console.warn("⚠️ Failed to fetch metadata JSON, falling back to image URL:",ot?.message),rt={image:Ae||""}}if(!rt)throw new Error("Failed to fetch metadata from IPFS");const kt=se[q]||L.name||`${n.name} #${k+ye*he+q}`;return{id:Date.now()+ye*he+q,name:kt,description:fe[q]||"",image:rt.image?Ln(rt.image)[0]:"",price:0,status:"draft",type:"multiple",attributes:Ie[q]||[],tokenURI:Ce,failed:!1,originalIndex:ye*he+q,verified:!0}}catch(le){return console.error(`Error processing result ${q}:`,le),{name:se[q]||`${n.name} #${k+ye*he+q}`,index:ye*he+q,failed:!0,reason:le.message||"Unknown error",originalIndex:ye*he+q,verified:!1}}})),we=Me.filter(L=>!L.failed&&L.verified),T=Me.filter(L=>L.failed||!L.verified);we.length&&localStorage.setItem(`collection_${t?.address}_nfts`,JSON.stringify([...Be,...we])),$(L=>({...L,current:ye+1,success:L.success+we.length,failed:L.failed+T.length})),u(Math.round((ye+1)/Ne.length*80)),f(`Processing batch ${ye+1}/${Ne.length} results...`),await new Promise(L=>setTimeout(L,500)),f(`Completed batch ${ye+1}/${Ne.length} (${we.length} success, ${T.length} failed)`),Re=[...Re,...we],W=[...W,...T]}catch(be){console.error(`Batch ${ye+1} failed:`,be);const Be=ce.map(($e,Me)=>({name:$e.name,index:ye*he+Me,failed:!0,reason:be.message||"Batch upload failed"}));$($e=>({...$e,current:ye+1,failed:$e.failed+ce.length})),W=[...W,...Be]}}}else{console.log("🐌 Using sequential processing for small upload...");for(let ye=0;ye<Ne.length;ye++){const ce=Ne[ye],ne=ce.map(je=>je.file),se=ce.map(je=>je.name),fe=ce.map(je=>je.description||n.description),Ie=ce.map(je=>je.attributes);console.log(`Batch ${ye+1}/${Ne.length} (${ce.length} images)...`),f(`Uploading batch ${ye+1}/${Ne.length} (${ce.length} images)...`),u(Math.round(ye/Ne.length*80)),$(je=>({...je,current:ye+1}));try{const je=await Q(ne,se,fe,Ie),be=JSON.parse(localStorage.getItem(`collection_${t?.address}_nfts`)||"[]");console.log("🔍 Processing small upload response:",je);const Be=je.results||[];if(!Array.isArray(Be))throw console.error("❌ Invalid response format:",je),new Error("Invalid server response format");f(`Processing batch ${ye+1}/${Ne.length} results...`);const $e=await Promise.all(Be.map(async(T,L)=>{try{const q=T.status==="success"||T.success===!0,le=T.metadataIpfs||Array.isArray(T.metadataUrls)&&T.metadataUrls.length>0;if(!q&&!le)throw console.error("❌ Result marked as failed:",T),new Error(`Server marked as failed: ${T.error||"Unknown error"}`);console.log("🔍 Processing small upload result:",T);const ge=T.metadataIpfs||(Array.isArray(T.metadataUrls)?T.metadataUrls[0]:void 0),Ce=T.imageIpfs||T.imageUrl;if(!ge)throw console.error("❌ No metadata IPFS hash in result:",T),new Error("No metadata IPFS hash returned");let Ae;if(/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(ge||""))Ae={image:ge};else try{const kt=Ln(ge);Ae=await bv(kt)}catch(kt){console.warn("⚠️ Failed to fetch metadata JSON, falling back to image URL:",kt?.message),Ae={image:Ce||""}}if(!Ae)throw new Error("Failed to fetch metadata from IPFS");if(!oe&&Ae.image){const kt=Ln(Ae.image);let ot=!1;for(const Ct of kt)try{let nt=await fetch(Ct,{method:"HEAD"});if(nt.ok||(nt=await fetch(Ct,{method:"GET"})),nt.ok){ot=!0;break}}catch{}if(!ot)throw new Error("Failed to verify image accessibility")}const rt=se[L]||T.name||`${n.name} #${k+L}`;return{id:Date.now()+L,name:rt,description:fe[L]||"",image:Ae.image?Ln(Ae.image)[0]:"",price:0,status:"draft",type:"multiple",attributes:Ie[L]||[],tokenURI:ge,failed:!1,originalIndex:L,verified:!0}}catch(q){return console.error(`Error processing result ${L}:`,q),{name:se[L]||`${n.name} #${k+L}`,index:L,failed:!0,reason:q.message||"Unknown error",originalIndex:L,verified:!1}}})),Me=$e.filter(T=>!T.failed&&T.verified),we=$e.filter(T=>T.failed||!T.verified);Re=[...Re,...Me],W=[...W,...we],$(T=>({...T,success:T.success+Me.length,failed:T.failed+we.length})),Me.length&&localStorage.setItem(`collection_${t?.address}_nfts`,JSON.stringify([...be,...Me])),oe&&ye<Ne.length-1&&(f(`Pausing between batches... (${ye+1}/${Ne.length})`),await new Promise(T=>setTimeout(T,1e3)))}catch(je){console.error(`Batch ${ye+1} failed:`,je);const be=ce.map((Be,$e)=>({name:Be.name,index:$e,failed:!0,reason:je.message||"Batch upload failed"}));W=[...W,...be],$(Be=>({...Be,failed:Be.failed+ce.length}))}}}console.log("🎯 Finalizing upload process..."),console.log("📊 Final results:",{allResults:Re.length,allFailed:W.length}),f("Finalizing upload..."),u(90),console.log("💾 Setting results and failed arrays..."),g(Re),x(W),u(100),console.log("🎉 Determining final status..."),Re.length&&W.length===0?(console.log("✅ All uploads successful!"),f("✅ Upload completed successfully!"),E(!0)):Re.length>0?(console.log(`⚠️ Upload completed with ${W.length} failures`),f(`✅ Upload completed with ${W.length} failures`)):(console.log("❌ All uploads failed"),f("❌ Upload failed")),console.log("🏁 Upload process completed")}catch(he){console.error("Upload failed:",he),f(`❌ Upload failed: ${he.message}`),alert("Upload failed: "+he.message)}finally{o(!1),M(!1)}},ie=()=>{const oe=w.map(he=>{const Ne=he.index??0,Re=s[Ne];return{...Re,name:he.name||Re.name,originalIndex:Ne}});a(oe),x([]),y(!1),console.log("Retrying failed uploads with preserved order:",oe.map((he,Ne)=>({newIndex:Ne,originalIndex:he.originalIndex,name:he.name})))},me=()=>{const oe=If.getStats(),he=document.getElementById("cache-items"),Ne=document.getElementById("cache-memory"),Re=document.getElementById("cache-hitrate");he&&(he.textContent=oe.totalItems),Ne&&(Ne.textContent=`${(oe.totalMemory/1024/1024).toFixed(1)}MB`),Re&&(Re.textContent=`${oe.hitRate.toFixed(1)}%`),os.updateCacheStats(oe)};return j.useEffect(()=>{me();const oe=setInterval(me,5e3);return()=>{clearInterval(oe),os.stop()}},[]),l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Multiple NFT Upload"}),l.jsx("div",{className:"flex flex-col lg:flex-row gap-8",children:l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"text-sm text-zinc-400 block mb-2",children:"Upload images *"}),l.jsxs("div",{className:`w-full min-h-[192px] bg-zinc-900 border border-zinc-600 rounded-xl p-2 cursor-pointer hover:ring-1 hover:ring-pink-500 transition-all duration-200 ${K?"ring-2 ring-blue-500 bg-blue-900/20":""} ${i?"ring-2 ring-green-500 bg-green-900/20":""}`,onClick:()=>!K&&!i&&C.current.click(),onDragOver:oe=>oe.preventDefault(),onDrop:!K&&!i?ae:void 0,children:[l.jsx("div",{className:"flex flex-col justify-center items-center h-full min-h-[192px] gap-3",children:i?l.jsxs(l.Fragment,{children:[l.jsx(Zd,{className:"w-8 h-8 text-green-400 animate-spin"}),l.jsx("div",{className:"text-green-400 text-sm font-medium",children:"Uploading NFTs..."}),l.jsx("div",{className:"text-green-300 text-xs",children:"Please wait while we upload to IPFS"})]}):K?l.jsxs(l.Fragment,{children:[l.jsx(Zd,{className:"w-8 h-8 text-blue-400 animate-spin"}),l.jsx("div",{className:"text-blue-400 text-sm font-medium",children:"Processing files..."}),l.jsx("div",{className:"text-blue-300 text-xs",children:"Please wait while we optimize your images"})]}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:uL,alt:"upload",className:"w-8 h-8 opacity-70"}),l.jsx("div",{className:"text-zinc-400 text-sm",children:"Drop images here or click to browse"})]})}),l.jsx("input",{ref:C,type:"file",accept:"image/*",multiple:!0,onChange:ae,disabled:K||i,className:"hidden"})]})]})}),l.jsx("div",{className:"space-y-6 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left text-zinc-400",children:[l.jsx("thead",{className:"text-xs uppercase bg-zinc-800 text-zinc-400",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"#"}),l.jsx("th",{className:"px-4 py-2",children:"Preview"}),l.jsx("th",{className:"px-4 py-2",children:"Name"}),l.jsx("th",{className:"px-4 py-2",children:"Description"}),l.jsx("th",{className:"px-4 py-2",children:"Attributes"}),l.jsx("th",{className:"px-4 py-2",children:"Remove"})]})}),l.jsx("tbody",{children:s.map((oe,he)=>l.jsxs("tr",{className:"border-b border-zinc-700",children:[l.jsx("td",{className:"px-4 py-2",children:he+1}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("img",{src:URL.createObjectURL(oe.file),alt:`preview-${he}`,className:"w-12 h-12 object-cover rounded"})}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("input",{type:"text",value:oe.name,onChange:Ne=>{const Re=[...s];Re[he].name=Ne.target.value,a(Re)},className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("input",{type:"text",value:oe.description,onChange:Ne=>{const Re=[...s];Re[he].description=Ne.target.value,a(Re)},className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})}),l.jsxs("td",{className:"px-4 py-2 space-y-2",children:[oe.attributes.map((Ne,Re)=>l.jsx(mhe,{trait_type:Ne.trait_type,value:Ne.value,onChange:(W,ye)=>{const ce=[...s];ce[he].attributes[Re]={trait_type:W,value:ye},a(ce)},onRemove:()=>{const W=[...s];W[he].attributes.splice(Re,1),a(W)},index:Re},Re)),l.jsx("button",{onClick:()=>{const Ne=[...s];Ne[he].attributes.push({trait_type:"",value:""}),a(Ne)},className:"text-xs text-blue-400 hover:underline mt-1 flex items-center gap-1",children:l.jsx("span",{children:"+ Add Attribute"})})]}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("button",{onClick:()=>{const Ne=[...s];Ne.splice(he,1),a(Ne)},className:"text-xs text-red-400 hover:underline",children:"Remove"})})]},he))})]})}),l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx("button",{onClick:re,disabled:i,className:"flex-1 py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:i?"Uploading...":"Publish NFTs"}),l.jsxs("button",{onClick:()=>O(!B),className:"px-4 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white text-sm font-semibold transition-all duration-200 shadow-md hover:shadow-lg",title:"Show performance statistics",children:[l.jsx(qd,{size:16,className:"inline mr-1"}),"Stats"]}),l.jsxs("button",{onClick:()=>G(!z),className:"px-4 py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-sm font-semibold transition-all duration-200 shadow-md hover:shadow-lg",title:"Show optimization status",children:[l.jsx(pv,{size:16,className:"inline mr-1"}),"Optimizations"]})]}),s.length>50&&l.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-900/20 to-purple-900/20 border border-blue-500/30 rounded-2xl backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[l.jsx("span",{className:"text-lg",children:"🚀"}),l.jsx("span",{className:"font-semibold",children:"Advanced Performance Optimization Active"})]}),l.jsxs("p",{className:"text-sm text-blue-300 mb-3",children:["Large upload detected (",s.length," files). Using cutting-edge optimizations for maximum performance."]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[l.jsxs("div",{className:"bg-blue-900/30 p-3 rounded-xl border border-blue-500/20",children:[l.jsx("div",{className:"text-blue-400 font-medium",children:"Web Worker"}),l.jsx("div",{className:"text-blue-300",children:fa?"✅ Active":"❌ Fallback"})]}),l.jsxs("div",{className:"bg-purple-900/30 p-3 rounded-xl border border-purple-500/20",children:[l.jsx("div",{className:"text-purple-400 font-medium",children:"Streaming"}),l.jsx("div",{className:"text-purple-300",children:s.some(oe=>oe.file.size>10*1024*1024)?"✅ Large Files":"⚡ Optimized"})]}),l.jsxs("div",{className:"bg-green-900/30 p-3 rounded-xl border border-green-500/20",children:[l.jsx("div",{className:"text-green-400 font-medium",children:"Advanced Cache"}),l.jsx("div",{className:"text-green-300",children:"✅ Active"})]}),l.jsxs("div",{className:"bg-orange-900/30 p-3 rounded-xl border border-orange-500/20",children:[l.jsx("div",{className:"text-orange-400 font-medium",children:"Batch Size"}),l.jsxs("div",{className:"text-orange-300",children:[s.length>100?"10":"25"," files"]})]})]}),l.jsxs("div",{className:"mt-3 text-xs text-blue-400",children:["• Parallel processing: ",s.length>100?"Enabled":"Disabled","• Adaptive batching: Enabled • Compression: Enabled • Retry mechanism: Enabled"]})]}),Z.length>0&&l.jsxs("div",{className:"p-6 bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border border-yellow-500/30 rounded-2xl backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[l.jsx("span",{className:"text-lg",children:"📱"}),l.jsx("span",{className:"font-semibold",children:"Mobile Optimization"})]}),l.jsx("div",{className:"space-y-1 text-sm text-yellow-300",children:Z.map((oe,he)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"•"}),l.jsx("span",{children:oe})]},he))}),l.jsxs("div",{className:"mt-3 text-xs text-yellow-400",children:["Device: ",Vm.getDeviceInfo().screenSize," | Connection: ",Vm.getDeviceInfo().connectionSpeed," | Battery: ",Vm.getDeviceInfo().batteryLevel!==null?`${(Vm.getDeviceInfo().batteryLevel*100).toFixed(0)}%`:"Unknown"]})]}),l.jsxs("div",{className:"p-6 bg-zinc-800/50 border border-zinc-700/30 rounded-2xl backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Cache Statistics"}),l.jsx("button",{onClick:async()=>{const oe=If.getStats();console.log("📊 Cache stats:",oe),alert(`Cache Stats:
Hits: ${oe.hits}
Misses: ${oe.misses}
Hit Rate: ${oe.hitRate.toFixed(1)}%
Compression: ${oe.compressionRatio.toFixed(1)}%`)},className:"text-xs text-blue-400 hover:text-blue-300",children:"View Stats"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Items"}),l.jsx("div",{className:"text-white font-medium",id:"cache-items",children:"-"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Memory"}),l.jsx("div",{className:"text-white font-medium",id:"cache-memory",children:"-"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Hit Rate"}),l.jsx("div",{className:"text-white font-medium",id:"cache-hitrate",children:"-"})]})]})]}),b&&oz.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[10000] p-4",children:l.jsx("div",{ref:J,tabIndex:-1,className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",autoFocus:!0,children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[c===100?l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):l.jsx("div",{className:"mb-4",children:l.jsx(YC,{type:"uploading",size:"lg"})}),l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:c===100?"NFTs Uploaded!":"Uploading NFTs..."}),l.jsx("p",{className:"text-zinc-400 text-sm",children:c===100?"Your NFTs have been successfully uploaded to IPFS":"Please wait while we process your NFTs"})]}),c<100&&l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${c}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[c,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400",children:h})]}),H&&l.jsxs("div",{className:"mb-6 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm font-semibold text-white",children:"Batch Progress"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:I.current}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Batch"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-green-400",children:I.success}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Success"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-red-400",children:I.failed}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Failed"})]})]}),l.jsx("div",{className:"w-full h-2 bg-zinc-700/50 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-300",style:{width:`${I.current/I.total*100}%`}})})]})]}),c===100&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),l.jsxs("p",{className:"text-zinc-300 text-sm",children:[m.length," NFTs uploaded successfully",w.length>0&&`, ${w.length} failed`]})]}),l.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2 mb-6",children:[m.map((oe,he)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-900/20 border border-green-500/30 rounded-xl",children:[l.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx(qC,{size:16,className:"text-white"})}),l.jsx("span",{className:"text-sm text-green-400 font-medium",children:oe.name})]},he)),w.map((oe,he)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-900/20 border border-red-500/30 rounded-xl",children:[l.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:l.jsx(Yn,{size:16,className:"text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm text-red-400 font-medium",children:oe.name||`Unnamed #${he+1}`}),l.jsx("div",{className:"text-xs text-red-300",children:oe.reason||"failed"})]})]},`f-${he}`))]})]}),c===100&&l.jsxs("div",{className:"space-y-3",children:[w.length>0&&l.jsxs("button",{onClick:ie,className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold hover:from-orange-600 hover:to-red-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-orange-500/25",children:["Retry Failed Uploads (",w.length,")"]}),N&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{if(y(!1),e){const oe={type:"multiple",collection:t,nfts:m,failed:w,totalUploaded:m.length,totalFailed:w.length,timestamp:new Date().toISOString()};e(oe)}},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e?"Continue to Studio Dashboard":"Continue"]})]}),l.jsx("button",{onClick:()=>y(!1),className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]})]}),l.jsx("button",{onClick:()=>{c<100?V(!0):y(!1)},className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:24})})]})})}),document.body),l.jsx(she,{isVisible:B,onClose:()=>O(!1)}),l.jsx(ahe,{isVisible:z,onClose:()=>G(!1)}),l.jsx(XC,{isVisible:F,onConfirm:()=>{if(V(!1),y(!1),o(!1),u(0),f(""),$({current:0,total:0,success:0,failed:0}),g([]),x([]),fa){try{fa.terminate()}catch{}fa=null}},onCancel:()=>V(!1),title:"Cancel Upload Process",message:"Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over. This action cannot be undone."})]})},ghe=({collectionAddress:t,isReady:e})=>{const[n,r]=j.useState("single"),[s,a]=j.useState(null);j.useEffect(()=>{if(!t){a(null);return}try{const c=JSON.parse(localStorage.getItem(`collection_${t}`)||"null");if(c&&c.address){a(c);return}const u=JSON.parse(localStorage.getItem("dreava_collections")||"[]"),h=Array.isArray(u)?u.find(f=>f.address===t):null;if(h){a(h);return}a({address:t})}catch{a({address:t})}},[t]);const i=[{key:"single",label:"Single NFT"},{key:"multiple",label:"Multiple NFTs"}],o=()=>l.jsx("p",{className:"text-xs text-center text-zinc-500 mt-2",children:"⚠️ Draft is not yet published. If you clear browser data, it may be lost."});return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex gap-4 text-sm font-medium border-b border-zinc-700 mb-4",children:i.map(({key:c,label:u})=>l.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 transition-colors ${n===c?"border-b-2 border-pink-500 text-pink-500":"text-zinc-400 hover:text-white"}`,children:u},c))}),n==="single"&&l.jsxs(l.Fragment,{children:[l.jsx(fL,{collection:s}),l.jsx(o,{})]}),n==="multiple"&&l.jsxs(l.Fragment,{children:[l.jsx(gL,{collection:s}),l.jsx(o,{})]})]})},yhe="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",bhe=["https://dream-rpc.somnia.network/","https://rpc.ankr.com/somnia_testnet"];async function S_(t,e){const n=new AbortController,r=setTimeout(()=>n.abort(),e);try{const s=await t(n);return clearTimeout(r),s}catch(s){throw clearTimeout(r),s}}async function _4(t){for(const e of bhe)try{const n=new In(e);return await t(n)}catch{}throw new Error("All RPC endpoints failed")}function yL(t){return`dreava_user_collections_${(t||"").toLowerCase()}`}function whe(t){try{const e=localStorage.getItem(yL(t));if(!e)return null;const n=JSON.parse(e);return!n||!Array.isArray(n.collections)||!n.ts?null:n}catch{return null}}function vhe(t,e){try{const n={ts:Date.now(),collections:e};localStorage.setItem(yL(t),JSON.stringify(n))}catch{}}function A_(t,e){const n=new Map;for(const r of[...t||[],...e||[]]){if(!r||!r.address)continue;const s=r.address.toLowerCase();n.has(s)||n.set(s,r)}return Array.from(n.values())}const xhe=async t=>{for(const e of t)try{const n=await fetch(e);if(n.ok)return await n.json()}catch{}throw new Error("Failed to fetch metadata")},Nhe=({cover:t,firstNFTImage:e})=>{if(t){const n=Ln(t)[0]||dr;return l.jsx("img",{src:n,alt:"cover",className:"w-8 h-8 object-cover rounded-md border border-zinc-600",loading:"lazy",onError:r=>{console.warn("⚠️ Collection cover failed to load:",r.target.src),e&&e!==r.target.src?r.target.src=e:r.target.src=dr}})}return e?l.jsx("img",{src:e,alt:"NFT",className:"w-8 h-8 object-cover rounded-md border border-zinc-600",loading:"lazy",onError:n=>{console.warn("⚠️ Collection NFT image failed to load:",n.target.src),n.target.src=dr}}):l.jsx("img",{src:dr,alt:"logo",className:"w-8 h-8 object-cover rounded-md border border-zinc-600 opacity-50"})},g6=({selected:t,onSelect:e,showCreateButton:n=!0,onCreateNew:r})=>{const[s,a]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState("bottom"),h=Xr();j.useEffect(()=>{(async()=>{try{let b=null;if(window.ethereum)try{const A=await window.ethereum.request({method:"eth_accounts"});A&&A.length>0&&(b=A[0])}catch(A){console.warn("Could not get user address from wallet:",A)}if(!b){console.warn("No user address available, cannot load collections"),a([]);return}const y=whe(b),w=JSON.parse(localStorage.getItem("dreava_collections")||"[]");if(y&&Array.isArray(y.collections)){const A=A_(y.collections,w);a(A)}else w.length>0&&a(w);const x=await _4(async A=>await new Pt(yhe,Rp,A).getUserCollections(b)),N=4,E=[];for(let A=0;A<x.length;A+=N){const _=x.slice(A,A+N).map(async I=>{const $={address:I,name:`${I.slice(0,6)}...${I.slice(-4)}`,cover:dr,description:""};try{const H=await S_(async z=>await _4(async G=>await new Pt(I,Rn,G).name({signal:z.signal})),5e3).catch(()=>$.name);let M=$.cover,B="";const O=await S_(async z=>await _4(async G=>await new Pt(I,Rn,G).contractURI({signal:z.signal})),5e3).catch(()=>"");if(O){const z=Ln(O);try{const G=await xhe(z);G.image&&(M=Ln(G.image)[0]||M),G.description&&(B=String(G.description))}catch{}}return{address:I,name:H,cover:M||dr,description:B}}catch(H){return console.error(`Error processing contract ${I}:`,H),$}}),P=await Promise.all(_);E.push(...P)}const C=E.filter(A=>A!==null),k=A_(C,w);vhe(b,k),a(k)}catch(b){console.error("Failed to load collections:",b)}})()},[]);const f=b=>{o(!1),e(b)},m=()=>{o(!1),r?r():h("/create-dreams")},g=()=>{if(!i){const b=document.querySelector("[data-collection-selector]");if(b){const y=b.getBoundingClientRect(),w=window.innerHeight-y.bottom,x=y.top;w<200&&x>w?u("top"):u("bottom")}}o(!i)};return l.jsxs("div",{className:"relative w-full max-w-sm",children:[l.jsxs("button",{onClick:g,className:"w-full flex justify-between items-center bg-zinc-900 border border-zinc-700 rounded-xl px-4 py-3 text-white text-sm font-medium hover:border-pink-500 transition","data-collection-selector":!0,children:[t?.name||"Select collection",l.jsx("span",{className:"ml-2 text-zinc-400",children:"▾"})]}),i&&l.jsxs("div",{className:`absolute w-full bg-zinc-800 border border-zinc-700 rounded-xl shadow-lg z-50 overflow-hidden divide-y divide-zinc-700 max-h-48 overflow-y-auto ${c==="top"?"bottom-full mb-2":"top-full mt-2"}`,children:[n&&l.jsx("button",{onClick:m,className:"block w-full text-left px-4 py-3 text-pink-400 hover:bg-zinc-700 text-sm font-medium",children:"+ Create new collection"}),s.map((b,y)=>l.jsxs("button",{onClick:()=>f(b),className:"flex items-center gap-3 px-4 py-2 w-full hover:bg-zinc-700 text-sm text-white",children:[l.jsx(Nhe,{cover:b.cover,firstNFTImage:b.firstNFTImage}),l.jsx("span",{className:"truncate max-w-[160px] font-medium",children:b.name})]},b.address+y))]})]})},khe=()=>{const[t,e]=j.useState(null);return l.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-10 text-white space-y-8",children:[l.jsx("div",{className:"space-y-4",children:l.jsx(g6,{selected:t,onSelect:e})}),l.jsx("div",{className:`rounded-2xl transition-all p-6 border bg-zinc-900 border-zinc-800 shadow-lg ${t?"":"opacity-30 pointer-events-none select-none blur-sm"}`,children:l.jsx(ghe,{collectionAddress:t?.address,isReady:!!t})})]})},bL=typeof document<"u"?Ke.useLayoutEffect:()=>{};var P4;const Che=(P4=Ke.useInsertionEffect)!==null&&P4!==void 0?P4:bL;function Ehe(t){const e=j.useRef(null);return Che(()=>{e.current=t},[t]),j.useCallback((...n)=>{const r=e.current;return r?.(...n)},[])}const eu=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},wd=t=>t&&"window"in t&&t.window===t?t:eu(t).defaultView||window;function wL(t,e){return e&&t?t.contains(e):!1}const y6=(t=document)=>t.activeElement;function vL(t){return t.target}function xL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=xL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function NL(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=xL(t))&&(r&&(r+=" "),r+=e);return r}function She(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function Ahe(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function kL(t){let e=null;return()=>(e==null&&(e=t()),e)}const jhe=kL(function(){return Ahe(/^Mac/i)}),The=kL(function(){return She(/Android/i)});function CL(){let t=j.useRef(new Map),e=j.useCallback((s,a,i,o)=>{let c=o?.once?(...u)=>{t.current.delete(i),i(...u)}:i;t.current.set(i,{type:a,eventTarget:s,fn:c,options:o}),s.addEventListener(a,c,o)},[]),n=j.useCallback((s,a,i,o)=>{var c;let u=((c=t.current.get(i))===null||c===void 0?void 0:c.fn)||i;s.removeEventListener(a,u,o),t.current.delete(i)},[]),r=j.useCallback(()=>{t.current.forEach((s,a)=>{n(s.eventTarget,s.type,a,s.options)})},[n]);return j.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function Ihe(t){return t.mozInputSource===0&&t.isTrusted?!0:The()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function EL(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function _he(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function SL(t){let e=j.useRef({isFocused:!1,observer:null});bL(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Ehe(r=>{t?.(r)});return j.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=r.target,a=i=>{if(e.current.isFocused=!1,s.disabled){let o=EL(i);n(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var i;(i=e.current.observer)===null||i===void 0||i.disconnect();let o=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Phe=!1,ky=null,b6=new Set,ag=new Map,Kd=!1,w6=!1;const Ohe={Tab:!0,Escape:!0};function eE(t,e){for(let n of b6)n(t,e)}function Rhe(t){return!(t.metaKey||!jhe()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function vv(t){Kd=!0,Rhe(t)&&(ky="keyboard",eE("keyboard",t))}function Hf(t){ky="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Kd=!0,eE("pointer",t))}function AL(t){Ihe(t)&&(Kd=!0,ky="virtual")}function jL(t){t.target===window||t.target===document||Phe||!t.isTrusted||(!Kd&&!w6&&(ky="virtual",eE("virtual",t)),Kd=!1,w6=!1)}function TL(){Kd=!1,w6=!0}function v6(t){if(typeof window>"u"||typeof document>"u"||ag.get(wd(t)))return;const e=wd(t),n=eu(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Kd=!0,r.apply(this,arguments)},n.addEventListener("keydown",vv,!0),n.addEventListener("keyup",vv,!0),n.addEventListener("click",AL,!0),e.addEventListener("focus",jL,!0),e.addEventListener("blur",TL,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Hf,!0),n.addEventListener("pointermove",Hf,!0),n.addEventListener("pointerup",Hf,!0)),e.addEventListener("beforeunload",()=>{IL(t)},{once:!0}),ag.set(e,{focus:r})}const IL=(t,e)=>{const n=wd(t),r=eu(t);e&&r.removeEventListener("DOMContentLoaded",e),ag.has(n)&&(n.HTMLElement.prototype.focus=ag.get(n).focus,r.removeEventListener("keydown",vv,!0),r.removeEventListener("keyup",vv,!0),r.removeEventListener("click",AL,!0),n.removeEventListener("focus",jL,!0),n.removeEventListener("blur",TL,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Hf,!0),r.removeEventListener("pointermove",Hf,!0),r.removeEventListener("pointerup",Hf,!0)),ag.delete(n))};function $he(t){const e=eu(t);let n;return e.readyState!=="loading"?v6(t):(n=()=>{v6(t)},e.addEventListener("DOMContentLoaded",n)),()=>IL(t,n)}typeof document<"u"&&$he();function _L(){return ky!=="pointer"}const Mhe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function zhe(t,e,n){let r=eu(n?.target);const s=typeof window<"u"?wd(n?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?wd(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?wd(n?.target).HTMLElement:HTMLElement,o=typeof window<"u"?wd(n?.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof s&&!Mhe.has(r.activeElement.type)||r.activeElement instanceof a||r.activeElement instanceof i&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof o&&!Ohe[n.key])}function Lhe(t,e,n){v6(),j.useEffect(()=>{let r=(s,a)=>{zhe(!!n?.isTextInput,s,a)&&t(_L())};return b6.add(r),()=>{b6.delete(r)}},e)}function Bhe(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:s}=t;const a=j.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),i=SL(a),o=j.useCallback(c=>{const u=eu(c.target),h=u?y6(u):y6();c.target===c.currentTarget&&h===vL(c.nativeEvent)&&(n&&n(c),s&&s(!0),i(c))},[s,n,i]);return{focusProps:{onFocus:!e&&(n||s||r)?o:void 0,onBlur:!e&&(r||s)?a:void 0}}}function Fhe(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=t,a=j.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:o}=CL(),c=j.useCallback(f=>{f.currentTarget.contains(f.target)&&a.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(a.current.isFocusWithin=!1,o(),n&&n(f),s&&s(!1))},[n,s,a,o]),u=SL(c),h=j.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const m=eu(f.target),g=y6(m);if(!a.current.isFocusWithin&&g===vL(f.nativeEvent)){r&&r(f),s&&s(!0),a.current.isFocusWithin=!0,u(f);let b=f.currentTarget;i(m,"focus",y=>{if(a.current.isFocusWithin&&!wL(b,y.target)){let w=new m.defaultView.FocusEvent("blur",{relatedTarget:y.target});_he(w,b);let x=EL(w);c(x)}},{capture:!0})}},[r,s,u,i,c]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let x6=!1,p1=0;function Uhe(){x6=!0,setTimeout(()=>{x6=!1},50)}function j_(t){t.pointerType==="touch"&&Uhe()}function Dhe(){if(!(typeof document>"u"))return p1===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",j_),p1++,()=>{p1--,!(p1>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",j_)}}function Whe(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:s}=t,[a,i]=j.useState(!1),o=j.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;j.useEffect(Dhe,[]);let{addGlobalListener:c,removeAllGlobalListeners:u}=CL(),{hoverProps:h,triggerHoverEnd:f}=j.useMemo(()=>{let m=(y,w)=>{if(o.pointerType=w,s||w==="touch"||o.isHovered||!y.currentTarget.contains(y.target))return;o.isHovered=!0;let x=y.currentTarget;o.target=x,c(eu(y.target),"pointerover",N=>{o.isHovered&&o.target&&!wL(o.target,N.target)&&g(N,N.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:x,pointerType:w}),n&&n(!0),i(!0)},g=(y,w)=>{let x=o.target;o.pointerType="",o.target=null,!(w==="touch"||!o.isHovered||!x)&&(o.isHovered=!1,u(),r&&r({type:"hoverend",target:x,pointerType:w}),n&&n(!1),i(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=y=>{x6&&y.pointerType==="mouse"||m(y,y.pointerType)},b.onPointerLeave=y=>{!s&&y.currentTarget.contains(y.target)&&g(y,y.pointerType)}),{hoverProps:b,triggerHoverEnd:g}},[e,n,r,s,o,c,u]);return j.useEffect(()=>{s&&f({currentTarget:o.target},o.pointerType)},[s]),{hoverProps:h,isHovered:a}}function Hhe(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,s=j.useRef({isFocused:!1,isFocusVisible:e||_L()}),[a,i]=j.useState(!1),[o,c]=j.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=j.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),h=j.useCallback(g=>{s.current.isFocused=g,i(g),u()},[u]);Lhe(g=>{s.current.isFocusVisible=g,u()},[],{isTextInput:n});let{focusProps:f}=Bhe({isDisabled:r,onFocusChange:h}),{focusWithinProps:m}=Fhe({isDisabled:!r,onFocusWithinChange:h});return{isFocused:a,isFocusVisible:o,focusProps:r?m:f}}var Ghe=Object.defineProperty,qhe=(t,e,n)=>e in t?Ghe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O4=(t,e,n)=>(qhe(t,typeof e!="symbol"?e+"":e,n),n);let Vhe=class{constructor(){O4(this,"current",this.detect()),O4(this,"handoffState","pending"),O4(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},PL=new Vhe;function Zhe(t){var e,n;return PL.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Khe(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function OL(){let t=[],e={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),e.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Khe(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=OL();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function tE(){let[t]=j.useState(OL);return j.useEffect(()=>()=>t.dispose(),[t]),t}let nE=(t,e)=>{PL.isServer?j.useEffect(t,e):j.useLayoutEffect(t,e)};function Qhe(t){let e=j.useRef(t);return nE(()=>{e.current=t},[t]),e}let gi=function(t){let e=Qhe(t);return Ke.useCallback((...n)=>e.current(...n),[e])};function Jhe(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function Yhe(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Xhe({disabled:t=!1}={}){let e=j.useRef(null),[n,r]=j.useState(!1),s=tE(),a=gi(()=>{e.current=null,r(!1),s.dispose()}),i=gi(o=>{if(s.dispose(),e.current===null){e.current=o.currentTarget,r(!0);{let c=Zhe(o.currentTarget);s.addEventListener(c,"pointerup",a,!1),s.addEventListener(c,"pointermove",u=>{if(e.current){let h=Jhe(u);r(Yhe(h,e.current.getBoundingClientRect()))}},!1),s.addEventListener(c,"pointercancel",a,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:i,onPointerUp:a,onClick:a}}}let efe=j.createContext(void 0);function rE(){return j.useContext(efe)}function T_(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function RL(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,RL),r}var tfe=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(tfe||{}),nfe=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(nfe||{});function Cy(){let t=sfe();return j.useCallback(e=>rfe({mergeRefs:t,...e}),[t])}function rfe({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:a=!0,name:i,mergeRefs:o}){o=o??afe;let c=$L(e,t);if(a)return m1(c,n,r,i,o);let u=s??0;if(u&2){let{static:h=!1,...f}=c;if(h)return m1(f,n,r,i,o)}if(u&1){let{unmount:h=!0,...f}=c;return RL(h?0:1,{0(){return null},1(){return m1({...f,hidden:!0,style:{display:"none"}},n,r,i,o)}})}return m1(c,n,r,i,o)}function m1(t,e={},n,r,s){let{as:a=n,children:i,refName:o="ref",...c}=R4(t,["unmount","static"]),u=t.ref!==void 0?{[o]:t.ref}:{},h=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(e){let m=!1,g=[];for(let[b,y]of Object.entries(e))typeof y=="boolean"&&(m=!0),y===!0&&g.push(b.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(m){f["data-headlessui-state"]=g.join(" ");for(let b of g)f[`data-${b}`]=""}}if(a===j.Fragment&&(Object.keys(Ju(c)).length>0||Object.keys(Ju(f)).length>0))if(!j.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(Ju(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ju(c)).concat(Object.keys(Ju(f))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=h.props,g=m?.className,b=typeof g=="function"?(...x)=>T_(g(...x),c.className):T_(g,c.className),y=b?{className:b}:{},w=$L(h.props,Ju(R4(c,["ref"])));for(let x in f)x in w&&delete f[x];return j.cloneElement(h,Object.assign({},w,f,u,{ref:s(ofe(h),u.ref)},y))}return j.createElement(a,Object.assign({},R4(c,["ref"]),a!==j.Fragment&&u,a!==j.Fragment&&f),h)}function sfe(){let t=j.useRef([]),e=j.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function afe(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function $L(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var a;return(a=s?.preventDefault)==null?void 0:a.call(s)}]);for(let r in n)Object.assign(e,{[r](s,...a){let i=n[r];for(let o of i){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;o(s,...a)}}});return e}function ife(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];for(let r in n)Object.assign(e,{[r](...s){let a=n[r];for(let i of a)i?.(...s)}});return e}function Nx(t){var e;return Object.assign(j.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Ju(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function R4(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function ofe(t){return Ke.version.split(".")[0]>="19"?t.props.ref:t.ref}function lfe(t,e,n){let[r,s]=j.useState(n),a=t!==void 0,i=j.useRef(a),o=j.useRef(!1),c=j.useRef(!1);return a&&!i.current&&!o.current?(o.current=!0,i.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&i.current&&!c.current&&(c.current=!0,i.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?t:r,gi(u=>(a||s(u),e?.(u)))]}function cfe(t){let[e]=j.useState(t);return e}function ML(t={},e=null,n=[]){for(let[r,s]of Object.entries(t))LL(n,zL(e,r),s);return n}function zL(t,e){return t?t+"["+e+"]":e}function LL(t,e,n){if(Array.isArray(n))for(let[r,s]of n.entries())LL(t,zL(e,r.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):ML(n,e,t)}function ufe(t){var e,n;let r=(e=t?.form)!=null?e:t.closest("form");if(r){for(let s of r.elements)if(s!==t&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(n=r.requestSubmit)==null||n.call(r)}}let dfe="span";var sE=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(sE||{});function hfe(t,e){var n;let{features:r=1,...s}=t,a={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Cy()({ourProps:a,theirProps:s,slot:{},defaultTag:dfe,name:"Hidden"})}let BL=Nx(hfe),ffe=j.createContext(null);function pfe({children:t}){let e=j.useContext(ffe);if(!e)return Ke.createElement(Ke.Fragment,null,t);let{target:n}=e;return n?io.createPortal(Ke.createElement(Ke.Fragment,null,t),n):null}function mfe({data:t,form:e,disabled:n,onReset:r,overrides:s}){let[a,i]=j.useState(null),o=tE();return j.useEffect(()=>{if(r&&a)return o.addEventListener(a,"reset",r)},[a,e,r]),Ke.createElement(pfe,null,Ke.createElement(gfe,{setForm:i,formId:e}),ML(t).map(([c,u])=>Ke.createElement(BL,{features:sE.Hidden,...Ju({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:c,value:u,...s})})))}function gfe({setForm:t,formId:e}){return j.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:Ke.createElement(BL,{features:sE.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let yfe=j.createContext(void 0);function FL(){return j.useContext(yfe)}function bfe(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function UL(t){return bfe(t)&&"tagName"in t}function kx(t){return UL(t)&&"accessKey"in t}function wfe(t){return kx(t)&&t.nodeName==="INPUT"}function N6(t){return kx(t)&&t.nodeName==="LABEL"}function vfe(t){return kx(t)&&t.nodeName==="FIELDSET"}function DL(t){return kx(t)&&t.nodeName==="LEGEND"}function xfe(t){return UL(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Nfe(t){let e=t.parentElement,n=null;for(;e&&!vfe(e);)DL(e)&&(n=e),e=e.parentElement;let r=e?.getAttribute("disabled")==="";return r&&kfe(n)?!1:r}function kfe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(DL(e))return!1;e=e.previousElementSibling}return!0}let Cfe=Symbol();function aE(...t){let e=j.useRef(t);j.useEffect(()=>{e.current=t},[t]);let n=gi(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||r?.[Cfe])?void 0:n}let Cx=j.createContext(null);Cx.displayName="DescriptionContext";function WL(){let t=j.useContext(Cx);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,WL),e}return t}function Efe(){var t,e;return(e=(t=j.useContext(Cx))==null?void 0:t.value)!=null?e:void 0}function Sfe(){let[t,e]=j.useState([]);return[t.length>0?t.join(" "):void 0,j.useMemo(()=>function(n){let r=gi(a=>(e(i=>[...i,a]),()=>e(i=>{let o=i.slice(),c=o.indexOf(a);return c!==-1&&o.splice(c,1),o}))),s=j.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ke.createElement(Cx.Provider,{value:s},n.children)},[e])]}let Afe="p";function jfe(t,e){let n=j.useId(),r=rE(),{id:s=`headlessui-description-${n}`,...a}=t,i=WL(),o=aE(e);nE(()=>i.register(s),[s,i.register]);let c=r||!1,u=j.useMemo(()=>({...i.slot,disabled:c}),[i.slot,c]),h={ref:o,...i.props,id:s};return Cy()({ourProps:h,theirProps:a,slot:u,defaultTag:Afe,name:i.name||"Description"})}let Tfe=Nx(jfe),Ife=Object.assign(Tfe,{});var k6=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(k6||{});let Ex=j.createContext(null);Ex.displayName="LabelContext";function HL(){let t=j.useContext(Ex);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,HL),e}return t}function GL(t){var e,n,r;let s=(n=(e=j.useContext(Ex))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...t].filter(Boolean).join(" "):s}function _fe({inherit:t=!1}={}){let e=GL(),[n,r]=j.useState([]),s=t?[e,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,j.useMemo(()=>function(a){let i=gi(c=>(r(u=>[...u,c]),()=>r(u=>{let h=u.slice(),f=h.indexOf(c);return f!==-1&&h.splice(f,1),h}))),o=j.useMemo(()=>({register:i,slot:a.slot,name:a.name,props:a.props,value:a.value}),[i,a.slot,a.name,a.props,a.value]);return Ke.createElement(Ex.Provider,{value:o},a.children)},[r])]}let Pfe="label";function Ofe(t,e){var n;let r=j.useId(),s=HL(),a=FL(),i=rE(),{id:o=`headlessui-label-${r}`,htmlFor:c=a??((n=s.props)==null?void 0:n.htmlFor),passive:u=!1,...h}=t,f=aE(e);nE(()=>s.register(o),[o,s.register]);let m=gi(w=>{let x=w.currentTarget;if(!(w.target!==w.currentTarget&&xfe(w.target))&&(N6(x)&&w.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(w),N6(x))){let N=document.getElementById(x.htmlFor);if(N){let E=N.getAttribute("disabled");if(E==="true"||E==="")return;let C=N.getAttribute("aria-disabled");if(C==="true"||C==="")return;(wfe(N)&&(N.type==="file"||N.type==="radio"||N.type==="checkbox")||N.role==="radio"||N.role==="checkbox"||N.role==="switch")&&N.click(),N.focus({preventScroll:!0})}}}),g=i||!1,b=j.useMemo(()=>({...s.slot,disabled:g}),[s.slot,g]),y={ref:f,...s.props,id:o,htmlFor:c,onClick:m};return u&&("onClick"in y&&(delete y.htmlFor,delete y.onClick),"onClick"in h&&delete h.onClick),Cy()({ourProps:y,theirProps:h,slot:b,defaultTag:c?Pfe:"div",name:s.name||"Label"})}let Rfe=Nx(Ofe),$fe=Object.assign(Rfe,{});function Mfe(t,e){return j.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Sx(){return typeof window<"u"}function $p(t){return qL(t)?(t.nodeName||"").toLowerCase():"#document"}function pa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bo(t){var e;return(e=(qL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function qL(t){return Sx()?t instanceof Node||t instanceof pa(t).Node:!1}function Si(t){return Sx()?t instanceof Element||t instanceof pa(t).Element:!1}function go(t){return Sx()?t instanceof HTMLElement||t instanceof pa(t).HTMLElement:!1}function I_(t){return!Sx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pa(t).ShadowRoot}const zfe=new Set(["inline","contents"]);function Ey(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ai(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zfe.has(s)}const Lfe=new Set(["table","td","th"]);function Bfe(t){return Lfe.has($p(t))}const Ffe=[":popover-open",":modal"];function Ax(t){return Ffe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Ufe=["transform","translate","scale","rotate","perspective"],Dfe=["transform","translate","scale","rotate","perspective","filter"],Wfe=["paint","layout","strict","content"];function iE(t){const e=oE(),n=Si(t)?Ai(t):t;return Ufe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Dfe.some(r=>(n.willChange||"").includes(r))||Wfe.some(r=>(n.contain||"").includes(r))}function Hfe(t){let e=Zc(t);for(;go(e)&&!gp(e);){if(iE(e))return e;if(Ax(e))return null;e=Zc(e)}return null}function oE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gfe=new Set(["html","body","#document"]);function gp(t){return Gfe.has($p(t))}function Ai(t){return pa(t).getComputedStyle(t)}function jx(t){return Si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zc(t){if($p(t)==="html")return t;const e=t.assignedSlot||t.parentNode||I_(t)&&t.host||bo(t);return I_(e)?e.host:e}function VL(t){const e=Zc(t);return gp(e)?t.ownerDocument?t.ownerDocument.body:t.body:go(e)&&Ey(e)?e:VL(e)}function qg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=VL(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),i=pa(s);if(a){const o=C6(i);return e.concat(i,i.visualViewport||[],Ey(s)?s:[],o&&n?qg(o):[])}return e.concat(s,qg(s,[],n))}function C6(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const qfe=["top","right","bottom","left"],Kc=Math.min,da=Math.max,xv=Math.round,g1=Math.floor,lo=t=>({x:t,y:t}),Vfe={left:"right",right:"left",bottom:"top",top:"bottom"},Zfe={start:"end",end:"start"};function E6(t,e,n){return da(t,Kc(e,n))}function gl(t,e){return typeof t=="function"?t(e):t}function yl(t){return t.split("-")[0]}function Mp(t){return t.split("-")[1]}function lE(t){return t==="x"?"y":"x"}function cE(t){return t==="y"?"height":"width"}const Kfe=new Set(["top","bottom"]);function no(t){return Kfe.has(yl(t))?"y":"x"}function uE(t){return lE(no(t))}function Qfe(t,e,n){n===void 0&&(n=!1);const r=Mp(t),s=uE(t),a=cE(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(i=Nv(i)),[i,Nv(i)]}function Jfe(t){const e=Nv(t);return[S6(t),e,S6(e)]}function S6(t){return t.replace(/start|end/g,e=>Zfe[e])}const __=["left","right"],P_=["right","left"],Yfe=["top","bottom"],Xfe=["bottom","top"];function epe(t,e,n){switch(t){case"top":case"bottom":return n?e?P_:__:e?__:P_;case"left":case"right":return e?Yfe:Xfe;default:return[]}}function tpe(t,e,n,r){const s=Mp(t);let a=epe(yl(t),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),e&&(a=a.concat(a.map(S6)))),a}function Nv(t){return t.replace(/left|right|bottom|top/g,e=>Vfe[e])}function npe(t){return{top:0,right:0,bottom:0,left:0,...t}}function ZL(t){return typeof t!="number"?npe(t):{top:t,right:t,bottom:t,left:t}}function kv(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function O_(t,e,n){let{reference:r,floating:s}=t;const a=no(e),i=uE(e),o=cE(i),c=yl(e),u=a==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[o]/2-s[o]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Mp(e)){case"start":g[i]-=m*(n&&u?-1:1);break;case"end":g[i]+=m*(n&&u?-1:1);break}return g}const rpe=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,o=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=O_(u,r,c),m=r,g={},b=0;for(let y=0;y<o.length;y++){const{name:w,fn:x}=o[y],{x:N,y:E,data:C,reset:k}=await x({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:t,floating:e}});h=N??h,f=E??f,g={...g,[w]:{...g[w],...C}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:h,y:f}=O_(u,m,c)),y=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function Vg(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:i,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=gl(e,t),b=ZL(g),y=o[m?f==="floating"?"reference":"floating":f],w=kv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:c})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),E=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},C=kv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:N,strategy:c}):x);return{top:(w.top-C.top+b.top)/E.y,bottom:(C.bottom-w.bottom+b.bottom)/E.y,left:(w.left-C.left+b.left)/E.x,right:(C.right-w.right+b.right)/E.x}}const spe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:i,elements:o,middlewareData:c}=e,{element:u,padding:h=0}=gl(t,e)||{};if(u==null)return{};const f=ZL(h),m={x:n,y:r},g=uE(s),b=cE(g),y=await i.getDimensions(u),w=g==="y",x=w?"top":"left",N=w?"bottom":"right",E=w?"clientHeight":"clientWidth",C=a.reference[b]+a.reference[g]-m[g]-a.floating[b],k=m[g]-a.reference[g],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=A?A[E]:0;(!_||!await(i.isElement==null?void 0:i.isElement(A)))&&(_=o.floating[E]||a.floating[b]);const P=C/2-k/2,I=_/2-y[b]/2-1,$=Kc(f[x],I),H=Kc(f[N],I),M=$,B=_-y[b]-H,O=_/2-y[b]/2+P,z=E6(M,O,B),G=!c.arrow&&Mp(s)!=null&&O!==z&&a.reference[b]/2-(O<M?$:H)-y[b]/2<0,Z=G?O<M?O-M:O-B:0;return{[g]:m[g]+Z,data:{[g]:z,centerOffset:O-z-Z,...G&&{alignmentOffset:Z}},reset:G}}}),ape=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=gl(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=yl(s),N=no(o),E=yl(o)===o,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=m||(E||!y?[Nv(o)]:Jfe(o)),A=b!=="none";!m&&A&&k.push(...tpe(o,y,b,C));const _=[o,...k],P=await Vg(e,w),I=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&I.push(P[x]),f){const O=Qfe(s,i,C);I.push(P[O[0]],P[O[1]])}if($=[...$,{placement:s,overflows:I}],!I.every(O=>O<=0)){var H,M;const O=(((H=a.flip)==null?void 0:H.index)||0)+1,z=_[O];if(z&&(!(f==="alignment"&&N!==no(z))||$.every(Z=>no(Z.placement)===N?Z.overflows[0]>0:!0)))return{data:{index:O,overflows:$},reset:{placement:z}};let G=(M=$.filter(Z=>Z.overflows[0]<=0).sort((Z,D)=>Z.overflows[1]-D.overflows[1])[0])==null?void 0:M.placement;if(!G)switch(g){case"bestFit":{var B;const Z=(B=$.filter(D=>{if(A){const K=no(D.placement);return K===N||K==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(K=>K>0).reduce((K,ee)=>K+ee,0)]).sort((D,K)=>D[1]-K[1])[0])==null?void 0:B[0];Z&&(G=Z);break}case"initialPlacement":G=o;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function R_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $_(t){return qfe.some(e=>t[e]>=0)}const ipe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=gl(t,e);switch(r){case"referenceHidden":{const a=await Vg(e,{...s,elementContext:"reference"}),i=R_(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:$_(i)}}}case"escaped":{const a=await Vg(e,{...s,altBoundary:!0}),i=R_(a,n.floating);return{data:{escapedOffsets:i,escaped:$_(i)}}}default:return{}}}}},KL=new Set(["left","top"]);async function ope(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=yl(n),o=Mp(n),c=no(n)==="y",u=KL.has(i)?-1:1,h=a&&c?-1:1,f=gl(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof b=="number"&&(g=o==="end"?b*-1:b),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const lpe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:i,middlewareData:o}=e,c=await ope(e,t);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},cpe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:w=>{let{x,y:N}=w;return{x,y:N}}},...c}=gl(t,e),u={x:n,y:r},h=await Vg(e,c),f=no(yl(s)),m=lE(f);let g=u[m],b=u[f];if(a){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",N=g+h[w],E=g-h[x];g=E6(N,g,E)}if(i){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",N=b+h[w],E=b-h[x];b=E6(N,b,E)}const y=o.fn({...e,[m]:g,[f]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:a,[f]:i}}}}}},upe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=gl(t,e),h={x:n,y:r},f=no(s),m=lE(f);let g=h[m],b=h[f];const y=gl(o,e),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const E=m==="y"?"height":"width",C=a.reference[m]-a.floating[E]+w.mainAxis,k=a.reference[m]+a.reference[E]-w.mainAxis;g<C?g=C:g>k&&(g=k)}if(u){var x,N;const E=m==="y"?"width":"height",C=KL.has(yl(s)),k=a.reference[f]-a.floating[E]+(C&&((x=i.offset)==null?void 0:x[f])||0)+(C?0:w.crossAxis),A=a.reference[f]+a.reference[E]+(C?0:((N=i.offset)==null?void 0:N[f])||0)-(C?w.crossAxis:0);b<k?b=k:b>A&&(b=A)}return{[m]:g,[f]:b}}}},dpe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:i,elements:o}=e,{apply:c=()=>{},...u}=gl(t,e),h=await Vg(e,u),f=yl(s),m=Mp(s),g=no(s)==="y",{width:b,height:y}=a.floating;let w,x;f==="top"||f==="bottom"?(w=f,x=m===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(x=f,w=m==="end"?"top":"bottom");const N=y-h.top-h.bottom,E=b-h.left-h.right,C=Kc(y-h[w],N),k=Kc(b-h[x],E),A=!e.middlewareData.shift;let _=C,P=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(_=N),A&&!m){const $=da(h.left,0),H=da(h.right,0),M=da(h.top,0),B=da(h.bottom,0);g?P=b-2*($!==0||H!==0?$+H:da(h.left,h.right)):_=y-2*(M!==0||B!==0?M+B:da(h.top,h.bottom))}await c({...e,availableWidth:P,availableHeight:_});const I=await i.getDimensions(o.floating);return b!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function QL(t){const e=Ai(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=go(t),a=s?t.offsetWidth:n,i=s?t.offsetHeight:r,o=xv(n)!==a||xv(r)!==i;return o&&(n=a,r=i),{width:n,height:r,$:o}}function dE(t){return Si(t)?t:t.contextElement}function Gf(t){const e=dE(t);if(!go(e))return lo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=QL(e);let i=(a?xv(n.width):n.width)/r,o=(a?xv(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const hpe=lo(0);function JL(t){const e=pa(t);return!oE()||!e.visualViewport?hpe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fpe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==pa(t)?!1:e}function Qd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=dE(t);let i=lo(1);e&&(r?Si(r)&&(i=Gf(r)):i=Gf(t));const o=fpe(a,n,r)?JL(a):lo(0);let c=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const m=pa(a),g=r&&Si(r)?pa(r):r;let b=m,y=C6(b);for(;y&&r&&g!==b;){const w=Gf(y),x=y.getBoundingClientRect(),N=Ai(y),E=x.left+(y.clientLeft+parseFloat(N.paddingLeft))*w.x,C=x.top+(y.clientTop+parseFloat(N.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,f*=w.y,c+=E,u+=C,b=pa(y),y=C6(b)}}return kv({width:h,height:f,x:c,y:u})}function hE(t,e){const n=jx(t).scrollLeft;return e?e.left+n:Qd(bo(t)).left+n}function YL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:hE(t,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function ppe(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",i=bo(r),o=e?Ax(e.floating):!1;if(r===i||o&&a)return n;let c={scrollLeft:0,scrollTop:0},u=lo(1);const h=lo(0),f=go(r);if((f||!f&&!a)&&(($p(r)!=="body"||Ey(i))&&(c=jx(r)),go(r))){const g=Qd(r);u=Gf(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=i&&!f&&!a?YL(i,c,!0):lo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function mpe(t){return Array.from(t.getClientRects())}function gpe(t){const e=bo(t),n=jx(t),r=t.ownerDocument.body,s=da(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=da(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+hE(t);const o=-n.scrollTop;return Ai(r).direction==="rtl"&&(i+=da(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:o}}function ype(t,e){const n=pa(t),r=bo(t),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,o=0,c=0;if(s){a=s.width,i=s.height;const u=oE();(!u||u&&e==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:o,y:c}}const bpe=new Set(["absolute","fixed"]);function wpe(t,e){const n=Qd(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=go(t)?Gf(t):lo(1),i=t.clientWidth*a.x,o=t.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:o,x:c,y:u}}function M_(t,e,n){let r;if(e==="viewport")r=ype(t,n);else if(e==="document")r=gpe(bo(t));else if(Si(e))r=wpe(e,n);else{const s=JL(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return kv(r)}function XL(t,e){const n=Zc(t);return n===e||!Si(n)||gp(n)?!1:Ai(n).position==="fixed"||XL(n,e)}function vpe(t,e){const n=e.get(t);if(n)return n;let r=qg(t,[],!1).filter(o=>Si(o)&&$p(o)!=="body"),s=null;const a=Ai(t).position==="fixed";let i=a?Zc(t):t;for(;Si(i)&&!gp(i);){const o=Ai(i),c=iE(i);!c&&o.position==="fixed"&&(s=null),(a?!c&&!s:!c&&o.position==="static"&&s&&bpe.has(s.position)||Ey(i)&&!c&&XL(t,i))?r=r.filter(u=>u!==i):s=o,i=Zc(i)}return e.set(t,r),r}function xpe(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Ax(e)?[]:vpe(e,this._c):[].concat(n),r],i=a[0],o=a.reduce((c,u)=>{const h=M_(e,u,s);return c.top=da(h.top,c.top),c.right=Kc(h.right,c.right),c.bottom=Kc(h.bottom,c.bottom),c.left=da(h.left,c.left),c},M_(e,i,s));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function Npe(t){const{width:e,height:n}=QL(t);return{width:e,height:n}}function kpe(t,e,n){const r=go(e),s=bo(e),a=n==="fixed",i=Qd(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const c=lo(0);function u(){c.x=hE(s)}if(r||!r&&!a)if(($p(e)!=="body"||Ey(s))&&(o=jx(e)),r){const g=Qd(e,!0,a,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();a&&!r&&s&&u();const h=s&&!r&&!a?YL(s,o):lo(0),f=i.left+o.scrollLeft-c.x-h.x,m=i.top+o.scrollTop-c.y-h.y;return{x:f,y:m,width:i.width,height:i.height}}function $4(t){return Ai(t).position==="static"}function z_(t,e){if(!go(t)||Ai(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return bo(t)===n&&(n=n.ownerDocument.body),n}function eB(t,e){const n=pa(t);if(Ax(t))return n;if(!go(t)){let s=Zc(t);for(;s&&!gp(s);){if(Si(s)&&!$4(s))return s;s=Zc(s)}return n}let r=z_(t,e);for(;r&&Bfe(r)&&$4(r);)r=z_(r,e);return r&&gp(r)&&$4(r)&&!iE(r)?n:r||Hfe(t)||n}const Cpe=async function(t){const e=this.getOffsetParent||eB,n=this.getDimensions,r=await n(t.floating);return{reference:kpe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Epe(t){return Ai(t).direction==="rtl"}const Spe={convertOffsetParentRelativeRectToViewportRelativeRect:ppe,getDocumentElement:bo,getClippingRect:xpe,getOffsetParent:eB,getElementRects:Cpe,getClientRects:mpe,getDimensions:Npe,getScale:Gf,isElement:Si,isRTL:Epe};function tB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ape(t,e){let n=null,r;const s=bo(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(o||e(),!m||!g)return;const b=g1(f),y=g1(s.clientWidth-(h+m)),w=g1(s.clientHeight-(f+g)),x=g1(h),N={rootMargin:-b+"px "+-y+"px "+-w+"px "+-x+"px",threshold:da(0,Kc(1,c))||1};let E=!0;function C(k){const A=k[0].intersectionRatio;if(A!==c){if(!E)return i();A?i(!1,A):r=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!tB(u,t.getBoundingClientRect())&&i(),E=!1}try{n=new IntersectionObserver(C,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,N)}n.observe(t)}return i(!0),a}function jpe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=dE(t),h=s||a?[...u?qg(u):[],...qg(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=u&&o?Ape(u,n):null;let m=-1,g=null;i&&(g=new ResizeObserver(x=>{let[N]=x;N&&N.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let b,y=c?Qd(t):null;c&&w();function w(){const x=Qd(t);y&&!tB(y,x)&&n(),y=x,b=requestAnimationFrame(w)}return n(),()=>{var x;h.forEach(N=>{s&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),f?.(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const Tpe=lpe,Ipe=cpe,_pe=ape,Ppe=dpe,Ope=ipe,L_=spe,Rpe=upe,$pe=(t,e,n)=>{const r=new Map,s={platform:Spe,...n},a={...s.platform,_c:r};return rpe(t,e,{...s,platform:a})};var Mpe=typeof document<"u",zpe=function(){},pw=Mpe?j.useLayoutEffect:zpe;function Cv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Cv(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!Cv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function nB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B_(t,e){const n=nB(t);return Math.round(e*n)/n}function M4(t){const e=j.useRef(t);return pw(()=>{e.current=t}),e}function Lpe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[h,f]=j.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=j.useState(r);Cv(m,r)||g(r);const[b,y]=j.useState(null),[w,x]=j.useState(null),N=j.useCallback(D=>{D!==A.current&&(A.current=D,y(D))},[]),E=j.useCallback(D=>{D!==_.current&&(_.current=D,x(D))},[]),C=a||b,k=i||w,A=j.useRef(null),_=j.useRef(null),P=j.useRef(h),I=c!=null,$=M4(c),H=M4(s),M=M4(u),B=j.useCallback(()=>{if(!A.current||!_.current)return;const D={placement:e,strategy:n,middleware:m};H.current&&(D.platform=H.current),$pe(A.current,_.current,D).then(K=>{const ee={...K,isPositioned:M.current!==!1};O.current&&!Cv(P.current,ee)&&(P.current=ee,io.flushSync(()=>{f(ee)}))})},[m,e,n,H,M]);pw(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const O=j.useRef(!1);pw(()=>(O.current=!0,()=>{O.current=!1}),[]),pw(()=>{if(C&&(A.current=C),k&&(_.current=k),C&&k){if($.current)return $.current(C,k,B);B()}},[C,k,B,$,I]);const z=j.useMemo(()=>({reference:A,floating:_,setReference:N,setFloating:E}),[N,E]),G=j.useMemo(()=>({reference:C,floating:k}),[C,k]),Z=j.useMemo(()=>{const D={position:n,left:0,top:0};if(!G.floating)return D;const K=B_(G.floating,h.x),ee=B_(G.floating,h.y);return o?{...D,transform:"translate("+K+"px, "+ee+"px)",...nB(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:ee}},[n,o,G.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:B,refs:z,elements:G,floatingStyles:Z}),[h,B,z,G,Z])}const Bpe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?L_({element:r.current,padding:s}).fn(n):{}:r?L_({element:r,padding:s}).fn(n):{}}}},Fpe=(t,e)=>({...Tpe(t),options:[t,e]}),Upe=(t,e)=>({...Ipe(t),options:[t,e]}),Dpe=(t,e)=>({...Rpe(t),options:[t,e]}),Wpe=(t,e)=>({..._pe(t),options:[t,e]}),Hpe=(t,e)=>({...Ppe(t),options:[t,e]}),Gpe=(t,e)=>({...Ope(t),options:[t,e]}),qpe=(t,e)=>({...Bpe(t),options:[t,e]});let fE=j.createContext(null);fE.displayName="GroupContext";let Vpe=j.Fragment;function Zpe(t){var e;let[n,r]=j.useState(null),[s,a]=_fe(),[i,o]=Sfe(),c=j.useMemo(()=>({switch:n,setSwitch:r}),[n,r]),u={},h=t,f=Cy();return Ke.createElement(o,{name:"Switch.Description",value:i},Ke.createElement(a,{name:"Switch.Label",value:s,props:{htmlFor:(e=c.switch)==null?void 0:e.id,onClick(m){n&&(N6(m.currentTarget)&&m.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},Ke.createElement(fE.Provider,{value:c},f({ourProps:u,theirProps:h,slot:{},defaultTag:Vpe,name:"Switch.Group"}))))}let Kpe="button";function Qpe(t,e){var n;let r=j.useId(),s=FL(),a=rE(),{id:i=s||`headlessui-switch-${r}`,disabled:o=a||!1,checked:c,defaultChecked:u,onChange:h,name:f,value:m,form:g,autoFocus:b=!1,...y}=t,w=j.useContext(fE),[x,N]=j.useState(null),E=j.useRef(null),C=aE(E,e,w===null?null:w.setSwitch,N),k=cfe(u),[A,_]=lfe(c,h,k??!1),P=tE(),[I,$]=j.useState(!1),H=gi(()=>{$(!0),_?.(!A),P.nextFrame(()=>{$(!1)})}),M=gi(re=>{if(Nfe(re.currentTarget))return re.preventDefault();re.preventDefault(),H()}),B=gi(re=>{re.key===k6.Space?(re.preventDefault(),H()):re.key===k6.Enter&&ufe(re.currentTarget)}),O=gi(re=>re.preventDefault()),z=GL(),G=Efe(),{isFocusVisible:Z,focusProps:D}=Hhe({autoFocus:b}),{isHovered:K,hoverProps:ee}=Whe({isDisabled:o}),{pressed:F,pressProps:V}=Xhe({disabled:o}),J=j.useMemo(()=>({checked:A,disabled:o,hover:K,focus:Z,active:F,autofocus:b,changing:I}),[A,K,Z,F,o,I,b]),Q=ife({id:i,ref:C,role:"switch",type:Mfe(t,x),tabIndex:t.tabIndex===-1?0:(n=t.tabIndex)!=null?n:0,"aria-checked":A,"aria-labelledby":z,"aria-describedby":G,disabled:o||void 0,autoFocus:b,onClick:M,onKeyUp:B,onKeyPress:O},D,ee,V),ae=j.useCallback(()=>{if(k!==void 0)return _?.(k)},[_,k]),ue=Cy();return Ke.createElement(Ke.Fragment,null,f!=null&&Ke.createElement(mfe,{disabled:o,data:{[f]:m||"on"},overrides:{type:"checkbox",checked:A},form:g,onReset:ae}),ue({ourProps:Q,theirProps:y,slot:J,defaultTag:Kpe,name:"Switch"}))}let Jpe=Nx(Qpe),Ype=Zpe,Xpe=$fe,eme=Ife,tme=Object.assign(Jpe,{Group:Ype,Label:Xpe,Description:eme});const rB=6048e5,nme=864e5,F_=Symbol.for("constructDateFrom");function Or(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&F_ in t?t[F_](e):t instanceof Date?new t.constructor(e):new Date(e)}function Mn(t,e){return Or(e||t,t)}function sB(t,e,n){const r=Mn(t,n?.in);return isNaN(e)?Or(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function aB(t,e,n){const r=Mn(t,n?.in);if(isNaN(e))return Or(t,NaN);if(!e)return r;const s=r.getDate(),a=Or(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}let rme={};function Sy(){return rme}function yp(t,e){const n=Sy(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Mn(t,e?.in),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Zg(t,e){return yp(t,{...e,weekStartsOn:1})}function iB(t,e){const n=Mn(t,e?.in),r=n.getFullYear(),s=Or(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Zg(s),i=Or(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Zg(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function U_(t){const e=Mn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zp(t,...e){const n=Or.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Kg(t,e){const n=Mn(t,e?.in);return n.setHours(0,0,0,0),n}function oB(t,e,n){const[r,s]=zp(n?.in,t,e),a=Kg(r),i=Kg(s),o=+a-U_(a),c=+i-U_(i);return Math.round((o-c)/nme)}function sme(t,e){const n=iB(t,e),r=Or(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Zg(r)}function ame(t,e,n){return sB(t,e*7,n)}function ime(t,e,n){return aB(t,e*12,n)}function ome(t,e){let n,r=e?.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Or.bind(null,s));const a=Mn(s,r);(!n||n<a||isNaN(+a))&&(n=a)}),Or(r,n||NaN)}function lme(t,e){let n,r=e?.in;return t.forEach(s=>{!r&&typeof s=="object"&&(r=Or.bind(null,s));const a=Mn(s,r);(!n||n>a||isNaN(+a))&&(n=a)}),Or(r,n||NaN)}function cme(t,e,n){const[r,s]=zp(n?.in,t,e);return+Kg(r)==+Kg(s)}function lB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ume(t){return!(!lB(t)&&typeof t!="number"||isNaN(+Mn(t)))}function dme(t,e,n){const[r,s]=zp(n?.in,t,e),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function hme(t,e){const n=Mn(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function fme(t,e){const[n,r]=zp(t,e.start,e.end);return{start:n,end:r}}function pme(t,e){const{start:n,end:r}=fme(e?.in,t);let s=+n>+r;const a=s?+n:+r,i=s?r:n;i.setHours(0,0,0,0),i.setDate(1);let o=1;const c=[];for(;+i<=a;)c.push(Or(n,i)),i.setMonth(i.getMonth()+o);return s?c.reverse():c}function mme(t,e){const n=Mn(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function gme(t,e){const n=Mn(t,e?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function cB(t,e){const n=Mn(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function uB(t,e){const n=Sy(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Mn(t,e?.in),a=s.getDay(),i=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function yme(t,e){return uB(t,{...e,weekStartsOn:1})}const bme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wme=(t,e,n)=>{let r;const s=bme[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function z4(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const vme={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xme={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nme={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kme={date:z4({formats:vme,defaultWidth:"full"}),time:z4({formats:xme,defaultWidth:"full"}),dateTime:z4({formats:Nme,defaultWidth:"full"})},Cme={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Eme=(t,e,n,r)=>Cme[t];function Zm(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{const i=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;s=t.values[o]||t.values[i]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const Sme={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ame={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ime={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_me={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pme=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ome={ordinalNumber:Pme,era:Zm({values:Sme,defaultWidth:"wide"}),quarter:Zm({values:Ame,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zm({values:jme,defaultWidth:"wide"}),day:Zm({values:Tme,defaultWidth:"wide"}),dayPeriod:Zm({values:Ime,defaultWidth:"wide",formattingValues:_me,defaultFormattingWidth:"wide"})};function Km(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const i=a[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?$me(o,f=>f.test(i)):Rme(o,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(i.length);return{value:u,rest:h}}}function Rme(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function $me(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Mme(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],a=e.match(t.parsePattern);if(!a)return null;let i=t.valueCallback?t.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const o=e.slice(s.length);return{value:i,rest:o}}}const zme=/^(\d+)(th|st|nd|rd)?/i,Lme=/\d+/i,Bme={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fme={any:[/^b/i,/^(a|c)/i]},Ume={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dme={any:[/1/i,/2/i,/3/i,/4/i]},Wme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Kme={ordinalNumber:Mme({matchPattern:zme,parsePattern:Lme,valueCallback:t=>parseInt(t,10)}),era:Km({matchPatterns:Bme,defaultMatchWidth:"wide",parsePatterns:Fme,defaultParseWidth:"any"}),quarter:Km({matchPatterns:Ume,defaultMatchWidth:"wide",parsePatterns:Dme,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Km({matchPatterns:Wme,defaultMatchWidth:"wide",parsePatterns:Hme,defaultParseWidth:"any"}),day:Km({matchPatterns:Gme,defaultMatchWidth:"wide",parsePatterns:qme,defaultParseWidth:"any"}),dayPeriod:Km({matchPatterns:Vme,defaultMatchWidth:"any",parsePatterns:Zme,defaultParseWidth:"any"})},pE={code:"en-US",formatDistance:wme,formatLong:kme,formatRelative:Eme,localize:Ome,match:Kme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qme(t,e){const n=Mn(t,e?.in);return oB(n,cB(n))+1}function dB(t,e){const n=Mn(t,e?.in),r=+Zg(n)-+sme(n);return Math.round(r/rB)+1}function hB(t,e){const n=Mn(t,e?.in),r=n.getFullYear(),s=Sy(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=Or(e?.in||t,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const o=yp(i,e),c=Or(e?.in||t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=yp(c,e);return+n>=+o?r+1:+n>=+u?r:r-1}function Jme(t,e){const n=Sy(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=hB(t,e),a=Or(e?.in||t,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),yp(a,e)}function fB(t,e){const n=Mn(t,e?.in),r=+yp(n,e)-+Jme(n,e);return Math.round(r/rB)+1}function Tn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ac={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tn(n+1,2)},d(t,e){return Tn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tn(t.getHours()%12||12,e.length)},H(t,e){return Tn(t.getHours(),e.length)},m(t,e){return Tn(t.getMinutes(),e.length)},s(t,e){return Tn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Tn(s,e.length)}},qh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},D_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ac.y(t,e)},Y:function(t,e,n,r){const s=hB(t,r),a=s>0?s:1-s;if(e==="YY"){const i=a%100;return Tn(i,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Tn(a,e.length)},R:function(t,e){const n=iB(t);return Tn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ac.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=fB(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Tn(s,e.length)},I:function(t,e,n){const r=dB(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ac.d(t,e)},D:function(t,e,n){const r=Qme(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Tn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Tn(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Tn(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=qh.noon:r===0?s=qh.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=qh.evening:r>=12?s=qh.afternoon:r>=4?s=qh.morning:s=qh.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ac.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ac.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ac.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ac.s(t,e)},S:function(t,e){return ac.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return H_(r);case"XXXX":case"XX":return Yu(r);case"XXXXX":case"XXX":default:return Yu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return H_(r);case"xxxx":case"xx":return Yu(r);case"xxxxx":case"xxx":default:return Yu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W_(r,":");case"OOOO":default:return"GMT"+Yu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W_(r,":");case"zzzz":default:return"GMT"+Yu(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Tn(r,e.length)},T:function(t,e,n){return Tn(+t,e.length)}};function W_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+e+Tn(a,2)}function H_(t,e){return t%60===0?(t>0?"-":"+")+Tn(Math.abs(t)/60,2):Yu(t,e)}function Yu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Tn(Math.trunc(r/60),2),a=Tn(r%60,2);return n+s+e+a}const G_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},pB=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yme=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return G_(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",G_(r,e)).replace("{{time}}",pB(s,e))},Xme={p:pB,P:Yme},e0e=/^D+$/,t0e=/^Y+$/,n0e=["D","DD","YY","YYYY"];function r0e(t){return e0e.test(t)}function s0e(t){return t0e.test(t)}function a0e(t,e,n){const r=i0e(t,e,n);if(console.warn(r),n0e.includes(t))throw new RangeError(r)}function i0e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const o0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,c0e=/^'([^]*?)'?$/,u0e=/''/g,d0e=/[a-zA-Z]/;function h0e(t,e,n){const r=Sy(),s=n?.locale??r.locale??pE,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Mn(t,n?.in);if(!ume(o))throw new RangeError("Invalid time value");let c=e.match(l0e).map(h=>{const f=h[0];if(f==="p"||f==="P"){const m=Xme[f];return m(h,s.formatLong)}return h}).join("").match(o0e).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const f=h[0];if(f==="'")return{isToken:!1,value:f0e(h)};if(D_[f])return{isToken:!0,value:h};if(f.match(d0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(h=>{if(!h.isToken)return h.value;const f=h.value;(!n?.useAdditionalWeekYearTokens&&s0e(f)||!n?.useAdditionalDayOfYearTokens&&r0e(f))&&a0e(f,e,String(t));const m=D_[f[0]];return m(o,f,s.localize,u)}).join("")}function f0e(t){const e=t.match(c0e);return e?e[1].replace(u0e,"'"):t}function p0e(t,e){const n=Mn(t,e?.in),r=n.getFullYear(),s=n.getMonth(),a=Or(n,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function m0e(t,e){return Mn(t,e?.in).getMonth()}function g0e(t,e){return Mn(t,e?.in).getFullYear()}function y0e(t,e){return+Mn(t)>+Mn(e)}function b0e(t,e){return+Mn(t)<+Mn(e)}function w0e(t,e,n){const[r,s]=zp(n?.in,t,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function v0e(t,e,n){const[r,s]=zp(n?.in,t,e);return r.getFullYear()===s.getFullYear()}function x0e(t,e,n){const r=Mn(t,n?.in),s=r.getFullYear(),a=r.getDate(),i=Or(t,0);i.setFullYear(s,e,15),i.setHours(0,0,0,0);const o=p0e(i);return r.setMonth(e,Math.min(a,o)),r}function N0e(t,e,n){const r=Mn(t,n?.in);return isNaN(+r)?Or(t,NaN):(r.setFullYear(e),r)}const mE="-",k0e=t=>{const e=E0e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(mE);return a[0]===""&&a.length!==1&&a.shift(),mB(a,e)||C0e(s)},getConflictingClassGroupIds:(s,a)=>{const i=n[s]||[];return a&&r[s]?[...i,...r[s]]:i}}},mB=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?mB(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(mE);return e.validators.find(({validator:i})=>i(a))?.classGroupId},q_=/^\[(.+)\]$/,C0e=t=>{if(q_.test(t)){const e=q_.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},E0e=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)A6(n[s],r,s,e);return r},A6=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:V_(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(S0e(s)){A6(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{A6(i,V_(e,a),n,r)})})},V_=(t,e)=>{let n=t;return e.split(mE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},S0e=t=>t.isThemeGetter,A0e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},j6="!",T6=":",j0e=T6.length,T0e=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let i=0,o=0,c=0,u;for(let b=0;b<s.length;b++){let y=s[b];if(i===0&&o===0){if(y===T6){a.push(s.slice(c,b)),c=b+j0e;continue}if(y==="/"){u=b;continue}}y==="["?i++:y==="]"?i--:y==="("?o++:y===")"&&o--}const h=a.length===0?s:s.substring(c),f=I0e(h),m=f!==h,g=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}};if(e){const s=e+T6,a=r;r=i=>i.startsWith(s)?a(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},I0e=t=>t.endsWith(j6)?t.substring(0,t.length-1):t.startsWith(j6)?t.substring(1):t,_0e=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(a=>{a[0]==="["||e[a]?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r}},P0e=t=>({cache:A0e(t.cacheSize),parseClassName:T0e(t),sortModifiers:_0e(t),...k0e(t)}),O0e=/\s+/,R0e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,i=[],o=t.trim().split(O0e);let c="";for(let u=o.length-1;u>=0;u-=1){const h=o[u],{isExternal:f,modifiers:m,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:y}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let w=!!y,x=r(w?b.substring(0,y):b);if(!x){if(!w){c=h+(c.length>0?" "+c:c);continue}if(x=r(b),!x){c=h+(c.length>0?" "+c:c);continue}w=!1}const N=a(m).join(":"),E=g?N+j6:N,C=E+x;if(i.includes(C))continue;i.push(C);const k=s(x,w);for(let A=0;A<k.length;++A){const _=k[A];i.push(E+_)}c=h+(c.length>0?" "+c:c)}return c};function $0e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gB(e))&&(r&&(r+=" "),r+=n);return r}const gB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gB(t[r]))&&(n&&(n+=" "),n+=e);return n};function M0e(t,...e){let n,r,s,a=i;function i(c){const u=e.reduce((h,f)=>f(h),t());return n=P0e(u),r=n.cache.get,s=n.cache.set,a=o,o(c)}function o(c){const u=r(c);if(u)return u;const h=R0e(c,n);return s(c,h),h}return function(){return a($0e.apply(null,arguments))}}const Ir=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yB=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,bB=/^\((?:(\w[\w-]*):)?(.+)\)$/i,z0e=/^\d+\/\d+$/,L0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,U0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vh=t=>z0e.test(t),rn=t=>!!t&&!Number.isNaN(Number(t)),ic=t=>!!t&&Number.isInteger(Number(t)),L4=t=>t.endsWith("%")&&rn(t.slice(0,-1)),Fo=t=>L0e.test(t),W0e=()=>!0,H0e=t=>B0e.test(t)&&!F0e.test(t),wB=()=>!1,G0e=t=>U0e.test(t),q0e=t=>D0e.test(t),V0e=t=>!vt(t)&&!xt(t),Z0e=t=>Lp(t,NB,wB),vt=t=>yB.test(t),Pu=t=>Lp(t,kB,H0e),B4=t=>Lp(t,X0e,rn),Z_=t=>Lp(t,vB,wB),K0e=t=>Lp(t,xB,q0e),y1=t=>Lp(t,CB,G0e),xt=t=>bB.test(t),Qm=t=>Bp(t,kB),Q0e=t=>Bp(t,ege),K_=t=>Bp(t,vB),J0e=t=>Bp(t,NB),Y0e=t=>Bp(t,xB),b1=t=>Bp(t,CB,!0),Lp=(t,e,n)=>{const r=yB.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Bp=(t,e,n=!1)=>{const r=bB.exec(t);return r?r[1]?e(r[1]):n:!1},vB=t=>t==="position"||t==="percentage",xB=t=>t==="image"||t==="url",NB=t=>t==="length"||t==="size"||t==="bg-size",kB=t=>t==="length",X0e=t=>t==="number",ege=t=>t==="family-name",CB=t=>t==="shadow",tge=()=>{const t=Ir("color"),e=Ir("font"),n=Ir("text"),r=Ir("font-weight"),s=Ir("tracking"),a=Ir("leading"),i=Ir("breakpoint"),o=Ir("container"),c=Ir("spacing"),u=Ir("radius"),h=Ir("shadow"),f=Ir("inset-shadow"),m=Ir("text-shadow"),g=Ir("drop-shadow"),b=Ir("blur"),y=Ir("perspective"),w=Ir("aspect"),x=Ir("ease"),N=Ir("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...C(),xt,vt],A=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],P=()=>[xt,vt,c],I=()=>[Vh,"full","auto",...P()],$=()=>[ic,"none","subgrid",xt,vt],H=()=>["auto",{span:["full",ic,xt,vt]},ic,xt,vt],M=()=>[ic,"auto",xt,vt],B=()=>["auto","min","max","fr",xt,vt],O=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],z=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...P()],Z=()=>[Vh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],D=()=>[t,xt,vt],K=()=>[...C(),K_,Z_,{position:[xt,vt]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",J0e,Z0e,{size:[xt,vt]}],V=()=>[L4,Qm,Pu],J=()=>["","none","full",u,xt,vt],Q=()=>["",rn,Qm,Pu],ae=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[rn,L4,K_,Z_],ie=()=>["","none",b,xt,vt],me=()=>["none",rn,xt,vt],oe=()=>["none",rn,xt,vt],he=()=>[rn,xt,vt],Ne=()=>[Vh,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fo],breakpoint:[Fo],color:[W0e],container:[Fo],"drop-shadow":[Fo],ease:["in","out","in-out"],font:[V0e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fo],shadow:[Fo],spacing:["px",rn],text:[Fo],"text-shadow":[Fo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vh,vt,xt,w]}],container:["container"],columns:[{columns:[rn,vt,xt,o]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[ic,"auto",xt,vt]}],basis:[{basis:[Vh,"full","auto",o,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rn,Vh,"auto","initial","none",vt]}],grow:[{grow:["",rn,xt,vt]}],shrink:[{shrink:["",rn,xt,vt]}],order:[{order:[ic,"first","last","none",xt,vt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...O(),"normal"]}],"justify-items":[{"justify-items":[...z(),"normal"]}],"justify-self":[{"justify-self":["auto",...z()]}],"align-content":[{content:["normal",...O()]}],"align-items":[{items:[...z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...z(),{baseline:["","last"]}]}],"place-content":[{"place-content":O()}],"place-items":[{"place-items":[...z(),"baseline"]}],"place-self":[{"place-self":["auto",...z()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:Z()}],w:[{w:[o,"screen",...Z()]}],"min-w":[{"min-w":[o,"screen","none",...Z()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...Z()]}],h:[{h:["screen","lh",...Z()]}],"min-h":[{"min-h":["screen","lh","none",...Z()]}],"max-h":[{"max-h":["screen","lh",...Z()]}],"font-size":[{text:["base",n,Qm,Pu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xt,B4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",L4,vt]}],"font-family":[{font:[Q0e,vt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xt,vt]}],"line-clamp":[{"line-clamp":[rn,"none",xt,B4]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",xt,vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xt,vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[rn,"from-font","auto",xt,Pu]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[rn,"auto",xt,vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt,vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt,vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ic,xt,vt],radial:["",xt,vt],conic:[ic,xt,vt]},Y0e,K0e]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rn,xt,vt]}],"outline-w":[{outline:["",rn,Qm,Pu]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",h,b1,y1]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",f,b1,y1]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[rn,Pu]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",m,b1,y1]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[rn,xt,vt]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rn]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[xt,vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[rn]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xt,vt]}],filter:[{filter:["","none",xt,vt]}],blur:[{blur:ie()}],brightness:[{brightness:[rn,xt,vt]}],contrast:[{contrast:[rn,xt,vt]}],"drop-shadow":[{"drop-shadow":["","none",g,b1,y1]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",rn,xt,vt]}],"hue-rotate":[{"hue-rotate":[rn,xt,vt]}],invert:[{invert:["",rn,xt,vt]}],saturate:[{saturate:[rn,xt,vt]}],sepia:[{sepia:["",rn,xt,vt]}],"backdrop-filter":[{"backdrop-filter":["","none",xt,vt]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[rn,xt,vt]}],"backdrop-contrast":[{"backdrop-contrast":[rn,xt,vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rn,xt,vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rn,xt,vt]}],"backdrop-invert":[{"backdrop-invert":["",rn,xt,vt]}],"backdrop-opacity":[{"backdrop-opacity":[rn,xt,vt]}],"backdrop-saturate":[{"backdrop-saturate":[rn,xt,vt]}],"backdrop-sepia":[{"backdrop-sepia":["",rn,xt,vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xt,vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rn,"initial",xt,vt]}],ease:[{ease:["linear","initial",x,xt,vt]}],delay:[{delay:[rn,xt,vt]}],animate:[{animate:["none",N,xt,vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,xt,vt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[xt,vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt,vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt,vt]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[rn,Qm,Pu,B4]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nge=M0e(tge);function mn(...t){return nge(NL(t))}function Bc(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t?.(r),n===!1||!r.defaultPrevented)return e?.(r)}}function Q_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function EB(...t){return e=>{let n=!1;const r=t.map(s=>{const a=Q_(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Q_(t[s],null)}}}}function tu(...t){return j.useCallback(EB(...t),t)}function SB(t,e=[]){let n=[];function r(a,i){const o=j.createContext(i),c=n.length;n=[...n,i];const u=f=>{const{scope:m,children:g,...b}=f,y=m?.[t]?.[c]||o,w=j.useMemo(()=>b,Object.values(b));return l.jsx(y.Provider,{value:w,children:g})};u.displayName=a+"Provider";function h(f,m){const g=m?.[t]?.[c]||o,b=j.useContext(g);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=n.map(i=>j.createContext(i));return function(i){const o=i?.[t]||a;return j.useMemo(()=>({[`__scope${t}`]:{...i,[t]:o}}),[i,o])}};return s.scopeName=t,[r,rge(s,...e)]}function rge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const a=r.reduce((i,{useScope:o,scopeName:c})=>{const u=o(s)[`__scope${c}`];return{...i,...u}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function gE(t){const e=age(t),n=j.forwardRef((r,s)=>{const{children:a,...i}=r,o=j.Children.toArray(a),c=o.find(oge);if(c){const u=c.props.children,h=o.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return l.jsx(e,{...i,ref:s,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return l.jsx(e,{...i,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var sge=gE("Slot");function age(t){const e=j.forwardRef((n,r)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const i=cge(s),o=lge(a,s.props);return s.type!==j.Fragment&&(o.ref=r?EB(r,i):i),j.cloneElement(s,o)}return j.Children.count(s)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ige=Symbol("radix.slottable");function oge(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ige}function lge(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...i)=>{const o=a(...i);return s(...i),o}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function cge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cl=uge.reduce((t,e)=>{const n=gE(`Primitive.${e}`),r=j.forwardRef((s,a)=>{const{asChild:i,...o}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function dge(t,e){t&&io.flushSync(()=>t.dispatchEvent(e))}function bp(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...n)=>e.current?.(...n),[])}function hge(t,e=globalThis?.document){const n=bp(t);j.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fge="DismissableLayer",I6="dismissableLayer.update",pge="dismissableLayer.pointerDownOutside",mge="dismissableLayer.focusOutside",J_,AB=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jB=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...c}=t,u=j.useContext(AB),[h,f]=j.useState(null),m=h?.ownerDocument??globalThis?.document,[,g]=j.useState({}),b=tu(e,_=>f(_)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(w),N=h?y.indexOf(h):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,C=N>=x,k=bge(_=>{const P=_.target,I=[...u.branches].some($=>$.contains(P));!C||I||(s?.(_),i?.(_),_.defaultPrevented||o?.())},m),A=wge(_=>{const P=_.target;[...u.branches].some(I=>I.contains(P))||(a?.(_),i?.(_),_.defaultPrevented||o?.())},m);return hge(_=>{N===u.layers.size-1&&(r?.(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},m),j.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(J_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Y_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=J_)}},[h,m,n,u]),j.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Y_())},[h,u]),j.useEffect(()=>{const _=()=>g({});return document.addEventListener(I6,_),()=>document.removeEventListener(I6,_)},[]),l.jsx(Cl.div,{...c,ref:b,style:{pointerEvents:E?C?"auto":"none":void 0,...t.style},onFocusCapture:Bc(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Bc(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Bc(t.onPointerDownCapture,k.onPointerDownCapture)})});jB.displayName=fge;var gge="DismissableLayerBranch",yge=j.forwardRef((t,e)=>{const n=j.useContext(AB),r=j.useRef(null),s=tu(e,r);return j.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Cl.div,{...t,ref:s})});yge.displayName=gge;function bge(t,e=globalThis?.document){const n=bp(t),r=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let c=function(){TB(pge,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wge(t,e=globalThis?.document){const n=bp(t),r=j.useRef(!1);return j.useEffect(()=>{const s=a=>{a.target&&!r.current&&TB(mge,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Y_(){const t=new CustomEvent(I6);document.dispatchEvent(t)}function TB(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dge(s,a):s.dispatchEvent(a)}var F4=0;function vge(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??X_()),document.body.insertAdjacentElement("beforeend",t[1]??X_()),F4++,()=>{F4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),F4--}},[])}function X_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var U4="focusScope.autoFocusOnMount",D4="focusScope.autoFocusOnUnmount",e7={bubbles:!1,cancelable:!0},xge="FocusScope",IB=j.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=t,[o,c]=j.useState(null),u=bp(s),h=bp(a),f=j.useRef(null),m=tu(e,y=>c(y)),g=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let y=function(E){if(g.paused||!o)return;const C=E.target;o.contains(C)?f.current=C:vc(f.current,{select:!0})},w=function(E){if(g.paused||!o)return;const C=E.relatedTarget;C!==null&&(o.contains(C)||vc(f.current,{select:!0}))},x=function(E){if(document.activeElement===document.body)for(const C of E)C.removedNodes.length>0&&vc(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(x);return o&&N.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[r,o,g.paused]),j.useEffect(()=>{if(o){n7.add(g);const y=document.activeElement;if(!o.contains(y)){const w=new CustomEvent(U4,e7);o.addEventListener(U4,u),o.dispatchEvent(w),w.defaultPrevented||(Nge(Age(_B(o)),{select:!0}),document.activeElement===y&&vc(o))}return()=>{o.removeEventListener(U4,u),setTimeout(()=>{const w=new CustomEvent(D4,e7);o.addEventListener(D4,h),o.dispatchEvent(w),w.defaultPrevented||vc(y??document.body,{select:!0}),o.removeEventListener(D4,h),n7.remove(g)},0)}}},[o,u,h,g]);const b=j.useCallback(y=>{if(!n&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(w&&x){const N=y.currentTarget,[E,C]=kge(N);E&&C?!y.shiftKey&&x===C?(y.preventDefault(),n&&vc(E,{select:!0})):y.shiftKey&&x===E&&(y.preventDefault(),n&&vc(C,{select:!0})):x===N&&y.preventDefault()}},[n,r,g.paused]);return l.jsx(Cl.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});IB.displayName=xge;function Nge(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(vc(r,{select:e}),document.activeElement!==n)return}function kge(t){const e=_B(t),n=t7(e,t),r=t7(e.reverse(),t);return[n,r]}function _B(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function t7(t,e){for(const n of t)if(!Cge(n,{upTo:e}))return n}function Cge(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ege(t){return t instanceof HTMLInputElement&&"select"in t}function vc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ege(t)&&e&&t.select()}}var n7=Sge();function Sge(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=r7(t,e),t.unshift(e)},remove(e){t=r7(t,e),t[0]?.resume()}}}function r7(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Age(t){return t.filter(e=>e.tagName!=="A")}var Qc=globalThis?.document?j.useLayoutEffect:()=>{},jge=xk[" useId ".trim().toString()]||(()=>{}),Tge=0;function Ige(t){const[e,n]=j.useState(jge());return Qc(()=>{n(r=>r??String(Tge++))},[t]),t||(e?`radix-${e}`:"")}var _ge="Arrow",PB=j.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return l.jsx(Cl.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});PB.displayName=_ge;var Pge=PB;function Oge(t){const[e,n]=j.useState(void 0);return Qc(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=t.offsetWidth,o=t.offsetHeight;n({width:i,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var yE="Popper",[OB,RB]=SB(yE),[Rge,$B]=OB(yE),MB=t=>{const{__scopePopper:e,children:n}=t,[r,s]=j.useState(null);return l.jsx(Rge,{scope:e,anchor:r,onAnchorChange:s,children:n})};MB.displayName=yE;var zB="PopperAnchor",LB=j.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=$B(zB,n),i=j.useRef(null),o=tu(e,i);return j.useEffect(()=>{a.onAnchorChange(r?.current||i.current)}),r?null:l.jsx(Cl.div,{...s,ref:o})});LB.displayName=zB;var bE="PopperContent",[$ge,Mge]=OB(bE),BB=j.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:b,...y}=t,w=$B(bE,n),[x,N]=j.useState(null),E=tu(e,re=>N(re)),[C,k]=j.useState(null),A=Oge(C),_=A?.width??0,P=A?.height??0,I=r+(a!=="center"?"-"+a:""),$=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},H=Array.isArray(u)?u:[u],M=H.length>0,B={padding:$,boundary:H.filter(Lge),altBoundary:M},{refs:O,floatingStyles:z,placement:G,isPositioned:Z,middlewareData:D}=Lpe({strategy:"fixed",placement:I,whileElementsMounted:(...re)=>jpe(...re,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[Fpe({mainAxis:s+P,alignmentAxis:i}),c&&Upe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Dpe():void 0,...B}),c&&Wpe({...B}),Hpe({...B,apply:({elements:re,rects:ie,availableWidth:me,availableHeight:oe})=>{const{width:he,height:Ne}=ie.reference,Re=re.floating.style;Re.setProperty("--radix-popper-available-width",`${me}px`),Re.setProperty("--radix-popper-available-height",`${oe}px`),Re.setProperty("--radix-popper-anchor-width",`${he}px`),Re.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),C&&qpe({element:C,padding:o}),Bge({arrowWidth:_,arrowHeight:P}),m&&Gpe({strategy:"referenceHidden",...B})]}),[K,ee]=DB(G),F=bp(b);Qc(()=>{Z&&F?.()},[Z,F]);const V=D.arrow?.x,J=D.arrow?.y,Q=D.arrow?.centerOffset!==0,[ae,ue]=j.useState();return Qc(()=>{x&&ue(window.getComputedStyle(x).zIndex)},[x]),l.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:Z?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx($ge,{scope:n,placedSide:K,onArrowChange:k,arrowX:V,arrowY:J,shouldHideArrow:Q,children:l.jsx(Cl.div,{"data-side":K,"data-align":ee,...y,ref:E,style:{...y.style,animation:Z?void 0:"none"}})})})});BB.displayName=bE;var FB="PopperArrow",zge={top:"bottom",right:"left",bottom:"top",left:"right"},UB=j.forwardRef(function(t,e){const{__scopePopper:n,...r}=t,s=Mge(FB,n),a=zge[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(Pge,{...r,ref:e,style:{...r.style,display:"block"}})})});UB.displayName=FB;function Lge(t){return t!==null}var Bge=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,a=s.arrow?.centerOffset!==0,i=a?0:t.arrowWidth,o=a?0:t.arrowHeight,[c,u]=DB(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(s.arrow?.x??0)+i/2,m=(s.arrow?.y??0)+o/2;let g="",b="";return c==="bottom"?(g=a?h:`${f}px`,b=`${-o}px`):c==="top"?(g=a?h:`${f}px`,b=`${r.floating.height+o}px`):c==="right"?(g=`${-o}px`,b=a?h:`${m}px`):c==="left"&&(g=`${r.floating.width+o}px`,b=a?h:`${m}px`),{data:{x:g,y:b}}}});function DB(t){const[e,n="center"]=t.split("-");return[e,n]}var Fge=MB,WB=LB,Uge=BB,Dge=UB,Wge="Portal",HB=j.forwardRef((t,e)=>{const{container:n,...r}=t,[s,a]=j.useState(!1);Qc(()=>a(!0),[]);const i=n||s&&globalThis?.document?.body;return i?oz.createPortal(l.jsx(Cl.div,{...r,ref:e}),i):null});HB.displayName=Wge;function Hge(t,e){return j.useReducer((n,r)=>e[n][r]??n,t)}var wE=t=>{const{present:e,children:n}=t,r=Gge(e),s=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),a=tu(r.ref,qge(s));return typeof n=="function"||r.isPresent?j.cloneElement(s,{ref:a}):null};wE.displayName="Presence";function Gge(t){const[e,n]=j.useState(),r=j.useRef(null),s=j.useRef(t),a=j.useRef("none"),i=t?"mounted":"unmounted",[o,c]=Hge(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=w1(r.current);a.current=o==="mounted"?u:"none"},[o]),Qc(()=>{const u=r.current,h=s.current;if(h!==t){const f=a.current,m=w1(u);t?c("MOUNT"):m==="none"||u?.display==="none"?c("UNMOUNT"):c(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Qc(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=g=>{const b=w1(r.current).includes(g.animationName);if(g.target===e&&b&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},m=g=>{g.target===e&&(a.current=w1(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:j.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function w1(t){return t?.animationName||"none"}function qge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Vge=xk[" useInsertionEffect ".trim().toString()]||Qc;function Zge({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,i]=Kge({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:s;{const h=j.useRef(t!==void 0);j.useEffect(()=>{const f=h.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const u=j.useCallback(h=>{if(o){const f=Qge(h)?h(t):h;f!==t&&i.current?.(f)}else a(h)},[o,t,a,i]);return[c,u]}function Kge({defaultProp:t,onChange:e}){const[n,r]=j.useState(t),s=j.useRef(n),a=j.useRef(e);return Vge(()=>{a.current=e},[e]),j.useEffect(()=>{s.current!==n&&(a.current?.(n),s.current=n)},[n,s]),[n,r,a]}function Qge(t){return typeof t=="function"}var Jge=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Zh=new WeakMap,v1=new WeakMap,x1={},W4=0,GB=function(t){return t&&(t.host||GB(t.parentNode))},Yge=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=GB(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Xge=function(t,e,n,r){var s=Yge(e,Array.isArray(t)?t:[t]);x1[n]||(x1[n]=new WeakMap);var a=x1[n],i=[],o=new Set,c=new Set(s),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(o.has(m))h(m);else try{var g=m.getAttribute(r),b=g!==null&&g!=="false",y=(Zh.get(m)||0)+1,w=(a.get(m)||0)+1;Zh.set(m,y),a.set(m,w),i.push(m),y===1&&b&&v1.set(m,!0),w===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(e),o.clear(),W4++,function(){i.forEach(function(f){var m=Zh.get(f)-1,g=a.get(f)-1;Zh.set(f,m),a.set(f,g),m||(v1.has(f)||f.removeAttribute(r),v1.delete(f)),g||f.removeAttribute(n)}),W4--,W4||(Zh=new WeakMap,Zh=new WeakMap,v1=new WeakMap,x1={})}},eye=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Jge(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Xge(r,s,n,"aria-hidden")):function(){return null}},_6=function(t,e){return _6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},_6(t,e)};function qB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_6(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var La=function(){return La=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},La.apply(this,arguments)};function Tx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function VB(t,e,n,r){var s=arguments.length,a=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(a=(s<3?i(a):s>3?i(e,n,a):i(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function ZB(t,e){return function(n,r){e(n,r,t)}}function KB(t,e,n,r,s,a){function i(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var o=r.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,m=!1,g=n.length-1;g>=0;g--){var b={};for(var y in r)b[y]=y==="access"?{}:r[y];for(var y in r.access)b.access[y]=r.access[y];b.addInitializer=function(x){if(m)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(x||null))};var w=(0,n[g])(o==="accessor"?{get:h.get,set:h.set}:h[c],b);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=i(w.get))&&(h.get=f),(f=i(w.set))&&(h.set=f),(f=i(w.init))&&s.unshift(f)}else(f=i(w))&&(o==="field"?s.unshift(f):h[c]=f)}u&&Object.defineProperty(u,r.name,h),m=!0}function QB(t,e,n){for(var r=arguments.length>2,s=0;s<e.length;s++)n=r?e[s].call(t,n):e[s].call(t);return r?n:void 0}function JB(t){return typeof t=="symbol"?t:"".concat(t)}function YB(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function XB(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function eF(t,e,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((r=r.apply(t,e||[])).next())})}function tF(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ix=Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function nF(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ix(e,t,n)}function Ev(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vE(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function rF(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vE(arguments[e]));return t}function sF(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),s=0,e=0;e<n;e++)for(var a=arguments[e],i=0,o=a.length;i<o;i++,s++)r[s]=a[i];return r}function xE(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function wp(t){return this instanceof wp?(this.v=t,this):new wp(t)}function aF(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(g){return function(b){return Promise.resolve(b).then(g,f)}}function o(g,b){r[g]&&(s[g]=function(y){return new Promise(function(w,x){a.push([g,y,w,x])>1||c(g,y)})},b&&(s[g]=b(s[g])))}function c(g,b){try{u(r[g](b))}catch(y){m(a[0][3],y)}}function u(g){g.value instanceof wp?Promise.resolve(g.value.v).then(h,f):m(a[0][2],g)}function h(g){c("next",g)}function f(g){c("throw",g)}function m(g,b){g(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function iF(t){var e,n;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,a){e[s]=t[s]?function(i){return(n=!n)?{value:wp(t[s](i)),done:!1}:a?a(i):i}:a}}function oF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ev=="function"?Ev(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(i){return new Promise(function(o,c){i=t[a](i),s(o,c,i.done,i.value)})}}function s(a,i,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},i)}}function lF(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var tye=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},P6=function(t){return P6=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},P6(t)};function cF(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=P6(t),r=0;r<n.length;r++)n[r]!=="default"&&Ix(e,t,n[r]);return tye(e,t),e}function uF(t){return t&&t.__esModule?t:{default:t}}function dF(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function hF(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function fF(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function pF(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var nye=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function mF(t){function e(a){t.error=t.hasError?new nye(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(s,function(i){return e(i),s()})}else r|=1}catch(i){e(i)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function gF(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,a,i){return r?e?".jsx":".js":s&&(!a||!i)?n:s+a+"."+i.toLowerCase()+"js"}):t}const rye={__extends:qB,__assign:La,__rest:Tx,__decorate:VB,__param:ZB,__esDecorate:KB,__runInitializers:QB,__propKey:JB,__setFunctionName:YB,__metadata:XB,__awaiter:eF,__generator:tF,__createBinding:Ix,__exportStar:nF,__values:Ev,__read:vE,__spread:rF,__spreadArrays:sF,__spreadArray:xE,__await:wp,__asyncGenerator:aF,__asyncDelegator:iF,__asyncValues:oF,__makeTemplateObject:lF,__importStar:cF,__importDefault:uF,__classPrivateFieldGet:dF,__classPrivateFieldSet:hF,__classPrivateFieldIn:fF,__addDisposableResource:pF,__disposeResources:mF,__rewriteRelativeImportExtension:gF},K4e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pF,get __assign(){return La},__asyncDelegator:iF,__asyncGenerator:aF,__asyncValues:oF,__await:wp,__awaiter:eF,__classPrivateFieldGet:dF,__classPrivateFieldIn:fF,__classPrivateFieldSet:hF,__createBinding:Ix,__decorate:VB,__disposeResources:mF,__esDecorate:KB,__exportStar:nF,__extends:qB,__generator:tF,__importDefault:uF,__importStar:cF,__makeTemplateObject:lF,__metadata:XB,__param:ZB,__propKey:JB,__read:vE,__rest:Tx,__rewriteRelativeImportExtension:gF,__runInitializers:QB,__setFunctionName:YB,__spread:rF,__spreadArray:xE,__spreadArrays:sF,__values:Ev,default:rye},Symbol.toStringTag,{value:"Module"}));var mw="right-scroll-bar-position",gw="width-before-scroll-bar",sye="with-scroll-bars-hidden",aye="--removed-body-scroll-bar-size";function H4(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iye(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var oye=typeof window<"u"?j.useLayoutEffect:j.useEffect,s7=new WeakMap;function lye(t,e){var n=iye(null,function(r){return t.forEach(function(s){return H4(s,r)})});return oye(function(){var r=s7.get(n);if(r){var s=new Set(r),a=new Set(t),i=n.current;s.forEach(function(o){a.has(o)||H4(o,null)}),a.forEach(function(o){s.has(o)||H4(o,i)})}s7.set(n,t)},[t]),n}function cye(t){return t}function uye(t,e){e===void 0&&(e=cye);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var i=e(a,r);return n.push(i),function(){n=n.filter(function(o){return o!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var o=n;n=[],o.forEach(a),i=n}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function dye(t){t===void 0&&(t={});var e=uye(null);return e.options=La({async:!0,ssr:!1},t),e}var yF=function(t){var e=t.sideCar,n=Tx(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,La({},n))};yF.isSideCarExport=!0;function hye(t,e){return t.useMedium(e),yF}var bF=dye(),G4=function(){},_x=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:G4,onWheelCapture:G4,onTouchMoveCapture:G4}),s=r[0],a=r[1],i=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,b=t.noIsolation,y=t.inert,w=t.allowPinchZoom,x=t.as,N=x===void 0?"div":x,E=t.gapMode,C=Tx(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,A=lye([n,e]),_=La(La({},C),s);return j.createElement(j.Fragment,null,h&&j.createElement(k,{sideCar:bF,removeScrollBar:u,shards:f,noRelative:g,noIsolation:b,inert:y,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:E}),i?j.cloneElement(j.Children.only(o),La(La({},_),{ref:A})):j.createElement(N,La({},_,{className:c,ref:A}),o))});_x.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_x.classNames={fullWidth:gw,zeroRight:mw};var fye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fye();return e&&t.setAttribute("nonce",e),t}function mye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var yye=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pye())&&(mye(e,n),gye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bye=function(){var t=yye();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wF=function(){var t=bye(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},wye={left:0,top:0,right:0,gap:0},q4=function(t){return parseInt(t||"",10)||0},vye=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[q4(n),q4(r),q4(s)]},xye=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return wye;var e=vye(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Nye=wF(),qf="data-scroll-locked",kye=function(t,e,n,r){var s=t.left,a=t.top,i=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(sye,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(qf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mw,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(gw,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(mw," .").concat(mw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gw," .").concat(gw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qf,`] {
    `).concat(aye,": ").concat(o,`px;
  }
`)},a7=function(){var t=parseInt(document.body.getAttribute(qf)||"0",10);return isFinite(t)?t:0},Cye=function(){j.useEffect(function(){return document.body.setAttribute(qf,(a7()+1).toString()),function(){var t=a7()-1;t<=0?document.body.removeAttribute(qf):document.body.setAttribute(qf,t.toString())}},[])},Eye=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Cye();var a=j.useMemo(function(){return xye(s)},[s]);return j.createElement(Nye,{styles:kye(a,!e,s,n?"":"!important")})},O6=!1;if(typeof window<"u")try{var N1=Object.defineProperty({},"passive",{get:function(){return O6=!0,!0}});window.addEventListener("test",N1,N1),window.removeEventListener("test",N1,N1)}catch{O6=!1}var Kh=O6?{passive:!1}:!1,Sye=function(t){return t.tagName==="TEXTAREA"},vF=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Sye(t)&&n[e]==="visible")},Aye=function(t){return vF(t,"overflowY")},jye=function(t){return vF(t,"overflowX")},i7=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xF(t,r);if(s){var a=NF(t,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Tye=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Iye=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xF=function(t,e){return t==="v"?Aye(e):jye(e)},NF=function(t,e){return t==="v"?Tye(e):Iye(e)},_ye=function(t,e){return t==="h"&&e==="rtl"?-1:1},Pye=function(t,e,n,r,s){var a=_ye(t,window.getComputedStyle(e).direction),i=a*r,o=n.target,c=e.contains(o),u=!1,h=i>0,f=0,m=0;do{if(!o)break;var g=NF(t,o),b=g[0],y=g[1],w=g[2],x=y-w-a*b;(b||x)&&xF(t,o)&&(f+=x,m+=b);var N=o.parentNode;o=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},k1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},o7=function(t){return[t.deltaX,t.deltaY]},l7=function(t){return t&&"current"in t?t.current:t},Oye=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Rye=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$ye=0,Qh=[];function Mye(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),s=j.useState($ye++)[0],a=j.useState(wF)[0],i=j.useRef(t);j.useEffect(function(){i.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=xE([t.lockRef.current],(t.shards||[]).map(l7),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var o=j.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var x=k1(y),N=n.current,E="deltaX"in y?y.deltaX:N[0]-x[0],C="deltaY"in y?y.deltaY:N[1]-x[1],k,A=y.target,_=Math.abs(E)>Math.abs(C)?"h":"v";if("touches"in y&&_==="h"&&A.type==="range")return!1;var P=i7(_,A);if(!P)return!0;if(P?k=_:(k=_==="v"?"h":"v",P=i7(_,A)),!P)return!1;if(!r.current&&"changedTouches"in y&&(E||C)&&(r.current=k),!k)return!0;var I=r.current||k;return Pye(I,w,y,I==="h"?E:C)},[]),c=j.useCallback(function(y){var w=y;if(!(!Qh.length||Qh[Qh.length-1]!==a)){var x="deltaY"in w?o7(w):k1(w),N=e.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&Oye(k.delta,x)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var E=(i.current.shards||[]).map(l7).filter(Boolean).filter(function(k){return k.contains(w.target)}),C=E.length>0?o(w,E[0]):!i.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),u=j.useCallback(function(y,w,x,N){var E={name:y,delta:w,target:x,should:N,shadowParent:zye(x)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(C){return C!==E})},1)},[]),h=j.useCallback(function(y){n.current=k1(y),r.current=void 0},[]),f=j.useCallback(function(y){u(y.type,o7(y),y.target,o(y,t.lockRef.current))},[]),m=j.useCallback(function(y){u(y.type,k1(y),y.target,o(y,t.lockRef.current))},[]);j.useEffect(function(){return Qh.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Kh),document.addEventListener("touchmove",c,Kh),document.addEventListener("touchstart",h,Kh),function(){Qh=Qh.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Kh),document.removeEventListener("touchmove",c,Kh),document.removeEventListener("touchstart",h,Kh)}},[]);var g=t.removeScrollBar,b=t.inert;return j.createElement(j.Fragment,null,b?j.createElement(a,{styles:Rye(s)}):null,g?j.createElement(Eye,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function zye(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Lye=hye(bF,Mye);var kF=j.forwardRef(function(t,e){return j.createElement(_x,La({},t,{ref:e,sideCar:Lye}))});kF.classNames=_x.classNames;var Px="Popover",[CF,Q4e]=SB(Px,[RB]),Ay=RB(),[Bye,nu]=CF(Px),EF=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=t,o=Ay(e),c=j.useRef(null),[u,h]=j.useState(!1),[f,m]=Zge({prop:r,defaultProp:s??!1,onChange:a,caller:Px});return l.jsx(Fge,{...o,children:l.jsx(Bye,{scope:e,contentId:Ige(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>h(!0),[]),onCustomAnchorRemove:j.useCallback(()=>h(!1),[]),modal:i,children:n})})};EF.displayName=Px;var SF="PopoverAnchor",Fye=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=nu(SF,n),a=Ay(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=s;return j.useEffect(()=>(i(),()=>o()),[i,o]),l.jsx(WB,{...a,...r,ref:e})});Fye.displayName=SF;var AF="PopoverTrigger",jF=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=nu(AF,n),a=Ay(n),i=tu(e,s.triggerRef),o=l.jsx(Cl.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":OF(s.open),...r,ref:i,onClick:Bc(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:l.jsx(WB,{asChild:!0,...a,children:o})});jF.displayName=AF;var NE="PopoverPortal",[Uye,Dye]=CF(NE,{forceMount:void 0}),TF=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,a=nu(NE,e);return l.jsx(Uye,{scope:e,forceMount:n,children:l.jsx(wE,{present:n||a.open,children:l.jsx(HB,{asChild:!0,container:s,children:r})})})};TF.displayName=NE;var vp="PopoverContent",IF=j.forwardRef((t,e)=>{const n=Dye(vp,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,a=nu(vp,t.__scopePopover);return l.jsx(wE,{present:r||a.open,children:a.modal?l.jsx(Hye,{...s,ref:e}):l.jsx(Gye,{...s,ref:e})})});IF.displayName=vp;var Wye=gE("PopoverContent.RemoveScroll"),Hye=j.forwardRef((t,e)=>{const n=nu(vp,t.__scopePopover),r=j.useRef(null),s=tu(e,r),a=j.useRef(!1);return j.useEffect(()=>{const i=r.current;if(i)return eye(i)},[]),l.jsx(kF,{as:Wye,allowPinchZoom:!0,children:l.jsx(_F,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bc(t.onCloseAutoFocus,i=>{i.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Bc(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Bc(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Gye=j.forwardRef((t,e)=>{const n=nu(vp,t.__scopePopover),r=j.useRef(!1),s=j.useRef(!1);return l.jsx(_F,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),_F=j.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...f}=t,m=nu(vp,n),g=Ay(n);return vge(),l.jsx(IB,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(jB,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Uge,{"data-state":OF(m.open),role:"dialog",id:m.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),PF="PopoverClose",qye=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=nu(PF,n);return l.jsx(Cl.button,{type:"button",...r,ref:e,onClick:Bc(t.onClick,()=>s.onOpenChange(!1))})});qye.displayName=PF;var Vye="PopoverArrow",Zye=j.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ay(n);return l.jsx(Dge,{...s,...r,ref:e})});Zye.displayName=Vye;function OF(t){return t?"open":"closed"}var Kye=EF,Qye=jF,Jye=TF,Yye=IF;function Xye({...t}){return l.jsx(Kye,{"data-slot":"popover",...t})}function ebe({...t}){return l.jsx(Qye,{"data-slot":"popover-trigger",...t})}function tbe({className:t,align:e="center",sideOffset:n=4,...r}){return l.jsx(Jye,{children:l.jsx(Yye,{"data-slot":"popover-content",align:e,sideOffset:n,className:mn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}function nbe(t,e,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:t,timeZoneName:n}).format(e).split(/\s/g).slice(2).join(" ")}const c7={},q0={};function ig(t,e){try{const n=(c7[t]||(c7[t]=new Intl.DateTimeFormat("en-US",{timeZone:t,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return n in q0?q0[n]:u7(n,n.split(":"))}catch{if(t in q0)return q0[t];const n=t?.match(rbe);return n?u7(t,n.slice(1)):NaN}}const rbe=/([+-]\d\d):?(\d\d)?/;function u7(t,e){const n=+(e[0]||0),r=+(e[1]||0);return q0[t]=n>0?n*60+r:n*60-r}class ro extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(ig(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),RF(this),R6(this)):this.setTime(Date.now())}static tz(e,...n){return n.length?new ro(...n,e):new ro(Date.now(),e)}withTimeZone(e){return new ro(+this,e)}getTimezoneOffset(){return-ig(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),R6(this),+this}[Symbol.for("constructDateFrom")](e){return new ro(+new Date(e),this.timeZone)}}const d7=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!d7.test(t))return;const e=t.replace(d7,"$1UTC");ro.prototype[e]&&(t.startsWith("get")?ro.prototype[t]=function(){return this.internal[e]()}:(ro.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),sbe(this),+this},ro.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),R6(this),+this}))});function R6(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function sbe(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),RF(t)}function RF(t){const e=ig(t.timeZone,t),n=new Date(+t);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+t).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),a=r-s,i=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();a&&i&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+a);const o=r-e;o&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+o);const c=ig(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-c,h=c!==e,f=u-o;if(h&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);const m=ig(t.timeZone,t),g=c-m;g&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+g),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+g))}}class is extends ro{static tz(e,...n){return n.length?new is(...n,e):new is(Date.now(),e)}toISOString(){const[e,n,r]=this.tzComponents(),s=`${e}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,n,r,s]=this.internal.toUTCString().split(" ");return`${e?.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${e} GMT${n}${r}${s} (${nbe(this.timeZone,this)})`}toLocaleString(e,n){return Date.prototype.toLocaleString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(e,n){return Date.prototype.toLocaleDateString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(e,n){return Date.prototype.toLocaleTimeString.call(this,e,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),n=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[n,r,s]}withTimeZone(e){return new is(+this,e)}[Symbol.for("constructDateFrom")](e){return new is(+new Date(e),this.timeZone)}}var Tt;(function(t){t.Root="root",t.Chevron="chevron",t.Day="day",t.DayButton="day_button",t.CaptionLabel="caption_label",t.Dropdowns="dropdowns",t.Dropdown="dropdown",t.DropdownRoot="dropdown_root",t.Footer="footer",t.MonthGrid="month_grid",t.MonthCaption="month_caption",t.MonthsDropdown="months_dropdown",t.Month="month",t.Months="months",t.Nav="nav",t.NextMonthButton="button_next",t.PreviousMonthButton="button_previous",t.Week="week",t.Weeks="weeks",t.Weekday="weekday",t.Weekdays="weekdays",t.WeekNumber="week_number",t.WeekNumberHeader="week_number_header",t.YearsDropdown="years_dropdown"})(Tt||(Tt={}));var sr;(function(t){t.disabled="disabled",t.hidden="hidden",t.outside="outside",t.focused="focused",t.today="today"})(sr||(sr={}));var yi;(function(t){t.range_end="range_end",t.range_middle="range_middle",t.range_start="range_start",t.selected="selected"})(yi||(yi={}));var la;(function(t){t.weeks_before_enter="weeks_before_enter",t.weeks_before_exit="weeks_before_exit",t.weeks_after_enter="weeks_after_enter",t.weeks_after_exit="weeks_after_exit",t.caption_after_enter="caption_after_enter",t.caption_after_exit="caption_after_exit",t.caption_before_enter="caption_before_enter",t.caption_before_exit="caption_before_exit"})(la||(la={}));const h7=5,abe=4;function ibe(t,e){const n=e.startOfMonth(t),r=n.getDay()>0?n.getDay():7,s=e.addDays(t,-r+1),a=e.addDays(s,h7*7-1);return e.getMonth(t)===e.getMonth(a)?h7:abe}function $F(t,e){const n=e.startOfMonth(t),r=n.getDay();return r===1?n:r===0?e.addDays(n,-6):e.addDays(n,-1*(r-1))}function obe(t,e){const n=$F(t,e),r=ibe(t,e);return e.addDays(n,r*7-1)}class El{constructor(e,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?is.tz(this.options.timeZone):new this.Date,this.newDate=(r,s,a)=>this.overrides?.newDate?this.overrides.newDate(r,s,a):this.options.timeZone?new is(r,s,a,this.options.timeZone):new Date(r,s,a),this.addDays=(r,s)=>this.overrides?.addDays?this.overrides.addDays(r,s):sB(r,s),this.addMonths=(r,s)=>this.overrides?.addMonths?this.overrides.addMonths(r,s):aB(r,s),this.addWeeks=(r,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,s):ame(r,s),this.addYears=(r,s)=>this.overrides?.addYears?this.overrides.addYears(r,s):ime(r,s),this.differenceInCalendarDays=(r,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):oB(r,s),this.differenceInCalendarMonths=(r,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):dme(r,s),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):pme(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):obe(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):yme(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):hme(r),this.endOfWeek=(r,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,s):uB(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):gme(r),this.format=(r,s,a)=>{const i=this.overrides?.format?this.overrides.format(r,s,this.options):h0e(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):dB(r),this.getMonth=(r,s)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):m0e(r,this.options),this.getYear=(r,s)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):g0e(r,this.options),this.getWeek=(r,s)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):fB(r,this.options),this.isAfter=(r,s)=>this.overrides?.isAfter?this.overrides.isAfter(r,s):y0e(r,s),this.isBefore=(r,s)=>this.overrides?.isBefore?this.overrides.isBefore(r,s):b0e(r,s),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):lB(r),this.isSameDay=(r,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,s):cme(r,s),this.isSameMonth=(r,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,s):w0e(r,s),this.isSameYear=(r,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,s):v0e(r,s),this.max=r=>this.overrides?.max?this.overrides.max(r):ome(r),this.min=r=>this.overrides?.min?this.overrides.min(r):lme(r),this.setMonth=(r,s)=>this.overrides?.setMonth?this.overrides.setMonth(r,s):x0e(r,s),this.setYear=(r,s)=>this.overrides?.setYear?this.overrides.setYear(r,s):N0e(r,s),this.startOfBroadcastWeek=(r,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):$F(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Kg(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Zg(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):mme(r),this.startOfWeek=(r,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):yp(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):cB(r),this.options={locale:pE,...e},this.overrides=n}getDigitMap(){const{numerals:e="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(e){const n=this.getDigitMap();return e.replace(/\d/g,r=>n[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const wo=new El;class MF{constructor(e,n,r=wo){this.date=e,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(e,n)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class lbe{constructor(e,n){this.date=e,this.weeks=n}}class cbe{constructor(e,n){this.days=n,this.weekNumber=e}}function sl(t,e,n=!1,r=wo){let{from:s,to:a}=t;const{differenceInCalendarDays:i,isSameDay:o}=r;return s&&a?(i(a,s)<0&&([s,a]=[a,s]),i(e,s)>=(n?1:0)&&i(a,e)>=(n?1:0)):!n&&a?o(a,e):!n&&s?o(s,e):!1}function zF(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function kE(t){return!!(t&&typeof t=="object"&&"from"in t)}function LF(t){return!!(t&&typeof t=="object"&&"after"in t)}function BF(t){return!!(t&&typeof t=="object"&&"before"in t)}function FF(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function UF(t,e){return Array.isArray(t)&&t.every(e.isDate)}function al(t,e,n=wo){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:a,isAfter:i}=n;return r.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return s(t,o);if(UF(o,n))return o.includes(t);if(kE(o))return sl(o,t,!1,n);if(FF(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(t.getDay()):o.dayOfWeek===t.getDay();if(zF(o)){const c=a(o.before,t),u=a(o.after,t),h=c>0,f=u<0;return i(o.before,o.after)?f&&h:h||f}return LF(o)?a(t,o.after)>0:BF(o)?a(o.before,t)>0:typeof o=="function"?o(t):!1})}function ube(t,e,n,r,s){const{disabled:a,hidden:i,modifiers:o,showOutsideDays:c,broadcastCalendar:u,today:h}=e,{isSameDay:f,isSameMonth:m,startOfMonth:g,isBefore:b,endOfMonth:y,isAfter:w}=s,x=n&&g(n),N=r&&y(r),E={[sr.focused]:[],[sr.outside]:[],[sr.disabled]:[],[sr.hidden]:[],[sr.today]:[]},C={};for(const k of t){const{date:A,displayMonth:_}=k,P=!!(_&&!m(A,_)),I=!!(x&&b(A,x)),$=!!(N&&w(A,N)),H=!!(a&&al(A,a,s)),M=!!(i&&al(A,i,s))||I||$||!u&&!c&&P||u&&c===!1&&P,B=f(A,h??s.today());P&&E.outside.push(k),H&&E.disabled.push(k),M&&E.hidden.push(k),B&&E.today.push(k),o&&Object.keys(o).forEach(O=>{const z=o?.[O];z&&al(A,z,s)&&(C[O]?C[O].push(k):C[O]=[k])})}return k=>{const A={[sr.focused]:!1,[sr.disabled]:!1,[sr.hidden]:!1,[sr.outside]:!1,[sr.today]:!1},_={};for(const P in E){const I=E[P];A[P]=I.some($=>$===k)}for(const P in C)_[P]=C[P].some(I=>I===k);return{...A,..._}}}function dbe(t,e,n={}){return Object.entries(t).filter(([,r])=>r===!0).reduce((r,[s])=>(n[s]?r.push(n[s]):e[sr[s]]?r.push(e[sr[s]]):e[yi[s]]&&r.push(e[yi[s]]),r),[e[Tt.Day]])}function hbe(t){return Ke.createElement("button",{...t})}function fbe(t){return Ke.createElement("span",{...t})}function pbe(t){const{size:e=24,orientation:n="left",className:r}=t;return Ke.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},n==="up"&&Ke.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Ke.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Ke.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Ke.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function mbe(t){const{day:e,modifiers:n,...r}=t;return Ke.createElement("td",{...r})}function gbe(t){const{day:e,modifiers:n,...r}=t,s=Ke.useRef(null);return Ke.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),Ke.createElement("button",{ref:s,...r})}function ybe(t){const{options:e,className:n,components:r,classNames:s,...a}=t,i=[s[Tt.Dropdown],n].join(" "),o=e?.find(({value:c})=>c===a.value);return Ke.createElement("span",{"data-disabled":a.disabled,className:s[Tt.DropdownRoot]},Ke.createElement(r.Select,{className:i,...a},e?.map(({value:c,label:u,disabled:h})=>Ke.createElement(r.Option,{key:c,value:c,disabled:h},u))),Ke.createElement("span",{className:s[Tt.CaptionLabel],"aria-hidden":!0},o?.label,Ke.createElement(r.Chevron,{orientation:"down",size:18,className:s[Tt.Chevron]})))}function bbe(t){return Ke.createElement("div",{...t})}function wbe(t){return Ke.createElement("div",{...t})}function vbe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Ke.createElement("div",{...r},t.children)}function xbe(t){const{calendarMonth:e,displayIndex:n,...r}=t;return Ke.createElement("div",{...r})}function Nbe(t){return Ke.createElement("table",{...t})}function kbe(t){return Ke.createElement("div",{...t})}const DF=j.createContext(void 0);function jy(){const t=j.useContext(DF);if(t===void 0)throw new Error("useDayPicker() must be used within a custom component.");return t}function Cbe(t){const{components:e}=jy();return Ke.createElement(e.Dropdown,{...t})}function Ebe(t){const{onPreviousClick:e,onNextClick:n,previousMonth:r,nextMonth:s,...a}=t,{components:i,classNames:o,labels:{labelPrevious:c,labelNext:u}}=jy(),h=j.useCallback(m=>{s&&n?.(m)},[s,n]),f=j.useCallback(m=>{r&&e?.(m)},[r,e]);return Ke.createElement("nav",{...a},Ke.createElement(i.PreviousMonthButton,{type:"button",className:o[Tt.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},Ke.createElement(i.Chevron,{disabled:r?void 0:!0,className:o[Tt.Chevron],orientation:"left"})),Ke.createElement(i.NextMonthButton,{type:"button",className:o[Tt.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":u(s),onClick:h},Ke.createElement(i.Chevron,{disabled:s?void 0:!0,orientation:"right",className:o[Tt.Chevron]})))}function Sbe(t){const{components:e}=jy();return Ke.createElement(e.Button,{...t})}function Abe(t){return Ke.createElement("option",{...t})}function jbe(t){const{components:e}=jy();return Ke.createElement(e.Button,{...t})}function Tbe(t){const{rootRef:e,...n}=t;return Ke.createElement("div",{...n,ref:e})}function Ibe(t){return Ke.createElement("select",{...t})}function _be(t){const{week:e,...n}=t;return Ke.createElement("tr",{...n})}function Pbe(t){return Ke.createElement("th",{...t})}function Obe(t){return Ke.createElement("thead",{"aria-hidden":!0},Ke.createElement("tr",{...t}))}function Rbe(t){const{week:e,...n}=t;return Ke.createElement("th",{...n})}function $be(t){return Ke.createElement("th",{...t})}function Mbe(t){return Ke.createElement("tbody",{...t})}function zbe(t){const{components:e}=jy();return Ke.createElement(e.Dropdown,{...t})}const Lbe=Object.freeze(Object.defineProperty({__proto__:null,Button:hbe,CaptionLabel:fbe,Chevron:pbe,Day:mbe,DayButton:gbe,Dropdown:ybe,DropdownNav:bbe,Footer:wbe,Month:vbe,MonthCaption:xbe,MonthGrid:Nbe,Months:kbe,MonthsDropdown:Cbe,Nav:Ebe,NextMonthButton:Sbe,Option:Abe,PreviousMonthButton:jbe,Root:Tbe,Select:Ibe,Week:_be,WeekNumber:Rbe,WeekNumberHeader:$be,Weekday:Pbe,Weekdays:Obe,Weeks:Mbe,YearsDropdown:zbe},Symbol.toStringTag,{value:"Module"}));function Bbe(t){return{...Lbe,...t}}function Fbe(t){const e={"data-mode":t.mode??void 0,"data-required":"required"in t?t.required:void 0,"data-multiple-months":t.numberOfMonths&&t.numberOfMonths>1||void 0,"data-week-numbers":t.showWeekNumber||void 0,"data-broadcast-calendar":t.broadcastCalendar||void 0,"data-nav-layout":t.navLayout||void 0};return Object.entries(t).forEach(([n,r])=>{n.startsWith("data-")&&(e[n]=r)}),e}function CE(){const t={};for(const e in Tt)t[Tt[e]]=`rdp-${Tt[e]}`;for(const e in sr)t[sr[e]]=`rdp-${sr[e]}`;for(const e in yi)t[yi[e]]=`rdp-${yi[e]}`;for(const e in la)t[la[e]]=`rdp-${la[e]}`;return t}function WF(t,e,n){return(n??new El(e)).format(t,"LLLL y")}const Ube=WF;function Dbe(t,e,n){return(n??new El(e)).format(t,"d")}function Wbe(t,e=wo){return e.format(t,"LLLL")}function Hbe(t,e=wo){return t<10?e.formatNumber(`0${t.toLocaleString()}`):e.formatNumber(`${t.toLocaleString()}`)}function Gbe(){return""}function qbe(t,e,n){return(n??new El(e)).format(t,"cccccc")}function HF(t,e=wo){return e.format(t,"yyyy")}const Vbe=HF,Zbe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:WF,formatDay:Dbe,formatMonthCaption:Ube,formatMonthDropdown:Wbe,formatWeekNumber:Hbe,formatWeekNumberHeader:Gbe,formatWeekdayName:qbe,formatYearCaption:Vbe,formatYearDropdown:HF},Symbol.toStringTag,{value:"Module"}));function Kbe(t){return t?.formatMonthCaption&&!t.formatCaption&&(t.formatCaption=t.formatMonthCaption),t?.formatYearCaption&&!t.formatYearDropdown&&(t.formatYearDropdown=t.formatYearCaption),{...Zbe,...t}}function Qbe(t,e,n,r,s){const{startOfMonth:a,startOfYear:i,endOfYear:o,eachMonthOfInterval:c,getMonth:u}=s;return c({start:i(t),end:o(t)}).map(h=>{const f=r.formatMonthDropdown(h,s),m=u(h),g=e&&h<a(e)||n&&h>a(n)||!1;return{value:m,label:f,disabled:g}})}function Jbe(t,e={},n={}){let r={...e?.[Tt.Day]};return Object.entries(t).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n?.[s]}}),r}function Ybe(t,e,n){const r=t.today(),s=e?t.startOfISOWeek(r):t.startOfWeek(r),a=[];for(let i=0;i<7;i++){const o=t.addDays(s,i);a.push(o)}return a}function Xbe(t,e,n,r){if(!t||!e)return;const{startOfYear:s,endOfYear:a,addYears:i,getYear:o,isBefore:c,isSameYear:u}=r,h=s(t),f=a(e),m=[];let g=h;for(;c(g,f)||u(g,f);)m.push(g),g=i(g,1);return m.map(b=>{const y=n.formatYearDropdown(b,r);return{value:o(b),label:y,disabled:!1}})}function GF(t,e,n){return(n??new El(e)).format(t,"LLLL y")}const e1e=GF;function t1e(t,e,n,r){let s=(r??new El(n)).format(t,"PPPP");return e?.today&&(s=`Today, ${s}`),s}function qF(t,e,n,r){let s=(r??new El(n)).format(t,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const n1e=qF;function r1e(){return""}function s1e(t){return"Choose the Month"}function a1e(t){return"Go to the Next Month"}function i1e(t){return"Go to the Previous Month"}function o1e(t,e,n){return(n??new El(e)).format(t,"cccc")}function l1e(t,e){return`Week ${t}`}function c1e(t){return"Week Number"}function u1e(t){return"Choose the Year"}const d1e=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:e1e,labelDay:n1e,labelDayButton:qF,labelGrid:GF,labelGridcell:t1e,labelMonthDropdown:s1e,labelNav:r1e,labelNext:a1e,labelPrevious:i1e,labelWeekNumber:l1e,labelWeekNumberHeader:c1e,labelWeekday:o1e,labelYearDropdown:u1e},Symbol.toStringTag,{value:"Module"})),Ty=t=>t instanceof HTMLElement?t:null,V4=t=>[...t.querySelectorAll("[data-animated-month]")??[]],h1e=t=>Ty(t.querySelector("[data-animated-month]")),Z4=t=>Ty(t.querySelector("[data-animated-caption]")),K4=t=>Ty(t.querySelector("[data-animated-weeks]")),f1e=t=>Ty(t.querySelector("[data-animated-nav]")),p1e=t=>Ty(t.querySelector("[data-animated-weekdays]"));function m1e(t,e,{classNames:n,months:r,focused:s,dateLib:a}){const i=j.useRef(null),o=j.useRef(r),c=j.useRef(!1);j.useLayoutEffect(()=>{const u=o.current;if(o.current=r,!e||!t.current||!(t.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const h=a.isSameMonth(r[0].date,u[0].date),f=a.isAfter(r[0].date,u[0].date),m=f?n[la.caption_after_enter]:n[la.caption_before_enter],g=f?n[la.weeks_after_enter]:n[la.weeks_before_enter],b=i.current,y=t.current.cloneNode(!0);if(y instanceof HTMLElement?(V4(y).forEach(N=>{if(!(N instanceof HTMLElement))return;const E=h1e(N);E&&N.contains(E)&&N.removeChild(E);const C=Z4(N);C&&C.classList.remove(m);const k=K4(N);k&&k.classList.remove(g)}),i.current=y):i.current=null,c.current||h||s)return;const w=b instanceof HTMLElement?V4(b):[],x=V4(t.current);if(x&&x.every(N=>N instanceof HTMLElement)&&w&&w.every(N=>N instanceof HTMLElement)){c.current=!0,t.current.style.isolation="isolate";const N=f1e(t.current);N&&(N.style.zIndex="1"),x.forEach((E,C)=>{const k=w[C];if(!k)return;E.style.position="relative",E.style.overflow="hidden";const A=Z4(E);A&&A.classList.add(m);const _=K4(E);_&&_.classList.add(g);const P=()=>{c.current=!1,t.current&&(t.current.style.isolation=""),N&&(N.style.zIndex=""),A&&A.classList.remove(m),_&&_.classList.remove(g),E.style.position="",E.style.overflow="",E.contains(k)&&E.removeChild(k)};k.style.pointerEvents="none",k.style.position="absolute",k.style.overflow="hidden",k.setAttribute("aria-hidden","true");const I=p1e(k);I&&(I.style.opacity="0");const $=Z4(k);$&&($.classList.add(f?n[la.caption_before_exit]:n[la.caption_after_exit]),$.addEventListener("animationend",P));const H=K4(k);H&&H.classList.add(f?n[la.weeks_before_exit]:n[la.weeks_after_exit]),E.insertBefore(k,E.firstChild)})}})}function g1e(t,e,n,r){const s=t[0],a=t[t.length-1],{ISOWeek:i,fixedWeeks:o,broadcastCalendar:c}=n??{},{addDays:u,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:m,endOfISOWeek:g,endOfMonth:b,endOfWeek:y,isAfter:w,startOfBroadcastWeek:x,startOfISOWeek:N,startOfWeek:E}=r,C=c?x(s,r):i?N(s):E(s),k=c?m(a):i?g(b(a)):y(b(a)),A=h(k,C),_=f(a,s)+1,P=[];for(let $=0;$<=A;$++){const H=u(C,$);if(e&&w(H,e))break;P.push(H)}const I=(c?35:42)*_;if(o&&P.length<I){const $=I-P.length;for(let H=0;H<$;H++){const M=u(P[P.length-1],1);P.push(M)}}return P}function y1e(t){const e=[];return t.reduce((n,r)=>{const s=r.weeks.reduce((a,i)=>[...a,...i.days],e);return[...n,...s]},e)}function b1e(t,e,n,r){const{numberOfMonths:s=1}=n,a=[];for(let i=0;i<s;i++){const o=r.addMonths(t,i);if(e&&o>e)break;a.push(o)}return a}function f7(t,e,n,r){const{month:s,defaultMonth:a,today:i=r.today(),numberOfMonths:o=1}=t;let c=s||a||i;const{differenceInCalendarMonths:u,addMonths:h,startOfMonth:f}=r;if(n&&u(n,c)<o-1){const m=-1*(o-1);c=h(n,m)}return e&&u(c,e)<0&&(c=e),f(c)}function w1e(t,e,n,r){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:i,endOfMonth:o,endOfWeek:c,getISOWeek:u,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:m,startOfWeek:g}=r,b=t.reduce((y,w)=>{const x=n.broadcastCalendar?f(w,r):n.ISOWeek?m(w):g(w),N=n.broadcastCalendar?a(w):n.ISOWeek?i(o(w)):c(o(w)),E=e.filter(_=>_>=x&&_<=N),C=n.broadcastCalendar?35:42;if(n.fixedWeeks&&E.length<C){const _=e.filter(P=>{const I=C-E.length;return P>N&&P<=s(N,I)});E.push(..._)}const k=E.reduce((_,P)=>{const I=n.ISOWeek?u(P):h(P),$=_.find(M=>M.weekNumber===I),H=new MF(P,w,r);return $?$.days.push(H):_.push(new cbe(I,[H])),_},[]),A=new lbe(w,k);return y.push(A),y},[]);return n.reverseMonths?b.reverse():b}function v1e(t,e){let{startMonth:n,endMonth:r}=t;const{startOfYear:s,startOfDay:a,startOfMonth:i,endOfMonth:o,addYears:c,endOfYear:u,newDate:h,today:f}=e,{fromYear:m,toYear:g,fromMonth:b,toMonth:y}=t;!n&&b&&(n=b),!n&&m&&(n=e.newDate(m,0,1)),!r&&y&&(r=y),!r&&g&&(r=h(g,11,31));const w=t.captionLayout==="dropdown"||t.captionLayout==="dropdown-years";return n?n=i(n):m?n=h(m,0,1):!n&&w&&(n=s(c(t.today??f(),-100))),r?r=o(r):g?r=h(g,11,31):!r&&w&&(r=u(t.today??f())),[n&&a(n),r&&a(r)]}function x1e(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=n,{startOfMonth:i,addMonths:o,differenceInCalendarMonths:c}=r,u=s?a:1,h=i(t);if(!e||!(c(e,t)<a))return o(h,u)}function N1e(t,e,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=n,{startOfMonth:i,addMonths:o,differenceInCalendarMonths:c}=r,u=s?a??1:1,h=i(t);if(!e||!(c(h,e)<=0))return o(h,-u)}function k1e(t){const e=[];return t.reduce((n,r)=>[...n,...r.weeks],e)}function Ox(t,e){const[n,r]=j.useState(t);return[e===void 0?n:e,r]}function C1e(t,e){const[n,r]=v1e(t,e),{startOfMonth:s,endOfMonth:a}=e,i=f7(t,n,r,e),[o,c]=Ox(i,t.month?i:void 0);j.useEffect(()=>{const C=f7(t,n,r,e);c(C)},[t.timeZone]);const u=b1e(o,r,t,e),h=g1e(u,t.endMonth?a(t.endMonth):void 0,t,e),f=w1e(u,h,t,e),m=k1e(f),g=y1e(f),b=N1e(o,n,t,e),y=x1e(o,r,t,e),{disableNavigation:w,onMonthChange:x}=t,N=C=>m.some(k=>k.days.some(A=>A.isEqualTo(C))),E=C=>{if(w)return;let k=s(C);n&&k<s(n)&&(k=s(n)),r&&k>s(r)&&(k=s(r)),c(k),x?.(k)};return{months:f,weeks:m,days:g,navStart:n,navEnd:r,previousMonth:b,nextMonth:y,goToMonth:E,goToDay:C=>{N(C)||E(C.date)}}}var Zi;(function(t){t[t.Today=0]="Today",t[t.Selected=1]="Selected",t[t.LastFocused=2]="LastFocused",t[t.FocusedModifier=3]="FocusedModifier"})(Zi||(Zi={}));function p7(t){return!t[sr.disabled]&&!t[sr.hidden]&&!t[sr.outside]}function E1e(t,e,n,r){let s,a=-1;for(const i of t){const o=e(i);p7(o)&&(o[sr.focused]&&a<Zi.FocusedModifier?(s=i,a=Zi.FocusedModifier):r?.isEqualTo(i)&&a<Zi.LastFocused?(s=i,a=Zi.LastFocused):n(i.date)&&a<Zi.Selected?(s=i,a=Zi.Selected):o[sr.today]&&a<Zi.Today&&(s=i,a=Zi.Today))}return s||(s=t.find(i=>p7(e(i)))),s}function S1e(t,e,n,r,s,a,i){const{ISOWeek:o,broadcastCalendar:c}=a,{addDays:u,addMonths:h,addWeeks:f,addYears:m,endOfBroadcastWeek:g,endOfISOWeek:b,endOfWeek:y,max:w,min:x,startOfBroadcastWeek:N,startOfISOWeek:E,startOfWeek:C}=i;let k={day:u,week:f,month:h,year:m,startOfWeek:A=>c?N(A,i):o?E(A):C(A),endOfWeek:A=>c?g(A):o?b(A):y(A)}[t](n,e==="after"?1:-1);return e==="before"&&r?k=w([r,k]):e==="after"&&s&&(k=x([s,k])),k}function VF(t,e,n,r,s,a,i,o=0){if(o>365)return;const c=S1e(t,e,n.date,r,s,a,i),u=!!(a.disabled&&al(c,a.disabled,i)),h=!!(a.hidden&&al(c,a.hidden,i)),f=c,m=new MF(c,f,i);return!u&&!h?m:VF(t,e,m,r,s,a,i,o+1)}function A1e(t,e,n,r,s){const{autoFocus:a}=t,[i,o]=j.useState(),c=E1e(e.days,n,r||(()=>!1),i),[u,h]=j.useState(a?c:void 0);return{isFocusTarget:f=>!!c?.isEqualTo(f),setFocused:h,focused:u,blur:()=>{o(u),h(void 0)},moveFocus:(f,m)=>{if(!u)return;const g=VF(f,m,u,e.navStart,e.navEnd,t,s);g&&(e.goToDay(g),h(g))}}}function j1e(t,e){const{selected:n,required:r,onSelect:s}=t,[a,i]=Ox(n,s?n:void 0),o=s?n:a,{isSameDay:c}=e,u=m=>o?.some(g=>c(g,m))??!1,{min:h,max:f}=t;return{selected:o,select:(m,g,b)=>{let y=[...o??[]];if(u(m)){if(o?.length===h||r&&o?.length===1)return;y=o?.filter(w=>!c(w,m))}else o?.length===f?y=[m]:y=[...y,m];return s||i(y),s?.(y,m,g,b),y},isSelected:u}}function T1e(t,e,n=0,r=0,s=!1,a=wo){const{from:i,to:o}=e||{},{isSameDay:c,isAfter:u,isBefore:h}=a;let f;if(!i&&!o)f={from:t,to:n>0?void 0:t};else if(i&&!o)c(i,t)?s?f={from:i,to:void 0}:f=void 0:h(t,i)?f={from:t,to:i}:f={from:i,to:t};else if(i&&o)if(c(i,t)&&c(o,t))s?f={from:i,to:o}:f=void 0;else if(c(i,t))f={from:i,to:n>0?void 0:t};else if(c(o,t))f={from:t,to:n>0?void 0:t};else if(h(t,i))f={from:t,to:o};else if(u(t,i))f={from:i,to:t};else if(u(t,o))f={from:i,to:t};else throw new Error("Invalid range");if(f?.from&&f?.to){const m=a.differenceInCalendarDays(f.to,f.from);r>0&&m>r?f={from:t,to:void 0}:n>1&&m<n&&(f={from:t,to:void 0})}return f}function I1e(t,e,n=wo){const r=Array.isArray(e)?e:[e];let s=t.from;const a=n.differenceInCalendarDays(t.to,t.from),i=Math.min(a,6);for(let o=0;o<=i;o++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function m7(t,e,n=wo){return sl(t,e.from,!1,n)||sl(t,e.to,!1,n)||sl(e,t.from,!1,n)||sl(e,t.to,!1,n)}function _1e(t,e,n=wo){const r=Array.isArray(e)?e:[e];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?sl(t,a,!1,n):UF(a,n)?a.some(i=>sl(t,i,!1,n)):kE(a)?a.from&&a.to?m7(t,{from:a.from,to:a.to},n):!1:FF(a)?I1e(t,a.dayOfWeek,n):zF(a)?n.isAfter(a.before,a.after)?m7(t,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):al(t.from,a,n)||al(t.to,a,n):LF(a)||BF(a)?al(t.from,a,n)||al(t.to,a,n):!1))return!0;const s=r.filter(a=>typeof a=="function");if(s.length){let a=t.from;const i=n.differenceInCalendarDays(t.to,t.from);for(let o=0;o<=i;o++){if(s.some(c=>c(a)))return!0;a=n.addDays(a,1)}}return!1}function P1e(t,e){const{disabled:n,excludeDisabled:r,selected:s,required:a,onSelect:i}=t,[o,c]=Ox(s,i?s:void 0),u=i?s:o;return{selected:u,select:(h,f,m)=>{const{min:g,max:b}=t,y=h?T1e(h,u,g,b,a,e):void 0;return r&&n&&y?.from&&y.to&&_1e({from:y.from,to:y.to},n,e)&&(y.from=h,y.to=void 0),i||c(y),i?.(y,h,f,m),y},isSelected:h=>u&&sl(u,h,!1,e)}}function O1e(t,e){const{selected:n,required:r,onSelect:s}=t,[a,i]=Ox(n,s?n:void 0),o=s?n:a,{isSameDay:c}=e;return{selected:o,select:(u,h,f)=>{let m=u;return!r&&o&&o&&c(u,o)&&(m=void 0),s||i(m),s?.(m,u,h,f),m},isSelected:u=>o?c(o,u):!1}}function R1e(t,e){const n=O1e(t,e),r=j1e(t,e),s=P1e(t,e);switch(t.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function $1e(t){let e=t;e.timeZone&&(e={...t},e.today&&(e.today=new is(e.today,e.timeZone)),e.month&&(e.month=new is(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new is(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new is(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new is(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new is(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=e.selected?.map(nt=>new is(nt,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new is(e.selected.from,e.timeZone):void 0,to:e.selected.to?new is(e.selected.to,e.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:a,locale:i,classNames:o}=j.useMemo(()=>{const nt={...pE,...e.locale};return{dateLib:new El({locale:nt,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:Bbe(e.components),formatters:Kbe(e.formatters),labels:{...d1e,...e.labels},locale:nt,classNames:{...CE(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:c,mode:u,navLayout:h,numberOfMonths:f=1,onDayBlur:m,onDayClick:g,onDayFocus:b,onDayKeyDown:y,onDayMouseEnter:w,onDayMouseLeave:x,onNextClick:N,onPrevClick:E,showWeekNumber:C,styles:k}=e,{formatCaption:A,formatDay:_,formatMonthDropdown:P,formatWeekNumber:I,formatWeekNumberHeader:$,formatWeekdayName:H,formatYearDropdown:M}=r,B=C1e(e,a),{days:O,months:z,navStart:G,navEnd:Z,previousMonth:D,nextMonth:K,goToMonth:ee}=B,F=ube(O,e,G,Z,a),{isSelected:V,select:J,selected:Q}=R1e(e,a)??{},{blur:ae,focused:ue,isFocusTarget:re,moveFocus:ie,setFocused:me}=A1e(e,B,F,V??(()=>!1),a),{labelDayButton:oe,labelGridcell:he,labelGrid:Ne,labelMonthDropdown:Re,labelNav:W,labelPrevious:ye,labelNext:ce,labelWeekday:ne,labelWeekNumber:se,labelWeekNumberHeader:fe,labelYearDropdown:Ie}=s,je=j.useMemo(()=>Ybe(a,e.ISOWeek),[a,e.ISOWeek]),be=u!==void 0||g!==void 0,Be=j.useCallback(()=>{D&&(ee(D),E?.(D))},[D,ee,E]),$e=j.useCallback(()=>{K&&(ee(K),N?.(K))},[ee,K,N]),Me=j.useCallback((nt,Zt)=>Ht=>{Ht.preventDefault(),Ht.stopPropagation(),me(nt),J?.(nt.date,Zt,Ht),g?.(nt.date,Zt,Ht)},[J,g,me]),we=j.useCallback((nt,Zt)=>Ht=>{me(nt),b?.(nt.date,Zt,Ht)},[b,me]),T=j.useCallback((nt,Zt)=>Ht=>{ae(),m?.(nt.date,Zt,Ht)},[ae,m]),L=j.useCallback((nt,Zt)=>Ht=>{const Bn={ArrowLeft:[Ht.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Ht.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Ht.shiftKey?"year":"week","after"],ArrowUp:[Ht.shiftKey?"year":"week","before"],PageUp:[Ht.shiftKey?"year":"month","before"],PageDown:[Ht.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Bn[Ht.key]){Ht.preventDefault(),Ht.stopPropagation();const[En,Ur]=Bn[Ht.key];ie(En,Ur)}y?.(nt.date,Zt,Ht)},[ie,y,e.dir]),q=j.useCallback((nt,Zt)=>Ht=>{w?.(nt.date,Zt,Ht)},[w]),le=j.useCallback((nt,Zt)=>Ht=>{x?.(nt.date,Zt,Ht)},[x]),ge=j.useCallback(nt=>Zt=>{const Ht=Number(Zt.target.value),Bn=a.setMonth(a.startOfMonth(nt),Ht);ee(Bn)},[a,ee]),Ce=j.useCallback(nt=>Zt=>{const Ht=Number(Zt.target.value),Bn=a.setYear(a.startOfMonth(nt),Ht);ee(Bn)},[a,ee]),{className:Ae,style:rt}=j.useMemo(()=>({className:[o[Tt.Root],e.className].filter(Boolean).join(" "),style:{...k?.[Tt.Root],...e.style}}),[o,e.className,e.style,k]),kt=Fbe(e),ot=j.useRef(null);m1e(ot,!!e.animate,{classNames:o,months:z,focused:ue,dateLib:a});const Ct={dayPickerProps:e,selected:Q,select:J,isSelected:V,months:z,nextMonth:K,previousMonth:D,goToMonth:ee,getModifiers:F,components:n,classNames:o,styles:k,labels:s,formatters:r};return Ke.createElement(DF.Provider,{value:Ct},Ke.createElement(n.Root,{rootRef:e.animate?ot:void 0,className:Ae,style:rt,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],...kt},Ke.createElement(n.Months,{className:o[Tt.Months],style:k?.[Tt.Months]},!e.hideNavigation&&!h&&Ke.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[Tt.Nav],style:k?.[Tt.Nav],"aria-label":W(),onPreviousClick:Be,onNextClick:$e,previousMonth:D,nextMonth:K}),z.map((nt,Zt)=>{const Ht=Qbe(nt.date,G,Z,r,a),Bn=Xbe(G,Z,r,a);return Ke.createElement(n.Month,{"data-animated-month":e.animate?"true":void 0,className:o[Tt.Month],style:k?.[Tt.Month],key:Zt,displayIndex:Zt,calendarMonth:nt},h==="around"&&!e.hideNavigation&&Zt===0&&Ke.createElement(n.PreviousMonthButton,{type:"button",className:o[Tt.PreviousMonthButton],tabIndex:D?void 0:-1,"aria-disabled":D?void 0:!0,"aria-label":ye(D),onClick:Be,"data-animated-button":e.animate?"true":void 0},Ke.createElement(n.Chevron,{disabled:D?void 0:!0,className:o[Tt.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Ke.createElement(n.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:o[Tt.MonthCaption],style:k?.[Tt.MonthCaption],calendarMonth:nt,displayIndex:Zt},c?.startsWith("dropdown")?Ke.createElement(n.DropdownNav,{className:o[Tt.Dropdowns],style:k?.[Tt.Dropdowns]},c==="dropdown"||c==="dropdown-months"?Ke.createElement(n.MonthsDropdown,{className:o[Tt.MonthsDropdown],"aria-label":Re(),classNames:o,components:n,disabled:!!e.disableNavigation,onChange:ge(nt.date),options:Ht,style:k?.[Tt.Dropdown],value:a.getMonth(nt.date)}):Ke.createElement("span",null,P(nt.date,a)),c==="dropdown"||c==="dropdown-years"?Ke.createElement(n.YearsDropdown,{className:o[Tt.YearsDropdown],"aria-label":Ie(a.options),classNames:o,components:n,disabled:!!e.disableNavigation,onChange:Ce(nt.date),options:Bn,style:k?.[Tt.Dropdown],value:a.getYear(nt.date)}):Ke.createElement("span",null,M(nt.date,a)),Ke.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},A(nt.date,a.options,a))):Ke.createElement(n.CaptionLabel,{className:o[Tt.CaptionLabel],role:"status","aria-live":"polite"},A(nt.date,a.options,a))),h==="around"&&!e.hideNavigation&&Zt===f-1&&Ke.createElement(n.NextMonthButton,{type:"button",className:o[Tt.NextMonthButton],tabIndex:K?void 0:-1,"aria-disabled":K?void 0:!0,"aria-label":ce(K),onClick:$e,"data-animated-button":e.animate?"true":void 0},Ke.createElement(n.Chevron,{disabled:K?void 0:!0,className:o[Tt.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Zt===f-1&&h==="after"&&!e.hideNavigation&&Ke.createElement(n.Nav,{"data-animated-nav":e.animate?"true":void 0,className:o[Tt.Nav],style:k?.[Tt.Nav],"aria-label":W(),onPreviousClick:Be,onNextClick:$e,previousMonth:D,nextMonth:K}),Ke.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":Ne(nt.date,a.options,a)||void 0,className:o[Tt.MonthGrid],style:k?.[Tt.MonthGrid]},!e.hideWeekdays&&Ke.createElement(n.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:o[Tt.Weekdays],style:k?.[Tt.Weekdays]},C&&Ke.createElement(n.WeekNumberHeader,{"aria-label":fe(a.options),className:o[Tt.WeekNumberHeader],style:k?.[Tt.WeekNumberHeader],scope:"col"},$()),je.map((En,Ur)=>Ke.createElement(n.Weekday,{"aria-label":ne(En,a.options,a),className:o[Tt.Weekday],key:Ur,style:k?.[Tt.Weekday],scope:"col"},H(En,a.options,a)))),Ke.createElement(n.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:o[Tt.Weeks],style:k?.[Tt.Weeks]},nt.weeks.map((En,Ur)=>Ke.createElement(n.Week,{className:o[Tt.Week],key:En.weekNumber,style:k?.[Tt.Week],week:En},C&&Ke.createElement(n.WeekNumber,{week:En,style:k?.[Tt.WeekNumber],"aria-label":se(En.weekNumber,{locale:i}),className:o[Tt.WeekNumber],scope:"row",role:"rowheader"},I(En.weekNumber,a)),En.days.map(Vn=>{const{date:Dr}=Vn,on=F(Vn);if(on[sr.focused]=!on.hidden&&!!ue?.isEqualTo(Vn),on[yi.selected]=V?.(Dr)||on.selected,kE(Q)){const{from:Sr,to:ba}=Q;on[yi.range_start]=!!(Sr&&ba&&a.isSameDay(Dr,Sr)),on[yi.range_end]=!!(Sr&&ba&&a.isSameDay(Dr,ba)),on[yi.range_middle]=sl(Q,Dr,!0,a)}const Sl=Jbe(on,k,e.modifiersStyles),es=dbe(on,o,e.modifiersClassNames),vo=!be&&!on.hidden?he(Dr,on,a.options,a):void 0;return Ke.createElement(n.Day,{key:`${a.format(Dr,"yyyy-MM-dd")}_${a.format(Vn.displayMonth,"yyyy-MM")}`,day:Vn,modifiers:on,className:es.join(" "),style:Sl,role:"gridcell","aria-selected":on.selected||void 0,"aria-label":vo,"data-day":a.format(Dr,"yyyy-MM-dd"),"data-month":Vn.outside?a.format(Dr,"yyyy-MM"):void 0,"data-selected":on.selected||void 0,"data-disabled":on.disabled||void 0,"data-hidden":on.hidden||void 0,"data-outside":Vn.outside||void 0,"data-focused":on.focused||void 0,"data-today":on.today||void 0},!on.hidden&&be?Ke.createElement(n.DayButton,{className:o[Tt.DayButton],style:k?.[Tt.DayButton],type:"button",day:Vn,modifiers:on,disabled:on.disabled||void 0,tabIndex:re(Vn)?0:-1,"aria-label":oe(Dr,on,a.options,a),onClick:Me(Vn,on),onBlur:T(Vn,on),onFocus:we(Vn,on),onKeyDown:L(Vn,on),onMouseEnter:q(Vn,on),onMouseLeave:le(Vn,on)},_(Dr,a.options,a)):!on.hidden&&_(Vn.date,a.options,a))}))))))})),e.footer&&Ke.createElement(n.Footer,{className:o[Tt.Footer],style:k?.[Tt.Footer],role:"status","aria-live":"polite"},e.footer)))}const g7=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,y7=NL,M1e=(t,e)=>n=>{var r;if(e?.variants==null)return y7(t,n?.class,n?.className);const{variants:s,defaultVariants:a}=e,i=Object.keys(s).map(u=>{const h=n?.[u],f=a?.[u];if(h===null)return null;const m=g7(h)||g7(f);return s[u][m]}),o=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...a,...o}[y]):{...a,...o}[y]===w})?[...u,f,m]:u},[]);return y7(t,i,c,n?.class,n?.className)},$6=M1e("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function z1e({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?sge:"button";return l.jsx(a,{"data-slot":"button",className:mn($6({variant:e,size:n,className:t})),...s})}function L1e({className:t,classNames:e,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:a,components:i,...o}){const c=CE();return l.jsx($1e,{showOutsideDays:n,className:mn("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,t),captionLayout:r,formatters:{formatMonthDropdown:u=>u.toLocaleString("default",{month:"short"}),...a},classNames:{root:mn("w-fit",c.root),months:mn("flex gap-4 flex-col md:flex-row relative",c.months),month:mn("flex flex-col w-full gap-4",c.month),nav:mn("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:mn($6({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:mn($6({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:mn("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",c.month_caption),dropdowns:mn("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",c.dropdowns),dropdown_root:mn("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:mn("absolute inset-0 opacity-0",c.dropdown),caption_label:mn("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:mn("flex",c.weekdays),weekday:mn("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:mn("flex w-full mt-2",c.week),week_number_header:mn("select-none w-(--cell-size)",c.week_number_header),week_number:mn("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:mn("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:mn("rounded-l-md bg-accent",c.range_start),range_middle:mn("rounded-none",c.range_middle),range_end:mn("rounded-r-md bg-accent",c.range_end),today:mn("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:mn("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:mn("text-muted-foreground opacity-50",c.disabled),hidden:mn("invisible",c.hidden),...e},components:{Root:({className:u,rootRef:h,...f})=>l.jsx("div",{"data-slot":"calendar",ref:h,className:mn(u),...f}),Chevron:({className:u,orientation:h,...f})=>h==="left"?l.jsx(Jz,{className:mn("size-4",u),...f}):h==="right"?l.jsx(Yz,{className:mn("size-4",u),...f}):l.jsx(xx,{className:mn("size-4",u),...f}),DayButton:B1e,WeekNumber:({children:u,...h})=>l.jsx("td",{...h,children:l.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:u})}),...i},...o})}function B1e({className:t,day:e,modifiers:n,...r}){const s=CE(),a=j.useRef(null);return j.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),l.jsx(z1e,{ref:a,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:mn("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,t),...r})}const b7=({value:t,onChange:e,disabled:n=!1})=>{const[r,s]=j.useState("date"),[a,i]=j.useState(t?new Date(t):null);j.useEffect(()=>{t&&i(new Date(t))},[t]);const o=h=>{if(!h)return;const f=new Date(Date.UTC(h.getFullYear(),h.getMonth(),h.getDate(),a?.getUTCHours()||0,a?.getUTCMinutes()||0));i(f),s("time"),e(f.toISOString())},c=h=>{const{name:f,value:m}=h.target,g=a?new Date(a.getTime()):new Date;f==="hour"&&g.setUTCHours(Math.max(0,Math.min(23,Number(m)))),f==="minute"&&g.setUTCMinutes(Math.max(0,Math.min(59,Number(m)))),i(g),e(g.toISOString())},u=h=>{if(!h)return"";const f=h.getUTCHours().toString().padStart(2,"0"),m=h.getUTCMinutes().toString().padStart(2,"0"),g=h.getUTCDate().toString().padStart(2,"0"),b=(h.getUTCMonth()+1).toString().padStart(2,"0");return`${h.getUTCFullYear()}-${b}-${g} ${f}:${m}`};return l.jsxs(Xye,{children:[l.jsx(ebe,{asChild:!0,children:l.jsxs("button",{className:mn("w-full flex justify-between items-center p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm",!t&&"text-zinc-500"),disabled:n,children:[t?u(new Date(t))+" UTC":"Pick date & time (UTC)",l.jsx(Qz,{className:"ml-2 h-4 w-4 text-zinc-400"})]})}),l.jsxs(tbe,{className:"w-auto bg-zinc-900 border border-zinc-700 text-white",children:[r==="date"&&l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(L1e,{mode:"single",selected:a,onSelect:o,className:"bg-zinc-900"}),a&&l.jsx("button",{onClick:()=>s("time"),className:"mt-2 text-xs text-blue-400 hover:underline",children:"Set time for selected date"})]}),r==="time"&&l.jsxs("div",{className:"flex flex-col items-center px-2 py-2 gap-2",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"All times are in UTC"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("label",{className:"text-xs",children:"Hour (UTC):"}),l.jsx("input",{type:"number",name:"hour",min:0,max:23,value:a?.getUTCHours()??0,onChange:c,className:"w-16 p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm"}),l.jsx("label",{className:"text-xs",children:"Minute:"}),l.jsx("input",{type:"number",name:"minute",min:0,max:59,value:a?.getUTCMinutes()??0,onChange:c,className:"w-16 p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm"})]}),l.jsx("button",{onClick:()=>s("date"),className:"mt-2 text-xs text-blue-400 hover:underline",children:"← Back to date"})]})]})]})},ZF=({collectionAddress:t,phases:e,onActivatePhase:n,onRemovePhase:r,nfts:s=[],saleStatus:a,onPauseSale:i,onResumeSale:o})=>{const[c,u]=j.useState({}),[h,f]=j.useState({}),[m,g]=j.useState({visible:!1,message:"",type:"success"}),[b,y]=j.useState({Whitelist:!1,FCFS:!1,Public:!0}),w=j.useRef({}),[x,N]=j.useState(s.length);j.useEffect(()=>{if(m.visible){const B=setTimeout(()=>g(O=>({...O,visible:!1})),3e3);return()=>clearTimeout(B)}},[m.visible]);const E=(B,O="success")=>{g({visible:!0,message:B,type:O})},C=["Whitelist","FCFS","Public"],k=B=>C[C.indexOf(B)-1]||null,A=B=>C[C.indexOf(B)+1]||null,_=(B,O)=>{let z=B[O]?.start?new Date(B[O].start):null,G=B[O]?.end?new Date(B[O].end):null;if(!z||!G)return B;const Z=k(O);if(Z&&B[Z]?.end){const K=new Date(B[Z].end);z<K&&(z=new Date(K))}const D=A(O);if(D&&B[D]?.start){const K=new Date(B[D].start);G>K&&(G=new Date(K))}return G<=z&&(G=new Date(z.getTime()+3600*1e3)),B[O].start=new Date(Date.UTC(z.getUTCFullYear(),z.getUTCMonth(),z.getUTCDate(),z.getUTCHours(),z.getUTCMinutes())).toISOString(),B[O].end=new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate(),G.getUTCHours(),G.getUTCMinutes())).toISOString(),B};j.useEffect(()=>{const B=()=>{const z=JSON.parse(localStorage.getItem(`phases_${t}`))||{},G=JSON.parse(localStorage.getItem(`collection_${t}_nfts`)||"[]").length;if(N(G),z.Public){const Z=Object.entries(z).reduce((D,[K,ee])=>K==="Public"?D:D+(Number(ee.allocated)||0),0);z.Public.allocated=Math.max(0,G-Z),z.Public.limit=1,localStorage.setItem(`phases_${t}`,JSON.stringify(z))}else{const Z=new Date,D=new Date(Z.getTime()+4320*60*1e3);z.Public={price:"0.1",limit:1,allocated:G,start:new Date(Date.UTC(Z.getUTCFullYear(),Z.getUTCMonth(),Z.getUTCDate(),Z.getUTCHours(),Z.getUTCMinutes())).toISOString(),end:new Date(Date.UTC(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate(),D.getUTCHours(),D.getUTCMinutes())).toISOString(),active:!0,isPublic:!0},localStorage.setItem(`phases_${t}`,JSON.stringify(z))}u(z),y({Whitelist:!!z.Whitelist,FCFS:!!z.FCFS,Public:!0})};window.addEventListener("storage",B);const O=setInterval(B,2e3);return()=>{window.removeEventListener("storage",B),clearInterval(O)}},[t]),j.useEffect(()=>{if(!t)return;const B=JSON.parse(localStorage.getItem(`collection_${t}_nfts`)||"[]");N(B.length);const O=JSON.parse(localStorage.getItem(`phases_${t}`))||{};if(O.Public){const z=Object.entries(O).reduce((G,[Z,D])=>Z==="Public"?G:G+(Number(D.allocated)||0),0);O.Public.allocated=Math.max(0,B.length-z),O.Public.limit=1,localStorage.setItem(`phases_${t}`,JSON.stringify(O))}else{const z=new Date,G=new Date(z.getTime()+4320*60*1e3);O.Public={price:"0.1",limit:1,allocated:B.length,start:new Date(Date.UTC(z.getUTCFullYear(),z.getUTCMonth(),z.getUTCDate(),z.getUTCHours(),z.getUTCMinutes())).toISOString(),end:new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate(),G.getUTCHours(),G.getUTCMinutes())).toISOString(),active:!0,isPublic:!0},localStorage.setItem(`phases_${t}`,JSON.stringify(O))}u(O),y({Whitelist:!!O.Whitelist,FCFS:!!O.FCFS,Public:!0})},[t]);const P=B=>{B!=="Public"&&y(O=>{const z={...O,[B]:!O[B]};if(z[B]&&!c[B]){const G=new Date,Z=new Date(G.getTime()+3600*1e3),D=new Date(Z.getTime()+3600*1e3),K=Math.floor(x/3),ee={price:B==="Whitelist"?"0.05":"0.08",allocated:K,start:new Date(Date.UTC(Z.getUTCFullYear(),Z.getUTCMonth(),Z.getUTCDate(),Z.getUTCHours(),Z.getUTCMinutes())).toISOString(),end:new Date(Date.UTC(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate(),D.getUTCHours(),D.getUTCMinutes())).toISOString(),active:!1,isPublic:!1},F={...c,[B]:ee};if(F.Public){const V=Number(F.Public.allocated)||0;F.Public.allocated=Math.max(0,V-K),F.Public.start="",F.Public.end=""}u(F),localStorage.setItem(`phases_${t}`,JSON.stringify(F)),E(`Added ${B} phase. Public phase dates have been reset for easier configuration.`,"success")}if(!z[B]&&c[B]){const G={...c},Z=Number(c[B].allocated)||0;if(G.Public){const D=Number(G.Public.allocated)||0;G.Public.allocated=D+Z}delete G[B],u(G),localStorage.setItem(`phases_${t}`,JSON.stringify(G))}return z})},I=j.useCallback(async(B,O)=>{w.current[B]&&clearTimeout(w.current[B]),w.current[B]=setTimeout(async()=>{try{await new Promise(G=>setTimeout(G,200));const z={...c,[B]:O};localStorage.setItem(`phases_${t}`,JSON.stringify(z))}catch(z){console.error(`❌ Failed to auto-save ${B} phase:`,z),E(`Failed to save ${B} settings`,"error")}},300)},[c,t]),$=(B,O,z)=>{const G={},Z=new Date(O).getTime(),D=new Date(z).getTime();return Z>=D?(G[B]="Start time must be before end time",G):(Object.entries(c).forEach(([K,ee])=>{if(K===B||!ee.start||!ee.end)return;const F=new Date(ee.start).getTime(),V=new Date(ee.end).getTime();Z<V&&D>F&&(G[B]=`Time overlaps with ${K} phase`)}),G)},H=(B,O,z)=>{if(O==="allocated")if(B==="Public"){const Z=Object.entries(c).reduce((D,[K,ee])=>K==="Public"?D:D+(Number(ee.allocated)||0),0);z=Math.max(0,x-Z)}else{const Z=Number(c[B]?.allocated)||0,D=Math.max(0,Number(z)||0),K=D-Z;if(c.Public){const ee=Number(c.Public.allocated)||0;c.Public.allocated=Math.max(0,ee-K)}z=D}B==="Public"&&["price","limit","start","end"].includes(O)&&c[B]&&(c[B].userModified=!0);let G={...c,[B]:{...c[B],[O]:z}};if((O==="start"||O==="end")&&z){const Z=G[B]||{},D=O==="start"?z:Z.start,K=O==="end"?z:Z.end;if(D&&K){const ee=$(B,D,K);ee[B]&&(G=_(G,B),E(ee[B],"error"))}}u(G),I(B,G[B])},M=(B,O,z)=>{const G={...c,[B]:{...c[B],active:O}};localStorage.setItem(`phases_${t}`,JSON.stringify(G)),u(G),I(B,G[B]),G[B],n&&n(z),E(`${B} phase ${O?"activated":"deactivated"}`,"success")};return l.jsxs("div",{className:"space-y-6",children:[a?.isInitialized&&l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${a.isPaused?"bg-red-500":"bg-green-500"}`}),l.jsxs("span",{className:"text-sm font-medium text-white",children:["Sale Status: ",a.isPaused?"Paused":"Active"]})]}),l.jsx("div",{className:"flex items-center gap-3",children:a.isPaused?l.jsxs("button",{onClick:o,disabled:a.isLoading,className:"flex items-center gap-2 px-4 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[a.isLoading?l.jsx(Zd,{className:"w-4 h-4 animate-spin"}):l.jsx(Cue,{className:"w-4 h-4"}),a.isLoading?"Resuming":"Resume Sale"]}):l.jsxs("button",{onClick:i,disabled:a.isLoading,className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[a.isLoading?l.jsx(Zd,{className:"w-4 h-4 animate-spin"}):l.jsx(Nue,{className:"w-4 h-4"}),a.isLoading?"Pausing":"Pause Sale"]})})]}),a.isPaused&&l.jsxs("div",{className:"mt-4 p-4 bg-yellow-900/20 border border-yellow-500/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[l.jsx(to,{size:16}),l.jsx("span",{className:"font-semibold",children:"Sale is Paused"})]}),l.jsx("p",{className:"text-sm text-yellow-300",children:"The sale is currently paused. Users cannot mint NFTs while the sale is paused. You can edit phase settings while paused, then resume the sale when ready."})]})]}),l.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Phases"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>P("Whitelist"),disabled:a?.isPaused,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${b.Whitelist?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"} ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:"Whitelist"}),l.jsx("button",{onClick:()=>P("FCFS"),disabled:a?.isPaused,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${b.FCFS?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"} ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:"FCFS"})]}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Click to add/remove phases. Public phase is always available."})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm text-zinc-400",children:["Total NFTs (added): ",l.jsx("span",{className:"text-white font-bold",children:x})]}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Allocated to phases: ",l.jsx("span",{className:"text-white font-bold",children:Object.values(c).reduce((B,O)=>B+(Number(O.allocated)||0),0)})]}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Unallocated NFTs: ",l.jsx("span",{className:"text-white font-bold",children:x-Object.values(c).reduce((B,O)=>B+(Number(O.allocated)||0),0)})]})]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(b).map(([B,O])=>{if(!O)return null;const z=c[B]||{};return l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h4",{className:"text-lg font-semibold text-white",children:[B," Phase"]}),B==="Public"&&l.jsxs("div",{className:"group relative",children:[l.jsxs("div",{className:"text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded flex items-center gap-1 cursor-help",children:["Auto-configured",l.jsx(Fce,{className:"w-3 h-3 text-blue-400"})]}),l.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-lg shadow-xl text-xs text-zinc-300 w-64 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50",children:[l.jsx("div",{className:"font-semibold text-blue-400 mb-1",children:"Auto-configured Public Phase:"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{children:"• Price: 0.1 STT (default, editable)"}),l.jsx("div",{children:"• Limit: 1 NFT per wallet (default, editable)"}),l.jsx("div",{children:"• Start: Now (UTC) when you enter this menu (editable)"}),l.jsx("div",{children:"• Duration: 3 days (editable)"}),l.jsx("div",{children:"• Allocation: Automatically calculated based on other phases"})]})]})]})]}),l.jsxs("div",{className:"mb-1",children:[l.jsxs("label",{className:"text-xs mr-1",children:["Price (",l.jsx("img",{src:Hs,alt:"Somnia",className:"inline w-4 h-4 mx-1"})," STT)"]}),l.jsx("input",{type:"number",step:"0.001",min:"0",value:z.price||"",onChange:G=>H(B,"price",G.target.value),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,disabled:a?.isPaused})]}),l.jsxs("div",{className:"mb-1",children:[l.jsx("label",{className:"text-xs",children:"Limit per Wallet"}),l.jsx("input",{type:"number",min:0,value:z.limit||"",onChange:G=>H(B,"limit",Math.max(0,G.target.value)),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,disabled:a?.isPaused})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("label",{className:"text-xs w-12",children:"Start"}),l.jsx(b7,{value:z.start,onChange:G=>H(B,"start",G),disabled:a?.isPaused})]}),l.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[l.jsx("label",{className:"text-xs w-12",children:"End"}),l.jsx(b7,{value:z.end,onChange:G=>H(B,"end",G),disabled:a?.isPaused})]}),h[B]&&l.jsxs("div",{className:"mt-1 p-2 bg-yellow-900/20 border border-yellow-500/50 rounded text-xs text-yellow-400",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(to,{size:12}),l.jsx("span",{className:"font-semibold",children:"Time Warning"})]}),l.jsx("p",{className:"text-xs",children:h[B]}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>{const G=(()=>{const Z=k(B),D=Z&&c[Z]?.end?new Date(c[Z].end):new Date,K=new Date(D),ee=new Date(D.getTime()+3600*1e3);return{start:K.toISOString(),end:ee.toISOString()}})();H(B,"start",G.start),H(B,"end",G.end)},className:"text-xs text-blue-400 hover:underline",children:"Suggest optimal time"}),l.jsx("button",{onClick:()=>f(G=>{const Z={...G};return delete Z[B],Z}),className:"text-xs text-zinc-400 hover:underline",children:"Dismiss"})]})]})]}),l.jsxs("div",{className:"mb-1 mt-1",children:[l.jsx("label",{className:"text-xs",children:"Allocated NFTs"}),l.jsx("input",{type:"number",min:0,max:x,value:z.allocated||"",onChange:G=>H(B,"allocated",G.target.value),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${a?.isPaused||B==="Public"?"opacity-50 cursor-not-allowed":""}`,disabled:a?.isPaused||B==="Public",title:B==="Public"?"Public phase allocation is automatically calculated":""})]}),l.jsx("div",{className:"flex items-center justify-between mt-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs text-zinc-400",children:z.active?"Active":"Inactive"}),z.active&&l.jsx(Yi,{className:"w-3 h-3 text-green-400"})]}),l.jsx(tme,{checked:z.active||!1,onChange:G=>M(B,G,B),disabled:a?.isPaused,className:`${z.active?"bg-green-500":"bg-zinc-600"} relative inline-flex h-5 w-10 items-center rounded-full transition-colors ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${z.active?"translate-x-5":"translate-x-1"}`})})]})})]},B)})}),m.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${m.type==="error"?"bg-red-800 text-white":m.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:m.message})})]})},F1e=({collection:t})=>{const[e,n]=j.useState([]),[r,s]=j.useState([]),[a,i]=j.useState({visible:!1,message:"",type:"success"}),[o,c]=j.useState({isInitialized:!1,isPaused:!1,isLoading:!1});j.useEffect(()=>{if(a.visible){const x=setTimeout(()=>i(N=>({...N,visible:!1})),3e3);return()=>clearTimeout(x)}},[a.visible]);const u=(x,N="success")=>{i({visible:!0,message:x,type:N})},h=async()=>{if(t?.address)try{c(k=>({...k,isLoading:!0}));const x=new In("https://dream-rpc.somnia.network/"),N=new Pt(t.address,Rn,x);let E=!1,C=!1;try{typeof N.initialized=="function"&&(E=await N.initialized()),E&&typeof N.paused=="function"&&(C=await N.paused())}catch{console.log("Contract not fully initialized or pause function not available")}c({isInitialized:E,isPaused:C,isLoading:!1})}catch(x){console.error("Error checking sale status:",x),c(N=>({...N,isLoading:!1}))}},f=async()=>{if(t?.address)try{c(k=>({...k,isLoading:!0}));const x=await new wr(window.ethereum).getSigner(),N=new Pt(t.address,Rn,x),E=await N.owner(),C=await x.getAddress();if(E.toLowerCase()!==C.toLowerCase()){u("Only the collection owner can pause the sale","error");return}await(await N.pause()).wait(),u("Sale paused successfully!","success"),await h()}catch(x){console.error("Error pausing sale:",x),u(`Error pausing sale: ${x.message}`,"error")}finally{c(x=>({...x,isLoading:!1}))}},m=async()=>{if(t?.address)try{c(k=>({...k,isLoading:!0}));const x=await new wr(window.ethereum).getSigner(),N=new Pt(t.address,Rn,x),E=await N.owner(),C=await x.getAddress();if(E.toLowerCase()!==C.toLowerCase()){u("Only the collection owner can resume the sale","error");return}await(await N.unpause()).wait(),u("Sale resumed successfully!","success"),await h()}catch(x){console.error("Error resuming sale:",x),u(`Error resuming sale: ${x.message}`,"error")}finally{c(x=>({...x,isLoading:!1}))}},g=async()=>{if(t?.address)try{const x=JSON.parse(localStorage.getItem(`collection_${t.address}_nfts`))||[];s(x)}catch(x){console.error("Error loading NFTs:",x)}},b=async()=>{if(!t?.address){n([]);return}try{const x=JSON.parse(localStorage.getItem(`phases_${t.address}`))||{},N=Object.entries(x).map(([E,C])=>({key:E,enumValue:E==="Whitelist"?1:E==="FCFS"?2:3,...C}));console.log("📋 Loaded phases for collection:",t.address,N),n(N)}catch(x){console.error("Error loading phases:",x),n([])}};j.useEffect(()=>{t?.address&&(g(),b(),h())},[t?.address]);const y=x=>{console.log("Removing phase:",x)},w=x=>{console.log("Activating phase:",x)};return t?l.jsxs("div",{className:"space-y-6 pb-24",children:[l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:l.jsx(ZF,{collectionAddress:t.address,phases:e,onActivatePhase:w,onRemovePhase:y,nfts:r,saleStatus:o,onPauseSale:f,onResumeSale:m})}),a.visible&&l.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 ${a.type==="success"?"bg-green-500":a.type==="error"?"bg-red-500":"bg-yellow-500"} text-white`,children:a.message})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})};var C1={},oc={},w7,v7;function U1e(){return v7||(v7=1,w7=function(t){for(var e=new Buffer(t.length),n=0,r=t.length-1;n<=r;++n,--r)e[n]=t[r],e[r]=t[n];return e}),w7}var M6={exports:{}};function V0(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var z6={exports:{}};const D1e={},W1e=Object.freeze(Object.defineProperty({__proto__:null,default:D1e},Symbol.toStringTag,{value:"Module"})),H1e=x9(W1e);var G1e=z6.exports,x7;function dn(){return x7||(x7=1,function(t,e){(function(n,r){t.exports=r()})(G1e,function(){var n=n||function(r,s){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof V0=="function")try{a=H1e}catch{}var i=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function N(){}return function(E){var C;return N.prototype=E,C=new N,N.prototype=null,C}}(),c={},u=c.lib={},h=u.Base=function(){return{extend:function(N){var E=o(this);return N&&E.mixIn(N),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var N=this.extend();return N.init.apply(N,arguments),N},init:function(){},mixIn:function(N){for(var E in N)N.hasOwnProperty(E)&&(this[E]=N[E]);N.hasOwnProperty("toString")&&(this.toString=N.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=h.extend({init:function(N,E){N=this.words=N||[],E!=s?this.sigBytes=E:this.sigBytes=N.length*4},toString:function(N){return(N||g).stringify(this)},concat:function(N){var E=this.words,C=N.words,k=this.sigBytes,A=N.sigBytes;if(this.clamp(),k%4)for(var _=0;_<A;_++){var P=C[_>>>2]>>>24-_%4*8&255;E[k+_>>>2]|=P<<24-(k+_)%4*8}else for(var I=0;I<A;I+=4)E[k+I>>>2]=C[I>>>2];return this.sigBytes+=A,this},clamp:function(){var N=this.words,E=this.sigBytes;N[E>>>2]&=4294967295<<32-E%4*8,N.length=r.ceil(E/4)},clone:function(){var N=h.clone.call(this);return N.words=this.words.slice(0),N},random:function(N){for(var E=[],C=0;C<N;C+=4)E.push(i());return new f.init(E,N)}}),m=c.enc={},g=m.Hex={stringify:function(N){for(var E=N.words,C=N.sigBytes,k=[],A=0;A<C;A++){var _=E[A>>>2]>>>24-A%4*8&255;k.push((_>>>4).toString(16)),k.push((_&15).toString(16))}return k.join("")},parse:function(N){for(var E=N.length,C=[],k=0;k<E;k+=2)C[k>>>3]|=parseInt(N.substr(k,2),16)<<24-k%8*4;return new f.init(C,E/2)}},b=m.Latin1={stringify:function(N){for(var E=N.words,C=N.sigBytes,k=[],A=0;A<C;A++){var _=E[A>>>2]>>>24-A%4*8&255;k.push(String.fromCharCode(_))}return k.join("")},parse:function(N){for(var E=N.length,C=[],k=0;k<E;k++)C[k>>>2]|=(N.charCodeAt(k)&255)<<24-k%4*8;return new f.init(C,E)}},y=m.Utf8={stringify:function(N){try{return decodeURIComponent(escape(b.stringify(N)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(N){return b.parse(unescape(encodeURIComponent(N)))}},w=u.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(N){typeof N=="string"&&(N=y.parse(N)),this._data.concat(N),this._nDataBytes+=N.sigBytes},_process:function(N){var E,C=this._data,k=C.words,A=C.sigBytes,_=this.blockSize,P=_*4,I=A/P;N?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var $=I*_,H=r.min($*4,A);if($){for(var M=0;M<$;M+=_)this._doProcessBlock(k,M);E=k.splice(0,$),C.sigBytes-=H}return new f.init(E,H)},clone:function(){var N=h.clone.call(this);return N._data=this._data.clone(),N},_minBufferSize:0});u.Hasher=w.extend({cfg:h.extend(),init:function(N){this.cfg=this.cfg.extend(N),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(N){return this._append(N),this._process(),this},finalize:function(N){N&&this._append(N);var E=this._doFinalize();return E},blockSize:16,_createHelper:function(N){return function(E,C){return new N.init(C).finalize(E)}},_createHmacHelper:function(N){return function(E,C){return new x.HMAC.init(N,C).finalize(E)}}});var x=c.algo={};return c}(Math);return n})}(z6)),z6.exports}var q1e=M6.exports,N7;function Iy(){return N7||(N7=1,function(t,e){(function(n,r){t.exports=r(dn())})(q1e,function(n){return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.algo,u=[],h=[];(function(){function g(x){for(var N=r.sqrt(x),E=2;E<=N;E++)if(!(x%E))return!1;return!0}function b(x){return(x-(x|0))*4294967296|0}for(var y=2,w=0;w<64;)g(y)&&(w<8&&(u[w]=b(r.pow(y,1/2))),h[w]=b(r.pow(y,1/3)),w++),y++})();var f=[],m=c.SHA256=o.extend({_doReset:function(){this._hash=new i.init(u.slice(0))},_doProcessBlock:function(g,b){for(var y=this._hash.words,w=y[0],x=y[1],N=y[2],E=y[3],C=y[4],k=y[5],A=y[6],_=y[7],P=0;P<64;P++){if(P<16)f[P]=g[b+P]|0;else{var I=f[P-15],$=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,H=f[P-2],M=(H<<15|H>>>17)^(H<<13|H>>>19)^H>>>10;f[P]=$+f[P-7]+M+f[P-16]}var B=C&k^~C&A,O=w&x^w&N^x&N,z=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),G=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),Z=_+G+B+h[P]+f[P],D=z+O;_=A,A=k,k=C,C=E+Z|0,E=N,N=x,x=w,w=Z+D|0}y[0]=y[0]+w|0,y[1]=y[1]+x|0,y[2]=y[2]+N|0,y[3]=y[3]+E|0,y[4]=y[4]+C|0,y[5]=y[5]+k|0,y[6]=y[6]+A|0,y[7]=y[7]+_|0},_doFinalize:function(){var g=this._data,b=g.words,y=this._nDataBytes*8,w=g.sigBytes*8;return b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=r.floor(y/4294967296),b[(w+64>>>9<<4)+15]=y,g.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});s.SHA256=o._createHelper(m),s.HmacSHA256=o._createHmacHelper(m)}(Math),n.SHA256})}(M6)),M6.exports}var L6={exports:{}},V1e=L6.exports,k7;function KF(){return k7||(k7=1,function(t,e){(function(n,r){t.exports=r()})(V1e,function(){function n(i,o){var c=o?"└":"├";return i?c+="─ ":c+="──┐",c}function r(i,o){var c=[];for(var u in i)i.hasOwnProperty(u)&&(o&&typeof i[u]=="function"||c.push(u));return c}function s(i,o,c,u,h,f,m){var g="",b=0,y,w,x=u.slice(0);if(x.push([o,c])&&u.length>0&&(u.forEach(function(E,C){C>0&&(g+=(E[1]?" ":"│")+"  "),!w&&E[0]===o&&(w=!0)}),g+=n(i,c)+i,h&&(typeof o!="object"||o instanceof Date)&&(g+=": "+o),w&&(g+=" (circular ref.)"),m(g)),!w&&typeof o=="object"){var N=r(o,f);N.forEach(function(E){y=++b===N.length,s(E,o[E],y,x,h,f,m)})}}var a={};return a.asLines=function(i,o,c,u){var h=typeof c!="function"?c:!1;s(".",i,!1,[],o,h,u||c)},a.asTree=function(i,o,c){var u="";return s(".",i,!1,[],o,c,function(h){u+=h+`
`}),u},a})}(L6)),L6.exports}var lc={},B6={exports:{}},F6={exports:{}},Z1e=F6.exports,C7;function Rx(){return C7||(C7=1,function(t,e){(function(n,r){t.exports=r(dn())})(Z1e,function(n){return function(r){var s=n,a=s.lib,i=a.Base,o=a.WordArray,c=s.x64={};c.Word=i.extend({init:function(u,h){this.high=u,this.low=h}}),c.WordArray=i.extend({init:function(u,h){u=this.words=u||[],h!=r?this.sigBytes=h:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,h=u.length,f=[],m=0;m<h;m++){var g=u[m];f.push(g.high),f.push(g.low)}return o.create(f,this.sigBytes)},clone:function(){for(var u=i.clone.call(this),h=u.words=this.words.slice(0),f=h.length,m=0;m<f;m++)h[m]=h[m].clone();return u}})}(),n})}(F6)),F6.exports}var U6={exports:{}},K1e=U6.exports,E7;function Q1e(){return E7||(E7=1,function(t,e){(function(n,r){t.exports=r(dn())})(K1e,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,s=r.lib,a=s.WordArray,i=a.init,o=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,h=[],f=0;f<u;f++)h[f>>>2]|=c[f]<<24-f%4*8;i.call(this,h,u)}else i.apply(this,arguments)};o.prototype=a}}(),n.lib.WordArray})}(U6)),U6.exports}var D6={exports:{}},J1e=D6.exports,S7;function Y1e(){return S7||(S7=1,function(t,e){(function(n,r){t.exports=r(dn())})(J1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.enc;i.Utf16=i.Utf16BE={stringify:function(c){for(var u=c.words,h=c.sigBytes,f=[],m=0;m<h;m+=2){var g=u[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(g))}return f.join("")},parse:function(c){for(var u=c.length,h=[],f=0;f<u;f++)h[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(h,u*2)}},i.Utf16LE={stringify:function(c){for(var u=c.words,h=c.sigBytes,f=[],m=0;m<h;m+=2){var g=o(u[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(g))}return f.join("")},parse:function(c){for(var u=c.length,h=[],f=0;f<u;f++)h[f>>>1]|=o(c.charCodeAt(f)<<16-f%2*16);return a.create(h,u*2)}};function o(c){return c<<8&4278255360|c>>>8&16711935}}(),n.enc.Utf16})}(D6)),D6.exports}var W6={exports:{}},X1e=W6.exports,A7;function ih(){return A7||(A7=1,function(t,e){(function(n,r){t.exports=r(dn())})(X1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.enc;i.Base64={stringify:function(c){var u=c.words,h=c.sigBytes,f=this._map;c.clamp();for(var m=[],g=0;g<h;g+=3)for(var b=u[g>>>2]>>>24-g%4*8&255,y=u[g+1>>>2]>>>24-(g+1)%4*8&255,w=u[g+2>>>2]>>>24-(g+2)%4*8&255,x=b<<16|y<<8|w,N=0;N<4&&g+N*.75<h;N++)m.push(f.charAt(x>>>6*(3-N)&63));var E=f.charAt(64);if(E)for(;m.length%4;)m.push(E);return m.join("")},parse:function(c){var u=c.length,h=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<h.length;m++)f[h.charCodeAt(m)]=m}var g=h.charAt(64);if(g){var b=c.indexOf(g);b!==-1&&(u=b)}return o(c,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(c,u,h){for(var f=[],m=0,g=0;g<u;g++)if(g%4){var b=h[c.charCodeAt(g-1)]<<g%4*2,y=h[c.charCodeAt(g)]>>>6-g%4*2,w=b|y;f[m>>>2]|=w<<24-m%4*8,m++}return a.create(f,m)}}(),n.enc.Base64})}(W6)),W6.exports}var H6={exports:{}},ewe=H6.exports,j7;function twe(){return j7||(j7=1,function(t,e){(function(n,r){t.exports=r(dn())})(ewe,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.enc;i.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var h=c.words,f=c.sigBytes,m=u?this._safe_map:this._map;c.clamp();for(var g=[],b=0;b<f;b+=3)for(var y=h[b>>>2]>>>24-b%4*8&255,w=h[b+1>>>2]>>>24-(b+1)%4*8&255,x=h[b+2>>>2]>>>24-(b+2)%4*8&255,N=y<<16|w<<8|x,E=0;E<4&&b+E*.75<f;E++)g.push(m.charAt(N>>>6*(3-E)&63));var C=m.charAt(64);if(C)for(;g.length%4;)g.push(C);return g.join("")},parse:function(c,u){u===void 0&&(u=!0);var h=c.length,f=u?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<f.length;g++)m[f.charCodeAt(g)]=g}var b=f.charAt(64);if(b){var y=c.indexOf(b);y!==-1&&(h=y)}return o(c,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(c,u,h){for(var f=[],m=0,g=0;g<u;g++)if(g%4){var b=h[c.charCodeAt(g-1)]<<g%4*2,y=h[c.charCodeAt(g)]>>>6-g%4*2,w=b|y;f[m>>>2]|=w<<24-m%4*8,m++}return a.create(f,m)}}(),n.enc.Base64url})}(H6)),H6.exports}var G6={exports:{}},nwe=G6.exports,T7;function oh(){return T7||(T7=1,function(t,e){(function(n,r){t.exports=r(dn())})(nwe,function(n){return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.algo,u=[];(function(){for(var y=0;y<64;y++)u[y]=r.abs(r.sin(y+1))*4294967296|0})();var h=c.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,w){for(var x=0;x<16;x++){var N=w+x,E=y[N];y[N]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var C=this._hash.words,k=y[w+0],A=y[w+1],_=y[w+2],P=y[w+3],I=y[w+4],$=y[w+5],H=y[w+6],M=y[w+7],B=y[w+8],O=y[w+9],z=y[w+10],G=y[w+11],Z=y[w+12],D=y[w+13],K=y[w+14],ee=y[w+15],F=C[0],V=C[1],J=C[2],Q=C[3];F=f(F,V,J,Q,k,7,u[0]),Q=f(Q,F,V,J,A,12,u[1]),J=f(J,Q,F,V,_,17,u[2]),V=f(V,J,Q,F,P,22,u[3]),F=f(F,V,J,Q,I,7,u[4]),Q=f(Q,F,V,J,$,12,u[5]),J=f(J,Q,F,V,H,17,u[6]),V=f(V,J,Q,F,M,22,u[7]),F=f(F,V,J,Q,B,7,u[8]),Q=f(Q,F,V,J,O,12,u[9]),J=f(J,Q,F,V,z,17,u[10]),V=f(V,J,Q,F,G,22,u[11]),F=f(F,V,J,Q,Z,7,u[12]),Q=f(Q,F,V,J,D,12,u[13]),J=f(J,Q,F,V,K,17,u[14]),V=f(V,J,Q,F,ee,22,u[15]),F=m(F,V,J,Q,A,5,u[16]),Q=m(Q,F,V,J,H,9,u[17]),J=m(J,Q,F,V,G,14,u[18]),V=m(V,J,Q,F,k,20,u[19]),F=m(F,V,J,Q,$,5,u[20]),Q=m(Q,F,V,J,z,9,u[21]),J=m(J,Q,F,V,ee,14,u[22]),V=m(V,J,Q,F,I,20,u[23]),F=m(F,V,J,Q,O,5,u[24]),Q=m(Q,F,V,J,K,9,u[25]),J=m(J,Q,F,V,P,14,u[26]),V=m(V,J,Q,F,B,20,u[27]),F=m(F,V,J,Q,D,5,u[28]),Q=m(Q,F,V,J,_,9,u[29]),J=m(J,Q,F,V,M,14,u[30]),V=m(V,J,Q,F,Z,20,u[31]),F=g(F,V,J,Q,$,4,u[32]),Q=g(Q,F,V,J,B,11,u[33]),J=g(J,Q,F,V,G,16,u[34]),V=g(V,J,Q,F,K,23,u[35]),F=g(F,V,J,Q,A,4,u[36]),Q=g(Q,F,V,J,I,11,u[37]),J=g(J,Q,F,V,M,16,u[38]),V=g(V,J,Q,F,z,23,u[39]),F=g(F,V,J,Q,D,4,u[40]),Q=g(Q,F,V,J,k,11,u[41]),J=g(J,Q,F,V,P,16,u[42]),V=g(V,J,Q,F,H,23,u[43]),F=g(F,V,J,Q,O,4,u[44]),Q=g(Q,F,V,J,Z,11,u[45]),J=g(J,Q,F,V,ee,16,u[46]),V=g(V,J,Q,F,_,23,u[47]),F=b(F,V,J,Q,k,6,u[48]),Q=b(Q,F,V,J,M,10,u[49]),J=b(J,Q,F,V,K,15,u[50]),V=b(V,J,Q,F,$,21,u[51]),F=b(F,V,J,Q,Z,6,u[52]),Q=b(Q,F,V,J,P,10,u[53]),J=b(J,Q,F,V,z,15,u[54]),V=b(V,J,Q,F,A,21,u[55]),F=b(F,V,J,Q,B,6,u[56]),Q=b(Q,F,V,J,ee,10,u[57]),J=b(J,Q,F,V,H,15,u[58]),V=b(V,J,Q,F,D,21,u[59]),F=b(F,V,J,Q,I,6,u[60]),Q=b(Q,F,V,J,G,10,u[61]),J=b(J,Q,F,V,_,15,u[62]),V=b(V,J,Q,F,O,21,u[63]),C[0]=C[0]+F|0,C[1]=C[1]+V|0,C[2]=C[2]+J|0,C[3]=C[3]+Q|0},_doFinalize:function(){var y=this._data,w=y.words,x=this._nDataBytes*8,N=y.sigBytes*8;w[N>>>5]|=128<<24-N%32;var E=r.floor(x/4294967296),C=x;w[(N+64>>>9<<4)+15]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,w[(N+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,y.sigBytes=(w.length+1)*4,this._process();for(var k=this._hash,A=k.words,_=0;_<4;_++){var P=A[_];A[_]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return k},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});function f(y,w,x,N,E,C,k){var A=y+(w&x|~w&N)+E+k;return(A<<C|A>>>32-C)+w}function m(y,w,x,N,E,C,k){var A=y+(w&N|x&~N)+E+k;return(A<<C|A>>>32-C)+w}function g(y,w,x,N,E,C,k){var A=y+(w^x^N)+E+k;return(A<<C|A>>>32-C)+w}function b(y,w,x,N,E,C,k){var A=y+(x^(w|~N))+E+k;return(A<<C|A>>>32-C)+w}s.MD5=o._createHelper(h),s.HmacMD5=o._createHmacHelper(h)}(Math),n.MD5})}(G6)),G6.exports}var q6={exports:{}},rwe=q6.exports,I7;function QF(){return I7||(I7=1,function(t,e){(function(n,r){t.exports=r(dn())})(rwe,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=s.Hasher,o=r.algo,c=[],u=o.SHA1=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,f){for(var m=this._hash.words,g=m[0],b=m[1],y=m[2],w=m[3],x=m[4],N=0;N<80;N++){if(N<16)c[N]=h[f+N]|0;else{var E=c[N-3]^c[N-8]^c[N-14]^c[N-16];c[N]=E<<1|E>>>31}var C=(g<<5|g>>>27)+x+c[N];N<20?C+=(b&y|~b&w)+1518500249:N<40?C+=(b^y^w)+1859775393:N<60?C+=(b&y|b&w|y&w)-1894007588:C+=(b^y^w)-899497514,x=w,w=y,y=b<<30|b>>>2,b=g,g=C}m[0]=m[0]+g|0,m[1]=m[1]+b|0,m[2]=m[2]+y|0,m[3]=m[3]+w|0,m[4]=m[4]+x|0},_doFinalize:function(){var h=this._data,f=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return f[g>>>5]|=128<<24-g%32,f[(g+64>>>9<<4)+14]=Math.floor(m/4294967296),f[(g+64>>>9<<4)+15]=m,h.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA1=i._createHelper(u),r.HmacSHA1=i._createHmacHelper(u)}(),n.SHA1})}(q6)),q6.exports}var V6={exports:{}},swe=V6.exports,_7;function awe(){return _7||(_7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Iy())})(swe,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.algo,o=i.SHA256,c=i.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=o._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=o._createHelper(c),r.HmacSHA224=o._createHmacHelper(c)}(),n.SHA224})}(V6)),V6.exports}var Z6={exports:{}},iwe=Z6.exports,P7;function JF(){return P7||(P7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Rx())})(iwe,function(n){return function(){var r=n,s=r.lib,a=s.Hasher,i=r.x64,o=i.Word,c=i.WordArray,u=r.algo;function h(){return o.create.apply(o,arguments)}var f=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],m=[];(function(){for(var b=0;b<80;b++)m[b]=h()})();var g=u.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(b,y){for(var w=this._hash.words,x=w[0],N=w[1],E=w[2],C=w[3],k=w[4],A=w[5],_=w[6],P=w[7],I=x.high,$=x.low,H=N.high,M=N.low,B=E.high,O=E.low,z=C.high,G=C.low,Z=k.high,D=k.low,K=A.high,ee=A.low,F=_.high,V=_.low,J=P.high,Q=P.low,ae=I,ue=$,re=H,ie=M,me=B,oe=O,he=z,Ne=G,Re=Z,W=D,ye=K,ce=ee,ne=F,se=V,fe=J,Ie=Q,je=0;je<80;je++){var be,Be,$e=m[je];if(je<16)Be=$e.high=b[y+je*2]|0,be=$e.low=b[y+je*2+1]|0;else{var Me=m[je-15],we=Me.high,T=Me.low,L=(we>>>1|T<<31)^(we>>>8|T<<24)^we>>>7,q=(T>>>1|we<<31)^(T>>>8|we<<24)^(T>>>7|we<<25),le=m[je-2],ge=le.high,Ce=le.low,Ae=(ge>>>19|Ce<<13)^(ge<<3|Ce>>>29)^ge>>>6,rt=(Ce>>>19|ge<<13)^(Ce<<3|ge>>>29)^(Ce>>>6|ge<<26),kt=m[je-7],ot=kt.high,Ct=kt.low,nt=m[je-16],Zt=nt.high,Ht=nt.low;be=q+Ct,Be=L+ot+(be>>>0<q>>>0?1:0),be=be+rt,Be=Be+Ae+(be>>>0<rt>>>0?1:0),be=be+Ht,Be=Be+Zt+(be>>>0<Ht>>>0?1:0),$e.high=Be,$e.low=be}var Bn=Re&ye^~Re&ne,En=W&ce^~W&se,Ur=ae&re^ae&me^re&me,Vn=ue&ie^ue&oe^ie&oe,Dr=(ae>>>28|ue<<4)^(ae<<30|ue>>>2)^(ae<<25|ue>>>7),on=(ue>>>28|ae<<4)^(ue<<30|ae>>>2)^(ue<<25|ae>>>7),Sl=(Re>>>14|W<<18)^(Re>>>18|W<<14)^(Re<<23|W>>>9),es=(W>>>14|Re<<18)^(W>>>18|Re<<14)^(W<<23|Re>>>9),vo=f[je],Sr=vo.high,ba=vo.low,hr=Ie+es,wa=fe+Sl+(hr>>>0<Ie>>>0?1:0),hr=hr+En,wa=wa+Bn+(hr>>>0<En>>>0?1:0),hr=hr+ba,wa=wa+Sr+(hr>>>0<ba>>>0?1:0),hr=hr+be,wa=wa+Be+(hr>>>0<be>>>0?1:0),Ii=on+Vn,Te=Dr+Ur+(Ii>>>0<on>>>0?1:0);fe=ne,Ie=se,ne=ye,se=ce,ye=Re,ce=W,W=Ne+hr|0,Re=he+wa+(W>>>0<Ne>>>0?1:0)|0,he=me,Ne=oe,me=re,oe=ie,re=ae,ie=ue,ue=hr+Ii|0,ae=wa+Te+(ue>>>0<hr>>>0?1:0)|0}$=x.low=$+ue,x.high=I+ae+($>>>0<ue>>>0?1:0),M=N.low=M+ie,N.high=H+re+(M>>>0<ie>>>0?1:0),O=E.low=O+oe,E.high=B+me+(O>>>0<oe>>>0?1:0),G=C.low=G+Ne,C.high=z+he+(G>>>0<Ne>>>0?1:0),D=k.low=D+W,k.high=Z+Re+(D>>>0<W>>>0?1:0),ee=A.low=ee+ce,A.high=K+ye+(ee>>>0<ce>>>0?1:0),V=_.low=V+se,_.high=F+ne+(V>>>0<se>>>0?1:0),Q=P.low=Q+Ie,P.high=J+fe+(Q>>>0<Ie>>>0?1:0)},_doFinalize:function(){var b=this._data,y=b.words,w=this._nDataBytes*8,x=b.sigBytes*8;y[x>>>5]|=128<<24-x%32,y[(x+128>>>10<<5)+30]=Math.floor(w/4294967296),y[(x+128>>>10<<5)+31]=w,b.sigBytes=y.length*4,this._process();var N=this._hash.toX32();return N},clone:function(){var b=a.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:1024/32});r.SHA512=a._createHelper(g),r.HmacSHA512=a._createHmacHelper(g)}(),n.SHA512})}(Z6)),Z6.exports}var K6={exports:{}},owe=K6.exports,O7;function lwe(){return O7||(O7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Rx(),JF())})(owe,function(n){return function(){var r=n,s=r.x64,a=s.Word,i=s.WordArray,o=r.algo,c=o.SHA512,u=o.SHA384=c.extend({_doReset:function(){this._hash=new i.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=16,h}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),n.SHA384})}(K6)),K6.exports}var Q6={exports:{}},cwe=Q6.exports,R7;function uwe(){return R7||(R7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Rx())})(cwe,function(n){return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.x64,u=c.Word,h=s.algo,f=[],m=[],g=[];(function(){for(var w=1,x=0,N=0;N<24;N++){f[w+5*x]=(N+1)*(N+2)/2%64;var E=x%5,C=(2*w+3*x)%5;w=E,x=C}for(var w=0;w<5;w++)for(var x=0;x<5;x++)m[w+5*x]=x+(2*w+3*x)%5*5;for(var k=1,A=0;A<24;A++){for(var _=0,P=0,I=0;I<7;I++){if(k&1){var $=(1<<I)-1;$<32?P^=1<<$:_^=1<<$-32}k&128?k=k<<1^113:k<<=1}g[A]=u.create(_,P)}})();var b=[];(function(){for(var w=0;w<25;w++)b[w]=u.create()})();var y=h.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],x=0;x<25;x++)w[x]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,x){for(var N=this._state,E=this.blockSize/2,C=0;C<E;C++){var k=w[x+2*C],A=w[x+2*C+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var _=N[C];_.high^=A,_.low^=k}for(var P=0;P<24;P++){for(var I=0;I<5;I++){for(var $=0,H=0,M=0;M<5;M++){var _=N[I+5*M];$^=_.high,H^=_.low}var B=b[I];B.high=$,B.low=H}for(var I=0;I<5;I++)for(var O=b[(I+4)%5],z=b[(I+1)%5],G=z.high,Z=z.low,$=O.high^(G<<1|Z>>>31),H=O.low^(Z<<1|G>>>31),M=0;M<5;M++){var _=N[I+5*M];_.high^=$,_.low^=H}for(var D=1;D<25;D++){var $,H,_=N[D],K=_.high,ee=_.low,F=f[D];F<32?($=K<<F|ee>>>32-F,H=ee<<F|K>>>32-F):($=ee<<F-32|K>>>64-F,H=K<<F-32|ee>>>64-F);var V=b[m[D]];V.high=$,V.low=H}var J=b[0],Q=N[0];J.high=Q.high,J.low=Q.low;for(var I=0;I<5;I++)for(var M=0;M<5;M++){var D=I+5*M,_=N[D],ae=b[D],ue=b[(I+1)%5+5*M],re=b[(I+2)%5+5*M];_.high=ae.high^~ue.high&re.high,_.low=ae.low^~ue.low&re.low}var _=N[0],ie=g[P];_.high^=ie.high,_.low^=ie.low}},_doFinalize:function(){var w=this._data,x=w.words;this._nDataBytes*8;var N=w.sigBytes*8,E=this.blockSize*32;x[N>>>5]|=1<<24-N%32,x[(r.ceil((N+1)/E)*E>>>5)-1]|=128,w.sigBytes=x.length*4,this._process();for(var C=this._state,k=this.cfg.outputLength/8,A=k/8,_=[],P=0;P<A;P++){var I=C[P],$=I.high,H=I.low;$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,_.push(H),_.push($)}return new i.init(_,k)},clone:function(){for(var w=o.clone.call(this),x=w._state=this._state.slice(0),N=0;N<25;N++)x[N]=x[N].clone();return w}});s.SHA3=o._createHelper(y),s.HmacSHA3=o._createHmacHelper(y)}(Math),n.SHA3})}(Q6)),Q6.exports}var J6={exports:{}},dwe=J6.exports,$7;function hwe(){return $7||($7=1,function(t,e){(function(n,r){t.exports=r(dn())})(dwe,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.algo,u=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=i.create([0,1518500249,1859775393,2400959708,2840853838]),b=i.create([1352829926,1548603684,1836072691,2053994217,0]),y=c.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,_){for(var P=0;P<16;P++){var I=_+P,$=A[I];A[I]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}var H=this._hash.words,M=g.words,B=b.words,O=u.words,z=h.words,G=f.words,Z=m.words,D,K,ee,F,V,J,Q,ae,ue,re;J=D=H[0],Q=K=H[1],ae=ee=H[2],ue=F=H[3],re=V=H[4];for(var ie,P=0;P<80;P+=1)ie=D+A[_+O[P]]|0,P<16?ie+=w(K,ee,F)+M[0]:P<32?ie+=x(K,ee,F)+M[1]:P<48?ie+=N(K,ee,F)+M[2]:P<64?ie+=E(K,ee,F)+M[3]:ie+=C(K,ee,F)+M[4],ie=ie|0,ie=k(ie,G[P]),ie=ie+V|0,D=V,V=F,F=k(ee,10),ee=K,K=ie,ie=J+A[_+z[P]]|0,P<16?ie+=C(Q,ae,ue)+B[0]:P<32?ie+=E(Q,ae,ue)+B[1]:P<48?ie+=N(Q,ae,ue)+B[2]:P<64?ie+=x(Q,ae,ue)+B[3]:ie+=w(Q,ae,ue)+B[4],ie=ie|0,ie=k(ie,Z[P]),ie=ie+re|0,J=re,re=ue,ue=k(ae,10),ae=Q,Q=ie;ie=H[1]+ee+ue|0,H[1]=H[2]+F+re|0,H[2]=H[3]+V+J|0,H[3]=H[4]+D+Q|0,H[4]=H[0]+K+ae|0,H[0]=ie},_doFinalize:function(){var A=this._data,_=A.words,P=this._nDataBytes*8,I=A.sigBytes*8;_[I>>>5]|=128<<24-I%32,_[(I+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,A.sigBytes=(_.length+1)*4,this._process();for(var $=this._hash,H=$.words,M=0;M<5;M++){var B=H[M];H[M]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return $},clone:function(){var A=o.clone.call(this);return A._hash=this._hash.clone(),A}});function w(A,_,P){return A^_^P}function x(A,_,P){return A&_|~A&P}function N(A,_,P){return(A|~_)^P}function E(A,_,P){return A&P|_&~P}function C(A,_,P){return A^(_|~P)}function k(A,_){return A<<_|A>>>32-_}s.RIPEMD160=o._createHelper(y),s.HmacRIPEMD160=o._createHmacHelper(y)}(),n.RIPEMD160})}(J6)),J6.exports}var Y6={exports:{}},fwe=Y6.exports,M7;function EE(){return M7||(M7=1,function(t,e){(function(n,r){t.exports=r(dn())})(fwe,function(n){(function(){var r=n,s=r.lib,a=s.Base,i=r.enc,o=i.Utf8,c=r.algo;c.HMAC=a.extend({init:function(u,h){u=this._hasher=new u.init,typeof h=="string"&&(h=o.parse(h));var f=u.blockSize,m=f*4;h.sigBytes>m&&(h=u.finalize(h)),h.clamp();for(var g=this._oKey=h.clone(),b=this._iKey=h.clone(),y=g.words,w=b.words,x=0;x<f;x++)y[x]^=1549556828,w[x]^=909522486;g.sigBytes=b.sigBytes=m,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var h=this._hasher,f=h.finalize(u);h.reset();var m=h.finalize(this._oKey.clone().concat(f));return m}})})()})}(Y6)),Y6.exports}var X6={exports:{}},pwe=X6.exports,z7;function mwe(){return z7||(z7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Iy(),EE())})(pwe,function(n){return function(){var r=n,s=r.lib,a=s.Base,i=s.WordArray,o=r.algo,c=o.SHA256,u=o.HMAC,h=o.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,m){for(var g=this.cfg,b=u.create(g.hasher,f),y=i.create(),w=i.create([1]),x=y.words,N=w.words,E=g.keySize,C=g.iterations;x.length<E;){var k=b.update(m).finalize(w);b.reset();for(var A=k.words,_=A.length,P=k,I=1;I<C;I++){P=b.finalize(P),b.reset();for(var $=P.words,H=0;H<_;H++)A[H]^=$[H]}y.concat(k),N[0]++}return y.sigBytes=E*4,y}});r.PBKDF2=function(f,m,g){return h.create(g).compute(f,m)}}(),n.PBKDF2})}(X6)),X6.exports}var ek={exports:{}},gwe=ek.exports,L7;function ru(){return L7||(L7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),QF(),EE())})(gwe,function(n){return function(){var r=n,s=r.lib,a=s.Base,i=s.WordArray,o=r.algo,c=o.MD5,u=o.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var m,g=this.cfg,b=g.hasher.create(),y=i.create(),w=y.words,x=g.keySize,N=g.iterations;w.length<x;){m&&b.update(m),m=b.update(h).finalize(f),b.reset();for(var E=1;E<N;E++)m=b.finalize(m),b.reset();y.concat(m)}return y.sigBytes=x*4,y}});r.EvpKDF=function(h,f,m){return u.create(m).compute(h,f)}}(),n.EvpKDF})}(ek)),ek.exports}var tk={exports:{}},ywe=tk.exports,B7;function Fr(){return B7||(B7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),ru())})(ywe,function(n){n.lib.Cipher||function(r){var s=n,a=s.lib,i=a.Base,o=a.WordArray,c=a.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var h=u.Base64,f=s.algo,m=f.EvpKDF,g=a.Cipher=c.extend({cfg:i.extend(),createEncryptor:function($,H){return this.create(this._ENC_XFORM_MODE,$,H)},createDecryptor:function($,H){return this.create(this._DEC_XFORM_MODE,$,H)},init:function($,H,M){this.cfg=this.cfg.extend(M),this._xformMode=$,this._key=H,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function($){return this._append($),this._process()},finalize:function($){$&&this._append($);var H=this._doFinalize();return H},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function $(H){return typeof H=="string"?I:A}return function(H){return{encrypt:function(M,B,O){return $(B).encrypt(H,M,B,O)},decrypt:function(M,B,O){return $(B).decrypt(H,M,B,O)}}}}()});a.StreamCipher=g.extend({_doFinalize:function(){var $=this._process(!0);return $},blockSize:1});var b=s.mode={},y=a.BlockCipherMode=i.extend({createEncryptor:function($,H){return this.Encryptor.create($,H)},createDecryptor:function($,H){return this.Decryptor.create($,H)},init:function($,H){this._cipher=$,this._iv=H}}),w=b.CBC=function(){var $=y.extend();$.Encryptor=$.extend({processBlock:function(M,B){var O=this._cipher,z=O.blockSize;H.call(this,M,B,z),O.encryptBlock(M,B),this._prevBlock=M.slice(B,B+z)}}),$.Decryptor=$.extend({processBlock:function(M,B){var O=this._cipher,z=O.blockSize,G=M.slice(B,B+z);O.decryptBlock(M,B),H.call(this,M,B,z),this._prevBlock=G}});function H(M,B,O){var z,G=this._iv;G?(z=G,this._iv=r):z=this._prevBlock;for(var Z=0;Z<O;Z++)M[B+Z]^=z[Z]}return $}(),x=s.pad={},N=x.Pkcs7={pad:function($,H){for(var M=H*4,B=M-$.sigBytes%M,O=B<<24|B<<16|B<<8|B,z=[],G=0;G<B;G+=4)z.push(O);var Z=o.create(z,B);$.concat(Z)},unpad:function($){var H=$.words[$.sigBytes-1>>>2]&255;$.sigBytes-=H}};a.BlockCipher=g.extend({cfg:g.cfg.extend({mode:w,padding:N}),reset:function(){var $;g.reset.call(this);var H=this.cfg,M=H.iv,B=H.mode;this._xformMode==this._ENC_XFORM_MODE?$=B.createEncryptor:($=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==$?this._mode.init(this,M&&M.words):(this._mode=$.call(B,this,M&&M.words),this._mode.__creator=$)},_doProcessBlock:function($,H){this._mode.processBlock($,H)},_doFinalize:function(){var $,H=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(H.pad(this._data,this.blockSize),$=this._process(!0)):($=this._process(!0),H.unpad($)),$},blockSize:128/32});var E=a.CipherParams=i.extend({init:function($){this.mixIn($)},toString:function($){return($||this.formatter).stringify(this)}}),C=s.format={},k=C.OpenSSL={stringify:function($){var H,M=$.ciphertext,B=$.salt;return B?H=o.create([1398893684,1701076831]).concat(B).concat(M):H=M,H.toString(h)},parse:function($){var H,M=h.parse($),B=M.words;return B[0]==1398893684&&B[1]==1701076831&&(H=o.create(B.slice(2,4)),B.splice(0,4),M.sigBytes-=16),E.create({ciphertext:M,salt:H})}},A=a.SerializableCipher=i.extend({cfg:i.extend({format:k}),encrypt:function($,H,M,B){B=this.cfg.extend(B);var O=$.createEncryptor(M,B),z=O.finalize(H),G=O.cfg;return E.create({ciphertext:z,key:M,iv:G.iv,algorithm:$,mode:G.mode,padding:G.padding,blockSize:$.blockSize,formatter:B.format})},decrypt:function($,H,M,B){B=this.cfg.extend(B),H=this._parse(H,B.format);var O=$.createDecryptor(M,B).finalize(H.ciphertext);return O},_parse:function($,H){return typeof $=="string"?H.parse($,this):$}}),_=s.kdf={},P=_.OpenSSL={execute:function($,H,M,B,O){if(B||(B=o.random(64/8)),O)var z=m.create({keySize:H+M,hasher:O}).compute($,B);else var z=m.create({keySize:H+M}).compute($,B);var G=o.create(z.words.slice(H),M*4);return z.sigBytes=H*4,E.create({key:z,iv:G,salt:B})}},I=a.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:P}),encrypt:function($,H,M,B){B=this.cfg.extend(B);var O=B.kdf.execute(M,$.keySize,$.ivSize,B.salt,B.hasher);B.iv=O.iv;var z=A.encrypt.call(this,$,H,O.key,B);return z.mixIn(O),z},decrypt:function($,H,M,B){B=this.cfg.extend(B),H=this._parse(H,B.format);var O=B.kdf.execute(M,$.keySize,$.ivSize,H.salt,B.hasher);B.iv=O.iv;var z=A.decrypt.call(this,$,H,O.key,B);return z}})}()})}(tk)),tk.exports}var nk={exports:{}},bwe=nk.exports,F7;function wwe(){return F7||(F7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(bwe,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize;s.call(this,a,i,c,o),this._prevBlock=a.slice(i,i+c)}}),r.Decryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize,u=a.slice(i,i+c);s.call(this,a,i,c,o),this._prevBlock=u}});function s(a,i,o,c){var u,h=this._iv;h?(u=h.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var f=0;f<o;f++)a[i+f]^=u[f]}return r}(),n.mode.CFB})}(nk)),nk.exports}var rk={exports:{}},vwe=rk.exports,U7;function xwe(){return U7||(U7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(vwe,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize,u=this._iv,h=this._counter;u&&(h=this._counter=u.slice(0),this._iv=void 0);var f=h.slice(0);o.encryptBlock(f,0),h[c-1]=h[c-1]+1|0;for(var m=0;m<c;m++)a[i+m]^=f[m]}});return r.Decryptor=s,r}(),n.mode.CTR})}(rk)),rk.exports}var sk={exports:{}},Nwe=sk.exports,D7;function kwe(){return D7||(D7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Nwe,function(n){/** @preserve
* Counter block mode compatible with  Dr Brian Gladman fileenc.c
* derived from CryptoJS.mode.CTR
* Jan Hruby jhruby.web@gmail.com
*/return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function s(o){if((o>>24&255)===255){var c=o>>16&255,u=o>>8&255,h=o&255;c===255?(c=0,u===255?(u=0,h===255?h=0:++h):++u):++c,o=0,o+=c<<16,o+=u<<8,o+=h}else o+=1<<24;return o}function a(o){return(o[0]=s(o[0]))===0&&(o[1]=s(o[1])),o}var i=r.Encryptor=r.extend({processBlock:function(o,c){var u=this._cipher,h=u.blockSize,f=this._iv,m=this._counter;f&&(m=this._counter=f.slice(0),this._iv=void 0),a(m);var g=m.slice(0);u.encryptBlock(g,0);for(var b=0;b<h;b++)o[c+b]^=g[b]}});return r.Decryptor=i,r}(),n.mode.CTRGladman})}(sk)),sk.exports}var ak={exports:{}},Cwe=ak.exports,W7;function Ewe(){return W7||(W7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Cwe,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize,u=this._iv,h=this._keystream;u&&(h=this._keystream=u.slice(0),this._iv=void 0),o.encryptBlock(h,0);for(var f=0;f<c;f++)a[i+f]^=h[f]}});return r.Decryptor=s,r}(),n.mode.OFB})}(ak)),ak.exports}var ik={exports:{}},Swe=ik.exports,H7;function Awe(){return H7||(H7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Swe,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,a){this._cipher.encryptBlock(s,a)}}),r.Decryptor=r.extend({processBlock:function(s,a){this._cipher.decryptBlock(s,a)}}),r}(),n.mode.ECB})}(ik)),ik.exports}var ok={exports:{}},jwe=ok.exports,G7;function Twe(){return G7||(G7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(jwe,function(n){return n.pad.AnsiX923={pad:function(r,s){var a=r.sigBytes,i=s*4,o=i-a%i,c=a+o-1;r.clamp(),r.words[c>>>2]|=o<<24-c%4*8,r.sigBytes+=o},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Ansix923})}(ok)),ok.exports}var lk={exports:{}},Iwe=lk.exports,q7;function _we(){return q7||(q7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Iwe,function(n){return n.pad.Iso10126={pad:function(r,s){var a=s*4,i=a-r.sigBytes%a;r.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Iso10126})}(lk)),lk.exports}var ck={exports:{}},Pwe=ck.exports,V7;function Owe(){return V7||(V7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Pwe,function(n){return n.pad.Iso97971={pad:function(r,s){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,s)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(ck)),ck.exports}var uk={exports:{}},Rwe=uk.exports,Z7;function $we(){return Z7||(Z7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Rwe,function(n){return n.pad.ZeroPadding={pad:function(r,s){var a=s*4;r.clamp(),r.sigBytes+=a-(r.sigBytes%a||a)},unpad:function(r){for(var s=r.words,a=r.sigBytes-1,a=r.sigBytes-1;a>=0;a--)if(s[a>>>2]>>>24-a%4*8&255){r.sigBytes=a+1;break}}},n.pad.ZeroPadding})}(uk)),uk.exports}var dk={exports:{}},Mwe=dk.exports,K7;function zwe(){return K7||(K7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Mwe,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(dk)),dk.exports}var hk={exports:{}},Lwe=hk.exports,Q7;function Bwe(){return Q7||(Q7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Fr())})(Lwe,function(n){return function(r){var s=n,a=s.lib,i=a.CipherParams,o=s.enc,c=o.Hex,u=s.format;u.Hex={stringify:function(h){return h.ciphertext.toString(c)},parse:function(h){var f=c.parse(h);return i.create({ciphertext:f})}}}(),n.format.Hex})}(hk)),hk.exports}var fk={exports:{}},Fwe=fk.exports,J7;function Uwe(){return J7||(J7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),ih(),oh(),ru(),Fr())})(Fwe,function(n){return function(){var r=n,s=r.lib,a=s.BlockCipher,i=r.algo,o=[],c=[],u=[],h=[],f=[],m=[],g=[],b=[],y=[],w=[];(function(){for(var E=[],C=0;C<256;C++)C<128?E[C]=C<<1:E[C]=C<<1^283;for(var k=0,A=0,C=0;C<256;C++){var _=A^A<<1^A<<2^A<<3^A<<4;_=_>>>8^_&255^99,o[k]=_,c[_]=k;var P=E[k],I=E[P],$=E[I],H=E[_]*257^_*16843008;u[k]=H<<24|H>>>8,h[k]=H<<16|H>>>16,f[k]=H<<8|H>>>24,m[k]=H;var H=$*16843009^I*65537^P*257^k*16843008;g[_]=H<<24|H>>>8,b[_]=H<<16|H>>>16,y[_]=H<<8|H>>>24,w[_]=H,k?(k=P^E[E[E[$^P]]],A^=E[E[A]]):k=A=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],N=i.AES=a.extend({_doReset:function(){var E;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,k=C.words,A=C.sigBytes/4,_=this._nRounds=A+6,P=(_+1)*4,I=this._keySchedule=[],$=0;$<P;$++)$<A?I[$]=k[$]:(E=I[$-1],$%A?A>6&&$%A==4&&(E=o[E>>>24]<<24|o[E>>>16&255]<<16|o[E>>>8&255]<<8|o[E&255]):(E=E<<8|E>>>24,E=o[E>>>24]<<24|o[E>>>16&255]<<16|o[E>>>8&255]<<8|o[E&255],E^=x[$/A|0]<<24),I[$]=I[$-A]^E);for(var H=this._invKeySchedule=[],M=0;M<P;M++){var $=P-M;if(M%4)var E=I[$];else var E=I[$-4];M<4||$<=4?H[M]=E:H[M]=g[o[E>>>24]]^b[o[E>>>16&255]]^y[o[E>>>8&255]]^w[o[E&255]]}}},encryptBlock:function(E,C){this._doCryptBlock(E,C,this._keySchedule,u,h,f,m,o)},decryptBlock:function(E,C){var k=E[C+1];E[C+1]=E[C+3],E[C+3]=k,this._doCryptBlock(E,C,this._invKeySchedule,g,b,y,w,c);var k=E[C+1];E[C+1]=E[C+3],E[C+3]=k},_doCryptBlock:function(E,C,k,A,_,P,I,$){for(var H=this._nRounds,M=E[C]^k[0],B=E[C+1]^k[1],O=E[C+2]^k[2],z=E[C+3]^k[3],G=4,Z=1;Z<H;Z++){var D=A[M>>>24]^_[B>>>16&255]^P[O>>>8&255]^I[z&255]^k[G++],K=A[B>>>24]^_[O>>>16&255]^P[z>>>8&255]^I[M&255]^k[G++],ee=A[O>>>24]^_[z>>>16&255]^P[M>>>8&255]^I[B&255]^k[G++],F=A[z>>>24]^_[M>>>16&255]^P[B>>>8&255]^I[O&255]^k[G++];M=D,B=K,O=ee,z=F}var D=($[M>>>24]<<24|$[B>>>16&255]<<16|$[O>>>8&255]<<8|$[z&255])^k[G++],K=($[B>>>24]<<24|$[O>>>16&255]<<16|$[z>>>8&255]<<8|$[M&255])^k[G++],ee=($[O>>>24]<<24|$[z>>>16&255]<<16|$[M>>>8&255]<<8|$[B&255])^k[G++],F=($[z>>>24]<<24|$[M>>>16&255]<<16|$[B>>>8&255]<<8|$[O&255])^k[G++];E[C]=D,E[C+1]=K,E[C+2]=ee,E[C+3]=F},keySize:256/32});r.AES=a._createHelper(N)}(),n.AES})}(fk)),fk.exports}var pk={exports:{}},Dwe=pk.exports,Y7;function Wwe(){return Y7||(Y7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),ih(),oh(),ru(),Fr())})(Dwe,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=s.BlockCipher,o=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=o.DES=i.extend({_doReset:function(){for(var x=this._key,N=x.words,E=[],C=0;C<56;C++){var k=c[C]-1;E[C]=N[k>>>5]>>>31-k%32&1}for(var A=this._subKeys=[],_=0;_<16;_++){for(var P=A[_]=[],I=h[_],C=0;C<24;C++)P[C/6|0]|=E[(u[C]-1+I)%28]<<31-C%6,P[4+(C/6|0)]|=E[28+(u[C+24]-1+I)%28]<<31-C%6;P[0]=P[0]<<1|P[0]>>>31;for(var C=1;C<7;C++)P[C]=P[C]>>>(C-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var $=this._invSubKeys=[],C=0;C<16;C++)$[C]=A[15-C]},encryptBlock:function(x,N){this._doCryptBlock(x,N,this._subKeys)},decryptBlock:function(x,N){this._doCryptBlock(x,N,this._invSubKeys)},_doCryptBlock:function(x,N,E){this._lBlock=x[N],this._rBlock=x[N+1],b.call(this,4,252645135),b.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),b.call(this,1,1431655765);for(var C=0;C<16;C++){for(var k=E[C],A=this._lBlock,_=this._rBlock,P=0,I=0;I<8;I++)P|=f[I][((_^k[I])&m[I])>>>0];this._lBlock=_,this._rBlock=A^P}var $=this._lBlock;this._lBlock=this._rBlock,this._rBlock=$,b.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),b.call(this,16,65535),b.call(this,4,252645135),x[N]=this._lBlock,x[N+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function b(x,N){var E=(this._lBlock>>>x^this._rBlock)&N;this._rBlock^=E,this._lBlock^=E<<x}function y(x,N){var E=(this._rBlock>>>x^this._lBlock)&N;this._lBlock^=E,this._rBlock^=E<<x}r.DES=i._createHelper(g);var w=o.TripleDES=i.extend({_doReset:function(){var x=this._key,N=x.words;if(N.length!==2&&N.length!==4&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var E=N.slice(0,2),C=N.length<4?N.slice(0,2):N.slice(2,4),k=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=g.createEncryptor(a.create(E)),this._des2=g.createEncryptor(a.create(C)),this._des3=g.createEncryptor(a.create(k))},encryptBlock:function(x,N){this._des1.encryptBlock(x,N),this._des2.decryptBlock(x,N),this._des3.encryptBlock(x,N)},decryptBlock:function(x,N){this._des3.decryptBlock(x,N),this._des2.encryptBlock(x,N),this._des1.decryptBlock(x,N)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=i._createHelper(w)}(),n.TripleDES})}(pk)),pk.exports}var mk={exports:{}},Hwe=mk.exports,X7;function Gwe(){return X7||(X7=1,function(t,e){(function(n,r,s){t.exports=r(dn(),ih(),oh(),ru(),Fr())})(Hwe,function(n){return function(){var r=n,s=r.lib,a=s.StreamCipher,i=r.algo,o=i.RC4=a.extend({_doReset:function(){for(var h=this._key,f=h.words,m=h.sigBytes,g=this._S=[],b=0;b<256;b++)g[b]=b;for(var b=0,y=0;b<256;b++){var w=b%m,x=f[w>>>2]>>>24-w%4*8&255;y=(y+g[b]+x)%256;var N=g[b];g[b]=g[y],g[y]=N}this._i=this._j=0},_doProcessBlock:function(h,f){h[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var h=this._S,f=this._i,m=this._j,g=0,b=0;b<4;b++){f=(f+1)%256,m=(m+h[f])%256;var y=h[f];h[f]=h[m],h[m]=y,g|=h[(h[f]+h[m])%256]<<24-b*8}return this._i=f,this._j=m,g}r.RC4=a._createHelper(o);var u=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)c.call(this)}});r.RC4Drop=a._createHelper(u)}(),n.RC4})}(mk)),mk.exports}var gk={exports:{}},qwe=gk.exports,e9;function Vwe(){return e9||(e9=1,function(t,e){(function(n,r,s){t.exports=r(dn(),ih(),oh(),ru(),Fr())})(qwe,function(n){return function(){var r=n,s=r.lib,a=s.StreamCipher,i=r.algo,o=[],c=[],u=[],h=i.Rabbit=a.extend({_doReset:function(){for(var m=this._key.words,g=this.cfg.iv,b=0;b<4;b++)m[b]=(m[b]<<8|m[b]>>>24)&16711935|(m[b]<<24|m[b]>>>8)&4278255360;var y=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],w=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var b=0;b<4;b++)f.call(this);for(var b=0;b<8;b++)w[b]^=y[b+4&7];if(g){var x=g.words,N=x[0],E=x[1],C=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A=C>>>16|k&4294901760,_=k<<16|C&65535;w[0]^=C,w[1]^=A,w[2]^=k,w[3]^=_,w[4]^=C,w[5]^=A,w[6]^=k,w[7]^=_;for(var b=0;b<4;b++)f.call(this)}},_doProcessBlock:function(m,g){var b=this._X;f.call(this),o[0]=b[0]^b[5]>>>16^b[3]<<16,o[1]=b[2]^b[7]>>>16^b[5]<<16,o[2]=b[4]^b[1]>>>16^b[7]<<16,o[3]=b[6]^b[3]>>>16^b[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,m[g+y]^=o[y]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,g=this._C,b=0;b<8;b++)c[b]=g[b];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<c[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<c[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<c[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<c[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<c[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<c[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<c[6]>>>0?1:0)|0,this._b=g[7]>>>0<c[7]>>>0?1:0;for(var b=0;b<8;b++){var y=m[b]+g[b],w=y&65535,x=y>>>16,N=((w*w>>>17)+w*x>>>15)+x*x,E=((y&4294901760)*y|0)+((y&65535)*y|0);u[b]=N^E}m[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,m[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,m[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,m[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,m[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,m[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,m[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,m[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=a._createHelper(h)}(),n.Rabbit})}(gk)),gk.exports}var yk={exports:{}},Zwe=yk.exports,t9;function Kwe(){return t9||(t9=1,function(t,e){(function(n,r,s){t.exports=r(dn(),ih(),oh(),ru(),Fr())})(Zwe,function(n){return function(){var r=n,s=r.lib,a=s.StreamCipher,i=r.algo,o=[],c=[],u=[],h=i.RabbitLegacy=a.extend({_doReset:function(){var m=this._key.words,g=this.cfg.iv,b=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],y=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var w=0;w<4;w++)f.call(this);for(var w=0;w<8;w++)y[w]^=b[w+4&7];if(g){var x=g.words,N=x[0],E=x[1],C=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A=C>>>16|k&4294901760,_=k<<16|C&65535;y[0]^=C,y[1]^=A,y[2]^=k,y[3]^=_,y[4]^=C,y[5]^=A,y[6]^=k,y[7]^=_;for(var w=0;w<4;w++)f.call(this)}},_doProcessBlock:function(m,g){var b=this._X;f.call(this),o[0]=b[0]^b[5]>>>16^b[3]<<16,o[1]=b[2]^b[7]>>>16^b[5]<<16,o[2]=b[4]^b[1]>>>16^b[7]<<16,o[3]=b[6]^b[3]>>>16^b[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,m[g+y]^=o[y]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,g=this._C,b=0;b<8;b++)c[b]=g[b];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<c[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<c[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<c[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<c[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<c[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<c[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<c[6]>>>0?1:0)|0,this._b=g[7]>>>0<c[7]>>>0?1:0;for(var b=0;b<8;b++){var y=m[b]+g[b],w=y&65535,x=y>>>16,N=((w*w>>>17)+w*x>>>15)+x*x,E=((y&4294901760)*y|0)+((y&65535)*y|0);u[b]=N^E}m[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,m[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,m[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,m[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,m[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,m[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,m[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,m[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=a._createHelper(h)}(),n.RabbitLegacy})}(yk)),yk.exports}var bk={exports:{}},Qwe=bk.exports,n9;function Jwe(){return n9||(n9=1,function(t,e){(function(n,r,s){t.exports=r(dn(),ih(),oh(),ru(),Fr())})(Qwe,function(n){return function(){var r=n,s=r.lib,a=s.BlockCipher,i=r.algo;const o=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function f(w,x){let N=x>>24&255,E=x>>16&255,C=x>>8&255,k=x&255,A=w.sbox[0][N]+w.sbox[1][E];return A=A^w.sbox[2][C],A=A+w.sbox[3][k],A}function m(w,x,N){let E=x,C=N,k;for(let A=0;A<o;++A)E=E^w.pbox[A],C=f(w,E)^C,k=E,E=C,C=k;return k=E,E=C,C=k,C=C^w.pbox[o],E=E^w.pbox[o+1],{left:E,right:C}}function g(w,x,N){let E=x,C=N,k;for(let A=o+1;A>1;--A)E=E^w.pbox[A],C=f(w,E)^C,k=E,E=C,C=k;return k=E,E=C,C=k,C=C^w.pbox[1],E=E^w.pbox[0],{left:E,right:C}}function b(w,x,N){for(let _=0;_<4;_++){w.sbox[_]=[];for(let P=0;P<256;P++)w.sbox[_][P]=u[_][P]}let E=0;for(let _=0;_<o+2;_++)w.pbox[_]=c[_]^x[E],E++,E>=N&&(E=0);let C=0,k=0,A=0;for(let _=0;_<o+2;_+=2)A=m(w,C,k),C=A.left,k=A.right,w.pbox[_]=C,w.pbox[_+1]=k;for(let _=0;_<4;_++)for(let P=0;P<256;P+=2)A=m(w,C,k),C=A.left,k=A.right,w.sbox[_][P]=C,w.sbox[_][P+1]=k;return!0}var y=i.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,x=w.words,N=w.sigBytes/4;b(h,x,N)}},encryptBlock:function(w,x){var N=m(h,w[x],w[x+1]);w[x]=N.left,w[x+1]=N.right},decryptBlock:function(w,x){var N=g(h,w[x],w[x+1]);w[x]=N.left,w[x+1]=N.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=a._createHelper(y)}(),n.Blowfish})}(bk)),bk.exports}var Ywe=B6.exports,r9;function Xwe(){return r9||(r9=1,function(t,e){(function(n,r,s){t.exports=r(dn(),Rx(),Q1e(),Y1e(),ih(),twe(),oh(),QF(),Iy(),awe(),JF(),lwe(),uwe(),hwe(),EE(),mwe(),ru(),Fr(),wwe(),xwe(),kwe(),Ewe(),Awe(),Twe(),_we(),Owe(),$we(),zwe(),Bwe(),Uwe(),Wwe(),Gwe(),Vwe(),Kwe(),Jwe())})(Ywe,function(n){return n})}(B6)),B6.exports}var s9;function Fp(){if(s9)return lc;s9=1;var t=lc&&lc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(lc,"__esModule",{value:!0}),lc.Base=void 0;const e=gx(),n=t(Xwe());let r=class Oa{print(){Oa.print(this)}bufferIndexOf(a,i,o=!1){if(o)return this.binarySearch(a,i,e.Buffer.compare);const c=(u,h)=>u.equals(h);return this.linearSearch(a,i,c)}static binarySearch(a,i,o){let c=0,u=a.length-1;for(;c<=u;){const h=Math.floor((c+u)/2),f=o(a[h],i);if(f===0){for(let m=h-1;m>=0;m--)if(o(a[m],i)!==0)return m+1;return 0}else f<0?c=h+1:u=h-1}return-1}binarySearch(a,i,o){return Oa.binarySearch(a,i,o)}static linearSearch(a,i,o){for(let c=0;c<a.length;c++)if(o(a[c],i))return c;return-1}linearSearch(a,i,o){return Oa.linearSearch(a,i,o)}static bufferify(a){if(!e.Buffer.isBuffer(a)){if(typeof a=="object"&&a.words)return e.Buffer.from(a.toString(n.default.enc.Hex),"hex");if(Oa.isHexString(a)){const i=a.replace("0x",""),o=i.length%2?"0"+i:i;return e.Buffer.from(o,"hex")}else{if(typeof a=="string")return e.Buffer.from(a);if(typeof a=="bigint"){const i=a.toString(16).length%2?"0"+a.toString(16):a.toString(16);return e.Buffer.from(i,"hex")}else{if(a instanceof Uint8Array)return e.Buffer.from(a.buffer,a.byteOffset,a.byteLength);if(typeof a=="number"){let i=a.toString();return i.length%2&&(i=`0${i}`),e.Buffer.from(i,"hex")}else if(ArrayBuffer.isView(a))return e.Buffer.from(a.buffer,a.byteOffset,a.byteLength)}}}return a}static bufferifyFn(a){if(typeof a!="function")throw new Error(`bufferifyFn expects a function, received: ${typeof a}`);return i=>{const o=a(i);if(e.Buffer.isBuffer(o))return o;if(Oa.isHexString(o)){const c=o.replace("0x",""),u=c.length%2?"0"+c:c;return e.Buffer.from(u,"hex")}if(typeof o=="string")return e.Buffer.from(o);if(typeof o=="bigint"){const c=o.toString(16).length%2?"0"+o.toString(16):o.toString(16);return e.Buffer.from(c,"hex")}return ArrayBuffer.isView(o)?e.Buffer.from(o.buffer,o.byteOffset,o.byteLength):e.Buffer.from(a(n.default.enc.Hex.parse(i.toString("hex"))).toString(n.default.enc.Hex),"hex")}}bigNumberify(a){return Oa.bigNumberify(a)}static bigNumberify(a){if(typeof a=="bigint")return a;if(typeof a=="string"){if(a.startsWith("0x")&&Oa.isHexString(a)){const i=a.replace("0x",""),o=i.length%2?"0"+i:i||"0";return BigInt("0x"+o)}return BigInt(a)}if(e.Buffer.isBuffer(a)){const i=a.toString("hex"),o=i.length%2?"0"+i:i||"0";return BigInt("0x"+o)}if(a instanceof Uint8Array){const i=e.Buffer.from(a).toString("hex"),o=i.length%2?"0"+i:i||"0";return BigInt("0x"+o)}if(typeof a=="number")return BigInt(a);throw new Error("cannot bigNumberify")}static isHexString(a){return typeof a=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(a)}static print(a){console.log(a.toString())}bufferToHex(a,i=!0){return Oa.bufferToHex(a,i)}static bufferToHex(a,i=!0){return`${i?"0x":""}${(a||e.Buffer.alloc(0)).toString("hex")}`}bufferify(a){return Oa.bufferify(a)}bufferifyFn(a){return Oa.bufferifyFn(a)}isHexString(a){return Oa.isHexString(a)}log2(a){return a===1?0:1+this.log2(a/2|0)}zip(a,i){return a.map((o,c)=>[o,i[c]])}static hexZeroPad(a,i){return"0x"+a.replace("0x","").padStart(i,"0")}bufferArrayIncludes(a,i){return a.some(o=>o.equals(i??e.Buffer.alloc(0)))}};return lc.Base=r,lc.default=r,lc}var a9;function eve(){if(a9)return oc;a9=1;var t=oc&&oc.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(oc,"__esModule",{value:!0}),oc.MerkleTree=void 0;const e=gx(),n=t(U1e()),r=t(Iy()),s=t(KF()),a=t(Fp());let i=class ai extends a.default{constructor(c,u=r.default,h={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,h.complete){if(h.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(h.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!h.isBitcoinTree,this.hashLeaves=!!h.hashLeaves,this.sortLeaves=!!h.sortLeaves,this.sortPairs=!!h.sortPairs,this.complete=!!h.complete,h.fillDefaultHash)if(typeof h.fillDefaultHash=="function")this.fillDefaultHash=h.fillDefaultHash;else if(e.Buffer.isBuffer(h.fillDefaultHash)||typeof h.fillDefaultHash=="string")this.fillDefaultHash=(f,m)=>h.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');if(this.sort=!!h.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!h.duplicateOdd,h.concatenator?this.concatenator=h.concatenator:this.concatenator=e.Buffer.concat,typeof u!="function")throw new Error("hashFn must be a function");this.hashFn=this.bufferifyFn(u),this.processLeaves(c)}getOptions(){var c,u;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:(u=(c=this.fillDefaultHash)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:null,duplicateOdd:this.duplicateOdd}}processLeaves(c){if(this.hashLeaves&&(c=c.map(this.hashFn)),this.leaves=c.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(e.Buffer.compare)),this.fillDefaultHash)for(let u=this.leaves.length;u<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));u++)this.leaves.push(this.bufferify(this.fillDefaultHash(u,this.hashFn)));this.createHashes(this.leaves)}createHashes(c){for(this.layers=[c];c.length>1;){const u=this.layers.length;this.layers.push([]);const h=this.complete&&u===1&&!Number.isInteger(Math.log2(c.length))?2*c.length-Math.pow(2,Math.ceil(Math.log2(c.length))):c.length;for(let f=0;f<c.length;f+=2){if(f>=h){this.layers[u].push(...c.slice(h));break}else if(f+1===c.length&&c.length%2===1){const w=c[c.length-1];let x=w;if(this.isBitcoinTree){x=this.hashFn(this.concatenator([n.default(w),n.default(w)])),x=n.default(this.hashFn(x)),this.layers[u].push(x);continue}else if(!this.duplicateOdd){this.layers[u].push(c[f]);continue}}const m=c[f],g=f+1===c.length?m:c[f+1];let b=null;this.isBitcoinTree?b=[n.default(m),n.default(g)]:b=[m,g],this.sortPairs&&b.sort(e.Buffer.compare);let y=this.hashFn(this.concatenator(b));this.isBitcoinTree&&(y=n.default(this.hashFn(y))),this.layers[u].push(y)}c=this.layers[u]}}addLeaf(c,u=!1){u&&(c=this.hashFn(c)),this.processLeaves(this.leaves.concat(c))}addLeaves(c,u=!1){u&&(c=c.map(this.hashFn)),this.processLeaves(this.leaves.concat(c))}getLeaves(c){return Array.isArray(c)?(this.hashLeaves&&(c=c.map(this.hashFn),this.sortLeaves&&(c=c.sort(e.Buffer.compare))),this.leaves.filter(u=>this.bufferIndexOf(c,u,this.sortLeaves)!==-1)):this.leaves}removeLeaf(c){if(!this.isValidLeafIndex(c))throw new Error(`"${c}" is not a valid leaf index. Expected to be [0, ${this.getLeafCount()-1}]`);const u=this.leaves.splice(c,1);return this.processLeaves(this.leaves),u[0]}updateLeaf(c,u,h=!1){if(!this.isValidLeafIndex(c))throw new Error(`"${c}" is not a valid leaf index. Expected to be [0, ${this.getLeafCount()-1}]`);h&&(u=this.hashFn(u)),this.leaves[c]=u,this.processLeaves(this.leaves)}getLeaf(c){return c<0||c>this.leaves.length-1?e.Buffer.from([]):this.leaves[c]}getLeafIndex(c){c=this.bufferify(c);const u=this.getLeaves();for(let h=0;h<u.length;h++)if(u[h].equals(c))return h;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(c=>this.bufferToHex(c))}static marshalLeaves(c){return JSON.stringify(c.map(u=>ai.bufferToHex(u)),null,2)}static unmarshalLeaves(c){let u=null;if(typeof c=="string")u=JSON.parse(c);else if(c instanceof Object)u=c;else throw new Error("Expected type of string or object");if(!u)return[];if(!Array.isArray(u))throw new Error("Expected JSON string to be array");return u.map(ai.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((c,u)=>(Array.isArray(u)?c.push(u.map(h=>this.bufferToHex(h))):c.push(u),c),[])}getLayersFlat(){const c=this.layers.reduce((u,h)=>(Array.isArray(h)?u.unshift(...h):u.unshift(h),u),[]);return c.unshift(e.Buffer.from([0])),c}getHexLayersFlat(){return this.getLayersFlat().map(c=>this.bufferToHex(c))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?e.Buffer.from([]):this.layers[this.layers.length-1][0]||e.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(c,u){if(typeof c>"u")throw new Error("leaf is required");c=this.bufferify(c);const h=[];if(!Number.isInteger(u)){u=-1;for(let f=0;f<this.leaves.length;f++)e.Buffer.compare(c,this.leaves[f])===0&&(u=f)}if(u<=-1)return[];for(let f=0;f<this.layers.length;f++){const m=this.layers[f],g=u%2,b=g?u-1:this.isBitcoinTree&&u===m.length-1&&f<this.layers.length-1?u:u+1;b<m.length&&h.push({position:g?"left":"right",data:m[b]}),u=u/2|0}return h}getHexProof(c,u){return this.getProof(c,u).map(h=>this.bufferToHex(h.data))}getProofs(){const c=[],u=[];return this.getProofsDFS(this.layers.length-1,0,c,u),u}getProofsDFS(c,u,h,f){const m=u%2;if(c===-1){m||f.push([...h].reverse());return}if(u>=this.layers[c].length)return;const g=this.layers[c],b=m?u-1:u+1;let y=!1;b<g.length&&(y=!0,h.push({position:m?"left":"right",data:g[b]}));const w=u*2,x=u*2+1;this.getProofsDFS(c-1,w,h,f),this.getProofsDFS(c-1,x,h,f),y&&h.splice(h.length-1,1)}getHexProofs(){return this.getProofs().map(c=>this.bufferToHex(c.data))}getPositionalHexProof(c,u){return this.getProof(c,u).map(h=>[h.position==="left"?0:1,this.bufferToHex(h.data)])}static marshalProof(c){const u=c.map(h=>typeof h=="string"?h:e.Buffer.isBuffer(h)?ai.bufferToHex(h):{position:h.position,data:ai.bufferToHex(h.data)});return JSON.stringify(u,null,2)}static unmarshalProof(c){let u=null;if(typeof c=="string")u=JSON.parse(c);else if(c instanceof Object)u=c;else throw new Error("Expected type of string or object");if(!u)return[];if(!Array.isArray(u))throw new Error("Expected JSON string to be array");return u.map(h=>{if(typeof h=="string")return ai.bufferify(h);if(h instanceof Object)return{position:h.position,data:ai.bufferify(h.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(c){const u=c.getHexRoot(),h=c.leaves.map(g=>ai.bufferToHex(g)),f=c.getHexLayers(),m=c.getOptions();return JSON.stringify({options:m,root:u,layers:f,leaves:h},null,2)}static unmarshalTree(c,u=r.default,h={}){let f=null;if(typeof c=="string")f=JSON.parse(c);else if(c instanceof Object)f=c;else throw new Error("Expected type of string or object");if(!f)throw new Error("could not parse json");return h=Object.assign({},f.options||{},h),new ai(f.leaves,u,h)}getProofIndices(c,u){const h=Math.pow(2,u);let f=new Set;for(const w of c){let x=h+w;for(;x>1;)f.add(x^1),x=x/2|0}const m=c.map(w=>h+w),g=Array.from(f).sort((w,x)=>w-x).reverse();f=m.concat(g);const b=new Set,y=[];for(let w of f)if(!b.has(w))for(y.push(w);w>1&&(b.add(w),!!b.has(w^1));)w=w/2|0;return y.filter(w=>!c.includes(w-h))}getProofIndicesForUnevenTree(c,u){const h=Math.ceil(Math.log2(u)),f=[];for(let b=0;b<h;b++)u%2!==0&&f.push({index:b,leavesCount:u}),u=Math.ceil(u/2);const m=[];let g=c;for(let b=0;b<h;b++){let y=g.map(x=>x%2===0?x+1:x-1).filter(x=>!g.includes(x));const w=f.find(({index:x})=>x===b);w&&g.includes(w.leavesCount-1)&&(y=y.slice(0,-1)),m.push(y),g=[...new Set(g.map(x=>x%2===0?x/2:x%2===0?(x+1)/2:(x-1)/2))]}return m}getMultiProof(c,u){if(this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),u||(u=c,c=this.getLayersFlat()),this.isUnevenTree()&&u.every(Number.isInteger))return this.getMultiProofForUnevenTree(u);if(!u.every(Number.isInteger)){let h=u;this.sortPairs&&(h=h.sort(e.Buffer.compare));let f=h.map(y=>this.bufferIndexOf(this.leaves,y,this.sortLeaves)).sort((y,w)=>y===w?0:y>w?1:-1);if(!f.every(y=>y!==-1))throw new Error("Element does not exist in Merkle tree");const m=[],g=[];let b=[];for(let y=0;y<this.layers.length;y++){const w=this.layers[y];for(let x=0;x<f.length;x++){const N=f[x],E=this.getPairNode(w,N);m.push(w[N]),E&&g.push(E),b.push(N/2|0)}f=b.filter((x,N,E)=>E.indexOf(x)===N),b=[]}return g.filter(y=>!m.includes(y))}return this.getProofIndices(u,Math.log2(c.length/2|0)).map(h=>c[h])}getMultiProofForUnevenTree(c,u){u||(u=c,c=this.getLayers());let h=[],f=u;for(const m of c){const g=[];for(const y of f){if(y%2===0){const x=y+1;if(!f.includes(x)&&m[x]){g.push(m[x]);continue}}const w=y-1;if(!f.includes(w)&&m[w]){g.push(m[w]);continue}}h=h.concat(g);const b=new Set;for(const y of f){if(y%2===0){b.add(y/2);continue}if(y%2===0){b.add((y+1)/2);continue}b.add((y-1)/2)}f=Array.from(b)}return h}getHexMultiProof(c,u){return this.getMultiProof(c,u).map(h=>this.bufferToHex(h))}getProofFlags(c,u){if(!Array.isArray(c)||c.length<=0)throw new Error("Invalid Inputs!");let h;if(c.every(Number.isInteger)?h=[...c].sort((b,y)=>b===y?0:b>y?1:-1):h=c.map(b=>this.bufferIndexOf(this.leaves,b,this.sortLeaves)).sort((b,y)=>b===y?0:b>y?1:-1),!h.every(b=>b!==-1))throw new Error("Element does not exist in Merkle tree");const f=u.map(b=>this.bufferify(b)),m=[],g=[];for(let b=0;b<this.layers.length;b++){const y=this.layers[b];h=h.reduce((w,x)=>{if(!m.includes(y[x])){const N=this.getPairNode(y,x),E=this.bufferArrayIncludes(f,y[x])||this.bufferArrayIncludes(f,N);N&&g.push(!E),m.push(y[x]),m.push(N)}return w.push(x/2|0),w},[])}return g}verify(c,u,h){let f=this.bufferify(u);if(h=this.bufferify(h),!Array.isArray(c)||!u||!h)return!1;for(let m=0;m<c.length;m++){const g=c[m];let b=null,y=null;if(typeof g=="string")b=this.bufferify(g),y=!0;else if(Array.isArray(g))y=g[0]===0,b=this.bufferify(g[1]);else if(e.Buffer.isBuffer(g))b=g,y=!0;else if(g instanceof Object)b=this.bufferify(g.data),y=g.position==="left";else throw new Error("Expected node to be of type string or object");const w=[];this.isBitcoinTree?(w.push(n.default(f)),w[y?"unshift":"push"](n.default(b)),f=this.hashFn(this.concatenator(w)),f=n.default(this.hashFn(f))):this.sortPairs?e.Buffer.compare(f,b)===-1?(w.push(f,b),f=this.hashFn(this.concatenator(w))):(w.push(b,f),f=this.hashFn(this.concatenator(w))):(w.push(f),w[y?"unshift":"push"](b),f=this.hashFn(this.concatenator(w)))}return e.Buffer.compare(f,h)===0}verifyMultiProof(c,u,h,f,m){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(c,u,h,f,m);const g=Math.ceil(Math.log2(f));c=this.bufferify(c),h=h.map(x=>this.bufferify(x)),m=m.map(x=>this.bufferify(x));const b={};for(const[x,N]of this.zip(u,h))b[Math.pow(2,g)+x]=N;for(const[x,N]of this.zip(this.getProofIndices(u,g),m))b[x]=N;let y=Object.keys(b).map(x=>+x).sort((x,N)=>x-N);y=y.slice(0,y.length-1);let w=0;for(;w<y.length;){const x=y[w];if(x>=2&&{}.hasOwnProperty.call(b,x^1)){let N=[b[x-x%2],b[x-x%2+1]];this.sortPairs&&(N=N.sort(e.Buffer.compare));const E=N[1]?this.hashFn(this.concatenator(N)):N[0];b[x/2|0]=E,y.push(x/2|0)}w+=1}return!u.length||{}.hasOwnProperty.call(b,1)&&b[1].equals(c)}verifyMultiProofWithFlags(c,u,h,f){c=this.bufferify(c),u=u.map(this.bufferify),h=h.map(this.bufferify);const m=u.length,g=f.length,b=[];let y=0,w=0,x=0;for(let N=0;N<g;N++){const E=f[N]?y<m?u[y++]:b[w++]:h[x++],C=y<m?u[y++]:b[w++],k=[E,C].sort(e.Buffer.compare);b[N]=this.hashFn(this.concatenator(k))}return e.Buffer.compare(b[g-1],c)===0}verifyMultiProofForUnevenTree(c,u,h,f,m){c=this.bufferify(c),h=h.map(b=>this.bufferify(b)),m=m.map(b=>this.bufferify(b));const g=this.calculateRootForUnevenTree(u,h,f,m);return c.equals(g)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const c=this.getLayers().map(h=>h.map(f=>this.bufferToHex(f,!1))),u=[];for(let h=0;h<c.length;h++){const f=[];for(let m=0;m<c[h].length;m++){const g={[c[h][m]]:null};if(u.length){g[c[h][m]]={};const b=u.shift(),y=Object.keys(b)[0];if(g[c[h][m]][y]=b[y],u.length){const w=u.shift(),x=Object.keys(w)[0];g[c[h][m]][x]=w[x]}}f.push(g)}u.push(...f)}return u[0]}static verify(c,u,h,f=r.default,m={}){return new ai([],f,m).verify(c,u,h)}static getMultiProof(c,u){return new ai([]).getMultiProof(c,u)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(c,u){const h=u%2===0?u+1:u-1;return h<c.length?c[h]:null}toTreeString(){const c=this.getLayersAsObject();return s.default.asTree(c,!0)}toString(){return this.toTreeString()}isUnevenTree(c){const u=c?.length||this.getDepth();return!this.isPowOf2(u)}isPowOf2(c){return c&&!(c&c-1)}isValidLeafIndex(c){return c>=0&&c<this.getLeafCount()}calculateRootForUnevenTree(c,u,h,f){const m=this.zip(c,u).sort(([N],[E])=>N-E),g=m.map(([N])=>N),b=this.getProofIndicesForUnevenTree(g,h);let y=0;const w=[];for(let N=0;N<b.length;N++){const E=b[N],C=y;y+=E.length,w[N]=this.zip(E,f.slice(C,y))}const x=[m];for(let N=0;N<w.length;N++){const E=w[N].concat(x[N]).sort(([_],[P])=>_-P).map(([,_])=>_),C=x[N].map(([_])=>_),k=[...new Set(C.map(_=>_%2===0?_/2:_%2===0?(_+1)/2:(_-1)/2))],A=[];for(let _=0;_<k.length;_++){const P=k[_],I=E[_*2],$=E[_*2+1],H=$?this.hashFn(this.concatenator([I,$])):I;A.push([P,H])}x.push(A)}return x[x.length-1][0][1]}};return oc.MerkleTree=i,typeof window<"u"&&(window.MerkleTree=i),oc.default=i,oc}var cc={},i9;function tve(){if(i9)return cc;i9=1;var t=cc&&cc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cc,"__esModule",{value:!0}),cc.MerkleMountainRange=void 0;const e=gx(),n=t(Iy()),r=t(Fp());let s=class extends r.default{constructor(a=n.default,i=[],o,c,u){super(),this.root=e.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},i=i.map(this.bufferify),this.hashFn=this.bufferifyFn(a),this.hashLeafFn=o,this.peakBaggingFn=c,this.hashBranchFn=u;for(const h of i)this.append(h)}append(a){a=this.bufferify(a);const i=this.hashFn(a),o=this.bufferToHex(i);(!this.data[o]||this.bufferToHex(this.hashFn(this.data[o]))!==o)&&(this.data[o]=a);const c=this.hashLeaf(this.size+1,i);this.hashes[this.size+1]=c,this.width+=1;const u=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const h=[];for(let f=0;f<u.length;f++)h[f]=this._getOrCreateNode(u[f]);this.root=this.peakBagging(this.width,h)}hashLeaf(a,i){return i=this.bufferify(i),this.hashLeafFn?this.bufferify(this.hashLeafFn(a,i)):this.hashFn(e.Buffer.concat([this.bufferify(a),i]))}hashBranch(a,i,o){return this.hashBranchFn?this.bufferify(this.hashBranchFn(a,i,o)):this.hashFn(e.Buffer.concat([this.bufferify(a),this.bufferify(i),this.bufferify(o)]))}getPeaks(){const a=this.getPeakIndexes(this.width),i=[];for(let o=0;o<a.length;o++)i[o]=this.hashes[a[o]];return i}getLeafIndex(a){return a%2===1?this.getSize(a):this.getSize(a-1)+1}getPeakIndexes(a){const i=this.numOfPeaks(a),o=[];let c=0,u=0;for(let h=255;h>0&&!((a&1<<h-1)!==0&&(u=u+(1<<h)-1,o[c++]=u,o.length>=i));h--);if(c!==o.length)throw new Error("invalid bit calculation");return o}numOfPeaks(a){let i=a,o=0;for(;i>0;)i%2===1&&o++,i=i>>1;return o}peakBagging(a,i){const o=this.getSize(a);if(this.numOfPeaks(a)!==i.length)throw new Error("received invalid number of peaks");return a===0&&!i.length?e.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(o,i)):this.hashFn(e.Buffer.concat([this.bufferify(o),...i.map(this.bufferify)]))}getSize(a){return(a<<1)-this.numOfPeaks(a)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(a){return this.hashes[a]}mountainHeight(a){let i=1;for(;1<<i<=a+i;)i++;return i-1}heightAt(a){let i=a,o=0,c=0;for(;i>o;)i-=(1<<c)-1,c=this.mountainHeight(i),o=(1<<c)-1;return c-(o-i)}isLeaf(a){return this.heightAt(a)===1}getChildren(a){const i=a-(1<<this.heightAt(a)-1),o=a-1;if(i===o)throw new Error("not a parent");return[i,o]}getMerkleProof(a){if(a>this.size)throw new Error("out of range");if(!this.isLeaf(a))throw new Error("not a leaf");const i=this.root,o=this.width,c=this.getPeakIndexes(this.width),u=[];let h=0;for(let y=0;y<c.length;y++)u[y]=this.hashes[c[y]],c[y]>=a&&h===0&&(h=c[y]);let f=0,m=0,g=this.heightAt(h);const b=[];for(;h!==a;)g--,[f,m]=this.getChildren(h),h=a<=f?f:m,b[g-1]=this.hashes[a<=f?m:f];return{root:i,width:o,peakBagging:u,siblings:b}}verify(a,i,o,c,u,h){if(c=this.bufferify(c),this.getSize(i)<o)throw new Error("index is out of range");if(!a.equals(this.peakBagging(i,u)))throw new Error("invalid root hash from the peaks");let f=0,m;const g=this.getPeakIndexes(i);for(let E=0;E<g.length;E++)if(g[E]>=o){m=u[E],f=g[E];break}if(!m)throw new Error("target not found");let b=h.length+1;const y=new Array(b);let w=0,x=0;for(;b>0&&(y[--b]=f,f!==o);)[w,x]=this.getChildren(f),f=o>w?x:w;let N;for(;b<y.length;)f=y[b],b===0?N=this.hashLeaf(f,this.hashFn(c)):f-1===y[b-1]?N=this.hashBranch(f,h[b-1],N):N=this.hashBranch(f,N,h[b-1]),b++;if(!N.equals(m))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(a,i){const o={};let c=0,u=0,h=i.length;for(let f=1;f<=32;f++)c=32-f,u=1<<f-1,(a&u)!==0?o[c]=i[--h]:o[c]=0;if(h!==0)throw new Error("invalid number of peaks");return o}peakMapToPeaks(a,i){const o=this.numOfPeaks(a),c=new Array(o);let u=0;for(let h=0;h<32;h++)i[h]!==0&&(c[u++]=i[h]);if(u!==o)throw new Error("invalid number of peaks");return c}peakUpdate(a,i,o){const c={},u=a+1;let h=this.getLeafIndex(u),f=this.hashLeaf(h,o),m=0,g=0,b=!1,y=!1,w=!1;for(let x=1;x<=32;x++)m=32-x,w?c[m]=i[m]:(g=1<<x-1,b=(a&g)!==0,y=(u&g)!==0,h++,b&&(f=this.hashBranch(h,i[m],f)),y?(b?c[m]=i[m]:c[m]=f,w=!0):c[m]=0);return c}rollUp(a,i,o,c){if(!a.equals(this.peakBagging(i,o)))throw new Error("invalid root hash from the peaks");let u=i,h=this.peaksToPeakMap(i,o);for(let f=0;f<c.length;f++)h=this.peakUpdate(u,h,c[f]),u++;return this.peakBagging(u,this.peakMapToPeaks(u,h))}_getOrCreateNode(a){if(a>this.size)throw new Error("out of range");if(!this.hashes[a]){const[i,o]=this.getChildren(a),c=this._getOrCreateNode(i),u=this._getOrCreateNode(o);this.hashes[a]=this.hashBranch(a,c,u)}return this.hashes[a]}};return cc.MerkleMountainRange=s,typeof window<"u"&&(window.MerkleMountainRange=s),cc.default=s,cc}var uc={},o9;function nve(){if(o9)return uc;o9=1;var t=uc&&uc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(uc,"__esModule",{value:!0}),uc.IncrementalMerkleTree=void 0;const e=t(Fp()),n=t(KF());let r=class extends e.default{constructor(s,a){if(super(),this.hashFn=s,a.depth&&(this.depth=a.depth),a.arity&&(this.arity=a.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const i=[];let o=a.zeroValue;if(this.zeroValue=o,this.zeroes=[],this.depth)for(let c=0;c<this.depth;c++)this.zeroes.push(o),i[c]=[],o=this.hashFn(Array(this.arity).fill(o));this.nodes=i,this.root=o}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(s){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let a=s,i=this.nodes[0].length;for(let o=0;o<this.depth;o+=1){const c=i%this.arity,u=i-c,h=u+this.arity,f=[];this.nodes[o][i]=a;for(let m=u;m<h;m+=1)m<this.nodes[o].length?f.push(this.nodes[o][m]):f.push(this.zeroes[o]);a=this.hashFn(f),i=Math.floor(i/this.arity)}this.root=a}delete(s){this.update(s,this.zeroValue)}update(s,a){if(s<0||s>=this.nodes[0].length)throw new Error("out of bounds");let i=a;for(let o=0;o<this.depth;o+=1){const c=s%this.arity,u=s-c,h=u+this.arity,f=[];this.nodes[o][s]=i;for(let m=u;m<h;m+=1)m<this.nodes[o].length?f.push(this.nodes[o][m]):f.push(this.zeroes[o]);i=this.hashFn(f),s=Math.floor(s/this.arity)}this.root=i}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(s){return this.nodes[0].indexOf(s)}getLeaves(){const s=this.copyList(this.nodes[0]),a=this.nodes[0].length;for(let i=a;i<this.getMaxLeaves();i++)s[i]=this.zeroValue;return s}copyList(s){return s.map(a=>BigInt(a))}getLayers(){const s=[];for(const a of this.nodes)s.push(this.copyList(a));if(s[0].length<this.getMaxLeaves()){let a=s[0].length;for(let i=a;i<this.getMaxLeaves();i++)s[0][i]=this.zeroValue;for(let i=0;i<this.depth;i++){const o=a%this.arity,c=a-o,u=c+this.arity;for(let h=c;h<u;h++)h>=s[i].length&&(s[i][h]=this.zeroes[i]);a=Math.floor(a/this.arity)}}return s.push([this.root]),s}getHexLayers(){return this.getLayers().reduce((s,a)=>(Array.isArray(a)?s.push(a.map(i=>this.bufferToHex(this.bufferify(i)))):s.push(a),s),[])}getLayersAsObject(){const s=this.getLayers().map(i=>i.map(o=>this.bufferToHex(this.bufferify(o),!1))),a=[];for(let i=0;i<s.length;i++){const o=[];for(let c=0;c<s[i].length;c++){const u={[s[i][c]]:null};if(a.length){u[s[i][c]]={};const h=a.shift(),f=Object.keys(h)[0];if(u[s[i][c]][f]=h[f],a.length){const m=a.shift(),g=Object.keys(m)[0];u[s[i][c]][g]=m[g]}}o.push(u)}a.push(...o)}return a[0]}computeRoot(){let s,a=this.nodes[0].length;for(let i=0;i<this.depth;i+=1){const o=a%this.arity,c=a-o,u=c+this.arity,h=[];for(let f=c;f<u;f+=1)f<this.nodes[i].length?h.push(this.nodes[i][f]):h.push(this.zeroes[i]);s=this.hashFn(h),a=Math.floor(a/this.arity)}return s}getProof(s){if(s<0||s>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const a=[],i=[],o=s;for(let c=0;c<this.depth;c+=1){const u=s%this.arity,h=s-u,f=h+this.arity;i[c]=u,a[c]=[];for(let m=h;m<f;m+=1)m!==s&&(m<this.nodes[c].length?a[c].push(this.nodes[c][m]):a[c].push(this.zeroes[c]));s=Math.floor(s/this.arity)}return{root:this.root,leaf:this.nodes[0][o],pathIndices:i,siblings:a}}verify(s){let a=s.leaf;for(let i=0;i<s.siblings.length;i+=1){const o=s.siblings[i].slice();o.splice(s.pathIndices[i],0,a),a=this.hashFn(o)}return s.root===a}toString(){return this.toTreeString()}toTreeString(){const s=this.getLayersAsObject();return n.default.asTree(s,!0)}};return uc.IncrementalMerkleTree=r,typeof window<"u"&&(window.IncrementalMerkleTree=r),uc.default=r,uc}var Ta={},l9;function rve(){if(l9)return Ta;l9=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.MerkleSumTree=Ta.ProofStep=Ta.Leaf=Ta.Bucket=void 0;const t=Fp();class e{constructor(i,o){this.size=BigInt(i),this.hashed=o,this.parent=null,this.left=null,this.right=null}}Ta.Bucket=e;class n{constructor(i,o,c){this.hashFn=i,this.rng=o.map(u=>BigInt(u)),this.data=c}getBucket(){let i;return this.data?i=this.hashFn(this.data):i=Buffer.alloc(32),new e(BigInt(this.rng[1])-BigInt(this.rng[0]),i)}}Ta.Leaf=n;class r{constructor(i,o){this.bucket=i,this.right=o}}Ta.ProofStep=r;let s=class YF extends t.Base{constructor(i,o){super(),this.leaves=i,this.hashFn=o,YF.checkConsecutive(i),this.buckets=[];for(const u of i)this.buckets.push(u.getBucket());let c=[];for(const u of this.buckets)c.push(u);for(;c.length!==1;){const u=[];for(;c.length;)if(c.length>=2){const h=c.shift(),f=c.shift(),m=h.size+f.size,g=this.hashFn(Buffer.concat([this.sizeToBuffer(h.size),this.bufferify(h.hashed),this.sizeToBuffer(f.size),this.bufferify(f.hashed)])),b=new e(m,g);f.parent=b,h.parent=f.parent,h.right=f,f.left=h,u.push(b)}else u.push(c.shift());c=u}this.root=c[0]}sizeToBuffer(i){const o=Buffer.alloc(8);return new DataView(o.buffer).setBigInt64(0,BigInt(i),!1),o}static checkConsecutive(i){let o=BigInt(0);for(const c of i){if(c.rng[0]!==o)throw new Error("leaf ranges are invalid");o=BigInt(c.rng[1])}}getProof(i){let o=this.buckets[Number(i)];const c=[];for(;o&&o.parent;){const u=!!o.right,h=o.right?o.right:o.left;o=o.parent,c.push(new r(h,u))}return c}sum(i){let o=BigInt(0);for(const c of i)o+=BigInt(c);return o}verifyProof(i,o,c){const u=[this.sum(c.filter(m=>!m.right).map(m=>m.bucket.size)),BigInt(i.size)-this.sum(c.filter(m=>m.right).map(m=>m.bucket.size))];if(!(u[0]===o.rng[0]&&u[1]===o.rng[1]))return!1;let h=o.getBucket(),f;for(const m of c)m.right?f=this.hashFn(Buffer.concat([this.sizeToBuffer(h.size),this.bufferify(h.hashed),this.sizeToBuffer(m.bucket.size),this.bufferify(m.bucket.hashed)])):f=this.hashFn(Buffer.concat([this.sizeToBuffer(m.bucket.size),this.bufferify(m.bucket.hashed),this.sizeToBuffer(h.size),this.bufferify(h.hashed)])),h=new e(BigInt(h.size)+BigInt(m.bucket.size),f);return h.size===i.size&&h.hashed.toString("hex")===i.hashed.toString("hex")}};return Ta.MerkleSumTree=s,typeof window<"u"&&(window.MerkleSumTree=s),Ta.default=s,Ta}var Ou={},c9;function sve(){if(c9)return Ou;c9=1;var t=Ou&&Ou.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.MerkleRadixTree=void 0;const e=t(Fp());class n{constructor(a="",i=null,o){this.key=a,this.value=i,this.children=new Map,this.hashFn=o,this.hash=this.computeHash()}computeHash(){let a=this.hashFn("");a=Buffer.concat([a,e.default.bufferify(this.key),this.value!=null?e.default.bufferify(this.value):Buffer.alloc(0)]);for(const i of this.children.values())a=Buffer.concat([a,i.hash]);return this.hashFn(a)}updateHash(){this.hash=this.computeHash()}}let r=class extends e.default{constructor(s){super(),this.hashFn=this.bufferifyFn(s),this.root=new n("",null,this.hashFn)}insert(s,a){let i=this.root,o=0;for(;s.length>0;){const c=[...i.children.values()].find(u=>s.startsWith(u.key));if(!c){i.children.set(s,new n(s,a,this.hashFn)),i.updateHash();return}if(o=this.commonPrefixLength(s,c.key),o===c.key.length)i=c,s=s.slice(o);else{const u=s.slice(0,o),h=c.key.slice(o),f=new n(u,null,this.hashFn);if(i.children.delete(c.key),i.children.set(u,f),f.children.set(h,c),c.key=h,o<s.length){const m=s.slice(o);f.children.set(m,new n(m,a,this.hashFn))}else f.value=a;i.updateHash(),f.updateHash();return}}i.value=a,i.updateHash()}lookup(s){let a=this.root;for(;s.length>0;){const i=[...a.children.values()].find(c=>s.startsWith(c.key));if(!i)return null;const o=this.commonPrefixLength(s,i.key);if(o===i.key.length)a=i,s=s.slice(o);else return null}return a.value}commonPrefixLength(s,a){let i=0;for(;i<s.length&&i<a.length&&s[i]===a[i];)i++;return i}generateProof(s){let a=this.root;const i=[];for(;s.length>0;){const o=[];for(const h of a.children.values())h.key!==s&&o.push({key:h.key,hash:h.hash});i.push({key:a.key,hash:a.hash,siblings:o});const c=[...a.children.values()].find(h=>s.startsWith(h.key));if(!c)return null;const u=this.commonPrefixLength(s,c.key);if(u===c.key.length)a=c,s=s.slice(u);else return null}return i.push({key:a.key,hash:a.hash,siblings:[]}),i}verifyProof(s,a){if(!s||s.length===0)return!1;let i=s[s.length-1].hash;for(let o=s.length-2;o>=0;o--){const c=s[o];let u=Buffer.concat([this.hashFn(""),this.bufferify(c.key),i]);for(const h of c.siblings)u=Buffer.concat([u,h.hash]);i=this.hashFn(u)}return i.equals(a)}};return Ou.MerkleRadixTree=r,Ou}var u9={},d9;function ave(){return d9||(d9=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UnifiedBinaryTree=t.InternalNode=t.StemNode=t.chunkifyCode=t.getTreeKeyForCodeChunk=t.getTreeKeyForStorageSlot=t.getTreeKeyForCodeHash=t.getTreeKeyForBasicData=t.getTreeKey=t.treeHash=t.oldStyleAddressToAddress32=t.push32=t.push1=t.pushOffset=t.MAIN_STORAGE_OFFSET=t.STEM_SUBTREE_WIDTH=t.CODE_OFFSET=t.HEADER_STORAGE_OFFSET=t.CODE_HASH_LEAF_KEY=t.BASIC_DATA_LEAF_KEY=void 0;const e=gx(),n=Fp();t.BASIC_DATA_LEAF_KEY=0,t.CODE_HASH_LEAF_KEY=1,t.HEADER_STORAGE_OFFSET=64,t.CODE_OFFSET=128,t.STEM_SUBTREE_WIDTH=256,t.MAIN_STORAGE_OFFSET=256,t.pushOffset=95,t.push1=t.pushOffset+1,t.push32=t.pushOffset+32;function r(y){if(y.length!==20)throw new Error("Address must be 20 bytes.");return e.Buffer.concat([e.Buffer.alloc(12,0),y])}t.oldStyleAddressToAddress32=r;function s(y,w){return a(w)(y)}t.treeHash=s;function a(y){return n.Base.bufferifyFn(y)}function i(y,w,x,N){if(y.length!==32)throw new Error("Address must be 32 bytes.");const E=a(N),C=e.Buffer.alloc(32,0);C.writeUInt32LE(w,0);const k=E(e.Buffer.concat([y,C]),N).subarray(0,31);return e.Buffer.concat([k,e.Buffer.from([x])])}t.getTreeKey=i;function o(y,w){return i(y,0,t.BASIC_DATA_LEAF_KEY,w)}t.getTreeKeyForBasicData=o;function c(y,w){return i(y,0,t.CODE_HASH_LEAF_KEY,w)}t.getTreeKeyForCodeHash=c;function u(y,w,x){let N;return w<t.CODE_OFFSET-t.HEADER_STORAGE_OFFSET?N=t.HEADER_STORAGE_OFFSET+w:N=t.MAIN_STORAGE_OFFSET+w,i(y,Math.floor(N/t.STEM_SUBTREE_WIDTH),N%t.STEM_SUBTREE_WIDTH,x)}t.getTreeKeyForStorageSlot=u;function h(y,w,x){const N=t.CODE_OFFSET+w;return i(y,Math.floor(N/t.STEM_SUBTREE_WIDTH),N%t.STEM_SUBTREE_WIDTH,x)}t.getTreeKeyForCodeChunk=h;function f(y){const w=y.length%31;w!==0&&(y=e.Buffer.concat([y,e.Buffer.alloc(31-w,0)]));const x=new Array(y.length+32).fill(0);let N=0;for(;N<y.length;){const C=y[N];let k=0;C>=t.push1&&C<=t.push32&&(k=C-t.pushOffset),N+=1;for(let A=0;A<k;A++)x[N+A]=k-A;N+=k}const E=[];for(let C=0;C<y.length;C+=31){const k=Math.min(x[C],31),A=e.Buffer.concat([e.Buffer.from([k]),y.slice(C,C+31)]);E.push(A)}return E}t.chunkifyCode=f;class m{constructor(w){if(this.nodeType="stem",w.length!==31)throw new Error("Stem must be 31 bytes.");this.stem=w,this.values=new Array(256).fill(null)}setValue(w,x){if(x.length!==32)throw new Error("Value must be 32 bytes.");this.values[w]=x}}t.StemNode=m;class g{constructor(){this.left=null,this.right=null,this.nodeType="internal"}}t.InternalNode=g;class b{constructor(w){this.root=null,this.hashFn=n.Base.bufferifyFn(w)}insert(w,x){if(w.length!==32)throw new Error("Key must be 32 bytes.");if(x.length!==32)throw new Error("Value must be 32 bytes.");const N=w.slice(0,31),E=w[31];if(this.root===null){this.root=new m(N),this.root.setValue(E,x);return}this.root=this.insertRecursive(this.root,N,E,x,0)}insertRecursive(w,x,N,E,C){if(C>=248)throw new Error("Depth must be less than 248.");if(w===null){const A=new m(x);return A.setValue(N,E),A}const k=this.bytesToBits(x);if(w instanceof m){if(w.stem.equals(x))return w.setValue(N,E),w;const A=this.bytesToBits(w.stem);return this.splitLeaf(w,k,A,N,E,C)}else return k[C]===0?w.left=this.insertRecursive(w.left,x,N,E,C+1):w.right=this.insertRecursive(w.right,x,N,E,C+1),w}bytesToBits(w){const x=[];for(const N of w)for(let E=0;E<8;E++)x.push(N>>7-E&1);return x}bitsToBytes(w){if(w.length%8!==0)throw new Error("Number of bits must be a multiple of 8.");const x=[];for(let N=0;N<w.length;N+=8){let E=0;for(let C=0;C<8;C++)E|=w[N+C]<<7-C;x.push(E)}return e.Buffer.from(x)}hashData(w){const x=e.Buffer.alloc(64,0),N=e.Buffer.alloc(32,0);if(w===null||w.equals(x))return N;if(w.length!==32&&w.length!==64)throw new Error("Data must be 32 or 64 bytes.");return this.hashFn(w)}merkelize(){const w=x=>{const N=e.Buffer.alloc(32,0);if(x===null)return N;if(x instanceof g){const C=w(x.left),k=w(x.right);return this.hashData(e.Buffer.concat([C,k]))}const E=x.values.map(C=>this.hashData(C));for(;E.length>1;){const C=[];for(let k=0;k<E.length;k+=2)C.push(this.hashData(e.Buffer.concat([E[k],E[k+1]])));E.splice(0,E.length,...C)}return this.hashData(e.Buffer.concat([x.stem,e.Buffer.from([0]),E[0]]))};return w(this.root)}update(w,x){this.insert(w,x)}insertBatch(w){for(const{key:x,value:N}of w)this.insert(x,N)}serialize(){function w(N){return N?N instanceof m?{nodeType:"stem",stem:N.stem.toString("hex"),values:N.values.map(E=>E?E.toString("hex"):null)}:{nodeType:"internal",left:w(N.left),right:w(N.right)}:null}const x={root:w(this.root)};return e.Buffer.from(JSON.stringify(x),"utf8")}static deserialize(w,x){const N=JSON.parse(w.toString("utf8"));function E(k){if(k===null)return null;if(k.nodeType==="stem"){const A=new m(e.Buffer.from(k.stem,"hex"));return A.values=k.values.map(_=>_!==null?e.Buffer.from(_,"hex"):null),A}else if(k.nodeType==="internal"){const A=new g;return A.left=E(k.left),A.right=E(k.right),A}return null}const C=new b(x);return C.root=E(N.root),C}splitLeaf(w,x,N,E,C,k){if(x[k]===N[k]){const A=new g;return x[k]===0?A.left=this.splitLeaf(w,x,N,E,C,k+1):A.right=this.splitLeaf(w,x,N,E,C,k+1),A}else{const A=new g,_=x[k],P=this.bitsToBytes(x),I=new m(P);return I.setValue(E,C),_===0?(A.left=I,A.right=w):(A.right=I,A.left=w),A}}}t.UnifiedBinaryTree=b}(u9)),u9}var h9;function ive(){return h9||(h9=1,function(t){var e=C1&&C1.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleTree=void 0;const n=e(eve());t.MerkleTree=n.default;var r=tve();Object.defineProperty(t,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var s=nve();Object.defineProperty(t,"IncrementalMerkleTree",{enumerable:!0,get:function(){return s.IncrementalMerkleTree}});var a=rve();Object.defineProperty(t,"MerkleSumTree",{enumerable:!0,get:function(){return a.MerkleSumTree}});var i=sve();Object.defineProperty(t,"MerkleRadixTree",{enumerable:!0,get:function(){return i.MerkleRadixTree}});var o=ave();Object.defineProperty(t,"UnifiedBinaryTree",{enumerable:!0,get:function(){return o.UnifiedBinaryTree}}),t.default=n.default}(C1)),C1}var XF=ive();const SE=t=>{try{return un(t.trim())}catch(e){return console.warn("Invalid address:",t,e),t.trim().toLowerCase()}},f9=t=>{const e=SE(t);return Gn(C5(["address"],[e]))},eU=t=>{console.log("🔧 === GENERATE MERKLE DATA DEBUG ==="),console.log("Original addresses:",t);const e=t.map(SE);console.log("Normalized addresses:",e);const n=e.map(f9);console.log("Generated leaves:",n);const r=new XF.MerkleTree(n,Gn,{sortPairs:!0}),s=r.getHexRoot(),a={};return console.log("Generating proofs for each address:"),e.forEach(i=>{const o=f9(i),c=r.getHexProof(o);a[i]=c,console.log(`  ${i}:`,c)}),console.log("Final root:",s),console.log("Final proofs object:",a),console.log("🔧 === END GENERATE MERKLE DATA DEBUG ==="),{root:s,proofs:a,tree:r}},ove=t=>{try{return un(t),!0}catch{return!1}},lve=t=>{const e=[],n=[];return t.forEach(r=>{ove(r)?e.push(SE(r)):n.push(r)}),{valid:e,invalid:n}},cve=({collection:t})=>{const[e,n]=j.useState("Whitelist"),[r,s]=j.useState([]),[a,i]=j.useState(""),[o,c]=j.useState([]),[u,h]=j.useState(0),[f,m]=j.useState({visible:!1,message:"",type:"success"});j.useEffect(()=>{if(f.visible){const k=setTimeout(()=>m(A=>({...A,visible:!1})),3e3);return()=>clearTimeout(k)}},[f.visible]);const g=(k,A="success")=>{m({visible:!0,message:k,type:A})};j.useEffect(()=>{if(!t?.address)return;const k=JSON.parse(localStorage.getItem(`phases_${t.address}`))||{};h(k[e]?.allocated||0);const A=`${t.address}_${e}_whitelist`,_=JSON.parse(localStorage.getItem(A))||[];c(_)},[t?.address,e]);const b=k=>{const A=k.target.files[0];if(A){const _=new FileReader;_.onload=P=>{const I=P.target.result.split(/\r?\n/).filter(Boolean);s(I)},_.readAsText(A)}},y=k=>{const A=k.target.value.split(/\r?\n/).filter(Boolean);s(A)},w=()=>{const k=e==="Public",A=o.length+r.length,{valid:_,invalid:P}=lve(r);if(P.length>0){g(`❌ Invalid addresses found: ${P.join(", ")}`,"error");return}if(!k&&A>u){g(`❌ Too many addresses! Allocated: ${u}, Already saved: ${o.length}, New: ${r.length}`,"error");return}const I=Array.from(new Set([...o,..._])),$=`${t.address}_${e}_whitelist`;localStorage.setItem($,JSON.stringify(I)),c(I),s([]),g(`✅ Saved ${I.length} addresses for ${e}`),x(I),!k&&I.length>0&&N(I)},x=k=>{if(k.length===0)return;const{root:A,proofs:_}=eU(k),P=`${t.address}_${e}_merkle_root`,I=`${t.address}_${e}_merkle_proofs`;localStorage.setItem(P,A),localStorage.setItem(I,JSON.stringify(_)),console.log("✅ Merkle root and proofs saved for",e)},N=async k=>{try{const A=await fetch("/api/whitelist/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collection:t.address,phase:e,addresses:k})});if(A.ok){const _=await A.json(),P=`${t.address}_${e}_whitelist_ipfs`;localStorage.setItem(P,_.data.ipfsUrl),g(`🌐 Whitelist also saved to IPFS (${_.data.addressCount} addresses)`)}else g("⚠️ Local storage saved, but IPFS backup failed","warning")}catch(A){console.error("❌ Server save failed:",A),g("⚠️ Local storage saved, but IPFS backup failed","warning")}},E=k=>{const A=o.filter(P=>P!==k);c(A);const _=`${t.address}_${e}_whitelist`;localStorage.setItem(_,JSON.stringify(A)),g(`✅ Removed ${k}`),x(A)},C=o.filter(k=>k.toLowerCase().includes(a.toLowerCase()));return t?l.jsxs("div",{className:"space-y-6 pb-24",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Phase"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>n("Whitelist"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${e==="Whitelist"?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:"Whitelist"}),l.jsx("button",{onClick:()=>n("FCFS"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${e==="FCFS"?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:"FCFS"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:o.length}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Total Addresses"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:u}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Allocated Slots"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsx("div",{className:"text-2xl font-bold text-pink-400",children:r.length}),l.jsx("div",{className:"text-sm text-zinc-400",children:"New Addresses"})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Add Addresses"}),l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg cursor-pointer transition-colors duration-200",children:[l.jsx(dv,{className:"w-4 h-4"}),"Upload CSV/TXT File",l.jsx("input",{type:"file",accept:".csv,.txt",onChange:b,className:"hidden"})]})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Manual Input (one address per line)"}),l.jsx("textarea",{value:r.join(`
`),onChange:y,placeholder:"0x1234...\\n0x5678...\\n0x9abc...",className:"w-full h-32 p-3 bg-zinc-900 border border-zinc-700 rounded-lg text-white placeholder-zinc-500 resize-none"})]}),l.jsx("button",{onClick:w,disabled:r.length===0,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Addresses"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Saved Addresses"}),l.jsx("input",{type:"text",placeholder:"Search addresses...",value:a,onChange:k=>i(k.target.value),className:"px-3 py-1 bg-zinc-900 border border-zinc-700 rounded-lg text-white placeholder-zinc-500 text-sm"})]}),l.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:C.map((k,A)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900 rounded-lg",children:[l.jsx("span",{className:"text-sm font-mono text-zinc-300",children:k}),l.jsx("button",{onClick:()=>E(k),className:"text-red-400 hover:text-red-300 transition-colors duration-200",children:l.jsx(Lue,{className:"w-4 h-4"})})]},A))})]}),f.visible&&l.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 ${f.type==="success"?"bg-green-500":f.type==="error"?"bg-red-500":"bg-yellow-500"} text-white`,children:f.message})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})},uve=({imageUrl:t,onSave:e,onCancel:n,initialPosition:r="center center",initialFit:s="cover"})=>{const[a,i]=j.useState({x:50,y:50,width:100,height:100}),[o,c]=j.useState(!1),[u,h]=j.useState({x:0,y:0}),[f,m]=j.useState(1),[g,b]=j.useState(0),[y,w]=j.useState(s),[x,N]=j.useState({width:0,height:0}),[E,C]=j.useState([]),k=j.useRef(null),A=j.useRef(null),_=[{name:"Desktop Banner",width:1200,height:400,ratio:3,description:"Оптимально для десктопа"},{name:"Mobile Banner",width:800,height:300,ratio:2.67,description:"Для мобильных устройств"},{name:"Wide Banner",width:1600,height:400,ratio:4,description:"Широкий формат"},{name:"Square Banner",width:800,height:800,ratio:1,description:"Квадратный формат"}];j.useEffect(()=>{if(r){const[D,K]=r.split(" "),ee=D==="left"?0:D==="right"?100:50,F=K==="top"?0:K==="bottom"?100:50;i(V=>({...V,x:ee,y:F}))}},[r]),j.useEffect(()=>{w(s)},[s]),j.useEffect(()=>{if(t){const D=new Image;D.onload=()=>{const K={width:D.naturalWidth,height:D.naturalHeight};N(K);const ee=K.width/K.height,F=[];_.forEach(V=>{const J=Math.abs(ee-V.ratio);F.push({...V,score:J,isOptimal:J<.5})}),F.sort((V,J)=>V.score-J.score),C(F)},D.src=t}},[t]);const P=D=>{if(!k.current)return;const K=k.current.getBoundingClientRect(),ee=(D.clientX-K.left)/K.width*100,F=(D.clientY-K.top)/K.height*100;c(!0),h({x:ee,y:F})},I=D=>{if(!o||!k.current)return;const K=k.current.getBoundingClientRect(),ee=(D.clientX-K.left)/K.width*100,F=(D.clientY-K.top)/K.height*100,V=(ee-u.x)/f,J=(F-u.y)/f;i(Q=>({...Q,x:Math.max(0,Math.min(100,Q.x+V)),y:Math.max(0,Math.min(100,Q.y+J))})),h({x:ee,y:F})},$=()=>{c(!1)},H=()=>{m(D=>Math.min(3,D+.1))},M=()=>{m(D=>Math.max(.5,D-.1))},B=()=>{b(D=>(D+90)%360)},O=()=>{i({x:50,y:50,width:100,height:100}),m(1),b(0),w("cover")},z=()=>{if(x.width&&x.height){const D=x.width/x.height;D>3?(w("cover"),m(.8)):D<1?(w("cover"),m(1.2)):(w("cover"),m(1)),i({x:50,y:50,width:100,height:100}),b(0)}},G=()=>{const D=a.x<25?"left":a.x>75?"right":"center",K=a.y<25?"top":a.y>75?"bottom":"center";return`${D} ${K}`},Z=()=>{const D=G();e({position:D,fit:y,cropArea:a,zoom:f,rotation:g,imageSize:x})};return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-6xl w-full max-h-[90vh] animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Banner Crop Editor"}),l.jsx("button",{onClick:n,className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:28})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:H,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(Que,{size:16}),l.jsx("span",{className:"text-sm",children:"Zoom In"})]}),l.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(Yue,{size:16}),l.jsx("span",{className:"text-sm",children:"Zoom Out"})]}),l.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(Iue,{size:16}),l.jsx("span",{className:"text-sm",children:"Rotate"})]}),l.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(yue,{size:16}),l.jsx("span",{className:"text-sm",children:"Reset"})]}),l.jsx("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500/20 to-pink-500/20 hover:from-blue-500/30 hover:to-pink-500/30 rounded-lg transition-all duration-300",children:l.jsx("span",{className:"text-sm text-blue-400",children:"Auto Optimize"})})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-zinc-400",children:"Fit:"}),l.jsxs("select",{value:y,onChange:D=>w(D.target.value),className:"bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-1 text-sm",children:[l.jsx("option",{value:"cover",children:"Cover"}),l.jsx("option",{value:"contain",children:"Contain"})]})]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:["Zoom: ",Math.round(f*100),"%"]})]})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{ref:k,className:"relative w-full h-96 bg-zinc-800 rounded-2xl overflow-hidden cursor-move",onMouseDown:P,onMouseMove:I,onMouseUp:$,onMouseLeave:$,children:[l.jsx("div",{className:"relative w-full h-full",style:{transform:`scale(${f})`,transformOrigin:"center center"},children:l.jsx("img",{ref:A,src:t,alt:"Banner",className:`w-full h-full object-${y} transition-all duration-300`,style:{transform:`rotate(${g}deg)`,objectPosition:`${a.x}% ${a.y}%`}})}),l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute inset-0 border-2 border-white/50 border-dashed"})]}),l.jsx("div",{className:"absolute w-4 h-4 bg-pink-500 rounded-full border-2 border-white shadow-lg pointer-events-none",style:{left:`${a.x}%`,top:`${a.y}%`,transform:"translate(-50%, -50%)"}})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-sm text-zinc-400",children:["Drag to move the focus point • Use zoom to see more of the original image • Current position: ",l.jsx("span",{className:"text-pink-400 font-mono",children:G()})]})})]}),l.jsxs("div",{className:"w-80",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),l.jsx("div",{className:"w-full h-48 bg-zinc-800 rounded-2xl overflow-hidden",children:l.jsx("img",{src:t,alt:"Banner Preview",className:`w-full h-full object-${y}`,style:{objectPosition:`${a.x}% ${a.y}%`,transform:`scale(${f}) rotate(${g}deg)`,transformOrigin:"center center"}})}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Position"}),l.jsx("div",{className:"text-white font-mono",children:G()})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Fit"}),l.jsx("div",{className:"text-white capitalize",children:y})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Zoom"}),l.jsxs("div",{className:"text-white",children:[Math.round(f*100),"%"]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Image Size"}),l.jsxs("div",{className:"text-white",children:[x.width," × ",x.height]})]}),E.length>0&&l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-2",children:"Recommendations"}),l.jsx("div",{className:"space-y-2",children:E.slice(0,2).map((D,K)=>l.jsxs("div",{className:`text-xs p-2 rounded ${D.isOptimal?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[l.jsx("div",{className:"font-medium",children:D.name}),l.jsxs("div",{className:"text-xs opacity-75",children:[D.width," × ",D.height]}),l.jsx("div",{className:"text-xs opacity-75",children:D.description})]},K))})]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6 pt-6 border-t border-zinc-700/30",children:[l.jsx("button",{onClick:n,className:"px-6 py-3 bg-zinc-700 hover:bg-zinc-600 text-white rounded-xl transition-colors",children:"Cancel"}),l.jsx("button",{onClick:Z,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Save Banner Settings"})]})]})]})})},Q4=new Map,dve=300*1e3,hve=({collection:t})=>{const[e,n]=j.useState({website:"",twitter:"",discord:""}),[r,s]=j.useState([]),[a,i]=j.useState(!1),[o,c]=j.useState(null),[u,h]=j.useState(!1),[f,m]=j.useState(!1),[g,b]=j.useState({visible:!1,message:"",type:"success"}),[y,w]=j.useState(null),[x,N]=j.useState(""),[E,C]=j.useState("center center"),[k,A]=j.useState("contain"),[_,P]=j.useState(1),[I,$]=j.useState(!1),[H,M]=j.useState(!1),[B,O]=j.useState(!1);j.useEffect(()=>{if(g.visible){const oe=setTimeout(()=>b(he=>({...he,visible:!1})),3e3);return()=>clearTimeout(oe)}},[g.visible]);const z=(oe,he="success")=>{b({visible:!0,message:oe,type:he})},G=oe=>{if(!oe)return"";if(typeof oe=="string")return oe;if(typeof oe=="object"){const he=oe.gatewayUrl||oe.url||oe.cid||"";return console.log("🔧 Extracted banner URL from object:",he),he}return console.warn("🔧 Invalid banner URL type:",typeof oe,oe),""},Z=async()=>{if(t)try{const oe=localStorage.getItem(`collection_${t.address}_banner`);if(oe)try{const ce=JSON.parse(oe);typeof ce=="object"&&!ce.gatewayUrl&&!ce.url&&!ce.cid&&(console.log("🧹 Cleaning up corrupted banner data"),localStorage.removeItem(`collection_${t.address}_banner`))}catch{}const he=localStorage.getItem(`collection_${t.address}_banner`);if(console.log("🔍 Loading saved banner from localStorage:",he),he)try{const ce=JSON.parse(he),ne=G(ce);N(ne),console.log("✅ Set banner URL from localStorage (parsed):",ne)}catch{const ce=G(he);N(ce),console.log("✅ Set banner URL from localStorage (string):",ce)}const Ne=localStorage.getItem(`collection_${t.address}_banner_position`);console.log("🔍 Loading saved banner position from localStorage:",Ne),Ne&&(C(Ne),console.log("✅ Set banner position from localStorage:",Ne));const Re=localStorage.getItem(`collection_${t.address}_banner_fit`);console.log("🔍 Loading saved banner fit from localStorage:",Re),Re&&(A(Re),console.log("✅ Set banner fit from localStorage:",Re));const W=localStorage.getItem(`collection_${t.address}_banner_zoom`);console.log("🔍 Loading saved banner zoom from localStorage:",W),W&&(P(parseFloat(W)),console.log("✅ Set banner zoom from localStorage:",W));const ye=JSON.parse(localStorage.getItem(`collection_${t.address}_social`)||"{}");n(ye)}catch(oe){console.error("Error loading collection data:",oe)}};j.useEffect(()=>{Z(),D()},[t]);const D=async()=>{if(!t){console.log("❌ No collection provided to loadCollectionNFTs");return}console.log("🔄 Starting loadCollectionNFTs for collection:",t.address);const oe=`${t.address}_preview`,he=Q4.get(oe);if(he&&Date.now()-he.timestamp<dve){console.log("📦 Using cached preview data"),s(he.data);return}try{i(!0),console.log("🔄 Loading collection preview...");const Ne=`collection_${t.address}_nfts`;console.log("🔍 Looking for NFTs in localStorage with key:",Ne);const Re=JSON.parse(localStorage.getItem(Ne)||"[]");console.log("📦 Found NFTs in localStorage:",Re.length,"NFTs"),console.log("📋 First few NFTs:",Re.slice(0,3));const W=localStorage.getItem(Ne);if(console.log("🔍 Raw localStorage data:",W),console.log("🔍 Raw data length:",W?W.length:0),Re.length>0){console.log("📦 Found NFTs in localStorage, processing images..."),console.log("📋 Sample NFT structure:",Re[0]);const ye=(await Promise.all(Re.map(async(ce,ne)=>{console.log(`📝 Processing NFT ${ne+1}/${Re.length}:`,ce.name,"Image:",ce.image);try{if(ce.image?.startsWith("ipfs://"))return console.log(`🔄 Converting IPFS image for ${ce.name}`),{...ce,imageUrl:Ln(ce.image)[0],index:ne,name:ce.name||`${t.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${t.name}`};if(!ce.image&&ce.tokenURI){console.log(`🔄 Fetching metadata for ${ce.name} from tokenURI`);try{const se=Ln(ce.tokenURI),fe=await bv(se);return console.log(`✅ Metadata fetched for ${ce.name}:`,fe.name),{...ce,imageUrl:fe.image?Ln(fe.image)[0]:t.cover||"/default-nft.png",index:ne,name:ce.name||`${t.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${t.name}`}}catch(se){return console.error(`❌ Failed to fetch metadata for ${ce.name}:`,se.message),{...ce,imageUrl:t.cover||"/default-nft.png",index:ne,name:ce.name||`${t.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${t.name}`}}}return ce.image&&!ce.image.startsWith("ipfs://")?(console.log(`✅ NFT ${ce.name} has direct image URL:`,ce.image),{...ce,imageUrl:ce.image,index:ne,name:ce.name||`${t.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${t.name}`}):(console.log(`⚠️ Using fallback image for ${ce.name}`),{...ce,imageUrl:t.cover||"/default-nft.png",index:ne,name:ce.name||`${t.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${t.name}`})}catch(se){return console.error(`❌ Error processing NFT ${ce.name}:`,se),{...ce,imageUrl:t.cover||"/default-nft.png",index:ne,name:ce.name||`${t.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${t.name}`}}}))).slice(0,20);console.log("🎯 Final preview NFTs:",ye.length,"NFTs"),console.log("📋 Preview NFTs with imageUrl:",ye.map(ce=>({name:ce.name,imageUrl:ce.imageUrl}))),Q4.set(oe,{data:ye,timestamp:Date.now()}),s(ye),console.log("✅ Preview loaded successfully:",ye.length,"NFTs")}else{console.log("📭 No NFTs found in localStorage"),console.log("🔍 Checking if localStorage key exists but is empty...");const ye=Object.keys(localStorage),ce=ye.filter(se=>se.includes(t.address));console.log("🔍 All localStorage keys for this collection:",ce);const ne=ye.filter(se=>se.includes("nfts"));console.log("🔍 All NFT-related keys in localStorage:",ne),s([])}}catch(Ne){console.error("❌ Error loading collection preview:",Ne),z("Failed to load collection preview","error")}finally{i(!1)}};j.useEffect(()=>{t&&D()},[t]);const K=async oe=>{const he=oe.target.files[0];if(!he)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(he.type)){z("Please select a valid image file (JPG, PNG, GIF, WebP)","error");return}const Ne=10*1024*1024;if(he.size>Ne){z("File size too large. Please select a file smaller than 10MB","error");return}try{i(!0),z("Uploading banner...","info"),console.log("📤 Uploading banner file:",he.name,he.size,he.type);const Re=await cL(he);console.log("✅ Banner uploaded successfully:",Re),console.log("🔗 Upload result type:",typeof Re),console.log("🔗 Upload result keys:",Object.keys(Re||{}));const W=Re.gatewayUrl||Re.url||Re.cid;if(console.log("🔗 Extracted banner URL:",W),console.log("🔗 Banner URL type:",typeof W),!W)throw console.error("❌ No URL in upload response:",Re),new Error("No URL returned from upload. Please try again.");const ye=G(W);N(ye),localStorage.setItem(`collection_${t.address}_banner`,ye),console.log("💾 Saved banner URL to localStorage:",ye),z("Banner uploaded successfully!","success")}catch(Re){console.error("❌ Error uploading banner:",Re),z(`Failed to upload banner: ${Re.message}`,"error")}finally{i(!1)}},ee=oe=>{C(oe),localStorage.setItem(`collection_${t.address}_banner_position`,oe),console.log("💾 Saved banner position:",oe)},F=oe=>{A(oe),localStorage.setItem(`collection_${t.address}_banner_fit`,oe),console.log("💾 Saved banner fit:",oe)},V=oe=>{P(oe),localStorage.setItem(`collection_${t.address}_banner_zoom`,oe.toString()),console.log("💾 Saved banner zoom:",oe)},J=oe=>{C(oe.position),A(oe.fit),P(oe.zoom||1),localStorage.setItem(`collection_${t.address}_banner_position`,oe.position),localStorage.setItem(`collection_${t.address}_banner_fit`,oe.fit),localStorage.setItem(`collection_${t.address}_banner_zoom`,(oe.zoom||1).toString()),O(!1),z("Banner settings updated","success")},Q=(oe,he)=>{const Ne={...e,[oe]:he};n(Ne),localStorage.setItem(`collection_${t.address}_social`,JSON.stringify(Ne))},ae=G(x),ue=()=>{if(!t)return null;const oe=(ne,se)=>{try{const fe=JSON.parse(ne);return fe!==void 0?fe:se}catch{return se}},he=oe(localStorage.getItem(`collection_${t.address}_nfts`),[]),Ne=oe(localStorage.getItem(`phases_${t.address}`),{}),Re=he.length,W=Object.entries(Ne).map(([ne,se])=>({name:ne,price:se.price||"0",allocated:se.allocated||0,start:se.start,end:se.end,active:se.active!==!1})).reduce((ne,se)=>{const fe=parseFloat(se.price)||0,Ie=parseInt(se.allocated)||0;return ne+fe*Ie},0),ye=t.totalSupply||Re||0,ce={totalSupply:ye,totalMinted:0,totalRevenue:"0.0",maxSupply:ye,contractBalance:0,potentialRevenue:W.toFixed(2)};return console.log("📊 Preview stats (before launch):",ce),l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Sale Preview"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-3 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200 text-sm",title:"Refresh stats from blockchain",children:[l.jsx(uv,{className:"w-4 h-4"}),"Refresh Stats"]}),l.jsx("button",{onClick:()=>m(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:24})})]})]}),l.jsxs("div",{className:"p-6",children:[ae&&l.jsxs("div",{className:"w-full h-[300px] rounded-2xl overflow-hidden mb-8 relative",children:[l.jsx("img",{src:ae,alt:"Collection banner",className:`w-full h-full object-${k} transition-all duration-300`,style:{objectPosition:E,transform:`scale(${_||1})`,imageRendering:ae?.includes(".gif")?"auto":"optimizeQuality"},onError:ne=>{console.error("Failed to load banner in preview:",ae),ne.target&&(ne.target.style.display="none")}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent pointer-events-none"}),l.jsx("div",{className:"absolute bottom-4 left-4 text-white",children:l.jsxs("div",{className:"text-sm opacity-75",children:["Banner: ",k," • ",E]})})]}),l.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[l.jsx("img",{src:t?.cover||t?.firstNFTImage||dr,alt:t?.name,className:"w-24 h-24 rounded-2xl object-cover border border-zinc-600/30",onError:ne=>{console.warn("⚠️ Collection cover failed to load:",ne.target.src),t?.firstNFTImage&&t.firstNFTImage!==ne.target.src?ne.target.src=t.firstNFTImage:ne.target.src=dr}}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("h2",{className:"text-3xl font-bold text-white",children:t?.name}),l.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full",children:"Real Data"})]}),l.jsx("p",{className:"text-zinc-400 text-lg mb-4",children:t?.description||"No description available"}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[e.website&&l.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:l.jsx(u6,{size:20})}),e.twitter&&l.jsx("a",{href:e.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:l.jsx(u_,{size:20})}),e.discord&&l.jsx("a",{href:e.discord,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})})})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsx("div",{className:"text-xl font-bold text-white",children:ce.maxSupply}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Max Supply"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsx("div",{className:"text-xl font-bold text-white",children:ce.totalMinted}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Minted"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsxs("div",{className:"text-xl font-bold text-white",children:[ce.totalRevenue," STT"]}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Revenue"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsxs("div",{className:"text-xl font-bold text-white",children:[ce.potentialRevenue," STT"]}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Potential"})]})]})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Mint Section"}),l.jsx("div",{className:"w-full h-3 bg-zinc-700 rounded-full mb-6 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative",style:{width:`${Math.max(0,Math.min(100,ce.totalMinted/Math.max(ce.maxSupply,1)*100))}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:ce.totalMinted}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Minted"})]}),l.jsx("div",{className:"text-zinc-400 text-xl",children:"/"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:ce.maxSupply}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Total"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Price"}),l.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-white",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-5 h-5"}),(()=>{const ne=["Whitelist","FCFS","Public"],se=new Date;for(const fe of ne){const Ie=Ne[fe];if(Ie&&Ie.price&&Ie.start&&Ie.end){const je=new Date(Ie.start),be=new Date(Ie.end);if(se>=je&&se<=be||se<je)return Ie.price}}return Object.values(Ne).find(fe=>fe.price)?.price||"0.1"})()," STT"]})]})]}),l.jsx("div",{className:"w-full py-4 bg-zinc-800/50 text-zinc-400 font-bold rounded-xl text-center",children:"Mint button will appear here after launch"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Sale Phases"}),l.jsxs("div",{className:"space-y-3",children:[Object.entries(Ne).map(([ne,se])=>{const fe=new Date(se.start),Ie=new Date(se.end),je=new Date,be=je>=fe&&je<=Ie,Be=je>Ie;let $e="Upcoming",Me="text-zinc-400";return be?($e="Active",Me="text-green-400"):Be&&($e="Ended",Me="text-red-400"),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-white",children:ne}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[se.price," STT • ",se.allocated," NFTs"]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[fe.toLocaleDateString()," - ",Ie.toLocaleDateString()]})]}),l.jsx("div",{className:`text-sm ${Me}`,children:$e})]},ne)}),Object.keys(Ne).length===0&&l.jsx("div",{className:"text-center text-zinc-400 py-4",children:"No phases configured yet"})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-2xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"NFT Preview"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.slice(0,6).map((ne,se)=>l.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden",children:[l.jsx("img",{src:ne.imageUrl||ne.image||"/default-nft.png",alt:ne.name,className:"w-full h-24 object-cover",onError:fe=>{fe.target.src="/default-nft.png"}}),l.jsx("div",{className:"p-2",children:l.jsx("p",{className:"text-xs text-white truncate",children:ne.name})})]},ne.id||se)),r.length>6&&l.jsx("div",{className:"bg-zinc-900 rounded-xl flex items-center justify-center h-24",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-bold text-white",children:["+",r.length-6]}),l.jsx("div",{className:"text-xs text-zinc-400",children:"More"})]})})]})]})]})]})})},re=oe=>{const he=r.filter(W=>W.id!==oe.id);s(he);const Ne=JSON.parse(localStorage.getItem(`collection_${t.address}_nfts`)||"[]").filter(W=>W.id!==oe.id);localStorage.setItem(`collection_${t.address}_nfts`,JSON.stringify(Ne));const Re=`${t.address}_preview`;Q4.delete(Re),z("NFT deleted successfully","success")},ie=()=>{D()},me=async()=>{if(t?.address)try{z("🔄 Refreshing stats from blockchain...","info");const oe=new wr(window.ethereum),he=new Pt(t.address,Rn,oe),Ne=await oe.getBalance(t.address),Re=Xf(Ne,18),[W,ye]=await Promise.all([he.totalSupply(),he.maxSupply()]),ce=JSON.parse(localStorage.getItem(`phases_${t.address}`))||{},ne=Object.entries(ce).map(([Ie,je])=>({name:Ie,price:je.price||"0",allocated:je.allocated||0,start:je.start,end:je.end,active:je.active!==!1})),se=ne.reduce((Ie,je)=>{const be=parseFloat(je.price)||0,Be=parseInt(je.allocated)||0;return Ie+be*Be},0),fe={totalSupply:Number(ye),maxSupply:Number(ye),totalRevenue:parseFloat(Re).toFixed(3),potentialRevenue:se.toFixed(2),totalMints:Number(W),uniqueHolders:Math.floor(Number(W)*.8),averagePrice:Number(W)>0?(se/Number(W)).toFixed(2):"0",phases:ne,contractBalance:parseFloat(Re),contractOwner:"",canWithdraw:!1};localStorage.setItem(`collection_${t.address}_real_stats`,JSON.stringify(fe)),z("✅ Stats updated successfully!","success"),f&&(m(!1),setTimeout(()=>m(!0),100))}catch(oe){console.error("Error refreshing stats:",oe),z("❌ Failed to refresh stats","error")}};return t?l.jsxs("div",{className:"space-y-6 pb-24",children:[l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-6",children:[l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:t.cover||t.firstNFTImage||"/default-cover.png",alt:"Cover",className:"w-full h-full object-cover",onError:oe=>{console.warn("⚠️ Collection cover failed to load:",oe.target.src),t.firstNFTImage&&t.firstNFTImage!==oe.target.src?oe.target.src=t.firstNFTImage:oe.target.src="/default-cover.png"}})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.name}),l.jsx("p",{className:"text-zinc-400 mb-4",children:t.description||"No description available"}),l.jsx("p",{className:"text-sm text-zinc-500 font-mono",children:t.address})]})]}),l.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold shadow-lg",children:[l.jsx(eue,{className:"w-5 h-5"}),"Preview Sale"]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Sale Banner"}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"w-64 h-32 rounded-xl overflow-hidden bg-zinc-900 border-2 border-dashed border-zinc-600 flex items-center justify-center cursor-pointer transition-all duration-200 hover:border-pink-500/50 hover:bg-zinc-800/50 relative",onDragOver:oe=>{oe.preventDefault(),oe.currentTarget.classList.add("border-pink-500","bg-zinc-800/50")},onDragLeave:oe=>{oe.preventDefault(),oe.currentTarget.classList.remove("border-pink-500","bg-zinc-800/50")},onDrop:oe=>{oe.preventDefault(),oe.currentTarget.classList.remove("border-pink-500","bg-zinc-800/50");const he=oe.dataTransfer.files;he.length>0&&K({target:{files:[he[0]]}})},onClick:()=>!a&&document.getElementById("banner-upload").click(),children:[a&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-white",children:"Uploading..."})]})}),ae?l.jsx("img",{src:ae,alt:"Banner preview",className:`w-full h-full object-${k} transition-all duration-300`,style:{objectPosition:E,transform:`scale(${_})`,imageRendering:ae?.includes(".gif")?"auto":"optimizeQuality"},onError:oe=>{console.error("Failed to load banner image:",ae),oe.target&&(oe.target.style.display="none"),oe.target&&oe.target.nextSibling&&(oe.target.nextSibling.style.display="block")}}):null,!ae&&!a&&l.jsxs("div",{className:"text-center",children:[l.jsx(dv,{className:"w-8 h-8 text-zinc-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Upload banner"}),l.jsx("p",{className:"text-xs text-zinc-500",children:"Recommended: 1200x400px"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Supports: JPG, PNG, GIF, WebP"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"file",accept:"image/*,.gif,.webp",onChange:K,className:"hidden",id:"banner-upload",disabled:a}),l.jsx("label",{htmlFor:"banner-upload",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-opacity ${a?"bg-zinc-600 text-zinc-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-pink-500 text-white cursor-pointer hover:opacity-90"}`,children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dv,{className:"w-4 h-4"}),ae?"Change Banner":"Upload Banner"]})}),ae&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>$(!0),className:"ml-3 px-4 py-2 bg-gradient-to-r from-green-500/20 to-blue-500/20 text-green-400 rounded-lg hover:from-green-500/30 hover:to-blue-500/30 transition-all duration-300",children:"Quick Settings"}),l.jsx("button",{onClick:()=>O(!0),className:"ml-3 px-4 py-2 bg-gradient-to-r from-blue-500/20 to-pink-500/20 text-blue-400 rounded-lg hover:from-blue-500/30 hover:to-pink-500/30 transition-all duration-300",children:"Advanced Settings"}),l.jsx("button",{onClick:()=>{N(""),localStorage.removeItem(`collection_${t.address}_banner`),localStorage.removeItem(`collection_${t.address}_banner_position`)},className:"ml-3 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Remove"})]})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Social Links"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Website"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(u6,{className:"w-4 h-4 text-zinc-400"}),l.jsx("input",{type:"url",placeholder:"https://your-website.com",value:e.website,onChange:oe=>Q("website",oe.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Twitter/X"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(u_,{className:"w-4 h-4 text-zinc-400"}),l.jsx("input",{type:"url",placeholder:"https://twitter.com/username",value:e.twitter,onChange:oe=>Q("twitter",oe.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Discord"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})}),l.jsx("input",{type:"url",placeholder:"https://discord.gg/invite",value:e.discord,onChange:oe=>Q("discord",oe.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]})]}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"These links will be displayed on your collection page. Leave empty to hide the icons."})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"NFT Preview"}),l.jsxs("button",{onClick:ie,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:[l.jsx(uv,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),a?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-zinc-400",children:"Loading NFT preview..."})]}):r.length>0?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.slice(0,5).map((oe,he)=>l.jsxs("div",{className:"group relative bg-zinc-900 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-all duration-200",onClick:()=>{c(oe),h(!0)},children:[l.jsx("img",{src:oe.imageUrl||oe.image||"/default-nft.png",alt:oe.name,className:"w-full h-32 object-cover",onError:Ne=>{Ne.target.src="/default-nft.png"}}),l.jsxs("div",{className:"p-3",children:[l.jsx("h5",{className:"text-sm font-semibold text-white truncate",children:oe.name}),l.jsx("p",{className:"text-xs text-zinc-400 truncate",children:oe.description})]}),l.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),re(oe.id)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center text-xs",children:"×"})]},oe.id||he)),r.length>5&&l.jsx("button",{onClick:()=>M(!0),className:"aspect-square rounded-xl border-2 border-dashed border-zinc-600/50 hover:border-pink-500/50 transition-all duration-300 flex items-center justify-center text-zinc-400 hover:text-zinc-300 bg-zinc-900/50 backdrop-blur-sm hover:scale-105 group",children:l.jsxs("div",{className:"text-center group-hover:scale-110 transition-transform duration-300",children:[l.jsx("div",{className:"text-sm font-semibold",children:"More"}),l.jsxs("div",{className:"text-xs",children:["+",r.length-5]})]})})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-zinc-400 mb-2",children:"No NFTs found in this collection"}),l.jsx("p",{className:"text-xs text-zinc-500",children:'Upload NFTs in the "Populate Collection" tab'})]})]})]}),f&&l.jsx(ue,{}),u&&o&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden animate-fadeIn",tabIndex:-1,autoFocus:!0,children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:o.name}),l.jsx("p",{className:"text-zinc-400 mb-4",children:o.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Token ID:"}),l.jsxs("span",{className:"text-white font-mono",children:["#",o.tokenId||o.id]})]}),o.attributes&&o.attributes.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Attributes:"}),l.jsx("div",{className:"mt-2 space-y-1",children:o.attributes.map((oe,he)=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:"text-zinc-400",children:[oe.trait_type,":"]}),l.jsx("span",{className:"text-white",children:oe.value})]},he))})]})]}),l.jsx("div",{className:"mt-6 flex gap-3",children:l.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:"Close"})})]})]})})})}),I&&ae&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Banner Display Settings"}),l.jsx("button",{onClick:()=>$(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:24})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),l.jsx("div",{className:"w-full h-64 rounded-xl overflow-hidden bg-zinc-800 border border-zinc-600",children:l.jsx("img",{src:ae,alt:"Banner preview",className:`w-full h-full object-${k} transition-all duration-300`,style:{objectPosition:E,transform:`scale(${_})`,imageRendering:ae?.includes(".gif")?"auto":"optimizeQuality"}})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Position Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Display Position"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"top left",label:"Top Left"},{value:"top center",label:"Top Center"},{value:"top right",label:"Top Right"},{value:"center left",label:"Center Left"},{value:"center center",label:"Center Center"},{value:"center right",label:"Center Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom center",label:"Bottom Center"},{value:"bottom right",label:"Bottom Right"}].map(oe=>l.jsx("button",{onClick:()=>ee(oe.value),className:`p-3 rounded-lg border transition-all duration-200 ${E===oe.value?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:oe.label},oe.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Display Fit"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{onClick:()=>F("cover"),className:`p-3 rounded-lg border transition-all duration-200 ${k==="cover"?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:"Cover (Fill)"}),l.jsx("button",{onClick:()=>F("contain"),className:`p-3 rounded-lg border transition-all duration-200 ${k==="contain"?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:"Contain (Full)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Zoom Level"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:_,onChange:oe=>V(parseFloat(oe.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer slider"}),l.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[l.jsx("span",{children:"50%"}),l.jsxs("span",{children:[Math.round(_*100),"%"]}),l.jsx("span",{children:"200%"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Current Settings"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Position"}),l.jsx("code",{className:"text-pink-400 font-mono",children:E})]}),l.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Fit"}),l.jsx("code",{className:"text-pink-400 font-mono capitalize",children:k})]}),l.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Zoom"}),l.jsxs("code",{className:"text-pink-400 font-mono",children:[Math.round(_*100),"%"]})]})]})]}),l.jsxs("div",{className:"pt-4 space-y-3",children:[l.jsx("button",{onClick:()=>{$(!1),O(!0)},className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Advanced Crop Editor"}),l.jsx("button",{onClick:()=>$(!1),className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Save Settings"})]})]})]})]})]})})}),B&&ae&&l.jsx(uve,{imageUrl:ae,onSave:J,onCancel:()=>O(!1),initialPosition:E,initialFit:k}),H&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-5xl w-full max-h-[85vh] animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Collection Gallery"}),l.jsx("button",{onClick:()=>M(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:28})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-[65vh] overflow-y-auto",children:r.map((oe,he)=>l.jsxs("button",{onClick:()=>{c(oe),M(!1),h(!0)},className:"group",children:[l.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-zinc-700/30 group-hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm shadow-lg",children:[l.jsx("img",{src:oe.imageUrl||oe.image||"/default-nft.png",alt:oe.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:Ne=>{Ne.target.src="/default-nft.png"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"mt-3 text-center",children:l.jsx("div",{className:"text-sm text-white font-medium truncate",children:oe.name})})]},oe.id||he))})]})})}),g.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-[10000] ${g.type==="error"?"bg-red-800 text-white":g.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:g.message})})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})},fve=({collection:t})=>{const[e,n]=j.useState(!1),[r,s]=j.useState(!1),[a,i]=j.useState({visible:!1,message:"",txHash:""}),[o,c]=j.useState({totalSupply:0,maxSupply:0,totalRevenue:"0",potentialRevenue:"0",totalMints:0,uniqueHolders:0,averagePrice:"0",phases:[],contractBalance:0,contractOwner:"",canWithdraw:!1});j.useEffect(()=>{if(a.visible){const g=setTimeout(()=>i(b=>({...b,visible:!1})),5e3);return()=>clearTimeout(g)}},[a.visible]);const u=(g,b="")=>{i({visible:!0,message:g,txHash:b})},h=async()=>{if(t?.address)try{n(!0);const g=new wr(window.ethereum),b=new Pt(t.address,Rn,g),y=await g.getBalance(t.address),w=Xf(y,18);console.log("🔗 Contract balance (rewards):",w,"STT");const x=JSON.parse(localStorage.getItem(`collection_${t.address}_nfts`)||"[]");console.log("📦 Uploaded NFTs count:",x.length);const N=JSON.parse(localStorage.getItem(`phases_${t.address}`))||{},E=Object.entries(N).map(([H,M])=>({name:H,price:M.price||"0",allocated:M.allocated||0,start:M.start,end:M.end,active:M.active!==!1}));console.log("📅 Phase stats:",E);const C=E.reduce((H,M)=>{const B=parseFloat(M.price)||0,O=parseInt(M.allocated)||0;return H+B*O},0);console.log("💰 Potential revenue from phases:",C);let k=null;try{const[H,M]=await Promise.all([b.totalSupply(),b.maxSupply()]);k={totalSupply:Number(H),maxSupply:Number(M),totalMinted:Number(H)},console.log("🔗 Blockchain data:",k)}catch(H){console.log("⚠️ Blockchain data not available (sale might not have started):",H.message),k=null}const A=await b.owner(),_=await(await g.getSigner()).getAddress(),P=A.toLowerCase()===_.toLowerCase();console.log("🔗 Contract owner:",A),console.log("🔗 Current user:",_),console.log("🔗 Can withdraw:",P);const I=k&&k.totalMinted>0,$={totalSupply:k?k.maxSupply:x.length,maxSupply:k?k.maxSupply:x.length,totalMinted:k?k.totalMinted:0,uploadedNFTs:x.length,totalRevenue:parseFloat(w).toFixed(3),potentialRevenue:C.toFixed(2),uniqueHolders:k?Math.floor(k.totalMinted*.8):0,averagePrice:x.length>0?(C/x.length).toFixed(2):"0",phases:E,contractBalance:parseFloat(w),contractOwner:A,canWithdraw:P,saleHasStarted:I};console.log("💰 Final stats:",$),console.log("🎯 Sale has started:",I),c($),localStorage.setItem(`collection_${t.address}_real_stats`,JSON.stringify($))}catch(g){console.error("Error loading collection stats:",g),u("Failed to load collection statistics")}finally{n(!1)}};j.useEffect(()=>{t?.address&&h()},[t?.address]);const f=async()=>{if(t?.address)try{s(!0);const g=new wr(window.ethereum),b=await g.getSigner(),y=new Pt(t.address,Rn,b),w=await b.getAddress(),x=await y.owner();if(w.toLowerCase()!==x.toLowerCase()){u("❌ Only contract owner can withdraw rewards");return}const N=await g.getBalance(t.address);if(N===0n){u("❌ No rewards available to withdraw");return}console.log("💰 Withdrawing balance:",Xf(N,18),"STT");const E=await y.withdraw();u("⏳ Withdrawing rewards..."),await E.wait(),u("✅ Rewards withdrawn successfully!",E.hash),h()}catch(g){console.error("Error withdrawing rewards:",g),g.message.includes("user rejected")?u("❌ Transaction was cancelled by user"):g.message.includes("insufficient funds")?u("❌ Insufficient gas fees for transaction"):g.message.includes("execution reverted")?u("❌ Transaction failed - check contract permissions"):u(`❌ Failed to withdraw rewards: ${g.message}`)}finally{s(!1)}},m=g=>{if(!g)return"Not set";const b=new Date(g*1e3);return b.toLocaleDateString()+" "+b.toLocaleTimeString()};return t?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(qd,{className:"w-5 h-5 text-blue-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Uploaded NFTs"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:e?"...":o.uploadedNFTs}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.saleHasStarted?"✅ Sale Active":"⏳ Pre-sale"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(c_,{className:"w-5 h-5 text-green-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Available Rewards"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:e?"...":`${o.totalRevenue} STT`}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.canWithdraw?"✅ Can withdraw":"❌ Not owner"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(hv,{className:"w-5 h-5 text-pink-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Total Mints"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:e?"...":o.totalMinted}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.saleHasStarted?"🔗 From blockchain":"📦 From uploads"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Zce,{className:"w-5 h-5 text-yellow-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Potential Revenue"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:e?"...":`${o.potentialRevenue} STT`}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"From configured phases"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:h,disabled:e,className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[l.jsx(uv,{className:`w-4 h-4 ${e?"animate-spin":""}`}),"Refresh Stats"]})}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Phase Configuration"}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[o.phases?.length||0," phases configured"]})]}),o.phases&&o.phases.length>0?l.jsxs("div",{className:"space-y-4",children:[o.phases.map((g,b)=>{const y=Math.floor(Date.now()/1e3),w=g.active&&g.start<=y&&g.end>=y,x=g.start>y,N=g.end<y;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${w?"bg-green-500":x?"bg-yellow-500":"bg-gray-500"}`}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:g.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[m(g.start)," - ",m(g.end)]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-bold text-white",children:[g.price," STT"]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[g.allocated," NFTs"]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:["Potential: ",(parseFloat(g.price)*g.allocated).toFixed(2)," STT"]}),l.jsx("div",{className:"text-xs mt-1",children:w?l.jsx("span",{className:"text-green-400",children:"● Active"}):x?l.jsx("span",{className:"text-yellow-400",children:"● Upcoming"}):N?l.jsx("span",{className:"text-gray-400",children:"● Ended"}):l.jsx("span",{className:"text-gray-400",children:"● Inactive"})})]})]},b)}),l.jsxs("div",{className:"mt-4 p-4 bg-zinc-900/50 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-zinc-400",children:"Total Potential Revenue:"}),l.jsxs("span",{className:"text-lg font-bold text-white",children:[o.potentialRevenue," STT"]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("span",{className:"text-sm text-zinc-400",children:"Sale Status:"}),l.jsx("span",{className:`text-sm font-medium ${o.saleHasStarted?"text-green-400":"text-yellow-400"}`,children:o.saleHasStarted?"Active":"Not Started"})]})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-zinc-400 mb-2",children:"No phases configured"}),l.jsx("p",{className:"text-xs text-zinc-500",children:'Configure phases in the "Phase Settings" tab to see potential revenue'})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Rewards & Withdrawals"}),l.jsx("button",{onClick:h,disabled:e,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:"Refresh"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-6 h-6"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:"Contract Balance (Rewards)"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Money earned from NFT mints"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:e?"...":`${o.totalRevenue} STT`}),l.jsx("div",{className:"text-xs text-zinc-500",children:o.canWithdraw?"✅ Can withdraw":"❌ Not owner"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(c_,{className:"w-6 h-6 text-blue-400"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:"Potential Revenue"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"From configured phases"})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-lg font-bold text-white",children:e?"...":`${o.potentialRevenue} STT`})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(hv,{className:"w-6 h-6 text-green-400"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:"Total Mints"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"NFTs minted so far"})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-lg font-bold text-white",children:e?"...":`${o.totalMinted}/${o.maxSupply}`})})]}),l.jsxs("button",{onClick:f,disabled:r||e||parseFloat(o.totalRevenue)===0||!o.canWithdraw,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(lv,{className:"w-5 h-5"}),r?"Withdrawing...":"Withdraw Rewards"]}),l.jsxs("div",{className:"text-xs text-zinc-500 space-y-1",children:[l.jsx("p",{className:"text-center",children:o.canWithdraw?"✅ You are the contract owner and can withdraw rewards":"❌ Only collection owner can withdraw rewards"}),l.jsxs("p",{className:"text-center",children:["Contract Owner: ",o.contractOwner?`${o.contractOwner.substring(0,6)}...${o.contractOwner.substring(38)}`:"Loading..."]}),l.jsx("p",{className:"text-center",children:l.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${t.address}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View Contract on Explorer"})})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Export Data"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:g=>{g.preventDefault(),g.stopPropagation();try{const b={collection:t.name,address:t.address,stats:o,timestamp:new Date().toISOString()},y=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),w=URL.createObjectURL(y),x=document.createElement("a");x.href=w,x.download=`${t.name}_stats.json`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(w),u("✅ Statistics exported successfully")}catch(b){console.error("Export error:",b),u("❌ Failed to export statistics")}},className:"flex items-center justify-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:[l.jsx(lv,{className:"w-4 h-4"}),"Export JSON"]}),l.jsxs("button",{onClick:()=>{window.open(`https://shannon-explorer.somnia.network/address/${t.address}`,"_blank")},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors duration-200",children:[l.jsx(Vd,{className:"w-4 h-4"}),"View Contract"]})]})]}),a.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105",children:[l.jsx("p",{className:"text-sm mb-1",children:a.message}),a.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${a.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[l.jsx(Vd,{size:16}),"View Transaction"]})]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})};var p9={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var m9;function pve(){return m9||(m9=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,a){function i(u,h){if(!s[u]){if(!r[u]){var f=typeof V0=="function"&&V0;if(!h&&f)return f(u,!0);if(o)return o(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var g=s[u]={exports:{}};r[u][0].call(g.exports,function(b){var y=r[u][1][b];return i(y||b)},g,g.exports,n,r,s,a)}return s[u].exports}for(var o=typeof V0=="function"&&V0,c=0;c<a.length;c++)i(a[c]);return i}({1:[function(n,r,s){var a=n("./utils"),i=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,h,f,m,g,b,y,w=[],x=0,N=c.length,E=N,C=a.getTypeOf(c)!=="string";x<c.length;)E=N-x,f=C?(u=c[x++],h=x<N?c[x++]:0,x<N?c[x++]:0):(u=c.charCodeAt(x++),h=x<N?c.charCodeAt(x++):0,x<N?c.charCodeAt(x++):0),m=u>>2,g=(3&u)<<4|h>>4,b=1<E?(15&h)<<2|f>>6:64,y=2<E?63&f:64,w.push(o.charAt(m)+o.charAt(g)+o.charAt(b)+o.charAt(y));return w.join("")},s.decode=function(c){var u,h,f,m,g,b,y=0,w=0,x="data:";if(c.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var N,E=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&E--,c.charAt(c.length-2)===o.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=i.uint8array?new Uint8Array(0|E):new Array(0|E);y<c.length;)u=o.indexOf(c.charAt(y++))<<2|(m=o.indexOf(c.charAt(y++)))>>4,h=(15&m)<<4|(g=o.indexOf(c.charAt(y++)))>>2,f=(3&g)<<6|(b=o.indexOf(c.charAt(y++))),N[w++]=u,g!==64&&(N[w++]=h),b!==64&&(N[w++]=f);return N}},{"./support":30,"./utils":32}],2:[function(n,r,s){var a=n("./external"),i=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(h,f,m,g,b){this.compressedSize=h,this.uncompressedSize=f,this.crc32=m,this.compression=g,this.compressedContent=b}u.prototype={getContentWorker:function(){var h=new i(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new i(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,f,m){return h.pipe(new o).pipe(new c("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var a=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var a=n("./utils"),i=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();r.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,h,f,m){var g=i,b=m+f;u^=-1;for(var y=m;y<b;y++)u=u>>>8^g[255&(u^h[y])];return-1^u}(0|c,o,o.length,0):function(u,h,f,m){var g=i,b=m+f;u^=-1;for(var y=m;y<b;y++)u=u>>>8^g[255&(u^h.charCodeAt(y))];return-1^u}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function h(f,m){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}s.magic="\b\0",o.inherits(h,c),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},s.compressWorker=function(f){return new h("Deflate",f)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function a(g,b){var y,w="";for(y=0;y<b;y++)w+=String.fromCharCode(255&g),g>>>=8;return w}function i(g,b,y,w,x,N){var E,C,k=g.file,A=g.compression,_=N!==u.utf8encode,P=o.transformTo("string",N(k.name)),I=o.transformTo("string",u.utf8encode(k.name)),$=k.comment,H=o.transformTo("string",N($)),M=o.transformTo("string",u.utf8encode($)),B=I.length!==k.name.length,O=M.length!==$.length,z="",G="",Z="",D=k.dir,K=k.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ee.crc32=g.crc32,ee.compressedSize=g.compressedSize,ee.uncompressedSize=g.uncompressedSize);var F=0;b&&(F|=8),_||!B&&!O||(F|=2048);var V=0,J=0;D&&(V|=16),x==="UNIX"?(J=798,V|=function(ae,ue){var re=ae;return ae||(re=ue?16893:33204),(65535&re)<<16}(k.unixPermissions,D)):(J=20,V|=function(ae){return 63&(ae||0)}(k.dosPermissions)),E=K.getUTCHours(),E<<=6,E|=K.getUTCMinutes(),E<<=5,E|=K.getUTCSeconds()/2,C=K.getUTCFullYear()-1980,C<<=4,C|=K.getUTCMonth()+1,C<<=5,C|=K.getUTCDate(),B&&(G=a(1,1)+a(h(P),4)+I,z+="up"+a(G.length,2)+G),O&&(Z=a(1,1)+a(h(H),4)+M,z+="uc"+a(Z.length,2)+Z);var Q="";return Q+=`
\0`,Q+=a(F,2),Q+=A.magic,Q+=a(E,2),Q+=a(C,2),Q+=a(ee.crc32,4),Q+=a(ee.compressedSize,4),Q+=a(ee.uncompressedSize,4),Q+=a(P.length,2),Q+=a(z.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Q+P+z,dirRecord:f.CENTRAL_FILE_HEADER+a(J,2)+Q+a(H.length,2)+"\0\0\0\0"+a(V,4)+a(w,4)+P+z+H}}var o=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),h=n("../crc32"),f=n("../signature");function m(g,b,y,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=w,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(m,c),m.prototype.push=function(g){var b=g.meta.percent||0,y=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,c.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-w-1))/y:100}}))},m.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var y=i(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,y=i(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(w){return f.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-g,w=function(x,N,E,C,k){var A=o.transformTo("string",k(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(x,2)+a(x,2)+a(N,4)+a(E,4)+a(A.length,2)+A}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(y){b.processChunk(y)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(y){b.error(y)}),this},m.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(g){var b=this._sources;if(!c.prototype.error.call(this,g))return!1;for(var y=0;y<b.length;y++)try{b[y].error(g)}catch{}return!0},m.prototype.lock=function(){c.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var a=n("../compressions"),i=n("./ZipFileWorker");s.generateWorker=function(o,c,u){var h=new i(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{o.forEach(function(m,g){f++;var b=function(N,E){var C=N||E,k=a[C];if(!k)throw new Error(C+" is not a valid compression method !");return k}(g.options.compression,c.compression),y=g.options.compressionOptions||c.compressionOptions||{},w=g.dir,x=g.date;g._compressWorker(b,y).withStreamInfo("file",{name:m,dir:w,date:x,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(m){h.error(m)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new a;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(i,o){return new a().loadAsync(i,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var a=n("./utils"),i=n("./external"),o=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function f(m){return new i.Promise(function(g,b){var y=m.decompressed.getContentWorker().pipe(new u);y.on("error",function(w){b(w)}).on("end",function(){y.streamInfo.crc32!==m.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(m,g){var b=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(m)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",m,!0,g.optimizedBinaryString,g.base64).then(function(y){var w=new c(g);return w.load(y),w}).then(function(y){var w=[i.Promise.resolve(y)],x=y.files;if(g.checkCRC32)for(var N=0;N<x.length;N++)w.push(f(x[N]));return i.Promise.all(w)}).then(function(y){for(var w=y.shift(),x=w.files,N=0;N<x.length;N++){var E=x[N],C=E.fileNameStr,k=a.resolve(E.fileNameStr);b.file(k,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:g.createFolders}),E.dir||(b.file(k).unsafeOriginalName=C)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var a=n("../utils"),i=n("../stream/GenericWorker");function o(c,u){i.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,i),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var a=n("readable-stream").Readable;function i(o,c,u){a.call(this,c),this._helper=o;var h=this;o.on("data",function(f,m){h.push(f)||h._helper.pause(),u&&u(m)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}n("../utils").inherits(i,a),i.prototype._read=function(){this._helper.resume()},r.exports=i},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,i);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,i)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var i=new Buffer(a);return i.fill(0),i},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,s){function a(k,A,_){var P,I=o.getTypeOf(A),$=o.extend(_||{},h);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(k=x(k)),$.createFolders&&(P=w(k))&&N.call(this,P,!0);var H=I==="string"&&$.binary===!1&&$.base64===!1;_&&_.binary!==void 0||($.binary=!H),(A instanceof f&&A.uncompressedSize===0||$.dir||!A||A.length===0)&&($.base64=!1,$.binary=!0,A="",$.compression="STORE",I="string");var M=null;M=A instanceof f||A instanceof c?A:b.isNode&&b.isStream(A)?new y(k,A):o.prepareContent(k,A,$.binary,$.optimizedBinaryString,$.base64);var B=new m(k,M,$);this.files[k]=B}var i=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),h=n("./defaults"),f=n("./compressedObject"),m=n("./zipObject"),g=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),w=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var A=k.lastIndexOf("/");return 0<A?k.substring(0,A):""},x=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},N=function(k,A){return A=A!==void 0?A:h.createFolders,k=x(k),this.files[k]||a.call(this,k,null,{dir:!0,createFolders:A}),this.files[k]};function E(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var A,_,P;for(A in this.files)P=this.files[A],(_=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&k(_,P)},filter:function(k){var A=[];return this.forEach(function(_,P){k(_,P)&&A.push(P)}),A},file:function(k,A,_){if(arguments.length!==1)return k=this.root+k,a.call(this,k,A,_),this;if(E(k)){var P=k;return this.filter(function($,H){return!H.dir&&P.test($)})}var I=this.files[this.root+k];return I&&!I.dir?I:null},folder:function(k){if(!k)return this;if(E(k))return this.filter(function(I,$){return $.dir&&k.test(I)});var A=this.root+k,_=N.call(this,A),P=this.clone();return P.root=_.name,P},remove:function(k){k=this.root+k;var A=this.files[k];if(A||(k.slice(-1)!=="/"&&(k+="/"),A=this.files[k]),A&&!A.dir)delete this.files[k];else for(var _=this.filter(function(I,$){return $.name.slice(0,k.length)===k}),P=0;P<_.length;P++)delete this.files[_[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var A,_={};try{if((_=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");o.checkSupport(_.type),_.platform!=="darwin"&&_.platform!=="freebsd"&&_.platform!=="linux"&&_.platform!=="sunos"||(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var P=_.comment||this.comment||"";A=g.generateWorker(this,_,P)}catch(I){(A=new c("error")).error(I)}return new u(A,_.type||"string",_.mimeType)},generateAsync:function(k,A){return this.generateInternalStream(k).accumulate(A)},generateNodeStream:function(k,A){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(A)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var a=n("./DataReader");function i(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===c&&this.data[m+1]===u&&this.data[m+2]===h&&this.data[m+3]===f)return m-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),m=this.readData(4);return c===m[0]&&u===m[1]&&h===m[2]&&f===m[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var a=n("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=i},{"../utils":32}],19:[function(n,r,s){var a=n("./Uint8ArrayReader");function i(o){a.call(this,o)}n("../utils").inherits(i,a),i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var a=n("./DataReader");function i(o){a.call(this,o)}n("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var a=n("./ArrayReader");function i(o){a.call(this,o)}n("../utils").inherits(i,a),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var a=n("../utils"),i=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(f){var m=a.getTypeOf(f);return a.checkSupport(m),m!=="string"||i.uint8array?m==="nodebuffer"?new u(f):i.uint8array?new h(a.transformTo("uint8array",f)):new o(a.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var a=n("./GenericWorker"),i=n("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}i.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:i.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var a=n("./GenericWorker"),i=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=i(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var a=n("../utils"),i=n("./GenericWorker");function o(c){i.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,i),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}i.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var a=n("../utils"),i=n("./GenericWorker");function o(c){i.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=a.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}a.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function a(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var c=0;c<this._listeners[i].length;c++)this._listeners[i][c].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(c){o.processChunk(c)}),i.on("end",function(){o.end()}),i.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},r.exports=a},{}],29:[function(n,r,s){var a=n("../utils"),i=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),u=n("../support"),h=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(b,y){return new h.Promise(function(w,x){var N=[],E=b._internalType,C=b._outputType,k=b._mimeType;b.on("data",function(A,_){N.push(A),y&&y(_)}).on("error",function(A){N=[],x(A)}).on("end",function(){try{var A=function(_,P,I){switch(_){case"blob":return a.newBlob(a.transformTo("arraybuffer",P),I);case"base64":return c.encode(P);default:return a.transformTo(_,P)}}(C,function(_,P){var I,$=0,H=null,M=0;for(I=0;I<P.length;I++)M+=P[I].length;switch(_){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(H=new Uint8Array(M),I=0;I<P.length;I++)H.set(P[I],$),$+=P[I].length;return H;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+_+"'")}}(E,N),k);w(A)}catch(_){x(_)}N=[]}).resume()})}function g(b,y,w){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=w,a.checkSupport(x),this._worker=b.pipe(new i(x)),b.lock()}catch(N){this._worker=new o("error"),this._worker.error(N)}}g.prototype={accumulate:function(b){return m(this,b)},on:function(b,y){var w=this;return b==="data"?this._worker.on(b,function(x){y.call(w,x.data,x.meta)}):this._worker.on(b,function(){a.delay(y,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(a),s.blob=i.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var a=n("./utils"),i=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function m(){c.call(this,"utf-8 encode")}s.utf8encode=function(g){return i.nodebuffer?o.newBufferFrom(g,"utf-8"):function(b){var y,w,x,N,E,C=b.length,k=0;for(N=0;N<C;N++)(64512&(w=b.charCodeAt(N)))==55296&&N+1<C&&(64512&(x=b.charCodeAt(N+1)))==56320&&(w=65536+(w-55296<<10)+(x-56320),N++),k+=w<128?1:w<2048?2:w<65536?3:4;for(y=i.uint8array?new Uint8Array(k):new Array(k),N=E=0;E<k;N++)(64512&(w=b.charCodeAt(N)))==55296&&N+1<C&&(64512&(x=b.charCodeAt(N+1)))==56320&&(w=65536+(w-55296<<10)+(x-56320),N++),w<128?y[E++]=w:(w<2048?y[E++]=192|w>>>6:(w<65536?y[E++]=224|w>>>12:(y[E++]=240|w>>>18,y[E++]=128|w>>>12&63),y[E++]=128|w>>>6&63),y[E++]=128|63&w);return y}(g)},s.utf8decode=function(g){return i.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):function(b){var y,w,x,N,E=b.length,C=new Array(2*E);for(y=w=0;y<E;)if((x=b[y++])<128)C[w++]=x;else if(4<(N=u[x]))C[w++]=65533,y+=N-1;else{for(x&=N===2?31:N===3?15:7;1<N&&y<E;)x=x<<6|63&b[y++],N--;1<N?C[w++]=65533:x<65536?C[w++]=x:(x-=65536,C[w++]=55296|x>>10&1023,C[w++]=56320|1023&x)}return C.length!==w&&(C.subarray?C=C.subarray(0,w):C.length=w),a.applyFromCharCode(C)}(g=a.transformTo(i.uint8array?"uint8array":"array",g))},a.inherits(f,c),f.prototype.processChunk=function(g){var b=a.transformTo(i.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=function(N,E){var C;for((E=E||N.length)>N.length&&(E=N.length),C=E-1;0<=C&&(192&N[C])==128;)C--;return C<0||C===0?E:C+u[N[C]]>E?C:E}(b),x=b;w!==b.length&&(i.uint8array?(x=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(x=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:s.utf8decode(x),meta:g.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,a.inherits(m,c),m.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var a=n("./support"),i=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function u(y){return y}function h(y,w){for(var x=0;x<y.length;++x)w[x]=255&y.charCodeAt(x);return w}n("setimmediate"),s.newBlob=function(y,w){s.checkSupport("blob");try{return new Blob([y],{type:w})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,w,x){var N=[],E=0,C=y.length;if(C<=x)return String.fromCharCode.apply(null,y);for(;E<C;)w==="array"||w==="nodebuffer"?N.push(String.fromCharCode.apply(null,y.slice(E,Math.min(E+x,C)))):N.push(String.fromCharCode.apply(null,y.subarray(E,Math.min(E+x,C)))),E+=x;return N.join("")},stringifyByChar:function(y){for(var w="",x=0;x<y.length;x++)w+=String.fromCharCode(y[x]);return w},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function m(y){var w=65536,x=s.getTypeOf(y),N=!0;if(x==="uint8array"?N=f.applyCanBeUsed.uint8array:x==="nodebuffer"&&(N=f.applyCanBeUsed.nodebuffer),N)for(;1<w;)try{return f.stringifyByChunk(y,x,w)}catch{w=Math.floor(w/2)}return f.stringifyByChar(y)}function g(y,w){for(var x=0;x<y.length;x++)w[x]=y[x];return w}s.applyFromCharCode=m;var b={};b.string={string:u,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,o.allocBuffer(y.length))}},b.array={string:m,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},b.arraybuffer={string:function(y){return m(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:m,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return o.newBufferFrom(y)}},b.nodebuffer={string:m,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,w){if(w=w||"",!y)return w;s.checkSupport(y);var x=s.getTypeOf(w);return b[x][y](w)},s.resolve=function(y){for(var w=y.split("/"),x=[],N=0;N<w.length;N++){var E=w[N];E==="."||E===""&&N!==0&&N!==w.length-1||(E===".."?x.pop():x.push(E))}return x.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var w,x,N="";for(x=0;x<(y||"").length;x++)N+="\\x"+((w=y.charCodeAt(x))<16?"0":"")+w.toString(16).toUpperCase();return N},s.delay=function(y,w,x){setImmediate(function(){y.apply(x||null,w||[])})},s.inherits=function(y,w){function x(){}x.prototype=w.prototype,y.prototype=new x},s.extend=function(){var y,w,x={};for(y=0;y<arguments.length;y++)for(w in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],w)&&x[w]===void 0&&(x[w]=arguments[y][w]);return x},s.prepareContent=function(y,w,x,N,E){return c.Promise.resolve(w).then(function(C){return a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new c.Promise(function(k,A){var _=new FileReader;_.onload=function(P){k(P.target.result)},_.onerror=function(P){A(P.target.error)},_.readAsArrayBuffer(C)}):C}).then(function(C){var k=s.getTypeOf(C);return k?(k==="arraybuffer"?C=s.transformTo("uint8array",C):k==="string"&&(E?C=i.decode(C):x&&N!==!0&&(C=function(A){return h(A,a.uint8array?new Uint8Array(A.length):new Array(A.length))}(C))),C):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var a=n("./reader/readerFor"),i=n("./utils"),o=n("./signature"),c=n("./zipEntry"),u=n("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(m)+", expected "+i.pretty(f)+")")}},isSignature:function(f,m){var g=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===m;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",g=i.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,m,g,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),m=this.reader.readInt(4),g=this.reader.readData(m),this.zip64ExtensibleData[f]={id:f,length:m,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var m=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=m-g;if(0<b)this.isSignature(m,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var a=n("./reader/readerFor"),i=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),h=n("./compressions"),f=n("./support");function m(g,b){this.options=g,this.loadOptions=b}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(w){for(var x in h)if(Object.prototype.hasOwnProperty.call(h,x)&&h[x].magic===w)return h[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,y,w,x=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<x;)b=g.readInt(2),y=g.readInt(2),w=g.readData(y),this.extraFields[b]={id:b,length:y,value:w};g.setIndex(x)},handleUTF8:function(){var g=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=i.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var x=i.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=a(g.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=a(g.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function a(b,y,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=y,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var i=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),h=n("./stream/GenericWorker");a.prototype={internalStream:function(b){var y=null,w="string";try{if(!b)throw new Error("No output type specified.");var x=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),y=this._decompressWorker();var N=!this._dataBinary;N&&!x&&(y=y.pipe(new c.Utf8EncodeWorker)),!N&&x&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(E){(y=new h("error")).error(E)}return new i(y,w,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(w,b,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<f.length;g++)a.prototype[f[g]]=m;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(a){var i,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,h=new c(b),f=a.document.createTextNode("");h.observe(f,{characterData:!0}),i=function(){f.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)i="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var m=new a.MessageChannel;m.port1.onmessage=b,i=function(){m.port2.postMessage(0)}}var g=[];function b(){var y,w;o=!0;for(var x=g.length;x;){for(w=g,g=[],y=-1;++y<x;)w[y]();x=g.length}o=!1}r.exports=function(y){g.push(y)!==1||o||i()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var a=n("immediate");function i(){}var o={},c=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function f(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,x!==i&&y(this,x)}function m(x,N,E){this.promise=x,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function g(x,N,E){a(function(){var C;try{C=N(E)}catch(k){return o.reject(x,k)}C===x?o.reject(x,new TypeError("Cannot resolve promise with itself")):o.resolve(x,C)})}function b(x){var N=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof N=="function")return function(){N.apply(x,arguments)}}function y(x,N){var E=!1;function C(_){E||(E=!0,o.reject(x,_))}function k(_){E||(E=!0,o.resolve(x,_))}var A=w(function(){N(k,C)});A.status==="error"&&C(A.value)}function w(x,N){var E={};try{E.value=x(N),E.status="success"}catch(C){E.status="error",E.value=C}return E}(r.exports=f).prototype.finally=function(x){if(typeof x!="function")return this;var N=this.constructor;return this.then(function(E){return N.resolve(x()).then(function(){return E})},function(E){return N.resolve(x()).then(function(){throw E})})},f.prototype.catch=function(x){return this.then(null,x)},f.prototype.then=function(x,N){if(typeof x!="function"&&this.state===u||typeof N!="function"&&this.state===c)return this;var E=new this.constructor(i);return this.state!==h?g(E,this.state===u?x:N,this.outcome):this.queue.push(new m(E,x,N)),E},m.prototype.callFulfilled=function(x){o.resolve(this.promise,x)},m.prototype.otherCallFulfilled=function(x){g(this.promise,this.onFulfilled,x)},m.prototype.callRejected=function(x){o.reject(this.promise,x)},m.prototype.otherCallRejected=function(x){g(this.promise,this.onRejected,x)},o.resolve=function(x,N){var E=w(b,N);if(E.status==="error")return o.reject(x,E.value);var C=E.value;if(C)y(x,C);else{x.state=u,x.outcome=N;for(var k=-1,A=x.queue.length;++k<A;)x.queue[k].callFulfilled(N)}return x},o.reject=function(x,N){x.state=c,x.outcome=N;for(var E=-1,C=x.queue.length;++E<C;)x.queue[E].callRejected(N);return x},f.resolve=function(x){return x instanceof this?x:o.resolve(new this(i),x)},f.reject=function(x){var N=new this(i);return o.reject(N,x)},f.all=function(x){var N=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,C=!1;if(!E)return this.resolve([]);for(var k=new Array(E),A=0,_=-1,P=new this(i);++_<E;)I(x[_],_);return P;function I($,H){N.resolve($).then(function(M){k[H]=M,++A!==E||C||(C=!0,o.resolve(P,k))},function(M){C||(C=!0,o.reject(P,M))})}},f.race=function(x){var N=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=x.length,C=!1;if(!E)return this.resolve([]);for(var k=-1,A=new this(i);++k<E;)_=x[k],N.resolve(_).then(function(P){C||(C=!0,o.resolve(A,P))},function(P){C||(C=!0,o.reject(A,P))});var _;return A}},{immediate:36}],38:[function(n,r,s){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var a=n("./zlib/deflate"),i=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),h=Object.prototype.toString,f=0,m=-1,g=0,b=8;function y(x){if(!(this instanceof y))return new y(x);this.options=i.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},x||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var E=a.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(E!==f)throw new Error(c[E]);if(N.header&&a.deflateSetHeader(this.strm,N.header),N.dictionary){var C;if(C=typeof N.dictionary=="string"?o.string2buf(N.dictionary):h.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(E=a.deflateSetDictionary(this.strm,C))!==f)throw new Error(c[E]);this._dict_set=!0}}function w(x,N){var E=new y(N);if(E.push(x,!0),E.err)throw E.msg||c[E.err];return E.result}y.prototype.push=function(x,N){var E,C,k=this.strm,A=this.options.chunkSize;if(this.ended)return!1;C=N===~~N?N:N===!0?4:0,typeof x=="string"?k.input=o.string2buf(x):h.call(x)==="[object ArrayBuffer]"?k.input=new Uint8Array(x):k.input=x,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new i.Buf8(A),k.next_out=0,k.avail_out=A),(E=a.deflate(k,C))!==1&&E!==f)return this.onEnd(E),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(k.output,k.next_out))):this.onData(i.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&E!==1);return C===4?(E=a.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===f):C!==2||(this.onEnd(f),!(k.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},s.Deflate=y,s.deflate=w,s.deflateRaw=function(x,N){return(N=N||{}).raw=!0,w(x,N)},s.gzip=function(x,N){return(N=N||{}).gzip=!0,w(x,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var a=n("./zlib/inflate"),i=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),h=n("./zlib/zstream"),f=n("./zlib/gzheader"),m=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},y||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||y&&y.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var x=a.inflateInit2(this.strm,w.windowBits);if(x!==c.Z_OK)throw new Error(u[x]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function b(y,w){var x=new g(w);if(x.push(y,!0),x.err)throw x.msg||u[x.err];return x.result}g.prototype.push=function(y,w){var x,N,E,C,k,A,_=this.strm,P=this.options.chunkSize,I=this.options.dictionary,$=!1;if(this.ended)return!1;N=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?_.input=o.binstring2buf(y):m.call(y)==="[object ArrayBuffer]"?_.input=new Uint8Array(y):_.input=y,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new i.Buf8(P),_.next_out=0,_.avail_out=P),(x=a.inflate(_,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(A=typeof I=="string"?o.string2buf(I):m.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,x=a.inflateSetDictionary(this.strm,A)),x===c.Z_BUF_ERROR&&$===!0&&(x=c.Z_OK,$=!1),x!==c.Z_STREAM_END&&x!==c.Z_OK)return this.onEnd(x),!(this.ended=!0);_.next_out&&(_.avail_out!==0&&x!==c.Z_STREAM_END&&(_.avail_in!==0||N!==c.Z_FINISH&&N!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=o.utf8border(_.output,_.next_out),C=_.next_out-E,k=o.buf2string(_.output,E),_.next_out=C,_.avail_out=P-C,C&&i.arraySet(_.output,_.output,E,C,0),this.onData(k)):this.onData(i.shrinkBuf(_.output,_.next_out)))),_.avail_in===0&&_.avail_out===0&&($=!0)}while((0<_.avail_in||_.avail_out===0)&&x!==c.Z_STREAM_END);return x===c.Z_STREAM_END&&(N=c.Z_FINISH),N===c.Z_FINISH?(x=a.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===c.Z_OK):N!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(_.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=g,s.inflate=b,s.inflateRaw=function(y,w){return(w=w||{}).raw=!0,b(y,w)},s.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var i={arraySet:function(c,u,h,f,m){if(u.subarray&&c.subarray)c.set(u.subarray(h,h+f),m);else for(var g=0;g<f;g++)c[m+g]=u[h+g]},flattenChunks:function(c){var u,h,f,m,g,b;for(u=f=0,h=c.length;u<h;u++)f+=c[u].length;for(b=new Uint8Array(f),u=m=0,h=c.length;u<h;u++)g=c[u],b.set(g,m),m+=g.length;return b}},o={arraySet:function(c,u,h,f,m){for(var g=0;g<f;g++)c[m+g]=u[h+g]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,i)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(a)},{}],42:[function(n,r,s){var a=n("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(f,m){if(m<65537&&(f.subarray&&o||!f.subarray&&i))return String.fromCharCode.apply(null,a.shrinkBuf(f,m));for(var g="",b=0;b<m;b++)g+=String.fromCharCode(f[b]);return g}c[254]=c[254]=1,s.string2buf=function(f){var m,g,b,y,w,x=f.length,N=0;for(y=0;y<x;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),N+=g<128?1:g<2048?2:g<65536?3:4;for(m=new a.Buf8(N),y=w=0;w<N;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),g<128?m[w++]=g:(g<2048?m[w++]=192|g>>>6:(g<65536?m[w++]=224|g>>>12:(m[w++]=240|g>>>18,m[w++]=128|g>>>12&63),m[w++]=128|g>>>6&63),m[w++]=128|63&g);return m},s.buf2binstring=function(f){return h(f,f.length)},s.binstring2buf=function(f){for(var m=new a.Buf8(f.length),g=0,b=m.length;g<b;g++)m[g]=f.charCodeAt(g);return m},s.buf2string=function(f,m){var g,b,y,w,x=m||f.length,N=new Array(2*x);for(g=b=0;g<x;)if((y=f[g++])<128)N[b++]=y;else if(4<(w=c[y]))N[b++]=65533,g+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&g<x;)y=y<<6|63&f[g++],w--;1<w?N[b++]=65533:y<65536?N[b++]=y:(y-=65536,N[b++]=55296|y>>10&1023,N[b++]=56320|1023&y)}return h(N,b)},s.utf8border=function(f,m){var g;for((m=m||f.length)>f.length&&(m=f.length),g=m-1;0<=g&&(192&f[g])==128;)g--;return g<0||g===0?m:g+c[f[g]]>m?g:m}},{"./common":41}],43:[function(n,r,s){r.exports=function(a,i,o,c){for(var u=65535&a|0,h=a>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;h=h+(u=u+i[c++]|0)|0,--f;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var a=function(){for(var i,o=[],c=0;c<256;c++){i=c;for(var u=0;u<8;u++)i=1&i?3988292384^i>>>1:i>>>1;o[c]=i}return o}();r.exports=function(i,o,c,u){var h=a,f=u+c;i^=-1;for(var m=u;m<f;m++)i=i>>>8^h[255&(i^o[m])];return-1^i}},{}],46:[function(n,r,s){var a,i=n("../utils/common"),o=n("./trees"),c=n("./adler32"),u=n("./crc32"),h=n("./messages"),f=0,m=4,g=0,b=-2,y=-1,w=4,x=2,N=8,E=9,C=286,k=30,A=19,_=2*C+1,P=15,I=3,$=258,H=$+I+1,M=42,B=113,O=1,z=2,G=3,Z=4;function D(W,ye){return W.msg=h[ye],ye}function K(W){return(W<<1)-(4<W?9:0)}function ee(W){for(var ye=W.length;0<=--ye;)W[ye]=0}function F(W){var ye=W.state,ce=ye.pending;ce>W.avail_out&&(ce=W.avail_out),ce!==0&&(i.arraySet(W.output,ye.pending_buf,ye.pending_out,ce,W.next_out),W.next_out+=ce,ye.pending_out+=ce,W.total_out+=ce,W.avail_out-=ce,ye.pending-=ce,ye.pending===0&&(ye.pending_out=0))}function V(W,ye){o._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,ye),W.block_start=W.strstart,F(W.strm)}function J(W,ye){W.pending_buf[W.pending++]=ye}function Q(W,ye){W.pending_buf[W.pending++]=ye>>>8&255,W.pending_buf[W.pending++]=255&ye}function ae(W,ye){var ce,ne,se=W.max_chain_length,fe=W.strstart,Ie=W.prev_length,je=W.nice_match,be=W.strstart>W.w_size-H?W.strstart-(W.w_size-H):0,Be=W.window,$e=W.w_mask,Me=W.prev,we=W.strstart+$,T=Be[fe+Ie-1],L=Be[fe+Ie];W.prev_length>=W.good_match&&(se>>=2),je>W.lookahead&&(je=W.lookahead);do if(Be[(ce=ye)+Ie]===L&&Be[ce+Ie-1]===T&&Be[ce]===Be[fe]&&Be[++ce]===Be[fe+1]){fe+=2,ce++;do;while(Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&fe<we);if(ne=$-(we-fe),fe=we-$,Ie<ne){if(W.match_start=ye,je<=(Ie=ne))break;T=Be[fe+Ie-1],L=Be[fe+Ie]}}while((ye=Me[ye&$e])>be&&--se!=0);return Ie<=W.lookahead?Ie:W.lookahead}function ue(W){var ye,ce,ne,se,fe,Ie,je,be,Be,$e,Me=W.w_size;do{if(se=W.window_size-W.lookahead-W.strstart,W.strstart>=Me+(Me-H)){for(i.arraySet(W.window,W.window,Me,Me,0),W.match_start-=Me,W.strstart-=Me,W.block_start-=Me,ye=ce=W.hash_size;ne=W.head[--ye],W.head[ye]=Me<=ne?ne-Me:0,--ce;);for(ye=ce=Me;ne=W.prev[--ye],W.prev[ye]=Me<=ne?ne-Me:0,--ce;);se+=Me}if(W.strm.avail_in===0)break;if(Ie=W.strm,je=W.window,be=W.strstart+W.lookahead,Be=se,$e=void 0,$e=Ie.avail_in,Be<$e&&($e=Be),ce=$e===0?0:(Ie.avail_in-=$e,i.arraySet(je,Ie.input,Ie.next_in,$e,be),Ie.state.wrap===1?Ie.adler=c(Ie.adler,je,$e,be):Ie.state.wrap===2&&(Ie.adler=u(Ie.adler,je,$e,be)),Ie.next_in+=$e,Ie.total_in+=$e,$e),W.lookahead+=ce,W.lookahead+W.insert>=I)for(fe=W.strstart-W.insert,W.ins_h=W.window[fe],W.ins_h=(W.ins_h<<W.hash_shift^W.window[fe+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[fe+I-1])&W.hash_mask,W.prev[fe&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=fe,fe++,W.insert--,!(W.lookahead+W.insert<I)););}while(W.lookahead<H&&W.strm.avail_in!==0)}function re(W,ye){for(var ce,ne;;){if(W.lookahead<H){if(ue(W),W.lookahead<H&&ye===f)return O;if(W.lookahead===0)break}if(ce=0,W.lookahead>=I&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,ce=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),ce!==0&&W.strstart-ce<=W.w_size-H&&(W.match_length=ae(W,ce)),W.match_length>=I)if(ne=o._tr_tally(W,W.strstart-W.match_start,W.match_length-I),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=I){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,ce=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else ne=o._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(ne&&(V(W,!1),W.strm.avail_out===0))return O}return W.insert=W.strstart<I-1?W.strstart:I-1,ye===m?(V(W,!0),W.strm.avail_out===0?G:Z):W.last_lit&&(V(W,!1),W.strm.avail_out===0)?O:z}function ie(W,ye){for(var ce,ne,se;;){if(W.lookahead<H){if(ue(W),W.lookahead<H&&ye===f)return O;if(W.lookahead===0)break}if(ce=0,W.lookahead>=I&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,ce=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=I-1,ce!==0&&W.prev_length<W.max_lazy_match&&W.strstart-ce<=W.w_size-H&&(W.match_length=ae(W,ce),W.match_length<=5&&(W.strategy===1||W.match_length===I&&4096<W.strstart-W.match_start)&&(W.match_length=I-1)),W.prev_length>=I&&W.match_length<=W.prev_length){for(se=W.strstart+W.lookahead-I,ne=o._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-I),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=se&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+I-1])&W.hash_mask,ce=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=I-1,W.strstart++,ne&&(V(W,!1),W.strm.avail_out===0))return O}else if(W.match_available){if((ne=o._tr_tally(W,0,W.window[W.strstart-1]))&&V(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return O}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(ne=o._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<I-1?W.strstart:I-1,ye===m?(V(W,!0),W.strm.avail_out===0?G:Z):W.last_lit&&(V(W,!1),W.strm.avail_out===0)?O:z}function me(W,ye,ce,ne,se){this.good_length=W,this.max_lazy=ye,this.nice_length=ce,this.max_chain=ne,this.func=se}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*_),this.dyn_dtree=new i.Buf16(2*(2*k+1)),this.bl_tree=new i.Buf16(2*(2*A+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(P+1),this.heap=new i.Buf16(2*C+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*C+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(W){var ye;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=x,(ye=W.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?M:B,W.adler=ye.wrap===2?0:1,ye.last_flush=f,o._tr_init(ye),g):D(W,b)}function Ne(W){var ye=he(W);return ye===g&&function(ce){ce.window_size=2*ce.w_size,ee(ce.head),ce.max_lazy_match=a[ce.level].max_lazy,ce.good_match=a[ce.level].good_length,ce.nice_match=a[ce.level].nice_length,ce.max_chain_length=a[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=I-1,ce.match_available=0,ce.ins_h=0}(W.state),ye}function Re(W,ye,ce,ne,se,fe){if(!W)return b;var Ie=1;if(ye===y&&(ye=6),ne<0?(Ie=0,ne=-ne):15<ne&&(Ie=2,ne-=16),se<1||E<se||ce!==N||ne<8||15<ne||ye<0||9<ye||fe<0||w<fe)return D(W,b);ne===8&&(ne=9);var je=new oe;return(W.state=je).strm=W,je.wrap=Ie,je.gzhead=null,je.w_bits=ne,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=se+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+I-1)/I),je.window=new i.Buf8(2*je.w_size),je.head=new i.Buf16(je.hash_size),je.prev=new i.Buf16(je.w_size),je.lit_bufsize=1<<se+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new i.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=ye,je.strategy=fe,je.method=ce,Ne(W)}a=[new me(0,0,0,0,function(W,ye){var ce=65535;for(ce>W.pending_buf_size-5&&(ce=W.pending_buf_size-5);;){if(W.lookahead<=1){if(ue(W),W.lookahead===0&&ye===f)return O;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var ne=W.block_start+ce;if((W.strstart===0||W.strstart>=ne)&&(W.lookahead=W.strstart-ne,W.strstart=ne,V(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-H&&(V(W,!1),W.strm.avail_out===0))return O}return W.insert=0,ye===m?(V(W,!0),W.strm.avail_out===0?G:Z):(W.strstart>W.block_start&&(V(W,!1),W.strm.avail_out),O)}),new me(4,4,8,4,re),new me(4,5,16,8,re),new me(4,6,32,32,re),new me(4,4,16,16,ie),new me(8,16,32,32,ie),new me(8,16,128,128,ie),new me(8,32,128,256,ie),new me(32,128,258,1024,ie),new me(32,258,258,4096,ie)],s.deflateInit=function(W,ye){return Re(W,ye,N,15,8,0)},s.deflateInit2=Re,s.deflateReset=Ne,s.deflateResetKeep=he,s.deflateSetHeader=function(W,ye){return W&&W.state?W.state.wrap!==2?b:(W.state.gzhead=ye,g):b},s.deflate=function(W,ye){var ce,ne,se,fe;if(!W||!W.state||5<ye||ye<0)return W?D(W,b):b;if(ne=W.state,!W.output||!W.input&&W.avail_in!==0||ne.status===666&&ye!==m)return D(W,W.avail_out===0?-5:b);if(ne.strm=W,ce=ne.last_flush,ne.last_flush=ye,ne.status===M)if(ne.wrap===2)W.adler=0,J(ne,31),J(ne,139),J(ne,8),ne.gzhead?(J(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),J(ne,255&ne.gzhead.time),J(ne,ne.gzhead.time>>8&255),J(ne,ne.gzhead.time>>16&255),J(ne,ne.gzhead.time>>24&255),J(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),J(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(J(ne,255&ne.gzhead.extra.length),J(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(W.adler=u(W.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(J(ne,0),J(ne,0),J(ne,0),J(ne,0),J(ne,0),J(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),J(ne,3),ne.status=B);else{var Ie=N+(ne.w_bits-8<<4)<<8;Ie|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(Ie|=32),Ie+=31-Ie%31,ne.status=B,Q(ne,Ie),ne.strstart!==0&&(Q(ne,W.adler>>>16),Q(ne,65535&W.adler)),W.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(se=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>se&&(W.adler=u(W.adler,ne.pending_buf,ne.pending-se,se)),F(W),se=ne.pending,ne.pending!==ne.pending_buf_size));)J(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>se&&(W.adler=u(W.adler,ne.pending_buf,ne.pending-se,se)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){se=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>se&&(W.adler=u(W.adler,ne.pending_buf,ne.pending-se,se)),F(W),se=ne.pending,ne.pending===ne.pending_buf_size)){fe=1;break}fe=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,J(ne,fe)}while(fe!==0);ne.gzhead.hcrc&&ne.pending>se&&(W.adler=u(W.adler,ne.pending_buf,ne.pending-se,se)),fe===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){se=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>se&&(W.adler=u(W.adler,ne.pending_buf,ne.pending-se,se)),F(W),se=ne.pending,ne.pending===ne.pending_buf_size)){fe=1;break}fe=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,J(ne,fe)}while(fe!==0);ne.gzhead.hcrc&&ne.pending>se&&(W.adler=u(W.adler,ne.pending_buf,ne.pending-se,se)),fe===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&F(W),ne.pending+2<=ne.pending_buf_size&&(J(ne,255&W.adler),J(ne,W.adler>>8&255),W.adler=0,ne.status=B)):ne.status=B),ne.pending!==0){if(F(W),W.avail_out===0)return ne.last_flush=-1,g}else if(W.avail_in===0&&K(ye)<=K(ce)&&ye!==m)return D(W,-5);if(ne.status===666&&W.avail_in!==0)return D(W,-5);if(W.avail_in!==0||ne.lookahead!==0||ye!==f&&ne.status!==666){var je=ne.strategy===2?function(be,Be){for(var $e;;){if(be.lookahead===0&&(ue(be),be.lookahead===0)){if(Be===f)return O;break}if(be.match_length=0,$e=o._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++,$e&&(V(be,!1),be.strm.avail_out===0))return O}return be.insert=0,Be===m?(V(be,!0),be.strm.avail_out===0?G:Z):be.last_lit&&(V(be,!1),be.strm.avail_out===0)?O:z}(ne,ye):ne.strategy===3?function(be,Be){for(var $e,Me,we,T,L=be.window;;){if(be.lookahead<=$){if(ue(be),be.lookahead<=$&&Be===f)return O;if(be.lookahead===0)break}if(be.match_length=0,be.lookahead>=I&&0<be.strstart&&(Me=L[we=be.strstart-1])===L[++we]&&Me===L[++we]&&Me===L[++we]){T=be.strstart+$;do;while(Me===L[++we]&&Me===L[++we]&&Me===L[++we]&&Me===L[++we]&&Me===L[++we]&&Me===L[++we]&&Me===L[++we]&&Me===L[++we]&&we<T);be.match_length=$-(T-we),be.match_length>be.lookahead&&(be.match_length=be.lookahead)}if(be.match_length>=I?($e=o._tr_tally(be,1,be.match_length-I),be.lookahead-=be.match_length,be.strstart+=be.match_length,be.match_length=0):($e=o._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++),$e&&(V(be,!1),be.strm.avail_out===0))return O}return be.insert=0,Be===m?(V(be,!0),be.strm.avail_out===0?G:Z):be.last_lit&&(V(be,!1),be.strm.avail_out===0)?O:z}(ne,ye):a[ne.level].func(ne,ye);if(je!==G&&je!==Z||(ne.status=666),je===O||je===G)return W.avail_out===0&&(ne.last_flush=-1),g;if(je===z&&(ye===1?o._tr_align(ne):ye!==5&&(o._tr_stored_block(ne,0,0,!1),ye===3&&(ee(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),F(W),W.avail_out===0))return ne.last_flush=-1,g}return ye!==m?g:ne.wrap<=0?1:(ne.wrap===2?(J(ne,255&W.adler),J(ne,W.adler>>8&255),J(ne,W.adler>>16&255),J(ne,W.adler>>24&255),J(ne,255&W.total_in),J(ne,W.total_in>>8&255),J(ne,W.total_in>>16&255),J(ne,W.total_in>>24&255)):(Q(ne,W.adler>>>16),Q(ne,65535&W.adler)),F(W),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?g:1)},s.deflateEnd=function(W){var ye;return W&&W.state?(ye=W.state.status)!==M&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==B&&ye!==666?D(W,b):(W.state=null,ye===B?D(W,-3):g):b},s.deflateSetDictionary=function(W,ye){var ce,ne,se,fe,Ie,je,be,Be,$e=ye.length;if(!W||!W.state||(fe=(ce=W.state).wrap)===2||fe===1&&ce.status!==M||ce.lookahead)return b;for(fe===1&&(W.adler=c(W.adler,ye,$e,0)),ce.wrap=0,$e>=ce.w_size&&(fe===0&&(ee(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Be=new i.Buf8(ce.w_size),i.arraySet(Be,ye,$e-ce.w_size,ce.w_size,0),ye=Be,$e=ce.w_size),Ie=W.avail_in,je=W.next_in,be=W.input,W.avail_in=$e,W.next_in=0,W.input=ye,ue(ce);ce.lookahead>=I;){for(ne=ce.strstart,se=ce.lookahead-(I-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ne+I-1])&ce.hash_mask,ce.prev[ne&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ne,ne++,--se;);ce.strstart=ne,ce.lookahead=I-1,ue(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=I-1,ce.match_available=0,W.next_in=je,W.input=be,W.avail_in=Ie,ce.wrap=fe,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(a,i){var o,c,u,h,f,m,g,b,y,w,x,N,E,C,k,A,_,P,I,$,H,M,B,O,z;o=a.state,c=a.next_in,O=a.input,u=c+(a.avail_in-5),h=a.next_out,z=a.output,f=h-(i-a.avail_out),m=h+(a.avail_out-257),g=o.dmax,b=o.wsize,y=o.whave,w=o.wnext,x=o.window,N=o.hold,E=o.bits,C=o.lencode,k=o.distcode,A=(1<<o.lenbits)-1,_=(1<<o.distbits)-1;e:do{E<15&&(N+=O[c++]<<E,E+=8,N+=O[c++]<<E,E+=8),P=C[N&A];t:for(;;){if(N>>>=I=P>>>24,E-=I,(I=P>>>16&255)===0)z[h++]=65535&P;else{if(!(16&I)){if((64&I)==0){P=C[(65535&P)+(N&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}$=65535&P,(I&=15)&&(E<I&&(N+=O[c++]<<E,E+=8),$+=N&(1<<I)-1,N>>>=I,E-=I),E<15&&(N+=O[c++]<<E,E+=8,N+=O[c++]<<E,E+=8),P=k[N&_];n:for(;;){if(N>>>=I=P>>>24,E-=I,!(16&(I=P>>>16&255))){if((64&I)==0){P=k[(65535&P)+(N&(1<<I)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(H=65535&P,E<(I&=15)&&(N+=O[c++]<<E,(E+=8)<I&&(N+=O[c++]<<E,E+=8)),g<(H+=N&(1<<I)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(N>>>=I,E-=I,(I=h-f)<H){if(y<(I=H-I)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(B=x,(M=0)===w){if(M+=b-I,I<$){for($-=I;z[h++]=x[M++],--I;);M=h-H,B=z}}else if(w<I){if(M+=b+w-I,(I-=w)<$){for($-=I;z[h++]=x[M++],--I;);if(M=0,w<$){for($-=I=w;z[h++]=x[M++],--I;);M=h-H,B=z}}}else if(M+=w-I,I<$){for($-=I;z[h++]=x[M++],--I;);M=h-H,B=z}for(;2<$;)z[h++]=B[M++],z[h++]=B[M++],z[h++]=B[M++],$-=3;$&&(z[h++]=B[M++],1<$&&(z[h++]=B[M++]))}else{for(M=h-H;z[h++]=z[M++],z[h++]=z[M++],z[h++]=z[M++],2<($-=3););$&&(z[h++]=z[M++],1<$&&(z[h++]=z[M++]))}break}}break}}while(c<u&&h<m);c-=$=E>>3,N&=(1<<(E-=$<<3))-1,a.next_in=c,a.next_out=h,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=h<m?m-h+257:257-(h-m),o.hold=N,o.bits=E}},{}],49:[function(n,r,s){var a=n("../utils/common"),i=n("./adler32"),o=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),h=1,f=2,m=0,g=-2,b=1,y=852,w=592;function x(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(M){var B;return M&&M.state?(B=M.state,M.total_in=M.total_out=B.total=0,M.msg="",B.wrap&&(M.adler=1&B.wrap),B.mode=b,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new a.Buf32(y),B.distcode=B.distdyn=new a.Buf32(w),B.sane=1,B.back=-1,m):g}function C(M){var B;return M&&M.state?((B=M.state).wsize=0,B.whave=0,B.wnext=0,E(M)):g}function k(M,B){var O,z;return M&&M.state?(z=M.state,B<0?(O=0,B=-B):(O=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?g:(z.window!==null&&z.wbits!==B&&(z.window=null),z.wrap=O,z.wbits=B,C(M))):g}function A(M,B){var O,z;return M?(z=new N,(M.state=z).window=null,(O=k(M,B))!==m&&(M.state=null),O):g}var _,P,I=!0;function $(M){if(I){var B;for(_=new a.Buf32(512),P=new a.Buf32(32),B=0;B<144;)M.lens[B++]=8;for(;B<256;)M.lens[B++]=9;for(;B<280;)M.lens[B++]=7;for(;B<288;)M.lens[B++]=8;for(u(h,M.lens,0,288,_,0,M.work,{bits:9}),B=0;B<32;)M.lens[B++]=5;u(f,M.lens,0,32,P,0,M.work,{bits:5}),I=!1}M.lencode=_,M.lenbits=9,M.distcode=P,M.distbits=5}function H(M,B,O,z){var G,Z=M.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new a.Buf8(Z.wsize)),z>=Z.wsize?(a.arraySet(Z.window,B,O-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(z<(G=Z.wsize-Z.wnext)&&(G=z),a.arraySet(Z.window,B,O-z,G,Z.wnext),(z-=G)?(a.arraySet(Z.window,B,O-z,z,0),Z.wnext=z,Z.whave=Z.wsize):(Z.wnext+=G,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=G))),0}s.inflateReset=C,s.inflateReset2=k,s.inflateResetKeep=E,s.inflateInit=function(M){return A(M,15)},s.inflateInit2=A,s.inflate=function(M,B){var O,z,G,Z,D,K,ee,F,V,J,Q,ae,ue,re,ie,me,oe,he,Ne,Re,W,ye,ce,ne,se=0,fe=new a.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return g;(O=M.state).mode===12&&(O.mode=13),D=M.next_out,G=M.output,ee=M.avail_out,Z=M.next_in,z=M.input,K=M.avail_in,F=O.hold,V=O.bits,J=K,Q=ee,ye=m;e:for(;;)switch(O.mode){case b:if(O.wrap===0){O.mode=13;break}for(;V<16;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(2&O.wrap&&F===35615){fe[O.check=0]=255&F,fe[1]=F>>>8&255,O.check=o(O.check,fe,2,0),V=F=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&F)<<8)+(F>>8))%31){M.msg="incorrect header check",O.mode=30;break}if((15&F)!=8){M.msg="unknown compression method",O.mode=30;break}if(V-=4,W=8+(15&(F>>>=4)),O.wbits===0)O.wbits=W;else if(W>O.wbits){M.msg="invalid window size",O.mode=30;break}O.dmax=1<<W,M.adler=O.check=1,O.mode=512&F?10:12,V=F=0;break;case 2:for(;V<16;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(O.flags=F,(255&O.flags)!=8){M.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){M.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=F>>8&1),512&O.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,O.check=o(O.check,fe,2,0)),V=F=0,O.mode=3;case 3:for(;V<32;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}O.head&&(O.head.time=F),512&O.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,fe[2]=F>>>16&255,fe[3]=F>>>24&255,O.check=o(O.check,fe,4,0)),V=F=0,O.mode=4;case 4:for(;V<16;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}O.head&&(O.head.xflags=255&F,O.head.os=F>>8),512&O.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,O.check=o(O.check,fe,2,0)),V=F=0,O.mode=5;case 5:if(1024&O.flags){for(;V<16;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}O.length=F,O.head&&(O.head.extra_len=F),512&O.flags&&(fe[0]=255&F,fe[1]=F>>>8&255,O.check=o(O.check,fe,2,0)),V=F=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(K<(ae=O.length)&&(ae=K),ae&&(O.head&&(W=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),a.arraySet(O.head.extra,z,Z,ae,W)),512&O.flags&&(O.check=o(O.check,z,ae,Z)),K-=ae,Z+=ae,O.length-=ae),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(K===0)break e;for(ae=0;W=z[Z+ae++],O.head&&W&&O.length<65536&&(O.head.name+=String.fromCharCode(W)),W&&ae<K;);if(512&O.flags&&(O.check=o(O.check,z,ae,Z)),K-=ae,Z+=ae,W)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(K===0)break e;for(ae=0;W=z[Z+ae++],O.head&&W&&O.length<65536&&(O.head.comment+=String.fromCharCode(W)),W&&ae<K;);if(512&O.flags&&(O.check=o(O.check,z,ae,Z)),K-=ae,Z+=ae,W)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;V<16;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(F!==(65535&O.check)){M.msg="header crc mismatch",O.mode=30;break}V=F=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),M.adler=O.check=0,O.mode=12;break;case 10:for(;V<32;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}M.adler=O.check=x(F),V=F=0,O.mode=11;case 11:if(O.havedict===0)return M.next_out=D,M.avail_out=ee,M.next_in=Z,M.avail_in=K,O.hold=F,O.bits=V,2;M.adler=O.check=1,O.mode=12;case 12:if(B===5||B===6)break e;case 13:if(O.last){F>>>=7&V,V-=7&V,O.mode=27;break}for(;V<3;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}switch(O.last=1&F,V-=1,3&(F>>>=1)){case 0:O.mode=14;break;case 1:if($(O),O.mode=20,B!==6)break;F>>>=2,V-=2;break e;case 2:O.mode=17;break;case 3:M.msg="invalid block type",O.mode=30}F>>>=2,V-=2;break;case 14:for(F>>>=7&V,V-=7&V;V<32;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if((65535&F)!=(F>>>16^65535)){M.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&F,V=F=0,O.mode=15,B===6)break e;case 15:O.mode=16;case 16:if(ae=O.length){if(K<ae&&(ae=K),ee<ae&&(ae=ee),ae===0)break e;a.arraySet(G,z,Z,ae,D),K-=ae,Z+=ae,ee-=ae,D+=ae,O.length-=ae;break}O.mode=12;break;case 17:for(;V<14;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(O.nlen=257+(31&F),F>>>=5,V-=5,O.ndist=1+(31&F),F>>>=5,V-=5,O.ncode=4+(15&F),F>>>=4,V-=4,286<O.nlen||30<O.ndist){M.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;V<3;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}O.lens[Ie[O.have++]]=7&F,F>>>=3,V-=3}for(;O.have<19;)O.lens[Ie[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ce={bits:O.lenbits},ye=u(0,O.lens,0,19,O.lencode,0,O.work,ce),O.lenbits=ce.bits,ye){M.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;me=(se=O.lencode[F&(1<<O.lenbits)-1])>>>16&255,oe=65535&se,!((ie=se>>>24)<=V);){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(oe<16)F>>>=ie,V-=ie,O.lens[O.have++]=oe;else{if(oe===16){for(ne=ie+2;V<ne;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(F>>>=ie,V-=ie,O.have===0){M.msg="invalid bit length repeat",O.mode=30;break}W=O.lens[O.have-1],ae=3+(3&F),F>>>=2,V-=2}else if(oe===17){for(ne=ie+3;V<ne;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}V-=ie,W=0,ae=3+(7&(F>>>=ie)),F>>>=3,V-=3}else{for(ne=ie+7;V<ne;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}V-=ie,W=0,ae=11+(127&(F>>>=ie)),F>>>=7,V-=7}if(O.have+ae>O.nlen+O.ndist){M.msg="invalid bit length repeat",O.mode=30;break}for(;ae--;)O.lens[O.have++]=W}}if(O.mode===30)break;if(O.lens[256]===0){M.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ce={bits:O.lenbits},ye=u(h,O.lens,0,O.nlen,O.lencode,0,O.work,ce),O.lenbits=ce.bits,ye){M.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ce={bits:O.distbits},ye=u(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ce),O.distbits=ce.bits,ye){M.msg="invalid distances set",O.mode=30;break}if(O.mode=20,B===6)break e;case 20:O.mode=21;case 21:if(6<=K&&258<=ee){M.next_out=D,M.avail_out=ee,M.next_in=Z,M.avail_in=K,O.hold=F,O.bits=V,c(M,Q),D=M.next_out,G=M.output,ee=M.avail_out,Z=M.next_in,z=M.input,K=M.avail_in,F=O.hold,V=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;me=(se=O.lencode[F&(1<<O.lenbits)-1])>>>16&255,oe=65535&se,!((ie=se>>>24)<=V);){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(me&&(240&me)==0){for(he=ie,Ne=me,Re=oe;me=(se=O.lencode[Re+((F&(1<<he+Ne)-1)>>he)])>>>16&255,oe=65535&se,!(he+(ie=se>>>24)<=V);){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}F>>>=he,V-=he,O.back+=he}if(F>>>=ie,V-=ie,O.back+=ie,O.length=oe,me===0){O.mode=26;break}if(32&me){O.back=-1,O.mode=12;break}if(64&me){M.msg="invalid literal/length code",O.mode=30;break}O.extra=15&me,O.mode=22;case 22:if(O.extra){for(ne=O.extra;V<ne;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}O.length+=F&(1<<O.extra)-1,F>>>=O.extra,V-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;me=(se=O.distcode[F&(1<<O.distbits)-1])>>>16&255,oe=65535&se,!((ie=se>>>24)<=V);){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if((240&me)==0){for(he=ie,Ne=me,Re=oe;me=(se=O.distcode[Re+((F&(1<<he+Ne)-1)>>he)])>>>16&255,oe=65535&se,!(he+(ie=se>>>24)<=V);){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}F>>>=he,V-=he,O.back+=he}if(F>>>=ie,V-=ie,O.back+=ie,64&me){M.msg="invalid distance code",O.mode=30;break}O.offset=oe,O.extra=15&me,O.mode=24;case 24:if(O.extra){for(ne=O.extra;V<ne;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}O.offset+=F&(1<<O.extra)-1,F>>>=O.extra,V-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){M.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(ee===0)break e;if(ae=Q-ee,O.offset>ae){if((ae=O.offset-ae)>O.whave&&O.sane){M.msg="invalid distance too far back",O.mode=30;break}ue=ae>O.wnext?(ae-=O.wnext,O.wsize-ae):O.wnext-ae,ae>O.length&&(ae=O.length),re=O.window}else re=G,ue=D-O.offset,ae=O.length;for(ee<ae&&(ae=ee),ee-=ae,O.length-=ae;G[D++]=re[ue++],--ae;);O.length===0&&(O.mode=21);break;case 26:if(ee===0)break e;G[D++]=O.length,ee--,O.mode=21;break;case 27:if(O.wrap){for(;V<32;){if(K===0)break e;K--,F|=z[Z++]<<V,V+=8}if(Q-=ee,M.total_out+=Q,O.total+=Q,Q&&(M.adler=O.check=O.flags?o(O.check,G,Q,D-Q):i(O.check,G,Q,D-Q)),Q=ee,(O.flags?F:x(F))!==O.check){M.msg="incorrect data check",O.mode=30;break}V=F=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;V<32;){if(K===0)break e;K--,F+=z[Z++]<<V,V+=8}if(F!==(4294967295&O.total)){M.msg="incorrect length check",O.mode=30;break}V=F=0}O.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return g}return M.next_out=D,M.avail_out=ee,M.next_in=Z,M.avail_in=K,O.hold=F,O.bits=V,(O.wsize||Q!==M.avail_out&&O.mode<30&&(O.mode<27||B!==4))&&H(M,M.output,M.next_out,Q-M.avail_out)?(O.mode=31,-4):(J-=M.avail_in,Q-=M.avail_out,M.total_in+=J,M.total_out+=Q,O.total+=Q,O.wrap&&Q&&(M.adler=O.check=O.flags?o(O.check,G,Q,M.next_out-Q):i(O.check,G,Q,M.next_out-Q)),M.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(J==0&&Q===0||B===4)&&ye===m&&(ye=-5),ye)},s.inflateEnd=function(M){if(!M||!M.state)return g;var B=M.state;return B.window&&(B.window=null),M.state=null,m},s.inflateGetHeader=function(M,B){var O;return M&&M.state?(2&(O=M.state).wrap)==0?g:((O.head=B).done=!1,m):g},s.inflateSetDictionary=function(M,B){var O,z=B.length;return M&&M.state?(O=M.state).wrap!==0&&O.mode!==11?g:O.mode===11&&i(1,B,z,0)!==O.check?-3:H(M,B,z,z)?(O.mode=31,-4):(O.havedict=1,m):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var a=n("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,f,m,g,b,y,w,x){var N,E,C,k,A,_,P,I,$,H=x.bits,M=0,B=0,O=0,z=0,G=0,Z=0,D=0,K=0,ee=0,F=0,V=null,J=0,Q=new a.Buf16(16),ae=new a.Buf16(16),ue=null,re=0;for(M=0;M<=15;M++)Q[M]=0;for(B=0;B<g;B++)Q[f[m+B]]++;for(G=H,z=15;1<=z&&Q[z]===0;z--);if(z<G&&(G=z),z===0)return b[y++]=20971520,b[y++]=20971520,x.bits=1,0;for(O=1;O<z&&Q[O]===0;O++);for(G<O&&(G=O),M=K=1;M<=15;M++)if(K<<=1,(K-=Q[M])<0)return-1;if(0<K&&(h===0||z!==1))return-1;for(ae[1]=0,M=1;M<15;M++)ae[M+1]=ae[M]+Q[M];for(B=0;B<g;B++)f[m+B]!==0&&(w[ae[f[m+B]]++]=B);if(_=h===0?(V=ue=w,19):h===1?(V=i,J-=257,ue=o,re-=257,256):(V=c,ue=u,-1),M=O,A=y,D=B=F=0,C=-1,k=(ee=1<<(Z=G))-1,h===1&&852<ee||h===2&&592<ee)return 1;for(;;){for(P=M-D,$=w[B]<_?(I=0,w[B]):w[B]>_?(I=ue[re+w[B]],V[J+w[B]]):(I=96,0),N=1<<M-D,O=E=1<<Z;b[A+(F>>D)+(E-=N)]=P<<24|I<<16|$|0,E!==0;);for(N=1<<M-1;F&N;)N>>=1;if(N!==0?(F&=N-1,F+=N):F=0,B++,--Q[M]==0){if(M===z)break;M=f[m+w[B]]}if(G<M&&(F&k)!==C){for(D===0&&(D=G),A+=O,K=1<<(Z=M-D);Z+D<z&&!((K-=Q[Z+D])<=0);)Z++,K<<=1;if(ee+=1<<Z,h===1&&852<ee||h===2&&592<ee)return 1;b[C=F&k]=G<<24|Z<<16|A-y|0}}return F!==0&&(b[A+F]=M-D<<24|64<<16|0),x.bits=G,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var a=n("../utils/common"),i=0,o=1;function c(se){for(var fe=se.length;0<=--fe;)se[fe]=0}var u=0,h=29,f=256,m=f+1+h,g=30,b=19,y=2*m+1,w=15,x=16,N=7,E=256,C=16,k=17,A=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(m+2));c(H);var M=new Array(2*g);c(M);var B=new Array(512);c(B);var O=new Array(256);c(O);var z=new Array(h);c(z);var G,Z,D,K=new Array(g);function ee(se,fe,Ie,je,be){this.static_tree=se,this.extra_bits=fe,this.extra_base=Ie,this.elems=je,this.max_length=be,this.has_stree=se&&se.length}function F(se,fe){this.dyn_tree=se,this.max_code=0,this.stat_desc=fe}function V(se){return se<256?B[se]:B[256+(se>>>7)]}function J(se,fe){se.pending_buf[se.pending++]=255&fe,se.pending_buf[se.pending++]=fe>>>8&255}function Q(se,fe,Ie){se.bi_valid>x-Ie?(se.bi_buf|=fe<<se.bi_valid&65535,J(se,se.bi_buf),se.bi_buf=fe>>x-se.bi_valid,se.bi_valid+=Ie-x):(se.bi_buf|=fe<<se.bi_valid&65535,se.bi_valid+=Ie)}function ae(se,fe,Ie){Q(se,Ie[2*fe],Ie[2*fe+1])}function ue(se,fe){for(var Ie=0;Ie|=1&se,se>>>=1,Ie<<=1,0<--fe;);return Ie>>>1}function re(se,fe,Ie){var je,be,Be=new Array(w+1),$e=0;for(je=1;je<=w;je++)Be[je]=$e=$e+Ie[je-1]<<1;for(be=0;be<=fe;be++){var Me=se[2*be+1];Me!==0&&(se[2*be]=ue(Be[Me]++,Me))}}function ie(se){var fe;for(fe=0;fe<m;fe++)se.dyn_ltree[2*fe]=0;for(fe=0;fe<g;fe++)se.dyn_dtree[2*fe]=0;for(fe=0;fe<b;fe++)se.bl_tree[2*fe]=0;se.dyn_ltree[2*E]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function me(se){8<se.bi_valid?J(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function oe(se,fe,Ie,je){var be=2*fe,Be=2*Ie;return se[be]<se[Be]||se[be]===se[Be]&&je[fe]<=je[Ie]}function he(se,fe,Ie){for(var je=se.heap[Ie],be=Ie<<1;be<=se.heap_len&&(be<se.heap_len&&oe(fe,se.heap[be+1],se.heap[be],se.depth)&&be++,!oe(fe,je,se.heap[be],se.depth));)se.heap[Ie]=se.heap[be],Ie=be,be<<=1;se.heap[Ie]=je}function Ne(se,fe,Ie){var je,be,Be,$e,Me=0;if(se.last_lit!==0)for(;je=se.pending_buf[se.d_buf+2*Me]<<8|se.pending_buf[se.d_buf+2*Me+1],be=se.pending_buf[se.l_buf+Me],Me++,je===0?ae(se,be,fe):(ae(se,(Be=O[be])+f+1,fe),($e=_[Be])!==0&&Q(se,be-=z[Be],$e),ae(se,Be=V(--je),Ie),($e=P[Be])!==0&&Q(se,je-=K[Be],$e)),Me<se.last_lit;);ae(se,E,fe)}function Re(se,fe){var Ie,je,be,Be=fe.dyn_tree,$e=fe.stat_desc.static_tree,Me=fe.stat_desc.has_stree,we=fe.stat_desc.elems,T=-1;for(se.heap_len=0,se.heap_max=y,Ie=0;Ie<we;Ie++)Be[2*Ie]!==0?(se.heap[++se.heap_len]=T=Ie,se.depth[Ie]=0):Be[2*Ie+1]=0;for(;se.heap_len<2;)Be[2*(be=se.heap[++se.heap_len]=T<2?++T:0)]=1,se.depth[be]=0,se.opt_len--,Me&&(se.static_len-=$e[2*be+1]);for(fe.max_code=T,Ie=se.heap_len>>1;1<=Ie;Ie--)he(se,Be,Ie);for(be=we;Ie=se.heap[1],se.heap[1]=se.heap[se.heap_len--],he(se,Be,1),je=se.heap[1],se.heap[--se.heap_max]=Ie,se.heap[--se.heap_max]=je,Be[2*be]=Be[2*Ie]+Be[2*je],se.depth[be]=(se.depth[Ie]>=se.depth[je]?se.depth[Ie]:se.depth[je])+1,Be[2*Ie+1]=Be[2*je+1]=be,se.heap[1]=be++,he(se,Be,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],function(L,q){var le,ge,Ce,Ae,rt,kt,ot=q.dyn_tree,Ct=q.max_code,nt=q.stat_desc.static_tree,Zt=q.stat_desc.has_stree,Ht=q.stat_desc.extra_bits,Bn=q.stat_desc.extra_base,En=q.stat_desc.max_length,Ur=0;for(Ae=0;Ae<=w;Ae++)L.bl_count[Ae]=0;for(ot[2*L.heap[L.heap_max]+1]=0,le=L.heap_max+1;le<y;le++)En<(Ae=ot[2*ot[2*(ge=L.heap[le])+1]+1]+1)&&(Ae=En,Ur++),ot[2*ge+1]=Ae,Ct<ge||(L.bl_count[Ae]++,rt=0,Bn<=ge&&(rt=Ht[ge-Bn]),kt=ot[2*ge],L.opt_len+=kt*(Ae+rt),Zt&&(L.static_len+=kt*(nt[2*ge+1]+rt)));if(Ur!==0){do{for(Ae=En-1;L.bl_count[Ae]===0;)Ae--;L.bl_count[Ae]--,L.bl_count[Ae+1]+=2,L.bl_count[En]--,Ur-=2}while(0<Ur);for(Ae=En;Ae!==0;Ae--)for(ge=L.bl_count[Ae];ge!==0;)Ct<(Ce=L.heap[--le])||(ot[2*Ce+1]!==Ae&&(L.opt_len+=(Ae-ot[2*Ce+1])*ot[2*Ce],ot[2*Ce+1]=Ae),ge--)}}(se,fe),re(Be,T,se.bl_count)}function W(se,fe,Ie){var je,be,Be=-1,$e=fe[1],Me=0,we=7,T=4;for($e===0&&(we=138,T=3),fe[2*(Ie+1)+1]=65535,je=0;je<=Ie;je++)be=$e,$e=fe[2*(je+1)+1],++Me<we&&be===$e||(Me<T?se.bl_tree[2*be]+=Me:be!==0?(be!==Be&&se.bl_tree[2*be]++,se.bl_tree[2*C]++):Me<=10?se.bl_tree[2*k]++:se.bl_tree[2*A]++,Be=be,T=(Me=0)===$e?(we=138,3):be===$e?(we=6,3):(we=7,4))}function ye(se,fe,Ie){var je,be,Be=-1,$e=fe[1],Me=0,we=7,T=4;for($e===0&&(we=138,T=3),je=0;je<=Ie;je++)if(be=$e,$e=fe[2*(je+1)+1],!(++Me<we&&be===$e)){if(Me<T)for(;ae(se,be,se.bl_tree),--Me!=0;);else be!==0?(be!==Be&&(ae(se,be,se.bl_tree),Me--),ae(se,C,se.bl_tree),Q(se,Me-3,2)):Me<=10?(ae(se,k,se.bl_tree),Q(se,Me-3,3)):(ae(se,A,se.bl_tree),Q(se,Me-11,7));Be=be,T=(Me=0)===$e?(we=138,3):be===$e?(we=6,3):(we=7,4)}}c(K);var ce=!1;function ne(se,fe,Ie,je){Q(se,(u<<1)+(je?1:0),3),function(be,Be,$e,Me){me(be),J(be,$e),J(be,~$e),a.arraySet(be.pending_buf,be.window,Be,$e,be.pending),be.pending+=$e}(se,fe,Ie)}s._tr_init=function(se){ce||(function(){var fe,Ie,je,be,Be,$e=new Array(w+1);for(be=je=0;be<h-1;be++)for(z[be]=je,fe=0;fe<1<<_[be];fe++)O[je++]=be;for(O[je-1]=be,be=Be=0;be<16;be++)for(K[be]=Be,fe=0;fe<1<<P[be];fe++)B[Be++]=be;for(Be>>=7;be<g;be++)for(K[be]=Be<<7,fe=0;fe<1<<P[be]-7;fe++)B[256+Be++]=be;for(Ie=0;Ie<=w;Ie++)$e[Ie]=0;for(fe=0;fe<=143;)H[2*fe+1]=8,fe++,$e[8]++;for(;fe<=255;)H[2*fe+1]=9,fe++,$e[9]++;for(;fe<=279;)H[2*fe+1]=7,fe++,$e[7]++;for(;fe<=287;)H[2*fe+1]=8,fe++,$e[8]++;for(re(H,m+1,$e),fe=0;fe<g;fe++)M[2*fe+1]=5,M[2*fe]=ue(fe,5);G=new ee(H,_,f+1,m,w),Z=new ee(M,P,0,g,w),D=new ee(new Array(0),I,0,b,N)}(),ce=!0),se.l_desc=new F(se.dyn_ltree,G),se.d_desc=new F(se.dyn_dtree,Z),se.bl_desc=new F(se.bl_tree,D),se.bi_buf=0,se.bi_valid=0,ie(se)},s._tr_stored_block=ne,s._tr_flush_block=function(se,fe,Ie,je){var be,Be,$e=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=function(Me){var we,T=4093624447;for(we=0;we<=31;we++,T>>>=1)if(1&T&&Me.dyn_ltree[2*we]!==0)return i;if(Me.dyn_ltree[18]!==0||Me.dyn_ltree[20]!==0||Me.dyn_ltree[26]!==0)return o;for(we=32;we<f;we++)if(Me.dyn_ltree[2*we]!==0)return o;return i}(se)),Re(se,se.l_desc),Re(se,se.d_desc),$e=function(Me){var we;for(W(Me,Me.dyn_ltree,Me.l_desc.max_code),W(Me,Me.dyn_dtree,Me.d_desc.max_code),Re(Me,Me.bl_desc),we=b-1;3<=we&&Me.bl_tree[2*$[we]+1]===0;we--);return Me.opt_len+=3*(we+1)+5+5+4,we}(se),be=se.opt_len+3+7>>>3,(Be=se.static_len+3+7>>>3)<=be&&(be=Be)):be=Be=Ie+5,Ie+4<=be&&fe!==-1?ne(se,fe,Ie,je):se.strategy===4||Be===be?(Q(se,2+(je?1:0),3),Ne(se,H,M)):(Q(se,4+(je?1:0),3),function(Me,we,T,L){var q;for(Q(Me,we-257,5),Q(Me,T-1,5),Q(Me,L-4,4),q=0;q<L;q++)Q(Me,Me.bl_tree[2*$[q]+1],3);ye(Me,Me.dyn_ltree,we-1),ye(Me,Me.dyn_dtree,T-1)}(se,se.l_desc.max_code+1,se.d_desc.max_code+1,$e+1),Ne(se,se.dyn_ltree,se.dyn_dtree)),ie(se),je&&me(se)},s._tr_tally=function(se,fe,Ie){return se.pending_buf[se.d_buf+2*se.last_lit]=fe>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&fe,se.pending_buf[se.l_buf+se.last_lit]=255&Ie,se.last_lit++,fe===0?se.dyn_ltree[2*Ie]++:(se.matches++,fe--,se.dyn_ltree[2*(O[Ie]+f+1)]++,se.dyn_dtree[2*V(fe)]++),se.last_lit===se.lit_bufsize-1},s._tr_align=function(se){Q(se,2,3),ae(se,E,H),function(fe){fe.bi_valid===16?(J(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(se)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(a){(function(i,o){if(!i.setImmediate){var c,u,h,f,m=1,g={},b=!1,y=i.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(i);w=w&&w.setTimeout?w:i,c={}.toString.call(i.process)==="[object process]"?function(C){process.nextTick(function(){N(C)})}:function(){if(i.postMessage&&!i.importScripts){var C=!0,k=i.onmessage;return i.onmessage=function(){C=!1},i.postMessage("","*"),i.onmessage=k,C}}()?(f="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",E,!1):i.attachEvent("onmessage",E),function(C){i.postMessage(f+C,"*")}):i.MessageChannel?((h=new MessageChannel).port1.onmessage=function(C){N(C.data)},function(C){h.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(C){var k=y.createElement("script");k.onreadystatechange=function(){N(C),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(C){setTimeout(N,0,C)},w.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),A=0;A<k.length;A++)k[A]=arguments[A+1];var _={callback:C,args:k};return g[m]=_,c(m),m++},w.clearImmediate=x}function x(C){delete g[C]}function N(C){if(b)setTimeout(N,0,C);else{var k=g[C];if(k){b=!0;try{(function(A){var _=A.callback,P=A.args;switch(P.length){case 0:_();break;case 1:_(P[0]);break;case 2:_(P[0],P[1]);break;case 3:_(P[0],P[1],P[2]);break;default:_.apply(o,P)}})(k)}finally{x(C),b=!1}}}}function E(C){C.source===i&&typeof C.data=="string"&&C.data.indexOf(f)===0&&N(+C.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(p9)),p9.exports}var mve=pve();const gve=xp(mve),AE=({collection:t})=>{const[e,n]=j.useState({metadataReady:!1,bannerReady:!1,nftsReady:!1,phasesReady:!1,whitelistReady:!1,allReady:!1}),[r,s]=j.useState(!1),[a,i]=j.useState(!1),[o,c]=j.useState(0),[u,h]=j.useState(!1),[f,m]=j.useState({visible:!1,message:"",txHash:""}),[g,b]=j.useState(""),[y,w]=j.useState(!1),[x,N]=j.useState(!1),[E,C]=j.useState(!1),[k,A]=j.useState(!1),[_,P]=j.useState(!1),I=j.useRef(null),$=Xr(),{switchNetwork:H}=yo();j.useEffect(()=>{if(f.visible){const J=setTimeout(()=>m(Q=>({...Q,visible:!1})),5e3);return()=>clearTimeout(J)}},[f.visible]),j.useEffect(()=>{if(r){const J=document.querySelector('[data-modal="launch-checklist"]');J&&J.focus()}},[r]),j.useEffect(()=>{const J=Q=>{Q.key==="Escape"&&r&&s(!1)};if(r)return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]);const M=(J,Q="")=>{m({visible:!0,message:J,txHash:Q})},B=(J,Q)=>{try{const ae=JSON.parse(J);return ae!==void 0?ae:Q}catch{return Q}},O=async(J,Q,ae)=>{const ue=Q.length;let re=0,ie=!0;Object.values(ae).forEach(Re=>{re+=Number(Re.allocated)||0}),re!==ue&&(ie=!1);let me=!0;["Whitelist","FCFS"].forEach(Re=>{const W=ae[Re];if(W&&Number(W.allocated)>0){const ye=B(localStorage.getItem(`${J.address}_${Re}_whitelist`),[]);(!Array.isArray(ye)||ye.length<Number(W.allocated))&&(me=!1)}});const oe=localStorage.getItem(`collection_${J.address}_banner`);let he=!!(J.metadata||J.metadataContent);const Ne=localStorage.getItem(`collection_${J.address}_metadata`);Ne&&(he=!0,console.log("✅ Found metadata in localStorage"));try{const Re=new In("https://dream-rpc.somnia.network/"),W=new Pt(J.address,Rn,Re),ye=await W.contractURI();ye&&ye!==""&&(he=!0,console.log("✅ Found contractURI in blockchain:",ye));const ce=await W.baseTokenURI();ce&&ce!==""&&(he=!0,console.log("✅ Found baseTokenURI in blockchain:",ce))}catch(Re){console.log("Could not check blockchain metadata:",Re.message)}return console.log("🔍 Metadata check result:",{hasMetadata:he,hasLocalMetadata:!!J.metadata,hasMetadataContent:!!J.metadataContent,hasLocalStorageMetadata:!!Ne}),{metadataReady:he,bannerReady:!!oe,nftsReady:Array.isArray(Q)&&Q.length>0,phasesReady:ae&&Object.keys(ae).length>0&&ie,whitelistReady:me}},z=async(J,Q)=>{try{const ae=new In("https://dream-rpc.somnia.network/"),ue=new Pt(J.address,Rn,ae);let re=!1,ie=0,me=!1;try{const oe=await ue.baseTokenURI();if(re=oe&&oe!=="",re){ie=await ue.totalSupply();const he=Math.floor(Date.now()/1e3);Q&&Object.keys(Q).length>0&&(me=Object.values(Q).some(Ne=>{if(!Ne.start||!Ne.end)return!1;const Re=Math.floor(new Date(Ne.start).getTime()/1e3),W=Math.floor(new Date(Ne.end).getTime()/1e3);return he>=Re&&he<=W}));try{if(typeof ue.isSaleActive=="function"){const Ne=await ue.isSaleActive();me=me||Ne}}catch(Ne){console.log("Could not check isSaleActive:",Ne.message)}try{await ue.revealed()&&ie>0&&me?me=!0:me=!1}catch(Ne){console.log("Could not check revealed status:",Ne.message)}}}catch(oe){console.log("Error checking blockchain status:",oe.message)}return console.log("🔍 Blockchain status check result:",{address:J.address,isInitialized:re,totalMinted:Number(ie),hasActivePhase:me,phasesCount:Q?Object.keys(Q).length:0,currentPath:window.location.pathname}),{isInitialized:re,totalMinted:Number(ie),isSaleActive:me,canResume:re&&!me}}catch(ae){return console.error("Error checking blockchain status:",ae),{isInitialized:!1,totalMinted:0,isSaleActive:!1,canResume:!1}}},G=async J=>{try{const Q=new In("https://dream-rpc.somnia.network/"),ae=new Pt(J.address,Rn,Q),ue=await ae.baseTokenURI(),re=await ae.maxSupply(),ie=await ae.contractURI();let me=0;try{typeof ae.getPhasesCount=="function"?me=await ae.getPhasesCount():me=0}catch(ye){console.log("Could not get phases count from contract:",ye.message),me=0}const oe=B(localStorage.getItem(`phases_${J.address}`),{}),he=Object.values(oe).filter(ye=>ye.active).length,Ne=[];ue||Ne.push("Set baseURI"),(!re||re===0)&&Ne.push("Set maxSupply"),ie||Ne.push("Set contractURI"),Number(me)<he&&Ne.push(`Add ${he-Number(me)} phases`);const Re=Ne.length>0,W=ue||re>0||ie;return{canResume:Re||W,resumeSteps:Ne}}catch(Q){return console.log("Error checking resume mode:",Q.message),{canResume:!1,resumeSteps:[]}}},Z=async()=>{N(!0);try{const J=B(localStorage.getItem(`collection_${t.address}`),null)||t,Q=B(localStorage.getItem(`collection_${J.address}_nfts`),[]),ae=B(localStorage.getItem(`phases_${J.address}`),{}),ue=await O(J,Q,ae),re=await z(J,ae);if(console.log("🔍 Sale active check:",{isSaleActive:re.isSaleActive,currentPath:window.location.pathname,isInDashboard:window.location.pathname==="/dashboard"||window.location.pathname==="/create-dreams"}),re.isSaleActive){const oe=window.location.pathname;if(oe==="/dashboard"||oe==="/create-dreams"){C(!0);return}else{C(!0),M("🔄 Sale is already active! Redirecting to collection page..."),setTimeout(()=>$(`/launchpad/collection/${J.address}`),2e3);return}}re.isInitialized&&!re.isSaleActive&&console.log("✅ Collection is initialized but sale is not active - showing resume button");let ie={canResume:!1,resumeSteps:[]};re.isInitialized&&(ie=await G(J));const me={...ue,blockchainStatus:re,resumeInfo:ie};return me.canLaunch=!re.isInitialized&&Object.values(ue).every(Boolean),me.allReady=me.canLaunch||re.isInitialized&&ie.canResume||re.isInitialized&&!re.isSaleActive||ie.canResume,console.log("🎯 Final checks result:",{address:J.address,canLaunch:me.canLaunch,isInitialized:re.isInitialized,canResume:ie.canResume,isSaleActive:re.isSaleActive,allReady:me.allReady,basicChecks:Object.values(ue),resumeSteps:ie.resumeSteps}),console.log("🎯 Button visibility logic:",{canLaunch:me.canLaunch,isInitializedAndCanResume:re.isInitialized&&ie.canResume,isInitializedAndNotActive:re.isInitialized&&!re.isSaleActive,resumeInfoCanResume:ie.canResume,finalAllReady:me.allReady}),n(me),me}finally{N(!1)}},D=async(J,Q,ae=3)=>{for(let ue=0;ue<ae;ue++)try{if(y)throw new Error("Operation cancelled");return await fetch(J,Q)}catch(re){if(ue===ae-1)throw re;await new Promise(ie=>setTimeout(ie,1e3*(ue+1)))}},K=()=>{try{const J=typeof window<"u",Q=J&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),ae=J&&String(window.location.port)==="5173";if(Q&&ae)return"";const ue="http://localhost:3000";if(ue&&typeof ue=="string"&&ue.trim()){const re=ue.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(re))return re}}catch{}return""},ee=J=>{const Q=K(),ae=J.startsWith("/")?J:`/${J}`;return Q?`${Q}${ae}`:ae},F=()=>{i(!1),c(0),b(""),w(!1),I.current&&(I.current.abort(),I.current=null)},V=async()=>{let J=null;try{i(!0),c(10),b("Checking collection data..."),I.current=new AbortController;const Q=B(localStorage.getItem(`collection_${t.address}`),null)||t;if(!Q||!Q.address)throw new Error("Invalid collection data: missing address");if(!lee(Q.address))throw new Error(`Invalid contract address: ${Q.address}`);try{(await(async()=>{try{return await H?.(nl)}catch{return{success:!1}}})())?.success||await jd()}catch{M("❌ Please switch to Somnia Testnet to launch the sale"),F();return}const ae=await new wr(window.ethereum).getSigner(),ue=new Pt(Q.address,[...Rn,"function setAdmin(address user, bool enabled) external","function isAdmin(address user) view returns (bool)","function owner() view returns (address)"],ae);if(!ue)throw new Error("Failed to initialize contract");let re=!1;try{const $e=await ue.baseTokenURI();if($e&&$e!=="")if((await G(Q)).canResume)re=!0,M("🔄 Resume mode: continuing from where you left off...");else throw new Error("Collection already fully launched")}catch($e){console.log("Contract not initialized or error checking status:",$e.message)}const ie=B(localStorage.getItem(`collection_${Q.address}_nfts`),[]);if(!Array.isArray(ie)||ie.length===0)throw new Error("No NFTs found in collection");for(const $e of ie)if(!$e.image)throw new Error(`NFT ${$e.name} has no image URL`);if(!re){c(20),b("Generating metadata zip..."),J=new gve,ie.forEach((Ce,Ae)=>{const rt={name:String(Ce.name||`NFT #${Ae+1}`),description:String(Ce.description||""),image:String(Ce.image),attributes:Array.isArray(Ce.attributes)?Ce.attributes.map(kt=>({trait_type:String(kt.trait_type||""),value:String(kt.value||"")})):[]};if(!rt.image)throw new Error(`NFT ${Ae+1} has no image URL`);if(!rt.image.startsWith("ipfs://")&&!rt.image.startsWith("http"))throw new Error(`Invalid image URL format for NFT ${Ae+1}: ${rt.image}`);J.file(`${Ae}.json`,JSON.stringify(rt,null,2))});const $e=await J.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}});if($e.size>100*1024*1024)throw new Error("Metadata folder is too large (max 100MB)");c(30),b("Uploading metadata folder to IPFS...");const Me=new FormData;Me.append("folder",$e,"metadata.zip");const we=await D(ee("/api/upload-metadata-folder"),{method:"POST",body:Me,signal:I.current.signal});if(!we.ok){const Ce=await we.json();throw new Error(Ce.error||"Metadata folder upload failed")}const T=await we.json();if(!T.cid)throw new Error("No CID returned from server");const L=T.url;if(!L.startsWith("ipfs://"))throw new Error("Invalid baseURI format");c(40),b("Setting baseURI in contract...");const q=await ue.setBaseURI(L);M("⏳ Setting baseURI...",q.hash),await q.wait();const le=ie.length,ge=await ue.setMaxSupply(le);M("⏳ Setting maxSupply...",ge.hash),c(45),b("Setting maxSupply in contract..."),await ge.wait()}c(50),b("Adding phases to contract...");const me=B(localStorage.getItem(`phases_${Q.address}`),{});if(!me||Object.keys(me).length===0)throw new Error("No phases found");const oe=Object.keys(me);let he=0;for(const $e of oe){const Me=me[$e];if(!Me||Me.active===!1)continue;const we=$e==="Public";let T="0x"+"0".repeat(64);if(!we){const Ce=B(localStorage.getItem(`${Q.address}_${$e}_whitelist`),[]);if(Ce.length>0){const Ae=Ce.map(Ct=>{try{return un(Ct.trim())}catch{return Ct.trim().toLowerCase()}}),rt=Ae.map(Ct=>Gn(C5(["address"],[Ct]))),kt=new XF.MerkleTree(rt,Gn,{sortPairs:!0});T=kt.getHexRoot();const ot={};Ae.forEach(Ct=>{const nt=Gn(C5(["address"],[Ct]));let Zt=kt.getHexProof(nt);Zt.length===0&&Ae.length===1&&(Zt=[]),ot[Ct]=Zt}),localStorage.setItem(`${Q.address}_${$e}_whitelist_proofs`,JSON.stringify(ot)),localStorage.setItem(`${Q.address}_${$e}_whitelist_root`,T)}}const L=Math.floor(new Date(Me.start).getTime()/1e3),q=Math.floor(new Date(Me.end).getTime()/1e3),le=ex(Me.price||"0",18),ge=Number(Me.limit)||0;try{const Ce=await ue.addPhase(L,q,le,ge,T,we);M(`⏳ Adding phase ${$e}...`,Ce.hash),c(50+Math.floor(10*(he+1)/oe.length)),await Ce.wait()}catch(Ce){throw console.error("Phase addition failed:",Ce),M(`❌ Error adding phase ${$e}: ${Ce.message}`),Ce}he++}c(65),b("Uploading collection metadata to IPFS...");const Ne=B(localStorage.getItem(`collection_${Q.address}`),null);console.log("🔍 Loading metadata - collectionData:",Ne);const Re=B(localStorage.getItem("dreava_collections"),[]),W=Re&&Array.isArray(Re)?Re.find($e=>$e.address===Q.address):null,ye=B(localStorage.getItem(`collection_${Q.address}_social`),{})||{},ce=typeof window<"u"?window.localStorage.getItem(`collection_${Q.address}_banner`):"",ne={...W,...Ne,...Q};console.log("🔍 Loading metadata - meta:",ne);const se={name:ne.name||Q.name||"Untitled Collection",description:ne.description||Q.description||"A unique NFT collection",image:ne.image||Q.image||ne.cover||Q.cover||"",banner:ce||ne.banner||Q.banner||"",external_link:ne.external_link||ye.website||"",website:ye.website||void 0,twitter:ye.twitter||void 0,discord:ye.discord||void 0,royaltyRecipient:ne.royaltyRecipient||"",royaltyPercent:ne.royaltyPercent||0,nfts:Array.isArray(ie)?ie.map(($e,Me)=>({name:$e.name||`NFT #${Me+1}`,tokenURI:`${Q.metadata||Q.baseTokenURI||"ipfs://cid"}/${Me}`,image:$e.image||$e.image_url||""})):[],phases:me&&typeof me=="object"?Object.entries(me).reduce(($e,[Me,we])=>(!we||!we.active||($e[Me]={price:we.price,limit:we.limit,start:Math.floor(new Date(we.start).getTime()/1e3),end:Math.floor(new Date(we.end).getTime()/1e3),allocated:we.allocated,isPublic:Me==="Public"}),$e),{}):{}};console.log("📤 Uploading metadata to server..."),console.log("📤 Metadata to upload:",se);let fe;try{fe=await fetch("/api/upload-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:se})}),console.log("📤 Fetch completed, status:",fe.status)}catch($e){throw console.error("❌ Fetch error:",$e),$e}if(console.log("📤 Upload response status:",fe.status),!fe.ok){const $e=await fe.text();throw console.error("❌ Upload failed:",$e),new Error(`Metadata upload failed: ${fe.status} ${$e}`)}const Ie=await fe.json();console.log("✅ Upload response data:",Ie);const je=Ie.url||(Ie.cid?`ipfs://${Ie.cid}`:null);if(!je)throw new Error("No IPFS URI returned from server");c(80),b("Updating contractURI in contract...");const be=await ue.setContractURI(je);M("⏳ Updating contractURI...",be.hash),await be.wait(),c(90),b("Revealing collection...");try{const $e=await ae.getAddress(),Me=await ue.isAdmin($e),we=await ue.owner();if(!Me&&$e.toLowerCase()!==we.toLowerCase())if($e.toLowerCase()===we.toLowerCase())await(await ue.setAdmin($e,!0)).wait();else throw new Error("User does not have admin permissions on this contract");const T=await ue.setRevealed(!0);if(M("⏳ Revealing collection...",T.hash),await T.wait(),!await ue.revealed())throw new Error("Reveal transaction succeeded but revealed status is still false")}catch($e){console.error("Error revealing collection:",$e),$e.message&&$e.message.includes("Not admin")?M("❌ Permission denied: You are not an admin of this contract"):M("❌ Error revealing collection: "+($e.message||$e))}c(100),b("Launch complete!"),h(!0);const Be=await ue.revealed();M(Be?"✅ Collection launched and revealed! Redirecting to collection page...":"✅ Collection launched! Redirecting to collection page...",be.hash),setTimeout(()=>$(`/launchpad/collection/${Q.address}`),3e3)}catch(Q){console.error("❌ Launch error:",Q),M(`❌ Launch error: ${Q.message}`),F()}finally{J=null}};return j.useEffect(()=>()=>{F()},[]),j.useEffect(()=>{t?.address&&Z()},[t?.address]),E?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>A(!0),className:"px-4 py-2 rounded text-sm font-semibold transition shadow-md flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:opacity-90",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"Share"]}),k&&io.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Collection"}),l.jsx("button",{onClick:()=>A(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsx("img",{src:t.cover||t.firstNFTImage||t.image||"/default-cover.png",alt:t.name,className:"w-16 h-16 rounded-xl object-cover border border-zinc-600/30",onError:J=>{console.warn("⚠️ Collection cover failed to load:",J.target.src),t.firstNFTImage&&t.firstNFTImage!==J.target.src?J.target.src=t.firstNFTImage:J.target.src="/default-cover.png"}}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:t.name}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Collection is live! 🚀"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Collection Link"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"text",value:`${window.location.origin}/launchpad/collection/${t.address}`,readOnly:!0,className:"flex-1 p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl text-white text-sm focus:outline-none focus:border-pink-500/50 transition-colors truncate",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/launchpad/collection/${t.address}`),P(!0),setTimeout(()=>P(!1),2e3)},className:`px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 flex-shrink-0 ${_?"bg-green-600 text-white":"bg-zinc-700/50 hover:bg-zinc-600/50 text-white"}`,children:_?"Copied!":"Copy"})]}),l.jsx("div",{className:"mt-2",children:l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"text-xs text-zinc-400 cursor-pointer hover:text-zinc-300 transition-colors",children:"Show full URL"}),l.jsx("div",{className:"mt-2 p-2 bg-zinc-800/20 rounded-lg border border-zinc-700/30",children:l.jsx("p",{className:"text-xs text-zinc-300 break-all",children:`${window.location.origin}/launchpad/collection/${t.address}`})})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Share on Twitter"}),l.jsx("div",{className:"bg-zinc-800/30 rounded-2xl p-4 border border-zinc-700/30 mb-4",children:l.jsxs("p",{className:"text-sm text-zinc-300 mb-3",children:['"I just launched my NFT collection "',t.name,'" on Dreava Art! 🚀',l.jsx("br",{}),l.jsx("br",{}),"Check it out: ",l.jsx("span",{className:"break-all text-blue-400",children:`${window.location.origin}/launchpad/collection/${t.address}`}),l.jsx("br",{}),l.jsx("br",{}),`Try it yourself, it's really simple! ✨"`]})}),l.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`I just launched my NFT collection "${t.name}" on Dreava Art! 🚀

Check it out: ${window.location.origin}/launchpad/collection/${t.address}

Try it yourself, it's really simple! ✨`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-blue-500/25 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Tweet"]})]})]})]})}),document.body)]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>Z().then(()=>s(!0)),disabled:x,className:`px-4 py-2 rounded text-sm font-semibold transition shadow-md flex items-center gap-2 ${x?"bg-zinc-600 text-zinc-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90"}`,children:x?l.jsxs(l.Fragment,{children:[l.jsx(Zd,{className:"animate-spin",size:16}),"Checking..."]}):"Launch Sale"}),r&&io.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[999999] p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-zinc-900/95 to-zinc-800/95 backdrop-blur-xl rounded-3xl shadow-2xl max-w-lg w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,"data-modal":"launch-checklist",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 animate-pulse"}),l.jsxs("div",{className:"relative z-10 p-6",children:[l.jsx("button",{className:"absolute top-3 right-3 text-zinc-400 hover:text-red-400 transition-all duration-200 hover:scale-110",onClick:()=>s(!1),children:l.jsx(Yn,{size:18})}),u?l.jsxs("div",{className:"text-center py-6",children:[l.jsx(vue,{size:56,className:"text-pink-500 animate-bounce mx-auto mb-3"}),l.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-green-400 to-lime-400 bg-clip-text text-transparent",children:"🎉 Sale Launched!"}),l.jsx("p",{className:"text-base text-zinc-300 mb-5",children:"Your collection has been successfully launched and is now available for minting!"}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsx("button",{onClick:()=>$("/launchpad"),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white font-semibold transition-all duration-300",children:"Go to Launchpad"}),l.jsx("button",{onClick:()=>s(!1),className:"px-5 py-2.5 rounded-xl bg-zinc-700 hover:bg-zinc-600 text-white font-semibold transition-all duration-300",children:"Close"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-[#FF0080] to-[#00A3FF] bg-clip-text text-transparent",children:"Launch Checklist"}),l.jsxs("button",{onClick:Z,disabled:x,className:"flex items-center gap-2 px-2.5 py-1.5 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors text-xs",title:"Refresh status",children:[x?l.jsx(Zd,{className:"animate-spin",size:12}):l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),x?"Checking...":"Refresh"]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[l.jsx("div",{className:`${e.metadataReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[e.metadataReady?l.jsx(Yi,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Metadata"}),l.jsx("p",{className:"text-xs opacity-80",children:e.metadataReady?"Collection metadata ready":"Missing collection metadata"})]})]})}),l.jsx("div",{className:`${e.bannerReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[e.bannerReady?l.jsx(Yi,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Banner"}),l.jsx("p",{className:"text-xs opacity-80",children:e.bannerReady?"Banner image ready":"Missing banner image"})]})]})}),l.jsx("div",{className:`${e.nftsReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[e.nftsReady?l.jsx(Yi,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"NFTs"}),l.jsx("p",{className:"text-xs opacity-80",children:e.nftsReady?"NFTs uploaded and ready":"No NFTs found in collection"})]})]})}),l.jsx("div",{className:`${e.phasesReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[e.phasesReady?l.jsx(Yi,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Phases"}),l.jsx("p",{className:"text-xs opacity-80",children:e.phasesReady?"Sale phases configured":"Missing or incomplete phase configuration"})]})]})}),l.jsx("div",{className:`${e.whitelistReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[e.whitelistReady?l.jsx(Yi,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Whitelist"}),l.jsx("p",{className:"text-xs opacity-80",children:e.whitelistReady?"Whitelist addresses ready":"Missing whitelist addresses for private phases"})]})]})})]}),a&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs font-medium text-zinc-300",children:"Launch Progress"}),l.jsxs("span",{className:"text-xs text-zinc-400",children:[o,"%"]})]}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-2 transition-all duration-500 ease-out",style:{width:`${o}%`}})}),l.jsx("p",{className:"text-xs text-zinc-400 mt-2",children:g})]}),l.jsxs("div",{className:"flex gap-2",children:[e.allReady&&!a&&l.jsxs("button",{onClick:V,disabled:a,className:"flex-1 py-2.5 px-4 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 hover:opacity-90 text-white text-sm font-semibold transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Yi,{size:16}),e.blockchainStatus?.isInitialized?"Resume Launch":"Confirm Launch"]}),l.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2.5 rounded-xl bg-zinc-700 hover:bg-zinc-600 text-white text-sm font-semibold transition-all duration-300",children:"Close"})]}),e.resumeInfo?.canResume&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-900/20 border border-blue-500/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(to,{className:"text-blue-400",size:14}),l.jsx("h4",{className:"font-semibold text-blue-300 text-sm",children:"Resume Mode"})]}),l.jsx("p",{className:"text-xs text-blue-200 mb-2",children:"Collection is partially initialized. You can resume from where you left off."}),l.jsxs("div",{className:"text-xs text-blue-300",children:[l.jsx("p",{children:"Steps to complete:"}),l.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:e.resumeInfo.resumeSteps.map((J,Q)=>l.jsx("li",{children:J},Q))})]})]}),!e.allReady&&l.jsx("div",{className:"mt-3 p-3 bg-red-900/20 border border-red-500/50 rounded-xl",children:l.jsx("p",{className:"text-xs text-red-300",children:"Please complete all checklist items before launching the sale."})})]})]})]})}),document.body),f.visible&&io.createPortal(l.jsxs("div",{className:"fixed bottom-6 right-6 bg-zinc-800 text-white p-4 rounded-xl shadow-2xl max-w-sm animate-fadeIn border border-zinc-700/50 backdrop-blur-xl z-[999999]",children:[l.jsx("p",{className:"text-sm mb-2",children:f.message}),f.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${f.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-2 text-sm",children:[l.jsx(Vd,{size:16}),"View Transaction"]})]}),document.body)]})},yve=({collection:t})=>{const[e,n]=j.useState(0),r=[{id:0,name:"Phase Settings",icon:Oue},{id:1,name:"Manage WLs",icon:hv},{id:2,name:"View Collection",icon:d6},{id:3,name:"Stats",icon:qd}];return t?t.address?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:t.cover||t.firstNFTImage||dr,alt:"cover",className:"w-24 h-24 object-cover rounded-xl border border-zinc-700",onError:s=>{console.warn("⚠️ Collection cover failed to load:",s.target.src),t.firstNFTImage&&t.firstNFTImage!==s.target.src?s.target.src=t.firstNFTImage:s.target.src=dr}}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:t.name||"Unnamed Collection"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:t.address})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-zinc-700/50 rounded-lg",children:[l.jsx(jue,{className:"w-4 h-4 text-zinc-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Ready to launch?"})]}),l.jsx(AE,{collection:t})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 shadow-2xl overflow-hidden",children:[l.jsx("div",{className:"flex border-b border-zinc-700",children:r.map(s=>{const a=s.icon;return l.jsxs("button",{onClick:()=>n(s.id),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${e===s.id?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[l.jsx(a,{className:"w-5 h-5"}),l.jsx("span",{children:s.name})]},s.id)})}),l.jsxs("div",{className:"p-6",children:[e===0&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(F1e,{collection:t})}),e===1&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(cve,{collection:t})}),e===2&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(hve,{collection:t})}),e===3&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(fve,{collection:t})})]})]})]}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-zinc-400",children:"Invalid collection data"})}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-zinc-400",children:"Please select a collection to manage"})})},bve=()=>{const[t,e]=j.useState(0),[n,r]=j.useState(null),[s,a]=j.useState(0),[i,o]=j.useState(null),[c,u]=j.useState(null),h=[{id:0,name:"Collection Identity"},{id:1,name:"Populate Collection"},{id:2,name:"Studio Dashboard"}],f=w=>{e(w),w===1&&(r(null),a(0))},m=w=>{if(console.log("🎯 Selected collection:",w),!w||!w.address){console.error("Invalid collection selected:",w);return}r(w),u(null)},g=()=>{e(0),r(null)},b=w=>{if(console.log("🎉 Collection created successfully:",w),!w){console.error("❌ No collection data received");return}try{const x=JSON.parse(localStorage.getItem("dreava_collections")||"[]");x.some(N=>N&&N.address&&N.address.toLowerCase()===w.address.toLowerCase())||localStorage.setItem("dreava_collections",JSON.stringify([w,...x]))}catch{}try{window.ethereum&&window.ethereum.request({method:"eth_accounts"}).then(x=>{const N=x&&x[0];if(N){const E=`dreava_user_collections_${N.toLowerCase()}`,C=localStorage.getItem(E),k=C?JSON.parse(C):{ts:Date.now(),collections:[]},A=Array.isArray(k.collections)?k.collections:[],_=new Map(A.map(P=>[P.address?.toLowerCase(),P]));_.set(w.address.toLowerCase(),w),localStorage.setItem(E,JSON.stringify({ts:Date.now(),collections:Array.from(_.values())}))}}).catch(()=>{})}catch{}setTimeout(()=>{o(w),r(w),e(1),console.log("✅ Switched to Populate Collection tab with selected collection:",w.name)},300)},y=w=>{console.log("🎉 NFT upload successful:",w),w&&(w.type==="single"?console.log(`✅ Single NFT "${w.nft.name}" uploaded successfully`):w.type==="multiple"&&console.log(`✅ ${w.totalUploaded} NFTs uploaded successfully, ${w.totalFailed} failed`)),setTimeout(()=>{e(2),u(w)},300)};return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Op,{}),l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] bg-clip-text text-transparent",children:"Create Your Dreams"}),l.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Build, populate, and manage your NFT collections"})]})})})}),l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsx("div",{className:"flex",children:h.map(w=>l.jsx("button",{onClick:()=>f(w.id),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 ${t===w.id?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:w.name},w.id))})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 pb-24 relative z-10",children:l.jsxs("div",{className:"animate-fadeIn",children:[t===0&&l.jsx("div",{children:l.jsx(dL,{onSuccess:b})}),t===1&&l.jsx("div",{className:"max-w-4xl mx-auto",children:n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-zinc-700/30 bg-zinc-800 flex-shrink-0",children:[n.cover||n.image||n.banner?l.jsx("img",{src:n.cover||n.image||n.banner,alt:n.name,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:n.cover||n.image||n.banner?"none":"flex"},children:l.jsx("div",{className:"w-8 h-8 bg-zinc-600 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Populate Collection"}),l.jsxs("p",{className:"text-zinc-400",children:["Selected: ",n.name,i&&i.address===n.address&&l.jsx("span",{className:"ml-2 text-green-400 text-sm",children:"✨ Newly Created"})]})]})]}),l.jsx("button",{onClick:()=>r(null),className:"text-zinc-400 hover:text-white transition-colors",children:"Change Collection"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"flex border-b border-zinc-700 mb-6",children:[l.jsxs("button",{onClick:()=>a(0),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${s===0?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),l.jsx("span",{children:"Single NFT"})]}),l.jsxs("button",{onClick:()=>a(1),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${s===1?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),l.jsx("span",{children:"Multiple NFTs"})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"animate-fadeIn",children:[s===0&&l.jsx(fL,{collection:n,onSuccess:y}),s===1&&l.jsx(gL,{collection:n,onSuccess:y})]})})]})]}):l.jsxs("div",{className:"py-12",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Populate Collection"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Select a collection to add NFTs"}),l.jsx(g6,{onSelect:m,showCreateButton:!0,onCreateNew:g})]})}),t===2&&l.jsx("div",{className:"max-w-4xl mx-auto",children:n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-zinc-700/30 bg-zinc-800 flex-shrink-0",children:[n.cover||n.image||n.banner?l.jsx("img",{src:n.cover||n.image||n.banner,alt:n.name,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:n.cover||n.image||n.banner?"none":"flex"},children:l.jsx("div",{className:"w-8 h-8 bg-zinc-600 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 00-2-2V6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Studio Dashboard"}),l.jsxs("p",{className:"text-zinc-400",children:["Selected: ",n.name,c&&c.collection&&c.collection.address===n.address&&l.jsxs("span",{className:"ml-2 text-green-400 text-sm",children:["✨ Recently Uploaded ",c.type==="single"?"NFT":`${c.totalUploaded} NFTs`]})]})]})]}),l.jsx("button",{onClick:()=>r(null),className:"text-zinc-400 hover:text-white transition-colors",children:"Change Collection"})]}),l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:l.jsx(yve,{collection:n})})]}):l.jsxs("div",{className:"py-12",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Studio Dashboard"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Select a collection to manage"}),l.jsx(g6,{onSelect:m,showCreateButton:!0,onCreateNew:g})]})})]})})]})},wve=()=>l.jsxs("div",{className:"relative min-h-screen bg-[#0d0d0d] text-white font-sans pt-20 px-6 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none select-none z-0"}),l.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto text-center",children:[l.jsx("h1",{className:"text-[50px] md:text-[60px] font-bold bg-gradient-to-r from-[#FF0080] via-[#367aff] to-[#00A3FF] bg-clip-text text-transparent mb-6",children:"Welcome to the Dreava Launchpad"}),l.jsx("p",{className:"text-lg md:text-xl text-zinc-400 mb-12",children:"We're not just building a marketplace — we're building a movement. Here, NFTs unlock worlds, ideas, and the next chapter of the digital revolution."}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-left",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Beyond Art & Collectibles"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Each collection is a living ecosystem, where holders gain access to real utility, exclusive spaces, and transformative opportunities."})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fuelled by Purpose"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Our token isn't for speculation. It's the engine of governance, rewards, and platform growth — designed for those who build and believe."})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"A Community That Leads"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"OG holders form the core circle, influencing the direction of Dreava and opening doors for emerging creators and projects."})]})]}),l.jsx("div",{className:"mt-12 pb-24 md:pb-0",children:l.jsx(ha,{to:"/active-sales",className:"inline-block px-8 py-4 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold shadow-md hover:opacity-90 transition transform active:scale-95",children:"Enter the World of Possibilities"})})]})]}),vve=()=>l.jsx("main",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:l.jsx("h1",{className:"text-4xl font-bold",children:"Marketplace — Coming Soon 🚧"})}),xve="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2059%2052'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1,0,0,1,-3025.41,-4174.8)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,2101.56,3817.07)'%3e%3cg%20transform='matrix(0.0662647,0,0,0.954192,909.302,337.43)'%3e%3cg%3e%3cpath%20d='M1151.78,37.052C1151.78,29.535%201064.12,23.433%20956.144,23.433L461.607,23.433C353.633,23.433%20265.972,29.535%20265.972,37.052L265.972,64.289C265.972,71.806%20353.633,77.908%20461.607,77.908L956.144,77.908C1064.12,77.908%201151.78,71.806%201151.78,64.289L1151.78,37.052Z'%20style='fill:rgb(39,39,42);'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,2101.56,3807.07)'%3e%3cg%20id='drag-drop-svgrepo-com.svg'%20transform='matrix(0.0510569,0,0,0.0511795,956.276,395.837)'%3e%3cg%20transform='matrix(1,0,0,1,-400,-400)'%3e%3cg%3e%3crect%20x='0'%20y='0'%20width='800'%20height='800'%20style='fill:none;fill-rule:nonzero;'/%3e%3cpath%20d='M533.333,433.333L765.467,568.733L666.367,597.067L737.2,719.767L679.467,753.1L608.633,630.433L534.533,702.1L533.333,433.333ZM466.667,200L533.333,200L533.333,266.667L700,266.667C718.286,266.667%20733.333,281.714%20733.333,300L733.333,433.333L666.667,433.333L666.667,333.333L333.333,333.333L333.333,666.667L466.667,666.667L466.667,733.333L300,733.333C281.714,733.333%20266.667,718.286%20266.667,700L266.667,533.333L200,533.333L200,466.667L266.667,466.667L266.667,300C266.667,281.714%20281.714,266.667%20300,266.667L466.667,266.667L466.667,200ZM133.333,466.667L133.333,533.333L66.667,533.333L66.667,466.667L133.333,466.667ZM133.333,333.333L133.333,400L66.667,400L66.667,333.333L133.333,333.333ZM133.333,200L133.333,266.667L66.667,266.667L66.667,200L133.333,200ZM133.333,66.667L133.333,133.333L66.667,133.333L66.667,66.667L133.333,66.667ZM266.667,66.667L266.667,133.333L200,133.333L200,66.667L266.667,66.667ZM400,66.667L400,133.333L333.333,133.333L333.333,66.667L400,66.667ZM533.333,66.667L533.333,133.333L466.667,133.333L466.667,66.667L533.333,66.667Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Nve="/assets/UploadJson-DUhld9f3.svg",kve=()=>{const[t,e]=j.useState(null),[n,r]=j.useState([]),[s,a]=j.useState(""),[i,o]=j.useState(!1),c=async f=>{if(f){e(f);try{const m=await f.text(),g=JSON.parse(m);if(!Array.isArray(g))throw new Error("Invalid JSON: expected an array of NFT metadata");r(g)}catch(m){console.error(m),a("❌ Failed to parse JSON")}}},u=async()=>{try{if(!window.ethereum)throw new Error("Wallet not detected");const f=await new wr(window.ethereum).getSigner();for(const m of n){a(`Uploading metadata: ${m.name||"Untitled"}`);const g=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJmMDQxYjk4My0zODk3LTQzOWEtOThhYi0wMTdmN2MyZjIwYzMiLCJlbWFpbCI6ImJ1bGF2aW5hZnJlZWxhbmNlQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJiYTg2ZDQzOThjOGY5MWY5Mjg2YiIsInNjb3BlZEtleVNlY3JldCI6ImJmMGJhOThkOTU4MzY1NTBjZWU0OGNjNjM0ZjBkZGVlMWFmODJlNTZhMjJkNWI3YTVlMGJhZmUwZTkxNmYyNDkiLCJleHAiOjE3NzkzODkyNDl9.tM3vC2lxATC_UWUISCQN8vDdMfms0HuCpmcZTaqC2Hg"},body:JSON.stringify(m)}),{IpfsHash:b}=await g.json(),y=`ipfs://${b}`;await(await new Pt(m.contractAddress,Rn,f).mintPublic(await f.getAddress(),y)).wait()}a("✅ All NFTs minted")}catch(f){console.error(f),a(`❌ Error: ${f.message}`)}},h=f=>{f.preventDefault(),o(!1);const m=f.dataTransfer.files[0];m&&m.type==="application/json"&&c(m)};return l.jsx("div",{className:"w-[780px] mx-auto text-white font-sans",children:l.jsxs("div",{className:"border border-zinc-700 bg-zinc-900 rounded-2xl p-8",children:[l.jsx("h2",{className:"text-[28px] font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-[6px]",children:"Pro Upload (JSON)"}),l.jsx("p",{className:"text-zinc-400 mb-[16px] text-sm leading-snug",children:"Upload your structured NFT metadata using a JSON file for advanced batch minting."}),!t&&l.jsxs("div",{onDragOver:f=>{f.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:h,className:`border border-dashed rounded-xl p-8 text-center mb-8 transition-colors duration-150 ${i?"border-pink-500 bg-zinc-800":"border-zinc-700 bg-zinc-900"}`,children:[l.jsx("img",{src:xve,alt:"Upload Icon",className:"mx-auto mb-6 w-10 h-10"}),l.jsx("p",{className:"text-sm font-medium mb-1 text-white",children:"Drag & drop your JSON file here"}),l.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"or use the button below to upload"}),l.jsxs("ul",{className:"text-xs text-left mx-auto max-w-md text-zinc-500 space-y-1 mb-6",children:[l.jsxs("li",{children:["• Format: ",l.jsx("code",{children:".json"})]}),l.jsx("li",{children:"• Must be an array of metadata objects"}),l.jsx("li",{children:"• Recommended: IPFS image links"}),l.jsx("li",{children:"• Max file size: 5MB"}),l.jsxs("li",{children:["• Each object must include a ",l.jsx("code",{children:"contractAddress"})]})]}),l.jsxs("label",{className:"inline-block cursor-pointer",children:[l.jsx("img",{src:Nve,alt:"Upload JSON",className:"w-[160px]"}),l.jsx("input",{type:"file",accept:"application/json",onChange:f=>c(f.target.files[0]),className:"hidden"})]})]}),n.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-zinc-300",children:["Detected ",n.length," NFTs from JSON"]}),l.jsx("button",{onClick:u,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:"Mint All from JSON"})]}),s&&l.jsx("p",{className:"text-sm text-center text-zinc-400 mt-6",children:s})]})})},Cve="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",Eve=async t=>{for(const e of t)try{const n=await fetch(e);if(n.ok)return await n.json()}catch{}throw new Error("All IPFS gateways failed")},Sve=()=>{const[t,e]=j.useState([]),n=Xr();j.useEffect(()=>{(async()=>{try{const s=new wr(window.ethereum),a=await(await s.getSigner()).getAddress(),i=await new Pt(Cve,Rp,s).getUserCollections(a),o=(await Promise.all(i.map(async c=>{try{const u=new Pt(c,Rn,s);if((await u.owner()).toLowerCase()!==a.toLowerCase())return console.warn(`Skipping ${c} because owner mismatch`),null;const h=await u.name();let f="",m="";try{m=await u.contractURI(),console.log(`Contract ${c} returned contractURI: '${m}'`)}catch(g){console.warn(`No contractURI() on contract ${c}:`,g)}if(m&&m!==""){const g=Ln(m);try{const b=await Eve(g);b.image?f=Ln(b.image)[0]:console.warn(`No image field in metadata for ${c}`)}catch(b){console.warn(`Failed to fetch metadata JSON for ${c}:`,b)}}else console.warn(`Metadata URI is empty for contract ${c}`);return{address:c,name:h,cover:f||dr,createdAt:"-",views:Math.floor(Math.random()*500),revenue:(Math.random()*10).toFixed(2)}}catch(u){return console.error(`Error processing contract ${c}:`,u),null}}))).filter(c=>c!==null);e(o)}catch(s){console.error("Failed to load collections:",s)}})()},[]);const r=s=>{n(`/manage/${s}`)};return l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12 text-white font-sans relative z-10",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-[#FF0080] via-[#367aff] to-[#00A3FF] bg-clip-text text-transparent mb-3",children:"My Studio"}),l.jsx("p",{className:"text-zinc-400 mt-2 max-w-2xl mx-auto text-base",children:"Welcome, Creator. Here, you are more than an artist — you are a storyteller, a world-builder, a gatekeeper to dreams."})]}),t.length===0?l.jsxs("div",{className:"text-center text-zinc-500",children:[l.jsx("p",{className:"mb-4",children:"You haven't created any collections yet."}),l.jsx(ha,{to:"/explore#create",className:"inline-block px-8 py-3 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold shadow-md hover:opacity-90 transition",children:"Create Your First Collection"})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((s,a)=>l.jsx("div",{className:"relative h-[420px] rounded-2xl shadow-lg hover:scale-105 transform transition duration-300 overflow-hidden border border-zinc-700",style:{backgroundImage:`url(${s.cover||s.firstNFTImage||"/default-cover.png"})`,backgroundSize:"cover",backgroundPosition:"center"},children:l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent p-4 flex flex-col justify-end",children:[l.jsx("h3",{className:"text-lg font-semibold mb-1 truncate",title:s.name,children:s.name}),l.jsxs("p",{className:"text-zinc-400 text-xs mb-2",children:["Created on ",s.createdAt||"Unknown"]}),l.jsxs("div",{className:"text-xs text-zinc-400 mb-3 space-y-1",children:[l.jsxs("p",{children:["Views: ",l.jsx("span",{className:"text-white font-medium",children:s.views})]}),l.jsxs("p",{children:["Revenue: ",l.jsxs("span",{className:"text-white font-medium",children:["Ξ ",s.revenue]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r(s.address),className:"flex-1 py-2 text-sm rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition relative group",children:["Manage",l.jsx("span",{className:"absolute left-1/2 transform -translate-x-1/2 -bottom-8 bg-zinc-700 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:"Set prices, phases, analytics"})]}),l.jsx("div",{className:"flex-1",children:l.jsx(AE,{collection:s})})]})]})},a))})]})},Ave=({text:t,maxLines:e=1,className:n=""})=>{const[r,s]=j.useState(!1),a=j.useRef(null);if(j.useEffect(()=>{const o=c=>{r&&a.current&&!a.current.contains(c.target)&&s(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[r]),!t)return null;const i=e===1?50:100;return t.length>i?l.jsxs("div",{className:"relative",ref:a,children:[l.jsxs("div",{className:`${n} flex items-start`,children:[l.jsx("span",{className:"flex-1 truncate",children:t.substring(0,i)}),l.jsx("button",{onClick:o=>{o.stopPropagation(),s(!r)},className:"ml-1 text-blue-400 hover:text-blue-300 cursor-pointer flex-shrink-0",children:"..."})]}),r&&l.jsx("div",{className:"absolute bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg z-50 backdrop-blur-sm",style:{top:"-10px",right:"0px",width:"280px",maxHeight:"150px",overflow:"auto"},children:l.jsx("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap break-words",children:t})})]}):l.jsx("div",{className:n,children:t})},E1=({activeTab:t,setActiveTab:e})=>l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsxs("div",{className:"flex",children:[l.jsx("button",{onClick:()=>e("completed"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${t==="completed"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Completed Sales"}),l.jsx("button",{onClick:()=>e("active"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${t==="active"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Active Sales"}),l.jsx("button",{onClick:()=>e("upcoming"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${t==="upcoming"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Upcoming Sales"})]})})}),g9=({portalVideo:t,portalHoverVideo:e})=>{const{collections:n,loading:r,error:s}=QC(),[a,i]=j.useState(0),[o,c]=j.useState("active"),[u,h]=j.useState({}),[f,m]=j.useState(!1);j.useMemo(()=>window.innerWidth<768,[]),j.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]);const g=j.useMemo(()=>{if(!n||n.length===0)return[];const I=[];return n.slice(0,10).forEach($=>{$.cover&&I.push($.cover),$.bannerImage&&I.push($.bannerImage),$.firstNFTImage&&I.push($.firstNFTImage)}),[...new Set(I)]},[n]),b=Math.floor(Date.now()/1e3),y=Math.floor(new Date("2025-06-29T00:00:00Z").getTime()/1e3),w=I=>{const $=I.phases||{},H=Object.values($).length>0&&Object.values($).every(M=>Number(M.end)<b);return I.soldOut||H},x=I=>I&&Object.values(I).some($=>Number($.start)<=b&&b<=Number($.end)),N=I=>I&&Object.values(I).some($=>Number($.start)>b),E=I=>I.phases||I.metadata?.phases||{},C=I=>{const $=E(I);return!$||Object.values($).length===0?0:Math.max(...Object.values($).map(H=>Number(H.end)))},k=n.filter(I=>{const $=E(I);if(o==="completed")return w(I)&&C(I)>=y;if(o==="active")return x($)&&!w(I);if(o==="upcoming"){const H=N($),M=x($);return H&&!M&&!w(I)}return!1});if(j.useEffect(()=>{i(0)},[o,k.length]),r)return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(E1,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:l.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:l.jsx(Td,{message:"Loading active sales",showLogo:!0,size:"default",showProgress:!1,showDots:!1})})})]});if(s)return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(E1,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[l.jsx(Td,{message:`Error loading collections: ${s}`,showLogo:!0,size:"default",showProgress:!1,showDots:!1}),l.jsx("p",{className:"text-zinc-400 text-sm mt-4",children:"The indexer may not be running yet."})]})})]});if(k.length===0){const I=()=>o==="active"?"No active sales at the moment":o==="upcoming"?"No upcoming sales at the moment":"No completed sales yet";return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(E1,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:l.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:l.jsx(Td,{message:I(),showLogo:!0,size:"default",showProgress:!1,showDots:!1})})})]})}const A=()=>{i(I=>{const $=I-3;return $<0?Math.max(0,k.length-3):$})},_=()=>{i(I=>{const $=I+3;return $>=k.length?0:$})},P=k.slice(a,a+3);return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(E1,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx(JC,{onMetrics:h,showUI:!1}),g.length>0&&l.jsx(wv,{images:g,priority:!0,onComplete:()=>m(!0),onProgress:(I,$)=>{I===$&&m(!0)}}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-4",children:[o==="active"&&"Active Sales",o==="upcoming"&&"Upcoming Sales",o==="completed"&&"Completed Sales"]}),l.jsxs("p",{className:"text-zinc-400 text-lg",children:[o==="active"&&"Discover and mint from the latest NFT collections",o==="upcoming"&&"Get ready for these exciting upcoming launches",o==="completed"&&"Explore completed sales and their achievements"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:P.map((I,$)=>l.jsx(jve,{collection:I,portalVideo:t,portalHoverVideo:e,isSaleEnded:w,getPhases:E,now:b,isUpcoming:o==="upcoming"},I.address))}),k.length>3&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:A,className:"absolute top-1/2 left-[-20px] transform -translate-y-1/2 bg-zinc-800 bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-10",children:l.jsx("img",{src:ZC,alt:"Previous",className:"w-6 h-6 opacity-80 hover:opacity-100"})}),l.jsx("button",{onClick:_,className:"absolute top-1/2 right-[-20px] transform -translate-y-1/2 bg-zinc-800 bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-10",children:l.jsx("img",{src:KC,alt:"Next",className:"w-6 h-6 opacity-80 hover:opacity-100"})})]}),k.length>3&&l.jsx("div",{className:"flex justify-center mt-8",children:l.jsx("div",{className:"flex gap-2",children:Array.from({length:Math.ceil(k.length/3)}).map((I,$)=>l.jsx("button",{onClick:()=>i($*3),className:`w-3 h-3 rounded-full transition-all duration-200 ${Math.floor(a/3)===$?"bg-gradient-to-r from-blue-500 to-pink-500":"bg-zinc-600 hover:bg-zinc-500"}`},$))})})]})]})})]})},jve=({collection:t,portalVideo:e,portalHoverVideo:n,isSaleEnded:r,getPhases:s,now:a,isUpcoming:i=!1})=>{const o=Xr(),[c,u]=j.useState(!1),[h,f]=j.useState(!1),m=s(t),g=Object.entries(m).find(([,A])=>{const _=Number(A.start),P=Number(A.end);return _<=a&&a<=P}),b=Object.values(m).filter(A=>Number(A.start)>a),y=b.length>0?b.reduce((A,_)=>{const P=Number(A.start),I=Number(_.start);return P<I?A:_}):null,w=()=>{h||u(!0)},x=()=>{u(!1)},N=()=>{f(!0)};j.useEffect(()=>{f(!1),u(!1)},[t]);const E=t.description||t.metadata?.description||"No description provided.",C=g?g[1].price:"0",k=r(t);return l.jsxs("div",{className:"bg-[#111] p-4 rounded-2xl text-white shadow-lg border border-zinc-800/50 h-[480px] flex flex-col cursor-pointer hover:scale-105 transition-all duration-300",onMouseEnter:w,onMouseLeave:x,onClick:()=>o(`/launchpad/collection/${t.address}`),children:[l.jsxs("div",{className:"relative mb-4 flex-shrink-0 h-64 overflow-hidden rounded-xl",children:[l.jsx("video",{src:e,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),c&&!h&&l.jsx("video",{src:n,autoPlay:!0,muted:!0,playsInline:!0,onEnded:N,className:"absolute inset-0 w-full h-full object-cover"}),h&&l.jsx("img",{src:t.cover||t.firstNFTImage||dr,alt:t.name,className:"absolute inset-0 w-full h-full object-contain bg-zinc-900 transition-opacity duration-700",style:{objectFit:"contain",objectPosition:"center"},onError:A=>{t.firstNFTImage&&t.firstNFTImage!==A.currentTarget.src?A.currentTarget.src=t.firstNFTImage:A.currentTarget.src=dr}}),l.jsx("div",{className:"absolute top-3 right-3",children:r(t)?l.jsx("span",{className:"px-2 py-1 bg-red-500/80 text-white text-xs rounded-full",children:"Ended"}):g?l.jsxs("span",{className:"px-2 py-1 bg-green-500/80 text-white text-xs rounded-full flex items-center gap-1",children:[l.jsx(h6,{size:12}),"Active"]}):y?l.jsx("span",{className:"px-2 py-1 bg-yellow-500/80 text-white text-xs rounded-full",children:"Upcoming"}):l.jsx("span",{className:"px-2 py-1 bg-zinc-500/80 text-white text-xs rounded-full",children:"Paused"})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent mb-2",children:t.name}),l.jsx("div",{className:"mb-3 flex-1",children:l.jsx(Ave,{text:E,maxLines:1,className:"text-sm text-zinc-400"})}),l.jsxs("div",{className:"flex justify-between text-sm text-zinc-300 mb-2",children:[!i&&(g||k)?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(hv,{size:12}),t.minted||0," / ",t.totalSupply||0]}):l.jsx("span",{}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-3 h-3"}),C," STT"]})]}),l.jsx("div",{className:"mb-3",children:r(t)?l.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Sale ended"}):g?l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx(mp,{size:12,className:"text-pink-400"}),l.jsx("span",{className:"text-pink-400",children:"Ends in:"}),l.jsx(Gg,{date:Number(g[1].end)*1e3,renderer:({days:A,hours:_,minutes:P,seconds:I})=>l.jsxs("span",{className:"text-white font-mono",children:[A>0?`${A}d `:"",_,"h ",P,"m ",I,"s"]})})]}):y?l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx(mp,{size:12,className:"text-yellow-400"}),l.jsx("span",{className:"text-yellow-400",children:"Starts in:"}),l.jsx(Gg,{date:Number(y.start)*1e3,renderer:({days:A,hours:_,minutes:P,seconds:I})=>l.jsxs("span",{className:"text-white font-mono",children:[A>0?`${A}d `:"",_,"h ",P,"m ",I,"s"]})})]}):l.jsx("span",{className:"text-zinc-400 text-xs",children:"No active phase"})}),l.jsxs("button",{className:"w-full py-2.5 bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 text-sm",children:[l.jsx("span",{children:"Enter Portal"}),l.jsx(ov,{size:14})]})]})]})},Tve=({collection:t})=>{const[e,n]=j.useState(""),[r,s]=j.useState(""),[a,i]=j.useState(0),[o,c]=j.useState(""),[u,h]=j.useState(""),[f,m]=j.useState(null),[g,b]=j.useState(!1),[y,w]=j.useState(""),[x,N]=j.useState(0),[E,C]=j.useState(!1);j.useEffect(()=>{(async()=>{n(t.description||""),s(t.external_link||""),i(t.royaltyPercent||0),c(t.royaltyRecipient||"");let P=!1;t.image&&t.image.trim()!==""&&(h(Ln(t.image)[0]),P=!0);try{const I=new wr(window.ethereum),$=await new Pt(t.address,["function contractURI() public view returns (string)"],I).contractURI();if(!$)return;const H=Ln($)[0],M=await fetch(H);if(!M.ok)throw new Error(`HTTP ${M.status}`);const B=await M.json();!t.description&&B.description&&n(B.description),!t.external_link&&B.external_link&&s(B.external_link),!t.royaltyPercent&&B.royaltyPercent&&i(B.royaltyPercent),!t.royaltyRecipient&&B.royaltyRecipient&&c(B.royaltyRecipient),!P&&B.image&&h(Ln(B.image)[0])}catch(I){console.warn("Could not load image or metadata from contractURI:",I)}})()},[t]);const k=P=>{const I=P.target.files[0];I&&(m(I),h(URL.createObjectURL(I)))},A=async P=>{const I=new FormData;return I.append("file",P),(await(await fetch("/api/pin-file",{method:"POST",body:I})).json()).ipfsUri},_=async()=>{try{b(!0),C(!0),w("Uploading cover image..."),N(20);let P="";f?P=await A(f):u?P=u:t.image?P=t.image:P="",w("Uploading metadata..."),N(50);const I={name:t.name,description:e,image:P,external_link:r,royaltyRecipient:o,royaltyPercent:a},$=await fetch("/api/pin-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:I})});if(!$.ok)throw new Error(`Server error: ${$.status}`);const H=(await $.json()).ipfsUri;w("Signing transaction..."),N(75);const M=await new wr(window.ethereum).getSigner();await(await new Pt(t.address,["function setContractURI(string uri) external"],M).setContractURI(H)).wait();const B=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).map(O=>O.address===t.address?{...O,image:P}:O);localStorage.setItem("dreava_collections",JSON.stringify(B)),w("✅ Metadata updated successfully!"),N(100)}catch(P){console.error("Error updating metadata:",P),w(`❌ Error: ${P.message}`),N(0)}finally{b(!1)}};return l.jsxs("div",{className:"w-full mx-auto text-white pt-[8px] font-sans",children:[l.jsx("h2",{className:"text-[24px] font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-[6px]",children:"Edit Collection Metadata"}),l.jsxs("div",{className:"mb-[20px] flex gap-[24px] items-start",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-[13px] font-medium mb-[6px] text-white",children:"Cover Image"}),l.jsxs("label",{htmlFor:"cover-upload",className:"w-[160px] h-[144px] bg-zinc-900 border border-zinc-600 rounded-xl flex-shrink-0 flex items-center justify-center cursor-pointer overflow-hidden",children:[u?l.jsx("img",{src:u||t.firstNFTImage||dr,alt:"preview",className:"w-full h-full object-cover",onError:P=>{console.warn("⚠️ Cover preview failed to load:",P.target.src),t.firstNFTImage&&t.firstNFTImage!==P.target.src?P.target.src=t.firstNFTImage:P.target.src=dr}}):l.jsx("img",{src:"/src/assets/upload-icon.svg",alt:"icon",className:"w-8 h-8 opacity-70"}),l.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",onChange:k,className:"hidden"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Description"}),l.jsx("textarea",{value:e,onChange:P=>n(P.target.value),className:"w-full p-3 rounded-xl bg-zinc-800 border border-zinc-600 text-white h-[144px] placeholder:text-zinc-500 text-sm"})]})]}),l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Website"}),l.jsx("input",{type:"text",value:r,onChange:P=>s(P.target.value),placeholder:"https://yourwebsite.com",className:"w-full p-3 mb-[16px] rounded-xl bg-zinc-800 border border-zinc-600 text-white placeholder:text-zinc-500 text-sm"}),l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:o,onChange:P=>c(P.target.value),className:"w-full p-3 mb-[12px] rounded-xl bg-zinc-800 border border-zinc-600 text-white text-sm"}),l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Royalty Percent (%)"}),l.jsx("input",{type:"number",min:0,max:100,value:a,onChange:P=>i(parseFloat(P.target.value)),className:"w-full p-3 mb-[20px] rounded-xl bg-zinc-800 border border-zinc-600 text-white text-sm"}),l.jsx("button",{onClick:_,disabled:g,className:"w-full py-[12px] mb-[24px] rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm transition-transform active:scale-95 shadow-md",children:g?"Saving...":"Save Metadata"}),E&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[9997]",children:l.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-lg w-full text-center relative animate-fadeIn",tabIndex:-1,autoFocus:!0,children:[l.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>C(!1),children:l.jsx(Yn,{size:20})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent",children:"Update Progress"}),l.jsxs("div",{className:"w-full bg-zinc-700 rounded-full h-5 mb-4 relative",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-5 rounded-full transition-all duration-500",style:{width:`${x}%`}}),l.jsxs("span",{className:"absolute inset-0 flex justify-center items-center text-sm text-white font-semibold",children:[x,"%"]})]}),l.jsx("p",{className:"text-sm text-white mb-2",children:y}),l.jsx("button",{onClick:()=>C(!1),className:"w-full mt-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Close"})]})})]})},Ive=({onClick:t,...e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1298 321",className:"w-full h-full select-none",...e,children:[l.jsx("path",{fill:"#18181B",stroke:"#fff",strokeWidth:"0.21",d:"M3700.67 5315.2c0-4.89-9.98-8.86-22.27-8.86H2427.64c-12.29 0-22.27 3.97-22.27 8.86v108.87c0 4.89 9.98 8.86 22.27 8.86H3678.4c12.29 0 22.27-3.97 22.27-8.86z",transform:"matrix(1 0 0 2.51285 -2404.344 -13332.957)"}),l.jsxs("g",{onClick:t,style:{cursor:"pointer"},children:[l.jsx("path",{fill:"url(#_Linear1)",d:"M1151.78 37.052c0-7.517-22.03-13.619-49.17-13.619H315.136c-27.134 0-49.164 6.102-49.164 13.619v27.237c0 7.517 22.03 13.619 49.164 13.619h787.474c27.14 0 49.17-6.102 49.17-13.619z",transform:"matrix(.19462 0 0 .7026 509.37 217.825)"}),l.jsx("path",{fill:"#fff",d:`M580.64 243.342c0 .614.012 12.652.012 13.856 0 .695.56 1.256 1.25 1.256s1.249-.56 1.249-1.256l-.011-13.856a1.25 1.25 0 0 0-2.5 0
           M571.246 255.048l.011 8.38c0 .69.56 1.252 1.25 1.252s1.249-.561 1.249-1.253l-.011-8.379c0-.692-.56-1.252-1.25-1.252s-1.25.56-1.25 1.252
           M589.813 255.048c0 .371.012 7.651.012 8.38 0 .69.559 1.252 1.25 1.252.69 0 1.249-.561 1.249-1.253 0-.728-.012-8.008-.012-8.379 0-.692-.559-1.252-1.25-1.252-.69 0-1.249.56-1.249 1.252`}),l.jsx("path",{fill:"#fff",d:`m591.037 262.378-18.422.011a1.249 1.249 0 1 0 0 2.5c1.6 0 17.607-.012 18.422-.012a1.249 1.249 0 1 0 0-2.499
           M581.062 243.84c.576.577 5.494 5.179 5.72 5.396.491.485 1.285.471 1.77-.02a1.253 1.253 0 0 0-.028-1.771c-.218-.211-5.115-4.792-5.684-5.361a1.24 1.24 0 0 0-1.764-.007 1.245 1.245 0 0 0-.014 1.763`}),l.jsx("path",{fill:"#fff",d:"M581.026 242.084c-.57.569-5.466 5.15-5.684 5.36a1.253 1.253 0 0 0-.028 1.771 1.253 1.253 0 0 0 1.77.021c.225-.217 5.143-4.82 5.72-5.396a1.245 1.245 0 0 0-.015-1.763 1.24 1.24 0 0 0-1.763.007"}),l.jsxs("text",{x:"89.146",y:"37.587",fill:"#fff",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"20.831",fontWeight:"700",transform:"matrix(.87238 0 0 .87238 523.736 227.42)",style:{userSelect:"none",pointerEvents:"none"},children:["Uplo",l.jsx("tspan",{x:"135.802px 147.113px",y:"37.587px 37.587px",children:"ad"})," image"]})]}),l.jsx("text",{x:"89.146",y:"37.587",fill:"url(#_Linear2)",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"17.828",fontWeight:"700",transform:"translate(-21.81 6.162)scale(2.16747)",children:"You’re reading this headline – so will everyone else!"}),l.jsx("text",{x:"89.146",y:"37.587",fill:"#fff",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"17.828",fontWeight:"700",transform:"matrix(1.33415 0 0 1.33415 132.84 96.885)",children:"This is your one and only chance to make a dazzling first impression!"}),l.jsx("text",{x:"89.146",y:"37.587",fill:"#fff",fillOpacity:"0.5",fontFamily:"'MalgunGothic', 'Malgun Gothic', sans-serif",fontSize:"9.637",transform:"translate(186.088 127.78)scale(1.45279)",children:"Recommended: 1200x400px, JPG or PNG. Choose a bold, eye-catching visual that represents your story."}),l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"_Linear1",x1:"0",x2:"1",y1:"0",y2:"0",gradientTransform:"matrix(885.808 0 0 54.4748 265.972 50.67)",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{offset:"0",stopColor:"#45B4EF"}),l.jsx("stop",{offset:"0.5",stopColor:"#572BF6"}),l.jsx("stop",{offset:"1",stopColor:"#D11399"})]}),l.jsxs("linearGradient",{id:"_Linear2",x1:"0",x2:"1",y1:"0",y2:"0",gradientTransform:"matrix(130.74 0 0 13.7626 89.86 30.933)",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{offset:"0",stopColor:"#45B4EF"}),l.jsx("stop",{offset:"0.19",stopColor:"#572BF6"}),l.jsx("stop",{offset:"0.62",stopColor:"#B01AB2"}),l.jsx("stop",{offset:"1",stopColor:"#D11399"})]})]})]}),_ve=({imageUrl:t,onUpload:e,onRemove:n})=>{const r=j.useRef(null),s=o=>{const c=o.target.files[0];c&&e(c)},a=o=>{o.preventDefault();const c=o.dataTransfer.files[0];c&&e(c)},i=()=>{r.current?.click()};return l.jsx("div",{className:"relative h-[320px] w-full rounded-2xl overflow-hidden shadow-lg mb-8 group",onDrop:a,onDragOver:o=>o.preventDefault(),children:t?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:t,alt:"Banner",className:"w-full h-full object-cover"}),l.jsx("button",{onClick:n,className:"absolute top-2 right-2 z-10 bg-zinc-800 hover:bg-red-600 text-white rounded-full p-1 transition",title:"Delete banner",children:"✕"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 z-0",onClick:i,children:l.jsx(Ive,{className:"w-full h-full cursor-pointer select-none"})}),l.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:s,className:"hidden"})]})})},Pve=()=>{const{address:t}=my(),e=Xr(),[n,r]=j.useState(null),[s,a]=j.useState(null);j.useEffect(()=>{(async()=>{const m=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(g=>g.address===t);if(m){r(m),m.banner&&a(m.banner);try{const g=new wr(window.ethereum),b=await new Pt(t,["function contractURI() public view returns (string)"],g).contractURI();if(b&&b.startsWith("ipfs://")){const y=Ln(b),w=await(await fetch(y[0])).json();r(x=>({...x,description:w.description||"",seller_fee_basis_points:w.seller_fee_basis_points||0,fee_recipient:w.fee_recipient||"",banner:x.banner||""}))}}catch(g){console.error("Failed to fetch contract metadata:",g)}}})()},[t]);const i=m=>{const g=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).map(b=>b.address===t?{...b,banner:m}:b);localStorage.setItem("dreava_collections",JSON.stringify(g)),r(b=>({...b,banner:m}))},o=async m=>{if(m)try{const g=new FormData;g.append("file",m);const b=await fetch("/api/pin-file",{method:"POST",body:g});if(!b.ok)throw new Error(`Upload failed: ${b.status}`);const y=await b.json();if(y.gatewayUrl)a(y.gatewayUrl),i(y.gatewayUrl);else throw new Error("No URL returned from server")}catch(g){console.error("Banner upload error:",g),alert("Failed to upload banner. Please try again.")}},c=()=>{window.confirm("Are you sure you want to delete the banner?")&&(a(null),i(null))},u=()=>e(`/edit-nfts/${t}`),h=()=>e(`/edit-phases/${t}`),f=()=>e(`/manage-wls/${t}`);return n?l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12 text-white font-sans",children:[l.jsx(_ve,{imageUrl:s,onUpload:o,onRemove:c}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-16 h-16 rounded-xl object-cover border border-zinc-600/30",onError:m=>{console.warn("⚠️ Collection cover failed to load:",m.target.src),n.firstNFTImage&&n.firstNFTImage!==m.target.src?m.target.src=n.firstNFTImage:m.target.src="/default-cover.png"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:n.name}),l.jsx("p",{className:"text-zinc-400",children:n.address})]})]}),l.jsx(Tve,{collection:n}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-10",children:[l.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"Edit Phases"}),l.jsx("button",{onClick:f,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"Manage WLs"}),l.jsx("button",{onClick:u,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"View NFTs"}),l.jsx(AE,{collection:n})]})]}):l.jsx("div",{className:"text-center text-zinc-400 mt-20",children:"Collection not found."})},y9=[{key:"Whitelist",enumValue:1},{key:"FCFS",enumValue:2},{key:"Public",enumValue:3}],Ove=["Public"],Rve=async t=>{for(const e of t)try{const n=await fetch(e);if(n.ok)return await n.json()}catch{}throw new Error("All IPFS gateways failed")},$ve=()=>{const{address:t}=my(),e=Xr(),[n,r]=j.useState([]),[s,a]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState(""),[h,f]=j.useState({visible:!1,message:"",type:"success"}),[m,g]=j.useState(!1),[b,y]=j.useState(!1);j.useEffect(()=>{if(h.visible){const I=setTimeout(()=>f($=>({...$,visible:!1})),3e3);return()=>clearTimeout(I)}},[h.visible]);const w=(I,$="success")=>{f({visible:!0,message:I,type:$})},x=async()=>{if(t)try{const I=new In("https://dream-rpc.somnia.network/"),$=new Pt(t,Rn,I);let H=!1;try{typeof $.initialized=="function"&&(H=await $.initialized())}catch{console.log("Contract not initialized yet")}g(H),console.log("Collection launch status:",H)}catch(I){console.error("Error checking collection status:",I)}},N=async()=>{if(t)try{y(!0);const I=await new wr(window.ethereum).getSigner(),$=new Pt(t,Rn,I),H=await I.getAddress(),M=await $.isAdmin(H),B=await $.owner();if(!M&&H.toLowerCase()!==B.toLowerCase()){w("❌ You do not have permission to stop this sale","error");return}const O=JSON.parse(localStorage.getItem(`phases_${t}`))||{},z={};Object.keys(O).forEach(G=>{z[G]={...O[G],active:!1}}),localStorage.setItem(`phases_${t}`,JSON.stringify(z)),w("✅ Sale stopped successfully! All phases are now inactive.","success"),g(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(I){console.error("Error stopping sale:",I),w(`❌ Error stopping sale: ${I.message}`,"error")}finally{y(!1)}};j.useEffect(()=>{const I=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(H=>H.address===t);I&&u(I.name);const $=JSON.parse(localStorage.getItem(`collection_${t}_phases`))||[];$.some(H=>H.key==="Public")||($.push({key:"Public",enumValue:3}),localStorage.setItem(`collection_${t}_phases`,JSON.stringify($))),r($),(async()=>{const H=JSON.parse(localStorage.getItem(`collection_${t}_nfts`))||[],M=await Promise.all(H.map(async(O,z)=>{let G={...O,id:O.id??`nft-${z}`};if(G.image?.startsWith("ipfs://")&&(G.image=Ln(G.image)[0]),!G.image&&G.tokenURI)try{const Z=Ln(G.tokenURI),D=await Rve(Z);G.image=D.image?Ln(D.image)[0]:G.image}catch{}return G})),B=Array.from(new Map(M.map(O=>[O.id,O])).values());a(B),localStorage.setItem(`collection_${t}_nfts`,JSON.stringify(B))})(),x()},[t]);const E=I=>{const $=[...n,I];r($),localStorage.setItem(`collection_${t}_phases`,JSON.stringify($)),o(!1),w(`✅ Phase "${I.key}" added.`)},C=I=>{if(Ove.includes(I)){w(`❌ Cannot remove required phase "${I}"`,"error");return}const $=n.filter(H=>H.key!==I);r($),localStorage.setItem(`collection_${t}_phases`,JSON.stringify($)),w(`ℹ️ Phase "${I}" removed.`,"info")},k=I=>{const $=JSON.parse(localStorage.getItem(`phases_${t}`))||{};console.log("Current saved phases:",$);const H=y9.find(O=>O.enumValue===I)?.key;if(!H)return;const M=$[H]?.active;M&&Object.keys($).forEach(O=>{O!==H&&$[O]?.active&&($[O].active=!1,console.log(`Deactivating phase ${O} to activate ${H}`))});const B=n.map(O=>O.key===H?{...O,active:$[H]?.active||!1}:O);console.log("Updated phases:",B),console.log("Phase settings:",$),r(B),localStorage.setItem(`collection_${t}_phases`,JSON.stringify(B)),localStorage.setItem(`phases_${t}`,JSON.stringify($)),w(`🚀 Phase ${H} ${M?"activated":"deactivated"}!`)},A=()=>[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}].filter(I=>n.some($=>$.key===I.key)).map(I=>n.find($=>$.key===I.key)).filter(Boolean),_=y9.filter(I=>!n.some($=>$.key===I.key)),P=A();return l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 text-white font-sans",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm",children:"← Back"}),l.jsxs("div",{className:"flex gap-2",children:[m&&l.jsx("button",{onClick:N,disabled:b,className:"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-sm flex items-center gap-2",children:b?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Stopping..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Dce,{size:16}),"Stop Sale"]})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>o(!i),className:"px-4 py-2 rounded bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-sm",disabled:_.length===0||m,children:"+ Add Phase"}),i&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-800 border border-zinc-600 rounded shadow-lg z-10",children:_.length===0?l.jsx("div",{className:"px-4 py-2 text-sm text-zinc-400",children:"All phases added"}):_.map(I=>l.jsx("button",{onClick:()=>E(I),className:"w-full text-left px-4 py-2 hover:bg-zinc-700 text-sm",children:I.key},I.key))})]})]})]}),l.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent",children:["Configure Phases for ",c||"Your Collection"]}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Set prices, limits, and timings for each sale phase. Public phase is required. Only one phase can be active at a time."}),P.length===0?l.jsx("p",{className:"text-zinc-400",children:"No phases configured. Public phase will be added automatically."}):l.jsx(ZF,{collectionAddress:t,phases:P,onActivatePhase:k,onRemovePhase:C,nfts:s,isCollectionLaunched:m}),h.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${h.type==="error"?"bg-red-800 text-white":h.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:h.message})})]})},Mve=()=>{const{address:t}=my(),e=Xr(),[n,r]=j.useState("Whitelist"),[s,a]=j.useState([]),[i,o]=j.useState(""),[c,u]=j.useState([]),[h,f]=j.useState(0),[m,g]=j.useState({visible:!1,message:"",type:"success"});j.useEffect(()=>{if(m.visible){const C=setTimeout(()=>g(k=>({...k,visible:!1})),3e3);return()=>clearTimeout(C)}},[m.visible]);const b=(C,k="success")=>{g({visible:!0,message:C,type:k})};j.useEffect(()=>{const C=JSON.parse(localStorage.getItem(`phases_${t}`))||{};f(C[n]?.allocated||0);const k=`${t}_${n}_whitelist`,A=JSON.parse(localStorage.getItem(k))||[];u(A)},[t,n]);const y=C=>{const k=C.target.files[0];if(k){const A=new FileReader;A.onload=_=>{const P=_.target.result.split(/\r?\n/).filter(Boolean);a(P)},A.readAsText(k)}},w=C=>{const k=C.target.value;console.log("🔍 === MANUAL INPUT DEBUG ==="),console.log("Raw text:",k),console.log("Text length:",k.length),console.log("Text char codes:",Array.from(k).map(P=>P.charCodeAt(0)));const A=k.split(/\r?\n/).filter(Boolean);console.log("Split lines:",A),console.log("Lines count:",A.length),console.log("Each line:",A.map((P,I)=>({index:I,line:P,length:P.length,trimmed:P.trim()})));const _=A.map(P=>P.trim()).filter(P=>P.length>0).filter(P=>{try{return getAddress(P),!0}catch(I){return console.warn("Invalid Ethereum address:",P,I.message),!1}});console.log("Cleaned and validated lines:",_),console.log("🔍 === END MANUAL INPUT DEBUG ==="),a(_)},x=C=>{if(n==="Public"||C.length===0)return;console.log("🌳 === MERKLE DEBUG ==="),console.log("Input addresses:",C),console.log("Phase:",n);const{root:k,proofs:A}=eU(C);console.log("Generated root:",k),console.log("Generated proofs for each address:"),Object.entries(A).forEach(([I,$])=>{console.log(`  ${I}:`,$)});const _=`${t}_${n}_whitelist_proofs`,P=`${t}_${n}_whitelist_root`;localStorage.setItem(_,JSON.stringify(A)),localStorage.setItem(P,k),console.log("Merkle root:",k),console.log("Merkle proofs regenerated:",A),console.log("🌳 === END MERKLE DEBUG ===")},N=()=>{const C=n==="Public",k=c.length+s.length;console.log("💾 === SAVE DEBUG ==="),console.log("Phase:",n),console.log("Is public phase:",C),console.log("Allocated slots:",h),console.log("Saved addresses count:",c.length),console.log("New addresses count:",s.length),console.log("Total addresses:",k),console.log("New addresses:",s),console.log("Saved addresses:",c);const A=s.filter(I=>{try{return getAddress(I),!1}catch{return!0}});if(A.length>0){b(`❌ Invalid addresses found: ${A.join(", ")}`,"error");return}if(!C&&k>h){b(`❌ Too many addresses! Allocated: ${h}, Already saved: ${c.length}, New: ${s.length}`,"error");return}const _=Array.from(new Set([...c,...s]));console.log("Combined addresses (unique):",_),console.log("Combined count:",_.length);const P=`${t}_${n}_whitelist`;localStorage.setItem(P,JSON.stringify(_)),u(_),a([]),b(`✅ Saved ${_.length} addresses for ${n}`),x(_),console.log("💾 === END SAVE DEBUG ===")},E=c.filter(C=>C.includes(i));return l.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8 pb-24 text-white font-sans",children:[l.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm mb-4",children:"← Back"}),l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Manage Whitelists"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Select Phase"}),l.jsxs("select",{value:n,onChange:C=>r(C.target.value),className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors text-white",children:[l.jsx("option",{value:"Whitelist",children:"Whitelist"}),l.jsx("option",{value:"FCFS",children:"FCFS"})]})]}),l.jsxs("div",{className:"mb-6 p-4 bg-zinc-900 rounded-lg border border-zinc-700",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Phase Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Allocated Slots"}),l.jsx("div",{className:"text-xl font-bold text-blue-400",children:n==="Public"?"∞":h})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Saved Addresses"}),l.jsx("div",{className:"text-xl font-bold text-green-400",children:c.length})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Remaining Slots"}),l.jsx("div",{className:"text-xl font-bold text-pink-400",children:n==="Public"?"∞":Math.max(h-c.length,0)})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Upload Addresses"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Upload Addresses"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",accept:".csv,.txt",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"file-upload"}),l.jsxs("label",{htmlFor:"file-upload",className:"flex items-center justify-center w-full h-12 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:opacity-90 text-white font-semibold text-sm cursor-pointer transition-all duration-200 border border-transparent hover:border-white/20",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload .CSV/.TXT"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Or Paste Addresses"}),l.jsx("textarea",{rows:6,placeholder:"Paste addresses (one per line)",onChange:w,className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsx("button",{onClick:N,className:"w-full py-3 rounded-lg bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white font-semibold transition-all duration-200",children:"Save List"})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Saved Addresses"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Search Addresses"}),l.jsx("input",{type:"text",placeholder:"Search address",value:i,onChange:C=>o(C.target.value),className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors text-sm"})]}),l.jsx("div",{className:"bg-zinc-900 rounded-lg border border-zinc-700 max-h-64 overflow-y-auto",children:E.length===0?l.jsx("div",{className:"p-4 text-center text-zinc-500 text-sm",children:"No matching addresses"}):l.jsx("ul",{className:"text-sm",children:E.map((C,k)=>l.jsxs("li",{className:"flex justify-between items-center border-b border-zinc-700 py-3 px-4 hover:bg-zinc-800 transition-colors",children:[l.jsx("span",{className:"font-mono text-xs",children:C}),l.jsx("button",{onClick:()=>{const A=c.filter(_=>_!==C);u(A),localStorage.setItem(`${t}_${n}_whitelist`,JSON.stringify(A)),x(A),b(`✅ Removed address: ${C}`)},className:"text-xs text-red-400 hover:text-red-300 hover:underline transition-colors",children:"Remove"})]},k))})})]})]}),m.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${m.type==="error"?"bg-red-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:m.message})})]})},zve=()=>{const{address:t}=my(),e=Xr(),[n,r]=j.useState([]),[s,a]=j.useState({}),[i,o]=j.useState([]),[c,u]=j.useState("all"),[h,f]=j.useState("auto"),[m,g]=j.useState({totalSupply:0,minted:0,remaining:0,revenue:"0 STT",phaseBreakdown:[],blockchainStats:null}),[b,y]=j.useState(!1),[w,x]=j.useState(!0),[N,E]=j.useState(!1),[C,k]=j.useState(!1),[A,_]=j.useState(null),[P,I]=j.useState(!1),[$,H]=j.useState(null),M=(J,Q)=>{if(!J.length||!Q)return J;console.log("🔄 Starting auto-distribution with:",{totalNFTs:J.length,phases:Object.keys(Q),phaseAllocations:Object.entries(Q).map(([ie,me])=>({key:ie,allocated:me.allocated||0,active:me.active}))});let ae=0;const ue=[...J],re=["Whitelist","FCFS","Public"];for(const ie of re){const me=Q[ie];if(!me||!me.active){console.log(`⏭️ Skipping ${ie} - not active or not found`);continue}const oe=me.allocated||0;console.log(`📊 Processing ${ie}: allocated ${oe} NFTs, starting from index ${ae}`);for(let he=0;he<oe&&ae<ue.length;he++){const Ne=ue[ae];Ne&&(ue[ae]={...Ne,phaseKey:ie,price:me.price||0,distributionType:"auto",originalIndex:ae},console.log(`✅ Assigned NFT ${ae} (${Ne.name}) to ${ie} phase`)),ae++}}for(let ie=ae;ie<ue.length;ie++){const me=ue[ie];me&&(ue[ie]={...me,phaseKey:"unassigned",price:0,distributionType:"auto",originalIndex:ie},console.log(`⚠️ NFT ${ie} (${me.name}) marked as unassigned`))}return console.log("🎉 Auto-distribution complete. Summary:",{totalProcessed:ue.length,byPhase:Object.entries(Q).reduce((ie,[me,oe])=>(ie[me]=ue.filter(he=>he.phaseKey===me).length,ie),{}),unassigned:ue.filter(ie=>ie.phaseKey==="unassigned").length}),ue},B=(J,Q)=>{const ae=Object.values(Q).reduce((ie,me)=>ie+(me.allocated||0),0),ue=J.length,re=J.filter(ie=>ie.phaseKey!=="unassigned").length;return console.log("🔍 Distribution validation:",{totalNFTs:ue,totalAllocated:ae,assignedNFTs:re,unassigned:ue-re,phases:Object.entries(Q).map(([ie,me])=>({key:ie,allocated:me.allocated||0,actual:J.filter(oe=>oe.phaseKey===ie).length}))}),ae!==re&&(console.warn("⚠️ Distribution mismatch detected!"),console.warn(`Expected ${ae} assigned NFTs, but found ${re}`)),{isValid:ae===re,totalNFTs:ue,totalAllocated:ae,assignedNFTs:re,unassigned:ue-re}},O=async(J,Q)=>{const ae=J.length,ue=await F(),re=ue?ue.totalSupply:0,ie=ae-re,me=ue?ue.currentPhase:0,oe=await V(),he=Object.entries(Q).map(([W,ye])=>{const ce=J.filter(se=>se.phaseKey===W),ne=ce.length*(ye.price||0);return{name:W,allocated:ye.allocated||0,actual:ce.length,price:ye.price||0,revenue:ne,percentage:ae>0?ce.length/ae*100:0}}),Ne=he.reduce((W,ye)=>W+ye.revenue,0),Re=B(J,Q);return{totalSupply:ae,minted:re,remaining:ie,currentPhase:me,revenue:`${Ne} STT`,phaseBreakdown:he,validation:Re,blockchainStats:ue,profitData:oe}},z=J=>{switch(J){case"Whitelist":return"border-blue-500 bg-blue-50";case"FCFS":return"border-purple-500 bg-purple-50";case"Public":return"border-pink-500 bg-pink-50";default:return"border-gray-300 bg-gray-50"}},G=J=>{if(!J)return[];if(J.startsWith("ipfs://")){const Q=J.replace("ipfs://","");return[`https://gateway.pinata.cloud/ipfs/${Q}`,`https://ipfs.io/ipfs/${Q}`,`https://cloudflare-ipfs.com/ipfs/${Q}`]}return[J]},Z=async J=>{for(const Q of J)try{const ae=await fetch(Q);if(ae.ok)return await ae.json()}catch{}throw new Error("All IPFS gateways failed")};j.useEffect(()=>{(async()=>{console.log("🔍 Fetching NFTs for collection:",t);const Q=JSON.parse(localStorage.getItem(`collection_${t}_nfts`))||[];if(console.log("📦 Found stored NFTs:",Q.length),Q.length===0){console.log("⚠️ No NFTs found in localStorage for collection:",t),r([]);return}console.log("🖼️ Processing NFT images...");const ae=await Promise.all(Q.map(async(ue,re)=>{console.log(`📝 Processing NFT ${re+1}/${Q.length}:`,ue.name);try{if(ue.image?.startsWith("ipfs://"))return console.log(`🔄 Converting IPFS image for ${ue.name}`),{...ue,image:G(ue.image)[0]};if(!ue.image&&ue.tokenURI){console.log(`🔄 Fetching metadata for ${ue.name} from tokenURI`);try{const ie=G(ue.tokenURI),me=await Z(ie);return console.log(`✅ Metadata fetched for ${ue.name}:`,me.name),{...ue,image:me.image?G(me.image)[0]:ue.image}}catch(ie){return console.error(`❌ Failed to fetch metadata for ${ue.name}:`,ie.message),ue}}return console.log(`✅ NFT ${ue.name} processed successfully`),ue}catch(ie){return console.error(`❌ Error processing NFT ${ue.name}:`,ie),ue}}));console.log("🎉 All NFTs processed. Setting state with:",ae.length,"NFTs"),r(ae),localStorage.setItem(`collection_${t}_nfts`,JSON.stringify(ae))})();const J=JSON.parse(localStorage.getItem(`phases_${t}`))||{};console.log("📋 Found phases:",J),a(J),ee()},[t]),j.useEffect(()=>{(async()=>{if(n.length>0&&Object.keys(s).length>0){console.log("🔄 Auto-distributing NFTs based on phases...");const J=M(n,s);r(J),localStorage.setItem(`collection_${t}_nfts`,JSON.stringify(J));const Q=await O(J,s);g(Q)}})()},[s,t]);const D=J=>{const Q=n.filter((ae,ue)=>ue!==J);r(Q),localStorage.setItem(`collection_${t}_nfts`,JSON.stringify(Q)),I(!1),H(null)},K=()=>{e(`/preview/${t}`)},ee=async()=>{try{x(!0);const J=new wr(window.ethereum),Q=new Pt(t,["function contractURI() public view returns (string)","function baseTokenURI() public view returns (string)","function maxSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function phases(uint256) public view returns (tuple(uint256,uint256,uint256,uint256,bytes32,bool))"],J),ae=await Q.contractURI(),ue=await Q.baseTokenURI(),re=await Q.maxSupply(),ie=ae&&ae!==""&&ue&&ue!=="";return console.log("🔍 Collection launch status check:",{address:t,contractURI:ae||"empty",baseTokenURI:ue||"empty",maxSupply:re.toString(),isLaunched:ie}),y(ie),ie}catch(J){return console.error("❌ Error checking collection launch status:",J),y(!1),!1}finally{x(!1)}},F=async()=>{try{const J=new wr(window.ethereum),Q=new Pt(t,["function totalSupply() public view returns (uint256)","function maxSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function mintedPerWallet(address, uint256) public view returns (uint256)","function currentPhase() public view returns (uint256)","function owner() public view returns (address)","function balanceOf(address) public view returns (uint256)"],J),ae=await Q.totalSupply(),ue=await Q.maxSupply(),re=3,ie=[];let me=-1;const oe=Math.floor(Date.now()/1e3);for(let he=0;he<re;he++)try{const Ne=await Q.phases(he),Re={phaseId:he,start:Number(Ne.start),end:Number(Ne.end),price:Xf(Ne.price,18),maxPerWallet:Number(Ne.maxPerWallet),isPublic:Ne.isPublic,merkleRoot:Ne.merkleRoot,isActive:oe>=Number(Ne.start)&&oe<=Number(Ne.end)};ie.push(Re),Re.isActive&&(me=he)}catch{console.log(`Phase ${he} not found or not accessible`)}if(me===-1){for(let he=0;he<ie.length;he++)if(oe<ie[he].start){me=he;break}}return console.log("🔗 Blockchain stats fetched:",{totalSupply:ae.toString(),maxSupply:ue.toString(),currentActivePhase:me,currentTime:oe,phaseStats:ie.map(he=>({phaseId:he.phaseId,start:new Date(he.start*1e3).toISOString(),end:new Date(he.end*1e3).toISOString(),isActive:he.isActive,price:he.price}))}),{totalSupply:Number(ae),maxSupply:Number(ue),remaining:Number(ue)-Number(ae),currentPhase:me,phaseStats:ie}}catch(J){return console.error("❌ Error fetching blockchain stats:",J),null}},V=async()=>{try{const J=new wr(window.ethereum),Q=new Pt(t,["function totalSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function mintedPerWallet(address, uint256) public view returns (uint256)"],J),ae=await Q.totalSupply(),ue=Number(ae);if(ue===0)return{totalProfit:0,profitInSTT:"0 STT",profitInUSD:"$0",averagePrice:0};const re=[],ie=3;for(let Ne=0;Ne<ie;Ne++)try{const Re=await Q.phases(Ne);re.push({phaseId:Ne,price:Xf(Re.price,18)})}catch{console.log(`Phase ${Ne} not accessible`)}const me=re.length>0?re.reduce((Ne,Re)=>Ne+parseFloat(Re.price),0)/re.length:0,oe=ue*me,he=oe*.1;return console.log("💰 Profit calculation:",{mintedCount:ue,averagePrice:me,totalProfit:oe,profitInUSD:he,phasePrices:re}),{totalProfit:oe,profitInSTT:`${oe.toFixed(2)} STT`,profitInUSD:`$${he.toFixed(2)}`,averagePrice:me,mintedCount:ue}}catch(J){return console.error("❌ Error calculating profit:",J),{totalProfit:0,profitInSTT:"0 STT",profitInUSD:"$0",averagePrice:0,mintedCount:0}}};return l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pb-24",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("button",{onClick:()=>e(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm",children:"Back"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{const J=await O(n,s);g(J)},className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-sm",children:"Reveal"}),l.jsx("button",{onClick:K,className:"px-4 py-2 rounded bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-sm",children:"Preview Storefront"})]})]}),w?l.jsx("div",{className:"mb-6 p-4 bg-zinc-900 rounded-lg border border-zinc-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Checking collection status..."})]})}):b?l.jsxs("div",{className:"mb-6 p-4 bg-yellow-900/20 rounded-lg border border-yellow-500",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-yellow-400 text-lg",children:"⚠️"}),l.jsx("span",{className:"text-yellow-400 font-semibold",children:"Collection Already Launched"})]}),l.jsxs("div",{className:"text-sm text-yellow-300",children:[l.jsx("p",{children:"This collection has been launched and is now live. NFT distribution cannot be changed as it affects the minting process."}),l.jsx("p",{className:"mt-2",children:"• NFT phases are locked to prevent minting conflicts"}),l.jsx("p",{children:"• Only viewing and analytics are available"}),l.jsx("p",{children:"• To make changes, you would need to create a new collection"})]})]}):l.jsxs("div",{className:"mb-6 p-4 bg-blue-900/20 rounded-lg border border-blue-500",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-blue-400 text-lg",children:"📝"}),l.jsx("span",{className:"text-blue-400 font-semibold",children:"Collection Not Launched"})]}),l.jsxs("div",{className:"text-sm text-blue-300",children:[l.jsx("p",{children:"You can still configure NFT distribution and phases before launching the collection."}),l.jsx("p",{className:"mt-2",children:"• NFT distribution is automatically updated when you change phase settings"}),l.jsx("p",{children:"• Edit individual NFT metadata (name, description, image)"}),l.jsx("p",{children:"• Configure phase settings (prices, allocations, timing)"}),l.jsx("p",{children:"• Once launched, NFT distribution becomes locked"})]})]}),l.jsxs("div",{className:`mb-6 rounded-lg border ${N?"bg-purple-900/10 border-purple-500 shadow-purple-500/20":"bg-zinc-800 border-zinc-600"}`,children:[l.jsx("div",{onClick:()=>E(!N),className:`p-4 border-b border-zinc-700/50 cursor-pointer transition-all duration-200 hover:scale-[1.01] hover:shadow-lg ${N?"hover:bg-purple-900/20":"hover:bg-zinc-700 hover:border-zinc-500"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-6 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Total NFTs:"}),l.jsx("span",{className:"text-white font-semibold ml-1",children:n.length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Assigned:"}),l.jsx("span",{className:"text-green-400 font-semibold ml-1",children:n.filter(J=>J.phaseKey!=="unassigned").length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Unassigned:"}),l.jsx("span",{className:"text-red-400 font-semibold ml-1",children:n.filter(J=>J.phaseKey==="unassigned").length})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-zinc-400",children:"Status:"}),m.validation?.isValid?l.jsx("span",{className:"text-green-400 text-xs",children:"✅ Complete"}):l.jsx("span",{className:"text-yellow-400 text-xs",children:"⚠️ Incomplete"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-xs text-zinc-500",children:N?"Click to hide detailed analytics":"Click to show detailed analytics"}),l.jsx("span",{className:`text-xs transition-transform duration-200 ${N?"rotate-180":""}`,children:"▼"})]})]})}),N&&l.jsxs("div",{className:"p-4 animate-slideDown",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Detailed Analytics"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-zinc-500",children:m.blockchainStats?"🔗 Live blockchain data":"📱 Local data"}),l.jsxs("span",{className:"text-xs text-zinc-400",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),m.validation&&l.jsxs("div",{className:`mb-4 p-3 rounded-lg border ${m.validation.isValid?"bg-green-900/20 border-green-500":"bg-red-900/20 border-red-500"}`,children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsxs("span",{className:`text-sm font-semibold ${m.validation.isValid?"text-green-400":"text-red-400"}`,children:[m.validation.isValid?"✅":"⚠️"," Distribution Status"]})}),l.jsxs("div",{className:"text-xs text-zinc-400",children:[l.jsxs("div",{children:["Total NFTs: ",m.validation.totalNFTs]}),l.jsxs("div",{children:["Allocated: ",m.validation.assignedNFTs]}),l.jsxs("div",{children:["Unassigned: ",m.validation.unassigned]}),!m.validation.isValid&&l.jsx("div",{className:"text-red-400 mt-1",children:"⚠️ Distribution mismatch! Some NFTs are not properly assigned to phases."})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Collection Quality Score:"}),(()=>{const J=n.length,Q=n.filter(me=>me.description).length,ae=n.filter(me=>me.attributes?.length>0).length,ue=n.filter(me=>me.phaseKey&&me.phaseKey!=="unassigned").length,re=Math.round((Q/J*.3+ae/J*.4+ue/J*.3)*100),ie=me=>me>=80?"text-green-400":me>=60?"text-yellow-400":"text-red-400";return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`text-sm font-semibold ${ie(re)}`,children:[re,"/100"]}),l.jsx("div",{className:"flex-1 bg-zinc-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${re>=80?"bg-green-500":re>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${re}%`}})}),l.jsx("span",{className:"text-xs text-zinc-500",children:re>=80?"Excellent":re>=60?"Good":"Needs Work"})]})})()]}),m.blockchainStats?.phaseStats&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Blockchain Phase Status:"}),m.blockchainStats.phaseStats.map((J,Q)=>l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsxs("span",{className:`font-semibold ${J.isActive?"text-green-400":"text-zinc-500"}`,children:["Phase ",J.phaseId," (",Q===0?"Whitelist":Q===1?"FCFS":"Public","):"]}),l.jsxs("span",{className:"ml-2",children:[J.isActive?"🟢 Active":"⚪ Inactive"," | Price: ",J.price," STT |",new Date(J.start*1e3).toLocaleDateString()," - ",new Date(J.end*1e3).toLocaleDateString()]})]},Q))]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Total Supply"}),l.jsx("div",{className:"text-xl font-bold text-blue-400",children:m.totalSupply}),l.jsxs("div",{className:"text-xs text-zinc-500",children:["Max: ",m.blockchainStats?.maxSupply||"N/A"]})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Minted"}),l.jsx("div",{className:"text-xl font-bold text-green-400",children:m.minted}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[m.totalSupply>0?(m.minted/m.totalSupply*100).toFixed(1):0,"% sold"]})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Remaining"}),l.jsx("div",{className:"text-xl font-bold text-pink-400",children:m.remaining}),l.jsx("div",{className:"text-xs text-zinc-500",children:"Available to mint"})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Current Phase"}),l.jsx("div",{className:"text-xl font-bold text-yellow-400",children:m.currentPhase===0?"Whitelist":m.currentPhase===1?"FCFS":m.currentPhase===2?"Public":m.currentPhase===-1?"None":"N/A"}),l.jsx("div",{className:"text-xs text-zinc-500",children:m.currentPhase>=0?`Phase ${m.currentPhase}`:"No active phase"})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Total Profit"}),l.jsx("div",{className:"text-xl font-bold text-emerald-400",children:m.profitData?.profitInSTT||"0 STT"}),l.jsx("div",{className:"text-xs text-zinc-500",children:m.profitData?.profitInUSD||"$0"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold mb-2 text-white",children:"Phase Distribution"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:m.phaseBreakdown.map(J=>l.jsxs("div",{className:"p-3 bg-zinc-800 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"font-semibold text-white",children:J.name}),l.jsxs("span",{className:"text-sm text-zinc-400",children:[J.percentage.toFixed(1),"%"]})]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[J.actual," / ",J.allocated," NFTs"]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[J.price," STT each"]}),l.jsxs("div",{className:"text-sm text-green-400 font-semibold",children:[J.revenue," STT total"]})]},J.name))})]})]})]}),l.jsxs("div",{className:"mb-4 flex gap-4",children:[l.jsxs("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded ${c==="all"?"bg-zinc-700":"bg-zinc-800"} text-sm`,children:["All (",n.length,")"]}),l.jsxs("button",{onClick:()=>u("Whitelist"),className:`px-4 py-2 rounded ${c==="Whitelist"?"bg-blue-600":"bg-zinc-800"} text-sm`,children:["Whitelist (",n.filter(J=>J.phaseKey==="Whitelist").length,")"]}),l.jsxs("button",{onClick:()=>u("FCFS"),className:`px-4 py-2 rounded ${c==="FCFS"?"bg-purple-600":"bg-zinc-800"} text-sm`,children:["FCFS (",n.filter(J=>J.phaseKey==="FCFS").length,")"]}),l.jsxs("button",{onClick:()=>u("Public"),className:`px-4 py-2 rounded ${c==="Public"?"bg-pink-600":"bg-zinc-800"} text-sm`,children:["Public (",n.filter(J=>J.phaseKey==="Public").length,")"]}),l.jsxs("button",{onClick:()=>u("unassigned"),className:`px-4 py-2 rounded ${c==="unassigned"?"bg-gray-600":"bg-zinc-800"} text-sm`,children:["Unassigned (",n.filter(J=>J.phaseKey==="unassigned").length,")"]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map((J,Q)=>c!=="all"&&J.phaseKey!==c?null:l.jsxs("div",{className:`relative bg-zinc-900 rounded-xl border-2 p-3 ${z(J.phaseKey)}`,children:[l.jsx("img",{src:J.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:J.name,className:"rounded mb-2 w-full h-40 object-cover"}),l.jsx("h3",{className:"text-sm font-semibold mb-1",children:J.name}),l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsx("span",{className:"font-semibold",children:"Phase:"})," ",J.phaseKey||"Unassigned"]}),l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsx("span",{className:"font-semibold",children:"Price:"})," ",J.price||0," STT"]}),l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsx("span",{className:"font-semibold",children:"Type:"})," ",J.distributionType||"auto"]}),l.jsxs("div",{className:"text-xs text-zinc-500 mb-2",children:[l.jsx("span",{className:"font-semibold",children:"Index:"})," ",Q]})]}),l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>{_(J),k(!0)},className:"px-2 py-1 rounded text-xs bg-blue-600 hover:bg-blue-500 text-white",title:"View NFT details",children:"Details"}),l.jsx("button",{onClick:()=>{H({nft:J,index:Q}),I(!0)},disabled:b,className:`px-2 py-1 rounded text-xs text-white ${b?"bg-zinc-700 text-zinc-400 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,title:"Delete NFT from collection",children:"Delete"})]})})]},J.id))}),C&&A&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-md w-full text-center animate-fadeIn relative",children:[l.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>k(!1),children:"✕"}),l.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-[#FF0080] to-[#00A3FF] bg-clip-text text-transparent",children:"NFT Details"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("img",{src:A.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:A.name,className:"w-32 h-32 object-cover rounded-lg mx-auto mb-3"}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:A.name})]}),l.jsxs("div",{className:"text-left text-sm space-y-2 mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Phase:"}),l.jsx("span",{className:"text-white font-medium",children:A.phaseKey||"Unassigned"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Price:"}),l.jsxs("span",{className:"text-white font-medium",children:[A.price||0," STT"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Distribution:"}),l.jsx("span",{className:"text-white font-medium",children:A.distributionType||"auto"})]}),A.description&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[l.jsx("span",{className:"text-zinc-400 block mb-1",children:"Description:"}),l.jsx("span",{className:"text-white text-sm",children:A.description})]}),A.attributes&&A.attributes.length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[l.jsxs("span",{className:"text-zinc-400 block mb-2",children:["Attributes (",A.attributes.length,"):"]}),l.jsx("div",{className:"space-y-1",children:A.attributes.map((J,Q)=>l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsxs("span",{className:"text-zinc-400",children:[J.trait_type,":"]}),l.jsx("span",{className:"text-white",children:J.value})]},Q))})]})]}),l.jsx("button",{onClick:()=>k(!1),className:"w-full py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Close"})]})}),P&&$&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-md w-full text-center animate-fadeIn relative",children:[l.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>{I(!1),H(null)},children:"✕"}),l.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"⚠️ Delete NFT"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("img",{src:$.nft.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:$.nft.name,className:"w-24 h-24 object-cover rounded-lg mx-auto mb-3"}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:$.nft.name})]}),l.jsxs("div",{className:"text-center text-sm space-y-2 mb-6",children:[l.jsx("p",{className:"text-zinc-300",children:"Are you sure you want to delete this NFT from your collection?"}),l.jsx("p",{className:"text-red-400 text-xs",children:"This action cannot be undone. The NFT will be permanently removed."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{I(!1),H(null)},className:"flex-1 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Cancel"}),l.jsx("button",{onClick:()=>D($.index),className:"flex-1 py-2 rounded bg-red-600 hover:bg-red-500 text-white text-sm font-medium",children:"Delete NFT"})]})]})})]})};j.lazy(()=>ol(()=>vd(()=>import("./VirtualList-CkN222eY-fTBMFPK0.js"),__vite__mapDeps([2,1])),px([3,1,2])));const b9=t=>{const e=Number(t);return!isFinite(e)||e===0?"0":e>=1?e.toLocaleString(void 0,{maximumFractionDigits:2}):e>=.1?e.toLocaleString(void 0,{maximumFractionDigits:3}):e>=.01?e.toLocaleString(void 0,{maximumFractionDigits:4}):e.toLocaleString(void 0,{maximumFractionDigits:6})},Lve=t=>{if(t==null)return"0";if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="bigint")return t.toString();try{return String(t)}catch{return"0"}},Bve="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09";let og=[],J4=!1;const Fve=async()=>{if(!(J4||og.length===0)){for(J4=!0;og.length>0;){const t=og.splice(0,5);try{await Promise.allSettled(t.map(e=>e()))}catch(e){console.error("Batch request error:",e)}await new Promise(e=>setTimeout(e,100))}J4=!1}},tU=t=>new Promise((e,n)=>{og.push(async()=>{try{const r=await t();e(r)}catch(r){n(r)}}),Fve()}),Sv=new Map,Uve=600*1e3,Dve=async t=>{try{if(!t||!window.ethereum)return!1;const e=`factory_collections_${Date.now()}`,n=Sv.get(e);return n&&Date.now()-n.timestamp<Uve?n.collections.includes(t.toLowerCase()):await tU(async()=>{const r=new In("https://dream-rpc.somnia.network/"),s=await new Pt(Bve,Rp,r).getAllCollections();return Sv.set(e,{collections:s.map(a=>a.toLowerCase()),timestamp:Date.now()}),s.map(a=>a.toLowerCase()).includes(t.toLowerCase())})}catch(e){return console.error("❌ Error checking factory collection:",e),!1}},lg=new Map,Wve=1800*1e3,Hve=async(t,e)=>{try{const n=`${e}_${t.id}_image`,r=lg.get(n);if(r&&Date.now()-r.timestamp<Wve)return r.url;const s=await Dve(e);if(s&&e&&t.id)try{const i=await tU(async()=>{const o=new In("https://dream-rpc.somnia.network/"),c=new Pt(e,["function tokenURI(uint256 tokenId) view returns (string)","function ownerOf(uint256 tokenId) view returns (address)"],o),u=typeof t.id=="string"?parseInt(t.id,10):t.id;try{if(await c.ownerOf(u)===Xd)return console.log(`Token ${u} doesn't exist yet`),null}catch(f){return console.log(`Token ${u} doesn't exist yet:`,f.message),null}const h=await c.tokenURI(u);if(h){let f=h;h.startsWith("ipfs://")&&(f=h.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"));const m=await Promise.race([fetch(f),new Promise((g,b)=>setTimeout(()=>b(new Error("Metadata fetch timeout")),2e3))]);if(m.ok){const g=await m.json();if(g.image){let b=g.image;return b.startsWith("ipfs://")&&(b=b.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/")),lg.set(n,{url:b,timestamp:Date.now()}),b}}}return null});if(i)return i}catch(i){console.error("Error fetching factory NFT image:",i)}let a=t.image||t.image_url||t.media_url||"";return!a&&t.metadata?.image&&(a=t.metadata.image),a?(a.startsWith("ipfs://")&&(s?a=a.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"):a=a.replace("ipfs://","https://ipfs.io/ipfs/")),lg.set(n,{url:a,timestamp:Date.now()}),a):null}catch(n){return console.error("Error getting NFT image URL:",n),null}},Gve=()=>{const{address:t}=my(),e=Xr(),[n,r]=j.useState(null),[s,a]=j.useState(!0),[i,o]=j.useState({visible:!1,message:"",txHash:""}),{address:c,isConnected:u}=yo(),h=async Te=>{if(!window.ethereum)throw new Error("Wallet not connected");const We=await new wr(window.ethereum).getSigner(),Xe=new Pt(Te.address,Te.abi,We),Ye={...Te.value>0?{value:Te.value}:{},...Te.gasSettings||{}};return(await Xe[Te.functionName](...Te.args,Ye)).hash},[f,m]=j.useState(null),[g,b]=j.useState(0),[y,w]=j.useState([]),[x,N]=j.useState({isWhitelisted:!1}),[E,C]=j.useState(!1),[k,A]=j.useState(null),[_,P]=j.useState(null),[I,$]=j.useState(0),[H,M]=j.useState(!1),[B,O]=j.useState({}),[z,G]=j.useState(!1),Z=j.useMemo(()=>window.innerWidth<768,[]),D=j.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]),[K,ee]=j.useState(!1),[F,V]=j.useState(1),[J,Q]=j.useState("0"),[ae,ue]=j.useState(!1),[re,ie]=j.useState(!1),[me,oe]=j.useState(!1),[he,Ne]=j.useState(null),[Re,W]=j.useState(!1),[ye,ce]=j.useState(!1),[ne,se]=j.useState(!1),[fe,Ie]=j.useState([]),[je,be]=j.useState(!1),[Be,$e]=j.useState({website:"",twitter:"",discord:""}),[Me,we]=j.useState(new Map),T=j.useMemo(()=>{if(!n)return[];const Te=[];return n.cover&&Te.push(n.cover),n.bannerImage&&Te.push(n.bannerImage),n.banner&&Te.push(n.banner),[...new Set(Te)]},[n]),L=j.useMemo(()=>!fe||fe.length===0?[]:fe.slice(0,6).map(Te=>Te.image).filter(Boolean),[fe]),q=j.useMemo(()=>n&&n.totalSupply?Math.min(100,Math.round(g/n.totalSupply*100)):0,[n,g]);j.useMemo(()=>n&&n.phases?Object.entries(n.phases):[],[n,n?.phases]);const le=j.useMemo(()=>Lve(_||(f&&f[1]?f[1].price:"0")),[_,f]),ge=j.useMemo(()=>b9(le),[le]),Ce=async()=>{if(n?.address)try{let Te={};n.external_link&&(Te.website=n.external_link),n.metadata&&(n.metadata.website&&(Te.website=n.metadata.website),n.metadata.twitter&&(Te.twitter=n.metadata.twitter),n.metadata.discord&&(Te.discord=n.metadata.discord),n.metadata.external_link&&!Te.website&&(Te.website=n.metadata.external_link));const We=JSON.parse(localStorage.getItem(`collection_${n.address}_social`)||"{}"),Xe={...We,...Te};console.log("🔍 Loading social links:",{fromMetadata:Te,fromLocalStorage:We,combined:Xe}),$e(Xe)}catch(Te){console.error("Error loading social links:",Te)}};j.useEffect(()=>{n?.address&&Ce()},[n?.address]);const Ae=async()=>{if(!n)return;const Te=`${n.address}_preview`,We=Me.get(Te);if(We&&Date.now()-We.timestamp<300*1e3){console.log("📦 Using cached preview data"),Ie(We.data);return}try{be(!0),console.log("🔄 Loading collection preview...");const Xe=(Ue=20)=>{const qe=[];for(let st=0;st<Ue;st++)qe.push({id:st,tokenId:st,name:`${n.name} #${st+1}`,description:`NFT #${st+1} from ${n.name}`,image:n.cover,isPlaceholder:!0});return qe},Ye=Xe(20);Ie(Ye),console.log("🚀 Showing placeholder NFTs instantly");try{if(n.metadata&&n.metadata.nfts){console.log("📦 Found NFTs in metadata, loading images in background...");const Ue=async(Fe,hn)=>{try{const xr=`nft_image_${Fe.tokenId||Fe.id||hn}`,_i=Me.get(xr);if(_i&&Date.now()-_i.timestamp<600*1e3)return console.log("📦 Using cached NFT image:",xr),{...Fe,id:Fe.tokenId||Fe.id||hn,image:_i.data,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||hn+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||hn+1} from ${n.name}`,isPlaceholder:!1};const lh=await Promise.race([Hve(Fe,n.address),new Promise((Up,_y)=>setTimeout(()=>_y(new Error("Image load timeout")),1500))]);return lh&&we(Up=>new Map(Up.set(xr,{data:lh,timestamp:Date.now()}))),{...Fe,id:Fe.tokenId||Fe.id||hn,image:lh||n.cover,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||hn+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||hn+1} from ${n.name}`,isPlaceholder:!1}}catch(xr){return console.warn(`Failed to load image for NFT ${hn}:`,xr),{...Fe,id:Fe.tokenId||Fe.id||hn,image:n.cover,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||hn+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||hn+1} from ${n.name}`,isPlaceholder:!1}}},qe=n.metadata.nfts.slice(0,20).map((Fe,hn)=>Ue(Fe,hn).catch(xr=>(console.warn(`Failed to load NFT ${hn}:`,xr),{...Fe,id:Fe.tokenId||Fe.id||hn,image:n.cover,name:Fe.name||`${n.name} #${Fe.tokenId||Fe.id||hn+1}`,description:Fe.description||`NFT #${Fe.tokenId||Fe.id||hn+1} from ${n.name}`,isPlaceholder:!1}))),st=(await Promise.allSettled(qe)).filter(Fe=>Fe.status==="fulfilled").map(Fe=>Fe.value);Ie(st),console.log("✅ All NFT images loaded"),we(Fe=>new Map(Fe.set(Te,{data:st,timestamp:Date.now()}))),be(!1);return}}catch(Ue){console.warn("⚠️ Failed to load real images, keeping placeholders:",Ue)}console.log("ℹ️ Using placeholder NFTs as fallback"),Ie(Ye),we(Ue=>new Map(Ue.set(Te,{data:Ye,timestamp:Date.now()}))),be(!1);return}catch(Xe){console.error("Error loading collection NFTs:",Xe),Ie([])}finally{be(!1)}},rt=()=>{we(new Map),Ie([]),Ae()},kt=()=>{we(new Map),lg.clear(),Sv.clear(),og=[],Ie([]),console.log("🧹 All caches cleared")};j.useEffect(()=>{const Te=setInterval(()=>{(lg.size>1e3||Sv.size>100)&&(console.warn("⚠️ High cache usage detected, clearing old entries..."),kt())},6e4);return()=>clearInterval(Te)},[]),j.useEffect(()=>{n&&Ae()},[n]),j.useEffect(()=>{u&&ae&&ue(!1)},[u,ae]),j.useEffect(()=>{if(i.visible){const Te=setTimeout(()=>o(We=>({...We,visible:!1})),5e3);return()=>clearTimeout(Te)}},[i.visible]);const ot=(Te,We="")=>{o({visible:!0,message:Te,txHash:We})};j.useEffect(()=>{if(f&&f[1]){const Te=_||f[1].price||"0",We=(parseFloat(Te)*F).toFixed(4);Q(We)}},[F,f,_]);const Ct=()=>{if(!u){ue(!0);return}if(!f){ot("❌ No active phase at the moment.");return}if(!f[1]||!f[1].isPublic&&!x?.isWhitelisted){ot("❌ You are not whitelisted for this phase.");return}if(H){ot("❌ Collection is sold out!");return}if(es>0&&I>=es){ot("❌ You have reached the wallet limit for this phase.");return}V(1),ee(!0)},nt=()=>{ee(!1),V(1),ue(!1)},Zt=Te=>{if(!f||!f[1])return;const We=f[1].maxPerWallet||0,Xe=We>0?We-I:999,Ye=Math.min(Xe,10);Te>=1&&Te<=Ye&&V(Te)},Ht=()=>{if(!f||!f[1])return 1;const Te=f[1].maxPerWallet||0,We=Te>0?Te-I:999;return Math.min(We,10)},Bn=async()=>{if(!(!f||!u)){try{(await(async()=>{try{return await switchNetwork?.(50312)}catch{return{success:!1}}})())?.success||await jd()}catch{ot("❌ Please switch to Somnia Testnet to mint.");return}try{ie(!0);const Te=await En(F);Te.success?(ot("✅ Mint successful!",Te.txHash),nt()):ot(`❌ Mint failed: ${Te.error}`)}catch(Te){console.error("❌ Mint failed with exception:",Te),ot("❌ Mint failed. Please try again.")}finally{ie(!1)}}},En=async(Te=1)=>{if(!u)return{success:!1,error:"Please connect your wallet first!"};try{(await(async()=>{try{return await switchNetwork?.(50312)}catch{return{success:!1}}})())?.success||await jd()}catch{return{success:!1,error:"Please switch to Somnia Testnet to mint."}}if(!n)return{success:!1,error:"No collection loaded."};if(!f||!f[1])return{success:!1,error:"No active phase."};const[We,Xe]=f;if(!Xe||!Xe.isPublic&&!x?.isWhitelisted)return{success:!1,error:"You are not whitelisted for this phase."};if(H)return{success:!1,error:"Collection is sold out!"};if(I+Te>Xe.maxPerWallet&&Xe.maxPerWallet>0)return{success:!1,error:"You would exceed the wallet limit for this phase!"};let Ye;if(_&&!isNaN(_)?(Ye=R1((parseFloat(_)*Te).toString()),console.log("💰 Using price from contract:",_,"STT")):Xe.price&&!isNaN(Xe.price)?(Ye=R1((parseFloat(Xe.price)*Te).toString()),console.log("💰 Using price from UI:",Xe.price,"STT")):(Ye=R1("0"),console.log("💰 Free mint detected")),Ye===void 0)return{success:!1,error:"Could not determine mint price. Please refresh the page."};let Ue=y||[];Xe.isPublic&&(Ue=[]);try{const qe=await h({chainId:50312,address:n.address,abi:Rn,functionName:"mint",args:[Te,Ue],...Ye>0?{value:Ye}:{}});console.log("✅ Mint transaction sent:",qe);const st=new In("https://dream-rpc.somnia.network/");let Fe=null,hn=3;for(;hn>0&&!Fe;)try{Fe=await st.waitForTransaction(qe,1,3e4);break}catch(xr){if(console.warn(`Transaction confirmation attempt ${4-hn} failed:`,xr),hn--,hn>0)await new Promise(_i=>setTimeout(_i,2e3));else try{Fe=await st.getTransactionReceipt(qe)}catch{throw xr}}return Fe.status===1?(ot("✅ Mint successful!",qe),b(xr=>xr+Te),$(xr=>xr+Te),setTimeout(async()=>{await Promise.all([Vn(),Ur()])},2e3),{success:!0,txHash:qe}):{success:!1,error:"Mint transaction failed on-chain"}}catch(qe){return console.error("❌ Mint Error:",qe),console.error("❌ Error details:",{message:qe.message,code:qe.code,data:qe.data,stack:qe.stack}),qe.message&&qe.message.includes("Not whitelisted")?{success:!1,error:"Not whitelisted for this phase"}:qe.message&&qe.message.includes("Wrong price")?{success:!1,error:"Wrong price. Please refresh the page."}:qe.message&&qe.message.includes("Phase not active")?{success:!1,error:"Phase is not active"}:qe.message&&qe.message.includes("insufficient funds")?{success:!1,error:"Insufficient funds for minting"}:qe.message&&qe.message.includes("user rejected")?{success:!1,error:"Transaction was rejected by user"}:{success:!1,error:`Mint failed: ${qe.message}`}}},Ur=async()=>{if(!(!c||!n||!f||!f[1]))try{const Te=new In("https://dream-rpc.somnia.network/"),We=new Pt(n.address,Rn,Te),[Xe,Ye]=f;console.log("🔍 Checking wallet limit for:",{user:c,collection:n.address,phase:Xe,phaseName:Ye.name});let Ue=null,qe=0;try{typeof We.phases=="function"?(Ue=await We.phases(Xe),qe=Number(Ue.maxPerWallet),console.log("✅ Got phase data from contract:",{start:Number(Ue.start),end:Number(Ue.end),price:Y3(Ue.price),maxPerWallet:qe,merkleRoot:Ue.merkleRoot})):console.log("ℹ️ phases function not available in contract")}catch(st){console.warn("⚠️ Could not get phase data from contract:",st.message)}if(!Ue||qe===0){console.log("🔄 Falling back to localStorage data");const st=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),Fe=Object.entries(st)[Xe];Fe&&(qe=Number(Fe[1].limit)||0,console.log("📦 Using localStorage limit:",qe))}if(console.log("📊 Final wallet limit:",qe),qe===0){console.log("ℹ️ Wallet limit is 0, treating as unlimited"),$(0);return}try{if(typeof We.mintedPerWallet=="function"){const st=await We.mintedPerWallet(c,Xe);console.log("✅ mintedPerWallet function exists, result:",Number(st)),$(Number(st));return}else console.log("ℹ️ mintedPerWallet function not available in contract")}catch(st){console.warn("⚠️ mintedPerWallet function failed:",st)}try{const st=await We.balanceOf(c);console.log("🔄 Using balanceOf as fallback:",Number(st)),Number(st)>qe&&qe>0&&(console.warn("🚨 WARNING: User balance exceeds wallet limit! This suggests:"),console.warn("   - User minted in multiple phases"),console.warn("   - Or limit was changed after mint"),console.warn("   - Or we are checking wrong phase")),$(Number(st));return}catch(st){console.warn("⚠️ balanceOf function also failed:",st)}console.log("ℹ️ Could not determine wallet limit, assuming unlimited"),$(0)}catch(Te){console.error("❌ Could not check wallet limit:",Te),$(0)}},Vn=async()=>{if(n)try{const Te=new In("https://dream-rpc.somnia.network/"),We=new Pt(n.address,Rn,Te),Xe=await We.totalSupply(),Ye=await We.maxSupply(),Ue=Number(Xe)>=Number(Ye);M(Ue),console.log("🔍 Sold out check:",{totalSupply:Number(Xe),maxSupply:Number(Ye),soldOut:Ue})}catch(Te){console.warn("⚠️ Could not check sold out status:",Te),M(!1)}},Dr=async()=>{if(n)try{const Te=new In("https://dream-rpc.somnia.network/"),We=new Pt(n.address,Rn,Te);console.log("🔍 Analyzing contract functions for:",n.address);const Xe=["mintedPerWallet","balanceOf","totalSupply","maxSupply","currentPhase","phases"];for(const Ye of Xe)try{if(Ye==="mintedPerWallet"&&f&&f[1]){const[Ue]=f;await We.mintedPerWallet(c,Ue),console.log(`✅ ${Ye} function exists`)}else if(Ye==="balanceOf"&&c)await We.balanceOf(c),console.log(`✅ ${Ye} function exists`);else if(Ye==="totalSupply")await We.totalSupply(),console.log(`✅ ${Ye} function exists`);else if(Ye==="maxSupply")await We.maxSupply(),console.log(`✅ ${Ye} function exists`);else if(Ye==="currentPhase")await We.currentPhase(),console.log(`✅ ${Ye} function exists`);else if(Ye==="phases"&&f&&f[1]){const[Ue]=f;await We.phases(Ue),console.log(`✅ ${Ye} function exists`)}}catch(Ue){console.log(`❌ ${Ye} function not available:`,Ue.message)}}catch(Te){console.error("❌ Failed to analyze contract:",Te)}};j.useEffect(()=>{n&&c&&Dr()},[n,c]);const on=async()=>{if(n)try{const Te=new In("https://dream-rpc.somnia.network/"),We=new Pt(n.address,Rn,Te);console.log("🔍 Checking phase history for:",n.address);const Xe=await We.currentPhase();console.log("📊 Current phase from contract:",Number(Xe));const Ye=n.phases?Object.entries(n.phases):[];console.log("📊 All phases from metadata:",Ye.length);for(let Ue=0;Ue<Ye.length;Ue++)try{const[qe,st]=Ye[Ue];console.log(`📊 Phase ${Ue}: ${qe}`,{start:new Date(Number(st.start)*1e3).toLocaleString(),end:new Date(Number(st.end)*1e3).toLocaleString(),maxPerWallet:st.maxPerWallet,limit:st.limit,price:st.price,isPublic:st.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"});try{const Fe=await We.mintedPerWallet(c,Ue);console.log(`   User minted in phase ${Ue}:`,Number(Fe))}catch(Fe){console.log(`   Could not check user minted in phase ${Ue}:`,Fe.message)}try{const Fe=await We.phases(Ue);console.log(`   Contract phase ${Ue} data:`,{start:Number(Fe.start),end:Number(Fe.end),price:Y3(Fe.price),maxPerWallet:Number(Fe.maxPerWallet),merkleRoot:Fe.merkleRoot,isPublic:Fe.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"})}catch(Fe){console.log(`   Could not get contract phase ${Ue} data:`,Fe.message)}}catch(qe){console.log(`   Could not get phase ${Ue} data:`,qe.message)}try{const Ue=await We.balanceOf(c);console.log("📊 Total user balance:",Number(Ue));try{const qe=await We.balanceOf(c);console.log("📊 User owns",Number(qe),"tokens");for(let st=0;st<Math.min(Number(qe),5);st++)try{const Fe=await We.tokenOfOwnerByIndex(c,st);console.log(`   Token ${st}: ID ${Number(Fe)}`)}catch(Fe){console.log(`   Could not get token ${st}:`,Fe.message)}}catch(qe){console.log("Could not get token details:",qe.message)}}catch(Ue){console.log("Could not get user balance:",Ue.message)}}catch(Te){console.error("❌ Failed to check phase history:",Te)}};j.useEffect(()=>{n&&c&&on()},[n,c]),j.useEffect(()=>{(async()=>{try{if(console.log("🔍 Loading collection for address:",t),!t){console.error("❌ No address provided"),a(!1);return}const Te=new In("https://dream-rpc.somnia.network/");try{if(await Te.getCode(t)==="0x")throw new Error("No contract deployed at this address");console.log("✅ Contract exists at address")}catch(Fe){throw console.error("❌ Contract check failed:",Fe),new Error("Invalid contract address")}const We=new Pt(t,Rn,Te);console.log("🔍 Contract initialized, fetching data...");let Xe="Unknown Collection";try{Xe=await We.name(),console.log("🔍 Collection name:",Xe)}catch(Fe){console.warn("⚠️ Failed to get name from contract:",Fe)}let Ye="";try{Ye=await We.contractURI(),console.log("🔍 Metadata URI:",Ye)}catch(Fe){console.warn("⚠️ Failed to get contractURI:",Fe)}let Ue={};if(Ye&&Ye!=="")try{const Fe=Ln(Ye);console.log("🔍 IPFS URLs:",Fe),Ue=await bv(Fe),console.log("🔍 Fetched metadata:",Ue)}catch(Fe){console.error("❌ Failed to fetch metadata:",Fe),Ue={}}else console.log("⚠️ No metadata URI found");let qe=0;try{qe=await We.maxSupply(),console.log("🔍 Max supply:",qe)}catch(Fe){console.warn("⚠️ Failed to get maxSupply:",Fe)}const st={address:t,name:Xe,cover:Ue.image?Ln(Ue.image)[0]:dr,description:Ue.description||"No description provided.",phases:Ue.phases||{},totalSupply:Number(qe),minted:Ue.minted||0,banner:Ue.banner?Ln(Ue.banner)[0]:null,bannerPosition:"center center",bannerFit:"cover",external_link:Ue.external_link||"",metadata:Ue};try{const Fe=localStorage.getItem(`collection_${t}_banner`);Fe&&(st.banner=Fe)}catch{}r(st)}catch(Te){console.error("❌ Failed to load collection:",Te),console.error("❌ Error details:",{message:Te.message,code:Te.code,data:Te.data});try{const We=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(Xe=>Xe.address===t);if(We){const Xe=localStorage.getItem(`collection_${t}_banner`),Ye=localStorage.getItem(`collection_${t}_banner_position`)||"center center",Ue=localStorage.getItem(`collection_${t}_banner_fit`)||"cover",qe={address:t,name:We.name||"Unknown Collection",cover:We.cover||dr,description:We.description||"No description provided.",phases:We.phases||{},totalSupply:We.totalSupply||0,minted:We.minted||0,banner:Xe||null,bannerPosition:Ye,bannerFit:Ue,external_link:We.external_link||""};r(qe)}else console.error("❌ Collection not found in localStorage either")}catch(We){console.error("❌ Failed to load from localStorage:",We)}}finally{a(!1)}})(),Ce()},[t]),j.useEffect(()=>{if(!n)return;const Te=async()=>{try{const Xe=new In("https://dream-rpc.somnia.network/"),Ye=new Pt(t,Rn,Xe);let Ue=0;try{Ue=await Ye.currentPhase(),A(Number(Ue)),console.log("🔍 Current phase from contract:",Ue)}catch(qe){console.warn("⚠️ Failed to get currentPhase:",qe),A(0)}if(Ue>0)try{const qe=await Ye.phases(Ue-1),st=Y3(qe.price);P(st),console.log("🔍 Price from contract:",st)}catch(qe){console.warn("⚠️ Failed to get phase price:",qe),P(null)}else P(null);try{const qe=await Ye.totalSupply();b(Number(qe)),console.log("🔍 Total minted from contract:",qe)}catch(qe){console.warn("⚠️ Failed to get totalSupply:",qe)}}catch(Xe){console.error("❌ Failed to get contract data:",Xe)}};Te();const We=setInterval(Te,3e4);return()=>clearInterval(We)},[n,t]),j.useEffect(()=>{if(!n||!c)return;const Te=async()=>{await Promise.all([Ur(),Vn()])};Te();const We=setInterval(Te,3e4);return()=>clearInterval(We)},[n,c,f]),j.useEffect(()=>{if(!n)return;const Te=()=>{const Xe=Math.floor(Date.now()/1e3),Ye=n.phases?Object.entries(n.phases):[];let Ue=null,qe=null;if(Ye.forEach(([st,Fe],hn)=>{const xr=Number(Fe.start),_i=Number(Fe.end);xr<=Xe&&Xe<=_i&&(Ue=Fe,qe=hn)}),Ue){const st=Ue.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||Ue.isPublic,Fe={name:Ue.name||`Phase ${qe}`,start:Number(Ue.start),end:Number(Ue.end),price:Ue.price,maxPerWallet:Sr&&Sr[qe]||Ue.maxPerWallet||1,merkleRoot:Ue.merkleRoot,isPublic:st};m([qe,Fe])}else m(null)};Te();const We=setInterval(Te,3e4);return()=>clearInterval(We)},[n]),j.useEffect(()=>{if(!f||!c||!n){N({isWhitelisted:!1}),w([]);return}const[Te,We]=f;if(We.isPublic){N({isWhitelisted:!0}),w([]);return}(async()=>{try{C(!0);let Xe=n.phases?Object.entries(n.phases):[];const Ye=Xe[Te]?Xe[Te][0]:"Whitelist";console.log("🔍 Checking whitelist for:",{address:c,collection:n.address,phase:Ye});const Ue=await fetch(`/api/whitelist/check?collection=${n.address}&phase=${Ye}`);if(Ue.ok){const qe=await Ue.json();if(console.log("🔍 Whitelist check result:",qe),qe.exists){const st=await fetch("/api/whitelist/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:c,collection:n.address,phase:Ye})});if(console.log("🔍 Whitelist verify response status:",st.status),st.ok){const Fe=await st.json();console.log("🔍 Whitelist verify response data:",Fe),Fe.isWhitelisted&&Fe.proof&&Array.isArray(Fe.proof)?(console.log("✅ User is whitelisted, proof:",Fe.proof),w(Fe.proof),N({isWhitelisted:!0})):(console.log("❌ User is not whitelisted or no proof"),w([]),N({isWhitelisted:!1}))}else console.log("❌ Whitelist verify request failed"),w([]),N({isWhitelisted:!1})}else console.log("❌ Whitelist does not exist for this phase"),w([]),N({isWhitelisted:!1})}else console.log("❌ Whitelist check request failed"),w([]),N({isWhitelisted:!1})}catch(Xe){console.error("Error fetching whitelist proof:",Xe),w([]),N({isWhitelisted:!1})}finally{C(!1)}})()},[f?.[0],f?.[1]?.name,c,n?.address]);const Sl=async()=>{if(!n||!f||!f[1])return 0;try{const Te=new In("https://dream-rpc.somnia.network/"),We=new Pt(n.address,Rn,Te),[Xe]=f;try{if(typeof We.phases=="function"){const qe=await We.phases(Xe),st=Number(qe.maxPerWallet);if(st>0)return st}}catch(qe){console.warn("Could not get phase data from contract:",qe.message)}const Ye=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),Ue=Object.entries(Ye)[Xe];return Ue&&Number(Ue[1].limit)||0}catch(Te){return console.error("Error getting wallet limit:",Te),0}},[es,vo]=j.useState(0),[Sr,ba]=j.useState({});j.useEffect(()=>{n&&f&&f[1]&&Sl().then(vo)},[n,f]);const hr=async()=>{if(n)try{const Te=new In("https://dream-rpc.somnia.network/"),We=new Pt(n.address,Rn,Te),Xe={},Ye=n.phases?Object.entries(n.phases):[];for(let Ue=0;Ue<Ye.length;Ue++)try{if(typeof We.phases=="function"){const qe=await We.phases(Ue),st=Number(qe.maxPerWallet);Xe[Ue]=st,console.log(`Phase ${Ue} wallet limit from contract:`,st)}}catch(qe){console.warn(`Could not get phase ${Ue} limit from contract:`,qe.message);const st=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),Fe=Object.entries(st);Fe[Ue]&&(Xe[Ue]=Number(Fe[Ue][1].limit)||0)}ba(Xe)}catch(Te){console.error("Error fetching contract phase limits:",Te)}};j.useEffect(()=>{n&&hr()},[n]),j.useEffect(()=>{n&&Sr&&Object.keys(Sr).length>0&&(()=>{const Te=Math.floor(Date.now()/1e3),We=n.phases?Object.entries(n.phases):[];let Xe=null,Ye=null;if(We.forEach(([Ue,qe],st)=>{const Fe=Number(qe.start),hn=Number(qe.end);Fe<=Te&&Te<=hn&&(Xe=qe,Ye=st)}),Xe){const Ue=Xe.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||Xe.isPublic,qe={name:Xe.name||`Phase ${Ye}`,start:Number(Xe.start),end:Number(Xe.end),price:Xe.price,maxPerWallet:Sr[Ye]||Xe.maxPerWallet||1,merkleRoot:Xe.merkleRoot,isPublic:Ue};m([Ye,qe])}})()},[n,Sr]);const wa=()=>{if(!n||!n.phases)return[];const Te=Object.entries(n.phases),We=Math.floor(Date.now()/1e3),Xe=[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}],Ye=new Map;return Te.forEach(([Ue,qe],st)=>{Ye.set(Ue,{...qe,originalIndex:st,name:Ue})}),Xe.filter(Ue=>Ye.has(Ue.key)).map(Ue=>{const qe=Ye.get(Ue.key),st=Number(qe.start),Fe=Number(qe.end),hn=st<=We&&We<=Fe,xr=qe.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||qe.isPublic;return{...qe,name:Ue.key,originalIndex:qe.originalIndex,isActive:hn,isPublic:xr,priority:Ue.priority}}).sort((Ue,qe)=>Ue.priority-qe.priority)},Ii=()=>{if(n)try{console.log("🔍 Checking localStorage phase data for:",n.address);const Te=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}");console.log("📊 Phases from localStorage:",Te),Object.entries(Te).forEach(([Xe,Ye])=>{console.log(`📊 Phase "${Xe}" from localStorage:`,{start:Ye.start,end:Ye.end,price:Ye.price,limit:Ye.limit,maxPerWallet:Ye.maxPerWallet,allocated:Ye.allocated,active:Ye.active}),(!Ye.limit||Ye.limit===0)&&(console.warn(`⚠️ WARNING: Phase "${Xe}" has no limit or limit is 0!`),console.warn("   This means unlimited minting per wallet."))});const We=JSON.parse(localStorage.getItem(`collection_${n.address}`)||"{}");console.log("📊 Collection data from localStorage:",We)}catch(Te){console.error("❌ Failed to check localStorage phases:",Te)}};return j.useEffect(()=>{n&&Ii()},[n]),j.useEffect(()=>{if(n&&n.name){document.title=`${n.name} - Dreava Launchpad`;const Te=document.querySelector('meta[name="description"]');Te&&Te.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const We=document.querySelector('meta[property="og:title"]');We&&We.setAttribute("content",`${n.name} - Dreava Launchpad`);const Xe=document.querySelector('meta[property="og:description"]');Xe&&Xe.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const Ye=document.querySelector('meta[property="og:image"]');Ye&&n.banner&&(Ye.setAttribute("content",n.banner),console.log("🔍 Set OG image to:",n.banner));const Ue=document.querySelector('meta[property="og:url"]');Ue&&Ue.setAttribute("content",window.location.href);const qe=document.querySelector('meta[property="twitter:title"]');qe&&qe.setAttribute("content",`${n.name} - Dreava Launchpad`);const st=document.querySelector('meta[property="twitter:description"]');st&&st.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const Fe=document.querySelector('meta[property="twitter:image"]');Fe&&n.banner&&(Fe.setAttribute("content",n.banner),console.log("🔍 Set Twitter image to:",n.banner));const hn=document.querySelector('meta[property="twitter:url"]');hn&&hn.setAttribute("content",window.location.href)}return()=>{document.title="Dreava Launchpad";const Te=document.querySelector('meta[name="description"]');Te&&Te.setAttribute("content","Dreava Launchpad - NFT Launchpad Platform")}},[n]),s?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:l.jsx(Td,{message:"Loading collection",showLogo:!0,size:"large",showProgress:!1,showDots:!1})}):n?l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Op,{}),l.jsxs("div",{className:"relative h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[(()=>{const Te=localStorage.getItem(`collection_${n.address}_banner`),We=n.metadata?.banner?Ln(n.metadata.banner)[0]:null,Xe=n.banner?n.banner.startsWith("ipfs://")?Ln(n.banner)[0]:n.banner:null,Ye=Te||We||Xe||null,Ue=localStorage.getItem(`collection_${n.address}_banner_position`)||"center center",qe=localStorage.getItem(`collection_${n.address}_banner_fit`)||"cover";return console.log("🔍 CollectionMintPage Banner debug:",{bannerLocal:Te,bannerMeta:We,bannerApi:Xe,resolvedBanner:Ye,collectionCover:n.cover,collectionBannerImage:n.bannerImage}),Ye?l.jsx("img",{src:Ye,alt:"banner",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:Ue,objectFit:qe},onError:st=>{console.warn("⚠️ Banner image failed to load:",Ye),st.target.style.display="none";const Fe=st.target.nextElementSibling;Fe&&(Fe.style.display="flex")}}):null})(),l.jsxs("div",{className:`flex items-center justify-center h-full w-full ${n.banner?"hidden":""}`,style:{display:n.banner?"none":"flex"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),l.jsxs("div",{className:"relative z-10 text-center text-white",children:[l.jsx("div",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:n.name}),l.jsx("div",{className:"text-xl text-zinc-300 mb-2",children:n.description?n.description.slice(0,100)+"...":"Amazing NFT Collection"}),l.jsx("div",{className:"text-zinc-400",children:"Discover and mint unique NFTs"})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/60 via-zinc-900/20 to-transparent"}),l.jsx("button",{onClick:()=>e(-1),className:"absolute top-6 left-6 px-4 py-2 rounded-xl bg-black/40 backdrop-blur-sm border border-white/20 text-white hover:bg-black/60 hover:border-white/30 transition-all duration-300 hover:scale-105 z-20",children:"← Back"})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 pb-24 relative z-10",children:[l.jsx(JC,{onMetrics:O,showUI:!1}),T.length>0&&l.jsx(wv,{images:T,priority:!0,onComplete:()=>G(!0),onProgress:(Te,We)=>{Te===We&&G(!0)}}),L.length>0&&l.jsx(wv,{images:L,priority:!1,onComplete:()=>console.log("NFT preview images preloaded"),onProgress:(Te,We)=>{console.log(`NFT preview: ${Te}/${We} images loaded`)}}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"w-24 h-24 rounded-2xl border-2 border-zinc-700/50 shadow-xl overflow-hidden bg-zinc-900/80 backdrop-blur-sm flex-shrink-0",children:l.jsx(Ad,{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:"cover",className:"w-full h-full object-cover",priority:!0,sizes:"96px",onError:Te=>{console.warn("⚠️ Cover image failed to load:",n.cover),n.firstNFTImage&&n.firstNFTImage!==Te.target.src?Te.target.src=n.firstNFTImage:Te.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9Ijk2IiBoZWlnaHQ9Ijk2IiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjQ4IiBjeT0iNDgiIHI9IjI0IiBmaWxsPSIjNjY3MzgwIi8+Cjwvc3ZnPgo="}})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-white truncate",children:n.name}),l.jsx(Yi,{className:"w-6 h-6 text-green-400 flex-shrink-0"})]}),l.jsx("p",{className:"text-zinc-300 text-sm mb-4 leading-relaxed",children:n.description}),l.jsxs("div",{className:"flex items-center gap-3",children:[Be.website&&l.jsx("a",{href:Be.website,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx(u6,{className:"w-4 h-4 text-zinc-400"})}),Be.twitter&&l.jsx("a",{href:Be.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),Be.discord&&l.jsx("a",{href:Be.discord,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})})}),l.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${n.address}`,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx(Vd,{className:"w-4 h-4 text-zinc-400"})}),l.jsx("button",{onClick:()=>ce(!0),className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"Share collection",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]})]})}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:g}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Minted"})]}),l.jsx("div",{className:"text-zinc-400 text-xl",children:"/"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:n.totalSupply}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Total"})]})]}),f&&l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Price"}),l.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-white whitespace-nowrap",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-5 h-5"})," ",ge," STT"]})]})]}),l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-6 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative",style:{width:`${q}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),H?l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-red-500 via-pink-500 to-red-600 bg-clip-text text-transparent mb-2",children:"SOLD OUT!"}),l.jsx("div",{className:"text-zinc-400 text-sm",children:"All NFTs have been minted"})]}):f&&f[1]?l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(mp,{className:"w-4 h-4 text-pink-400 animate-pulse"}),l.jsx("span",{className:"text-base font-semibold text-white",children:l.jsx(Gg,{date:Number(f[1].end)*1e3,renderer:({days:Te,hours:We,minutes:Xe,seconds:Ye})=>l.jsxs("span",{children:[Te>0?`${Te}d `:"",We,"h ",Xe,"m ",Ye,"s"]})})})]}),l.jsx("div",{className:"text-zinc-400 text-sm",children:"Time remaining"})]}):l.jsx("div",{className:"text-center mb-6",children:l.jsx("div",{className:"text-base font-semibold text-zinc-400",children:"No active phase at the moment"})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("button",{onClick:Ct,disabled:!f||E||H||es>0&&I>=es||!f?.[1]?.isPublic&&!x?.isWhitelisted,className:`w-full px-8 py-4 rounded-2xl text-white font-bold text-lg shadow-2xl transition-all duration-300 active:scale-95 relative overflow-hidden group ${H||es>0&&I>=es||!f||E||!f?.[1]?.isPublic&&!x?.isWhitelisted?"bg-zinc-700 text-zinc-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:from-[#0095E6] hover:to-[#E61CC7] hover:shadow-pink-500/25 hover:scale-105"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:E?"Checking whitelist...":H?"Sold Out":es>0&&I>=es?"Wallet Limit Reached":f&&f[1]?`Mint for ${ge} STT`:"Mint Now"})]}),!x?.isWhitelisted&&!E&&!f?.[1]?.isPublic&&l.jsx("div",{className:"mt-3 text-red-400 text-sm",children:"You are not whitelisted for this phase"}),x?.isWhitelisted&&!E&&!f?.[1]?.isPublic&&l.jsx("div",{className:"mt-3 text-green-400 text-sm",children:"✅ You are whitelisted for this phase!"}),E&&l.jsx("div",{className:"mt-3",children:l.jsx(Td,{message:"Verifying whitelist",showLogo:!1,size:"small",showProgress:!1,showDots:!1})})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Phases"}),(()=>{const Te=wa();return Te.length===0?l.jsx("div",{className:"text-center text-zinc-400 text-sm",children:"No phases defined"}):l.jsx("div",{className:"space-y-3",children:Te.map((We,Xe)=>{const Ye=f&&f[1]&&f[0]===We.originalIndex;We.isActive;const Ue=Sr[We.originalIndex]??0;return l.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-300 ${Ye?"bg-gradient-to-r from-green-900/20 to-emerald-900/20 border-green-500/50":"bg-zinc-800/30 border-zinc-700/50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${Ye?"bg-green-500 animate-pulse":"bg-zinc-500"}`}),l.jsx("div",{className:"font-semibold text-white text-sm",children:We.name})]}),Ye&&l.jsx("span",{className:"text-xs bg-green-600 px-2 py-1 rounded-full text-white",children:"LIVE"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-white whitespace-nowrap",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-4 h-4"})," ",b9(We.price)," STT"]}),l.jsxs("div",{className:"text-zinc-400",children:[Ue===0?"∞":Ue," per wallet"]})]}),l.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:[new Date(Number(We.start)*1e3).toLocaleDateString()," - ",new Date(Number(We.end)*1e3).toLocaleDateString()]})]},Xe)})})})()]})]}),l.jsx("div",{className:"lg:col-span-1",children:fe.length>0&&l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 lg:sticky lg:top-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Collection Preview"}),l.jsx("button",{onClick:rt,className:"text-zinc-400 hover:text-white transition-colors",title:"Refresh preview",children:"↻"})]}),je&&l.jsx(Td,{message:"Loading preview",showLogo:!1,size:"small",showProgress:!1,showDots:!1}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[fe.slice(0,5).map((Te,We)=>l.jsxs("button",{onClick:()=>{Ne(Te),oe(!0)},className:"group",children:[l.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm relative",children:[l.jsx(Ad,{src:Te.image,alt:Te.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:We<3,sizes:Z?"50vw":"25vw",onError:Xe=>{console.warn("⚠️ NFT preview image failed to load:",Te.image),Xe.target.src=n.cover}}),Te.isPlaceholder&&l.jsx("div",{className:"absolute inset-0 bg-zinc-800/80 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-zinc-600 border-t-pink-500 rounded-full animate-spin mx-auto mb-2"}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Loading..."})]})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"mt-1 text-center",children:l.jsx("div",{className:"text-xs text-white font-medium truncate"})})]},We)),fe.length>5&&l.jsx("button",{onClick:()=>W(!0),className:"aspect-square rounded-lg border-2 border-dashed border-zinc-600/50 hover:border-pink-500/50 transition-all duration-300 flex items-center justify-center text-zinc-400 hover:text-zinc-300 bg-zinc-900/50 backdrop-blur-sm hover:scale-105 group",children:l.jsxs("div",{className:"text-center group-hover:scale-110 transition-transform duration-300",children:[l.jsx("div",{className:"text-sm font-semibold",children:"More"}),l.jsxs("div",{className:"text-xs",children:["+",fe.length-5]})]})})]})]})})]})]}),K&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-t-3xl sm:rounded-3xl shadow-2xl w-full sm:max-w-lg sm:w-full animate-fadeIn border border-zinc-700/30 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Mint NFT"}),l.jsx("button",{onClick:nt,className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:24})})]}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsx("div",{className:"relative mb-4 sm:mb-6 flex-shrink-0 h-40 sm:h-56",children:l.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-full h-full object-cover rounded-xl",onError:Te=>{console.warn("⚠️ Collection cover failed to load:",Te.target.src),n.firstNFTImage&&n.firstNFTImage!==Te.target.src?Te.target.src=n.firstNFTImage:Te.target.src="/default-cover.png"}})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:n.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[g," / ",n.totalSupply," minted"]})]})]}),l.jsxs("div",{className:"mb-4 sm:mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Quantity"}),l.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/30 rounded-2xl p-3 sm:p-4 border border-zinc-700/30",children:[l.jsx("button",{onClick:()=>Zt(F-1),disabled:F<=1,className:"w-12 h-12 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-200 hover:scale-105",children:l.jsx(Xz,{size:20})}),l.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white px-4 sm:px-6",children:F}),l.jsx("button",{onClick:()=>Zt(F+1),disabled:F>=Ht(),className:"w-12 h-12 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-200 hover:scale-105",children:l.jsx(eL,{size:20})})]}),l.jsxs("p",{className:"text-xs text-zinc-400 mt-2",children:["Max: ",Ht()," per transaction"]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:"text-zinc-400",children:"Price per NFT:"}),l.jsx("div",{className:"flex items-center gap-2 min-w-0",children:l.jsxs("span",{className:"font-semibold text-white whitespace-nowrap flex items-center gap-1",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-5 h-5 flex-shrink-0"})," ",ge," STT"]})})]}),l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:"text-zinc-400",children:"Quantity:"}),l.jsx("span",{className:"text-white",children:F})]}),l.jsx("div",{className:"border-t border-zinc-700/30 pt-3",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),l.jsx("div",{className:"flex items-center gap-2 min-w-0",children:l.jsxs("span",{className:"text-xl font-bold text-white whitespace-nowrap flex items-center gap-1",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-6 h-6 flex-shrink-0"})," ",J," STT"]})})]})})]}),l.jsxs("button",{onClick:Bn,disabled:re,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 sm:hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group sticky bottom-0",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:re?"⏳ Processing...":`Mint ${F} NFT${F>1?"s":""}`})]})]})]})}),ae&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl animate-pulse",children:l.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Connect Wallet"}),l.jsx("p",{className:"text-zinc-400 mb-8 text-lg",children:"Please connect your wallet to mint NFTs from this collection"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>ue(!1),className:"flex-1 py-3 px-6 rounded-2xl bg-zinc-700/50 text-white hover:bg-zinc-600/50 transition-all duration-200 hover:scale-105",children:"Cancel"}),l.jsxs("button",{onClick:()=>{ue(!1);const Te=document.querySelector("[data-wallet-connect]");Te&&Te.click()},className:"flex-1 py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:"Connect Wallet"})]})]})]})})}),me&&he&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-3xl w-full animate-fadeIn border border-zinc-700/30",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:he.name}),l.jsx("button",{onClick:()=>{oe(!1),Ne(null)},className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:28})})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"rounded-2xl overflow-hidden border border-zinc-700/30 shadow-2xl",children:l.jsx("img",{src:he.image,alt:he.name,className:"w-full rounded-2xl object-cover hover:scale-105 transition-transform duration-500",onError:Te=>{Te.target.src=n.cover}})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-xl font-semibold text-white mb-3",children:he.name}),l.jsx("p",{className:"text-zinc-300 text-base mb-6",children:he.description||`NFT from ${n.name} collection`}),he.attributes&&he.attributes.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-semibold text-zinc-300 mb-4",children:"Attributes"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:he.attributes.map((Te,We)=>l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30 hover:border-pink-500/50 transition-all duration-200 hover:scale-105",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:Te.trait_type}),l.jsx("div",{className:"text-base text-white font-semibold",children:Te.value})]},We))})]})]})]})]})})}),Re&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-5xl w-full max-h-[85vh] animate-fadeIn border border-zinc-700/30",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Collection Gallery"}),l.jsx("button",{onClick:()=>W(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:28})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-[65vh] overflow-y-auto",children:fe.map((Te,We)=>l.jsxs("button",{onClick:()=>{Ne(Te),W(!1),oe(!0)},className:"group",children:[l.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-zinc-700/30 group-hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm shadow-lg relative",children:[l.jsx(Ad,{src:Te.image,alt:Te.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:We<12,sizes:Z?"50vw":D?"25vw":"16vw",onError:Xe=>{console.warn("⚠️ More NFTs modal image failed to load:",Te.image),Xe.target.src=n.cover}}),Te.isPlaceholder&&l.jsx("div",{className:"absolute inset-0 bg-zinc-800/80 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-zinc-600 border-t-pink-500 rounded-full animate-spin mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Loading..."})]})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"mt-3 text-center",children:l.jsx("div",{className:"text-sm text-white font-medium truncate",children:Te.name})})]},We))})]})})}),i.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105 z-50",children:[l.jsx("p",{className:"text-sm mb-1",children:i.message}),i.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${i.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[l.jsx(Vd,{size:16}),"View Transaction"]})]}),ye&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Collection"}),l.jsx("button",{onClick:()=>ce(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Yn,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsx("div",{className:"relative mb-6 flex-shrink-0 h-56",children:l.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-full h-full object-cover rounded-xl",onError:Te=>{console.warn("⚠️ Collection cover failed to load:",Te.target.src),n.firstNFTImage&&n.firstNFTImage!==Te.target.src?Te.target.src=n.firstNFTImage:Te.target.src="/default-cover.png"}})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:n.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[g," / ",n.totalSupply," minted"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Collection Link"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"text",value:window.location.href,readOnly:!0,className:"flex-1 p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl text-white text-sm focus:outline-none focus:border-pink-500/50 transition-colors truncate",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),se(!0),setTimeout(()=>se(!1),2e3)},className:`px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 flex-shrink-0 ${ne?"bg-green-600 text-white":"bg-zinc-700/50 hover:bg-zinc-600/50 text-white"}`,children:ne?"Copied!":"Copy"})]}),l.jsx("div",{className:"mt-2",children:l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"text-xs text-zinc-400 cursor-pointer hover:text-zinc-300 transition-colors",children:"Show full URL"}),l.jsx("div",{className:"mt-2 p-2 bg-zinc-800/20 rounded-lg border border-zinc-700/30",children:l.jsx("p",{className:"text-xs text-zinc-300 break-all",children:window.location.href})})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Share on Twitter"}),l.jsx("div",{className:"bg-zinc-800/30 rounded-2xl p-4 border border-zinc-700/30 mb-4",children:l.jsxs("p",{className:"text-sm text-zinc-300 mb-3",children:['"I just created my NFT collection "',n.name,'" on Dreava Art! 🚀',l.jsx("br",{}),l.jsx("br",{}),"Check it out: ",l.jsx("span",{className:"break-all text-blue-400",children:window.location.href}),l.jsx("br",{}),l.jsx("br",{}),`Try it yourself, it's really simple! ✨"`]})}),l.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`I just created my NFT collection "${n.name}" on Dreava Art! 🚀

Check it out: ${window.location.href}

Try it yourself, it's really simple! ✨`)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-blue-500/25 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Tweet"]})]})]})]})})]}):l.jsx("div",{className:"text-center text-zinc-400 mt-20",children:"Collection not found."})},cg="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",qve=async t=>{try{const e=await fetch(t,{method:"HEAD"});if(e.ok)return(e.headers.get("Content-Type")||"").toLowerCase()}catch{}return""},Vve=async t=>{try{console.log("🖼️ === getImageUrl DEBUG START ==="),console.log("NFT:",t.id,t.collectionName);let e=t.image||t.image_url||t.media_url||"";console.log("Direct image URL:",e);const n=t.contractAddress||t.token?.address,r=await wk(n)||t.isFactoryNFT;console.log("Is Factory NFT:",r),console.log("Contract Address:",n);const s=typeof t.id=="string"?parseInt(t.id,10):t.id;if(r&&n&&s!==void 0&&s!==null)try{const a=new In("https://dream-rpc.somnia.network/"),i=await new Pt(n,["function contractURI() view returns (string)"],a).contractURI();if(i&&typeof i=="string"){const o=_f(i,!0);let c=null;for(const u of o)try{const h=await fetch(u);if(h.ok){c=await h.json();break}}catch{}if(c){if(Array.isArray(c.nfts)){const h=c.nfts.find(m=>{const g=m?.tokenURI||m?.tokenUri;return typeof g!="string"?!1:g.replace(/\.json$/i,"").endsWith(`/${s}`)}),f=h?.image||h?.image_url;if(f){const m=f.startsWith("ipfs://")?Xu(f,!0):f;return console.log("✅ contractURI.nfts image:",m),m}}const u=c.image||c.banner||c.image_url;if(u){const h=u.startsWith("ipfs://")?Xu(u,!0):u;console.log("✅ contractURI collection image/banner:",h),e=e||h}}}}catch(a){console.warn("contractURI image resolution failed:",a.message)}if(!e&&r&&n&&t.id!==void 0&&t.id!==null){console.log("🏭 Factory NFT detected, fetching token metadata from contract...");try{const a=new In("https://dream-rpc.somnia.network/"),i=new Pt(n,["function tokenURI(uint256 tokenId) view returns (string)"],a),o=s;console.log("Calling tokenURI with tokenId:",o);const c=await i.tokenURI(o);if(console.log("Contract tokenURI result:",c),c){const u=_f(c,!0);try{let f=null;for(const m of u)try{const g=await fetch(m);if(g.ok){f=await g.json();break}}catch{}if(!f&&!/\.json$/i.test(c)){const m=_f(c+".json",!0);for(const g of m)try{const b=await fetch(g);if(b.ok){f=await b.json();break}}catch{}}if(f){console.log("✅ Token metadata fetched:",f);let m=f.image||f.animation_url||f.image_url;if(m&&m.startsWith("ipfs://")&&(m=Xu(m,!0)),m)return console.log("✅ Using token metadata media URL:",m),m}}catch(f){console.error("❌ Error fetching token metadata:",f)}let h=Xu(c,!0);if(/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(h))return h;{const f=[h+".gif",h+".png",h+".webp",h+".jpg",h];for(const m of f)try{if((await fetch(m,{method:"HEAD"})).ok)return m}catch{}for(const m of f)try{if((await fetch(m)).ok)return m}catch{}}}}catch(a){console.error("❌ Error fetching tokenURI from contract:",a)}}if(!e&&r&&n&&s!==void 0&&s!==null)try{const a=new In("https://dream-rpc.somnia.network/"),i=await new Pt(n,["function baseTokenURI() view returns (string)"],a).baseTokenURI();if(i&&typeof i=="string"){const o=Xu(i.endsWith("/")?i:i+"/",!0)+String(s),c=[o+".gif",o+".png",o+".webp",o+".jpg"];for(const u of c)try{if((await fetch(u,{method:"HEAD"})).ok)return console.log("✅ baseTokenURI image:",u),u}catch{}for(const u of c)try{if((await fetch(u)).ok)return console.log("✅ baseTokenURI image (GET):",u),u}catch{}}}catch(a){console.warn("baseTokenURI probing failed:",a.message)}if(!e&&t.metadata?.image&&(e=t.metadata.image,console.log("Using metadata image:",e)),!e&&t.token_instances&&t.token_instances.length>0){const a=t.token_instances[0];a.image?(e=a.image,console.log("Using token instance image:",e)):a.image_url&&(e=a.image_url,console.log("Using token instance image_url:",e))}if(!e&&t.token?.image?(e=t.token.image,console.log("Using token image:",e)):!e&&t.token?.image_url&&(e=t.token.image_url,console.log("Using token image_url:",e)),e){if(console.log("Processing image URL:",e),e.startsWith("ipfs://")){const a=_f(e,r);try{e=(await Jve(a,{method:"HEAD"})).url}catch{e=Xu(e,r)}}if(r&&!/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(e))try{if(!await qve(e)){const a=[".gif",".png",".webp",".jpg"];for(const i of a){const o=e+i;try{if((await fetch(o,{method:"HEAD"})).ok){e=o;break}}catch{}}}}catch{}return console.log("✅ Final image URL:",e),e}return console.log("❌ No image URL found"),console.log("🖼️ === getImageUrl DEBUG END ==="),null}catch(e){return console.error("❌ Error getting image URL:",e),null}},Zve=({nft:t})=>{console.log("🎨 NFTMedia component called for:",t.id,t.collectionName);const[e,n]=j.useState(null),[r,s]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{console.log("🔄 NFTMedia loadImage started for:",t.id,t.collectionName);try{s(!0),i(null),console.log("📞 Calling getImageUrl for:",t.id);const o=await Vve(t);if(console.log("📞 getImageUrl returned:",o),o){console.log("✅ Setting image URL:",o),n(o);const c=new Image;c.onload=()=>{console.log("✅ Image loaded successfully:",o)},c.onerror=()=>{console.error("❌ Image failed to load:",o),i("Image failed to load")},c.src=o}else console.log("❌ No image URL found"),i("Image not found")}catch(o){console.error("❌ Error loading image:",o),i("Failed to load image")}finally{s(!1)}})()},[t]),r?l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a||!e?l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-zinc-700",children:l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:dr,alt:"Logo",className:"w-16 h-16 mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-zinc-300",children:"No Image"}),a&&l.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:a})]})}):/\.(mp4|webm|mov|avi|mkv)(\?|$)/i.test(e||"")?l.jsx("video",{src:e,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onError:()=>i("Failed to load video")}):l.jsx("img",{src:e,alt:t.metadata?.name||t.name||`NFT #${t.id}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onLoad:()=>console.log("✅ Image loaded in component:",e),onError:o=>{console.error("❌ Image error in component:",e),o.target.style.display="none",i("Failed to load image")}})},Kve=({nft:t})=>{try{const[e,n]=j.useState(null),[r,s]=j.useState(!1),[a,i]=j.useState(t.collectionName||t.collection?.name||t.contractName||"Unknown Collection"),[o,c]=j.useState(!1);j.useEffect(()=>{(async()=>{const f=t.token?.address,m=await wk(f);if(c(m||t.isFactoryNFT),m||t.isFactoryNFT){const g=t.collectionName||t.token?.name||"Unknown Collection";i(g)}})()},[t]);const u=async()=>{if(!t.token?.address||!t.id)return null;try{s(!0);const f=new In("https://dream-rpc.somnia.network/"),m=new Pt(t.token.address,["function tokenURI(uint256 tokenId) view returns (string)"],f),g=typeof t.id=="string"?parseInt(t.id,10):t.id,b=await m.tokenURI(g);if(b&&b.includes("/")){const y=b.lastIndexOf("/"),w=b.substring(0,y+1);return console.log("Extracted baseURI:",w),w}return b}catch(f){return console.error("Error getting baseURI:",f),null}finally{s(!1)}},h=f=>f.startsWith("ipfs://")?`https://gateway.lighthouse.storage/ipfs/${f.replace("ipfs://","")}`:f;return j.useEffect(()=>{t.token?.address&&t.id&&u().then(f=>{n(f),console.log("Loaded baseURI for NFT",t.id,":",f),console.log("Is Factory NFT (by address):",o?"yes":"no")})},[t.token?.address,t.id]),l.jsxs("div",{className:"group relative bg-zinc-900 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-zinc-800",children:[l.jsxs("div",{className:"relative w-full aspect-square",children:[l.jsx(Zve,{nft:t}),o&&l.jsx("div",{className:"absolute bottom-3 left-3",style:{zIndex:30},children:l.jsx("span",{className:"px-3 py-1 text-xs font-bold rounded-full bg-blue-500 text-white shadow-lg",children:"dreava.art"})})]}),l.jsxs("div",{className:"p-4 bg-zinc-900",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-500 text-white",children:a}),l.jsxs("span",{className:"text-xs text-zinc-400 font-medium",children:["#",t.id]})]}),l.jsx("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-1",children:t.metadata?.name||t.name||t.title||`NFT #${t.id}`}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-zinc-400 mb-3",children:[l.jsx("span",{className:"font-medium",children:t.tokenType||"ERC-721"}),t.value&&t.value!=="1"&&l.jsxs("span",{className:"bg-zinc-800 px-2 py-1 rounded text-xs font-medium text-zinc-300",children:["x",t.value]})]}),t.description&&l.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2 mb-3",children:t.description}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-800",children:[l.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 text-white",children:"Owned"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",onClick:async()=>{console.log("🔍 === NFT DEBUG INFO ==="),console.log("NFT ID:",t.id),console.log("NFT Name:",t.name||t.metadata?.name),console.log("Collection Name:",t.collectionName),console.log("Collection Address:",t.token?.address),console.log("Contract Address:",t.contractAddress),console.log("Token URI:",t.token_uri||t.tokenURI),console.log("Is Factory NFT (from API):",t.isFactoryNFT),console.log("Factory Address:",cg);const f=t.contractAddress||t.token?.address,m=await wk(f);if(console.log("Is Factory NFT (from factory check):",m),m&&f){console.log("🏭 === TESTING EXISTING MYNFTS LOGIC ===");try{const g=new In("https://dream-rpc.somnia.network/"),b=new Pt(f,["function tokenURI(uint256 tokenId) view returns (string)","function baseTokenURI() view returns (string)"],g),y=await b.baseTokenURI();console.log("Contract baseTokenURI:",y);const w=typeof t.id=="string"?parseInt(t.id,10):t.id;console.log("Calling tokenURI with tokenId:",w);const x=await b.tokenURI(w);if(console.log("TokenURI result:",x),x&&x.includes("/")){const N=x.lastIndexOf("/"),E=x.substring(0,N+1);console.log("Extracted baseURI:",E);let C=E+w+".png";console.log("Built image URL:",C),C.startsWith("ipfs://")&&(C=C.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"),console.log("Converted IPFS URL:",C)),console.log("✅ Existing MyNFTs logic image URL:",C)}else console.log("❌ No baseURI extracted from tokenURI"),console.log("❌ This suggests the contract baseURI is not set correctly")}catch(g){console.error("❌ Error testing existing MyNFTs logic:",g)}console.log("🏭 === END TESTING EXISTING MYNFTS LOGIC ===")}if(m&&f){console.log("🏭 === TESTING WORKING FACTORY LOGIC ===");try{const g=new In("https://dream-rpc.somnia.network/"),b=new Pt(f,["function contractURI() view returns (string)","function tokenURI(uint256 tokenId) view returns (string)"],g),y=await b.contractURI();if(console.log("Contract URI:",y),y&&y!==""){let N=[y];y.startsWith("ipfs://")&&(N=[`https://gateway.lighthouse.storage/ipfs/${y.replace("ipfs://","")}`]),console.log("Metadata URLs:",N);let E=null;for(const C of N)try{const k=await fetch(C);if(k.ok){E=await k.json(),console.log("✅ Metadata fetched:",E);break}}catch(k){console.warn("❌ Failed to fetch from:",C,k.message)}if(E&&E.image){let C=E.image;C.startsWith("ipfs://")&&(C=`https://gateway.lighthouse.storage/ipfs/${C.replace("ipfs://","")}`),console.log("✅ Working logic image URL:",C)}else console.log("❌ No image in metadata")}else console.log("❌ Empty contractURI");console.log("🔍 Testing tokenURI for token ID:",t.id);const w=typeof t.id=="string"?parseInt(t.id,10):t.id,x=await b.tokenURI(w);if(console.log("Token URI:",x),x&&x!==""){let N=[x];x.startsWith("ipfs://")&&(N=[`https://gateway.lighthouse.storage/ipfs/${x.replace("ipfs://","")}`]),console.log("Token metadata URLs:",N);let E=null;for(const C of N)try{const k=await fetch(C);if(k.ok){E=await k.json(),console.log("✅ Token metadata fetched:",E);break}}catch(k){console.warn("❌ Failed to fetch token metadata from:",C,k.message)}if(E&&E.image){let C=E.image;C.startsWith("ipfs://")&&(C=`https://gateway.lighthouse.storage/ipfs/${C.replace("ipfs://","")}`),console.log("✅ Token image URL:",C)}else console.log("❌ No image in token metadata")}}catch(g){console.error("❌ Error testing factory logic:",g)}console.log("🏭 === END TESTING WORKING FACTORY LOGIC ===")}try{const g=new In("https://dream-rpc.somnia.network/"),b=new Pt(t.token?.address,["function baseTokenURI() view returns (string)","function revealed() view returns (bool)","function tokenURI(uint256) view returns (string)","function ownerOf(uint256) view returns (address)"],g),y=typeof t.id=="string"?parseInt(t.id,10):t.id,w=await b.baseTokenURI();console.log("baseTokenURI():",w);const x=await b.revealed();console.log("revealed():",x);const N=await b.tokenURI(y);console.log(`tokenURI(${y}):`,N);const E=await b.ownerOf(y);console.log(`ownerOf(${y}):`,E)}catch(g){console.error("Error analyzing NFT contract state:",g)}console.log("Full NFT Data:",t),console.log("Token Data:",t.token),console.log("Metadata:",t.metadata),console.log("🔍 === END NFT DEBUG ===")},title:"Debug NFT",children:l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-zinc-400",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M12 1v6m0 6v6"}),l.jsx("path",{d:"M21 12h-6m-6 0H3"})]})}),l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx(lue,{size:14,className:"text-zinc-400"})}),l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx($ue,{size:14,className:"text-zinc-400"})}),l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx(Jce,{size:14,className:"text-zinc-400"})})]})]})]})]})}catch(e){return console.error("Error in NFTCard:",e),l.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 shadow-sm",children:[l.jsx("div",{className:"text-red-500 font-medium",children:"Error rendering NFT card"}),l.jsxs("div",{className:"text-gray-500 text-sm",children:["ID: ",t?.id||"unknown"]})]})}},wk=async t=>{try{if(!t)return!1;const e=new In("https://dream-rpc.somnia.network/"),n=await new Pt(cg,Rp,e).getAllCollections(),r=n.map(s=>s.toLowerCase()).includes(t.toLowerCase());return console.log("🏭 Factory check for",t,":",{allCollections:n,isFactoryNFT:r}),r}catch(e){return console.error("❌ Error checking factory collection:",e),!1}},Qve=()=>{const{address:t,isConnected:e}=yo(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[i,o]=j.useState(null),[c,u]=j.useState(""),[h,f]=j.useState("all"),[m,g]=j.useState("newest"),[b,y]=j.useState("grid"),[w,x]=j.useState(!1);j.useEffect(()=>{const C=new URLSearchParams(window.location.search),k=C.get("nftId"),A=C.get("contract"),_=C.get("nftName"),P=C.get("collection");if(k||A||_||P){console.log("🔍 Auto-search params from URL:",{nftId:k,contract:A,nftName:_,collection:P}),_&&u(_),P&&P!=="all"&&f(P);const I=window.location.pathname;window.history.replaceState({},"",I)}},[]);const N=["all",...new Set(n.map(C=>C.collectionName).filter(Boolean))],E=n.filter(C=>{const k=c===""||C.metadata?.name?.toLowerCase().includes(c.toLowerCase())||C.collectionName?.toLowerCase().includes(c.toLowerCase()),A=h==="all"||C.collectionName===h;return k&&A}).sort((C,k)=>{switch(m){case"newest":return new Date(k.created_at||0)-new Date(C.created_at||0);case"oldest":return new Date(C.created_at||0)-new Date(k.created_at||0);case"name":return(C.metadata?.name||"").localeCompare(k.metadata?.name||"");case"collection":return(C.collectionName||"").localeCompare(k.collectionName||"");default:return 0}});return j.useEffect(()=>{t&&(async()=>{if(t)try{a(!0),o(null),console.log("Fetching NFTs for address:",t);const C=await(async(P,I=3)=>{for(let $=0;$<I;$++)try{const H=await fetch(P);if(H.ok)return H;if(H.status===503){console.log(`API returned 503, retrying in ${($+1)*2} seconds... (attempt ${$+1}/${I})`),await new Promise(M=>setTimeout(M,($+1)*2e3));continue}throw new Error(`HTTP ${H.status}: ${H.statusText}`)}catch(H){if($===I-1)throw H;console.log(`Fetch attempt ${$+1} failed, retrying...`),await new Promise(M=>setTimeout(M,1e3))}})(`https://somnia.w3us.site/api/v2/addresses/${t}/nft/collections?type=ERC-721%2CERC-404%2CERC-1155`);if(!C)throw new Error("API server is completely unavailable");const k=await C.json();if(console.log("API Response:",k),!k.items||!Array.isArray(k.items))throw new Error("Invalid API response format");let A=k.items.flatMap(P=>!P.token_instances||!Array.isArray(P.token_instances)?[]:P.token_instances.map(I=>({...I,id:I.id,collectionName:P.token?.name||"Unknown",collectionSymbol:P.token?.symbol||"",tokenType:P.token?.type||"ERC-721",token:P.token||{},isFactoryNFT:P.token?.address?.toLowerCase()===cg.toLowerCase()})));if(!A||A.length===0)try{const P=await fetch(`https://somnia.w3us.site/api/v2/addresses/${t}/nft/tokens?type=ERC-721%2CERC-404%2CERC-1155`);if(P.ok){const I=await P.json();Array.isArray(I.items)&&(A=I.items.map($=>({...$,id:$.id,collectionName:$.token?.name||"Unknown",collectionSymbol:$.token?.symbol||"",tokenType:$.token?.type||"ERC-721",token:$.token||{},isFactoryNFT:$.token?.address?.toLowerCase()===cg.toLowerCase()})))}}catch(P){console.warn("Fallback token fetch failed:",P.message)}const _=A.filter(Boolean).filter((P,I,$)=>I===$.findIndex(H=>String(H.id)===String(P.id)&&(H.token?.address||H.contractAddress||"").toLowerCase()===(P.token?.address||P.contractAddress||"").toLowerCase()));console.log("All NFTs (merged):",_.length),r(_),(async()=>{try{const P=new In("https://dream-rpc.somnia.network/"),I=await new Pt(cg,Rp,P).getAllCollections();let $=I;if(I.length>250){const M=I.slice(0,50),B=I.slice(-200),O=new Set;$=[...M,...B].filter(z=>{const G=z.toLowerCase();return O.has(G)?!1:(O.add(G),!0)})}const H=[];for(const M of $)try{const B=new Pt(M,["function tokenURI(uint256 tokenId) view returns (string)","function balanceOf(address owner) view returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) view returns (uint256)","function contractURI() view returns (string)","function ownerOf(uint256 tokenId) view returns (address)"],P);let O=0;try{O=Number(await B.balanceOf(t))}catch{O=0}if(!O||O<=0)continue;const z=[];for(let G=0;G<Math.min(O,10);G++)try{const Z=await B.tokenOfOwnerByIndex(t,G);z.push(Number(Z))}catch{}if(z.length===0)try{let G=200;try{const Z=new Pt(M,["function totalSupply() view returns (uint256)","function nextTokenId() view returns (uint256)","function currentIndex() view returns (uint256)"],P);try{const D=await Z.totalSupply();D&&(G=Math.min(1e3,Number(D)))}catch{}try{const D=await Z.nextTokenId();D&&(G=Math.min(1e3,Math.max(G,Number(D))))}catch{}try{const D=await Z.currentIndex();D&&(G=Math.min(1e3,Math.max(G,Number(D))))}catch{}}catch{}for(let Z=0;Z<G&&z.length<O&&z.length<20;Z++)try{const D=await B.ownerOf(Z);D&&D.toLowerCase()===t.toLowerCase()&&z.push(Z)}catch{}}catch{}if(z.length===0)try{const G=await B.contractURI();if(G&&typeof G=="string"){const Z=_f(G,!0);let D=null;for(const ee of Z)try{const F=await fetch(ee);if(F.ok){D=await F.json();break}}catch{}const K=Array.isArray(D?.nfts)?D.nfts:[];for(let ee=0;ee<Math.min(K.length,50)&&z.length<20;ee++){const F=K[ee],V=F?.tokenURI||F?.tokenUri||"";if(typeof V=="string"&&V.includes("/")){const J=V.substring(V.lastIndexOf("/")+1).replace(/\.json$/i,""),Q=Number(J);if(!Number.isNaN(Q))try{const ae=await B.ownerOf(Q);ae&&ae.toLowerCase()===t.toLowerCase()&&z.push(Q)}catch{}}}}}catch{}for(const G of z)try{const Z=await B.tokenURI(G),D=_f(Z,!0);let K=null;for(const Q of D)try{if((await fetch(Q,{method:"HEAD"})).ok){K=Q;break}}catch{}if(!K)for(const Q of D)try{if((await fetch(Q)).ok){K=Q;break}}catch{}if(!K)continue;let ee=null;try{const Q=await fetch(K);Q.ok&&(ee=await Q.json())}catch{}const F=ee?.image||ee?.animation_url||ee?.image_url,V=F?Xu(F,!0):null,J={id:G,metadata:ee||{},collectionName:"Factory Collection",tokenType:"ERC-721",token:{address:M,name:"Factory Collection",type:"ERC-721"},isFactoryNFT:!0};V&&(J.metadata.image=V),H.push(J)}catch{}}catch{}H.length&&r(M=>[...M,...H].filter((B,O,z)=>O===z.findIndex(G=>String(G.id)===String(B.id)&&(G.token?.address||G.contractAddress||"").toLowerCase()===(B.token?.address||B.contractAddress||"").toLowerCase())))}catch(P){console.warn("Background factory fallback failed:",P.message)}})()}catch(C){console.error("Error fetching NFTs:",C),C.message.includes("503")?o("NFT API server is temporarily unavailable. Please try again in a few minutes."):C.message.includes("Failed to fetch")||C.message.includes("completely unavailable")?o("NFT API server is currently down. Please try again later."):C.message.includes("Cannot read properties of undefined")?o("NFT API server is not responding. Please try again in a few minutes."):o(`Failed to load NFTs: ${C.message}`),r([])}finally{a(!1)}})()},[t]),e?s?l.jsx("div",{className:"min-h-screen bg-zinc-950 p-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-zinc-800 rounded-lg mb-8 w-48"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(10)].map((C,k)=>l.jsx("div",{className:"bg-zinc-900 rounded-2xl h-80"},k))})]})})}):i?l.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Unable to Load NFTs"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:i}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200",children:"Try Again"}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[l.jsx("p",{children:"If the problem persists, the NFT API server might be temporarily down."}),l.jsx("p",{className:"mt-1",children:"You can check your NFTs directly on the blockchain explorer."})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-zinc-950",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-28",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My NFT Collection"}),l.jsxs("p",{className:"text-zinc-400",children:[E.length," NFT",E.length!==1?"s":""," in your collection"]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(dw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400",size:20}),l.jsx("input",{type:"text",placeholder:"Search NFTs or collections...",value:c,onChange:C=>u(C.target.value),className:"w-full pl-10 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsx("select",{value:h,onChange:C=>f(C.target.value),className:"px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",children:N.map(C=>l.jsx("option",{value:C,children:C==="all"?"All Collections":C},C))}),l.jsxs("select",{value:m,onChange:C=>g(C.target.value),className:"px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"name",children:"Name A-Z"}),l.jsx("option",{value:"collection",children:"Collection A-Z"})]}),l.jsxs("div",{className:"flex bg-zinc-900 border border-zinc-800 rounded-lg p-1 shadow-sm",children:[l.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded-md transition-colors ${b==="grid"?"bg-blue-500 text-white shadow-sm":"text-zinc-400 hover:text-white hover:bg-zinc-800"}`,children:l.jsx(aue,{size:16})}),l.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-md transition-colors ${b==="list"?"bg-blue-500 text-white shadow-sm":"text-zinc-400 hover:text-white hover:bg-zinc-800"}`,children:l.jsx(due,{size:16})})]})]})]}),E.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-zinc-800 to-zinc-700 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-12 h-12 bg-zinc-600 rounded-full opacity-50"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No NFTs Found"}),l.jsx("p",{className:"text-zinc-400",children:c||h!=="all"?"Try adjusting your filters":"You don't have any NFTs yet"})]}):l.jsx("div",{className:`grid gap-6 ${b==="grid"?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-1"}`,children:E.map((C,k)=>{try{return l.jsx(Kve,{nft:C},`${C.token?.address}-${C.id}-${k}`)}catch(A){return console.error("Error rendering NFT card:",A,C),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 border border-zinc-800 shadow-sm",children:[l.jsx("div",{className:"text-red-500 font-medium",children:"Error rendering NFT"}),l.jsxs("div",{className:"text-zinc-500 text-sm",children:["ID: ",C.id]})]},`error-${k}`)}})})]})}):l.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-zinc-400",children:"Connect your wallet to view your NFT collection"})]})})},Xu=(t,e)=>{if(typeof t!="string")return t;if(t.startsWith("ipfs://")){const n=t.replace("ipfs://","");return e?`https://gateway.lighthouse.storage/ipfs/${n}`:`https://ipfs.io/ipfs/${n}`}return t},_f=(t,e)=>{if(typeof t!="string")return[t];if(t.startsWith("ipfs://")){const n=t.replace("ipfs://","");return[e?`https://gateway.lighthouse.storage/ipfs/${n}`:`https://ipfs.io/ipfs/${n}`,`https://gateway.lighthouse.storage/ipfs/${n}`,`https://cloudflare-ipfs.com/ipfs/${n}`,`https://ipfs.io/ipfs/${n}`]}return[t]},Jve=async(t,e)=>{for(const n of t)try{const r=await fetch(n,e);if(r.ok)return r}catch{}throw new Error("All gateways failed")},Yve="/assets/somniaquest-CJkHo6hu.png",Xve=({text:t,maxLines:e=3,className:n=""})=>{const[r,s]=j.useState(!1),[a,i]=j.useState(!1),[o,c]=j.useState(t),u=j.useRef(null),h=j.useRef(null);j.useEffect(()=>{if(u.current){const m=parseInt(window.getComputedStyle(u.current).lineHeight)*e;i(u.current.scrollHeight>m)}},[t,e]),j.useEffect(()=>{const m=g=>{r&&!h.current?.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[r]);const f=(m,g)=>{const b=m.split(" "),y=document.createElement("p");y.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 16px;
      line-height: 1.5;
      width: calc(100% - 32px);
      max-width: calc(100% - 32px);
    `,document.body.appendChild(y);const w=parseInt(window.getComputedStyle(y).lineHeight)*g;let x=m;for(let N=b.length;N>0;N--){const E=b.slice(0,N).join(" ");if(y.textContent=E,y.scrollHeight<=w){x=E;break}}return document.body.removeChild(y),x};return j.useEffect(()=>{c(a?f(t,e):t)},[t,a,e]),a?l.jsxs("div",{className:"relative h-[72px]",children:[l.jsx("div",{className:"overflow-hidden h-full",children:l.jsx("p",{className:n,style:{width:"calc(100% - 32px)"},children:o})}),l.jsx("button",{ref:h,onClick:()=>s(!r),className:"absolute bottom-0 right-0 bg-zinc-800 hover:bg-zinc-700 rounded-full w-6 h-6 flex items-center justify-center text-xs transition-colors z-10",title:"Show full text",children:"⋯"}),r&&l.jsx("div",{className:"fixed bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg max-w-xs z-50",style:{top:h.current?h.current.getBoundingClientRect().bottom+5:0,left:h.current?h.current.getBoundingClientRect().left-200:0},children:l.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:t})})]}):l.jsx("p",{ref:u,className:n,children:t})},exe=({text:t,maxLines:e=3,onClick:n})=>{const[r,s]=j.useState(!1),[a,i]=j.useState(!1),[o,c]=j.useState(t),u=j.useRef(null),h=j.useRef(null);j.useEffect(()=>{if(u.current){const m=parseInt(window.getComputedStyle(u.current).lineHeight)*e;i(u.current.scrollHeight>m)}},[t,e]),j.useEffect(()=>{const m=g=>{r&&!h.current?.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[r]);const f=(m,g)=>{const b=m.split(" "),y=document.createElement("h3");y.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 24px;
      line-height: 1.5;
      font-weight: bold;
      width: calc(100% - 32px);
    `,document.body.appendChild(y);const w=parseInt(window.getComputedStyle(y).lineHeight)*g;let x=m;for(let N=b.length;N>0;N--){const E=b.slice(0,N).join(" ");if(y.textContent=E,y.scrollHeight<=w){x=E;break}}return document.body.removeChild(y),x};return j.useEffect(()=>{c(a?f(t,e):t)},[t,a,e]),l.jsxs("div",{className:"relative h-[72px]",children:[l.jsx("div",{className:"overflow-hidden h-full",children:l.jsx("h3",{ref:u,onClick:n,className:"text-2xl font-bold text-white cursor-pointer hover:text-blue-400 transition-colors",style:a?{width:"calc(100% - 32px)"}:{},children:a?o:t})}),a&&l.jsx("button",{ref:h,onClick:m=>{m.stopPropagation(),s(!r)},className:"absolute bottom-0 right-0 bg-zinc-800 hover:bg-zinc-700 rounded-full w-6 h-6 flex items-center justify-center text-xs transition-colors z-10",title:"Show full title",children:"⋯"}),r&&l.jsx("div",{className:"fixed bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg max-w-xs z-50",style:{top:h.current?h.current.getBoundingClientRect().bottom+5:0,left:h.current?h.current.getBoundingClientRect().left-200:0},children:l.jsx("h3",{className:"text-white text-lg font-bold",children:t})})]})},txe=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(0),[s,a]=j.useState(!1),[i,o]=j.useState(null),[c,u]=j.useState([]),[h,f]=j.useState(!1),[m,g]=j.useState(!1),[b,y]=j.useState(0),[w,x]=j.useState({totalRequests:0,successfulMints:0,failedMints:0,queueLength:0,averageProcessingTime:0}),[N,E]=j.useState({}),[C,k]=j.useState({}),[A,_]=j.useState(!1),[P,I]=j.useState(!1),[$,H]=j.useState(null),[M,B]=j.useState(1),[O,z]=j.useState("0"),[G,Z]=j.useState(!1),[D,K]=j.useState({visible:!1,message:"",txHash:""}),[ee,F]=j.useState(0),V=Xr(),{address:J,isConnected:Q,switchNetwork:ae}=yo(),{collections:ue,loading:re,error:ie,refetch:me}=QC(),oe=async we=>{if(!window.ethereum)throw new Error("Wallet not connected");try{(await(async()=>{try{return await ae?.(nl)}catch{return{success:!1}}})())?.success||await jd()}catch{throw new Error("Please switch to Somnia Testnet")}const T=await new wr(window.ethereum).getSigner(),L=new Pt(we.address,we.abi,T),q={...we.value>0?{value:we.value}:{},...we.gasSettings||{}};return(await L[we.functionName](...we.args,q)).hash},he={BASE_GAS_LIMIT:3e5,MAX_GAS_LIMIT:5e5,GAS_LIMIT:3e6,MAX_GAS_PRICE_GWEI:50,WARNING_GAS_PRICE_GWEI:20,PRICE_MULTIPLIER:1.2,RETRY_ATTEMPTS:5,RETRY_DELAY:1e3},Ne=j.useMemo(()=>!ue||ue.length===0?[]:ue.map(we=>{const T=(Ae=>Ae.phases||Ae.metadata?.phases||{})(we),L=Math.floor(Date.now()/1e3),q=[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}],le=new Map;Object.entries(T).forEach(([Ae,rt])=>{le.set(Ae,{...rt,name:Ae})});const ge=q.filter(Ae=>le.has(Ae.key)).map(Ae=>{const rt=le.get(Ae.key),kt=Number(rt.start),ot=Number(rt.end),Ct=kt<=L&&L<=ot,nt=rt.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||rt.isPublic;return{...rt,name:Ae.key,isActive:Ct,isPublic:nt,priority:Ae.priority}}).sort((Ae,rt)=>Ae.priority-rt.priority),Ce=ge.find(Ae=>Ae.isActive);return{...we,maxSupply:we.totalSupply||we.maxSupply||0,minted:we.minted||0,activePhase:Ce?{name:Ce.name,start:Number(Ce.start),end:Number(Ce.end),price:Ce.price,maxPerWallet:Number(Ce.maxPerWallet)||1,merkleRoot:Ce.merkleRoot,isPublic:Ce.isPublic}:null,sortedPhases:ge}}),[ue]);j.useEffect(()=>{if(D.visible){const we=setTimeout(()=>K(T=>({...T,visible:!1})),5e3);return()=>clearTimeout(we)}},[D.visible]);const Re=(we,T="")=>{K({visible:!0,message:we,txHash:T})},W=async we=>{try{e(T=>T.map(L=>L.address===we?{...L,minted:L.minted+1}:L)),k(T=>({...T,[we]:(T[we]||0)+1})),console.log("✅ Collection data updated locally for:",we),setTimeout(()=>{me(),ye()},1e3)}catch(T){console.error("❌ Failed to update collection data:",T)}};j.useEffect(()=>{e(Ne)},[Ne]),j.useEffect(()=>{s&&i&&Ne.length>0&&ye()},[s,i,Ne]),j.useEffect(()=>()=>{u([]),f(!1),g(!1)},[]),j.useEffect(()=>{a(Q),o(J)},[Q,J]),j.useEffect(()=>{if($&&$.activePhase){const we=$.activePhase.price||"0",T=(parseFloat(we)*M).toFixed(4);z(T)}},[M,$]);const ye=async()=>{if(!(!i||!s))try{const we=new In("https://dream-rpc.somnia.network/"),T={};console.log("🔍 Checking wallet limits for user:",i);for(const q of Ne)if(q.activePhase)try{const le=new Pt(q.address,Rn,we),ge=q.phases||q.metadata?.phases||{},Ce=Object.entries(ge).findIndex(([,Ae])=>{const rt=Number(Ae.start),kt=Number(Ae.end),ot=Math.floor(Date.now()/1e3);return rt<=ot&&ot<=kt});if(console.log(`🔍 Collection ${q.name} (${q.address}):`,{activePhaseIndex:Ce,maxPerWallet:q.activePhase.maxPerWallet}),Ce>=0)try{const Ae=await le.mintedPerPhase(Ce,i);console.log(`✅ mintedPerPhase exists for ${q.name}:`,Number(Ae)),T[q.address]=Number(Ae)}catch(Ae){console.warn(`⚠️ mintedPerPhase failed for ${q.name}:`,Ae);try{const rt=await le.balanceOf(i);console.log(`🔄 Fallback balanceOf for ${q.name}:`,Number(rt)),T[q.address]=Number(rt)}catch(rt){console.warn(`⚠️ balanceOf also failed for ${q.name}:`,rt),T[q.address]=0}}else console.log(`⚠️ No active phase found for ${q.name}`),T[q.address]=0}catch(le){console.warn(`⚠️ Could not check wallet limit for ${q.address}:`,le),T[q.address]=0}console.log("📊 Final user minted counts:",T),k(T);const L=Object.entries(T).some(([q,le])=>{const ge=Ne.find(Ae=>Ae.address===q);if(!ge||!ge.activePhase)return!1;const Ce=ge.activePhase.maxPerWallet||0;return Ce>0&&le>=Ce});_(L)}catch(we){console.error("❌ Failed to check wallet limits:",we)}},ce=we=>{if(!s){Z(!0);return}H(we),B(1),I(!0)},ne=()=>{I(!1),H(null),B(1),Z(!1)},se=we=>{if(!$)return;const T=$.activePhase?.maxPerWallet||0,L=C[$.address]||0,q=T>0?T-L:999,le=Math.min(q,10);we>=1&&we<=le&&B(we)},fe=we=>{if(!we||!we.activePhase)return 1;const T=we.activePhase.maxPerWallet||0,L=C[we.address]||0,q=T>0?T-L:999;return Math.min(q,10)},Ie=async()=>{if(!(!$||!s))try{g(!0);const we=await je($,M);we.success?(Re("✅ Mint successful!",we.txHash),await W($.address),ne()):Re("❌ Mint failed. Please try again.")}catch(we){console.error("❌ Mint failed:",we),Re("❌ Mint failed. Please try again.")}finally{g(!1)}},je=async(we,T=1)=>{if(!we||!we.activePhase)return{success:!1,error:"No active phase"};if(!s||!i)return{success:!1,error:"Wallet not connected"};const L=3;let q=null;for(let le=1;le<=L;le++)try{console.log(`🚀 Mint attempt ${le}/${L} for ${we.name}`),console.log("📊 Collection details:",{address:we.address,activePhase:we.activePhase,price:we.activePhase.price,isPublic:we.activePhase.isPublic});const ge=await be(le);console.log("⛽ Gas settings:",ge);const Ce=we.activePhase.price||"0",Ae=R1((parseFloat(Ce)*T).toString());console.log("💰 Price calculation:",{price:Ce,quantity:T,value:Ae.toString()});let rt=[];if(!we.activePhase.isPublic){const Zt=Object.keys(we.phases||{}).find(Ht=>{const Bn=we.phases[Ht];return Bn&&Number(Bn.start)<=Math.floor(Date.now()/1e3)&&Math.floor(Date.now()/1e3)<=Number(Bn.end)});if(Zt){const Ht=`${we.address}_${Zt}_whitelist_proofs`;rt=JSON.parse(localStorage.getItem(Ht)||"{}")[i]||[],console.log("🔐 Whitelist proof:",rt)}}console.log("📝 Transaction parameters:",{address:we.address,functionName:"mint",args:[T,rt],value:Ae.toString(),gasSettings:ge});const kt=await oe({chainId:50312,address:we.address,abi:Rn,functionName:"mint",args:[T,rt],...Ae>0?{value:Ae}:{},...ge});console.log("✅ Mint transaction sent:",kt);const ot=new In("https://dream-rpc.somnia.network/");let Ct=null,nt=3;for(;nt>0&&!Ct;)try{Ct=await ot.waitForTransaction(kt,1,3e4);break}catch(Zt){if(console.warn(`Transaction confirmation attempt ${4-nt} failed:`,Zt),nt--,nt>0)await new Promise(Ht=>setTimeout(Ht,2e3));else try{Ct=await ot.getTransactionReceipt(kt)}catch{throw Zt}}if(Ct.status===1){console.log("✅ Mint successful!");try{await fetch("/api/quest/record-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:i,actionType:"nft_minted",data:{collectionAddress:we.address,collectionName:we.name,quantity:T,txHash:kt,price:we.activePhase?.price||"0"}})})}catch(Zt){console.warn("⚠️ Failed to record quest action:",Zt)}return{success:!0,txHash:kt}}else throw new Error("Transaction failed on-chain")}catch(ge){if(console.error(`❌ Mint attempt ${le} failed:`,ge),console.error("❌ Error details:",{message:ge.message,code:ge.code,data:ge.data,transaction:ge.transaction}),q=ge,le<L){const Ce=le*1e3;console.log(`⏳ Waiting ${Ce}ms before retry...`),await new Promise(Ae=>setTimeout(Ae,Ce))}}return console.error("❌ All mint attempts failed"),{success:!1,error:q?.message||"Mint failed"}},be=async(we=1)=>{try{const T=await new In("https://dream-rpc.somnia.network/").getFeeData(),L=c.length;let q=he.PRICE_MULTIPLIER;if(L>100?q*=1.5:L>50?q*=1.3:L>20&&(q*=1.2),q*=1+(we-1)*.2,T.maxFeePerGas&&T.maxPriorityFeePerGas){const le=Number(T.maxFeePerGas),ge=Number(T.maxPriorityFeePerGas);return{maxFeePerGas:Math.ceil(le*q),maxPriorityFeePerGas:Math.ceil(ge*q),gasLimit:he.GAS_LIMIT}}else{const le=Number(T.gasPrice),ge=Math.ceil(le*q),Ce=ex(he.MAX_GAS_PRICE_GWEI.toString(),"gwei");return{gasPrice:Math.min(ge,Number(Ce)),gasLimit:he.GAS_LIMIT}}}catch(T){return console.error("❌ Error getting gas settings:",T),{gasLimit:he.GAS_LIMIT}}},Be=we=>{const T=Date.now(),L=we-T;if(L<=0)return"Ended";const q=Math.floor(L/(1e3*60*60*24)),le=Math.floor(L%(1e3*60*60*24)/(1e3*60*60)),ge=Math.floor(L%(1e3*60*60)/(1e3*60)),Ce=Math.floor(L%(1e3*60)/1e3);return`${q}d ${le}h ${ge}m ${Ce}s`},$e=()=>{F(we=>(we+1)%t.length)},Me=()=>{F(we=>(we-1+t.length)%t.length)};return re?l.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-[#42C9EE] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-zinc-400",children:"Loading Quest Collections..."})]})}):ie?l.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-400 mb-4",children:["Error loading collections: ",ie]}),l.jsx("button",{onClick:()=>me(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx("div",{className:"relative py-8",children:l.jsxs("div",{className:"relative bg-black border border-white/20 rounded-2xl p-8 mx-auto max-w-5xl",children:[l.jsx("img",{src:Yve,alt:"Bird with Trophy",className:"absolute -left-8 -bottom-20 w-30 md:w-36"}),l.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 via-pink-500 to-purple-500 mb-6",children:"Somnia Quest"}),l.jsxs("p",{className:"text-base md:text-lg text-white leading-relaxed max-w-xl mx-auto",children:["Animate your unique PFP, turn it into an NFT, and earn rewards!",l.jsx("br",{}),"Be creative. The more people mint your NFT, the higher your chances.",l.jsx("br",{}),"Winners with the most mints will receive USDC rewards, karma points from dreava.art."]}),l.jsx(ha,{to:"/explore#create",className:"mt-6 inline-block py-[10px] px-6 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm transition-transform active:scale-95 shadow-md",children:"Create collection"})]})]})}),l.jsxs("div",{className:"mx-auto max-w-5xl pb-20 mt-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:Me,className:"absolute -left-12 top-1/2 transform -translate-y-1/2 z-10 bg-black/50 rounded-full p-2 hover:bg-black/70 transition",children:l.jsx("img",{src:ZC,alt:"Previous",className:"w-6 h-6"})}),l.jsx("button",{onClick:$e,className:"absolute -right-12 top-1/2 transform -translate-y-1/2 z-10 bg-black/50 rounded-full p-2 hover:bg-black/70 transition",children:l.jsx("img",{src:KC,alt:"Next",className:"w-6 h-6"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.slice(ee,ee+3).map((we,T)=>{const L=we&&we.maxSupply?Math.min(100,Math.round(we.minted/we.maxSupply*100)):0,q=we.activePhase?we.activePhase.price:"0",le=(()=>{if(!we.activePhase)return 0;const Ae=we.phases||we.metadata?.phases||{},rt=Object.entries(Ae).findIndex(([,kt])=>{const ot=Number(kt.start),Ct=Number(kt.end),nt=Math.floor(Date.now()/1e3);return ot<=nt&&nt<=Ct});if(rt>=0){const kt=`${we.address}_${rt}`;return N[kt]??we.activePhase.maxPerWallet??0}return we.activePhase.maxPerWallet??0})(),ge=C[we.address]||0,Ce=le>0&&ge>=le;return l.jsxs("div",{className:"bg-[#111] p-8 rounded-2xl text-white shadow-lg border border-zinc-800/50 h-[650px] flex flex-col",children:[l.jsx("div",{className:"relative mb-6 flex-shrink-0 h-56",children:l.jsx("img",{src:we.cover||we.firstNFTImage||"/default-cover.png",alt:we.name,className:"w-full h-full object-cover rounded-xl",onError:Ae=>{console.warn("⚠️ Collection cover failed to load:",Ae.target.src),we.firstNFTImage&&we.firstNFTImage!==Ae.target.src?Ae.target.src=we.firstNFTImage:Ae.target.src="/default-cover.png"}})}),l.jsxs("div",{className:"flex justify-between items-start mb-3 flex-shrink-0 h-[72px]",children:[l.jsx("div",{className:"flex-1 mr-2",children:l.jsx(exe,{text:we.name,onClick:()=>V(`/launchpad/collection/${we.address}`)})}),l.jsx("span",{className:"text-blue-400 text-2xl flex-shrink-0",children:"✔"})]}),l.jsx("div",{className:"mb-3 flex-shrink-0 h-[72px]",children:l.jsx(Xve,{text:we.description,className:"text-base text-gray-400"})}),l.jsxs("div",{className:"flex justify-between text-base text-gray-300 mb-3 flex-shrink-0 h-6",children:[l.jsxs("span",{children:["Supply: ",we.minted," / ",we.maxSupply]}),l.jsxs("span",{className:"flex items-center gap-1",children:["Price:",l.jsx("img",{src:Hs,alt:"STT",className:"w-4 h-4"}),q," STT"]})]}),l.jsx("div",{className:"w-full h-3 bg-zinc-800 rounded-full mb-4 overflow-hidden flex-shrink-0",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500",style:{width:`${L}%`}})}),l.jsx("div",{className:"mb-4 flex-shrink-0 h-6",children:we.activePhase&&l.jsxs("p",{className:"text-base text-pink-400",children:["Ends in: ",Be(Number(we.activePhase.end)*1e3)]})}),l.jsxs("div",{className:"mt-auto flex-shrink-0",children:[c.length>1&&l.jsxs("div",{className:"mb-2 text-center",children:[l.jsxs("p",{className:"text-sm text-yellow-400",children:["⏳ Queue: ",c.length," pending"]}),w.totalRequests>0&&l.jsxs("p",{className:"text-xs text-green-400",children:["Success Rate: ",Math.round(w.successfulMints/w.totalRequests*100),"%"]}),l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,w.successfulMints/Math.max(w.totalRequests,1)*100)}%`}})}),l.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Progress: ",Math.round(w.successfulMints/Math.max(w.totalRequests,1)*100),"%"]})]})]}),c.length>20&&l.jsx("div",{className:"mb-2 text-center",children:l.jsx("p",{className:"text-sm text-red-400 animate-pulse",children:"🔥 HOT SALE - High demand detected!"})}),l.jsx("button",{onClick:()=>ce(we),disabled:!we.activePhase||!we.activePhase.isPublic||we.minted>=we.maxSupply||m||h||Ce,className:`w-full py-[10px] rounded-lg font-semibold text-white transition-all duration-200 ${m||h?"bg-zinc-600 text-zinc-300 cursor-not-allowed":we.minted>=we.maxSupply||Ce?"bg-zinc-700 text-zinc-400 cursor-not-allowed":we.activePhase&&we.activePhase.isPublic?"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:opacity-90 shadow-md":"bg-zinc-700 text-zinc-400 cursor-not-allowed"}`,children:m||h?"⏳ Processing...":we.minted>=we.maxSupply||Ce?"Minted":we.activePhase&&we.activePhase.isPublic?`Mint for ${q} STT`:we.activePhase&&!we.activePhase.isPublic?"Whitelist Only":"No active phase"}),we.minted>=we.maxSupply&&l.jsx("div",{className:"mt-2 text-center",children:l.jsx("p",{className:"text-sm text-red-400",children:"Collection is sold out!"})}),Ce&&we.minted<we.maxSupply&&l.jsx("div",{className:"mt-2 text-center",children:l.jsxs("p",{className:"text-sm text-yellow-400",children:["Wallet limit reached (",ge,"/",le===0?"∞":le,")"]})}),le===0&&l.jsx("div",{className:"mt-2 text-center",children:l.jsx("p",{className:"text-sm text-blue-400",children:"Unlimited minting per wallet"})}),l.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${we.address}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 underline mt-4 block text-center hover:text-blue-300 transition-colors",children:"View Contract"})]})]},we.address)})})]}),l.jsxs("div",{className:"mt-20 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Somnia Rewards"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"USDC"}),l.jsx("div",{className:"text-white text-sm",children:"from Somnia Network"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Karma Points"}),l.jsx("div",{className:"text-white text-sm",children:"from dreava.art"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Roles on Discord"}),l.jsx("div",{className:"text-white text-sm",children:"from dreava.art"})]})]})]}),l.jsxs("div",{className:"mt-20 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"How to Join the Quest:"}),l.jsx("div",{className:"bg-black/40 border border-white/10 rounded-lg p-8",children:l.jsxs("ul",{className:"text-left space-y-4",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Follow Somnia and Dreava.art on Discord and Twitter"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Animate your unique PFP — creativity is highly encouraged"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Upload your animated NFT to the Dreava.art launchpad"})]})]})})]})]}),P&&$&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-md w-full animate-fadeIn",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Mint NFT"}),l.jsx("button",{onClick:ne,className:"text-zinc-400 hover:text-white transition-colors",children:l.jsx(Yn,{size:24})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("img",{src:$.cover,alt:$.name,className:"w-16 h-16 rounded-lg object-cover"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:$.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[$.minted," / ",$.maxSupply," minted"]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Quantity"}),l.jsxs("div",{className:"flex items-center justify-between bg-zinc-800 rounded-lg p-3",children:[l.jsx("button",{onClick:()=>se(M-1),disabled:M<=1,className:"w-10 h-10 rounded-lg bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l.jsx(Xz,{size:20})}),l.jsx("span",{className:"text-xl font-bold text-white px-4",children:M}),l.jsx("button",{onClick:()=>se(M+1),disabled:M>=fe($),className:"w-10 h-10 rounded-lg bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l.jsx(eL,{size:20})})]}),l.jsxs("p",{className:"text-xs text-zinc-400 mt-2",children:["Max: ",fe($)," per transaction"]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Price per NFT:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-5 h-5"}),l.jsxs("span",{className:"font-semibold text-white",children:[$.activePhase?.price||"0"," STT"]})]})]}),l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Quantity:"}),l.jsx("span",{className:"text-white",children:M})]}),l.jsx("div",{className:"border-t border-zinc-700 pt-2",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Hs,alt:"STT",className:"w-6 h-6"}),l.jsxs("span",{className:"text-xl font-bold text-white",children:[O," STT"]})]})]})})]}),l.jsx("button",{onClick:Ie,disabled:m,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:m?"⏳ Processing...":`Mint ${M} NFT${M>1?"s":""}`})]})]})}),G&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-md w-full animate-fadeIn",children:l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Connect Wallet"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Please connect your wallet to mint NFTs"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>Z(!1),className:"flex-1 py-2 px-4 rounded-lg bg-zinc-700 text-white hover:bg-zinc-600 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>{Z(!1);const we=document.querySelector("[data-wallet-connect]");we&&we.click()},className:"flex-1 py-2 px-4 rounded-lg bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold hover:opacity-90 transition-all duration-200",children:"Connect Wallet"})]})]})})}),D.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-800 text-white p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90",children:[l.jsx("p",{className:"text-sm mb-1",children:D.message}),D.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${D.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm",children:[l.jsx(Vd,{size:16}),"View Transaction"]})]})]})},nxe=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx(ha,{to:"/",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-6",children:"← Back to Home"}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Privacy Policy"}),l.jsxs("p",{className:"text-zinc-400 text-lg",children:["Last updated: ",new Date().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-8 text-zinc-300 leading-relaxed",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Introduction"}),l.jsx("p",{children:'Dreava Art NFT Launchpad ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our NFT marketplace and related services.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Information We Collect"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.1 Personal Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"Wallet addresses and public keys"}),l.jsx("li",{children:"Email addresses (if provided)"}),l.jsx("li",{children:"Username or display names"}),l.jsx("li",{children:"Profile information and avatars"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.2 Transaction Data"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"NFT minting transactions"}),l.jsx("li",{children:"Purchase and sale history"}),l.jsx("li",{children:"Bidding and auction data"}),l.jsx("li",{children:"Gas fees and transaction hashes"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.3 Technical Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"IP addresses and device information"}),l.jsx("li",{children:"Browser type and version"}),l.jsx("li",{children:"Operating system"}),l.jsx("li",{children:"Usage analytics and performance data"})]})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. How We Use Your Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Provide and maintain our NFT marketplace services"}),l.jsx("li",{children:"Process transactions and verify ownership"}),l.jsx("li",{children:"Facilitate communication between users"}),l.jsx("li",{children:"Improve our platform and user experience"}),l.jsx("li",{children:"Comply with legal obligations and prevent fraud"}),l.jsx("li",{children:"Send important updates and notifications"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Information Sharing"}),l.jsx("p",{className:"mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information in the following circumstances:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"With your explicit consent"}),l.jsx("li",{children:"To comply with legal requirements or court orders"}),l.jsx("li",{children:"To protect our rights, property, or safety"}),l.jsx("li",{children:"With service providers who assist in our operations"}),l.jsx("li",{children:"In connection with a business transfer or merger"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Blockchain Transparency"}),l.jsx("p",{children:"Please note that blockchain transactions are inherently public and transparent. Information such as wallet addresses, transaction amounts, and NFT ownership is publicly visible on the blockchain and cannot be deleted or modified."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Cookies and Tracking"}),l.jsx("p",{className:"mb-4",children:"We use cookies and similar technologies to enhance your experience:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Essential cookies for platform functionality"}),l.jsx("li",{children:"Analytics cookies to understand usage patterns"}),l.jsx("li",{children:"Preference cookies to remember your settings"}),l.jsx("li",{children:"Security cookies to protect against fraud"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Data Security"}),l.jsx("p",{children:"We implement industry-standard security measures to protect your information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Your Rights"}),l.jsx("p",{className:"mb-4",children:"You have the following rights regarding your personal information:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Access and review your personal data"}),l.jsx("li",{children:"Request correction of inaccurate information"}),l.jsx("li",{children:"Request deletion of your personal data (where applicable)"}),l.jsx("li",{children:"Object to processing of your data"}),l.jsx("li",{children:"Data portability"}),l.jsx("li",{children:"Withdraw consent at any time"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Children's Privacy"}),l.jsx("p",{children:"Our services are not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. International Transfers"}),l.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Changes to This Policy"}),l.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the updated policy.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Contact Us"}),l.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),l.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," privacy@dreava.art"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Discord:"})," ",l.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"Join our Discord"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Twitter:"})," ",l.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"@dreava_art"})]})]})]})]})]})}),rxe=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx(ha,{to:"/",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-6",children:"← Back to Home"}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Terms of Service"}),l.jsxs("p",{className:"text-zinc-400 text-lg",children:["Last updated: ",new Date().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-8 text-zinc-300 leading-relaxed",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Acceptance of Terms"}),l.jsx("p",{children:'By accessing and using Dreava Art NFT Launchpad ("the Platform"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Description of Service"}),l.jsx("p",{className:"mb-4",children:"Dreava Art NFT Launchpad is a decentralized platform that enables users to:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Create and deploy NFT collections"}),l.jsx("li",{children:"Mint NFTs from various collections"}),l.jsx("li",{children:"Participate in whitelist and public sales"}),l.jsx("li",{children:"Manage NFT metadata and distribution"}),l.jsx("li",{children:"Interact with smart contracts on the Somnia network"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. User Accounts and Responsibilities"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"3.1 Account Creation"}),l.jsx("p",{children:"To use our services, you must connect a compatible cryptocurrency wallet. You are responsible for maintaining the security of your wallet and private keys."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"3.2 User Conduct"}),l.jsx("p",{className:"mb-2",children:"You agree not to:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"Use the platform for any illegal or unauthorized purpose"}),l.jsx("li",{children:"Violate any applicable laws or regulations"}),l.jsx("li",{children:"Infringe upon intellectual property rights"}),l.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),l.jsx("li",{children:"Interfere with or disrupt the platform's operation"}),l.jsx("li",{children:"Create or distribute harmful content or malware"})]})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. NFT Creation and Minting"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.1 Collection Creation"}),l.jsx("p",{children:"When creating NFT collections, you represent and warrant that you have all necessary rights to the content you upload and that it does not infringe on any third-party rights."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.2 Content Guidelines"}),l.jsx("p",{className:"mb-2",children:"All content must comply with our community standards:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"No explicit, violent, or harmful content"}),l.jsx("li",{children:"No copyright or trademark infringement"}),l.jsx("li",{children:"No impersonation of others"}),l.jsx("li",{children:"No spam or misleading information"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.3 Minting Process"}),l.jsx("p",{children:"Minting NFTs requires payment of gas fees and any applicable platform fees. All transactions are irreversible once confirmed on the blockchain."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Smart Contracts and Blockchain"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.1 Smart Contract Risks"}),l.jsx("p",{children:"Our platform interacts with smart contracts on the Somnia blockchain. While we strive for security, smart contracts may contain bugs or vulnerabilities. You acknowledge these risks and use the platform at your own discretion."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.2 Blockchain Transactions"}),l.jsx("p",{children:"All transactions are recorded on the blockchain and are publicly visible. We cannot reverse or modify blockchain transactions once they are confirmed."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.3 Network Issues"}),l.jsx("p",{children:"We are not responsible for network congestion, delays, or failures on the Somnia network or any other blockchain network that may affect transaction processing."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Fees and Payments"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.1 Platform Fees"}),l.jsx("p",{children:"We may charge fees for certain services, including but not limited to collection creation, whitelist management, and premium features. All fees are clearly displayed before transaction confirmation."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.2 Gas Fees"}),l.jsx("p",{children:"Users are responsible for paying gas fees required for blockchain transactions. Gas fees are determined by network conditions and are not controlled by our platform."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.3 Payment Methods"}),l.jsx("p",{children:"All payments must be made in STT (Somnia Token) or other supported cryptocurrencies. We do not accept traditional fiat currencies."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Intellectual Property"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"7.1 Platform Rights"}),l.jsx("p",{children:"The platform, including its design, code, and content, is owned by Dreava Art and is protected by intellectual property laws. You may not copy, modify, or distribute our platform without permission."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"7.2 User Content"}),l.jsx("p",{children:"You retain ownership of your NFT content. By using our platform, you grant us a limited license to display and promote your content as part of our services."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Privacy and Data Protection"}),l.jsx("p",{children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the platform, to understand our practices regarding the collection and use of your information."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Disclaimers and Limitations"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.1 Service Availability"}),l.jsx("p",{children:"We strive to maintain high availability but do not guarantee uninterrupted access to our services. We may temporarily suspend services for maintenance or updates."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.2 No Investment Advice"}),l.jsx("p",{children:"Our platform is not a financial advisor. NFT values are volatile and can fluctuate significantly. You should conduct your own research and consider consulting with financial professionals."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.3 Limitation of Liability"}),l.jsx("p",{children:"To the maximum extent permitted by law, Dreava Art shall not be liable for any indirect, incidental, special, consequential, or punitive damages arising from your use of the platform."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Indemnification"}),l.jsx("p",{children:"You agree to indemnify and hold harmless Dreava Art, its officers, directors, employees, and agents from any claims, damages, losses, or expenses arising from your use of the platform or violation of these terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Termination"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"11.1 Termination by User"}),l.jsx("p",{children:"You may stop using our services at any time. However, blockchain transactions cannot be reversed."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"11.2 Termination by Platform"}),l.jsx("p",{children:"We may terminate or suspend your access to the platform immediately, without prior notice, for conduct that we believe violates these terms or is harmful to other users or the platform."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Governing Law and Disputes"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"12.1 Governing Law"}),l.jsx("p",{children:"These terms shall be governed by and construed in accordance with the laws of the jurisdiction where Dreava Art is incorporated, without regard to conflict of law principles."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"12.2 Dispute Resolution"}),l.jsx("p",{children:"Any disputes arising from these terms or your use of the platform shall be resolved through binding arbitration in accordance with the rules of the relevant arbitration association."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"13. Changes to Terms"}),l.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of significant changes through the platform or other reasonable means. Your continued use of the platform after changes constitutes acceptance of the updated terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"14. Contact Information"}),l.jsx("p",{className:"mb-4",children:"If you have any questions about these Terms of Service, please contact us:"}),l.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," legal@dreava.art"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Discord:"})," ",l.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"Join our Discord"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Twitter:"})," ",l.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"@dreava_art"})]})]})]})]})]})}),w9="/assets/IMG_6919-DMw4xPz9.MOV",v9="/assets/IMG_6924-CH2EN6pR.MOV";function sxe(){const[t,e]=j.useState(!0),[n,r]=j.useState(!1);j.useEffect(()=>{sessionStorage.getItem("dreava_loaded")&&(e(!1),r(!0))},[]);const s=()=>{e(!1),r(!0),sessionStorage.setItem("dreava_loaded","true")};return l.jsx(Zz,{children:l.jsx(fse,{children:l.jsx(lse,{children:l.jsxs("div",{className:"flex flex-col min-h-screen bg-black text-white relative overflow-x-hidden",children:[t&&!n&&l.jsx(gde,{onLoadingComplete:s}),l.jsx(Op,{}),l.jsx(nde,{}),l.jsx(vde,{enabled:localStorage.getItem("showWalletMonitor")==="true"}),l.jsx(xde,{enabled:localStorage.getItem("showDebugLoader")==="true"}),l.jsx("div",{className:"flex-grow",children:l.jsxs(tse,{children:[l.jsx(nr,{path:"/",element:l.jsx(Wde,{})}),l.jsx(nr,{path:"/explore",element:l.jsx(Zde,{})}),l.jsx(nr,{path:"/create-nfts",element:l.jsx(khe,{})}),l.jsx(nr,{path:"/create-dreams",element:l.jsx(bve,{})}),l.jsx(nr,{path:"/launchpad",element:l.jsx(wve,{})}),l.jsx(nr,{path:"/marketplace",element:l.jsx(vve,{})}),l.jsx(nr,{path:"/json-upload",element:l.jsx(kve,{})}),l.jsx(nr,{path:"/dashboard",element:l.jsx(Sve,{})}),l.jsx(nr,{path:"/launchpad/active-sales",element:l.jsx(g9,{portalVideo:w9,portalHoverVideo:v9,showBaseVideoAlways:!0})}),l.jsx(nr,{path:"/active-sales",element:l.jsx(g9,{portalVideo:w9,portalHoverVideo:v9,showBaseVideoAlways:!0})}),l.jsx(nr,{path:"/manage/:address",element:l.jsx(Pve,{})}),l.jsx(nr,{path:"/edit-phases/:address",element:l.jsx($ve,{})}),l.jsx(nr,{path:"/manage-wls/:address",element:l.jsx(Mve,{})}),l.jsx(nr,{path:"/edit-nfts/:address",element:l.jsx(zve,{})}),l.jsx(nr,{path:"/launchpad/collection/:address",element:l.jsx(Gve,{})}),l.jsx(nr,{path:"/my-nfts",element:l.jsx(Qve,{})}),l.jsx(nr,{path:"/somnia-quest",element:l.jsx(txe,{})}),l.jsx(nr,{path:"/privacy",element:l.jsx(nxe,{})}),l.jsx(nr,{path:"/terms",element:l.jsx(rxe,{})}),l.jsx(nr,{path:"/test",element:l.jsx(Nde,{})}),l.jsx(nr,{path:"/simple",element:l.jsx(kde,{})}),l.jsx(nr,{path:"/reown-test",element:l.jsx(Cde,{})})]})}),l.jsx(fde,{})]})})})})}const axe=new HR({defaultOptions:{queries:{retry:3,retryDelay:1e3,staleTime:3e4,gcTime:3e5}}});hre.createRoot(document.getElementById("root")).render(l.jsx(Ke.StrictMode,{children:l.jsx(Zz,{children:l.jsx(VR,{client:axe,children:l.jsx(sxe,{})})})}));export{so as $,fl as A,Wa as B,Da as C,jp as D,_v as E,oy as F,Yr as G,nR as H,ki as I,R3e as J,co as K,ji as L,l as M,xi as N,OH as O,UZ as P,Qv as Q,JZ as R,M3e as S,ry as T,ZA as U,j as V,S3e as W,Mk as X,Fc as Y,ho as Z,At as _,Vr as a,He as a0,hl as a1,$V as a2,ey as a3,Gs as a4,iO as a5,aq as a6,$N as a7,cO as a8,bl as a9,Id as aa,ur as ab,D3e as ac,I3e as ad,MQ as ae,H1e as af,x9 as ag,Eae as ah,gx as ai,K4e as aj,ol as b,yg as c,xc as d,Hb as e,G3e as f,vi as g,Tc as h,oq as i,QO as j,_2e as k,xp as l,sC as m,Qf as n,il as o,T9 as p,Rv as q,P3e as r,Qr as s,U3e as t,Mt as u,LQ as v,ma as w,tO as x,xd as y,Cr as z};
//# sourceMappingURL=index-DnqNwxB0.js.map
