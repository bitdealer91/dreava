import{j as r,l as c}from"./index-BXl0OWaV.js";import"./wagmi-BlTxHScW.js";const b=({items:l=[],itemHeight:t=200,containerHeight:o=600,overscan:i=5,renderItem:g,className:m="",onScroll:u=null,keyExtractor:x=(s,n)=>n})=>{const[s,n]=r.useState(0),p=r.useRef(null),h=r.useRef(null),f=r.useMemo(()=>{const e=Math.max(0,Math.floor(s/t)-i),a=Math.min(l.length-1,Math.ceil((s+o)/t)+i);return{startIndex:e,endIndex:a}},[s,o,t,i,l.length]),j=r.useMemo(()=>{const{startIndex:e,endIndex:a}=f;return l.slice(e,a+1).map((v,I)=>({item:v,index:e+I,style:{position:"absolute",top:(e+I)*t,height:t,width:"100%"}}))},[l,f,t]),y=r.useCallback(e=>{const a=e.target.scrollTop;n(a),u&&u(a)},[u]),d=r.useCallback(e=>{h.current||(h.current=requestAnimationFrame(()=>{y(e),h.current=null}))},[y]);r.useEffect(()=>{const e=p.current;if(e)return e.addEventListener("scroll",d,{passive:!0}),()=>{e.removeEventListener("scroll",d),h.current&&cancelAnimationFrame(h.current)}},[d]);const M=l.length*t;return c.jsx("div",{ref:p,className:`overflow-auto ${m}`,style:{height:o},onScroll:d,children:c.jsx("div",{style:{height:M,position:"relative"},children:j.map(({item:e,index:a,style:v})=>c.jsx("div",{style:v,children:g(e,a)},x(e,a)))})})},H=({images:l=[],itemHeight:t=200,containerHeight:o=600,renderImage:i,className:g=""})=>{const[m,u]=r.useState(new Set);r.useCallback(s=>{u(n=>new Set(n).add(s))},[]);const x=r.useCallback((s,n)=>c.jsxs("div",{className:"relative",children:[i(s,n,m.has(n)),!m.has(n)&&c.jsx("div",{className:"absolute inset-0 bg-zinc-800 animate-pulse",style:{height:t}})]}),[i,m,t]);return c.jsx(b,{items:l,itemHeight:t,containerHeight:o,renderItem:x,className:g,keyExtractor:(s,n)=>`image-${n}-${s.src||s}`})};export{H as VirtualImageList,b as default};
//# sourceMappingURL=VirtualList-CkN222eY-fTBMFPK0-B-c2r3vV.js.map
