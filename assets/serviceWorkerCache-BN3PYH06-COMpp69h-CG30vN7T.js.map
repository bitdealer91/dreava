{"version":3,"file":"serviceWorkerCache-BN3PYH06-COMpp69h-CG30vN7T.js","sources":["../../assets/serviceWorkerCache-BN3PYH06-COMpp69h.js"],"sourcesContent":["class h{constructor(){this.cacheName=\"dreava-upload-cache-v1\",this.initialized=!1,this.init()}async init(){try{\"serviceWorker\"in navigator&&(await this.registerServiceWorker(),this.initialized=!0)}catch{}}async registerServiceWorker(){try{return location.hostname===\"localhost\"||location.port?null:await navigator.serviceWorker.register(\"/sw.js\",{scope:\"/\"})}catch(a){return console.warn(\"ServiceWorker registration skipped/failed:\",a),null}}async cacheUpload(a,t){if(this.initialized)try{const e=await caches.open(this.cacheName),i=`upload_${await this.generateFileHash(a)}`,c=new Response(JSON.stringify(t),{headers:{\"Content-Type\":\"application/json\",\"Cache-Control\":\"max-age=86400\"}});return await e.put(i,c),i}catch{}}async getCachedUpload(a){if(!this.initialized)return null;try{const t=await caches.open(this.cacheName),e=`upload_${await this.generateFileHash(a)}`,i=await t.match(e);return i?await i.json():null}catch{return null}}async cacheMetadata(a,t){if(this.initialized)try{const e=await caches.open(this.cacheName),i=`metadata_${a}`,c=new Response(JSON.stringify(t),{headers:{\"Content-Type\":\"application/json\",\"Cache-Control\":\"max-age=3600\"}});return await e.put(i,c),i}catch{}}async getCachedMetadata(a){if(!this.initialized)return null;try{const t=await caches.open(this.cacheName),e=`metadata_${a}`,i=await t.match(e);return i?await i.json():null}catch{return null}}async clearCache(){if(this.initialized)try{const a=await caches.open(this.cacheName),t=await a.keys();for(const e of t)await a.delete(e)}catch{}}async getCacheStats(){if(!this.initialized)return null;try{const a=await caches.open(this.cacheName),t=await a.keys();let e=0;for(const i of t){const c=await a.match(i);if(c){const n=await c.blob();e+=n.size}}return{entries:t.length,totalSize:e,cacheName:this.cacheName}}catch{return null}}async generateFileHash(a){return new Promise(t=>{const e=new FileReader;e.onload=i=>{const c=i.target.result;crypto.subtle.digest(\"SHA-256\",c).then(n=>{const r=Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,\"0\")).join(\"\");t(r)})},e.readAsArrayBuffer(a)})}async cacheNetworkResponse(a,t){if(this.initialized)try{await(await caches.open(this.cacheName)).put(a,t.clone())}catch{}}async getCachedNetworkResponse(a){if(!this.initialized)return null;try{return await(await caches.open(this.cacheName)).match(a)||null}catch{return null}}}export{h as ServiceWorkerCache};\n//# sourceMappingURL=serviceWorkerCache-BN3PYH06-COMpp69h.js.map\n"],"names":["t","e"],"mappings":"AAAA,MAAM,CAAC,CAAC,aAAa,CAAC,KAAK,UAAU,yBAAyB,KAAK,YAAY,GAAG,KAAK,KAAI,CAAE,CAAC,MAAM,MAAM,CAAC,GAAG,CAAC,kBAAkB,YAAY,MAAM,KAAK,wBAAwB,KAAK,YAAY,GAAG,MAAM,CAAC,CAAC,CAAC,MAAM,uBAAuB,CAAC,GAAG,CAAC,OAAO,SAAS,WAAW,aAAa,SAAS,KAAK,KAAK,MAAM,UAAU,cAAc,SAAS,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC,OAAO,QAAQ,KAAK,6CAA6C,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,YAAY,EAAEA,EAAE,CAAC,GAAG,KAAK,YAAY,GAAG,CAAC,MAAMC,EAAE,MAAM,OAAO,KAAK,KAAK,SAAS,EAAE,EAAE,UAAU,MAAM,KAAK,iBAAiB,CAAC,CAAC,GAAG,EAAE,IAAI,SAAS,KAAK,UAAUD,CAAC,EAAE,CAAC,QAAQ,CAAC,eAAe,mBAAmB,gBAAgB,eAAe,CAAC,CAAC,EAAE,OAAO,MAAMC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,gBAAgB,EAAE,CAAC,GAAG,CAAC,KAAK,YAAY,OAAO,KAAK,GAAG,CAAC,MAAMD,EAAE,MAAM,OAAO,KAAK,KAAK,SAAS,EAAEC,EAAE,UAAU,MAAM,KAAK,iBAAiB,CAAC,CAAC,GAAG,EAAE,MAAMD,EAAE,MAAMC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,KAAI,EAAG,IAAI,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,cAAc,EAAED,EAAE,CAAC,GAAG,KAAK,YAAY,GAAG,CAAC,MAAMC,EAAE,MAAM,OAAO,KAAK,KAAK,SAAS,EAAE,EAAE,YAAY,CAAC,GAAG,EAAE,IAAI,SAAS,KAAK,UAAUD,CAAC,EAAE,CAAC,QAAQ,CAAC,eAAe,mBAAmB,gBAAgB,cAAc,CAAC,CAAC,EAAE,OAAO,MAAMC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,kBAAkB,EAAE,CAAC,GAAG,CAAC,KAAK,YAAY,OAAO,KAAK,GAAG,CAAC,MAAMD,EAAE,MAAM,OAAO,KAAK,KAAK,SAAS,EAAEC,EAAE,YAAY,CAAC,GAAG,EAAE,MAAMD,EAAE,MAAMC,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,IAAI,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,YAAY,CAAC,GAAG,KAAK,YAAY,GAAG,CAAC,MAAM,EAAE,MAAM,OAAO,KAAK,KAAK,SAAS,EAAED,EAAE,MAAM,EAAE,KAAI,EAAG,UAAUC,KAAKD,EAAE,MAAM,EAAE,OAAOC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,eAAe,CAAC,GAAG,CAAC,KAAK,YAAY,OAAO,KAAK,GAAG,CAAC,MAAM,EAAE,MAAM,OAAO,KAAK,KAAK,SAAS,EAAED,EAAE,MAAM,EAAE,OAAO,IAAIC,EAAE,EAAE,UAAU,KAAKD,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,OAAOC,GAAG,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQD,EAAE,OAAO,UAAUC,EAAE,UAAU,KAAK,SAAS,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,iBAAiB,EAAE,CAAC,OAAO,IAAI,QAAQD,GAAG,CAAC,MAAMC,EAAE,IAAI,WAAWA,EAAE,OAAO,GAAG,CAAC,MAAM,EAAE,EAAE,OAAO,OAAO,OAAO,OAAO,OAAO,UAAU,CAAC,EAAE,KAAK,GAAG,CAAC,MAAM,EAAE,MAAM,KAAK,IAAI,WAAW,CAAC,CAAC,EAAE,IAAI,GAAG,EAAE,SAAS,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,EAAE,KAAK,EAAE,EAAED,EAAE,CAAC,CAAC,CAAC,CAAC,EAAEC,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,qBAAqB,EAAED,EAAE,CAAC,GAAG,KAAK,YAAY,GAAG,CAAC,MAAM,MAAM,OAAO,KAAK,KAAK,SAAS,GAAG,IAAI,EAAEA,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,yBAAyB,EAAE,CAAC,GAAG,CAAC,KAAK,YAAY,OAAO,KAAK,GAAG,CAAC,OAAO,MAAM,MAAM,OAAO,KAAK,KAAK,SAAS,GAAG,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC"}