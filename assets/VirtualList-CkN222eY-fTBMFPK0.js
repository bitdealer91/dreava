import{V as r,M as c}from"./index-DnqNwxB0.js";import"./wagmi-BlTxHScW.js";const I=({items:i=[],itemHeight:t=200,containerHeight:o=600,overscan:l=5,renderItem:g,className:m="",onScroll:u=null,keyExtractor:x=(s,n)=>n})=>{const[s,n]=r.useState(0),p=r.useRef(null),h=r.useRef(null),f=r.useMemo(()=>{const e=Math.max(0,Math.floor(s/t)-l),a=Math.min(i.length-1,Math.ceil((s+o)/t)+l);return{startIndex:e,endIndex:a}},[s,o,t,l,i.length]),y=r.useMemo(()=>{const{startIndex:e,endIndex:a}=f;return i.slice(e,a+1).map((v,b)=>({item:v,index:e+b,style:{position:"absolute",top:(e+b)*t,height:t,width:"100%"}}))},[i,f,t]),M=r.useCallback(e=>{const a=e.target.scrollTop;n(a),u&&u(a)},[u]),d=r.useCallback(e=>{h.current||(h.current=requestAnimationFrame(()=>{M(e),h.current=null}))},[M]);r.useEffect(()=>{const e=p.current;if(e)return e.addEventListener("scroll",d,{passive:!0}),()=>{e.removeEventListener("scroll",d),h.current&&cancelAnimationFrame(h.current)}},[d]);const j=i.length*t;return c.jsx("div",{ref:p,className:`overflow-auto ${m}`,style:{height:o},onScroll:d,children:c.jsx("div",{style:{height:j,position:"relative"},children:y.map(({item:e,index:a,style:v})=>c.jsx("div",{style:v,children:g(e,a)},x(e,a)))})})},E=({images:i=[],itemHeight:t=200,containerHeight:o=600,renderImage:l,className:g=""})=>{const[m,u]=r.useState(new Set);r.useCallback(s=>{u(n=>new Set(n).add(s))},[]);const x=r.useCallback((s,n)=>c.jsxs("div",{className:"relative",children:[l(s,n,m.has(n)),!m.has(n)&&c.jsx("div",{className:"absolute inset-0 bg-zinc-800 animate-pulse",style:{height:t}})]}),[l,m,t]);return c.jsx(I,{items:i,itemHeight:t,containerHeight:o,renderItem:x,className:g,keyExtractor:(s,n)=>`image-${n}-${s.src||s}`})};export{E as VirtualImageList,I as default};
//# sourceMappingURL=VirtualList-CkN222eY-fTBMFPK0.js.map
