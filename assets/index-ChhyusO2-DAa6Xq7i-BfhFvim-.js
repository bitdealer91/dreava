const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CP_03z7G-CpjUtW3x-CHNuVH3T.js","assets/hooks.module-CRTr1Ar6-DE1nDpUx-L0-A5RqL.js","assets/index-BXl0OWaV.js","assets/wagmi-BlTxHScW.js","assets/index-0fkAHHov-Cy4VAOzU-DIxWP3Rn.js","assets/index-DhpA2FL2-DXMYeMbX-BjLEctIE.js","assets/index-tcpCDn4g-BrX72C6U-DL35Jb5L.js","assets/index-nE_b9WcW-Bpm9jvBz-BQkVZ_nr.js"])))=>i.map(i=>d[i]);
import{_ as C}from"./wagmi-BlTxHScW.js";import{G as P,T as w,F as y,y as D,A as b,V as p,o as _,a as I,x as v,Q as U}from"./index-BXl0OWaV.js";import{b as T}from"./index-BXl0OWaV.js";const g=(c,u=g,h=u.f||(u.f=["assets/index-CP_03z7G-CpjUtW3x.js","assets/hooks.module-CRTr1Ar6-DE1nDpUx.js","assets/index-DnqNwxB0.js","assets/wagmi-BlTxHScW.js","assets/index-0fkAHHov-Cy4VAOzU.js","assets/index-DhpA2FL2-DXMYeMbX.js","assets/index-tcpCDn4g-BrX72C6U.js","assets/index-nE_b9WcW-Bpm9jvBz.js"]))=>c.map(a=>h[a]),f=(c,u=f,h=u.f||(u.f=["assets/index-CP_03z7G.js","assets/hooks.module-CRTr1Ar6.js","assets/wagmi-Ck0DqXmB.js","assets/vendor-CgHzTxSQ.js","assets/index-0fkAHHov.js","assets/index-DVvIeBtE.js","assets/ethers-CnlGr5sJ.js","assets/index-DhpA2FL2.js","assets/index-tcpCDn4g.js","assets/index-nE_b9WcW.js"]))=>c.map(a=>h[a]);x.type="coinbaseWallet";function x(c={}){return c.version==="3"||c.headlessMode?L(c):j(c)}function j(c){let u,h,a,r;return P(s=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:x.type,async connect({chainId:n,...e}={}){try{const t=await this.getProvider(),i=(await t.request({method:"eth_requestAccounts",params:"instantOnboarding"in e&&e.instantOnboarding?[{onboarding:"instant"}]:[]})).map(d=>w(d));h||(h=this.onAccountsChanged.bind(this),t.on("accountsChanged",h)),a||(a=this.onChainChanged.bind(this),t.on("chainChanged",a)),r||(r=this.onDisconnect.bind(this),t.on("disconnect",r));let o=await this.getChainId();return n&&o!==n&&(o=(await this.switchChain({chainId:n}).catch(d=>{if(d.code===p.code)throw d;return{id:o}}))?.id??o),{accounts:i,chainId:o}}catch(t){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(t.message)?new p(t):t}},async disconnect(){const n=await this.getProvider();h&&(n.removeListener("accountsChanged",h),h=void 0),a&&(n.removeListener("chainChanged",a),a=void 0),r&&(n.removeListener("disconnect",r),r=void 0),n.disconnect(),n.close?.()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(n=>w(n))},async getChainId(){const n=await(await this.getProvider()).request({method:"eth_chainId"});return Number(n)},async getProvider(){if(!u){const n=typeof c.preference=="string"?{options:c.preference}:{...c.preference,options:c.preference?.options??"all"},{createCoinbaseWalletSDK:e}=await _(async()=>{const{createCoinbaseWalletSDK:t}=await I(()=>C(()=>import("./index-CP_03z7G-CpjUtW3x-CHNuVH3T.js"),__vite__mapDeps([0,1,2,3])),g([0,1,2,3]));return{createCoinbaseWalletSDK:t}},f([0,1,2,3]));u=e({...c,appChainIds:s.chains.map(t=>t.id),preference:n}).getProvider()}return u},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:n,chainId:e}){const t=s.chains.find(o=>o.id===e);if(!t)throw new y(new D);const i=await this.getProvider();try{return await i.request({method:"wallet_switchEthereumChain",params:[{chainId:b(t.id)}]}),t}catch(o){if(o.code===4902)try{let d;n?.blockExplorerUrls?d=n.blockExplorerUrls:d=t.blockExplorers?.default.url?[t.blockExplorers?.default.url]:[];let l;n?.rpcUrls?.length?l=n.rpcUrls:l=[t.rpcUrls.default?.http[0]??""];const m={blockExplorerUrls:d,chainId:b(e),chainName:n?.chainName??t.name,iconUrls:n?.iconUrls,nativeCurrency:n?.nativeCurrency??t.nativeCurrency,rpcUrls:l};return await i.request({method:"wallet_addEthereumChain",params:[m]}),t}catch(d){throw new p(d)}throw new y(o)}},onAccountsChanged(n){n.length===0?this.onDisconnect():s.emitter.emit("change",{accounts:n.map(e=>w(e))})},onChainChanged(n){const e=Number(n);s.emitter.emit("change",{chainId:e})},async onDisconnect(n){s.emitter.emit("disconnect");const e=await this.getProvider();h&&(e.removeListener("accountsChanged",h),h=void 0),a&&(e.removeListener("chainChanged",a),a=void 0),r&&(e.removeListener("disconnect",r),r=void 0)}}))}function L(c){let u,h,a,r,s;return P(n=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:x.type,async connect({chainId:e}={}){try{const t=await this.getProvider(),i=(await t.request({method:"eth_requestAccounts"})).map(d=>w(d));a||(a=this.onAccountsChanged.bind(this),t.on("accountsChanged",a)),r||(r=this.onChainChanged.bind(this),t.on("chainChanged",r)),s||(s=this.onDisconnect.bind(this),t.on("disconnect",s));let o=await this.getChainId();return e&&o!==e&&(o=(await this.switchChain({chainId:e}).catch(d=>{if(d.code===p.code)throw d;return{id:o}}))?.id??o),{accounts:i,chainId:o}}catch(t){throw/(user closed modal|accounts received is empty|user denied account)/i.test(t.message)?new p(t):t}},async disconnect(){const e=await this.getProvider();a&&(e.removeListener("accountsChanged",a),a=void 0),r&&(e.removeListener("chainChanged",r),r=void 0),s&&(e.removeListener("disconnect",s),s=void 0),e.disconnect(),e.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(e=>w(e))},async getChainId(){const e=await(await this.getProvider()).request({method:"eth_chainId"});return Number(e)},async getProvider(){if(!h){const e=await(async()=>{const{default:l}=await _(async()=>{const{default:m}=await I(()=>C(()=>import("./index-0fkAHHov-Cy4VAOzU-DIxWP3Rn.js"),__vite__mapDeps([4,2,3,1])),g([4,2,3,1])).then(A=>A.i);return{default:m}},f([4,3,5,2,6,1]));return typeof l!="function"&&typeof l.default=="function"?l.default:l})();u=new e({...c,reloadOnDisconnect:!1});const t=u.walletExtension?.getChainId(),i=n.chains.find(l=>c.chainId?l.id===c.chainId:l.id===t)||n.chains[0],o=c.chainId||i?.id,d=c.jsonRpcUrl||i?.rpcUrls.default.http[0];h=u.makeWeb3Provider(d,o)}return h},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:t}){const i=n.chains.find(d=>d.id===t);if(!i)throw new y(new D);const o=await this.getProvider();try{return await o.request({method:"wallet_switchEthereumChain",params:[{chainId:b(i.id)}]}),i}catch(d){if(d.code===4902)try{let l;e?.blockExplorerUrls?l=e.blockExplorerUrls:l=i.blockExplorers?.default.url?[i.blockExplorers?.default.url]:[];let m;e?.rpcUrls?.length?m=e.rpcUrls:m=[i.rpcUrls.default?.http[0]??""];const A={blockExplorerUrls:l,chainId:b(t),chainName:e?.chainName??i.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??i.nativeCurrency,rpcUrls:m};return await o.request({method:"wallet_addEthereumChain",params:[A]}),i}catch(l){throw new p(l)}throw new y(d)}},onAccountsChanged(e){e.length===0?this.onDisconnect():n.emitter.emit("change",{accounts:e.map(t=>w(t))})},onChainChanged(e){const t=Number(e);n.emitter.emit("change",{chainId:t})},async onDisconnect(e){n.emitter.emit("disconnect");const t=await this.getProvider();a&&(t.removeListener("accountsChanged",a),a=void 0),r&&(t.removeListener("chainChanged",r),r=void 0),s&&(t.removeListener("disconnect",s),s=void 0)}}))}E.type="safe";function E(c={}){const{shimDisconnect:u=!1}=c;let h,a;return P(r=>({id:"safe",name:"Safe",type:E.type,async connect(){const s=await this.getProvider();if(!s)throw new v;const n=await this.getAccounts(),e=await this.getChainId();return a||(a=this.onDisconnect.bind(this),s.on("disconnect",a)),u&&await r.storage?.removeItem("safe.disconnected"),{accounts:n,chainId:e}},async disconnect(){const s=await this.getProvider();if(!s)throw new v;a&&(s.removeListener("disconnect",a),a=void 0),u&&await r.storage?.setItem("safe.disconnected",!0)},async getAccounts(){const s=await this.getProvider();if(!s)throw new v;return(await s.request({method:"eth_accounts"})).map(w)},async getProvider(){if(typeof window<"u"&&window?.parent!==window){if(!h){const{default:s}=await _(async()=>{const{default:i}=await I(()=>C(()=>import("./index-DhpA2FL2-DXMYeMbX-BjLEctIE.js"),__vite__mapDeps([5,6,2,3])),g([5,6,2,3]));return{default:i}},f([7,8,2,3])),n=new s(c),e=await U(()=>n.safe.getInfo(),{timeout:c.unstable_getInfoTimeout??10});if(!e)throw new Error("Could not load Safe information");const t=await(async()=>{const i=await _(()=>I(()=>C(()=>import("./index-nE_b9WcW-Bpm9jvBz-BQkVZ_nr.js"),__vite__mapDeps([7,2,3,6])),g([7,2,3,6])).then(o=>o.i),f([9,3,8,5,2,6]));return typeof i.SafeAppProvider!="function"&&typeof i.default.SafeAppProvider=="function"?i.default.SafeAppProvider:i.SafeAppProvider})();h=new t(e,n)}return h}},async getChainId(){const s=await this.getProvider();if(!s)throw new v;return Number(s.chainId)},async isAuthorized(){try{return u&&await r.storage?.getItem("safe.disconnected")?!1:!!(await this.getAccounts()).length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){r.emitter.emit("disconnect")}}))}export{x as coinbaseWallet,T as injected,E as safe};
//# sourceMappingURL=index-ChhyusO2-DAa6Xq7i-BfhFvim-.js.map
