{"version":3,"file":"VirtualList-yZ8rWXJ5-DCcLzWuZ.js","sources":["../../assets/VirtualList-yZ8rWXJ5.js"],"sourcesContent":["import{r as e,j as t}from\"./wagmi-MLQ1qm62.js\";import\"./vendor-BkkZ95pQ.js\";const VirtualList=({items:s=[],itemHeight:n=200,containerHeight:r=600,overscan:a=5,renderItem:i,className:l=\"\",onScroll:c=null,keyExtractor:o=(e,t)=>t})=>{const[m,u]=e.useState(0);const h=e.useRef(null);const d=e.useRef(null);const g=e.useMemo(()=>{const e=Math.max(0,Math.floor(m/n)-a);const t=Math.min(s.length-1,Math.ceil((m+r)/n)+a);return{startIndex:e,endIndex:t}},[m,r,n,a,s.length]);const x=e.useMemo(()=>{const{startIndex:e,endIndex:t}=g;return s.slice(e,t+1).map((t,s)=>({item:t,index:e+s,style:{position:\"absolute\",top:(e+s)*n,height:n,width:\"100%\"}}))},[s,g,n]);const v=e.useCallback(e=>{const t=e.target.scrollTop;u(t);c&&c(t)},[c]);const p=e.useCallback(e=>{d.current||(d.current=requestAnimationFrame(()=>{v(e);d.current=null}))},[v]);e.useEffect(()=>{const e=h.current;if(e){e.addEventListener(\"scroll\",p,{passive:!0});return()=>{e.removeEventListener(\"scroll\",p);d.current&&cancelAnimationFrame(d.current)}}},[p]);const f=s.length*n;return t.jsx(\"div\",{ref:h,className:`overflow-auto ${l}`,style:{height:r},onScroll:p,children:t.jsx(\"div\",{style:{height:f,position:\"relative\"},children:x.map(({item:e,index:s,style:n})=>t.jsx(\"div\",{style:n,children:i(e,s)},o(e,s)))})})};const VirtualImageList=({images:s=[],itemHeight:n=200,containerHeight:r=600,renderImage:a,className:i=\"\"})=>{const[l,c]=e.useState(new Set);e.useCallback(e=>{c(t=>new Set(t).add(e))},[]);const o=e.useCallback((e,s)=>t.jsxs(\"div\",{className:\"relative\",children:[a(e,s,l.has(s)),!l.has(s)&&t.jsx(\"div\",{className:\"absolute inset-0 bg-zinc-800 animate-pulse\",style:{height:n}})]}),[a,l,n]);return t.jsx(VirtualList,{items:s,itemHeight:n,containerHeight:r,renderItem:o,className:i,keyExtractor:(e,t)=>`image-${t}-${e.src||e}`})};export{VirtualImageList,VirtualList as default};\n//# sourceMappingURL=VirtualList-yZ8rWXJ5.js.map\n"],"names":["VirtualList","items","s","itemHeight","n","containerHeight","r","overscan","a","renderItem","i","className","l","onScroll","c","keyExtractor","o","e","t","m","u","useState","h","useRef","d","g","useMemo","Math","max","floor","min","length","ceil","startIndex","endIndex","x","slice","map","item","index","style","position","top","height","width","v","useCallback","target","scrollTop","p","current","requestAnimationFrame","useEffect","addEventListener","passive","removeEventListener","cancelAnimationFrame","f","jsx","ref","children","VirtualImageList","images","renderImage","Set","add","jsxs","has","src"],"mappings":"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"}