const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DHmcRw4h-NzTtZGR7.js","assets/hooks.module-Buhn87mF-DbhZBz05.js","assets/index-DI5Oa0Wo.js","assets/wagmi-Cp7MbjcB.js","assets/index-CauRjI5p-DArCS1Gp.js","assets/index-qUk5_jvf-CJYnAyRX.js","assets/index-zN_SQ_VD-zN_SQ_VD.js","assets/index-CW6yIs7s-D7vFJug8.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./wagmi-Cp7MbjcB.js";import{c as t,g as n,e as i,d as a,n as s,Q as c,_ as o,I as r,w as d}from"./index-DI5Oa0Wo.js";import{i as h}from"./index-DI5Oa0Wo.js";const __vite__mapDeps=(e,t=__vite__mapDeps,n=t.f||(t.f=["assets/index-DHmcRw4h.js","assets/hooks.module-Buhn87mF.js","assets/wagmi-MLQ1qm62.js","assets/vendor-BkkZ95pQ.js","assets/index-CauRjI5p.js","assets/index-DuXnRUd8.js","assets/ethers-D0WqDNGY.js","assets/index-qUk5_jvf.js","assets/index-zN_SQ_VD.js","assets/index-CW6yIs7s.js"]))=>e.map(e=>n[e]);coinbaseWallet.type="coinbaseWallet";function coinbaseWallet(e={}){return"3"===e.version||e.headlessMode?version3(e):version4(e)}function version4(r){let d;let h;let u;let l;return t(t=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:coinbaseWallet.type,async connect({chainId:e,...t}={}){try{const i=await this.getProvider();const a=(await i.request({method:"eth_requestAccounts",params:"instantOnboarding"in t&&t.instantOnboarding?[{onboarding:"instant"}]:[]})).map(e=>n(e));if(!h){h=this.onAccountsChanged.bind(this);i.on("accountsChanged",h)}if(!u){u=this.onChainChanged.bind(this);i.on("chainChanged",u)}if(!l){l=this.onDisconnect.bind(this);i.on("disconnect",l)}let s=await this.getChainId();if(e&&s!==e){const t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===c.code)throw e;return{id:s}});s=t?.id??s}return{accounts:a,chainId:s}}catch(i){if(/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(i.message))throw new c(i);throw i}},async disconnect(){const e=await this.getProvider();if(h){e.removeListener("accountsChanged",h);h=void 0}if(u){e.removeListener("chainChanged",u);u=void 0}if(l){e.removeListener("disconnect",l);l=void 0}e.disconnect();e.close?.()},async getAccounts(){const e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>n(e))},async getChainId(){const e=await this.getProvider();const t=await e.request({method:"eth_chainId"});return Number(t)},async getProvider(){if(!d){const n=(()=>"string"==typeof r.preference?{options:r.preference}:{...r.preference,options:r.preference?.options??"all"})();const{createCoinbaseWalletSDK:i}=await o(async()=>{const{createCoinbaseWalletSDK:t}=await e(()=>import("./index-DHmcRw4h-NzTtZGR7.js"),__vite__mapDeps([0,1,2,3]));return{createCoinbaseWalletSDK:t}},__vite__mapDeps([0,1,2,3]));const a=i({...r,appChainIds:t.chains.map(e=>e.id),preference:n});d=a.getProvider()}return d},async isAuthorized(){try{const e=await this.getAccounts();return!!e.length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:n}){const o=t.chains.find(e=>e.id===n);if(!o)throw new i(new a);const r=await this.getProvider();try{await r.request({method:"wallet_switchEthereumChain",params:[{chainId:s(o.id)}]});return o}catch(d){if(4902===d.code)try{let t;t=e?.blockExplorerUrls?e.blockExplorerUrls:o.blockExplorers?.default.url?[o.blockExplorers?.default.url]:[];let i;i=e?.rpcUrls?.length?e.rpcUrls:[o.rpcUrls.default?.http[0]??""];const a={blockExplorerUrls:t,chainId:s(n),chainName:e?.chainName??o.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??o.nativeCurrency,rpcUrls:i};await r.request({method:"wallet_addEthereumChain",params:[a]});return o}catch(h){throw new c(h)}throw new i(d)}},onAccountsChanged(e){0===e.length?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(e=>n(e))})},onChainChanged(e){const n=Number(e);t.emitter.emit("change",{chainId:n})},async onDisconnect(e){t.emitter.emit("disconnect");const n=await this.getProvider();if(h){n.removeListener("accountsChanged",h);h=void 0}if(u){n.removeListener("chainChanged",u);u=void 0}if(l){n.removeListener("disconnect",l);l=void 0}}}))}function version3(r){const d=!1;let h;let u;let l;let m;let w;return t(t=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:coinbaseWallet.type,async connect({chainId:e}={}){try{const t=await this.getProvider();const i=(await t.request({method:"eth_requestAccounts"})).map(e=>n(e));if(!l){l=this.onAccountsChanged.bind(this);t.on("accountsChanged",l)}if(!m){m=this.onChainChanged.bind(this);t.on("chainChanged",m)}if(!w){w=this.onDisconnect.bind(this);t.on("disconnect",w)}let a=await this.getChainId();if(e&&a!==e){const t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===c.code)throw e;return{id:a}});a=t?.id??a}return{accounts:i,chainId:a}}catch(t){if(/(user closed modal|accounts received is empty|user denied account)/i.test(t.message))throw new c(t);throw t}},async disconnect(){const e=await this.getProvider();if(l){e.removeListener("accountsChanged",l);l=void 0}if(m){e.removeListener("chainChanged",m);m=void 0}if(w){e.removeListener("disconnect",w);w=void 0}e.disconnect();e.close()},async getAccounts(){const e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>n(e))},async getChainId(){const e=await this.getProvider();const t=await e.request({method:"eth_chainId"});return Number(t)},async getProvider(){if(!u){const n=await(async()=>{const{default:t}=await o(async()=>{const{default:t}=await e(()=>import("./index-CauRjI5p-DArCS1Gp.js"),__vite__mapDeps([4,2,3,1])).then(e=>e.i);return{default:t}},__vite__mapDeps([4,3,5,2,6,1]));return"function"!=typeof t&&"function"==typeof t.default?t.default:t})();h=new n({...r,reloadOnDisconnect:d});const i=h.walletExtension?.getChainId();const a=t.chains.find(e=>r.chainId?e.id===r.chainId:e.id===i)||t.chains[0];const s=r.chainId||a?.id;const c=r.jsonRpcUrl||a?.rpcUrls.default.http[0];u=h.makeWeb3Provider(c,s)}return u},async isAuthorized(){try{const e=await this.getAccounts();return!!e.length}catch{return!1}},async switchChain({addEthereumChainParameter:e,chainId:n}){const o=t.chains.find(e=>e.id===n);if(!o)throw new i(new a);const r=await this.getProvider();try{await r.request({method:"wallet_switchEthereumChain",params:[{chainId:s(o.id)}]});return o}catch(d){if(4902===d.code)try{let t;t=e?.blockExplorerUrls?e.blockExplorerUrls:o.blockExplorers?.default.url?[o.blockExplorers?.default.url]:[];let i;i=e?.rpcUrls?.length?e.rpcUrls:[o.rpcUrls.default?.http[0]??""];const a={blockExplorerUrls:t,chainId:s(n),chainName:e?.chainName??o.name,iconUrls:e?.iconUrls,nativeCurrency:e?.nativeCurrency??o.nativeCurrency,rpcUrls:i};await r.request({method:"wallet_addEthereumChain",params:[a]});return o}catch(h){throw new c(h)}throw new i(d)}},onAccountsChanged(e){0===e.length?this.onDisconnect():t.emitter.emit("change",{accounts:e.map(e=>n(e))})},onChainChanged(e){const n=Number(e);t.emitter.emit("change",{chainId:n})},async onDisconnect(e){t.emitter.emit("disconnect");const n=await this.getProvider();if(l){n.removeListener("accountsChanged",l);l=void 0}if(m){n.removeListener("chainChanged",m);m=void 0}if(w){n.removeListener("disconnect",w);w=void 0}}}))}safe.type="safe";function safe(i={}){const{shimDisconnect:a=!1}=i;let s;let c;return t(t=>({id:"safe",name:"Safe",type:safe.type,async connect(){const e=await this.getProvider();if(!e)throw new r;const n=await this.getAccounts();const i=await this.getChainId();if(!c){c=this.onDisconnect.bind(this);e.on("disconnect",c)}a&&await(t.storage?.removeItem("safe.disconnected"));return{accounts:n,chainId:i}},async disconnect(){const e=await this.getProvider();if(!e)throw new r;if(c){e.removeListener("disconnect",c);c=void 0}a&&await(t.storage?.setItem("safe.disconnected",!0))},async getAccounts(){const e=await this.getProvider();if(!e)throw new r;return(await e.request({method:"eth_accounts"})).map(n)},async getProvider(){const t="undefined"!=typeof window&&window?.parent!==window;if(t){if(!s){const{default:t}=await o(async()=>{const{default:t}=await e(()=>import("./index-qUk5_jvf-CJYnAyRX.js"),__vite__mapDeps([5,6,2,3]));return{default:t}},__vite__mapDeps([7,8,2,3]));const n=new t(i);const a=await d(()=>n.safe.getInfo(),{timeout:i.unstable_getInfoTimeout??10});if(!a)throw new Error("Could not load Safe information");const c=await(async()=>{const t=await o(()=>e(()=>import("./index-CW6yIs7s-D7vFJug8.js"),__vite__mapDeps([7,2,3,6])).then(e=>e.i),__vite__mapDeps([9,3,8,5,2,6]));return"function"!=typeof t.SafeAppProvider&&"function"==typeof t.default.SafeAppProvider?t.default.SafeAppProvider:t.SafeAppProvider})();s=new c(a,n)}return s}},async getChainId(){const e=await this.getProvider();if(!e)throw new r;return Number(e.chainId)},async isAuthorized(){try{const e=a&&await(t.storage?.getItem("safe.disconnected"));if(e)return!1;const n=await this.getAccounts();return!!n.length}catch{return!1}},onAccountsChanged(){},onChainChanged(){},onDisconnect(){t.emitter.emit("disconnect")}}))}export{coinbaseWallet,h as injected,safe};
//# sourceMappingURL=index-C48FUAJh-BylhyVHQ.js.map
