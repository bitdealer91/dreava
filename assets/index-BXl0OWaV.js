const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-ChhyusO2-DAa6Xq7i-BfhFvim-.js","assets/wagmi-BlTxHScW.js","assets/VirtualList-CkN222eY-fTBMFPK0-B-c2r3vV.js"])))=>i.map(i=>d[i]);
import{_ as xd}from"./wagmi-BlTxHScW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const K$="modulepreload",Z$=function(e){return"/"+e},nS={},vd=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");r=a(t.map(c=>{if(c=Z$(c),c in nS)return;nS[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":K$,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&s(i.reason);return e().catch(s)})},jx=(e,t=jx,n=t.f||(t.f=["assets/index-ChhyusO2-DAa6Xq7i.js","assets/wagmi-BlTxHScW.js","assets/VirtualList-CkN222eY-fTBMFPK0.js"]))=>e.map(r=>n[r]);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Nm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C9(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var rS={exports:{}},an={},sS;function Y$(){if(sS)return an;sS=1;/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function p(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function w(L,V,Q){this.props=L,this.context=V,this.refs=y,this.updater=Q||g}w.prototype.isReactComponent={},w.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},w.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function v(){}v.prototype=w.prototype;function N(L,V,Q){this.props=L,this.context=V,this.refs=y,this.updater=Q||g}var A=N.prototype=new v;A.constructor=N,b(A,w.prototype),A.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function P(L,V,Q){var Y,ae={},ue=null,re=null;if(V!=null)for(Y in V.ref!==void 0&&(re=V.ref),V.key!==void 0&&(ue=""+V.key),V)k.call(V,Y)&&!T.hasOwnProperty(Y)&&(ae[Y]=V[Y]);var ie=arguments.length-2;if(ie===1)ae.children=Q;else if(1<ie){for(var pe=Array(ie),oe=0;oe<ie;oe++)pe[oe]=arguments[oe+2];ae.children=pe}if(L&&L.defaultProps)for(Y in ie=L.defaultProps,ie)ae[Y]===void 0&&(ae[Y]=ie[Y]);return{$$typeof:e,type:L,key:ue,ref:re,props:ae,_owner:S.current}}function I(L,V){return{$$typeof:e,type:L.type,key:V,ref:L.ref,props:L.props,_owner:L._owner}}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function W(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Q){return V[Q]})}var z=/\/+/g;function B(L,V){return typeof L=="object"&&L!==null&&L.key!=null?W(""+L.key):V.toString(36)}function O(L,V,Q,Y,ae){var ue=typeof L;(ue==="undefined"||ue==="boolean")&&(L=null);var re=!1;if(L===null)re=!0;else switch(ue){case"string":case"number":re=!0;break;case"object":switch(L.$$typeof){case e:case t:re=!0}}if(re)return re=L,ae=ae(re),L=Y===""?"."+B(re,0):Y,C(ae)?(Q="",L!=null&&(Q=L.replace(z,"$&/")+"/"),O(ae,V,Q,"",function(oe){return oe})):ae!=null&&(M(ae)&&(ae=I(ae,Q+(!ae.key||re&&re.key===ae.key?"":(""+ae.key).replace(z,"$&/")+"/")+L)),V.push(ae)),1;if(re=0,Y=Y===""?".":Y+":",C(L))for(var ie=0;ie<L.length;ie++){ue=L[ie];var pe=Y+B(ue,ie);re+=O(ue,V,Q,pe,ae)}else if(pe=p(L),typeof pe=="function")for(L=pe.call(L),ie=0;!(ue=L.next()).done;)ue=ue.value,pe=Y+B(ue,ie++),re+=O(ue,V,Q,pe,ae);else if(ue==="object")throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return re}function F(L,V,Q){if(L==null)return L;var Y=[],ae=0;return O(L,Y,"","",function(ue){return V.call(Q,ue,ae++)}),Y}function G(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(Q){(L._status===0||L._status===-1)&&(L._status=1,L._result=Q)},function(Q){(L._status===0||L._status===-1)&&(L._status=2,L._result=Q)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var K={current:null},$={transition:null},Z={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:$,ReactCurrentOwner:S};function ee(){throw Error("act(...) is not supported in production builds of React.")}return an.Children={map:F,forEach:function(L,V,Q){F(L,function(){V.apply(this,arguments)},Q)},count:function(L){var V=0;return F(L,function(){V++}),V},toArray:function(L){return F(L,function(V){return V})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},an.Component=w,an.Fragment=n,an.Profiler=s,an.PureComponent=N,an.StrictMode=r,an.Suspense=c,an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,an.act=ee,an.cloneElement=function(L,V,Q){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Y=b({},L.props),ae=L.key,ue=L.ref,re=L._owner;if(V!=null){if(V.ref!==void 0&&(ue=V.ref,re=S.current),V.key!==void 0&&(ae=""+V.key),L.type&&L.type.defaultProps)var ie=L.type.defaultProps;for(pe in V)k.call(V,pe)&&!T.hasOwnProperty(pe)&&(Y[pe]=V[pe]===void 0&&ie!==void 0?ie[pe]:V[pe])}var pe=arguments.length-2;if(pe===1)Y.children=Q;else if(1<pe){ie=Array(pe);for(var oe=0;oe<pe;oe++)ie[oe]=arguments[oe+2];Y.children=ie}return{$$typeof:e,type:L.type,key:ae,ref:ue,props:Y,_owner:re}},an.createContext=function(L){return L={$$typeof:i,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},an.createElement=P,an.createFactory=function(L){var V=P.bind(null,L);return V.type=L,V},an.createRef=function(){return{current:null}},an.forwardRef=function(L){return{$$typeof:o,render:L}},an.isValidElement=M,an.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:G}},an.memo=function(L,V){return{$$typeof:u,type:L,compare:V===void 0?null:V}},an.startTransition=function(L){var V=$.transition;$.transition={};try{L()}finally{$.transition=V}},an.unstable_act=ee,an.useCallback=function(L,V){return K.current.useCallback(L,V)},an.useContext=function(L){return K.current.useContext(L)},an.useDebugValue=function(){},an.useDeferredValue=function(L){return K.current.useDeferredValue(L)},an.useEffect=function(L,V){return K.current.useEffect(L,V)},an.useId=function(){return K.current.useId()},an.useImperativeHandle=function(L,V,Q){return K.current.useImperativeHandle(L,V,Q)},an.useInsertionEffect=function(L,V){return K.current.useInsertionEffect(L,V)},an.useLayoutEffect=function(L,V){return K.current.useLayoutEffect(L,V)},an.useMemo=function(L,V){return K.current.useMemo(L,V)},an.useReducer=function(L,V,Q){return K.current.useReducer(L,V,Q)},an.useRef=function(L){return K.current.useRef(L)},an.useState=function(L){return K.current.useState(L)},an.useSyncExternalStore=function(L,V,Q){return K.current.useSyncExternalStore(L,V,Q)},an.useTransition=function(){return K.current.useTransition()},an.version="18.3.1",an}var aS;function Qg(){return aS||(aS=1,rS.exports=Y$()),rS.exports}var gN={exports:{}},Os={},iS={exports:{}},oS={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var lS;function Q$(){return lS||(lS=1,function(e){function t($,Z){var ee=$.length;$.push(Z);e:for(;0<ee;){var L=ee-1>>>1,V=$[L];if(0<s(V,Z))$[L]=Z,$[ee]=V,ee=L;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Z=$[0],ee=$.pop();if(ee!==Z){$[0]=ee;e:for(var L=0,V=$.length,Q=V>>>1;L<Q;){var Y=2*(L+1)-1,ae=$[Y],ue=Y+1,re=$[ue];if(0>s(ae,ee))ue<V&&0>s(re,ae)?($[L]=re,$[ue]=ee,L=ue):($[L]=ae,$[Y]=ee,L=Y);else if(ue<V&&0>s(re,ee))$[L]=re,$[ue]=ee,L=ue;else break e}}return Z}function s($,Z){var ee=$.sortIndex-Z.sortIndex;return ee!==0?ee:$.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,f=null,p=3,g=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A($){for(var Z=n(u);Z!==null;){if(Z.callback===null)r(u);else if(Z.startTime<=$)r(u),Z.sortIndex=Z.expirationTime,t(c,Z);else break;Z=n(u)}}function C($){if(y=!1,A($),!b)if(n(c)!==null)b=!0,G(k);else{var Z=n(u);Z!==null&&K(C,Z.startTime-$)}}function k($,Z){b=!1,y&&(y=!1,v(P),P=-1),g=!0;var ee=p;try{for(A(Z),f=n(c);f!==null&&(!(f.expirationTime>Z)||$&&!W());){var L=f.callback;if(typeof L=="function"){f.callback=null,p=f.priorityLevel;var V=L(f.expirationTime<=Z);Z=e.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),A(Z)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var Y=n(u);Y!==null&&K(C,Y.startTime-Z),Q=!1}return Q}finally{f=null,p=ee,g=!1}}var S=!1,T=null,P=-1,I=5,M=-1;function W(){return!(e.unstable_now()-M<I)}function z(){if(T!==null){var $=e.unstable_now();M=$;var Z=!0;try{Z=T(!0,$)}finally{Z?B():(S=!1,T=null)}}else S=!1}var B;if(typeof N=="function")B=function(){N(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=z,B=function(){F.postMessage(null)}}else B=function(){w(z,0)};function G($){T=$,S||(S=!0,B())}function K($,Z){P=w(function(){$(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,G(k))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ee=p;p=Z;try{return $()}finally{p=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,Z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=p;p=$;try{return Z()}finally{p=ee}},e.unstable_scheduleCallback=function($,Z,ee){var L=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?L+ee:L):ee=L,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ee+V,$={id:h++,callback:Z,priorityLevel:$,startTime:ee,expirationTime:V,sortIndex:-1},ee>L?($.sortIndex=ee,t(u,$),n(c)===null&&$===n(u)&&(y?(v(P),P=-1):y=!0,K(C,ee-L))):($.sortIndex=V,t(c,$),b||g||(b=!0,G(k))),$},e.unstable_shouldYield=W,e.unstable_wrapCallback=function($){var Z=p;return function(){var ee=p;p=Z;try{return $.apply(this,arguments)}finally{p=ee}}}}(oS)),oS}var cS;function J$(){return cS||(cS=1,iS.exports=Q$()),iS.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var uS;function X$(){if(uS)return Os;uS=1;var e=Qg(),t=J$();function n(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,x=1;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(d,m){i(d,m),i(d+"Capture",m)}function i(d,m){for(s[d]=m,d=0;d<m.length;d++)r.add(m[d])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(d){return c.call(f,d)?!0:c.call(h,d)?!1:u.test(d)?f[d]=!0:(h[d]=!0,!1)}function g(d,m,x,E){if(x!==null&&x.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return E?!1:x!==null?!x.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,m,x,E){if(m===null||typeof m>"u"||g(d,m,x,E))return!0;if(E)return!1;if(x!==null)switch(x.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,x,E,R,U,X){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=E,this.attributeNamespace=R,this.mustUseProperty=x,this.propertyName=d,this.type=m,this.sanitizeURL=U,this.removeEmptyString=X}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){w[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];w[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){w[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){w[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){w[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){w[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){w[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){w[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){w[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(v,N);w[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(v,N);w[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(v,N);w[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){w[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){w[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function A(d,m,x,E){var R=w.hasOwnProperty(m)?w[m]:null;(R!==null?R.type!==0:E||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(b(m,x,R,E)&&(x=null),E||R===null?p(m)&&(x===null?d.removeAttribute(m):d.setAttribute(m,""+x)):R.mustUseProperty?d[R.propertyName]=x===null?R.type===3?!1:"":x:(m=R.attributeName,E=R.attributeNamespace,x===null?d.removeAttribute(m):(R=R.type,x=R===3||R===4&&x===!0?"":""+x,E?d.setAttributeNS(E,m,x):d.setAttribute(m,x))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),W=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),$=Symbol.iterator;function Z(d){return d===null||typeof d!="object"?null:(d=$&&d[$]||d["@@iterator"],typeof d=="function"?d:null)}var ee=Object.assign,L;function V(d){if(L===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);L=m&&m[1]||""}return`
`+L+d}var Q=!1;function Y(d,m){if(!d||Q)return"";Q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Fe){var E=Fe}Reflect.construct(d,[],m)}else{try{m.call()}catch(Fe){E=Fe}d.call(m.prototype)}else{try{throw Error()}catch(Fe){E=Fe}d()}}catch(Fe){if(Fe&&E&&typeof Fe.stack=="string"){for(var R=Fe.stack.split(`
`),U=E.stack.split(`
`),X=R.length-1,me=U.length-1;1<=X&&0<=me&&R[X]!==U[me];)me--;for(;1<=X&&0<=me;X--,me--)if(R[X]!==U[me]){if(X!==1||me!==1)do if(X--,me--,0>me||R[X]!==U[me]){var ve=`
`+R[X].replace(" at new "," at ");return d.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",d.displayName)),ve}while(1<=X&&0<=me);break}}}finally{Q=!1,Error.prepareStackTrace=x}return(d=d?d.displayName||d.name:"")?V(d):""}function ae(d){switch(d.tag){case 5:return V(d.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return d=Y(d.type,!1),d;case 11:return d=Y(d.type.render,!1),d;case 1:return d=Y(d.type,!0),d;default:return""}}function ue(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case O:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case W:return(d.displayName||"Context")+".Consumer";case M:return(d._context.displayName||"Context")+".Provider";case z:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case F:return m=d.displayName||null,m!==null?m:ue(d.type)||"Memo";case G:m=d._payload,d=d._init;try{return ue(d(m))}catch{}}return null}function re(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(m);case 8:return m===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ie(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function pe(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function oe(d){var m=pe(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),E=""+d[m];if(!d.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var R=x.get,U=x.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return R.call(this)},set:function(X){E=""+X,U.call(this,X)}}),Object.defineProperty(d,m,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(X){E=""+X},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function he(d){d._valueTracker||(d._valueTracker=oe(d))}function Ne(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var x=m.getValue(),E="";return d&&(E=pe(d)?d.checked?"true":"false":d.value),d=E,d!==x?(m.setValue(d),!0):!1}function Re(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function H(d,m){var x=m.checked;return ee({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??d._wrapperState.initialChecked})}function ye(d,m){var x=m.defaultValue==null?"":m.defaultValue,E=m.checked!=null?m.checked:m.defaultChecked;x=ie(m.value!=null?m.value:x),d._wrapperState={initialChecked:E,initialValue:x,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function ce(d,m){m=m.checked,m!=null&&A(d,"checked",m,!1)}function ne(d,m){ce(d,m);var x=ie(m.value),E=m.type;if(x!=null)E==="number"?(x===0&&d.value===""||d.value!=x)&&(d.value=""+x):d.value!==""+x&&(d.value=""+x);else if(E==="submit"||E==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?fe(d,m.type,x):m.hasOwnProperty("defaultValue")&&fe(d,m.type,ie(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function se(d,m,x){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var E=m.type;if(!(E!=="submit"&&E!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,x||m===d.value||(d.value=m),d.defaultValue=m}x=d.name,x!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,x!==""&&(d.name=x)}function fe(d,m,x){(m!=="number"||Re(d.ownerDocument)!==d)&&(x==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+x&&(d.defaultValue=""+x))}var Ie=Array.isArray;function je(d,m,x,E){if(d=d.options,m){m={};for(var R=0;R<x.length;R++)m["$"+x[R]]=!0;for(x=0;x<d.length;x++)R=m.hasOwnProperty("$"+d[x].value),d[x].selected!==R&&(d[x].selected=R),R&&E&&(d[x].defaultSelected=!0)}else{for(x=""+ie(x),m=null,R=0;R<d.length;R++){if(d[R].value===x){d[R].selected=!0,E&&(d[R].defaultSelected=!0);return}m!==null||d[R].disabled||(m=d[R])}m!==null&&(m.selected=!0)}}function be(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Be(d,m){var x=m.value;if(x==null){if(x=m.children,m=m.defaultValue,x!=null){if(m!=null)throw Error(n(92));if(Ie(x)){if(1<x.length)throw Error(n(93));x=x[0]}m=x}m==null&&(m=""),x=m}d._wrapperState={initialValue:ie(x)}}function Me(d,m){var x=ie(m.value),E=ie(m.defaultValue);x!=null&&(x=""+x,x!==d.value&&(d.value=x),m.defaultValue==null&&d.defaultValue!==x&&(d.defaultValue=x)),E!=null&&(d.defaultValue=""+E)}function ze(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function we(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?we(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var D,q=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,x,E,R){MSApp.execUnsafeLocalFunction(function(){return d(m,x,E,R)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(D=D||document.createElement("div"),D.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=D.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function le(d,m){if(m){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=m;return}}d.textContent=m}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];Object.keys(ge).forEach(function(d){Ce.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),ge[m]=ge[d]})});function Se(d,m,x){return m==null||typeof m=="boolean"||m===""?"":x||typeof m!="number"||m===0||ge.hasOwnProperty(d)&&ge[d]?(""+m).trim():m+"px"}function rt(d,m){d=d.style;for(var x in m)if(m.hasOwnProperty(x)){var E=x.indexOf("--")===0,R=Se(x,m[x],E);x==="float"&&(x="cssFloat"),E?d.setProperty(x,R):d[x]=R}}var kt=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ot(d,m){if(m){if(kt[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function Ct(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nt=null;function Kt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Wt=null,Bn=null,En=null;function Ur(d){if(d=op(d)){if(typeof Wt!="function")throw Error(n(280));var m=d.stateNode;m&&(m=Xy(m),Wt(d.stateNode,d.type,m))}}function Vn(d){Bn?En?En.push(d):En=[d]:Bn=d}function $r(){if(Bn){var d=Bn,m=En;if(En=Bn=null,Ur(d),m)for(d=0;d<m.length;d++)Ur(m[d])}}function on(d,m){return d(m)}function Al(){}var es=!1;function xo(d,m,x){if(es)return d(m,x);es=!0;try{return on(d,m,x)}finally{es=!1,(Bn!==null||En!==null)&&(Al(),$r())}}function Ar(d,m){var x=d.stateNode;if(x===null)return null;var E=Xy(x);if(E===null)return null;x=E[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(d=d.type,E=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!E;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,m,typeof x));return x}var ba=!1;if(o)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){ba=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{ba=!1}function wa(d,m,x,E,R,U,X,me,ve){var Fe=Array.prototype.slice.call(arguments,3);try{m.apply(x,Fe)}catch(Ke){this.onError(Ke)}}var Ii=!1,_e=null,He=!1,Xe=null,Je={onError:function(d){Ii=!0,_e=d}};function Ue(d,m,x,E,R,U,X,me,ve){Ii=!1,_e=null,wa.apply(Je,arguments)}function qe(d,m,x,E,R,U,X,me,ve){if(Ue.apply(this,arguments),Ii){if(Ii){var Fe=_e;Ii=!1,_e=null}else throw Error(n(198));He||(He=!0,Xe=Fe)}}function st(d){var m=d,x=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(x=m.return),d=m.return;while(d)}return m.tag===3?x:null}function Le(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function hn(d){if(st(d)!==d)throw Error(n(188))}function vr(d){var m=d.alternate;if(!m){if(m=st(d),m===null)throw Error(n(188));return m!==d?null:d}for(var x=d,E=m;;){var R=x.return;if(R===null)break;var U=R.alternate;if(U===null){if(E=R.return,E!==null){x=E;continue}break}if(R.child===U.child){for(U=R.child;U;){if(U===x)return hn(R),d;if(U===E)return hn(R),m;U=U.sibling}throw Error(n(188))}if(x.return!==E.return)x=R,E=U;else{for(var X=!1,me=R.child;me;){if(me===x){X=!0,x=R,E=U;break}if(me===E){X=!0,E=R,x=U;break}me=me.sibling}if(!X){for(me=U.child;me;){if(me===x){X=!0,x=U,E=R;break}if(me===E){X=!0,E=U,x=R;break}me=me.sibling}if(!X)throw Error(n(189))}}if(x.alternate!==E)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:m}function Ti(d){return d=vr(d),d!==null?ch(d):null}function ch(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=ch(d);if(m!==null)return m;d=d.sibling}return null}var $m=t.unstable_scheduleCallback,Py=t.unstable_cancelCallback,aU=t.unstable_shouldYield,iU=t.unstable_requestPaint,fr=t.unstable_now,oU=t.unstable_getCurrentPriorityLevel,Fv=t.unstable_ImmediatePriority,IE=t.unstable_UserBlockingPriority,Oy=t.unstable_NormalPriority,lU=t.unstable_LowPriority,TE=t.unstable_IdlePriority,Ry=null,Pi=null;function cU(d){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Ry,d,void 0,(d.current.flags&128)===128)}catch{}}var Va=Math.clz32?Math.clz32:hU,uU=Math.log,dU=Math.LN2;function hU(d){return d>>>=0,d===0?32:31-(uU(d)/dU|0)|0}var My=64,zy=4194304;function Hm(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Fy(d,m){var x=d.pendingLanes;if(x===0)return 0;var E=0,R=d.suspendedLanes,U=d.pingedLanes,X=x&268435455;if(X!==0){var me=X&~R;me!==0?E=Hm(me):(U&=X,U!==0&&(E=Hm(U)))}else X=x&~R,X!==0?E=Hm(X):U!==0&&(E=Hm(U));if(E===0)return 0;if(m!==0&&m!==E&&(m&R)===0&&(R=E&-E,U=m&-m,R>=U||R===16&&(U&4194240)!==0))return m;if((E&4)!==0&&(E|=x&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=E;0<m;)x=31-Va(m),R=1<<x,E|=d[x],m&=~R;return E}function fU(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mU(d,m){for(var x=d.suspendedLanes,E=d.pingedLanes,R=d.expirationTimes,U=d.pendingLanes;0<U;){var X=31-Va(U),me=1<<X,ve=R[X];ve===-1?((me&x)===0||(me&E)!==0)&&(R[X]=fU(me,m)):ve<=m&&(d.expiredLanes|=me),U&=~me}}function Dv(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function PE(){var d=My;return My<<=1,(My&4194240)===0&&(My=64),d}function Bv(d){for(var m=[],x=0;31>x;x++)m.push(d);return m}function Wm(d,m,x){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Va(m),d[m]=x}function pU(d,m){var x=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<x;){var R=31-Va(x),U=1<<R;m[R]=0,E[R]=-1,d[R]=-1,x&=~U}}function Lv(d,m){var x=d.entangledLanes|=m;for(d=d.entanglements;x;){var E=31-Va(x),R=1<<E;R&m|d[E]&m&&(d[E]|=m),x&=~R}}var An=0;function OE(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var RE,Uv,ME,zE,FE,$v=!1,Dy=[],Sl=null,jl=null,_l=null,Gm=new Map,qm=new Map,Il=[],gU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function DE(d,m){switch(d){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":Gm.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":qm.delete(m.pointerId)}}function Vm(d,m,x,E,R,U){return d===null||d.nativeEvent!==U?(d={blockedOn:m,domEventName:x,eventSystemFlags:E,nativeEvent:U,targetContainers:[R]},m!==null&&(m=op(m),m!==null&&Uv(m)),d):(d.eventSystemFlags|=E,m=d.targetContainers,R!==null&&m.indexOf(R)===-1&&m.push(R),d)}function yU(d,m,x,E,R){switch(m){case"focusin":return Sl=Vm(Sl,d,m,x,E,R),!0;case"dragenter":return jl=Vm(jl,d,m,x,E,R),!0;case"mouseover":return _l=Vm(_l,d,m,x,E,R),!0;case"pointerover":var U=R.pointerId;return Gm.set(U,Vm(Gm.get(U)||null,d,m,x,E,R)),!0;case"gotpointercapture":return U=R.pointerId,qm.set(U,Vm(qm.get(U)||null,d,m,x,E,R)),!0}return!1}function BE(d){var m=su(d.target);if(m!==null){var x=st(m);if(x!==null){if(m=x.tag,m===13){if(m=Le(x),m!==null){d.blockedOn=m,FE(d.priority,function(){ME(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function By(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var x=Wv(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(x===null){x=d.nativeEvent;var E=new x.constructor(x.type,x);nt=E,x.target.dispatchEvent(E),nt=null}else return m=op(x),m!==null&&Uv(m),d.blockedOn=x,!1;m.shift()}return!0}function LE(d,m,x){By(d)&&x.delete(m)}function bU(){$v=!1,Sl!==null&&By(Sl)&&(Sl=null),jl!==null&&By(jl)&&(jl=null),_l!==null&&By(_l)&&(_l=null),Gm.forEach(LE),qm.forEach(LE)}function Km(d,m){d.blockedOn===m&&(d.blockedOn=null,$v||($v=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bU)))}function Zm(d){function m(R){return Km(R,d)}if(0<Dy.length){Km(Dy[0],d);for(var x=1;x<Dy.length;x++){var E=Dy[x];E.blockedOn===d&&(E.blockedOn=null)}}for(Sl!==null&&Km(Sl,d),jl!==null&&Km(jl,d),_l!==null&&Km(_l,d),Gm.forEach(m),qm.forEach(m),x=0;x<Il.length;x++)E=Il[x],E.blockedOn===d&&(E.blockedOn=null);for(;0<Il.length&&(x=Il[0],x.blockedOn===null);)BE(x),x.blockedOn===null&&Il.shift()}var uh=C.ReactCurrentBatchConfig,Ly=!0;function wU(d,m,x,E){var R=An,U=uh.transition;uh.transition=null;try{An=1,Hv(d,m,x,E)}finally{An=R,uh.transition=U}}function xU(d,m,x,E){var R=An,U=uh.transition;uh.transition=null;try{An=4,Hv(d,m,x,E)}finally{An=R,uh.transition=U}}function Hv(d,m,x,E){if(Ly){var R=Wv(d,m,x,E);if(R===null)o3(d,m,E,Uy,x),DE(d,E);else if(yU(R,d,m,x,E))E.stopPropagation();else if(DE(d,E),m&4&&-1<gU.indexOf(d)){for(;R!==null;){var U=op(R);if(U!==null&&RE(U),U=Wv(d,m,x,E),U===null&&o3(d,m,E,Uy,x),U===R)break;R=U}R!==null&&E.stopPropagation()}else o3(d,m,E,null,x)}}var Uy=null;function Wv(d,m,x,E){if(Uy=null,d=Kt(E),d=su(d),d!==null)if(m=st(d),m===null)d=null;else if(x=m.tag,x===13){if(d=Le(m),d!==null)return d;d=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Uy=d,null}function UE(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oU()){case Fv:return 1;case IE:return 4;case Oy:case lU:return 16;case TE:return 536870912;default:return 16}default:return 16}}var Tl=null,Gv=null,$y=null;function $E(){if($y)return $y;var d,m=Gv,x=m.length,E,R="value"in Tl?Tl.value:Tl.textContent,U=R.length;for(d=0;d<x&&m[d]===R[d];d++);var X=x-d;for(E=1;E<=X&&m[x-E]===R[U-E];E++);return $y=R.slice(d,1<E?1-E:void 0)}function Hy(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Wy(){return!0}function HE(){return!1}function Ys(d){function m(x,E,R,U,X){this._reactName=x,this._targetInst=R,this.type=E,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var me in d)d.hasOwnProperty(me)&&(x=d[me],this[me]=x?x(U):U[me]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Wy:HE,this.isPropagationStopped=HE,this}return ee(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Wy)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Wy)},persist:function(){},isPersistent:Wy}),m}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qv=Ys(dh),Ym=ee({},dh,{view:0,detail:0}),vU=Ys(Ym),Vv,Kv,Qm,Gy=ee({},Ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Qm&&(Qm&&d.type==="mousemove"?(Vv=d.screenX-Qm.screenX,Kv=d.screenY-Qm.screenY):Kv=Vv=0,Qm=d),Vv)},movementY:function(d){return"movementY"in d?d.movementY:Kv}}),WE=Ys(Gy),NU=ee({},Gy,{dataTransfer:0}),kU=Ys(NU),CU=ee({},Ym,{relatedTarget:0}),Zv=Ys(CU),EU=ee({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),AU=Ys(EU),SU=ee({},dh,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),jU=Ys(SU),_U=ee({},dh,{data:0}),GE=Ys(_U),IU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OU(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=PU[d])?!!m[d]:!1}function Yv(){return OU}var RU=ee({},Ym,{key:function(d){if(d.key){var m=IU[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Hy(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?TU[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(d){return d.type==="keypress"?Hy(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Hy(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),MU=Ys(RU),zU=ee({},Gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qE=Ys(zU),FU=ee({},Ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),DU=Ys(FU),BU=ee({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),LU=Ys(BU),UU=ee({},Gy,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),$U=Ys(UU),HU=[9,13,27,32],Qv=o&&"CompositionEvent"in window,Jm=null;o&&"documentMode"in document&&(Jm=document.documentMode);var WU=o&&"TextEvent"in window&&!Jm,VE=o&&(!Qv||Jm&&8<Jm&&11>=Jm),KE=" ",ZE=!1;function YE(d,m){switch(d){case"keyup":return HU.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var hh=!1;function GU(d,m){switch(d){case"compositionend":return QE(m);case"keypress":return m.which!==32?null:(ZE=!0,KE);case"textInput":return d=m.data,d===KE&&ZE?null:d;default:return null}}function qU(d,m){if(hh)return d==="compositionend"||!Qv&&YE(d,m)?(d=$E(),$y=Gv=Tl=null,hh=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return VE&&m.locale!=="ko"?null:m.data;default:return null}}var VU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JE(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!VU[d.type]:m==="textarea"}function XE(d,m,x,E){Vn(E),m=Yy(m,"onChange"),0<m.length&&(x=new qv("onChange","change",null,x,E),d.push({event:x,listeners:m}))}var Xm=null,ep=null;function KU(d){y8(d,0)}function qy(d){var m=yh(d);if(Ne(m))return d}function ZU(d,m){if(d==="change")return m}var e8=!1;if(o){var Jv;if(o){var Xv="oninput"in document;if(!Xv){var t8=document.createElement("div");t8.setAttribute("oninput","return;"),Xv=typeof t8.oninput=="function"}Jv=Xv}else Jv=!1;e8=Jv&&(!document.documentMode||9<document.documentMode)}function n8(){Xm&&(Xm.detachEvent("onpropertychange",r8),ep=Xm=null)}function r8(d){if(d.propertyName==="value"&&qy(ep)){var m=[];XE(m,ep,d,Kt(d)),xo(KU,m)}}function YU(d,m,x){d==="focusin"?(n8(),Xm=m,ep=x,Xm.attachEvent("onpropertychange",r8)):d==="focusout"&&n8()}function QU(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return qy(ep)}function JU(d,m){if(d==="click")return qy(m)}function XU(d,m){if(d==="input"||d==="change")return qy(m)}function e$(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Ka=typeof Object.is=="function"?Object.is:e$;function tp(d,m){if(Ka(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var x=Object.keys(d),E=Object.keys(m);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var R=x[E];if(!c.call(m,R)||!Ka(d[R],m[R]))return!1}return!0}function s8(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function a8(d,m){var x=s8(d);d=0;for(var E;x;){if(x.nodeType===3){if(E=d+x.textContent.length,d<=m&&E>=m)return{node:x,offset:m-d};d=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=s8(x)}}function i8(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?i8(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function o8(){for(var d=window,m=Re();m instanceof d.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)d=m.contentWindow;else break;m=Re(d.document)}return m}function e3(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function t$(d){var m=o8(),x=d.focusedElem,E=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&i8(x.ownerDocument.documentElement,x)){if(E!==null&&e3(x)){if(m=E.start,d=E.end,d===void 0&&(d=m),"selectionStart"in x)x.selectionStart=m,x.selectionEnd=Math.min(d,x.value.length);else if(d=(m=x.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var R=x.textContent.length,U=Math.min(E.start,R);E=E.end===void 0?U:Math.min(E.end,R),!d.extend&&U>E&&(R=E,E=U,U=R),R=a8(x,U);var X=a8(x,E);R&&X&&(d.rangeCount!==1||d.anchorNode!==R.node||d.anchorOffset!==R.offset||d.focusNode!==X.node||d.focusOffset!==X.offset)&&(m=m.createRange(),m.setStart(R.node,R.offset),d.removeAllRanges(),U>E?(d.addRange(m),d.extend(X.node,X.offset)):(m.setEnd(X.node,X.offset),d.addRange(m)))}}for(m=[],d=x;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<m.length;x++)d=m[x],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var n$=o&&"documentMode"in document&&11>=document.documentMode,fh=null,t3=null,np=null,n3=!1;function l8(d,m,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;n3||fh==null||fh!==Re(E)||(E=fh,"selectionStart"in E&&e3(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),np&&tp(np,E)||(np=E,E=Yy(t3,"onSelect"),0<E.length&&(m=new qv("onSelect","select",null,m,x),d.push({event:m,listeners:E}),m.target=fh)))}function Vy(d,m){var x={};return x[d.toLowerCase()]=m.toLowerCase(),x["Webkit"+d]="webkit"+m,x["Moz"+d]="moz"+m,x}var mh={animationend:Vy("Animation","AnimationEnd"),animationiteration:Vy("Animation","AnimationIteration"),animationstart:Vy("Animation","AnimationStart"),transitionend:Vy("Transition","TransitionEnd")},r3={},c8={};o&&(c8=document.createElement("div").style,"AnimationEvent"in window||(delete mh.animationend.animation,delete mh.animationiteration.animation,delete mh.animationstart.animation),"TransitionEvent"in window||delete mh.transitionend.transition);function Ky(d){if(r3[d])return r3[d];if(!mh[d])return d;var m=mh[d],x;for(x in m)if(m.hasOwnProperty(x)&&x in c8)return r3[d]=m[x];return d}var u8=Ky("animationend"),d8=Ky("animationiteration"),h8=Ky("animationstart"),f8=Ky("transitionend"),m8=new Map,p8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pl(d,m){m8.set(d,m),a(m,[d])}for(var s3=0;s3<p8.length;s3++){var a3=p8[s3],r$=a3.toLowerCase(),s$=a3[0].toUpperCase()+a3.slice(1);Pl(r$,"on"+s$)}Pl(u8,"onAnimationEnd"),Pl(d8,"onAnimationIteration"),Pl(h8,"onAnimationStart"),Pl("dblclick","onDoubleClick"),Pl("focusin","onFocus"),Pl("focusout","onBlur"),Pl(f8,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a$=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function g8(d,m,x){var E=d.type||"unknown-event";d.currentTarget=x,qe(E,m,void 0,d),d.currentTarget=null}function y8(d,m){m=(m&4)!==0;for(var x=0;x<d.length;x++){var E=d[x],R=E.event;E=E.listeners;e:{var U=void 0;if(m)for(var X=E.length-1;0<=X;X--){var me=E[X],ve=me.instance,Fe=me.currentTarget;if(me=me.listener,ve!==U&&R.isPropagationStopped())break e;g8(R,me,Fe),U=ve}else for(X=0;X<E.length;X++){if(me=E[X],ve=me.instance,Fe=me.currentTarget,me=me.listener,ve!==U&&R.isPropagationStopped())break e;g8(R,me,Fe),U=ve}}}if(He)throw d=Xe,He=!1,Xe=null,d}function $n(d,m){var x=m[f3];x===void 0&&(x=m[f3]=new Set);var E=d+"__bubble";x.has(E)||(b8(m,d,2,!1),x.add(E))}function i3(d,m,x){var E=0;m&&(E|=4),b8(x,d,E,m)}var Zy="_reactListening"+Math.random().toString(36).slice(2);function sp(d){if(!d[Zy]){d[Zy]=!0,r.forEach(function(x){x!=="selectionchange"&&(a$.has(x)||i3(x,!1,d),i3(x,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Zy]||(m[Zy]=!0,i3("selectionchange",!1,m))}}function b8(d,m,x,E){switch(UE(m)){case 1:var R=wU;break;case 4:R=xU;break;default:R=Hv}x=R.bind(null,m,x,d),R=void 0,!ba||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(R=!0),E?R!==void 0?d.addEventListener(m,x,{capture:!0,passive:R}):d.addEventListener(m,x,!0):R!==void 0?d.addEventListener(m,x,{passive:R}):d.addEventListener(m,x,!1)}function o3(d,m,x,E,R){var U=E;if((m&1)===0&&(m&2)===0&&E!==null)e:for(;;){if(E===null)return;var X=E.tag;if(X===3||X===4){var me=E.stateNode.containerInfo;if(me===R||me.nodeType===8&&me.parentNode===R)break;if(X===4)for(X=E.return;X!==null;){var ve=X.tag;if((ve===3||ve===4)&&(ve=X.stateNode.containerInfo,ve===R||ve.nodeType===8&&ve.parentNode===R))return;X=X.return}for(;me!==null;){if(X=su(me),X===null)return;if(ve=X.tag,ve===5||ve===6){E=U=X;continue e}me=me.parentNode}}E=E.return}xo(function(){var Fe=U,Ke=Kt(x),Qe=[];e:{var Ve=m8.get(d);if(Ve!==void 0){var ct=qv,wt=d;switch(d){case"keypress":if(Hy(x)===0)break e;case"keydown":case"keyup":ct=MU;break;case"focusin":wt="focus",ct=Zv;break;case"focusout":wt="blur",ct=Zv;break;case"beforeblur":case"afterblur":ct=Zv;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=WE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=kU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=DU;break;case u8:case d8:case h8:ct=AU;break;case f8:ct=LU;break;case"scroll":ct=vU;break;case"wheel":ct=$U;break;case"copy":case"cut":case"paste":ct=jU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=qE}var Nt=(m&4)!==0,mr=!Nt&&d==="scroll",Te=Nt?Ve!==null?Ve+"Capture":null:Ve;Nt=[];for(var Ee=Fe,Oe;Ee!==null;){Oe=Ee;var et=Oe.stateNode;if(Oe.tag===5&&et!==null&&(Oe=et,Te!==null&&(et=Ar(Ee,Te),et!=null&&Nt.push(ap(Ee,et,Oe)))),mr)break;Ee=Ee.return}0<Nt.length&&(Ve=new ct(Ve,wt,null,x,Ke),Qe.push({event:Ve,listeners:Nt}))}}if((m&7)===0){e:{if(Ve=d==="mouseover"||d==="pointerover",ct=d==="mouseout"||d==="pointerout",Ve&&x!==nt&&(wt=x.relatedTarget||x.fromElement)&&(su(wt)||wt[vo]))break e;if((ct||Ve)&&(Ve=Ke.window===Ke?Ke:(Ve=Ke.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,ct?(wt=x.relatedTarget||x.toElement,ct=Fe,wt=wt?su(wt):null,wt!==null&&(mr=st(wt),wt!==mr||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(ct=null,wt=Fe),ct!==wt)){if(Nt=WE,et="onMouseLeave",Te="onMouseEnter",Ee="mouse",(d==="pointerout"||d==="pointerover")&&(Nt=qE,et="onPointerLeave",Te="onPointerEnter",Ee="pointer"),mr=ct==null?Ve:yh(ct),Oe=wt==null?Ve:yh(wt),Ve=new Nt(et,Ee+"leave",ct,x,Ke),Ve.target=mr,Ve.relatedTarget=Oe,et=null,su(Ke)===Fe&&(Nt=new Nt(Te,Ee+"enter",wt,x,Ke),Nt.target=Oe,Nt.relatedTarget=mr,et=Nt),mr=et,ct&&wt)t:{for(Nt=ct,Te=wt,Ee=0,Oe=Nt;Oe;Oe=ph(Oe))Ee++;for(Oe=0,et=Te;et;et=ph(et))Oe++;for(;0<Ee-Oe;)Nt=ph(Nt),Ee--;for(;0<Oe-Ee;)Te=ph(Te),Oe--;for(;Ee--;){if(Nt===Te||Te!==null&&Nt===Te.alternate)break t;Nt=ph(Nt),Te=ph(Te)}Nt=null}else Nt=null;ct!==null&&w8(Qe,Ve,ct,Nt,!1),wt!==null&&mr!==null&&w8(Qe,mr,wt,Nt,!0)}}e:{if(Ve=Fe?yh(Fe):window,ct=Ve.nodeName&&Ve.nodeName.toLowerCase(),ct==="select"||ct==="input"&&Ve.type==="file")var Et=ZU;else if(JE(Ve))if(e8)Et=XU;else{Et=QU;var Dt=YU}else(ct=Ve.nodeName)&&ct.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(Et=JU);if(Et&&(Et=Et(d,Fe))){XE(Qe,Et,x,Ke);break e}Dt&&Dt(d,Ve,Fe),d==="focusout"&&(Dt=Ve._wrapperState)&&Dt.controlled&&Ve.type==="number"&&fe(Ve,"number",Ve.value)}switch(Dt=Fe?yh(Fe):window,d){case"focusin":(JE(Dt)||Dt.contentEditable==="true")&&(fh=Dt,t3=Fe,np=null);break;case"focusout":np=t3=fh=null;break;case"mousedown":n3=!0;break;case"contextmenu":case"mouseup":case"dragend":n3=!1,l8(Qe,x,Ke);break;case"selectionchange":if(n$)break;case"keydown":case"keyup":l8(Qe,x,Ke)}var Bt;if(Qv)e:{switch(d){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else hh?YE(d,x)&&(Vt="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Vt="onCompositionStart");Vt&&(VE&&x.locale!=="ko"&&(hh||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&hh&&(Bt=$E()):(Tl=Ke,Gv="value"in Tl?Tl.value:Tl.textContent,hh=!0)),Dt=Yy(Fe,Vt),0<Dt.length&&(Vt=new GE(Vt,d,null,x,Ke),Qe.push({event:Vt,listeners:Dt}),Bt?Vt.data=Bt:(Bt=QE(x),Bt!==null&&(Vt.data=Bt)))),(Bt=WU?GU(d,x):qU(d,x))&&(Fe=Yy(Fe,"onBeforeInput"),0<Fe.length&&(Ke=new GE("onBeforeInput","beforeinput",null,x,Ke),Qe.push({event:Ke,listeners:Fe}),Ke.data=Bt))}y8(Qe,m)})}function ap(d,m,x){return{instance:d,listener:m,currentTarget:x}}function Yy(d,m){for(var x=m+"Capture",E=[];d!==null;){var R=d,U=R.stateNode;R.tag===5&&U!==null&&(R=U,U=Ar(d,x),U!=null&&E.unshift(ap(d,U,R)),U=Ar(d,m),U!=null&&E.push(ap(d,U,R))),d=d.return}return E}function ph(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function w8(d,m,x,E,R){for(var U=m._reactName,X=[];x!==null&&x!==E;){var me=x,ve=me.alternate,Fe=me.stateNode;if(ve!==null&&ve===E)break;me.tag===5&&Fe!==null&&(me=Fe,R?(ve=Ar(x,U),ve!=null&&X.unshift(ap(x,ve,me))):R||(ve=Ar(x,U),ve!=null&&X.push(ap(x,ve,me)))),x=x.return}X.length!==0&&d.push({event:m,listeners:X})}var i$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function x8(d){return(typeof d=="string"?d:""+d).replace(i$,`
`).replace(o$,"")}function Qy(d,m,x){if(m=x8(m),x8(d)!==m&&x)throw Error(n(425))}function Jy(){}var l3=null,c3=null;function u3(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var d3=typeof setTimeout=="function"?setTimeout:void 0,l$=typeof clearTimeout=="function"?clearTimeout:void 0,v8=typeof Promise=="function"?Promise:void 0,c$=typeof queueMicrotask=="function"?queueMicrotask:typeof v8<"u"?function(d){return v8.resolve(null).then(d).catch(u$)}:d3;function u$(d){setTimeout(function(){throw d})}function h3(d,m){var x=m,E=0;do{var R=x.nextSibling;if(d.removeChild(x),R&&R.nodeType===8)if(x=R.data,x==="/$"){if(E===0){d.removeChild(R),Zm(m);return}E--}else x!=="$"&&x!=="$?"&&x!=="$!"||E++;x=R}while(x);Zm(m)}function Ol(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function N8(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return d;m--}else x==="/$"&&m++}d=d.previousSibling}return null}var gh=Math.random().toString(36).slice(2),Oi="__reactFiber$"+gh,ip="__reactProps$"+gh,vo="__reactContainer$"+gh,f3="__reactEvents$"+gh,d$="__reactListeners$"+gh,h$="__reactHandles$"+gh;function su(d){var m=d[Oi];if(m)return m;for(var x=d.parentNode;x;){if(m=x[vo]||x[Oi]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(d=N8(d);d!==null;){if(x=d[Oi])return x;d=N8(d)}return m}d=x,x=d.parentNode}return null}function op(d){return d=d[Oi]||d[vo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function yh(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function Xy(d){return d[ip]||null}var m3=[],bh=-1;function Rl(d){return{current:d}}function Hn(d){0>bh||(d.current=m3[bh],m3[bh]=null,bh--)}function Ln(d,m){bh++,m3[bh]=d.current,d.current=m}var Ml={},ts=Rl(Ml),js=Rl(!1),au=Ml;function wh(d,m){var x=d.type.contextTypes;if(!x)return Ml;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===m)return E.__reactInternalMemoizedMaskedChildContext;var R={},U;for(U in x)R[U]=m[U];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=R),R}function _s(d){return d=d.childContextTypes,d!=null}function eb(){Hn(js),Hn(ts)}function k8(d,m,x){if(ts.current!==Ml)throw Error(n(168));Ln(ts,m),Ln(js,x)}function C8(d,m,x){var E=d.stateNode;if(m=m.childContextTypes,typeof E.getChildContext!="function")return x;E=E.getChildContext();for(var R in E)if(!(R in m))throw Error(n(108,re(d)||"Unknown",R));return ee({},x,E)}function tb(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ml,au=ts.current,Ln(ts,d),Ln(js,js.current),!0}function E8(d,m,x){var E=d.stateNode;if(!E)throw Error(n(169));x?(d=C8(d,m,au),E.__reactInternalMemoizedMergedChildContext=d,Hn(js),Hn(ts),Ln(ts,d)):Hn(js),Ln(js,x)}var No=null,nb=!1,p3=!1;function A8(d){No===null?No=[d]:No.push(d)}function f$(d){nb=!0,A8(d)}function zl(){if(!p3&&No!==null){p3=!0;var d=0,m=An;try{var x=No;for(An=1;d<x.length;d++){var E=x[d];do E=E(!0);while(E!==null)}No=null,nb=!1}catch(R){throw No!==null&&(No=No.slice(d+1)),$m(Fv,zl),R}finally{An=m,p3=!1}}return null}var xh=[],vh=0,rb=null,sb=0,xa=[],va=0,iu=null,ko=1,Co="";function ou(d,m){xh[vh++]=sb,xh[vh++]=rb,rb=d,sb=m}function S8(d,m,x){xa[va++]=ko,xa[va++]=Co,xa[va++]=iu,iu=d;var E=ko;d=Co;var R=32-Va(E)-1;E&=~(1<<R),x+=1;var U=32-Va(m)+R;if(30<U){var X=R-R%5;U=(E&(1<<X)-1).toString(32),E>>=X,R-=X,ko=1<<32-Va(m)+R|x<<R|E,Co=U+d}else ko=1<<U|x<<R|E,Co=d}function g3(d){d.return!==null&&(ou(d,1),S8(d,1,0))}function y3(d){for(;d===rb;)rb=xh[--vh],xh[vh]=null,sb=xh[--vh],xh[vh]=null;for(;d===iu;)iu=xa[--va],xa[va]=null,Co=xa[--va],xa[va]=null,ko=xa[--va],xa[va]=null}var Qs=null,Js=null,Kn=!1,Za=null;function j8(d,m){var x=Ea(5,null,null,0);x.elementType="DELETED",x.stateNode=m,x.return=d,m=d.deletions,m===null?(d.deletions=[x],d.flags|=16):m.push(x)}function _8(d,m){switch(d.tag){case 5:var x=d.type;return m=m.nodeType!==1||x.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Qs=d,Js=Ol(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Qs=d,Js=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(x=iu!==null?{id:ko,overflow:Co}:null,d.memoizedState={dehydrated:m,treeContext:x,retryLane:1073741824},x=Ea(18,null,null,0),x.stateNode=m,x.return=d,d.child=x,Qs=d,Js=null,!0):!1;default:return!1}}function b3(d){return(d.mode&1)!==0&&(d.flags&128)===0}function w3(d){if(Kn){var m=Js;if(m){var x=m;if(!_8(d,m)){if(b3(d))throw Error(n(418));m=Ol(x.nextSibling);var E=Qs;m&&_8(d,m)?j8(E,x):(d.flags=d.flags&-4097|2,Kn=!1,Qs=d)}}else{if(b3(d))throw Error(n(418));d.flags=d.flags&-4097|2,Kn=!1,Qs=d}}}function I8(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Qs=d}function ab(d){if(d!==Qs)return!1;if(!Kn)return I8(d),Kn=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!u3(d.type,d.memoizedProps)),m&&(m=Js)){if(b3(d))throw T8(),Error(n(418));for(;m;)j8(d,m),m=Ol(m.nextSibling)}if(I8(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"){if(m===0){Js=Ol(d.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++}d=d.nextSibling}Js=null}}else Js=Qs?Ol(d.stateNode.nextSibling):null;return!0}function T8(){for(var d=Js;d;)d=Ol(d.nextSibling)}function Nh(){Js=Qs=null,Kn=!1}function x3(d){Za===null?Za=[d]:Za.push(d)}var m$=C.ReactCurrentBatchConfig;function lp(d,m,x){if(d=x.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var E=x.stateNode}if(!E)throw Error(n(147,d));var R=E,U=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===U?m.ref:(m=function(X){var me=R.refs;X===null?delete me[U]:me[U]=X},m._stringRef=U,m)}if(typeof d!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,d))}return d}function ib(d,m){throw d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function P8(d){var m=d._init;return m(d._payload)}function O8(d){function m(Te,Ee){if(d){var Oe=Te.deletions;Oe===null?(Te.deletions=[Ee],Te.flags|=16):Oe.push(Ee)}}function x(Te,Ee){if(!d)return null;for(;Ee!==null;)m(Te,Ee),Ee=Ee.sibling;return null}function E(Te,Ee){for(Te=new Map;Ee!==null;)Ee.key!==null?Te.set(Ee.key,Ee):Te.set(Ee.index,Ee),Ee=Ee.sibling;return Te}function R(Te,Ee){return Te=Wl(Te,Ee),Te.index=0,Te.sibling=null,Te}function U(Te,Ee,Oe){return Te.index=Oe,d?(Oe=Te.alternate,Oe!==null?(Oe=Oe.index,Oe<Ee?(Te.flags|=2,Ee):Oe):(Te.flags|=2,Ee)):(Te.flags|=1048576,Ee)}function X(Te){return d&&Te.alternate===null&&(Te.flags|=2),Te}function me(Te,Ee,Oe,et){return Ee===null||Ee.tag!==6?(Ee=uN(Oe,Te.mode,et),Ee.return=Te,Ee):(Ee=R(Ee,Oe),Ee.return=Te,Ee)}function ve(Te,Ee,Oe,et){var Et=Oe.type;return Et===T?Ke(Te,Ee,Oe.props.children,et,Oe.key):Ee!==null&&(Ee.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===G&&P8(Et)===Ee.type)?(et=R(Ee,Oe.props),et.ref=lp(Te,Ee,Oe),et.return=Te,et):(et=Ib(Oe.type,Oe.key,Oe.props,null,Te.mode,et),et.ref=lp(Te,Ee,Oe),et.return=Te,et)}function Fe(Te,Ee,Oe,et){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Oe.containerInfo||Ee.stateNode.implementation!==Oe.implementation?(Ee=dN(Oe,Te.mode,et),Ee.return=Te,Ee):(Ee=R(Ee,Oe.children||[]),Ee.return=Te,Ee)}function Ke(Te,Ee,Oe,et,Et){return Ee===null||Ee.tag!==7?(Ee=pu(Oe,Te.mode,et,Et),Ee.return=Te,Ee):(Ee=R(Ee,Oe),Ee.return=Te,Ee)}function Qe(Te,Ee,Oe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=uN(""+Ee,Te.mode,Oe),Ee.return=Te,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case k:return Oe=Ib(Ee.type,Ee.key,Ee.props,null,Te.mode,Oe),Oe.ref=lp(Te,null,Ee),Oe.return=Te,Oe;case S:return Ee=dN(Ee,Te.mode,Oe),Ee.return=Te,Ee;case G:var et=Ee._init;return Qe(Te,et(Ee._payload),Oe)}if(Ie(Ee)||Z(Ee))return Ee=pu(Ee,Te.mode,Oe,null),Ee.return=Te,Ee;ib(Te,Ee)}return null}function Ve(Te,Ee,Oe,et){var Et=Ee!==null?Ee.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Et!==null?null:me(Te,Ee,""+Oe,et);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case k:return Oe.key===Et?ve(Te,Ee,Oe,et):null;case S:return Oe.key===Et?Fe(Te,Ee,Oe,et):null;case G:return Et=Oe._init,Ve(Te,Ee,Et(Oe._payload),et)}if(Ie(Oe)||Z(Oe))return Et!==null?null:Ke(Te,Ee,Oe,et,null);ib(Te,Oe)}return null}function ct(Te,Ee,Oe,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number")return Te=Te.get(Oe)||null,me(Ee,Te,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case k:return Te=Te.get(et.key===null?Oe:et.key)||null,ve(Ee,Te,et,Et);case S:return Te=Te.get(et.key===null?Oe:et.key)||null,Fe(Ee,Te,et,Et);case G:var Dt=et._init;return ct(Te,Ee,Oe,Dt(et._payload),Et)}if(Ie(et)||Z(et))return Te=Te.get(Oe)||null,Ke(Ee,Te,et,Et,null);ib(Ee,et)}return null}function wt(Te,Ee,Oe,et){for(var Et=null,Dt=null,Bt=Ee,Vt=Ee=0,zr=null;Bt!==null&&Vt<Oe.length;Vt++){Bt.index>Vt?(zr=Bt,Bt=null):zr=Bt.sibling;var gn=Ve(Te,Bt,Oe[Vt],et);if(gn===null){Bt===null&&(Bt=zr);break}d&&Bt&&gn.alternate===null&&m(Te,Bt),Ee=U(gn,Ee,Vt),Dt===null?Et=gn:Dt.sibling=gn,Dt=gn,Bt=zr}if(Vt===Oe.length)return x(Te,Bt),Kn&&ou(Te,Vt),Et;if(Bt===null){for(;Vt<Oe.length;Vt++)Bt=Qe(Te,Oe[Vt],et),Bt!==null&&(Ee=U(Bt,Ee,Vt),Dt===null?Et=Bt:Dt.sibling=Bt,Dt=Bt);return Kn&&ou(Te,Vt),Et}for(Bt=E(Te,Bt);Vt<Oe.length;Vt++)zr=ct(Bt,Te,Vt,Oe[Vt],et),zr!==null&&(d&&zr.alternate!==null&&Bt.delete(zr.key===null?Vt:zr.key),Ee=U(zr,Ee,Vt),Dt===null?Et=zr:Dt.sibling=zr,Dt=zr);return d&&Bt.forEach(function(Gl){return m(Te,Gl)}),Kn&&ou(Te,Vt),Et}function Nt(Te,Ee,Oe,et){var Et=Z(Oe);if(typeof Et!="function")throw Error(n(150));if(Oe=Et.call(Oe),Oe==null)throw Error(n(151));for(var Dt=Et=null,Bt=Ee,Vt=Ee=0,zr=null,gn=Oe.next();Bt!==null&&!gn.done;Vt++,gn=Oe.next()){Bt.index>Vt?(zr=Bt,Bt=null):zr=Bt.sibling;var Gl=Ve(Te,Bt,gn.value,et);if(Gl===null){Bt===null&&(Bt=zr);break}d&&Bt&&Gl.alternate===null&&m(Te,Bt),Ee=U(Gl,Ee,Vt),Dt===null?Et=Gl:Dt.sibling=Gl,Dt=Gl,Bt=zr}if(gn.done)return x(Te,Bt),Kn&&ou(Te,Vt),Et;if(Bt===null){for(;!gn.done;Vt++,gn=Oe.next())gn=Qe(Te,gn.value,et),gn!==null&&(Ee=U(gn,Ee,Vt),Dt===null?Et=gn:Dt.sibling=gn,Dt=gn);return Kn&&ou(Te,Vt),Et}for(Bt=E(Te,Bt);!gn.done;Vt++,gn=Oe.next())gn=ct(Bt,Te,Vt,gn.value,et),gn!==null&&(d&&gn.alternate!==null&&Bt.delete(gn.key===null?Vt:gn.key),Ee=U(gn,Ee,Vt),Dt===null?Et=gn:Dt.sibling=gn,Dt=gn);return d&&Bt.forEach(function(V$){return m(Te,V$)}),Kn&&ou(Te,Vt),Et}function mr(Te,Ee,Oe,et){if(typeof Oe=="object"&&Oe!==null&&Oe.type===T&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case k:e:{for(var Et=Oe.key,Dt=Ee;Dt!==null;){if(Dt.key===Et){if(Et=Oe.type,Et===T){if(Dt.tag===7){x(Te,Dt.sibling),Ee=R(Dt,Oe.props.children),Ee.return=Te,Te=Ee;break e}}else if(Dt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===G&&P8(Et)===Dt.type){x(Te,Dt.sibling),Ee=R(Dt,Oe.props),Ee.ref=lp(Te,Dt,Oe),Ee.return=Te,Te=Ee;break e}x(Te,Dt);break}else m(Te,Dt);Dt=Dt.sibling}Oe.type===T?(Ee=pu(Oe.props.children,Te.mode,et,Oe.key),Ee.return=Te,Te=Ee):(et=Ib(Oe.type,Oe.key,Oe.props,null,Te.mode,et),et.ref=lp(Te,Ee,Oe),et.return=Te,Te=et)}return X(Te);case S:e:{for(Dt=Oe.key;Ee!==null;){if(Ee.key===Dt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Oe.containerInfo&&Ee.stateNode.implementation===Oe.implementation){x(Te,Ee.sibling),Ee=R(Ee,Oe.children||[]),Ee.return=Te,Te=Ee;break e}else{x(Te,Ee);break}else m(Te,Ee);Ee=Ee.sibling}Ee=dN(Oe,Te.mode,et),Ee.return=Te,Te=Ee}return X(Te);case G:return Dt=Oe._init,mr(Te,Ee,Dt(Oe._payload),et)}if(Ie(Oe))return wt(Te,Ee,Oe,et);if(Z(Oe))return Nt(Te,Ee,Oe,et);ib(Te,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Ee!==null&&Ee.tag===6?(x(Te,Ee.sibling),Ee=R(Ee,Oe),Ee.return=Te,Te=Ee):(x(Te,Ee),Ee=uN(Oe,Te.mode,et),Ee.return=Te,Te=Ee),X(Te)):x(Te,Ee)}return mr}var kh=O8(!0),R8=O8(!1),ob=Rl(null),lb=null,Ch=null,v3=null;function N3(){v3=Ch=lb=null}function k3(d){var m=ob.current;Hn(ob),d._currentValue=m}function C3(d,m,x){for(;d!==null;){var E=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),d===x)break;d=d.return}}function Eh(d,m){lb=d,v3=Ch=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Is=!0),d.firstContext=null)}function Na(d){var m=d._currentValue;if(v3!==d)if(d={context:d,memoizedValue:m,next:null},Ch===null){if(lb===null)throw Error(n(308));Ch=d,lb.dependencies={lanes:0,firstContext:d}}else Ch=Ch.next=d;return m}var lu=null;function E3(d){lu===null?lu=[d]:lu.push(d)}function M8(d,m,x,E){var R=m.interleaved;return R===null?(x.next=x,E3(m)):(x.next=R.next,R.next=x),m.interleaved=x,Eo(d,E)}function Eo(d,m){d.lanes|=m;var x=d.alternate;for(x!==null&&(x.lanes|=m),x=d,d=d.return;d!==null;)d.childLanes|=m,x=d.alternate,x!==null&&(x.childLanes|=m),x=d,d=d.return;return x.tag===3?x.stateNode:null}var Fl=!1;function A3(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z8(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ao(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Dl(d,m,x){var E=d.updateQueue;if(E===null)return null;if(E=E.shared,(mn&2)!==0){var R=E.pending;return R===null?m.next=m:(m.next=R.next,R.next=m),E.pending=m,Eo(d,x)}return R=E.interleaved,R===null?(m.next=m,E3(E)):(m.next=R.next,R.next=m),E.interleaved=m,Eo(d,x)}function cb(d,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194240)!==0)){var E=m.lanes;E&=d.pendingLanes,x|=E,m.lanes=x,Lv(d,x)}}function F8(d,m){var x=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var R=null,U=null;if(x=x.firstBaseUpdate,x!==null){do{var X={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};U===null?R=U=X:U=U.next=X,x=x.next}while(x!==null);U===null?R=U=m:U=U.next=m}else R=U=m;x={baseState:E.baseState,firstBaseUpdate:R,lastBaseUpdate:U,shared:E.shared,effects:E.effects},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=m:d.next=m,x.lastBaseUpdate=m}function ub(d,m,x,E){var R=d.updateQueue;Fl=!1;var U=R.firstBaseUpdate,X=R.lastBaseUpdate,me=R.shared.pending;if(me!==null){R.shared.pending=null;var ve=me,Fe=ve.next;ve.next=null,X===null?U=Fe:X.next=Fe,X=ve;var Ke=d.alternate;Ke!==null&&(Ke=Ke.updateQueue,me=Ke.lastBaseUpdate,me!==X&&(me===null?Ke.firstBaseUpdate=Fe:me.next=Fe,Ke.lastBaseUpdate=ve))}if(U!==null){var Qe=R.baseState;X=0,Ke=Fe=ve=null,me=U;do{var Ve=me.lane,ct=me.eventTime;if((E&Ve)===Ve){Ke!==null&&(Ke=Ke.next={eventTime:ct,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var wt=d,Nt=me;switch(Ve=m,ct=x,Nt.tag){case 1:if(wt=Nt.payload,typeof wt=="function"){Qe=wt.call(ct,Qe,Ve);break e}Qe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Nt.payload,Ve=typeof wt=="function"?wt.call(ct,Qe,Ve):wt,Ve==null)break e;Qe=ee({},Qe,Ve);break e;case 2:Fl=!0}}me.callback!==null&&me.lane!==0&&(d.flags|=64,Ve=R.effects,Ve===null?R.effects=[me]:Ve.push(me))}else ct={eventTime:ct,lane:Ve,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ke===null?(Fe=Ke=ct,ve=Qe):Ke=Ke.next=ct,X|=Ve;if(me=me.next,me===null){if(me=R.shared.pending,me===null)break;Ve=me,me=Ve.next,Ve.next=null,R.lastBaseUpdate=Ve,R.shared.pending=null}}while(!0);if(Ke===null&&(ve=Qe),R.baseState=ve,R.firstBaseUpdate=Fe,R.lastBaseUpdate=Ke,m=R.shared.interleaved,m!==null){R=m;do X|=R.lane,R=R.next;while(R!==m)}else U===null&&(R.shared.lanes=0);du|=X,d.lanes=X,d.memoizedState=Qe}}function D8(d,m,x){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var E=d[m],R=E.callback;if(R!==null){if(E.callback=null,E=x,typeof R!="function")throw Error(n(191,R));R.call(E)}}}var cp={},Ri=Rl(cp),up=Rl(cp),dp=Rl(cp);function cu(d){if(d===cp)throw Error(n(174));return d}function S3(d,m){switch(Ln(dp,m),Ln(up,d),Ln(Ri,cp),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:_(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=_(m,d)}Hn(Ri),Ln(Ri,m)}function Ah(){Hn(Ri),Hn(up),Hn(dp)}function B8(d){cu(dp.current);var m=cu(Ri.current),x=_(m,d.type);m!==x&&(Ln(up,d),Ln(Ri,x))}function j3(d){up.current===d&&(Hn(Ri),Hn(up))}var er=Rl(0);function db(d){for(var m=d;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var _3=[];function I3(){for(var d=0;d<_3.length;d++)_3[d]._workInProgressVersionPrimary=null;_3.length=0}var hb=C.ReactCurrentDispatcher,T3=C.ReactCurrentBatchConfig,uu=0,tr=null,Sr=null,Rr=null,fb=!1,hp=!1,fp=0,p$=0;function ns(){throw Error(n(321))}function P3(d,m){if(m===null)return!1;for(var x=0;x<m.length&&x<d.length;x++)if(!Ka(d[x],m[x]))return!1;return!0}function O3(d,m,x,E,R,U){if(uu=U,tr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,hb.current=d===null||d.memoizedState===null?w$:x$,d=x(E,R),hp){U=0;do{if(hp=!1,fp=0,25<=U)throw Error(n(301));U+=1,Rr=Sr=null,m.updateQueue=null,hb.current=v$,d=x(E,R)}while(hp)}if(hb.current=gb,m=Sr!==null&&Sr.next!==null,uu=0,Rr=Sr=tr=null,fb=!1,m)throw Error(n(300));return d}function R3(){var d=fp!==0;return fp=0,d}function Mi(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?tr.memoizedState=Rr=d:Rr=Rr.next=d,Rr}function ka(){if(Sr===null){var d=tr.alternate;d=d!==null?d.memoizedState:null}else d=Sr.next;var m=Rr===null?tr.memoizedState:Rr.next;if(m!==null)Rr=m,Sr=d;else{if(d===null)throw Error(n(310));Sr=d,d={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Rr===null?tr.memoizedState=Rr=d:Rr=Rr.next=d}return Rr}function mp(d,m){return typeof m=="function"?m(d):m}function M3(d){var m=ka(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var E=Sr,R=E.baseQueue,U=x.pending;if(U!==null){if(R!==null){var X=R.next;R.next=U.next,U.next=X}E.baseQueue=R=U,x.pending=null}if(R!==null){U=R.next,E=E.baseState;var me=X=null,ve=null,Fe=U;do{var Ke=Fe.lane;if((uu&Ke)===Ke)ve!==null&&(ve=ve.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),E=Fe.hasEagerState?Fe.eagerState:d(E,Fe.action);else{var Qe={lane:Ke,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};ve===null?(me=ve=Qe,X=E):ve=ve.next=Qe,tr.lanes|=Ke,du|=Ke}Fe=Fe.next}while(Fe!==null&&Fe!==U);ve===null?X=E:ve.next=me,Ka(E,m.memoizedState)||(Is=!0),m.memoizedState=E,m.baseState=X,m.baseQueue=ve,x.lastRenderedState=E}if(d=x.interleaved,d!==null){R=d;do U=R.lane,tr.lanes|=U,du|=U,R=R.next;while(R!==d)}else R===null&&(x.lanes=0);return[m.memoizedState,x.dispatch]}function z3(d){var m=ka(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var E=x.dispatch,R=x.pending,U=m.memoizedState;if(R!==null){x.pending=null;var X=R=R.next;do U=d(U,X.action),X=X.next;while(X!==R);Ka(U,m.memoizedState)||(Is=!0),m.memoizedState=U,m.baseQueue===null&&(m.baseState=U),x.lastRenderedState=U}return[U,E]}function L8(){}function U8(d,m){var x=tr,E=ka(),R=m(),U=!Ka(E.memoizedState,R);if(U&&(E.memoizedState=R,Is=!0),E=E.queue,F3(W8.bind(null,x,E,d),[d]),E.getSnapshot!==m||U||Rr!==null&&Rr.memoizedState.tag&1){if(x.flags|=2048,pp(9,H8.bind(null,x,E,R,m),void 0,null),Mr===null)throw Error(n(349));(uu&30)!==0||$8(x,m,R)}return R}function $8(d,m,x){d.flags|=16384,d={getSnapshot:m,value:x},m=tr.updateQueue,m===null?(m={lastEffect:null,stores:null},tr.updateQueue=m,m.stores=[d]):(x=m.stores,x===null?m.stores=[d]:x.push(d))}function H8(d,m,x,E){m.value=x,m.getSnapshot=E,G8(m)&&q8(d)}function W8(d,m,x){return x(function(){G8(m)&&q8(d)})}function G8(d){var m=d.getSnapshot;d=d.value;try{var x=m();return!Ka(d,x)}catch{return!0}}function q8(d){var m=Eo(d,1);m!==null&&Xa(m,d,1,-1)}function V8(d){var m=Mi();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:d},m.queue=d,d=d.dispatch=b$.bind(null,tr,d),[m.memoizedState,d]}function pp(d,m,x,E){return d={tag:d,create:m,destroy:x,deps:E,next:null},m=tr.updateQueue,m===null?(m={lastEffect:null,stores:null},tr.updateQueue=m,m.lastEffect=d.next=d):(x=m.lastEffect,x===null?m.lastEffect=d.next=d:(E=x.next,x.next=d,d.next=E,m.lastEffect=d)),d}function K8(){return ka().memoizedState}function mb(d,m,x,E){var R=Mi();tr.flags|=d,R.memoizedState=pp(1|m,x,void 0,E===void 0?null:E)}function pb(d,m,x,E){var R=ka();E=E===void 0?null:E;var U=void 0;if(Sr!==null){var X=Sr.memoizedState;if(U=X.destroy,E!==null&&P3(E,X.deps)){R.memoizedState=pp(m,x,U,E);return}}tr.flags|=d,R.memoizedState=pp(1|m,x,U,E)}function Z8(d,m){return mb(8390656,8,d,m)}function F3(d,m){return pb(2048,8,d,m)}function Y8(d,m){return pb(4,2,d,m)}function Q8(d,m){return pb(4,4,d,m)}function J8(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function X8(d,m,x){return x=x!=null?x.concat([d]):null,pb(4,4,J8.bind(null,m,d),x)}function D3(){}function eA(d,m){var x=ka();m=m===void 0?null:m;var E=x.memoizedState;return E!==null&&m!==null&&P3(m,E[1])?E[0]:(x.memoizedState=[d,m],d)}function tA(d,m){var x=ka();m=m===void 0?null:m;var E=x.memoizedState;return E!==null&&m!==null&&P3(m,E[1])?E[0]:(d=d(),x.memoizedState=[d,m],d)}function nA(d,m,x){return(uu&21)===0?(d.baseState&&(d.baseState=!1,Is=!0),d.memoizedState=x):(Ka(x,m)||(x=PE(),tr.lanes|=x,du|=x,d.baseState=!0),m)}function g$(d,m){var x=An;An=x!==0&&4>x?x:4,d(!0);var E=T3.transition;T3.transition={};try{d(!1),m()}finally{An=x,T3.transition=E}}function rA(){return ka().memoizedState}function y$(d,m,x){var E=$l(d);if(x={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null},sA(d))aA(m,x);else if(x=M8(d,m,x,E),x!==null){var R=us();Xa(x,d,E,R),iA(x,m,E)}}function b$(d,m,x){var E=$l(d),R={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null};if(sA(d))aA(m,R);else{var U=d.alternate;if(d.lanes===0&&(U===null||U.lanes===0)&&(U=m.lastRenderedReducer,U!==null))try{var X=m.lastRenderedState,me=U(X,x);if(R.hasEagerState=!0,R.eagerState=me,Ka(me,X)){var ve=m.interleaved;ve===null?(R.next=R,E3(m)):(R.next=ve.next,ve.next=R),m.interleaved=R;return}}catch{}finally{}x=M8(d,m,R,E),x!==null&&(R=us(),Xa(x,d,E,R),iA(x,m,E))}}function sA(d){var m=d.alternate;return d===tr||m!==null&&m===tr}function aA(d,m){hp=fb=!0;var x=d.pending;x===null?m.next=m:(m.next=x.next,x.next=m),d.pending=m}function iA(d,m,x){if((x&4194240)!==0){var E=m.lanes;E&=d.pendingLanes,x|=E,m.lanes=x,Lv(d,x)}}var gb={readContext:Na,useCallback:ns,useContext:ns,useEffect:ns,useImperativeHandle:ns,useInsertionEffect:ns,useLayoutEffect:ns,useMemo:ns,useReducer:ns,useRef:ns,useState:ns,useDebugValue:ns,useDeferredValue:ns,useTransition:ns,useMutableSource:ns,useSyncExternalStore:ns,useId:ns,unstable_isNewReconciler:!1},w$={readContext:Na,useCallback:function(d,m){return Mi().memoizedState=[d,m===void 0?null:m],d},useContext:Na,useEffect:Z8,useImperativeHandle:function(d,m,x){return x=x!=null?x.concat([d]):null,mb(4194308,4,J8.bind(null,m,d),x)},useLayoutEffect:function(d,m){return mb(4194308,4,d,m)},useInsertionEffect:function(d,m){return mb(4,2,d,m)},useMemo:function(d,m){var x=Mi();return m=m===void 0?null:m,d=d(),x.memoizedState=[d,m],d},useReducer:function(d,m,x){var E=Mi();return m=x!==void 0?x(m):m,E.memoizedState=E.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},E.queue=d,d=d.dispatch=y$.bind(null,tr,d),[E.memoizedState,d]},useRef:function(d){var m=Mi();return d={current:d},m.memoizedState=d},useState:V8,useDebugValue:D3,useDeferredValue:function(d){return Mi().memoizedState=d},useTransition:function(){var d=V8(!1),m=d[0];return d=g$.bind(null,d[1]),Mi().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,x){var E=tr,R=Mi();if(Kn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=m(),Mr===null)throw Error(n(349));(uu&30)!==0||$8(E,m,x)}R.memoizedState=x;var U={value:x,getSnapshot:m};return R.queue=U,Z8(W8.bind(null,E,U,d),[d]),E.flags|=2048,pp(9,H8.bind(null,E,U,x,m),void 0,null),x},useId:function(){var d=Mi(),m=Mr.identifierPrefix;if(Kn){var x=Co,E=ko;x=(E&~(1<<32-Va(E)-1)).toString(32)+x,m=":"+m+"R"+x,x=fp++,0<x&&(m+="H"+x.toString(32)),m+=":"}else x=p$++,m=":"+m+"r"+x.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},x$={readContext:Na,useCallback:eA,useContext:Na,useEffect:F3,useImperativeHandle:X8,useInsertionEffect:Y8,useLayoutEffect:Q8,useMemo:tA,useReducer:M3,useRef:K8,useState:function(){return M3(mp)},useDebugValue:D3,useDeferredValue:function(d){var m=ka();return nA(m,Sr.memoizedState,d)},useTransition:function(){var d=M3(mp)[0],m=ka().memoizedState;return[d,m]},useMutableSource:L8,useSyncExternalStore:U8,useId:rA,unstable_isNewReconciler:!1},v$={readContext:Na,useCallback:eA,useContext:Na,useEffect:F3,useImperativeHandle:X8,useInsertionEffect:Y8,useLayoutEffect:Q8,useMemo:tA,useReducer:z3,useRef:K8,useState:function(){return z3(mp)},useDebugValue:D3,useDeferredValue:function(d){var m=ka();return Sr===null?m.memoizedState=d:nA(m,Sr.memoizedState,d)},useTransition:function(){var d=z3(mp)[0],m=ka().memoizedState;return[d,m]},useMutableSource:L8,useSyncExternalStore:U8,useId:rA,unstable_isNewReconciler:!1};function Ya(d,m){if(d&&d.defaultProps){m=ee({},m),d=d.defaultProps;for(var x in d)m[x]===void 0&&(m[x]=d[x]);return m}return m}function B3(d,m,x,E){m=d.memoizedState,x=x(E,m),x=x==null?m:ee({},m,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var yb={isMounted:function(d){return(d=d._reactInternals)?st(d)===d:!1},enqueueSetState:function(d,m,x){d=d._reactInternals;var E=us(),R=$l(d),U=Ao(E,R);U.payload=m,x!=null&&(U.callback=x),m=Dl(d,U,R),m!==null&&(Xa(m,d,R,E),cb(m,d,R))},enqueueReplaceState:function(d,m,x){d=d._reactInternals;var E=us(),R=$l(d),U=Ao(E,R);U.tag=1,U.payload=m,x!=null&&(U.callback=x),m=Dl(d,U,R),m!==null&&(Xa(m,d,R,E),cb(m,d,R))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var x=us(),E=$l(d),R=Ao(x,E);R.tag=2,m!=null&&(R.callback=m),m=Dl(d,R,E),m!==null&&(Xa(m,d,E,x),cb(m,d,E))}};function oA(d,m,x,E,R,U,X){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,U,X):m.prototype&&m.prototype.isPureReactComponent?!tp(x,E)||!tp(R,U):!0}function lA(d,m,x){var E=!1,R=Ml,U=m.contextType;return typeof U=="object"&&U!==null?U=Na(U):(R=_s(m)?au:ts.current,E=m.contextTypes,U=(E=E!=null)?wh(d,R):Ml),m=new m(x,U),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=yb,d.stateNode=m,m._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=R,d.__reactInternalMemoizedMaskedChildContext=U),m}function cA(d,m,x,E){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,E),m.state!==d&&yb.enqueueReplaceState(m,m.state,null)}function L3(d,m,x,E){var R=d.stateNode;R.props=x,R.state=d.memoizedState,R.refs={},A3(d);var U=m.contextType;typeof U=="object"&&U!==null?R.context=Na(U):(U=_s(m)?au:ts.current,R.context=wh(d,U)),R.state=d.memoizedState,U=m.getDerivedStateFromProps,typeof U=="function"&&(B3(d,m,U,x),R.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&yb.enqueueReplaceState(R,R.state,null),ub(d,x,R,E),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308)}function Sh(d,m){try{var x="",E=m;do x+=ae(E),E=E.return;while(E);var R=x}catch(U){R=`
Error generating stack: `+U.message+`
`+U.stack}return{value:d,source:m,stack:R,digest:null}}function U3(d,m,x){return{value:d,source:null,stack:x??null,digest:m??null}}function $3(d,m){try{console.error(m.value)}catch(x){setTimeout(function(){throw x})}}var N$=typeof WeakMap=="function"?WeakMap:Map;function uA(d,m,x){x=Ao(-1,x),x.tag=3,x.payload={element:null};var E=m.value;return x.callback=function(){Cb||(Cb=!0,nN=E),$3(d,m)},x}function dA(d,m,x){x=Ao(-1,x),x.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var R=m.value;x.payload=function(){return E(R)},x.callback=function(){$3(d,m)}}var U=d.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(x.callback=function(){$3(d,m),typeof E!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var X=m.stack;this.componentDidCatch(m.value,{componentStack:X!==null?X:""})}),x}function hA(d,m,x){var E=d.pingCache;if(E===null){E=d.pingCache=new N$;var R=new Set;E.set(m,R)}else R=E.get(m),R===void 0&&(R=new Set,E.set(m,R));R.has(x)||(R.add(x),d=z$.bind(null,d,m,x),m.then(d,d))}function fA(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function mA(d,m,x,E,R){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(m=Ao(-1,1),m.tag=2,Dl(x,m,1))),x.lanes|=1),d):(d.flags|=65536,d.lanes=R,d)}var k$=C.ReactCurrentOwner,Is=!1;function cs(d,m,x,E){m.child=d===null?R8(m,null,x,E):kh(m,d.child,x,E)}function pA(d,m,x,E,R){x=x.render;var U=m.ref;return Eh(m,R),E=O3(d,m,x,E,U,R),x=R3(),d!==null&&!Is?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~R,So(d,m,R)):(Kn&&x&&g3(m),m.flags|=1,cs(d,m,E,R),m.child)}function gA(d,m,x,E,R){if(d===null){var U=x.type;return typeof U=="function"&&!cN(U)&&U.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(m.tag=15,m.type=U,yA(d,m,U,E,R)):(d=Ib(x.type,null,E,m,m.mode,R),d.ref=m.ref,d.return=m,m.child=d)}if(U=d.child,(d.lanes&R)===0){var X=U.memoizedProps;if(x=x.compare,x=x!==null?x:tp,x(X,E)&&d.ref===m.ref)return So(d,m,R)}return m.flags|=1,d=Wl(U,E),d.ref=m.ref,d.return=m,m.child=d}function yA(d,m,x,E,R){if(d!==null){var U=d.memoizedProps;if(tp(U,E)&&d.ref===m.ref)if(Is=!1,m.pendingProps=E=U,(d.lanes&R)!==0)(d.flags&131072)!==0&&(Is=!0);else return m.lanes=d.lanes,So(d,m,R)}return H3(d,m,x,E,R)}function bA(d,m,x){var E=m.pendingProps,R=E.children,U=d!==null?d.memoizedState:null;if(E.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ln(_h,Xs),Xs|=x;else{if((x&1073741824)===0)return d=U!==null?U.baseLanes|x:x,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,Ln(_h,Xs),Xs|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=U!==null?U.baseLanes:x,Ln(_h,Xs),Xs|=E}else U!==null?(E=U.baseLanes|x,m.memoizedState=null):E=x,Ln(_h,Xs),Xs|=E;return cs(d,m,R,x),m.child}function wA(d,m){var x=m.ref;(d===null&&x!==null||d!==null&&d.ref!==x)&&(m.flags|=512,m.flags|=2097152)}function H3(d,m,x,E,R){var U=_s(x)?au:ts.current;return U=wh(m,U),Eh(m,R),x=O3(d,m,x,E,U,R),E=R3(),d!==null&&!Is?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~R,So(d,m,R)):(Kn&&E&&g3(m),m.flags|=1,cs(d,m,x,R),m.child)}function xA(d,m,x,E,R){if(_s(x)){var U=!0;tb(m)}else U=!1;if(Eh(m,R),m.stateNode===null)wb(d,m),lA(m,x,E),L3(m,x,E,R),E=!0;else if(d===null){var X=m.stateNode,me=m.memoizedProps;X.props=me;var ve=X.context,Fe=x.contextType;typeof Fe=="object"&&Fe!==null?Fe=Na(Fe):(Fe=_s(x)?au:ts.current,Fe=wh(m,Fe));var Ke=x.getDerivedStateFromProps,Qe=typeof Ke=="function"||typeof X.getSnapshotBeforeUpdate=="function";Qe||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(me!==E||ve!==Fe)&&cA(m,X,E,Fe),Fl=!1;var Ve=m.memoizedState;X.state=Ve,ub(m,E,X,R),ve=m.memoizedState,me!==E||Ve!==ve||js.current||Fl?(typeof Ke=="function"&&(B3(m,x,Ke,E),ve=m.memoizedState),(me=Fl||oA(m,x,me,E,Ve,ve,Fe))?(Qe||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(m.flags|=4194308)):(typeof X.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=ve),X.props=E,X.state=ve,X.context=Fe,E=me):(typeof X.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{X=m.stateNode,z8(d,m),me=m.memoizedProps,Fe=m.type===m.elementType?me:Ya(m.type,me),X.props=Fe,Qe=m.pendingProps,Ve=X.context,ve=x.contextType,typeof ve=="object"&&ve!==null?ve=Na(ve):(ve=_s(x)?au:ts.current,ve=wh(m,ve));var ct=x.getDerivedStateFromProps;(Ke=typeof ct=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(me!==Qe||Ve!==ve)&&cA(m,X,E,ve),Fl=!1,Ve=m.memoizedState,X.state=Ve,ub(m,E,X,R);var wt=m.memoizedState;me!==Qe||Ve!==wt||js.current||Fl?(typeof ct=="function"&&(B3(m,x,ct,E),wt=m.memoizedState),(Fe=Fl||oA(m,x,Fe,E,Ve,wt,ve)||!1)?(Ke||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(E,wt,ve),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(E,wt,ve)),typeof X.componentDidUpdate=="function"&&(m.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof X.componentDidUpdate!="function"||me===d.memoizedProps&&Ve===d.memoizedState||(m.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||me===d.memoizedProps&&Ve===d.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=wt),X.props=E,X.state=wt,X.context=ve,E=Fe):(typeof X.componentDidUpdate!="function"||me===d.memoizedProps&&Ve===d.memoizedState||(m.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||me===d.memoizedProps&&Ve===d.memoizedState||(m.flags|=1024),E=!1)}return W3(d,m,x,E,U,R)}function W3(d,m,x,E,R,U){wA(d,m);var X=(m.flags&128)!==0;if(!E&&!X)return R&&E8(m,x,!1),So(d,m,U);E=m.stateNode,k$.current=m;var me=X&&typeof x.getDerivedStateFromError!="function"?null:E.render();return m.flags|=1,d!==null&&X?(m.child=kh(m,d.child,null,U),m.child=kh(m,null,me,U)):cs(d,m,me,U),m.memoizedState=E.state,R&&E8(m,x,!0),m.child}function vA(d){var m=d.stateNode;m.pendingContext?k8(d,m.pendingContext,m.pendingContext!==m.context):m.context&&k8(d,m.context,!1),S3(d,m.containerInfo)}function NA(d,m,x,E,R){return Nh(),x3(R),m.flags|=256,cs(d,m,x,E),m.child}var G3={dehydrated:null,treeContext:null,retryLane:0};function q3(d){return{baseLanes:d,cachePool:null,transitions:null}}function kA(d,m,x){var E=m.pendingProps,R=er.current,U=!1,X=(m.flags&128)!==0,me;if((me=X)||(me=d!==null&&d.memoizedState===null?!1:(R&2)!==0),me?(U=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(R|=1),Ln(er,R&1),d===null)return w3(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(X=E.children,d=E.fallback,U?(E=m.mode,U=m.child,X={mode:"hidden",children:X},(E&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=X):U=Tb(X,E,0,null),d=pu(d,E,x,null),U.return=m,d.return=m,U.sibling=d,m.child=U,m.child.memoizedState=q3(x),m.memoizedState=G3,d):V3(m,X));if(R=d.memoizedState,R!==null&&(me=R.dehydrated,me!==null))return C$(d,m,X,E,me,R,x);if(U){U=E.fallback,X=m.mode,R=d.child,me=R.sibling;var ve={mode:"hidden",children:E.children};return(X&1)===0&&m.child!==R?(E=m.child,E.childLanes=0,E.pendingProps=ve,m.deletions=null):(E=Wl(R,ve),E.subtreeFlags=R.subtreeFlags&14680064),me!==null?U=Wl(me,U):(U=pu(U,X,x,null),U.flags|=2),U.return=m,E.return=m,E.sibling=U,m.child=E,E=U,U=m.child,X=d.child.memoizedState,X=X===null?q3(x):{baseLanes:X.baseLanes|x,cachePool:null,transitions:X.transitions},U.memoizedState=X,U.childLanes=d.childLanes&~x,m.memoizedState=G3,E}return U=d.child,d=U.sibling,E=Wl(U,{mode:"visible",children:E.children}),(m.mode&1)===0&&(E.lanes=x),E.return=m,E.sibling=null,d!==null&&(x=m.deletions,x===null?(m.deletions=[d],m.flags|=16):x.push(d)),m.child=E,m.memoizedState=null,E}function V3(d,m){return m=Tb({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function bb(d,m,x,E){return E!==null&&x3(E),kh(m,d.child,null,x),d=V3(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function C$(d,m,x,E,R,U,X){if(x)return m.flags&256?(m.flags&=-257,E=U3(Error(n(422))),bb(d,m,X,E)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(U=E.fallback,R=m.mode,E=Tb({mode:"visible",children:E.children},R,0,null),U=pu(U,R,X,null),U.flags|=2,E.return=m,U.return=m,E.sibling=U,m.child=E,(m.mode&1)!==0&&kh(m,d.child,null,X),m.child.memoizedState=q3(X),m.memoizedState=G3,U);if((m.mode&1)===0)return bb(d,m,X,null);if(R.data==="$!"){if(E=R.nextSibling&&R.nextSibling.dataset,E)var me=E.dgst;return E=me,U=Error(n(419)),E=U3(U,E,void 0),bb(d,m,X,E)}if(me=(X&d.childLanes)!==0,Is||me){if(E=Mr,E!==null){switch(X&-X){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(E.suspendedLanes|X))!==0?0:R,R!==0&&R!==U.retryLane&&(U.retryLane=R,Eo(d,R),Xa(E,d,R,-1))}return lN(),E=U3(Error(n(421))),bb(d,m,X,E)}return R.data==="$?"?(m.flags|=128,m.child=d.child,m=F$.bind(null,d),R._reactRetry=m,null):(d=U.treeContext,Js=Ol(R.nextSibling),Qs=m,Kn=!0,Za=null,d!==null&&(xa[va++]=ko,xa[va++]=Co,xa[va++]=iu,ko=d.id,Co=d.overflow,iu=m),m=V3(m,E.children),m.flags|=4096,m)}function CA(d,m,x){d.lanes|=m;var E=d.alternate;E!==null&&(E.lanes|=m),C3(d.return,m,x)}function K3(d,m,x,E,R){var U=d.memoizedState;U===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:R}:(U.isBackwards=m,U.rendering=null,U.renderingStartTime=0,U.last=E,U.tail=x,U.tailMode=R)}function EA(d,m,x){var E=m.pendingProps,R=E.revealOrder,U=E.tail;if(cs(d,m,E.children,x),E=er.current,(E&2)!==0)E=E&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&CA(d,x,m);else if(d.tag===19)CA(d,x,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(Ln(er,E),(m.mode&1)===0)m.memoizedState=null;else switch(R){case"forwards":for(x=m.child,R=null;x!==null;)d=x.alternate,d!==null&&db(d)===null&&(R=x),x=x.sibling;x=R,x===null?(R=m.child,m.child=null):(R=x.sibling,x.sibling=null),K3(m,!1,R,x,U);break;case"backwards":for(x=null,R=m.child,m.child=null;R!==null;){if(d=R.alternate,d!==null&&db(d)===null){m.child=R;break}d=R.sibling,R.sibling=x,x=R,R=d}K3(m,!0,x,null,U);break;case"together":K3(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function wb(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function So(d,m,x){if(d!==null&&(m.dependencies=d.dependencies),du|=m.lanes,(x&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,x=Wl(d,d.pendingProps),m.child=x,x.return=m;d.sibling!==null;)d=d.sibling,x=x.sibling=Wl(d,d.pendingProps),x.return=m;x.sibling=null}return m.child}function E$(d,m,x){switch(m.tag){case 3:vA(m),Nh();break;case 5:B8(m);break;case 1:_s(m.type)&&tb(m);break;case 4:S3(m,m.stateNode.containerInfo);break;case 10:var E=m.type._context,R=m.memoizedProps.value;Ln(ob,E._currentValue),E._currentValue=R;break;case 13:if(E=m.memoizedState,E!==null)return E.dehydrated!==null?(Ln(er,er.current&1),m.flags|=128,null):(x&m.child.childLanes)!==0?kA(d,m,x):(Ln(er,er.current&1),d=So(d,m,x),d!==null?d.sibling:null);Ln(er,er.current&1);break;case 19:if(E=(x&m.childLanes)!==0,(d.flags&128)!==0){if(E)return EA(d,m,x);m.flags|=128}if(R=m.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Ln(er,er.current),E)break;return null;case 22:case 23:return m.lanes=0,bA(d,m,x)}return So(d,m,x)}var AA,Z3,SA,jA;AA=function(d,m){for(var x=m.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},Z3=function(){},SA=function(d,m,x,E){var R=d.memoizedProps;if(R!==E){d=m.stateNode,cu(Ri.current);var U=null;switch(x){case"input":R=H(d,R),E=H(d,E),U=[];break;case"select":R=ee({},R,{value:void 0}),E=ee({},E,{value:void 0}),U=[];break;case"textarea":R=be(d,R),E=be(d,E),U=[];break;default:typeof R.onClick!="function"&&typeof E.onClick=="function"&&(d.onclick=Jy)}ot(x,E);var X;x=null;for(Fe in R)if(!E.hasOwnProperty(Fe)&&R.hasOwnProperty(Fe)&&R[Fe]!=null)if(Fe==="style"){var me=R[Fe];for(X in me)me.hasOwnProperty(X)&&(x||(x={}),x[X]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(s.hasOwnProperty(Fe)?U||(U=[]):(U=U||[]).push(Fe,null));for(Fe in E){var ve=E[Fe];if(me=R?.[Fe],E.hasOwnProperty(Fe)&&ve!==me&&(ve!=null||me!=null))if(Fe==="style")if(me){for(X in me)!me.hasOwnProperty(X)||ve&&ve.hasOwnProperty(X)||(x||(x={}),x[X]="");for(X in ve)ve.hasOwnProperty(X)&&me[X]!==ve[X]&&(x||(x={}),x[X]=ve[X])}else x||(U||(U=[]),U.push(Fe,x)),x=ve;else Fe==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,me=me?me.__html:void 0,ve!=null&&me!==ve&&(U=U||[]).push(Fe,ve)):Fe==="children"?typeof ve!="string"&&typeof ve!="number"||(U=U||[]).push(Fe,""+ve):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Fe)?(ve!=null&&Fe==="onScroll"&&$n("scroll",d),U||me===ve||(U=[])):(U=U||[]).push(Fe,ve))}x&&(U=U||[]).push("style",x);var Fe=U;(m.updateQueue=Fe)&&(m.flags|=4)}},jA=function(d,m,x,E){x!==E&&(m.flags|=4)};function gp(d,m){if(!Kn)switch(d.tailMode){case"hidden":m=d.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function rs(d){var m=d.alternate!==null&&d.alternate.child===d.child,x=0,E=0;if(m)for(var R=d.child;R!==null;)x|=R.lanes|R.childLanes,E|=R.subtreeFlags&14680064,E|=R.flags&14680064,R.return=d,R=R.sibling;else for(R=d.child;R!==null;)x|=R.lanes|R.childLanes,E|=R.subtreeFlags,E|=R.flags,R.return=d,R=R.sibling;return d.subtreeFlags|=E,d.childLanes=x,m}function A$(d,m,x){var E=m.pendingProps;switch(y3(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rs(m),null;case 1:return _s(m.type)&&eb(),rs(m),null;case 3:return E=m.stateNode,Ah(),Hn(js),Hn(ts),I3(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(ab(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Za!==null&&(aN(Za),Za=null))),Z3(d,m),rs(m),null;case 5:j3(m);var R=cu(dp.current);if(x=m.type,d!==null&&m.stateNode!=null)SA(d,m,x,E,R),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!E){if(m.stateNode===null)throw Error(n(166));return rs(m),null}if(d=cu(Ri.current),ab(m)){E=m.stateNode,x=m.type;var U=m.memoizedProps;switch(E[Oi]=m,E[ip]=U,d=(m.mode&1)!==0,x){case"dialog":$n("cancel",E),$n("close",E);break;case"iframe":case"object":case"embed":$n("load",E);break;case"video":case"audio":for(R=0;R<rp.length;R++)$n(rp[R],E);break;case"source":$n("error",E);break;case"img":case"image":case"link":$n("error",E),$n("load",E);break;case"details":$n("toggle",E);break;case"input":ye(E,U),$n("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!U.multiple},$n("invalid",E);break;case"textarea":Be(E,U),$n("invalid",E)}ot(x,U),R=null;for(var X in U)if(U.hasOwnProperty(X)){var me=U[X];X==="children"?typeof me=="string"?E.textContent!==me&&(U.suppressHydrationWarning!==!0&&Qy(E.textContent,me,d),R=["children",me]):typeof me=="number"&&E.textContent!==""+me&&(U.suppressHydrationWarning!==!0&&Qy(E.textContent,me,d),R=["children",""+me]):s.hasOwnProperty(X)&&me!=null&&X==="onScroll"&&$n("scroll",E)}switch(x){case"input":he(E),se(E,U,!0);break;case"textarea":he(E),ze(E);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(E.onclick=Jy)}E=R,m.updateQueue=E,E!==null&&(m.flags|=4)}else{X=R.nodeType===9?R:R.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=we(x)),d==="http://www.w3.org/1999/xhtml"?x==="script"?(d=X.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof E.is=="string"?d=X.createElement(x,{is:E.is}):(d=X.createElement(x),x==="select"&&(X=d,E.multiple?X.multiple=!0:E.size&&(X.size=E.size))):d=X.createElementNS(d,x),d[Oi]=m,d[ip]=E,AA(d,m,!1,!1),m.stateNode=d;e:{switch(X=Ct(x,E),x){case"dialog":$n("cancel",d),$n("close",d),R=E;break;case"iframe":case"object":case"embed":$n("load",d),R=E;break;case"video":case"audio":for(R=0;R<rp.length;R++)$n(rp[R],d);R=E;break;case"source":$n("error",d),R=E;break;case"img":case"image":case"link":$n("error",d),$n("load",d),R=E;break;case"details":$n("toggle",d),R=E;break;case"input":ye(d,E),R=H(d,E),$n("invalid",d);break;case"option":R=E;break;case"select":d._wrapperState={wasMultiple:!!E.multiple},R=ee({},E,{value:void 0}),$n("invalid",d);break;case"textarea":Be(d,E),R=be(d,E),$n("invalid",d);break;default:R=E}ot(x,R),me=R;for(U in me)if(me.hasOwnProperty(U)){var ve=me[U];U==="style"?rt(d,ve):U==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&q(d,ve)):U==="children"?typeof ve=="string"?(x!=="textarea"||ve!=="")&&le(d,ve):typeof ve=="number"&&le(d,""+ve):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?ve!=null&&U==="onScroll"&&$n("scroll",d):ve!=null&&A(d,U,ve,X))}switch(x){case"input":he(d),se(d,E,!1);break;case"textarea":he(d),ze(d);break;case"option":E.value!=null&&d.setAttribute("value",""+ie(E.value));break;case"select":d.multiple=!!E.multiple,U=E.value,U!=null?je(d,!!E.multiple,U,!1):E.defaultValue!=null&&je(d,!!E.multiple,E.defaultValue,!0);break;default:typeof R.onClick=="function"&&(d.onclick=Jy)}switch(x){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return rs(m),null;case 6:if(d&&m.stateNode!=null)jA(d,m,d.memoizedProps,E);else{if(typeof E!="string"&&m.stateNode===null)throw Error(n(166));if(x=cu(dp.current),cu(Ri.current),ab(m)){if(E=m.stateNode,x=m.memoizedProps,E[Oi]=m,(U=E.nodeValue!==x)&&(d=Qs,d!==null))switch(d.tag){case 3:Qy(E.nodeValue,x,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Qy(E.nodeValue,x,(d.mode&1)!==0)}U&&(m.flags|=4)}else E=(x.nodeType===9?x:x.ownerDocument).createTextNode(E),E[Oi]=m,m.stateNode=E}return rs(m),null;case 13:if(Hn(er),E=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Kn&&Js!==null&&(m.mode&1)!==0&&(m.flags&128)===0)T8(),Nh(),m.flags|=98560,U=!1;else if(U=ab(m),E!==null&&E.dehydrated!==null){if(d===null){if(!U)throw Error(n(318));if(U=m.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(n(317));U[Oi]=m}else Nh(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;rs(m),U=!1}else Za!==null&&(aN(Za),Za=null),U=!0;if(!U)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=x,m):(E=E!==null,E!==(d!==null&&d.memoizedState!==null)&&E&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(er.current&1)!==0?jr===0&&(jr=3):lN())),m.updateQueue!==null&&(m.flags|=4),rs(m),null);case 4:return Ah(),Z3(d,m),d===null&&sp(m.stateNode.containerInfo),rs(m),null;case 10:return k3(m.type._context),rs(m),null;case 17:return _s(m.type)&&eb(),rs(m),null;case 19:if(Hn(er),U=m.memoizedState,U===null)return rs(m),null;if(E=(m.flags&128)!==0,X=U.rendering,X===null)if(E)gp(U,!1);else{if(jr!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(X=db(d),X!==null){for(m.flags|=128,gp(U,!1),E=X.updateQueue,E!==null&&(m.updateQueue=E,m.flags|=4),m.subtreeFlags=0,E=x,x=m.child;x!==null;)U=x,d=E,U.flags&=14680066,X=U.alternate,X===null?(U.childLanes=0,U.lanes=d,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=X.childLanes,U.lanes=X.lanes,U.child=X.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=X.memoizedProps,U.memoizedState=X.memoizedState,U.updateQueue=X.updateQueue,U.type=X.type,d=X.dependencies,U.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),x=x.sibling;return Ln(er,er.current&1|2),m.child}d=d.sibling}U.tail!==null&&fr()>Ih&&(m.flags|=128,E=!0,gp(U,!1),m.lanes=4194304)}else{if(!E)if(d=db(X),d!==null){if(m.flags|=128,E=!0,x=d.updateQueue,x!==null&&(m.updateQueue=x,m.flags|=4),gp(U,!0),U.tail===null&&U.tailMode==="hidden"&&!X.alternate&&!Kn)return rs(m),null}else 2*fr()-U.renderingStartTime>Ih&&x!==1073741824&&(m.flags|=128,E=!0,gp(U,!1),m.lanes=4194304);U.isBackwards?(X.sibling=m.child,m.child=X):(x=U.last,x!==null?x.sibling=X:m.child=X,U.last=X)}return U.tail!==null?(m=U.tail,U.rendering=m,U.tail=m.sibling,U.renderingStartTime=fr(),m.sibling=null,x=er.current,Ln(er,E?x&1|2:x&1),m):(rs(m),null);case 22:case 23:return oN(),E=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(m.flags|=8192),E&&(m.mode&1)!==0?(Xs&1073741824)!==0&&(rs(m),m.subtreeFlags&6&&(m.flags|=8192)):rs(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function S$(d,m){switch(y3(m),m.tag){case 1:return _s(m.type)&&eb(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Ah(),Hn(js),Hn(ts),I3(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return j3(m),null;case 13:if(Hn(er),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Nh()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Hn(er),null;case 4:return Ah(),null;case 10:return k3(m.type._context),null;case 22:case 23:return oN(),null;case 24:return null;default:return null}}var xb=!1,ss=!1,j$=typeof WeakSet=="function"?WeakSet:Set,pt=null;function jh(d,m){var x=d.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(E){or(d,m,E)}else x.current=null}function _A(d,m,x){try{x()}catch(E){or(d,m,E)}}var IA=!1;function _$(d,m){if(l3=Ly,d=o8(),e3(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var R=E.anchorOffset,U=E.focusNode;E=E.focusOffset;try{x.nodeType,U.nodeType}catch{x=null;break e}var X=0,me=-1,ve=-1,Fe=0,Ke=0,Qe=d,Ve=null;t:for(;;){for(var ct;Qe!==x||R!==0&&Qe.nodeType!==3||(me=X+R),Qe!==U||E!==0&&Qe.nodeType!==3||(ve=X+E),Qe.nodeType===3&&(X+=Qe.nodeValue.length),(ct=Qe.firstChild)!==null;)Ve=Qe,Qe=ct;for(;;){if(Qe===d)break t;if(Ve===x&&++Fe===R&&(me=X),Ve===U&&++Ke===E&&(ve=X),(ct=Qe.nextSibling)!==null)break;Qe=Ve,Ve=Qe.parentNode}Qe=ct}x=me===-1||ve===-1?null:{start:me,end:ve}}else x=null}x=x||{start:0,end:0}}else x=null;for(c3={focusedElem:d,selectionRange:x},Ly=!1,pt=m;pt!==null;)if(m=pt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,pt=d;else for(;pt!==null;){m=pt;try{var wt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var Nt=wt.memoizedProps,mr=wt.memoizedState,Te=m.stateNode,Ee=Te.getSnapshotBeforeUpdate(m.elementType===m.type?Nt:Ya(m.type,Nt),mr);Te.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var Oe=m.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(et){or(m,m.return,et)}if(d=m.sibling,d!==null){d.return=m.return,pt=d;break}pt=m.return}return wt=IA,IA=!1,wt}function yp(d,m,x){var E=m.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var R=E=E.next;do{if((R.tag&d)===d){var U=R.destroy;R.destroy=void 0,U!==void 0&&_A(m,x,U)}R=R.next}while(R!==E)}}function vb(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&d)===d){var E=x.create;x.destroy=E()}x=x.next}while(x!==m)}}function Y3(d){var m=d.ref;if(m!==null){var x=d.stateNode;switch(d.tag){case 5:d=x;break;default:d=x}typeof m=="function"?m(d):m.current=d}}function TA(d){var m=d.alternate;m!==null&&(d.alternate=null,TA(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Oi],delete m[ip],delete m[f3],delete m[d$],delete m[h$])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function PA(d){return d.tag===5||d.tag===3||d.tag===4}function OA(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||PA(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Q3(d,m,x){var E=d.tag;if(E===5||E===6)d=d.stateNode,m?x.nodeType===8?x.parentNode.insertBefore(d,m):x.insertBefore(d,m):(x.nodeType===8?(m=x.parentNode,m.insertBefore(d,x)):(m=x,m.appendChild(d)),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=Jy));else if(E!==4&&(d=d.child,d!==null))for(Q3(d,m,x),d=d.sibling;d!==null;)Q3(d,m,x),d=d.sibling}function J3(d,m,x){var E=d.tag;if(E===5||E===6)d=d.stateNode,m?x.insertBefore(d,m):x.appendChild(d);else if(E!==4&&(d=d.child,d!==null))for(J3(d,m,x),d=d.sibling;d!==null;)J3(d,m,x),d=d.sibling}var Hr=null,Qa=!1;function Bl(d,m,x){for(x=x.child;x!==null;)RA(d,m,x),x=x.sibling}function RA(d,m,x){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Ry,x)}catch{}switch(x.tag){case 5:ss||jh(x,m);case 6:var E=Hr,R=Qa;Hr=null,Bl(d,m,x),Hr=E,Qa=R,Hr!==null&&(Qa?(d=Hr,x=x.stateNode,d.nodeType===8?d.parentNode.removeChild(x):d.removeChild(x)):Hr.removeChild(x.stateNode));break;case 18:Hr!==null&&(Qa?(d=Hr,x=x.stateNode,d.nodeType===8?h3(d.parentNode,x):d.nodeType===1&&h3(d,x),Zm(d)):h3(Hr,x.stateNode));break;case 4:E=Hr,R=Qa,Hr=x.stateNode.containerInfo,Qa=!0,Bl(d,m,x),Hr=E,Qa=R;break;case 0:case 11:case 14:case 15:if(!ss&&(E=x.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){R=E=E.next;do{var U=R,X=U.destroy;U=U.tag,X!==void 0&&((U&2)!==0||(U&4)!==0)&&_A(x,m,X),R=R.next}while(R!==E)}Bl(d,m,x);break;case 1:if(!ss&&(jh(x,m),E=x.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=x.memoizedProps,E.state=x.memoizedState,E.componentWillUnmount()}catch(me){or(x,m,me)}Bl(d,m,x);break;case 21:Bl(d,m,x);break;case 22:x.mode&1?(ss=(E=ss)||x.memoizedState!==null,Bl(d,m,x),ss=E):Bl(d,m,x);break;default:Bl(d,m,x)}}function MA(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var x=d.stateNode;x===null&&(x=d.stateNode=new j$),m.forEach(function(E){var R=D$.bind(null,d,E);x.has(E)||(x.add(E),E.then(R,R))})}}function Ja(d,m){var x=m.deletions;if(x!==null)for(var E=0;E<x.length;E++){var R=x[E];try{var U=d,X=m,me=X;e:for(;me!==null;){switch(me.tag){case 5:Hr=me.stateNode,Qa=!1;break e;case 3:Hr=me.stateNode.containerInfo,Qa=!0;break e;case 4:Hr=me.stateNode.containerInfo,Qa=!0;break e}me=me.return}if(Hr===null)throw Error(n(160));RA(U,X,R),Hr=null,Qa=!1;var ve=R.alternate;ve!==null&&(ve.return=null),R.return=null}catch(Fe){or(R,m,Fe)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)zA(m,d),m=m.sibling}function zA(d,m){var x=d.alternate,E=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ja(m,d),zi(d),E&4){try{yp(3,d,d.return),vb(3,d)}catch(Nt){or(d,d.return,Nt)}try{yp(5,d,d.return)}catch(Nt){or(d,d.return,Nt)}}break;case 1:Ja(m,d),zi(d),E&512&&x!==null&&jh(x,x.return);break;case 5:if(Ja(m,d),zi(d),E&512&&x!==null&&jh(x,x.return),d.flags&32){var R=d.stateNode;try{le(R,"")}catch(Nt){or(d,d.return,Nt)}}if(E&4&&(R=d.stateNode,R!=null)){var U=d.memoizedProps,X=x!==null?x.memoizedProps:U,me=d.type,ve=d.updateQueue;if(d.updateQueue=null,ve!==null)try{me==="input"&&U.type==="radio"&&U.name!=null&&ce(R,U),Ct(me,X);var Fe=Ct(me,U);for(X=0;X<ve.length;X+=2){var Ke=ve[X],Qe=ve[X+1];Ke==="style"?rt(R,Qe):Ke==="dangerouslySetInnerHTML"?q(R,Qe):Ke==="children"?le(R,Qe):A(R,Ke,Qe,Fe)}switch(me){case"input":ne(R,U);break;case"textarea":Me(R,U);break;case"select":var Ve=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!U.multiple;var ct=U.value;ct!=null?je(R,!!U.multiple,ct,!1):Ve!==!!U.multiple&&(U.defaultValue!=null?je(R,!!U.multiple,U.defaultValue,!0):je(R,!!U.multiple,U.multiple?[]:"",!1))}R[ip]=U}catch(Nt){or(d,d.return,Nt)}}break;case 6:if(Ja(m,d),zi(d),E&4){if(d.stateNode===null)throw Error(n(162));R=d.stateNode,U=d.memoizedProps;try{R.nodeValue=U}catch(Nt){or(d,d.return,Nt)}}break;case 3:if(Ja(m,d),zi(d),E&4&&x!==null&&x.memoizedState.isDehydrated)try{Zm(m.containerInfo)}catch(Nt){or(d,d.return,Nt)}break;case 4:Ja(m,d),zi(d);break;case 13:Ja(m,d),zi(d),R=d.child,R.flags&8192&&(U=R.memoizedState!==null,R.stateNode.isHidden=U,!U||R.alternate!==null&&R.alternate.memoizedState!==null||(tN=fr())),E&4&&MA(d);break;case 22:if(Ke=x!==null&&x.memoizedState!==null,d.mode&1?(ss=(Fe=ss)||Ke,Ja(m,d),ss=Fe):Ja(m,d),zi(d),E&8192){if(Fe=d.memoizedState!==null,(d.stateNode.isHidden=Fe)&&!Ke&&(d.mode&1)!==0)for(pt=d,Ke=d.child;Ke!==null;){for(Qe=pt=Ke;pt!==null;){switch(Ve=pt,ct=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:yp(4,Ve,Ve.return);break;case 1:jh(Ve,Ve.return);var wt=Ve.stateNode;if(typeof wt.componentWillUnmount=="function"){E=Ve,x=Ve.return;try{m=E,wt.props=m.memoizedProps,wt.state=m.memoizedState,wt.componentWillUnmount()}catch(Nt){or(E,x,Nt)}}break;case 5:jh(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){BA(Qe);continue}}ct!==null?(ct.return=Ve,pt=ct):BA(Qe)}Ke=Ke.sibling}e:for(Ke=null,Qe=d;;){if(Qe.tag===5){if(Ke===null){Ke=Qe;try{R=Qe.stateNode,Fe?(U=R.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(me=Qe.stateNode,ve=Qe.memoizedProps.style,X=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,me.style.display=Se("display",X))}catch(Nt){or(d,d.return,Nt)}}}else if(Qe.tag===6){if(Ke===null)try{Qe.stateNode.nodeValue=Fe?"":Qe.memoizedProps}catch(Nt){or(d,d.return,Nt)}}else if((Qe.tag!==22&&Qe.tag!==23||Qe.memoizedState===null||Qe===d)&&Qe.child!==null){Qe.child.return=Qe,Qe=Qe.child;continue}if(Qe===d)break e;for(;Qe.sibling===null;){if(Qe.return===null||Qe.return===d)break e;Ke===Qe&&(Ke=null),Qe=Qe.return}Ke===Qe&&(Ke=null),Qe.sibling.return=Qe.return,Qe=Qe.sibling}}break;case 19:Ja(m,d),zi(d),E&4&&MA(d);break;case 21:break;default:Ja(m,d),zi(d)}}function zi(d){var m=d.flags;if(m&2){try{e:{for(var x=d.return;x!==null;){if(PA(x)){var E=x;break e}x=x.return}throw Error(n(160))}switch(E.tag){case 5:var R=E.stateNode;E.flags&32&&(le(R,""),E.flags&=-33);var U=OA(d);J3(d,U,R);break;case 3:case 4:var X=E.stateNode.containerInfo,me=OA(d);Q3(d,me,X);break;default:throw Error(n(161))}}catch(ve){or(d,d.return,ve)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function I$(d,m,x){pt=d,FA(d)}function FA(d,m,x){for(var E=(d.mode&1)!==0;pt!==null;){var R=pt,U=R.child;if(R.tag===22&&E){var X=R.memoizedState!==null||xb;if(!X){var me=R.alternate,ve=me!==null&&me.memoizedState!==null||ss;me=xb;var Fe=ss;if(xb=X,(ss=ve)&&!Fe)for(pt=R;pt!==null;)X=pt,ve=X.child,X.tag===22&&X.memoizedState!==null?LA(R):ve!==null?(ve.return=X,pt=ve):LA(R);for(;U!==null;)pt=U,FA(U),U=U.sibling;pt=R,xb=me,ss=Fe}DA(d)}else(R.subtreeFlags&8772)!==0&&U!==null?(U.return=R,pt=U):DA(d)}}function DA(d){for(;pt!==null;){var m=pt;if((m.flags&8772)!==0){var x=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ss||vb(5,m);break;case 1:var E=m.stateNode;if(m.flags&4&&!ss)if(x===null)E.componentDidMount();else{var R=m.elementType===m.type?x.memoizedProps:Ya(m.type,x.memoizedProps);E.componentDidUpdate(R,x.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var U=m.updateQueue;U!==null&&D8(m,U,E);break;case 3:var X=m.updateQueue;if(X!==null){if(x=null,m.child!==null)switch(m.child.tag){case 5:x=m.child.stateNode;break;case 1:x=m.child.stateNode}D8(m,X,x)}break;case 5:var me=m.stateNode;if(x===null&&m.flags&4){x=me;var ve=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&x.focus();break;case"img":ve.src&&(x.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Fe=m.alternate;if(Fe!==null){var Ke=Fe.memoizedState;if(Ke!==null){var Qe=Ke.dehydrated;Qe!==null&&Zm(Qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ss||m.flags&512&&Y3(m)}catch(Ve){or(m,m.return,Ve)}}if(m===d){pt=null;break}if(x=m.sibling,x!==null){x.return=m.return,pt=x;break}pt=m.return}}function BA(d){for(;pt!==null;){var m=pt;if(m===d){pt=null;break}var x=m.sibling;if(x!==null){x.return=m.return,pt=x;break}pt=m.return}}function LA(d){for(;pt!==null;){var m=pt;try{switch(m.tag){case 0:case 11:case 15:var x=m.return;try{vb(4,m)}catch(ve){or(m,x,ve)}break;case 1:var E=m.stateNode;if(typeof E.componentDidMount=="function"){var R=m.return;try{E.componentDidMount()}catch(ve){or(m,R,ve)}}var U=m.return;try{Y3(m)}catch(ve){or(m,U,ve)}break;case 5:var X=m.return;try{Y3(m)}catch(ve){or(m,X,ve)}}}catch(ve){or(m,m.return,ve)}if(m===d){pt=null;break}var me=m.sibling;if(me!==null){me.return=m.return,pt=me;break}pt=m.return}}var T$=Math.ceil,Nb=C.ReactCurrentDispatcher,X3=C.ReactCurrentOwner,Ca=C.ReactCurrentBatchConfig,mn=0,Mr=null,Nr=null,Wr=0,Xs=0,_h=Rl(0),jr=0,bp=null,du=0,kb=0,eN=0,wp=null,Ts=null,tN=0,Ih=1/0,jo=null,Cb=!1,nN=null,Ll=null,Eb=!1,Ul=null,Ab=0,xp=0,rN=null,Sb=-1,jb=0;function us(){return(mn&6)!==0?fr():Sb!==-1?Sb:Sb=fr()}function $l(d){return(d.mode&1)===0?1:(mn&2)!==0&&Wr!==0?Wr&-Wr:m$.transition!==null?(jb===0&&(jb=PE()),jb):(d=An,d!==0||(d=window.event,d=d===void 0?16:UE(d.type)),d)}function Xa(d,m,x,E){if(50<xp)throw xp=0,rN=null,Error(n(185));Wm(d,x,E),((mn&2)===0||d!==Mr)&&(d===Mr&&((mn&2)===0&&(kb|=x),jr===4&&Hl(d,Wr)),Ps(d,E),x===1&&mn===0&&(m.mode&1)===0&&(Ih=fr()+500,nb&&zl()))}function Ps(d,m){var x=d.callbackNode;mU(d,m);var E=Fy(d,d===Mr?Wr:0);if(E===0)x!==null&&Py(x),d.callbackNode=null,d.callbackPriority=0;else if(m=E&-E,d.callbackPriority!==m){if(x!=null&&Py(x),m===1)d.tag===0?f$($A.bind(null,d)):A8($A.bind(null,d)),c$(function(){(mn&6)===0&&zl()}),x=null;else{switch(OE(E)){case 1:x=Fv;break;case 4:x=IE;break;case 16:x=Oy;break;case 536870912:x=TE;break;default:x=Oy}x=YA(x,UA.bind(null,d))}d.callbackPriority=m,d.callbackNode=x}}function UA(d,m){if(Sb=-1,jb=0,(mn&6)!==0)throw Error(n(327));var x=d.callbackNode;if(Th()&&d.callbackNode!==x)return null;var E=Fy(d,d===Mr?Wr:0);if(E===0)return null;if((E&30)!==0||(E&d.expiredLanes)!==0||m)m=_b(d,E);else{m=E;var R=mn;mn|=2;var U=WA();(Mr!==d||Wr!==m)&&(jo=null,Ih=fr()+500,fu(d,m));do try{R$();break}catch(me){HA(d,me)}while(!0);N3(),Nb.current=U,mn=R,Nr!==null?m=0:(Mr=null,Wr=0,m=jr)}if(m!==0){if(m===2&&(R=Dv(d),R!==0&&(E=R,m=sN(d,R))),m===1)throw x=bp,fu(d,0),Hl(d,E),Ps(d,fr()),x;if(m===6)Hl(d,E);else{if(R=d.current.alternate,(E&30)===0&&!P$(R)&&(m=_b(d,E),m===2&&(U=Dv(d),U!==0&&(E=U,m=sN(d,U))),m===1))throw x=bp,fu(d,0),Hl(d,E),Ps(d,fr()),x;switch(d.finishedWork=R,d.finishedLanes=E,m){case 0:case 1:throw Error(n(345));case 2:mu(d,Ts,jo);break;case 3:if(Hl(d,E),(E&130023424)===E&&(m=tN+500-fr(),10<m)){if(Fy(d,0)!==0)break;if(R=d.suspendedLanes,(R&E)!==E){us(),d.pingedLanes|=d.suspendedLanes&R;break}d.timeoutHandle=d3(mu.bind(null,d,Ts,jo),m);break}mu(d,Ts,jo);break;case 4:if(Hl(d,E),(E&4194240)===E)break;for(m=d.eventTimes,R=-1;0<E;){var X=31-Va(E);U=1<<X,X=m[X],X>R&&(R=X),E&=~U}if(E=R,E=fr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*T$(E/1960))-E,10<E){d.timeoutHandle=d3(mu.bind(null,d,Ts,jo),E);break}mu(d,Ts,jo);break;case 5:mu(d,Ts,jo);break;default:throw Error(n(329))}}}return Ps(d,fr()),d.callbackNode===x?UA.bind(null,d):null}function sN(d,m){var x=wp;return d.current.memoizedState.isDehydrated&&(fu(d,m).flags|=256),d=_b(d,m),d!==2&&(m=Ts,Ts=x,m!==null&&aN(m)),d}function aN(d){Ts===null?Ts=d:Ts.push.apply(Ts,d)}function P$(d){for(var m=d;;){if(m.flags&16384){var x=m.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var E=0;E<x.length;E++){var R=x[E],U=R.getSnapshot;R=R.value;try{if(!Ka(U(),R))return!1}catch{return!1}}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Hl(d,m){for(m&=~eN,m&=~kb,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var x=31-Va(m),E=1<<x;d[x]=-1,m&=~E}}function $A(d){if((mn&6)!==0)throw Error(n(327));Th();var m=Fy(d,0);if((m&1)===0)return Ps(d,fr()),null;var x=_b(d,m);if(d.tag!==0&&x===2){var E=Dv(d);E!==0&&(m=E,x=sN(d,E))}if(x===1)throw x=bp,fu(d,0),Hl(d,m),Ps(d,fr()),x;if(x===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,mu(d,Ts,jo),Ps(d,fr()),null}function iN(d,m){var x=mn;mn|=1;try{return d(m)}finally{mn=x,mn===0&&(Ih=fr()+500,nb&&zl())}}function hu(d){Ul!==null&&Ul.tag===0&&(mn&6)===0&&Th();var m=mn;mn|=1;var x=Ca.transition,E=An;try{if(Ca.transition=null,An=1,d)return d()}finally{An=E,Ca.transition=x,mn=m,(mn&6)===0&&zl()}}function oN(){Xs=_h.current,Hn(_h)}function fu(d,m){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;if(x!==-1&&(d.timeoutHandle=-1,l$(x)),Nr!==null)for(x=Nr.return;x!==null;){var E=x;switch(y3(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&eb();break;case 3:Ah(),Hn(js),Hn(ts),I3();break;case 5:j3(E);break;case 4:Ah();break;case 13:Hn(er);break;case 19:Hn(er);break;case 10:k3(E.type._context);break;case 22:case 23:oN()}x=x.return}if(Mr=d,Nr=d=Wl(d.current,null),Wr=Xs=m,jr=0,bp=null,eN=kb=du=0,Ts=wp=null,lu!==null){for(m=0;m<lu.length;m++)if(x=lu[m],E=x.interleaved,E!==null){x.interleaved=null;var R=E.next,U=x.pending;if(U!==null){var X=U.next;U.next=R,E.next=X}x.pending=E}lu=null}return d}function HA(d,m){do{var x=Nr;try{if(N3(),hb.current=gb,fb){for(var E=tr.memoizedState;E!==null;){var R=E.queue;R!==null&&(R.pending=null),E=E.next}fb=!1}if(uu=0,Rr=Sr=tr=null,hp=!1,fp=0,X3.current=null,x===null||x.return===null){jr=1,bp=m,Nr=null;break}e:{var U=d,X=x.return,me=x,ve=m;if(m=Wr,me.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Fe=ve,Ke=me,Qe=Ke.tag;if((Ke.mode&1)===0&&(Qe===0||Qe===11||Qe===15)){var Ve=Ke.alternate;Ve?(Ke.updateQueue=Ve.updateQueue,Ke.memoizedState=Ve.memoizedState,Ke.lanes=Ve.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var ct=fA(X);if(ct!==null){ct.flags&=-257,mA(ct,X,me,U,m),ct.mode&1&&hA(U,Fe,m),m=ct,ve=Fe;var wt=m.updateQueue;if(wt===null){var Nt=new Set;Nt.add(ve),m.updateQueue=Nt}else wt.add(ve);break e}else{if((m&1)===0){hA(U,Fe,m),lN();break e}ve=Error(n(426))}}else if(Kn&&me.mode&1){var mr=fA(X);if(mr!==null){(mr.flags&65536)===0&&(mr.flags|=256),mA(mr,X,me,U,m),x3(Sh(ve,me));break e}}U=ve=Sh(ve,me),jr!==4&&(jr=2),wp===null?wp=[U]:wp.push(U),U=X;do{switch(U.tag){case 3:U.flags|=65536,m&=-m,U.lanes|=m;var Te=uA(U,ve,m);F8(U,Te);break e;case 1:me=ve;var Ee=U.type,Oe=U.stateNode;if((U.flags&128)===0&&(typeof Ee.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Ll===null||!Ll.has(Oe)))){U.flags|=65536,m&=-m,U.lanes|=m;var et=dA(U,me,m);F8(U,et);break e}}U=U.return}while(U!==null)}qA(x)}catch(Et){m=Et,Nr===x&&x!==null&&(Nr=x=x.return);continue}break}while(!0)}function WA(){var d=Nb.current;return Nb.current=gb,d===null?gb:d}function lN(){(jr===0||jr===3||jr===2)&&(jr=4),Mr===null||(du&268435455)===0&&(kb&268435455)===0||Hl(Mr,Wr)}function _b(d,m){var x=mn;mn|=2;var E=WA();(Mr!==d||Wr!==m)&&(jo=null,fu(d,m));do try{O$();break}catch(R){HA(d,R)}while(!0);if(N3(),mn=x,Nb.current=E,Nr!==null)throw Error(n(261));return Mr=null,Wr=0,jr}function O$(){for(;Nr!==null;)GA(Nr)}function R$(){for(;Nr!==null&&!aU();)GA(Nr)}function GA(d){var m=ZA(d.alternate,d,Xs);d.memoizedProps=d.pendingProps,m===null?qA(d):Nr=m,X3.current=null}function qA(d){var m=d;do{var x=m.alternate;if(d=m.return,(m.flags&32768)===0){if(x=A$(x,m,Xs),x!==null){Nr=x;return}}else{if(x=S$(x,m),x!==null){x.flags&=32767,Nr=x;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{jr=6,Nr=null;return}}if(m=m.sibling,m!==null){Nr=m;return}Nr=m=d}while(m!==null);jr===0&&(jr=5)}function mu(d,m,x){var E=An,R=Ca.transition;try{Ca.transition=null,An=1,M$(d,m,x,E)}finally{Ca.transition=R,An=E}return null}function M$(d,m,x,E){do Th();while(Ul!==null);if((mn&6)!==0)throw Error(n(327));x=d.finishedWork;var R=d.finishedLanes;if(x===null)return null;if(d.finishedWork=null,d.finishedLanes=0,x===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var U=x.lanes|x.childLanes;if(pU(d,U),d===Mr&&(Nr=Mr=null,Wr=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Eb||(Eb=!0,YA(Oy,function(){return Th(),null})),U=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||U){U=Ca.transition,Ca.transition=null;var X=An;An=1;var me=mn;mn|=4,X3.current=null,_$(d,x),zA(x,d),t$(c3),Ly=!!l3,c3=l3=null,d.current=x,I$(x),iU(),mn=me,An=X,Ca.transition=U}else d.current=x;if(Eb&&(Eb=!1,Ul=d,Ab=R),U=d.pendingLanes,U===0&&(Ll=null),cU(x.stateNode),Ps(d,fr()),m!==null)for(E=d.onRecoverableError,x=0;x<m.length;x++)R=m[x],E(R.value,{componentStack:R.stack,digest:R.digest});if(Cb)throw Cb=!1,d=nN,nN=null,d;return(Ab&1)!==0&&d.tag!==0&&Th(),U=d.pendingLanes,(U&1)!==0?d===rN?xp++:(xp=0,rN=d):xp=0,zl(),null}function Th(){if(Ul!==null){var d=OE(Ab),m=Ca.transition,x=An;try{if(Ca.transition=null,An=16>d?16:d,Ul===null)var E=!1;else{if(d=Ul,Ul=null,Ab=0,(mn&6)!==0)throw Error(n(331));var R=mn;for(mn|=4,pt=d.current;pt!==null;){var U=pt,X=U.child;if((pt.flags&16)!==0){var me=U.deletions;if(me!==null){for(var ve=0;ve<me.length;ve++){var Fe=me[ve];for(pt=Fe;pt!==null;){var Ke=pt;switch(Ke.tag){case 0:case 11:case 15:yp(8,Ke,U)}var Qe=Ke.child;if(Qe!==null)Qe.return=Ke,pt=Qe;else for(;pt!==null;){Ke=pt;var Ve=Ke.sibling,ct=Ke.return;if(TA(Ke),Ke===Fe){pt=null;break}if(Ve!==null){Ve.return=ct,pt=Ve;break}pt=ct}}}var wt=U.alternate;if(wt!==null){var Nt=wt.child;if(Nt!==null){wt.child=null;do{var mr=Nt.sibling;Nt.sibling=null,Nt=mr}while(Nt!==null)}}pt=U}}if((U.subtreeFlags&2064)!==0&&X!==null)X.return=U,pt=X;else e:for(;pt!==null;){if(U=pt,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:yp(9,U,U.return)}var Te=U.sibling;if(Te!==null){Te.return=U.return,pt=Te;break e}pt=U.return}}var Ee=d.current;for(pt=Ee;pt!==null;){X=pt;var Oe=X.child;if((X.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=X,pt=Oe;else e:for(X=Ee;pt!==null;){if(me=pt,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:vb(9,me)}}catch(Et){or(me,me.return,Et)}if(me===X){pt=null;break e}var et=me.sibling;if(et!==null){et.return=me.return,pt=et;break e}pt=me.return}}if(mn=R,zl(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(Ry,d)}catch{}E=!0}return E}finally{An=x,Ca.transition=m}}return!1}function VA(d,m,x){m=Sh(x,m),m=uA(d,m,1),d=Dl(d,m,1),m=us(),d!==null&&(Wm(d,1,m),Ps(d,m))}function or(d,m,x){if(d.tag===3)VA(d,d,x);else for(;m!==null;){if(m.tag===3){VA(m,d,x);break}else if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Ll===null||!Ll.has(E))){d=Sh(x,d),d=dA(m,d,1),m=Dl(m,d,1),d=us(),m!==null&&(Wm(m,1,d),Ps(m,d));break}}m=m.return}}function z$(d,m,x){var E=d.pingCache;E!==null&&E.delete(m),m=us(),d.pingedLanes|=d.suspendedLanes&x,Mr===d&&(Wr&x)===x&&(jr===4||jr===3&&(Wr&130023424)===Wr&&500>fr()-tN?fu(d,0):eN|=x),Ps(d,m)}function KA(d,m){m===0&&((d.mode&1)===0?m=1:(m=zy,zy<<=1,(zy&130023424)===0&&(zy=4194304)));var x=us();d=Eo(d,m),d!==null&&(Wm(d,m,x),Ps(d,x))}function F$(d){var m=d.memoizedState,x=0;m!==null&&(x=m.retryLane),KA(d,x)}function D$(d,m){var x=0;switch(d.tag){case 13:var E=d.stateNode,R=d.memoizedState;R!==null&&(x=R.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(m),KA(d,x)}var ZA;ZA=function(d,m,x){if(d!==null)if(d.memoizedProps!==m.pendingProps||js.current)Is=!0;else{if((d.lanes&x)===0&&(m.flags&128)===0)return Is=!1,E$(d,m,x);Is=(d.flags&131072)!==0}else Is=!1,Kn&&(m.flags&1048576)!==0&&S8(m,sb,m.index);switch(m.lanes=0,m.tag){case 2:var E=m.type;wb(d,m),d=m.pendingProps;var R=wh(m,ts.current);Eh(m,x),R=O3(null,m,E,d,R,x);var U=R3();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,_s(E)?(U=!0,tb(m)):U=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,A3(m),R.updater=yb,m.stateNode=R,R._reactInternals=m,L3(m,E,d,x),m=W3(null,m,E,!0,U,x)):(m.tag=0,Kn&&U&&g3(m),cs(null,m,R,x),m=m.child),m;case 16:E=m.elementType;e:{switch(wb(d,m),d=m.pendingProps,R=E._init,E=R(E._payload),m.type=E,R=m.tag=L$(E),d=Ya(E,d),R){case 0:m=H3(null,m,E,d,x);break e;case 1:m=xA(null,m,E,d,x);break e;case 11:m=pA(null,m,E,d,x);break e;case 14:m=gA(null,m,E,Ya(E.type,d),x);break e}throw Error(n(306,E,""))}return m;case 0:return E=m.type,R=m.pendingProps,R=m.elementType===E?R:Ya(E,R),H3(d,m,E,R,x);case 1:return E=m.type,R=m.pendingProps,R=m.elementType===E?R:Ya(E,R),xA(d,m,E,R,x);case 3:e:{if(vA(m),d===null)throw Error(n(387));E=m.pendingProps,U=m.memoizedState,R=U.element,z8(d,m),ub(m,E,null,x);var X=m.memoizedState;if(E=X.element,U.isDehydrated)if(U={element:E,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},m.updateQueue.baseState=U,m.memoizedState=U,m.flags&256){R=Sh(Error(n(423)),m),m=NA(d,m,E,x,R);break e}else if(E!==R){R=Sh(Error(n(424)),m),m=NA(d,m,E,x,R);break e}else for(Js=Ol(m.stateNode.containerInfo.firstChild),Qs=m,Kn=!0,Za=null,x=R8(m,null,E,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Nh(),E===R){m=So(d,m,x);break e}cs(d,m,E,x)}m=m.child}return m;case 5:return B8(m),d===null&&w3(m),E=m.type,R=m.pendingProps,U=d!==null?d.memoizedProps:null,X=R.children,u3(E,R)?X=null:U!==null&&u3(E,U)&&(m.flags|=32),wA(d,m),cs(d,m,X,x),m.child;case 6:return d===null&&w3(m),null;case 13:return kA(d,m,x);case 4:return S3(m,m.stateNode.containerInfo),E=m.pendingProps,d===null?m.child=kh(m,null,E,x):cs(d,m,E,x),m.child;case 11:return E=m.type,R=m.pendingProps,R=m.elementType===E?R:Ya(E,R),pA(d,m,E,R,x);case 7:return cs(d,m,m.pendingProps,x),m.child;case 8:return cs(d,m,m.pendingProps.children,x),m.child;case 12:return cs(d,m,m.pendingProps.children,x),m.child;case 10:e:{if(E=m.type._context,R=m.pendingProps,U=m.memoizedProps,X=R.value,Ln(ob,E._currentValue),E._currentValue=X,U!==null)if(Ka(U.value,X)){if(U.children===R.children&&!js.current){m=So(d,m,x);break e}}else for(U=m.child,U!==null&&(U.return=m);U!==null;){var me=U.dependencies;if(me!==null){X=U.child;for(var ve=me.firstContext;ve!==null;){if(ve.context===E){if(U.tag===1){ve=Ao(-1,x&-x),ve.tag=2;var Fe=U.updateQueue;if(Fe!==null){Fe=Fe.shared;var Ke=Fe.pending;Ke===null?ve.next=ve:(ve.next=Ke.next,Ke.next=ve),Fe.pending=ve}}U.lanes|=x,ve=U.alternate,ve!==null&&(ve.lanes|=x),C3(U.return,x,m),me.lanes|=x;break}ve=ve.next}}else if(U.tag===10)X=U.type===m.type?null:U.child;else if(U.tag===18){if(X=U.return,X===null)throw Error(n(341));X.lanes|=x,me=X.alternate,me!==null&&(me.lanes|=x),C3(X,x,m),X=U.sibling}else X=U.child;if(X!==null)X.return=U;else for(X=U;X!==null;){if(X===m){X=null;break}if(U=X.sibling,U!==null){U.return=X.return,X=U;break}X=X.return}U=X}cs(d,m,R.children,x),m=m.child}return m;case 9:return R=m.type,E=m.pendingProps.children,Eh(m,x),R=Na(R),E=E(R),m.flags|=1,cs(d,m,E,x),m.child;case 14:return E=m.type,R=Ya(E,m.pendingProps),R=Ya(E.type,R),gA(d,m,E,R,x);case 15:return yA(d,m,m.type,m.pendingProps,x);case 17:return E=m.type,R=m.pendingProps,R=m.elementType===E?R:Ya(E,R),wb(d,m),m.tag=1,_s(E)?(d=!0,tb(m)):d=!1,Eh(m,x),lA(m,E,R),L3(m,E,R,x),W3(null,m,E,!0,d,x);case 19:return EA(d,m,x);case 22:return bA(d,m,x)}throw Error(n(156,m.tag))};function YA(d,m){return $m(d,m)}function B$(d,m,x,E){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(d,m,x,E){return new B$(d,m,x,E)}function cN(d){return d=d.prototype,!(!d||!d.isReactComponent)}function L$(d){if(typeof d=="function")return cN(d)?1:0;if(d!=null){if(d=d.$$typeof,d===z)return 11;if(d===F)return 14}return 2}function Wl(d,m){var x=d.alternate;return x===null?(x=Ea(d.tag,m,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=m,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&14680064,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,m=d.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x}function Ib(d,m,x,E,R,U){var X=2;if(E=d,typeof d=="function")cN(d)&&(X=1);else if(typeof d=="string")X=5;else e:switch(d){case T:return pu(x.children,R,U,m);case P:X=8,R|=8;break;case I:return d=Ea(12,x,m,R|2),d.elementType=I,d.lanes=U,d;case B:return d=Ea(13,x,m,R),d.elementType=B,d.lanes=U,d;case O:return d=Ea(19,x,m,R),d.elementType=O,d.lanes=U,d;case K:return Tb(x,R,U,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case M:X=10;break e;case W:X=9;break e;case z:X=11;break e;case F:X=14;break e;case G:X=16,E=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return m=Ea(X,x,m,R),m.elementType=d,m.type=E,m.lanes=U,m}function pu(d,m,x,E){return d=Ea(7,d,E,m),d.lanes=x,d}function Tb(d,m,x,E){return d=Ea(22,d,E,m),d.elementType=K,d.lanes=x,d.stateNode={isHidden:!1},d}function uN(d,m,x){return d=Ea(6,d,null,m),d.lanes=x,d}function dN(d,m,x){return m=Ea(4,d.children!==null?d.children:[],d.key,m),m.lanes=x,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function U$(d,m,x,E,R){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bv(0),this.expirationTimes=Bv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bv(0),this.identifierPrefix=E,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function hN(d,m,x,E,R,U,X,me,ve){return d=new U$(d,m,x,me,ve),m===1?(m=1,U===!0&&(m|=8)):m=0,U=Ea(3,null,null,m),d.current=U,U.stateNode=d,U.memoizedState={element:E,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},A3(U),d}function $$(d,m,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:E==null?null:""+E,children:d,containerInfo:m,implementation:x}}function QA(d){if(!d)return Ml;d=d._reactInternals;e:{if(st(d)!==d||d.tag!==1)throw Error(n(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(_s(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(d.tag===1){var x=d.type;if(_s(x))return C8(d,x,m)}return m}function JA(d,m,x,E,R,U,X,me,ve){return d=hN(x,E,!0,d,R,U,X,me,ve),d.context=QA(null),x=d.current,E=us(),R=$l(x),U=Ao(E,R),U.callback=m??null,Dl(x,U,R),d.current.lanes=R,Wm(d,R,E),Ps(d,E),d}function Pb(d,m,x,E){var R=m.current,U=us(),X=$l(R);return x=QA(x),m.context===null?m.context=x:m.pendingContext=x,m=Ao(U,X),m.payload={element:d},E=E===void 0?null:E,E!==null&&(m.callback=E),d=Dl(R,m,X),d!==null&&(Xa(d,R,X,U),cb(d,R,X)),X}function Ob(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function XA(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<m?x:m}}function fN(d,m){XA(d,m),(d=d.alternate)&&XA(d,m)}function H$(){return null}var eS=typeof reportError=="function"?reportError:function(d){console.error(d)};function mN(d){this._internalRoot=d}Rb.prototype.render=mN.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));Pb(d,m,null,null)},Rb.prototype.unmount=mN.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;hu(function(){Pb(null,d,null,null)}),m[vo]=null}};function Rb(d){this._internalRoot=d}Rb.prototype.unstable_scheduleHydration=function(d){if(d){var m=zE();d={blockedOn:null,target:d,priority:m};for(var x=0;x<Il.length&&m!==0&&m<Il[x].priority;x++);Il.splice(x,0,d),x===0&&BE(d)}};function pN(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Mb(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function tS(){}function W$(d,m,x,E,R){if(R){if(typeof E=="function"){var U=E;E=function(){var Fe=Ob(X);U.call(Fe)}}var X=JA(m,E,d,0,null,!1,!1,"",tS);return d._reactRootContainer=X,d[vo]=X.current,sp(d.nodeType===8?d.parentNode:d),hu(),X}for(;R=d.lastChild;)d.removeChild(R);if(typeof E=="function"){var me=E;E=function(){var Fe=Ob(ve);me.call(Fe)}}var ve=hN(d,0,!1,null,null,!1,!1,"",tS);return d._reactRootContainer=ve,d[vo]=ve.current,sp(d.nodeType===8?d.parentNode:d),hu(function(){Pb(m,ve,x,E)}),ve}function zb(d,m,x,E,R){var U=x._reactRootContainer;if(U){var X=U;if(typeof R=="function"){var me=R;R=function(){var ve=Ob(X);me.call(ve)}}Pb(m,X,d,R)}else X=W$(x,m,d,R,E);return Ob(X)}RE=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var x=Hm(m.pendingLanes);x!==0&&(Lv(m,x|1),Ps(m,fr()),(mn&6)===0&&(Ih=fr()+500,zl()))}break;case 13:hu(function(){var E=Eo(d,1);if(E!==null){var R=us();Xa(E,d,1,R)}}),fN(d,1)}},Uv=function(d){if(d.tag===13){var m=Eo(d,134217728);if(m!==null){var x=us();Xa(m,d,134217728,x)}fN(d,134217728)}},ME=function(d){if(d.tag===13){var m=$l(d),x=Eo(d,m);if(x!==null){var E=us();Xa(x,d,m,E)}fN(d,m)}},zE=function(){return An},FE=function(d,m){var x=An;try{return An=d,m()}finally{An=x}},Wt=function(d,m,x){switch(m){case"input":if(ne(d,x),m=x.name,x.type==="radio"&&m!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<x.length;m++){var E=x[m];if(E!==d&&E.form===d.form){var R=Xy(E);if(!R)throw Error(n(90));Ne(E),ne(E,R)}}}break;case"textarea":Me(d,x);break;case"select":m=x.value,m!=null&&je(d,!!x.multiple,m,!1)}},on=iN,Al=hu;var G$={usingClientEntryPoint:!1,Events:[op,yh,Xy,Vn,$r,iN]},vp={findFiberByHostInstance:su,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q$={bundleType:vp.bundleType,version:vp.version,rendererPackageName:vp.rendererPackageName,rendererConfig:vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Ti(d),d===null?null:d.stateNode},findFiberByHostInstance:vp.findFiberByHostInstance||H$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fb.isDisabled&&Fb.supportsFiber)try{Ry=Fb.inject(q$),Pi=Fb}catch{}}return Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G$,Os.createPortal=function(d,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pN(m))throw Error(n(200));return $$(d,m,null,x)},Os.createRoot=function(d,m){if(!pN(d))throw Error(n(299));var x=!1,E="",R=eS;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(E=m.identifierPrefix),m.onRecoverableError!==void 0&&(R=m.onRecoverableError)),m=hN(d,1,!1,null,null,x,!1,E,R),d[vo]=m.current,sp(d.nodeType===8?d.parentNode:d),new mN(m)},Os.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Ti(m),d=d===null?null:d.stateNode,d},Os.flushSync=function(d){return hu(d)},Os.hydrate=function(d,m,x){if(!Mb(m))throw Error(n(200));return zb(null,d,m,!0,x)},Os.hydrateRoot=function(d,m,x){if(!pN(d))throw Error(n(405));var E=x!=null&&x.hydratedSources||null,R=!1,U="",X=eS;if(x!=null&&(x.unstable_strictMode===!0&&(R=!0),x.identifierPrefix!==void 0&&(U=x.identifierPrefix),x.onRecoverableError!==void 0&&(X=x.onRecoverableError)),m=JA(m,null,d,1,x??null,R,!1,U,X),d[vo]=m.current,sp(d),E)for(d=0;d<E.length;d++)x=E[d],R=x._getVersion,R=R(x._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[x,R]:m.mutableSourceEagerHydrationData.push(x,R);return new Rb(m)},Os.render=function(d,m,x){if(!Mb(m))throw Error(n(200));return zb(null,d,m,!1,x)},Os.unmountComponentAtNode=function(d){if(!Mb(d))throw Error(n(40));return d._reactRootContainer?(hu(function(){zb(null,null,d,!1,function(){d._reactRootContainer=null,d[vo]=null})}),!0):!1},Os.unstable_batchedUpdates=iN,Os.unstable_renderSubtreeIntoContainer=function(d,m,x,E){if(!Mb(x))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return zb(d,m,x,!1,E)},Os.version="18.3.1-next-f1338f8080-20240426",Os}var dS;function E9(){if(dS)return gN.exports;dS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gN.exports=X$(),gN.exports}var A9=e=>{throw TypeError(e)},Nk=(e,t,n)=>t.has(e)||A9("Cannot "+n),xe=(e,t,n)=>(Nk(e,t,"read from private field"),n?n.call(e):t.get(e)),Lt=(e,t,n)=>t.has(e)?A9("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ut=(e,t,n,r)=>(Nk(e,t,"write to private field"),t.set(e,n),n),sn=(e,t,n)=>(Nk(e,t,"access private method"),n),e5=(e,t,n,r)=>({set _(s){ut(e,t,s)},get _(){return xe(e,t,r)}});function eH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var hS={exports:{}},Np={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var fS;function tH(){if(fS)return Np;fS=1;var e=Qg(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(o,c,u){var h,f={},p=null,g=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(h in c)r.call(c,h)&&!a.hasOwnProperty(h)&&(f[h]=c[h]);if(o&&o.defaultProps)for(h in c=o.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:t,type:o,key:p,ref:g,props:f,_owner:s.current}}return Np.Fragment=n,Np.jsx=i,Np.jsxs=i,Np}var mS;function nH(){return mS||(mS=1,hS.exports=tH()),hS.exports}var l=nH(),j=Qg();const Ze=Nm(j),kk=eH({__proto__:null,default:Ze},[j]),S9="2.33.3";let yN={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${S9}`},We=class t5 extends Error{constructor(t,n={}){const r=n.cause instanceof t5?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof t5&&n.cause.docsPath||n.docsPath,a=yN.getDocsUrl?.({...n,docsPath:s}),i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...yN.version?[`Version: ${yN.version}`]:[]].join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=S9}walk(t){return j9(this,t)}};function j9(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?j9(e.cause,t):t?null:e}let _9=class extends We{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number "${s}" is not in safe ${r?`${r*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},rH=class extends We{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},sH=class extends We{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},aH=class extends We{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}},I9=class extends We{constructor({offset:e,position:t,size:n}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},T9=class extends We{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}},pS=class extends We{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${t} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}};function il(e,{dir:t,size:n=32}={}){return typeof e=="string"?zc(e,{dir:t,size:n}):iH(e,{dir:t,size:n})}function zc(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new T9({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function iH(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new T9({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}function xi(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ur(e){return xi(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function so(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const oH=new TextEncoder;function km(e,t={}){return typeof e=="number"||typeof e=="bigint"?cH(e,t):typeof e=="boolean"?lH(e,t):xi(e)?$a(e,t):Nd(e,t)}function lH(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ga(n,{size:t.size}),il(n,{size:t.size})):n}const _o={zero:48,nine:57,A:65,F:70,a:97,f:102};function gS(e){if(e>=_o.zero&&e<=_o.nine)return e-_o.zero;if(e>=_o.A&&e<=_o.F)return e-(_o.A-10);if(e>=_o.a&&e<=_o.f)return e-(_o.a-10)}function $a(e,t={}){let n=e;t.size&&(Ga(n,{size:t.size}),n=il(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let i=0,o=0;i<s;i++){const c=gS(r.charCodeAt(o++)),u=gS(r.charCodeAt(o++));if(c===void 0||u===void 0)throw new We(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);a[i]=c*16+u}return a}function cH(e,t){const n=St(e,t);return $a(n)}function Nd(e,t={}){const n=oH.encode(e);return typeof t.size=="number"?(Ga(n,{size:t.size}),il(n,{dir:"right",size:t.size})):n}function Ga(e,{size:t}){if(ur(e)>t)throw new aH({givenSize:ur(e),maxSize:t})}function Ha(e,t={}){const{signed:n}=t;t.size&&Ga(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function uH(e,t={}){let n=e;if(t.size&&(Ga(n,{size:t.size}),n=so(n)),so(n)==="0x00")return!1;if(so(n)==="0x01")return!0;throw new sH(n)}function vi(e,t={}){return Number(Ha(e,t))}function P9(e,t={}){let n=$a(e);return t.size&&(Ga(n,{size:t.size}),n=so(n,{dir:"right"})),new TextDecoder().decode(n)}const dH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function co(e,t={}){return typeof e=="number"||typeof e=="bigint"?St(e,t):typeof e=="string"?Td(e,t):typeof e=="boolean"?Ck(e,t):Pr(e,t)}function Ck(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ga(n,{size:t.size}),il(n,{size:t.size})):n}function Pr(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=dH[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ga(r,{size:t.size}),il(r,{dir:"right",size:t.size})):r}function St(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const c=typeof e=="bigint"?"n":"";throw new _9({max:a?`${a}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?il(o,{size:r}):o}const hH=new TextEncoder;function Td(e,t={}){const n=hH.encode(e);return Pr(n,t)}function Ni(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new kH(e.type);return`${e.name}(${_x(e.inputs,{includeName:t})})`}function _x(e,{includeName:t=!1}={}){return e?e.map(n=>fH(n,{includeName:t})).join(t?", ":","):""}function fH(e,{includeName:t}){return e.type.startsWith("tuple")?`(${_x(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}let mH=class extends We{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}},yS=class extends We{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}},O9=class extends We{constructor({data:e,params:t,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${_x(t,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=n}},Jg=class extends We{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},pH=class extends We{constructor({expectedLength:e,givenLength:t,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${t}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},gH=class extends We{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${ur(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},R9=class extends We{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},yH=class extends We{constructor(e,{docsPath:t}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}},bS=class extends We{constructor(e,{docsPath:t}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:t,name:"AbiErrorNotFoundError"})}},M9=class extends We{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},bH=class extends We{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}},z9=class extends We{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}},wS=class extends We{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:t,name:"AbiEventNotFoundError"})}},Kf=class extends We{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionNotFoundError"})}},F9=class extends We{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}},wH=class extends We{constructor(e,{docsPath:t}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}},xH=class extends We{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Ni(e.abiItem)}\`, and`,`\`${t.type}\` in \`${Ni(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},D9=class extends We{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}},dg=class extends We{constructor({abiItem:e,data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${_x(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=n,this.size=r}},Ix=class extends We{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${Ni(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},vH=class extends We{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiEncodingType"})}},NH=class extends We{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:t,name:"InvalidAbiDecodingType"})}},B9=class extends We{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},kH=class extends We{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},CH=class extends We{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}};function ki(e){return typeof e[0]=="string"?Qc(e):EH(e)}function EH(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Qc(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}let dl=class extends We{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Xg=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Db=BigInt(2**32-1),xS=BigInt(32);function AH(e,t=!1){return t?{h:Number(e&Db),l:Number(e>>xS&Db)}:{h:Number(e>>xS&Db)|0,l:Number(e&Db)|0}}function SH(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:i,l:o}=AH(e[a],t);[r[a],s[a]]=[i,o]}return[r,s]}const jH=(e,t,n)=>e<<n|t>>>32-n,_H=(e,t,n)=>t<<n|e>>>32-n,IH=(e,t,n)=>t<<n-32|e>>>64-n,TH=(e,t,n)=>e<<n-32|t>>>64-n,Ph=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ek(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hg(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ci(e,...t){if(!Ek(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function PH(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hg(e.outputLen),hg(e.blockLen)}function Zf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function L9(e,t){Ci(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function OH(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Yf(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function bN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Fi(e,t){return e<<32-t|e>>>t}const RH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function MH(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function zH(e){for(let t=0;t<e.length;t++)e[t]=MH(e[t]);return e}const vS=RH?e=>e:zH,U9=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",FH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function fg(e){if(Ci(e),U9)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=FH[e[n]];return t}const Io={_0:48,_9:57,A:65,F:70,a:97,f:102};function NS(e){if(e>=Io._0&&e<=Io._9)return e-Io._0;if(e>=Io.A&&e<=Io.F)return e-(Io.A-10);if(e>=Io.a&&e<=Io.f)return e-(Io.a-10)}function Ak(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(U9)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,a=0;s<n;s++,a+=2){const i=NS(e.charCodeAt(a)),o=NS(e.charCodeAt(a+1));if(i===void 0||o===void 0){const c=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+a)}r[s]=i*16+o}return r}function DH(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Tx(e){return typeof e=="string"&&(e=DH(e)),Ci(e),e}function id(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ci(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const a=e[r];n.set(a,s),s+=a.length}return n}let Sk=class{};function $9(e){const t=r=>e().update(Tx(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function BH(e=32){if(Ph&&typeof Ph.getRandomValues=="function")return Ph.getRandomValues(new Uint8Array(e));if(Ph&&typeof Ph.randomBytes=="function")return Uint8Array.from(Ph.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const LH=BigInt(0),kp=BigInt(1),UH=BigInt(2),$H=BigInt(7),HH=BigInt(256),WH=BigInt(113),H9=[],W9=[],G9=[];for(let e=0,t=kp,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],H9.push(2*(5*r+n)),W9.push((e+1)*(e+2)/2%64);let s=LH;for(let a=0;a<7;a++)t=(t<<kp^(t>>$H)*WH)%HH,t&UH&&(s^=kp<<(kp<<BigInt(a))-kp);G9.push(s)}const q9=SH(G9,!0),GH=q9[0],qH=q9[1],kS=(e,t,n)=>n>32?IH(e,t,n):jH(e,t,n),CS=(e,t,n)=>n>32?TH(e,t,n):_H(e,t,n);function VH(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],h=n[c+1],f=kS(u,h,1)^n[o],p=CS(u,h,1)^n[o+1];for(let g=0;g<50;g+=10)e[i+g]^=f,e[i+g+1]^=p}let s=e[2],a=e[3];for(let i=0;i<24;i++){const o=W9[i],c=kS(s,a,o),u=CS(s,a,o),h=H9[i];s=e[h],a=e[h+1],e[h]=c,e[h+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=e[i+o];for(let o=0;o<10;o++)e[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=GH[r],e[1]^=qH[r]}Yf(n)}let KH=class V9 extends Sk{constructor(t,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,hg(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=OH(this.state)}clone(){return this._cloneInto()}keccak(){vS(this.state32),VH(this.state32,this.rounds),vS(this.state32),this.posOut=0,this.pos=0}update(t){Zf(this),t=Tx(t),Ci(t);const{blockLen:n,state:r}=this,s=t.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Zf(this,!1),Ci(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return hg(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(L9(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Yf(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return t||(t=new V9(n,r,s,i,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const ZH=(e,t,n)=>$9(()=>new KH(t,e,n)),YH=ZH(1,136,256/8);function Yr(e,t){const n=t||"hex",r=YH(xi(e,{strict:!1})?km(e):e);return n==="bytes"?r:co(r)}const wN=new Xg(8192);function Px(e,t){if(wN.has(`${e}.${t}`))return wN.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Yr(Nd(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());const a=`0x${s.join("")}`;return wN.set(`${e}.${t}`,a),a}function _c(e,t){if(!pa(e,{strict:!1}))throw new dl({address:e});return Px(e,t)}const QH=/^0x[a-fA-F0-9]{40}$/,xN=new Xg(8192);function pa(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(xN.has(r))return xN.get(r);const s=QH.test(e)?e.toLowerCase()===e?!0:n?Px(e)===e:!0:!1;return xN.set(r,s),s}function Qf(e,t,n,{strict:r}={}){return xi(e,{strict:!1})?b1(e,t,n,{strict:r}):Y9(e,t,n,{strict:r})}function K9(e,t){if(typeof t=="number"&&t>0&&t>ur(e)-1)throw new I9({offset:t,position:"start",size:ur(e)})}function Z9(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ur(e)!==n-t)throw new I9({offset:n,position:"end",size:ur(e)})}function Y9(e,t,n,{strict:r}={}){K9(e,t);const s=e.slice(t,n);return r&&Z9(s,t,n),s}function b1(e,t,n,{strict:r}={}){K9(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Z9(s,t,n),s}const JH=/^(.*)\[([0-9]*)\]$/,Q9=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,jk=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function bl(e,t){if(e.length!==t.length)throw new R9({expectedLength:e.length,givenLength:t.length});const n=XH({params:e,values:t}),r=Ik(n);return r.length===0?"0x":r}function XH({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(_k({param:e[r],value:t[r]}));return n}function _k({param:e,value:t}){const n=Tk(e.type);if(n){const[r,s]=n;return tW(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return iW(t,{param:e});if(e.type==="address")return eW(t);if(e.type==="bool")return rW(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=jk.exec(e.type)??[];return sW(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return nW(t,{param:e});if(e.type==="string")return aW(t);throw new vH(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ik(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?t+=32:t+=ur(o)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?(n.push(St(t+s,{size:32})),r.push(o),s+=ur(o)):n.push(o)}return ki([...n,...r])}function eW(e){if(!pa(e))throw new dl({address:e});return{dynamic:!1,encoded:zc(e.toLowerCase())}}function tW(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new B9(e);if(!r&&e.length!==t)throw new pH({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let i=0;i<e.length;i++){const o=_k({param:n,value:e[i]});o.dynamic&&(s=!0),a.push(o)}if(r||s){const i=Ik(a);if(r){const o=St(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ki([o,i]):o}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:ki(a.map(({encoded:i})=>i))}}function nW(e,{param:t}){const[,n]=t.type.split("bytes"),r=ur(e);if(!n){let s=e;return r%32!==0&&(s=zc(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ki([zc(St(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new gH({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:zc(e,{dir:"right"})}}function rW(e){if(typeof e!="boolean")throw new We(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:zc(Ck(e))}}function sW(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new _9({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:St(e,{size:32,signed:t})}}function aW(e){const t=Td(e),n=Math.ceil(ur(t)/32),r=[];for(let s=0;s<n;s++)r.push(zc(Qf(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ki([zc(St(ur(t),{size:32})),...r])}}function iW(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],i=Array.isArray(e)?s:a.name,o=_k({param:a,value:e[i]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ik(r):ki(r.map(({encoded:s})=>s))}}function Tk(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const vN="/docs/contract/encodeDeployData";function Pk(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new mH({docsPath:vN});if(!("inputs"in s))throw new yS({docsPath:vN});if(!s.inputs||s.inputs.length===0)throw new yS({docsPath:vN});const a=bl(s.inputs,n);return Qc([r,a])}function Jr(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}let Ox=class extends We{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}},NN=class extends We{constructor({docsPath:e,metaMessages:t,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}};function oW(e){const t=Yr(`0x${e.substring(4)}`).substring(26);return Px(`0x${t}`)}const lW="modulepreload",cW=function(e){return"/"+e},ES={},ol=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let a=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");r=a(t.map(c=>{if(c=cW(c),c in ES)return;ES[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":lW,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&s(i.reason);return e().catch(s)})};async function uW({hash:e,signature:t}){const n=xi(e)?e:co(e),{secp256k1:r}=await ol(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>XZ);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:o,s:c,v:u,yParity:h}=t,f=Number(h??u),p=AS(f);return new r.Signature(Ha(o),Ha(c)).addRecoveryBit(p)}const s=xi(t)?t:co(t);if(ur(s)!==65)throw new Error("invalid signature length");const a=vi(`0x${s.slice(130)}`),i=AS(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(i)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function AS(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function J9({hash:e,signature:t}){return oW(await uW({hash:e,signature:t}))}let SS=class extends We{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},X9=class extends We{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},dW=class extends We{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const hW={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new dW({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new X9({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new SS({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new SS({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ok(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(hW);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function fW(e,t="hex"){const n=eP(e),r=Ok(new Uint8Array(n.length));return n.encode(r),t==="hex"?Pr(r.bytes):r.bytes}function eP(e){return Array.isArray(e)?mW(e.map(t=>eP(t))):pW(e)}function mW(e){const t=e.reduce((r,s)=>r+s.length,0),n=tP(t);return{length:t<=55?1+t:1+n+t,encode(r){t<=55?r.pushByte(192+t):(r.pushByte(247+n),n===1?r.pushUint8(t):n===2?r.pushUint16(t):n===3?r.pushUint24(t):r.pushUint32(t));for(const{encode:s}of e)s(r)}}}function pW(e){const t=typeof e=="string"?$a(e):e,n=tP(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(r){t.length===1&&t[0]<128?r.pushBytes(t):t.length<=55?(r.pushByte(128+t.length),r.pushBytes(t)):(r.pushByte(183+n),n===1?r.pushUint8(t.length):n===2?r.pushUint16(t.length):n===3?r.pushUint24(t.length):r.pushUint32(t.length),r.pushBytes(t))}}}function tP(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new We("Length is too large.")}function gW(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,a=Yr(Qc(["0x05",fW([t?St(t):"0x",s,n?St(n):"0x"])]));return r==="bytes"?$a(a):a}async function nP(e){const{authorization:t,signature:n}=e;return J9({hash:gW(t),signature:n??t})}let n5=class extends We{constructor({blockNumber:e,chain:t,contract:n}){super(`Chain "${t.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},yW=class extends We{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}},bW=class extends We{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},rP=class extends We{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}};function wW({chain:e,currentChainId:t}){if(!e)throw new bW;if(t!==e.id)throw new yW({chain:e,currentChainId:t})}const xW={gwei:9,wei:18},vW={ether:-9,wei:9},NW={ether:-18,gwei:-9};function Cm(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function Gs(e,t="wei"){return Cm(e,vW[t])}class od extends We{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(od,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(od,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});let w1=class extends We{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${Gs(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}};Object.defineProperty(w1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});let r5=class extends We{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${Gs(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}};Object.defineProperty(r5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});let s5=class extends We{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}};Object.defineProperty(s5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});let a5=class extends We{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}};Object.defineProperty(a5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});let i5=class extends We{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}};Object.defineProperty(i5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});let o5=class extends We{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(o5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});let l5=class extends We{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(l5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});let c5=class extends We{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(c5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});let u5=class extends We{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(u5,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});let x1=class extends We{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${Gs(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Gs(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}};Object.defineProperty(x1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});let ey=class extends We{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}};function Rk(e,t="wei"){return Cm(e,xW[t])}function ty(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}let kW=class extends We{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},CW=class extends We{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ty(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},EW=class extends We{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){const p=ty({chain:r&&`${r?.name} (id: ${r?.id})`,from:t?.address,to:h,value:typeof f<"u"&&`${Rk(f)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof i<"u"&&`${Gs(i)} gwei`,maxFeePerGas:typeof o<"u"&&`${Gs(o)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Gs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},sP=class extends We{constructor({blockHash:e,blockNumber:t,blockTag:n,hash:r,index:s}){let a="Transaction";n&&s!==void 0&&(a=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(a=`Transaction at block hash "${e}" at index "${s}"`),t&&s!==void 0&&(a=`Transaction at block number "${t}" at index "${s}"`),r&&(a=`Transaction with hash "${r}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}},aP=class extends We{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},AW=class extends We{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}};const Cr=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n),SW=e=>e,ny=e=>e;let kd=class extends We{constructor({body:e,cause:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{cause:t,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${ny(a)}`,e&&`Request body: ${Cr(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=s,this.url=a}},Mk=class extends We{constructor({body:e,error:t,url:n}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${ny(n)}`,`Request body: ${Cr(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}},jS=class extends We{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ny(t)}`,`Request body: ${Cr(e)}`],name:"TimeoutError"})}};const jW=-1;let Zs=class extends We{constructor(e,{code:t,docsPath:n,metaMessages:r,name:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:r||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof Mk?e.code:t??jW}},ga=class extends Zs{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}},d5=class iP extends Zs{constructor(t){super(t,{code:iP.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(d5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});let h5=class oP extends Zs{constructor(t){super(t,{code:oP.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(h5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});let f5=class lP extends Zs{constructor(t,{method:n}={}){super(t,{code:lP.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}};Object.defineProperty(f5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});let m5=class cP extends Zs{constructor(t){super(t,{code:cP.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(m5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});let mg=class uP extends Zs{constructor(t){super(t,{code:uP.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(mg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});let pg=class dP extends Zs{constructor(t){super(t,{code:dP.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(pg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});let p5=class hP extends Zs{constructor(t){super(t,{code:hP.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(p5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});let Of=class fP extends Zs{constructor(t){super(t,{code:fP.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(Of,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});let v1=class mP extends Zs{constructor(t){super(t,{code:mP.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(v1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});let Jp=class pP extends Zs{constructor(t,{method:n}={}){super(t,{code:pP.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}};Object.defineProperty(Jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});let N1=class gP extends Zs{constructor(t){super(t,{code:gP.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(N1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});let g5=class yP extends Zs{constructor(t){super(t,{code:yP.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(g5,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let Vr=class bP extends ga{constructor(t){super(t,{code:bP.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(Vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});let y5=class wP extends ga{constructor(t){super(t,{code:wP.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(y5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});let b5=class xP extends ga{constructor(t,{method:n}={}){super(t,{code:xP.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}};Object.defineProperty(b5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});let w5=class vP extends ga{constructor(t){super(t,{code:vP.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(w5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});let x5=class NP extends ga{constructor(t){super(t,{code:NP.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(x5,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});let Lc=class kP extends ga{constructor(t){super(t,{code:kP.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(Lc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});let v5=class CP extends ga{constructor(t){super(t,{code:CP.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(v5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});let N5=class EP extends ga{constructor(t){super(t,{code:EP.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(N5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});let k5=class AP extends ga{constructor(t){super(t,{code:AP.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(k5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});let C5=class SP extends ga{constructor(t){super(t,{code:SP.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty(C5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});let E5=class jP extends ga{constructor(t){super(t,{code:jP.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(E5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});let A5=class _P extends ga{constructor(t){super(t,{code:_P.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(A5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});let S5=class IP extends ga{constructor(t){super(t,{code:IP.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(S5,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});let _W=class extends Zs{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}};function Rx(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof We?e.walk(s=>s?.code===od.code):e;return r instanceof We?new od({cause:e,message:r.details}):od.nodeMessage.test(n)?new od({cause:e,message:e.details}):w1.nodeMessage.test(n)?new w1({cause:e,maxFeePerGas:t?.maxFeePerGas}):r5.nodeMessage.test(n)?new r5({cause:e,maxFeePerGas:t?.maxFeePerGas}):s5.nodeMessage.test(n)?new s5({cause:e,nonce:t?.nonce}):a5.nodeMessage.test(n)?new a5({cause:e,nonce:t?.nonce}):i5.nodeMessage.test(n)?new i5({cause:e,nonce:t?.nonce}):o5.nodeMessage.test(n)?new o5({cause:e}):l5.nodeMessage.test(n)?new l5({cause:e,gas:t?.gas}):c5.nodeMessage.test(n)?new c5({cause:e,gas:t?.gas}):u5.nodeMessage.test(n)?new u5({cause:e}):x1.nodeMessage.test(n)?new x1({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new ey({cause:e})}function IW(e,{docsPath:t,...n}){const r=(()=>{const s=Rx(e,n);return s instanceof ey?e:s})();return new EW(r,{docsPath:t,...n})}function Mx(e,{format:t}){if(!t)return{};const n={};function r(a){const i=Object.keys(a);for(const o of i)o in e&&(n[o]=e[o]),a[o]&&typeof a[o]=="object"&&!Array.isArray(a[o])&&r(a[o])}const s=t(e||{});return r(s),n}const TW={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function ry(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=PW(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Pr(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=St(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=St(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=St(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=St(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=St(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=St(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=TW[e.type]),typeof e.value<"u"&&(t.value=St(e.value)),t}function PW(e){return e.map(t=>({address:t.address,r:t.r?St(BigInt(t.r)):t.r,s:t.s?St(BigInt(t.s)):t.s,chainId:St(t.chainId),nonce:St(t.nonce),...typeof t.yParity<"u"?{yParity:St(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:St(t.v)}:{}}))}function zt(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}const OW=2n**256n-1n;function Em(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,i=t?Jr(t):void 0;if(i&&!pa(i.address))throw new dl({address:i.address});if(a&&!pa(a))throw new dl({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new kW;if(r&&r>OW)throw new w1({maxFeePerGas:r});if(s&&r&&s>r)throw new x1({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function zx(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return vi(t)}let RW=class extends We{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},zk=class extends We{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},MW=class extends We{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Gs(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}},TP=class extends We{constructor({blockHash:e,blockNumber:t}){let n="Block";e&&(n=`Block at hash "${e}"`),t&&(n=`Block at number "${t}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}};const PP={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function OP(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?vi(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?vi(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?PP[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=zW(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function zW(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function RP(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:OP(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function eo(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const a=s??!1,i=n!==void 0?St(n):void 0;let o=null;if(t?o=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):o=await e.request({method:"eth_getBlockByNumber",params:[i||r,a]},{dedupe:!!i}),!o)throw new TP({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||RP)(o)}async function Fk(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function FW(e,t){return MP(e,t)}async function MP(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof a=="function"){const o=n||await zt(e,eo,"getBlock")({}),c=await a({block:o,client:e,request:s});if(c===null)throw new Error;return c}if(typeof a<"u")return a;const i=await e.request({method:"eth_maxPriorityFeePerGas"});return Ha(i)}catch{const[a,i]=await Promise.all([n?Promise.resolve(n):zt(e,eo,"getBlock")({}),zt(e,Fk,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new zk;const o=i-a.baseFeePerGas;return o<0n?0n:o}}async function DW(e,t){return j5(e,t)}async function j5(e,t){const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},i=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new RW;const o=10**(i.toString().split(".")[1]?.length??0),c=h=>h*BigInt(Math.ceil(i*o))/BigInt(o),u=n||await zt(e,eo,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const h=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:c,request:s,type:a});if(h!==null)return h}if(a==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new zk;const h=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await MP(e,{block:u,chain:r,request:s}),f=c(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??f+h,maxPriorityFeePerGas:h}}return{gasPrice:s?.gasPrice??c(await zt(e,Fk,"getGasPrice")({}))}}let BW=class extends We{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){const p=ty({from:t?.address,to:h,value:typeof f<"u"&&`${Rk(f)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof i<"u"&&`${Gs(i)} gwei`,maxFeePerGas:typeof o<"u"&&`${Gs(o)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Gs(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}};function LW(e,{docsPath:t,...n}){const r=(()=>{const s=Rx(e,n);return s instanceof ey?e:s})();return new BW(r,{docsPath:t,...n})}let UW=class extends We{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}},$W=class extends We{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}};function _S(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function HW(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=_S(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=_S(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function IS(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new pS({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new pS({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function WW(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:a}=e,i={};if(a!==void 0&&(i.code=a),t!==void 0&&(i.balance=St(t)),n!==void 0&&(i.nonce=St(n)),r!==void 0&&(i.state=IS(r)),s!==void 0){if(i.state)throw new $W;i.stateDiff=IS(s)}return i}function Dk(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!pa(n,{strict:!1}))throw new dl({address:n});if(t[n])throw new UW({address:n});t[n]=WW(r)}return t}async function Bk(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?St(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Fx(e,t){const{account:n=e.account}=t,r=n?Jr(n):void 0;try{let s=function(W){const{block:z,request:B,rpcStateOverride:O}=W;return e.request({method:"eth_estimateGas",params:O?[B,z??e.experimental_blockTag??"latest",O]:z?[B,z]:[B]})};const{accessList:a,authorizationList:i,blobs:o,blobVersionedHashes:c,blockNumber:u,blockTag:h,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:v,value:N,stateOverride:A,...C}=await Dx(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),k=(typeof u=="bigint"?St(u):void 0)||h,S=Dk(A),T=await(async()=>{if(C.to)return C.to;if(i&&i.length>0)return await nP({authorization:i[0]}).catch(()=>{throw new We("`to` is required. Could not infer from `authorizationList`")})})();Em(t);const P=e.chain?.formatters?.transactionRequest?.format,I=(P||ry)({...Mx(C,{format:P}),from:r?.address,accessList:a,authorizationList:i,blobs:o,blobVersionedHashes:c,data:f,gas:p,gasPrice:g,maxFeePerBlobGas:b,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:v,to:T,value:N});let M=BigInt(await s({block:k,request:I,rpcStateOverride:S}));if(i){const W=await Bk(e,{address:I.from}),z=await Promise.all(i.map(async B=>{const{address:O}=B,F=await s({block:k,request:{authorizationList:void 0,data:f,from:r?.address,to:O,value:St(W)},rpcStateOverride:S}).catch(()=>100000n);return 2n*BigInt(F)}));M+=z.reduce((B,O)=>B+O,0n)}return M}catch(s){throw LW(s,{...t,account:r,chain:e.chain})}}async function Lk(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?St(r):n]},{dedupe:!!r});return vi(s)}function zP(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>$a(a)):e.blobs,s=[];for(const a of r)s.push(Uint8Array.from(t.blobToKzgCommitment(a)));return n==="bytes"?s:s.map(a=>Pr(a))}function FP(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>$a(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>$a(i)):e.commitments,a=[];for(let i=0;i<r.length;i++){const o=r[i],c=s[i];a.push(Uint8Array.from(t.computeBlobKzgProof(o,c)))}return n==="bytes"?a:a.map(i=>Pr(i))}function GW(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),i=Number(n>>s&a),o=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,o,r)}function qW(e,t,n){return e&t^~e&n}function VW(e,t,n){return e&t^e&n^t&n}let KW=class extends Sk{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=bN(this.buffer)}update(e){Zf(this),e=Tx(e),Ci(e);const{view:t,buffer:n,blockLen:r}=this,s=e.length;for(let a=0;a<s;){const i=Math.min(r-this.pos,s-a);if(i===r){const o=bN(e);for(;r<=s-a;a+=r)this.process(o,a);continue}n.set(e.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zf(this),L9(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:a}=this;t[a++]=128,Yf(this.buffer.subarray(a)),this.padOffset>r-a&&(this.process(n,0),a=0);for(let h=a;h<r;h++)t[h]=0;GW(n,r-8,BigInt(this.length*8),s),this.process(n,0);const i=bN(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)i.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:a,pos:i}=this;return e.destroyed=a,e.finished=s,e.length=r,e.pos=i,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const ql=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ZW=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vl=new Uint32Array(64);let YW=class extends KW{constructor(e=32){super(64,e,8,!1),this.A=ql[0]|0,this.B=ql[1]|0,this.C=ql[2]|0,this.D=ql[3]|0,this.E=ql[4]|0,this.F=ql[5]|0,this.G=ql[6]|0,this.H=ql[7]|0}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:i,H:o}=this;return[e,t,n,r,s,a,i,o]}set(e,t,n,r,s,a,i,o){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=s|0,this.F=a|0,this.G=i|0,this.H=o|0}process(e,t){for(let h=0;h<16;h++,t+=4)Vl[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const f=Vl[h-15],p=Vl[h-2],g=Fi(f,7)^Fi(f,18)^f>>>3,b=Fi(p,17)^Fi(p,19)^p>>>10;Vl[h]=b+Vl[h-7]+g+Vl[h-16]|0}let{A:n,B:r,C:s,D:a,E:i,F:o,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Fi(i,6)^Fi(i,11)^Fi(i,25),p=u+f+qW(i,o,c)+ZW[h]+Vl[h]|0,g=(Fi(n,2)^Fi(n,13)^Fi(n,22))+VW(n,r,s)|0;u=c,c=o,o=i,i=a+p|0,a=s,s=r,r=n,n=p+g|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,i=i+this.E|0,o=o+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,s,a,i,o,c,u)}roundClean(){Yf(Vl)}destroy(){this.set(0,0,0,0,0,0,0,0),Yf(this.buffer)}};const DP=$9(()=>new YW),QW=DP;function JW(e,t){return QW(xi(e,{strict:!1})?km(e):e)}function XW(e){const{commitment:t,version:n=1}=e,r=e.to,s=JW(t);return s.set([n],0),r==="bytes"?s:Pr(s)}function eG(e){const{commitments:t,version:n}=e,r=e.to,s=[];for(const a of t)s.push(XW({commitment:a,to:r,version:n}));return s}const TS=6,BP=32,Uk=4096,LP=BP*Uk,PS=LP*TS-1-1*Uk*TS;let tG=class extends We{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}},nG=class extends We{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}};function rG(e){const t=typeof e.data=="string"?$a(e.data):e.data,n=ur(t);if(!n)throw new nG;if(n>PS)throw new tG({maxSize:PS,size:n});const r=[];let s=!0,a=0;for(;s;){const i=Ok(new Uint8Array(LP));let o=0;for(;o<Uk;){const c=t.slice(a,a+(BP-1));if(i.pushByte(0),i.pushBytes(c),c.length<31){i.pushByte(128),s=!1;break}o++,a+=31}r.push(i)}return r.map(i=>Pr(i.bytes))}function sG(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??rG({data:t}),a=e.commitments??zP({blobs:s,kzg:n,to:r}),i=e.proofs??FP({blobs:s,commitments:a,kzg:n,to:r}),o=[];for(let c=0;c<s.length;c++)o.push({blob:s[c],commitment:a[c],proof:i[c]});return o}function aG(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new CW({transaction:e})}const UP=["blobVersionedHashes","chainId","fees","gas","nonce","type"],OS=new Map;async function Dx(e,t){const{account:n=e.account,blobs:r,chain:s,gas:a,kzg:i,nonce:o,nonceManager:c,parameters:u=UP,type:h}=t,f=n&&Jr(n),p={...t,...f?{from:f?.address}:{}};let g;async function b(){return g||(g=await zt(e,eo,"getBlock")({blockTag:"latest"}),g)}let y;async function w(){return y||(s?s.id:typeof t.chainId<"u"?t.chainId:(y=await zt(e,zx,"getChainId")({}),y))}if(u.includes("nonce")&&typeof o>"u"&&f)if(c){const v=await w();p.nonce=await c.consume({address:f.address,chainId:v,client:e})}else p.nonce=await zt(e,Lk,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const v=zP({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const N=eG({commitments:v,to:"hex"});p.blobVersionedHashes=N}if(u.includes("sidecars")){const N=FP({blobs:r,commitments:v,kzg:i}),A=sG({blobs:r,commitments:v,proofs:N,to:"hex"});p.sidecars=A}}if(u.includes("chainId")&&(p.chainId=await w()),(u.includes("fees")||u.includes("type"))&&typeof h>"u")try{p.type=aG(p)}catch{let v=OS.get(e.uid);typeof v>"u"&&(v=typeof(await b())?.baseFeePerGas=="bigint",OS.set(e.uid,v)),p.type=v?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const v=await b(),{maxFeePerGas:N,maxPriorityFeePerGas:A}=await j5(e,{block:v,chain:s,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<A)throw new MW({maxPriorityFeePerGas:A});p.maxPriorityFeePerGas=A,p.maxFeePerGas=N}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new zk;if(typeof t.gasPrice>"u"){const v=await b(),{gasPrice:N}=await j5(e,{block:v,chain:s,request:p,type:"legacy"});p.gasPrice=N}}return u.includes("gas")&&typeof a>"u"&&(p.gas=await zt(e,Fx,"estimateGas")({...p,account:f&&{address:f.address,type:"json-rpc"}})),Em(p),delete p.parameters,p}async function $P(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const kN=new Xg(128);async function HP(e,t){const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:a,blobs:i,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:g,type:b,value:y,...w}=t;if(typeof n>"u")throw new Ox({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?Jr(n):null;try{Em(t);const N=await(async()=>{if(t.to)return t.to;if(t.to!==null&&a&&a.length>0)return await nP({authorization:a[0]}).catch(()=>{throw new We("`to` is required. Could not infer from `authorizationList`.")})})();if(v?.type==="json-rpc"||v===null){let A;r!==null&&(A=await zt(e,zx,"getChainId")({}),wW({currentChainId:A,chain:r}));const C=e.chain?.formatters?.transactionRequest?.format,k=(C||ry)({...Mx(w,{format:C}),accessList:s,authorizationList:a,blobs:i,chainId:A,data:o,from:v?.address,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:g,to:N,type:b,value:y}),S=kN.get(e.uid),T=S?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:T,params:[k]},{retryCount:0})}catch(P){if(S===!1)throw P;const I=P;if(I.name==="InvalidInputRpcError"||I.name==="InvalidParamsRpcError"||I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(M=>(kN.set(e.uid,!0),M)).catch(M=>{const W=M;throw W.name==="MethodNotFoundRpcError"||W.name==="MethodNotSupportedRpcError"?(kN.set(e.uid,!1),I):W});throw I}}if(v?.type==="local"){const A=await zt(e,Dx,"prepareTransactionRequest")({account:v,accessList:s,authorizationList:a,blobs:i,chain:r,data:o,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:g,nonceManager:v.nonceManager,parameters:[...UP,"sidecars"],type:b,value:y,...w,to:N}),C=r?.serializers?.transaction,k=await v.signTransaction(A,{serializer:C});return await zt(e,$P,"sendRawTransaction")({serializedTransaction:k})}throw v?.type==="smart"?new NN({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new NN({docsPath:"/docs/actions/wallet/sendTransaction",type:v?.type})}catch(N){throw N instanceof NN?N:IW(N,{...t,account:v,chain:t.chain||void 0})}}const _5=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],I5=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],WP=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],GP=[...WP,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],iG=[...WP,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],RS=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],MS=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],zS=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],hve=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function oG(e,t={}){typeof t.size<"u"&&Ga(e,{size:t.size});const n=Pr(e,t);return Ha(n,t)}function lG(e,t={}){let n=e;if(typeof t.size<"u"&&(Ga(n,{size:t.size}),n=so(n)),n.length>1||n[0]>1)throw new rH(n);return!!n[0]}function ll(e,t={}){typeof t.size<"u"&&Ga(e,{size:t.size});const n=Pr(e,t);return vi(n,t)}function cG(e,t={}){let n=e;return typeof t.size<"u"&&(Ga(n,{size:t.size}),n=so(n,{dir:"right"})),new TextDecoder().decode(n)}function sy(e,t){const n=typeof t=="string"?$a(t):t,r=Ok(n);if(ur(n)===0&&e.length>0)throw new Jg;if(ur(t)&&ur(t)<32)throw new O9({data:typeof t=="string"?t:Pr(t),params:e,size:ur(t)});let s=0;const a=[];for(let i=0;i<e.length;++i){const o=e[i];r.setPosition(s);const[c,u]=Rf(r,o,{staticPosition:0});s+=u,a.push(c)}return a}function Rf(e,t,{staticPosition:n}){const r=Tk(t.type);if(r){const[s,a]=r;return dG(e,{...t,type:a},{length:s,staticPosition:n})}if(t.type==="tuple")return pG(e,t,{staticPosition:n});if(t.type==="address")return uG(e);if(t.type==="bool")return hG(e);if(t.type.startsWith("bytes"))return fG(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return mG(e,t);if(t.type==="string")return gG(e,{staticPosition:n});throw new NH(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const FS=32,T5=32;function uG(e){const t=e.readBytes(32);return[Px(Pr(Y9(t,-20))),32]}function dG(e,t,{length:n,staticPosition:r}){if(!n){const i=ll(e.readBytes(T5)),o=r+i,c=o+FS;e.setPosition(o);const u=ll(e.readBytes(FS)),h=gg(t);let f=0;const p=[];for(let g=0;g<u;++g){e.setPosition(c+(h?g*32:f));const[b,y]=Rf(e,t,{staticPosition:c});f+=y,p.push(b)}return e.setPosition(r+32),[p,32]}if(gg(t)){const i=ll(e.readBytes(T5)),o=r+i,c=[];for(let u=0;u<n;++u){e.setPosition(o+u*32);const[h]=Rf(e,t,{staticPosition:o});c.push(h)}return e.setPosition(r+32),[c,32]}let s=0;const a=[];for(let i=0;i<n;++i){const[o,c]=Rf(e,t,{staticPosition:r+s});s+=c,a.push(o)}return[a,s]}function hG(e){return[lG(e.readBytes(32),{size:32}),32]}function fG(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=ll(e.readBytes(32));e.setPosition(n+a);const i=ll(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const o=e.readBytes(i);return e.setPosition(n+32),[Pr(o),32]}return[Pr(e.readBytes(Number.parseInt(s),32)),32]}function mG(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?oG(s,{signed:n}):ll(s,{signed:n}),32]}function pG(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let a=0;if(gg(t)){const i=ll(e.readBytes(T5)),o=n+i;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(o+a);const[h,f]=Rf(e,u,{staticPosition:o});a+=f,s[r?c:u?.name]=h}return e.setPosition(n+32),[s,32]}for(let i=0;i<t.components.length;++i){const o=t.components[i],[c,u]=Rf(e,o,{staticPosition:n});s[r?i:o?.name]=c,a+=u}return[s,a]}function gG(e,{staticPosition:t}){const n=ll(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ll(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const a=e.readBytes(s,32),i=cG(so(a));return e.setPosition(t+32),[i,32]}function gg(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(gg);const n=Tk(e.type);return!!(n&&gg({...e,type:n[1]}))}const yG=e=>Yr(km(e));function bG(e){return yG(e)}const wG="1.0.8";let ya=class P5 extends Error{constructor(t,n={}){const r=n.cause instanceof P5?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof P5&&n.cause.docsPath||n.docsPath,a=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${wG}`].join(`
`);super(a),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function wl(e,t){return e.exec(t)?.groups}const qP=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,VP=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,KP=/^\(.+?\).*?$/,DS=/^tuple(?<array>(\[(\d*)\])*)$/;function O5(e){let t=e.type;if(DS.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=O5(a),s<n-1&&(t+=", ")}const r=wl(DS,e.type);return t+=`)${r?.array??""}`,O5({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Cp(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=O5(s),r!==n-1&&(t+=", ")}return t}function k1(e){return e.type==="function"?`function ${e.name}(${Cp(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Cp(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Cp(e.inputs)})`:e.type==="error"?`error ${e.name}(${Cp(e.inputs)})`:e.type==="constructor"?`constructor(${Cp(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const ZP=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function xG(e){return ZP.test(e)}function vG(e){return wl(ZP,e)}const YP=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function NG(e){return YP.test(e)}function kG(e){return wl(YP,e)}const QP=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function CG(e){return QP.test(e)}function EG(e){return wl(QP,e)}const JP=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function $k(e){return JP.test(e)}function AG(e){return wl(JP,e)}const XP=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function SG(e){return XP.test(e)}function jG(e){return wl(XP,e)}const eO=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function _G(e){return eO.test(e)}function IG(e){return wl(eO,e)}const TG=/^receive\(\) external payable$/;function PG(e){return TG.test(e)}const OG=new Set(["indexed"]),R5=new Set(["calldata","memory","storage"]);let RG=class extends ya{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},MG=class extends ya{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},zG=class extends ya{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},FG=class extends ya{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},DG=class extends ya{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},BG=class extends ya{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},LG=class extends ya{constructor({param:e,type:t,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},UG=class extends ya{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},Am=class extends ya{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},$G=class extends ya{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},HG=class extends ya{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},WG=class extends ya{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},GG=class extends ya{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function qG(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let a="";for(const i of s[1])a+=`[${i.type}${i.name?`:${i.name}`:""}]`;r+=`(${s[0]}{${a}})`}return t?`${t}:${e}${r}`:e}const CN=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function M5(e,t={}){if(CG(e))return VG(e,t);if(NG(e))return KG(e,t);if(xG(e))return ZG(e,t);if(SG(e))return YG(e,t);if(_G(e))return QG(e);if(PG(e))return{type:"receive",stateMutability:"payable"};throw new $G({signature:e})}function VG(e,t={}){const n=EG(e);if(!n)throw new Am({signature:e,type:"function"});const r=fi(n.parameters),s=[],a=r.length;for(let o=0;o<a;o++)s.push(Pd(r[o],{modifiers:R5,structs:t,type:"function"}));const i=[];if(n.returns){const o=fi(n.returns),c=o.length;for(let u=0;u<c;u++)i.push(Pd(o[u],{modifiers:R5,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:i}}function KG(e,t={}){const n=kG(e);if(!n)throw new Am({signature:e,type:"event"});const r=fi(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Pd(r[i],{modifiers:OG,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function ZG(e,t={}){const n=vG(e);if(!n)throw new Am({signature:e,type:"error"});const r=fi(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Pd(r[i],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function YG(e,t={}){const n=jG(e);if(!n)throw new Am({signature:e,type:"constructor"});const r=fi(n.parameters),s=[],a=r.length;for(let i=0;i<a;i++)s.push(Pd(r[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function QG(e){const t=IG(e);if(!t)throw new Am({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const JG=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,XG=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,eq=/^u?int$/;function Pd(e,t){const n=qG(e,t?.type,t?.structs);if(CN.has(n))return CN.get(n);const r=KP.test(e),s=wl(r?XG:JG,e);if(!s)throw new FG({param:e});if(s.name&&nq(s.name))throw new DG({param:e,name:s.name});const a=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},o=t?.structs??{};let c,u={};if(r){c="tuple";const f=fi(s.type),p=[],g=f.length;for(let b=0;b<g;b++)p.push(Pd(f[b],{structs:o}));u={components:p}}else if(s.type in o)c="tuple",u={components:o[s.type]};else if(eq.test(s.type))c=`${s.type}256`;else if(c=s.type,t?.type!=="struct"&&!tO(c))throw new zG({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new BG({param:e,type:t?.type,modifier:s.modifier});if(R5.has(s.modifier)&&!rq(c,!!s.array))throw new LG({param:e,type:t?.type,modifier:s.modifier})}const h={type:`${c}${s.array??""}`,...a,...i,...u};return CN.set(n,h),h}function fi(e,t=[],n="",r=0){const s=e.trim().length;for(let a=0;a<s;a++){const i=e[a],o=e.slice(a+1);switch(i){case",":return r===0?fi(o,[...t,n.trim()]):fi(o,t,`${n}${i}`,r);case"(":return fi(o,t,`${n}${i}`,r+1);case")":return fi(o,t,`${n}${i}`,r-1);default:return fi(o,t,`${n}${i}`,r)}}if(n==="")return t;if(r!==0)throw new GG({current:n,depth:r});return t.push(n.trim()),t}function tO(e){return e==="address"||e==="bool"||e==="function"||e==="string"||qP.test(e)||VP.test(e)}const tq=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function nq(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||qP.test(e)||VP.test(e)||tq.test(e)}function rq(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function nO(e){const t={},n=e.length;for(let i=0;i<n;i++){const o=e[i];if(!$k(o))continue;const c=AG(o);if(!c)throw new Am({signature:o,type:"struct"});const u=c.properties.split(";"),h=[],f=u.length;for(let p=0;p<f;p++){const g=u[p].trim();if(!g)continue;const b=Pd(g,{type:"struct"});h.push(b)}if(!h.length)throw new HG({signature:o});t[c.name]=h}const r={},s=Object.entries(t),a=s.length;for(let i=0;i<a;i++){const[o,c]=s[i];r[o]=rO(c,t)}return r}const sq=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function rO(e,t,n=new Set){const r=[],s=e.length;for(let a=0;a<s;a++){const i=e[a];if(KP.test(i.type))r.push(i);else{const o=wl(sq,i.type);if(!o?.type)throw new UG({abiParameter:i});const{array:c,type:u}=o;if(u in t){if(n.has(u))throw new WG({type:u});r.push({...i,type:`tuple${c??""}`,components:rO(t[u]??[],t,new Set([...n,u]))})}else if(tO(u))r.push(i);else throw new MG({type:u})}}return r}function sO(e){const t=nO(e),n=[],r=e.length;for(let s=0;s<r;s++){const a=e[s];$k(a)||n.push(M5(a,t))}return n}function aq(e){let t;if(typeof e=="string")t=M5(e);else{const n=nO(e),r=e.length;for(let s=0;s<r;s++){const a=e[s];if(!$k(a)){t=M5(a,n);break}}}if(!t)throw new RG({signature:e});return t}function iq(e){let t=!0,n="",r=0,s="",a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=o,n+=o}}if(!a)throw new We("Unable to normalize signature.");return s}const oq=e=>{const t=typeof e=="string"?e:k1(e);return iq(t)};function aO(e){return bG(oq(e))}const Bx=aO,ay=e=>Qf(aO(e),0,4);function Jd(e){const{abi:t,args:n=[],name:r}=e,s=xi(r,{strict:!1}),a=t.filter(o=>s?o.type==="function"?ay(o)===r:o.type==="event"?Bx(o)===r:!1:"name"in o&&o.name===r);if(a.length===0)return;if(a.length===1)return a[0];let i;for(const o of a)if("inputs"in o){if(!n||n.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!(!o.inputs||o.inputs.length===0||o.inputs.length!==n.length)&&n.every((c,u)=>{const h="inputs"in o&&o.inputs[u];return h?z5(c,h):!1})){if(i&&"inputs"in i&&i.inputs){const c=iO(o.inputs,i.inputs,n);if(c)throw new xH({abiItem:o,type:c[0]},{abiItem:i,type:c[1]})}i=o}}return i||a[0]}function z5(e,t){const n=typeof e,r=t.type;switch(r){case"address":return pa(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>z5(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>z5(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function iO(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return iO(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")||(i.includes("address")&&i.includes("string")?pa(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")&&pa(n[r],{strict:!1})))return i}}const EN="/docs/contract/decodeFunctionResult";function Xd(e){const{abi:t,args:n,functionName:r,data:s}=e;let a=t[0];if(r){const o=Jd({abi:t,args:n,name:r});if(!o)throw new Kf(r,{docsPath:EN});a=o}if(a.type!=="function")throw new Kf(void 0,{docsPath:EN});if(!a.outputs)throw new F9(a.name,{docsPath:EN});const i=sy(a.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const BS="/docs/contract/encodeFunctionData";function lq(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const a=Jd({abi:t,args:n,name:r});if(!a)throw new Kf(r,{docsPath:BS});s=a}if(s.type!=="function")throw new Kf(void 0,{docsPath:BS});return{abi:[s],functionName:ay(Ni(s))}}function ji(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:lq(e),s=n[0],a=r,i="inputs"in s&&s.inputs?bl(s.inputs,t??[]):void 0;return Qc([a,i??"0x"])}function Sm({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new n5({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new n5({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const oO={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},lO={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},cq={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function cO(e){const{abi:t,data:n}=e,r=Qf(n,0,4);if(r==="0x")throw new Jg;const s=[...t||[],lO,cq].find(a=>a.type==="error"&&r===ay(Ni(a)));if(!s)throw new M9(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?sy(s.inputs,Qf(n,4)):void 0,errorName:s.name}}function uO({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?Cr(t[a]):t[a]}`).join(", ")})`}let dO=class extends We{constructor(e,{account:t,docsPath:n,chain:r,data:s,gas:a,gasPrice:i,maxFeePerGas:o,maxPriorityFeePerGas:c,nonce:u,to:h,value:f,stateOverride:p}){const g=t?Jr(t):void 0;let b=ty({from:g?.address,to:h,value:typeof f<"u"&&`${Rk(f)} ${r?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:a,gasPrice:typeof i<"u"&&`${Gs(i)} gwei`,maxFeePerGas:typeof o<"u"&&`${Gs(o)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${Gs(c)} gwei`,nonce:u});p&&(b+=`
${HW(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},hO=class extends We{constructor(e,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:a,sender:i}){const o=Jd({abi:t,args:n,name:a}),c=o?uO({abiItem:o,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=o?Ni(o,{includeName:!0}):void 0,h=ty({address:r&&SW(r),function:u,args:c&&c!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:i});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=n,this.cause=e,this.contractAddress=r,this.functionName=a,this.sender=i}},F5=class extends We{constructor({abi:e,data:t,functionName:n,message:r}){let s,a,i,o;if(t&&t!=="0x")try{a=cO({abi:e,data:t});const{abiItem:u,errorName:h,args:f}=a;if(h==="Error")o=f[0];else if(h==="Panic"){const[p]=f;o=oO[p]}else{const p=u?Ni(u,{includeName:!0}):void 0,g=u&&f?uO({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;i=[p?`Error: ${p}`:"",g&&g!=="()"?`       ${[...Array(h?.length??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(u){s=u}else r&&(o=r);let c;s instanceof M9&&(c=s.signature,i=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(o&&o!=="execution reverted"||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,o||c].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=t,this.reason=o,this.signature=c}},uq=class extends We{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},dq=class extends We{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},Lx=class extends We{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}};function Hk(e,t){if(!(e instanceof We))return!1;const n=e.walk(r=>r instanceof F5);return n instanceof F5?!!(n.data?.errorName==="ResolverNotFound"||n.data?.errorName==="ResolverWildcardNotSupported"||n.data?.errorName==="ResolverNotContract"||n.data?.errorName==="ResolverError"||n.data?.errorName==="HttpError"||n.reason?.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===oO[50]):!1}function hq(e){const{abi:t,data:n}=e,r=Qf(n,0,4),s=t.find(a=>a.type==="function"&&r===ay(Ni(a)));if(!s)throw new wH(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?sy(s.inputs,Qf(n,4)):void 0}}const AN="/docs/contract/encodeErrorResult";function LS(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Jd({abi:t,args:r,name:n});if(!c)throw new bS(n,{docsPath:AN});s=c}if(s.type!=="error")throw new bS(void 0,{docsPath:AN});const a=Ni(s),i=ay(a);let o="0x";if(r&&r.length>0){if(!s.inputs)throw new yH(s.name,{docsPath:AN});o=bl(s.inputs,r)}return Qc([i,o])}const SN="/docs/contract/encodeFunctionResult";function fq(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const i=Jd({abi:t,name:n});if(!i)throw new Kf(n,{docsPath:SN});s=i}if(s.type!=="function")throw new Kf(void 0,{docsPath:SN});if(!s.outputs)throw new F9(s.name,{docsPath:SN});const a=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new B9(r)})();return bl(s.outputs,a)}const Ux="x-batch-gateway:true";async function fO(e){const{data:t,ccipRequest:n}=e,{args:[r]}=hq({abi:I5,data:t}),s=[],a=[];return await Promise.all(r.map(async(i,o)=>{try{a[o]=i.urls.includes(Ux)?await fO({data:i.data,ccipRequest:n}):await n(i),s[o]=!1}catch(c){s[o]=!0,a[o]=mq(c)}})),fq({abi:I5,functionName:"query",result:[s,a]})}function mq(e){return e.name==="HttpRequestError"&&e.status?LS({abi:I5,errorName:"HttpError",args:[e.status,e.shortMessage]}):LS({abi:[lO],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function mO(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return xi(t)?t:null}function Sw(e){let t=new Uint8Array(32).fill(0);if(!e)return Pr(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=mO(n[r]),a=s?km(s):Yr(Nd(n[r]),"bytes");t=Yr(ki([t,a]),"bytes")}return Pr(t)}function pq(e){return`[${e.slice(2)}]`}function gq(e){const t=new Uint8Array(32).fill(0);return e?mO(e)||Yr(Nd(e)):Pr(t)}function $x(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Nd(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let i=Nd(s[a]);i.byteLength>255&&(i=Nd(pq(gq(s[a])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const yq=3;function Od(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:i}){const o=e instanceof Lx?e:e instanceof We?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:h,message:f,shortMessage:p}=o,g=e instanceof Jg?new uq({functionName:a}):[yq,mg.code].includes(c)&&(u||h||f||p)?new F5({abi:t,data:typeof u=="object"?u.data:u,functionName:a,message:o instanceof Mk?h:p??f}):e;return new hO(g,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:i})}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bq(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function US(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function C1(e,...t){if(!bq(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $S(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function wq(e,t){C1(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function xq(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function pO(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const vq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Nq(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function kq(e){for(let t=0;t<e.length;t++)e[t]=Nq(e[t]);return e}const HS=vq?e=>e:kq;function Cq(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function gO(e){return typeof e=="string"&&(e=Cq(e)),C1(e),e}let Eq=class{};function Aq(e){const t=r=>e().update(gO(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const Sq="0.1.1";function jq(){return Sq}let xr=class D5 extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof D5){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=n.cause instanceof D5&&n.cause.docsPath||n.docsPath,a=`https://oxlib.sh${s??""}`,i=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(o=>typeof o=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${jq()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=t}walk(t){return yO(this,t)}};function yO(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?yO(e.cause,t):t?null:e}const _q="#__bigint";function Iq(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+_q:s,n)}function Tq(e,t){if(GS(e)>t)throw new Uq({givenSize:GS(e),maxSize:t})}const To={zero:48,nine:57,A:65,F:70,a:97,f:102};function WS(e){if(e>=To.zero&&e<=To.nine)return e-To.zero;if(e>=To.A&&e<=To.F)return e-(To.A-10);if(e>=To.a&&e<=To.f)return e-(To.a-10)}function Pq(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new $q({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let a=0;a<r;a++){const i=n==="right";s[i?a:r-a-1]=e[i?a:e.length-a-1]}return s}function Wk(e,t){if(Wa(e)>t)throw new Vq({givenSize:Wa(e),maxSize:t})}function Oq(e,t){if(typeof t=="number"&&t>0&&t>Wa(e)-1)throw new NO({offset:t,position:"start",size:Wa(e)})}function Rq(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Wa(e)!==n-t)throw new NO({offset:n,position:"end",size:Wa(e)})}function bO(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Kq({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Mq=new TextEncoder;function zq(e){return e instanceof Uint8Array?e:typeof e=="string"?Dq(e):Fq(e)}function Fq(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Dq(e,t={}){const{size:n}=t;let r=e;n&&(Wk(e,n),r=Md(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const a=s.length/2,i=new Uint8Array(a);for(let o=0,c=0;o<a;o++){const u=WS(s.charCodeAt(c++)),h=WS(s.charCodeAt(c++));if(u===void 0||h===void 0)throw new xr(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[o]=u*16+h}return i}function Bq(e,t={}){const{size:n}=t,r=Mq.encode(e);return typeof n=="number"?(Tq(r,n),Lq(r,n)):r}function Lq(e,t){return Pq(e,{dir:"right",size:t})}function GS(e){return e.length}let Uq=class extends xr{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},$q=class extends xr{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Hq=new TextEncoder,Wq=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gq(e,t={}){const{strict:n=!1}=t;if(!e)throw new qS(e);if(typeof e!="string")throw new qS(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new VS(e);if(!e.startsWith("0x"))throw new VS(e)}function uo(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function wO(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Wk(n,t.size),Rd(n,t.size)):n}function xO(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Wq[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Wk(r,t.size),Md(r,t.size)):r}function bs(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<i){const c=typeof e=="bigint"?"n":"";throw new vO({max:a?`${a}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Rd(o,r):o}function Gk(e,t={}){return xO(Hq.encode(e),t)}function Rd(e,t){return bO(e,{dir:"left",size:t})}function Md(e,t){return bO(e,{dir:"right",size:t})}function qk(e,t,n,r={}){const{strict:s}=r;Oq(e,t);const a=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Rq(a,t,n),a}function Wa(e){return Math.ceil((e.length-2)/2)}function qq(e,t={}){const{strict:n=!1}=t;try{return Gq(e,{strict:n}),!0}catch{return!1}}let vO=class extends xr{constructor({max:e,min:t,signed:n,size:r,value:s}){super(`Number \`${s}\` is not in safe${r?` ${r*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},qS=class extends xr{constructor(e){super(`Value \`${typeof e=="object"?Iq(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},VS=class extends xr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Vq=class extends xr{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},NO=class extends xr{constructor({offset:e,position:t,size:n}){super(`Slice ${t==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},Kq=class extends xr{constructor({size:e,targetSize:t,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Zq(e){return{address:e.address,amount:bs(e.amount),index:bs(e.index),validatorIndex:bs(e.validatorIndex)}}function kO(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:bs(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:bs(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:bs(e.gasLimit)},...typeof e.number=="bigint"&&{number:bs(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:bs(e.prevRandao)},...typeof e.time=="bigint"&&{time:bs(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Zq)}}}const Yq="0x82ad56cb",CO="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Qq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Jq="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function EO(e,{docsPath:t,...n}){const r=(()=>{const s=Rx(e,n);return s instanceof ey?e:s})();return new dO(r,{docsPath:t,...n})}function Vk(){let e=()=>{},t=()=>{};return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}const jN=new Map;function AO({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const h=c();i();const f=h.map(({args:p})=>p);f.length!==0&&e(f).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let g=0;g<h.length;g++){const{resolve:b}=h[g];b?.([p[g],p])}}).catch(p=>{for(let g=0;g<h.length;g++){const{reject:b}=h[g];b?.(p)}})},i=()=>jN.delete(t),o=()=>c().map(({args:h})=>h),c=()=>jN.get(t)||[],u=h=>jN.set(t,[...c(),h]);return{flush:i,async schedule(h){const{promise:f,resolve:p,reject:g}=Vk();return n?.([...o(),h])&&a(),c().length>0?(u({args:h,resolve:p,reject:g}),f):(u({args:h,resolve:p,reject:g}),setTimeout(a,r),f)}}}async function jm(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:a,blockTag:i=e.experimental_blockTag??"latest",accessList:o,blobs:c,blockOverrides:u,code:h,data:f,factory:p,factoryData:g,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:v,maxPriorityFeePerGas:N,nonce:A,to:C,value:k,stateOverride:S,...T}=t,P=n?Jr(n):void 0;if(h&&(p||g))throw new We("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&C)throw new We("Cannot provide both `code` & `to` as parameters.");const I=h&&f,M=p&&g&&C&&f,W=I||M,z=I?tV({code:h,data:f}):M?nV({data:f,factory:p,factoryData:g,to:C}):f;try{Em(t);const B=(typeof a=="bigint"?St(a):void 0)||i,O=u?kO(u):void 0,F=Dk(S),G=e.chain?.formatters?.transactionRequest?.format,K=(G||ry)({...Mx(T,{format:G}),from:P?.address,accessList:o,authorizationList:r,blobs:c,data:z,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:v,maxPriorityFeePerGas:N,nonce:A,to:W?void 0:C,value:k});if(s&&Xq({request:K})&&!F&&!O)try{return await eV(e,{...K,blockNumber:a,blockTag:i})}catch(ee){if(!(ee instanceof rP)&&!(ee instanceof n5))throw ee}const $=(()=>{const ee=[K,B];return F&&O?[...ee,F,O]:F?[...ee,F]:O?[...ee,{},O]:ee})(),Z=await e.request({method:"eth_call",params:$});return Z==="0x"?{data:void 0}:{data:Z}}catch(B){const O=rV(B),{offchainLookup:F,offchainLookupSignature:G}=await ol(async()=>{const{offchainLookup:K,offchainLookupSignature:$}=await Promise.resolve().then(()=>LK);return{offchainLookup:K,offchainLookupSignature:$}},void 0);if(e.ccipRead!==!1&&O?.slice(0,10)===G&&C)return{data:await F(e,{data:O,to:C})};throw W&&O?.slice(0,10)==="0x101bb98d"?new dq({factory:p}):EO(B,{...t,account:P,chain:e.chain})}}function Xq({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Yq)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function eV(e,t){const{batchSize:n=1024,wait:r=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a=e.experimental_blockTag??"latest",data:i,multicallAddress:o,to:c}=t;let u=o;if(!u){if(!e.chain)throw new rP;u=Sm({blockNumber:s,chain:e.chain,contract:"multicall3"})}const h=(typeof s=="bigint"?St(s):void 0)||a,{schedule:f}=AO({id:`${e.uid}.${h}`,wait:r,shouldSplitBatch(b){return b.reduce((y,{data:w})=>y+(w.length-2),0)>n*2},fn:async b=>{const y=b.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),w=ji({abi:_5,args:[y],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:w,to:u},h]});return Xd({abi:_5,args:[y],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:g}]=await f({data:i,to:c});if(!g)throw new Lx({data:p});return p==="0x"?{data:void 0}:{data:p}}function tV(e){const{code:t,data:n}=e;return Pk({abi:sO(["constructor(bytes, bytes)"]),bytecode:CO,args:[t,n]})}function nV(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Pk({abi:sO(["constructor(address, bytes, address, bytes)"]),bytecode:Qq,args:[s,t,n,r]})}function rV(e){if(!(e instanceof We))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function ho(e,t){const{abi:n,address:r,args:s,functionName:a,...i}=t,o=ji({abi:n,args:s,functionName:a});try{const{data:c}=await zt(e,jm,"call")({...i,data:o,to:r});return Xd({abi:n,args:s,functionName:a,data:c||"0x"})}catch(c){throw Od(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:a})}}async function sV(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:a,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Sm({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),h=c?.ensTlds;if(h&&!h.some(f=>a.endsWith(f)))return null;try{const f=ji({abi:MS,functionName:"addr",...s!=null?{args:[Sw(a),BigInt(s)]}:{args:[Sw(a)]}}),p={address:u,abi:GP,functionName:"resolve",args:[co($x(a)),f,i??[Ux]],blockNumber:n,blockTag:r},g=await zt(e,ho,"readContract")(p);if(g[0]==="0x")return null;const b=Xd({abi:MS,args:s!=null?[Sw(a),BigInt(s)]:void 0,functionName:"addr",data:g[0]});return b==="0x"||so(b)==="0x00"?null:b}catch(f){if(o)throw f;if(Hk(f,"resolve"))return null;throw f}}let aV=class extends We{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}},Ep=class extends We{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}},Kk=class extends We{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},iV=class extends We{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}};const oV=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,lV=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,cV=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,uV=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function dV(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function KS(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function SO({uri:e,gatewayUrls:t}){const n=cV.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=KS(t?.ipfs,"https://ipfs.io"),s=KS(t?.arweave,"https://arweave.net"),a=e.match(oV),{protocol:i,subpath:o,target:c,subtarget:u=""}=a?.groups||{},h=i==="ipns:/"||o==="ipns/",f=i==="ipfs:/"||o==="ipfs/"||lV.test(e);if(e.startsWith("http")&&!h&&!f){let g=e;return t?.arweave&&(g=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((h||f)&&c)return{uri:`${r}/${h?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(uV,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Kk({uri:e})}function jO(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new aV({data:e});return e.image||e.image_url||e.image_data}async function hV({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(r=>r.json());return await Zk({gatewayUrls:e,uri:jO(n)})}catch{throw new Kk({uri:t})}}async function Zk({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=SO({uri:t,gatewayUrls:e});if(r||await dV(n))return n;throw new Kk({uri:t})}function fV(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,i]=n.split(":"),[o,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Ep({reason:"Only EIP-155 supported"});if(!i)throw new Ep({reason:"Chain ID not found"});if(!c)throw new Ep({reason:"Contract address not found"});if(!s)throw new Ep({reason:"Token ID not found"});if(!o)throw new Ep({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i),namespace:o.toLowerCase(),contractAddress:c,tokenID:s}}async function mV(e,{nft:t}){if(t.namespace==="erc721")return ho(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ho(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new iV({namespace:t.namespace})}async function pV(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?gV(e,{gatewayUrls:t,record:n}):Zk({uri:n,gatewayUrls:t})}async function gV(e,{gatewayUrls:t,record:n}){const r=fV(n),s=await mV(e,{nft:r}),{uri:a,isOnChain:i,isEncoded:o}=SO({uri:s,gatewayUrls:t});if(i&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const u=o?atob(a.replace("data:application/json;base64,","")):a,h=JSON.parse(u);return Zk({uri:jO(h),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),hV({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function _O(e,t){const{blockNumber:n,blockTag:r,key:s,name:a,gatewayUrls:i,strict:o}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Sm({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),h=c?.ensTlds;if(h&&!h.some(f=>a.endsWith(f)))return null;try{const f={address:u,abi:GP,functionName:"resolve",args:[co($x(a)),ji({abi:RS,functionName:"text",args:[Sw(a),s]}),i??[Ux]],blockNumber:n,blockTag:r},p=await zt(e,ho,"readContract")(f);if(p[0]==="0x")return null;const g=Xd({abi:RS,functionName:"text",data:p[0]});return g===""?null:g}catch(f){if(o)throw f;if(Hk(f,"resolve"))return null;throw f}}async function yV(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:a,strict:i,universalResolverAddress:o}){const c=await zt(e,_O,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:o,gatewayUrls:a,strict:i});if(!c)return null;try{return await pV(e,{record:c,gatewayUrls:r})}catch{return null}}async function bV(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:a,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Sm({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:o,abi:iG,functionName:"reverse",args:[co($x(c))],blockNumber:n,blockTag:r},h=zt(e,ho,"readContract"),[f,p]=s?await h({...u,args:[...u.args,s]}):await h(u);return t.toLowerCase()!==p.toLowerCase()?null:f}catch(u){if(a)throw u;if(Hk(u,"reverse"))return null;throw u}}async function wV(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:a}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!a)throw new Error("client chain not configured. universalResolverAddress is required.");return Sm({blockNumber:n,chain:a,contract:"ensUniversalResolver"})})(),o=a?.ensTlds;if(o&&!o.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${o?.join(", ")}) for chain "${a.name}" (id: ${a.id}).`);const[c]=await zt(e,ho,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[co($x(s))],blockNumber:n,blockTag:r});return c}async function IO(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,to:p,value:g,...b}=t,y=n?Jr(n):void 0;try{Em(t);const w=(typeof r=="bigint"?St(r):void 0)||s,v=e.chain?.formatters?.transactionRequest?.format,N=(v||ry)({...Mx(b,{format:v}),from:y?.address,blobs:a,data:i,gas:o,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,to:p,value:g}),A=await e.request({method:"eth_createAccessList",params:[N,w]});return{accessList:A.accessList,gasUsed:BigInt(A.gasUsed)}}catch(w){throw EO(w,{...t,account:y,chain:e.chain})}}function Hx(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:a,transport:i})=>{a==="success"&&t===r&&(n[s]=i.request)}),r=>n[r]||e.request}async function xV(e){const t=Hx(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}let vV=class extends We{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}};const ZS="/docs/contract/encodeEventTopics";function iy(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=Jd({abi:t,name:n});if(!c)throw new wS(n,{docsPath:ZS});s=c}if(s.type!=="event")throw new wS(void 0,{docsPath:ZS});const a=Ni(s),i=Bx(a);let o=[];if(r&&"inputs"in s){const c=s.inputs?.filter(h=>"indexed"in h&&h.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(h=>r[h.name])??[]:[];u.length>0&&(o=c?.map((h,f)=>Array.isArray(u[f])?u[f].map((p,g)=>YS({param:h,value:u[f][g]})):typeof u[f]<"u"&&u[f]!==null?YS({param:h,value:u[f]}):null)??[])}return[i,...o]}function YS({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Yr(km(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new vV(e.type);return bl([e],[t])}async function TO(e,t){const{address:n,abi:r,args:s,eventName:a,fromBlock:i,strict:o,toBlock:c}=t,u=Hx(e,{method:"eth_newFilter"}),h=a?iy({abi:r,args:s,eventName:a}):void 0,f=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof i=="bigint"?St(i):i,toBlock:typeof c=="bigint"?St(c):c,topics:h}]});return{abi:r,args:s,eventName:a,id:f,request:u(f),strict:!!o,type:"event"}}async function PO(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:i,toBlock:o}={}){const c=s??(r?[r]:void 0),u=Hx(e,{method:"eth_newFilter"});let h=[];c&&(h=[c.flatMap(p=>iy({abi:[p],eventName:p.name,args:n}))],r&&(h=h[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?St(a):a,toBlock:typeof o=="bigint"?St(o):o,...h.length?{topics:h}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:u(f),strict:!!i,toBlock:o,type:"event"}}async function OO(e){const t=Hx(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function NV(e,t){const{abi:n,address:r,args:s,functionName:a,dataSuffix:i,...o}=t,c=ji({abi:n,args:s,functionName:a});try{return await zt(e,Fx,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:r,...o})}catch(u){const h=o.account?Jr(o.account):void 0;throw Od(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:a,sender:h?.address})}}async function kV(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const CV=new Map,EV=new Map;function AV(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:i=>a.set(s,i)}),n=t(e,CV),r=t(e,EV);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function SV(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=AV(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const i=await a;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const jV=e=>`blockNumber.${e}`;async function oy(e,{cacheTime:t=e.cacheTime}={}){const n=await SV(()=>e.request({method:"eth_blockNumber"}),{cacheKey:jV(e.uid),cacheTime:t});return BigInt(n)}async function _V(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?St(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),vi(a)}async function QS(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?St(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(a!=="0x")return a}function ly(e,t){if(!pa(e,{strict:!1}))throw new dl({address:e});if(!pa(t,{strict:!1}))throw new dl({address:t});return e.toLowerCase()===t.toLowerCase()}const JS="/docs/contract/decodeEventLog";function Yk(e){const{abi:t,data:n,strict:r,topics:s}=e,a=r??!0,[i,...o]=s;if(!i)throw new bH({docsPath:JS});const c=t.find(y=>y.type==="event"&&i===Bx(Ni(y)));if(!(c&&"name"in c)||c.type!=="event")throw new z9(i,{docsPath:JS});const{name:u,inputs:h}=c,f=h?.some(y=>!("name"in y&&y.name)),p=f?[]:{},g=h.map((y,w)=>[y,w]).filter(([y])=>"indexed"in y&&y.indexed);for(let y=0;y<g.length;y++){const[w,v]=g[y],N=o[y];if(!N)throw new Ix({abiItem:c,param:w});p[f?v:w.name||v]=IV({param:w,value:N})}const b=h.filter(y=>!("indexed"in y&&y.indexed));if(b.length>0){if(n&&n!=="0x")try{const y=sy(b,n);if(y)if(f)for(let w=0;w<h.length;w++)p[w]=p[w]??y.shift();else for(let w=0;w<b.length;w++)p[b[w].name]=y[w]}catch(y){if(a)throw y instanceof O9||y instanceof X9?new dg({abiItem:c,data:n,params:b,size:ur(n)}):y}else if(a)throw new dg({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function IV({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(sy([e],t)||[])[0]}function Qk(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,a=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(i=>{try{const o=t.find(u=>u.type==="event"&&i.topics[0]===Bx(u));if(!o)return null;const c=Yk({...i,abi:[o],strict:s});return a&&!a.includes(c.eventName)||!TV({args:c.args,inputs:o.inputs,matchArgs:n})?null:{...c,...i}}catch(o){let c,u;if(o instanceof z9)return null;if(o instanceof dg||o instanceof Ix){if(s)return null;c=o.abiItem.name,u=o.abiItem.inputs?.some(h=>!("name"in h&&h.name))}return{...i,args:u?[]:{},eventName:c}}}).filter(Boolean)}function TV(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(a,i,o){try{return a.type==="address"?ly(i,o):a.type==="string"||a.type==="bytes"?Yr(km(i))===o:i===o}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((a,i)=>{if(a==null)return!0;const o=n[i];return o?(Array.isArray(a)?a:[a]).some(c=>s(o,c,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([a,i])=>{if(i==null)return!0;const o=n.find(c=>c.name===a);return o?(Array.isArray(i)?i:[i]).some(c=>s(o,c,t[a])):!1}):!1}function hl(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Jk(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:i,args:o,strict:c}={}){const u=c??!1,h=i??(a?[a]:void 0);let f=[];h&&(f=[h.flatMap(b=>iy({abi:[b],eventName:b.name,args:i?void 0:o}))],a&&(f=f[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?St(r):r,toBlock:typeof s=="bigint"?St(s):s}]});const g=p.map(b=>hl(b));return h?Qk({abi:h,args:o,logs:g,strict:u}):g}async function RO(e,t){const{abi:n,address:r,args:s,blockHash:a,eventName:i,fromBlock:o,toBlock:c,strict:u}=t,h=i?Jd({abi:n,name:i}):void 0,f=h?void 0:n.filter(p=>p.type==="event");return zt(e,Jk,"getLogs")({address:r,args:s,blockHash:a,event:h,events:f,fromBlock:o,toBlock:c,strict:u})}let PV=class extends We{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}};async function OV(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[a,i,o,c,u,h,f]=await zt(e,ho,"readContract")({abi:RV,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:o,chainId:Number(c),verifyingContract:u,salt:h},extensions:f,fields:a}}catch(a){const i=a;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new PV({address:n}):i}}const RV=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function MV(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function zV(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=typeof n=="bigint"?St(n):void 0,i=await e.request({method:"eth_feeHistory",params:[St(t),a||r,s]},{dedupe:!!a});return MV(i)}async function Wx(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(a=>hl(a));return!("abi"in t)||!t.abi?s:Qk({abi:t.abi,logs:s,strict:n})}async function FV(e,{filter:t}){const n=t.strict??!1,r=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>hl(s));return t.abi?Qk({abi:t.abi,logs:r,strict:n}):r}async function DV(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?St(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Gx(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){const i=r||"latest",o=n!==void 0?St(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,St(a)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||i,St(a)]},{dedupe:!!o}),!c)throw new sP({blockHash:t,blockNumber:n,blockTag:i,hash:s,index:a});return(e.chain?.formatters?.transaction?.format||OP)(c)}async function BV(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([zt(e,oy,"getBlockNumber")({}),t?zt(e,Gx,"getTransaction")({hash:t}):void 0]),a=n?.blockNumber||s?.blockNumber;return a?r-a+1n:0n}const MO={"0x0":"reverted","0x1":"success"};function LV(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>hl(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?vi(e.transactionIndex):null,status:e.status?MO[e.status]:null,type:e.type?PP[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}async function jw(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new aP({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||LV)(n)}async function zO(e,t){const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:a,blockTag:i,multicallAddress:o,stateOverride:c}=t,u=t.contracts,h=s??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024);let f=o;if(!f){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");f=Sm({blockNumber:a,chain:e.chain,contract:"multicall3"})}const p=[[]];let g=0,b=0;for(let v=0;v<u.length;v++){const{abi:N,address:A,args:C,functionName:k}=u[v];try{const S=ji({abi:N,args:C,functionName:k});b+=(S.length-2)/2,h>0&&b>h&&p[g].length>0&&(g++,b=(S.length-2)/2,p[g]=[]),p[g]=[...p[g],{allowFailure:!0,callData:S,target:A}]}catch(S){const T=Od(S,{abi:N,address:A,args:C,docsPath:"/docs/contract/multicall",functionName:k,sender:n});if(!r)throw T;p[g]=[...p[g],{allowFailure:!0,callData:"0x",target:A}]}}const y=await Promise.allSettled(p.map(v=>zt(e,ho,"readContract")({abi:_5,account:n,address:f,args:[v],blockNumber:a,blockTag:i,functionName:"aggregate3",stateOverride:c}))),w=[];for(let v=0;v<y.length;v++){const N=y[v];if(N.status==="rejected"){if(!r)throw N.reason;for(let C=0;C<p[v].length;C++)w.push({status:"failure",error:N.reason,result:void 0});continue}const A=N.value;for(let C=0;C<A.length;C++){const{returnData:k,success:S}=A[C],{callData:T}=p[v][C],{abi:P,address:I,functionName:M,args:W}=u[w.length];try{if(T==="0x")throw new Jg;if(!S)throw new Lx({data:k});const z=Xd({abi:P,args:W,data:k,functionName:M});w.push(r?{result:z,status:"success"}:z)}catch(z){const B=Od(z,{abi:P,address:I,args:W,docsPath:"/docs/contract/multicall",functionName:M});if(!r)throw B;w.push({error:B,result:void 0,status:"failure"})}}}if(w.length!==u.length)throw new We("multicall results mismatch");return w}async function B5(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:a,traceTransfers:i,validation:o}=t;try{const c=[];for(const h of s){const f=h.blockOverrides?kO(h.blockOverrides):void 0,p=h.calls.map(b=>{const y=b,w=y.account?Jr(y.account):void 0,v=y.abi?ji(y):y.data,N={...y,data:y.dataSuffix?ki([v||"0x",y.dataSuffix]):v,from:y.from??w?.address};return Em(N),ry(N)}),g=h.stateOverrides?Dk(h.stateOverrides):void 0;c.push({blockOverrides:f,calls:p,stateOverrides:g})}const u=(typeof n=="bigint"?St(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:a,traceTransfers:i,validation:o},u]})).map((h,f)=>({...RP(h),calls:h.calls.map((p,g)=>{const{abi:b,args:y,functionName:w,to:v}=s[f].calls[g],N=p.error?.data??p.returnData,A=BigInt(p.gasUsed),C=p.logs?.map(P=>hl(P)),k=p.status==="0x1"?"success":"failure",S=b&&k==="success"&&N!=="0x"?Xd({abi:b,data:N,functionName:w}):null,T=(()=>{if(k==="success")return;let P;if(p.error?.data==="0x"?P=new Jg:p.error&&(P=new Lx(p.error)),!!P)return Od(P,{abi:b??[],address:v??"0x",args:y,functionName:w??"<unknown>"})})();return{data:N,gasUsed:A,logs:C,status:k,...k==="success"?{result:S}:{error:T}}})}))}catch(c){const u=c,h=Rx(u,{});throw h instanceof ey?u:h}}const Bb=BigInt(2**32-1),XS=BigInt(32);function UV(e,t=!1){return t?{h:Number(e&Bb),l:Number(e>>XS&Bb)}:{h:Number(e>>XS&Bb)|0,l:Number(e&Bb)|0}}function $V(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let a=0;a<n;a++){const{h:i,l:o}=UV(e[a],t);[r[a],s[a]]=[i,o]}return[r,s]}const HV=(e,t,n)=>e<<n|t>>>32-n,WV=(e,t,n)=>t<<n|e>>>32-n,GV=(e,t,n)=>t<<n-32|e>>>64-n,qV=(e,t,n)=>e<<n-32|t>>>64-n,VV=BigInt(0),Ap=BigInt(1),KV=BigInt(2),ZV=BigInt(7),YV=BigInt(256),QV=BigInt(113),FO=[],DO=[],BO=[];for(let e=0,t=Ap,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],FO.push(2*(5*r+n)),DO.push((e+1)*(e+2)/2%64);let s=VV;for(let a=0;a<7;a++)t=(t<<Ap^(t>>ZV)*QV)%YV,t&KV&&(s^=Ap<<(Ap<<BigInt(a))-Ap);BO.push(s)}const LO=$V(BO,!0),JV=LO[0],XV=LO[1],ej=(e,t,n)=>n>32?GV(e,t,n):HV(e,t,n),tj=(e,t,n)=>n>32?qV(e,t,n):WV(e,t,n);function eK(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],h=n[c+1],f=ej(u,h,1)^n[o],p=tj(u,h,1)^n[o+1];for(let g=0;g<50;g+=10)e[i+g]^=f,e[i+g+1]^=p}let s=e[2],a=e[3];for(let i=0;i<24;i++){const o=DO[i],c=ej(s,a,o),u=tj(s,a,o),h=FO[i];s=e[h],a=e[h+1],e[h]=c,e[h+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=e[i+o];for(let o=0;o<10;o++)e[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=JV[r],e[1]^=XV[r]}pO(n)}let tK=class UO extends Eq{constructor(t,n,r,s=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,US(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=xq(this.state)}clone(){return this._cloneInto()}keccak(){HS(this.state32),eK(this.state32,this.rounds),HS(this.state32),this.posOut=0,this.pos=0}update(t){$S(this),t=gO(t),C1(t);const{blockLen:n,state:r}=this,s=t.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){$S(this,!1),C1(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return US(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(wq(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,pO(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return t||(t=new UO(n,r,s,i,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const nK=(e,t,n)=>Aq(()=>new tK(t,e,n)),rK=nK(1,136,256/8);function $O(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=rK(zq(e));return n==="Bytes"?r:xO(r)}let sK=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const aK={checksum:new sK(8192)},_N=aK.checksum,iK=/^0x[a-fA-F0-9]{40}$/;function qx(e,t={}){const{strict:n=!0}=t;if(!iK.test(e))throw new nj({address:e,cause:new lK});if(n){if(e.toLowerCase()===e)return;if(oK(e)!==e)throw new nj({address:e,cause:new cK})}}function oK(e){if(_N.has(e))return _N.get(e);qx(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=$O(Bq(t),{as:"Bytes"}),r=t.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&r[a]&&(r[a]=r[a].toUpperCase()),(n[a>>1]&15)>=8&&r[a+1]&&(r[a+1]=r[a+1].toUpperCase());const s=`0x${r.join("")}`;return _N.set(e,s),s}function L5(e,t={}){const{strict:n=!0}=t??{};try{return qx(e,{strict:n}),!0}catch{return!1}}let nj=class extends xr{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},lK=class extends xr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},cK=class extends xr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};function U5(e){let t=!0,n="",r=0,s="",a=!1;for(let i=0;i<e.length;i++){const o=e[i];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function","error",""].includes(s))s="";else if(s+=o,o===")"){a=!0;break}continue}if(o===" "){e[i-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=o,n+=o}}if(!a)throw new xr("Unable to normalize signature.");return s}function $5(e,t){const n=typeof e,r=t.type;switch(r){case"address":return L5(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>$5(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>$5(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function HO(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return HO(s.components,a.components,n[r]);const i=[s.type,a.type];if(i.includes("address")&&i.includes("bytes20")||(i.includes("address")&&i.includes("string")?L5(n[r],{strict:!1}):i.includes("address")&&i.includes("bytes")&&L5(n[r],{strict:!1})))return i}}function WO(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?aq(e):e;return{...r,...n?{hash:kf(r)}:{}}}function uK(e,t,n){const{args:r=[],prepare:s=!0}=n??{},a=qq(t,{strict:!1}),i=e.filter(u=>a?u.type==="function"||u.type==="error"?GO(u)===qk(t,0,4):u.type==="event"?kf(u)===t:!1:"name"in u&&u.name===t);if(i.length===0)throw new H5({name:t});if(i.length===1)return{...i[0],...s?{hash:kf(i[0])}:{}};let o;for(const u of i)if("inputs"in u){if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:kf(u)}:{}};continue}if(!(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)&&r.every((h,f)=>{const p="inputs"in u&&u.inputs[f];return p?$5(h,p):!1})){if(o&&"inputs"in o&&o.inputs){const h=HO(u.inputs,o.inputs,r);if(h)throw new hK({abiItem:u,type:h[0]},{abiItem:o,type:h[1]})}o=u}}const c=(()=>{if(o)return o;const[u,...h]=i;return{...u,overloads:h}})();if(!c)throw new H5({name:t});return{...c,...s?{hash:kf(c)}:{}}}function GO(e){return qk(kf(e),0,4)}function dK(e){const t=typeof e=="string"?e:k1(e);return U5(t)}function kf(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:$O(Gk(dK(e)))}let hK=class extends xr{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${U5(k1(e.abiItem))}\`, and`,`\`${t.type}\` in \`${U5(k1(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},H5=class extends xr{constructor({name:e,data:t,type:n="item"}){const r=e?` with name "${e}"`:t?` with data "${t}"`:"";super(`ABI ${n}${r} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}};const fK=/^(.*)\[([0-9]*)\]$/,mK=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qO=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function pK({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Xk({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Xk({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=kK(r.type);if(s){const[a,i]=s;return yK(n,{checksumAddress:e,length:a,parameter:{...r,type:i}})}if(r.type==="tuple")return NK(n,{checksumAddress:e,parameter:r});if(r.type==="address")return gK(n,{checksum:e});if(r.type==="bool")return wK(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const a=r.type.startsWith("int"),[,,i="256"]=qO.exec(r.type)??[];return xK(n,{signed:a,size:Number(i)})}if(r.type.startsWith("bytes"))return bK(n,{type:r.type});if(r.type==="string")return vK(n);throw new YO(r.type)}function eC(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?t+=32:t+=Wa(o)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:i,encoded:o}=e[a];i?(n.push(bs(t+s,{size:32})),r.push(o),s+=Wa(o)):n.push(o)}return uo(...n,...r)}function gK(e,t){const{checksum:n=!1}=t;return qx(e,{strict:n}),{dynamic:!1,encoded:Rd(e.toLowerCase())}}function yK(e,t){const{checksumAddress:n,length:r,parameter:s}=t,a=r===null;if(!Array.isArray(e))throw new EK(e);if(!a&&e.length!==r)throw new CK({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let i=!1;const o=[];for(let c=0;c<e.length;c++){const u=Xk({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(i=!0),o.push(u)}if(a||i){const c=eC(o);if(a){const u=bs(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?uo(u,c):u}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:uo(...o.map(({encoded:c})=>c))}}function bK(e,{type:t}){const[,n]=t.split("bytes"),r=Wa(e);if(!n){let s=e;return r%32!==0&&(s=Md(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:uo(Rd(bs(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new KO({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:Md(e)}}function wK(e){if(typeof e!="boolean")throw new xr(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Rd(wO(e))}}function xK(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new vO({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:bs(e,{size:32,signed:t})}}function vK(e){const t=Gk(e),n=Math.ceil(Wa(t)/32),r=[];for(let s=0;s<n;s++)r.push(Md(qk(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:uo(Md(bs(Wa(t),{size:32})),...r)}}function NK(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const a=[];for(let i=0;i<r.components.length;i++){const o=r.components[i],c=Array.isArray(e)?i:o.name,u=Xk({checksumAddress:n,parameter:o,value:e[c]});a.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?eC(a):uo(...a.map(({encoded:i})=>i))}}function kK(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function VO(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new ZO({expectedLength:e.length,givenLength:t.length});const s=pK({checksumAddress:r,parameters:e,values:t}),a=eC(s);return a.length===0?"0x":a}function W5(e,t){if(e.length!==t.length)throw new ZO({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(W5.encode(s,a))}return uo(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return qx(c),Rd(c.toLowerCase(),s?32:0)}if(n==="string")return Gk(r);if(n==="bytes")return r;if(n==="bool")return Rd(wO(r),s?32:1);const a=n.match(qO);if(a){const[c,u,h="256"]=a,f=Number.parseInt(h)/8;return bs(r,{size:s?32:f,signed:u==="int"})}const i=n.match(mK);if(i){const[c,u]=i;if(Number.parseInt(u)!==(r.length-2)/2)throw new KO({expectedSize:Number.parseInt(u),value:r});return Md(r,s?32:0)}const o=n.match(fK);if(o&&Array.isArray(r)){const[c,u]=o,h=[];for(let f=0;f<r.length;f++)h.push(t(u,r[f],!0));return h.length===0?"0x":uo(...h)}throw new YO(n)}e.encode=t})(W5||(W5={}));let CK=class extends xr{constructor({expectedLength:e,givenLength:t,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},KO=class extends xr{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${Wa(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},ZO=class extends xr{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},EK=class extends xr{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},YO=class extends xr{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};function AK(e,t){const{bytecode:n,args:r}=t;return uo(n,e.inputs?.length&&r?.length?VO(e.inputs,r):"0x")}function SK(e){return WO(e)}function jK(e,...t){const{overloads:n}=e,r=n?_K([e,...n],e.name,{args:t[0]}):e,s=IK(r),a=t.length>0?VO(r.inputs,t[0]):void 0;return a?uo(s,a):s}function Oh(e,t={}){return WO(e,t)}function _K(e,t,n){const r=uK(e,t,n);if(r.type!=="function")throw new H5({name:t,type:"function"});return r}function IK(e){return GO(e)}const TK="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Di="0x0000000000000000000000000000000000000000",Lb=new Xg(8192);function PK(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Lb.get(n))return Lb.get(n);const r=e().finally(()=>Lb.delete(n));return Lb.set(n,r),r}async function E1(e){return new Promise(t=>setTimeout(t,e))}function yg(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const i=async({count:o=0}={})=>{const c=async({error:u})=>{const h=typeof t=="function"?t({count:o,error:u}):t;h&&await E1(h),i({count:o+1})};try{const u=await e();s(u)}catch(u){if(o<n&&await r({count:o,error:u}))return c({error:u});a(u)}};i()})}function OK(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:a,retryDelay:i=150,retryCount:o=3,uid:c}={...t,...r},{method:u}=n;if(a?.exclude?.includes(u))throw new Jp(new Error("method not supported"),{method:u});if(a?.include&&!a.include.includes(u))throw new Jp(new Error("method not supported"),{method:u});const h=s?Td(`${c}.${Cr(n)}`):void 0;return PK(()=>yg(async()=>{try{return await e(n)}catch(f){const p=f;switch(p.code){case d5.code:throw new d5(p);case h5.code:throw new h5(p);case f5.code:throw new f5(p,{method:n.method});case m5.code:throw new m5(p);case mg.code:throw new mg(p);case pg.code:throw new pg(p);case p5.code:throw new p5(p);case Of.code:throw new Of(p);case v1.code:throw new v1(p);case Jp.code:throw new Jp(p,{method:n.method});case N1.code:throw new N1(p);case g5.code:throw new g5(p);case Vr.code:throw new Vr(p);case y5.code:throw new y5(p);case b5.code:throw new b5(p);case w5.code:throw new w5(p);case x5.code:throw new x5(p);case Lc.code:throw new Lc(p);case v5.code:throw new v5(p);case N5.code:throw new N5(p);case k5.code:throw new k5(p);case C5.code:throw new C5(p);case E5.code:throw new E5(p);case A5.code:throw new A5(p);case S5.code:throw new S5(p);case 5e3:throw new Vr(p);default:throw f instanceof We?f:new _W(p)}}},{delay:({count:f,error:p})=>{if(p&&p instanceof kd){const g=p?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<f)*i},retryCount:o,shouldRetry:({error:f})=>RK(f)}),{enabled:s,id:h})}}function RK(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===N1.code||e.code===mg.code:e instanceof kd&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}let MK=class extends We{constructor({callbackSelector:e,cause:t,data:n,extraData:r,sender:s,urls:a}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(i=>`    ${ny(i)}`)],`  Sender: ${s}`,`  Data: ${n}`,`  Callback selector: ${e}`,`  Extra data: ${r}`].flat(),name:"OffchainLookupError"})}},zK=class extends We{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ny(t)}`,`Response: ${Cr(e)}`],name:"OffchainLookupResponseMalformedError"})}},FK=class extends We{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}};const DK="0x556f1830",QO={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function BK(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=cO({data:r,abi:[QO]}),[i,o,c,u,h]=a,{ccipRead:f}=e,p=f&&typeof f?.request=="function"?f.request:JO;try{if(!ly(s,i))throw new FK({sender:i,to:s});const g=o.includes(Ux)?await fO({data:c,ccipRequest:p}):await p({data:c,sender:i,urls:o}),{data:b}=await jm(e,{blockNumber:t,blockTag:n,data:ki([u,bl([{type:"bytes"},{type:"bytes"}],[g,h])]),to:s});return b}catch(g){throw new MK({callbackSelector:u,cause:g,data:r,extraData:h,sender:i,urls:o})}}async function JO({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let s=0;s<n.length;s++){const a=n[s],i=a.includes("{data}")?"GET":"POST",o=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(a.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(o),headers:c,method:i});let h;if(u.headers.get("Content-Type")?.startsWith("application/json")?h=(await u.json()).data:h=await u.text(),!u.ok){r=new kd({body:o,details:h?.error?Cr(h.error):u.statusText,headers:u.headers,status:u.status,url:a});continue}if(!xi(h)){r=new zK({result:h,url:a});continue}return h}catch(u){r=new kd({body:o,details:u.message,url:a})}}throw r}const LK=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:JO,offchainLookup:BK,offchainLookupAbiItem:QO,offchainLookupSignature:DK},Symbol.toStringTag,{value:"Module"}));function fve(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function XO(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let i;try{const o=new AbortController;n>0&&(i=setTimeout(()=>{r?o.abort():a(t)},n)),s(await e({signal:o?.signal||null}))}catch(o){o?.name==="AbortError"&&a(t),a(o)}finally{clearTimeout(i)}})()})}function UK(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const rj=UK();function $K(e,t={}){return{async request(n){const{body:r,onRequest:s=t.onRequest,onResponse:a=t.onResponse,timeout:i=t.timeout??1e4}=n,o={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:h}=o;try{const f=await XO(async({signal:g})=>{const b={...o,body:Array.isArray(r)?Cr(r.map(v=>({jsonrpc:"2.0",id:v.id??rj.take(),...v}))):Cr({jsonrpc:"2.0",id:r.id??rj.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:h||(i>0?g:null)},y=new Request(e,b),w=await s?.(y,b)??{...b,url:e};return await fetch(w.url??e,w)},{errorInstance:new jS({body:r,url:e}),timeout:i,signal:!0});a&&await a(f);let p;if(f.headers.get("Content-Type")?.startsWith("application/json"))p=await f.json();else{p=await f.text();try{p=JSON.parse(p||"{}")}catch(g){if(f.ok)throw g;p={error:p}}}if(!f.ok)throw new kd({body:r,details:Cr(p.error)||f.statusText,headers:f.headers,status:f.status,url:e});return p}catch(f){throw f instanceof kd||f instanceof jS?f:new kd({body:r,cause:f,url:e})}}}}let HK=class extends We{constructor({domain:e}){super(`Invalid domain "${Cr(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},WK=class extends We{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},GK=class extends We{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}};function qK(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:QK({domain:t}),...e.types};YK({domain:t,message:n,primaryType:r,types:s});const a=["0x1901"];return t&&a.push(VK({domain:t,types:s})),r!=="EIP712Domain"&&a.push(eR({data:n,primaryType:r,types:s})),Yr(ki(a))}function VK({domain:e,types:t}){return eR({data:e,primaryType:"EIP712Domain",types:t})}function eR({data:e,primaryType:t,types:n}){const r=tR({data:e,primaryType:t,types:n});return Yr(r)}function tR({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[KK({primaryType:t,types:n})];for(const a of n[t]){const[i,o]=rR({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(i),s.push(o)}return bl(r,s)}function KK({primaryType:e,types:t}){const n=co(ZK({primaryType:e,types:t}));return Yr(n)}function ZK({primaryType:e,types:t}){let n="";const r=nR({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:i,type:o})=>`${o} ${i}`).join(",")})`;return n}function nR({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u)?.[0];if(n.has(r)||t[r]===void 0)return n;n.add(r);for(const s of t[r])nR({primaryType:s.type,types:t},n);return n}function rR({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Yr(tR({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Yr(r)];if(n==="string")return[{type:"bytes32"},Yr(co(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(i=>rR({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},Yr(bl(a.map(([i])=>i),a.map(([,i])=>i)))]}return[{type:n},r]}function YK(e){const{domain:t,message:n,primaryType:r,types:s}=e,a=(i,o)=>{for(const c of i){const{name:u,type:h}=c,f=o[u],p=h.match(jk);if(p&&(typeof f=="number"||typeof f=="bigint")){const[y,w,v]=p;St(f,{signed:w==="int",size:Number.parseInt(v)/8})}if(h==="address"&&typeof f=="string"&&!pa(f))throw new dl({address:f});const g=h.match(Q9);if(g){const[y,w]=g;if(w&&ur(f)!==Number.parseInt(w))throw new D9({expectedSize:Number.parseInt(w),givenSize:ur(f)})}const b=s[h];b&&(JK(h),a(b,f))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new HK({domain:t});a(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])a(s[r],n);else throw new WK({primaryType:r,types:s})}function QK({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function JK(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new GK({type:e})}function mve(e,t){if(e.length!==t.length)throw new R9({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],a=t[r];n.push(sR(s,a))}return Qc(n)}function sR(e,t,n=!1){if(e==="address"){const i=t;if(!pa(i))throw new dl({address:i});return il(i.toLowerCase(),{size:n?32:null})}if(e==="string")return Td(t);if(e==="bytes")return t;if(e==="bool")return il(Ck(t),{size:n?32:1});const r=e.match(jk);if(r){const[i,o,c="256"]=r,u=Number.parseInt(c)/8;return St(t,{size:n?32:u,signed:o==="int"})}const s=e.match(Q9);if(s){const[i,o]=s;if(Number.parseInt(o)!==(t.length-2)/2)throw new D9({expectedSize:Number.parseInt(o),givenSize:(t.length-2)/2});return il(t,{dir:"right",size:n?32:null})}const a=e.match(JH);if(a&&Array.isArray(t)){const[i,o]=a,c=[];for(let u=0;u<t.length;u++)c.push(sR(o,t[u],!0));return c.length===0?"0x":Qc(c)}throw new CH(e)}const XK=`Ethereum Signed Message:
`;function eZ(e){const t=typeof e=="string"?Td(e):typeof e.raw=="string"?e.raw:Pr(e.raw),n=Td(`${XK}${ur(t)}`);return ki([n,t])}function aR(e,t){return Yr(eZ(e),t)}const iR="0x6492649264926492649264926492649264926492649264926492649264926492";function tZ(e){return b1(e,-32)===iR}function nZ(e){const{address:t,data:n,signature:r,to:s="hex"}=e,a=Qc([bl([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),iR]);return s==="hex"?a:$a(a)}let rZ=class extends We{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}};function sZ(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new rZ({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,i,o]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${i}.${o}`);c>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function pve(e){const{source:t}=e,n=new Map,r=new Xg(8192),s=new Map,a=({address:i,chainId:o})=>`${i}.${o}`;return{async consume({address:i,chainId:o,client:c}){const u=a({address:i,chainId:o}),h=this.get({address:i,chainId:o,client:c});this.increment({address:i,chainId:o});const f=await h;return await t.set({address:i,chainId:o},f),r.set(u,f),f},async increment({address:i,chainId:o}){const c=a({address:i,chainId:o}),u=n.get(c)??0;n.set(c,u+1)},async get({address:i,chainId:o,client:c}){const u=a({address:i,chainId:o});let h=s.get(u);return h||(h=(async()=>{try{const f=await t.get({address:i,chainId:o,client:c}),p=r.get(u)??0;return p>0&&f<=p?p+1:(r.delete(u),f)}finally{this.reset({address:i,chainId:o})}})(),s.set(u,h)),(n.get(u)??0)+await h},reset({address:i,chainId:o}){const c=a({address:i,chainId:o});n.delete(c),s.delete(c)}}}const aZ="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function iZ(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:a,traceAssetChanges:i,traceTransfers:o,validation:c}=t,u=t.account?Jr(t.account):void 0;if(i&&!u)throw new We("`account` is required when `traceAssetChanges` is true");const h=u?AK(SK("constructor(bytes, bytes)"),{bytecode:CO,args:[aZ,jK(Oh("function getBalance(address)"),[u.address])]}):void 0,f=i?await Promise.all(t.calls.map(async $=>{if(!$.data&&!$.abi)return;const{accessList:Z}=await IO(e,{account:u.address,...$,data:$.abi?ji($):$.data});return Z.map(({address:ee,storageKeys:L})=>L.length>0?ee:null)})).then($=>$.flat().filter(Boolean)):[],p=await B5(e,{blockNumber:n,blockTag:r,blocks:[...i?[{calls:[{data:h}],stateOverrides:a},{calls:f.map(($,Z)=>({abi:[Oh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:Di,nonce:Z})),stateOverrides:[{address:Di,nonce:0}]}]:[],{calls:[...s,{}].map($=>({...$,from:u?.address})),stateOverrides:a},...i?[{calls:[{data:h}]},{calls:f.map(($,Z)=>({abi:[Oh("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:Di,nonce:Z})),stateOverrides:[{address:Di,nonce:0}]},{calls:f.map(($,Z)=>({to:$,abi:[Oh("function decimals() returns (uint256)")],functionName:"decimals",from:Di,nonce:Z})),stateOverrides:[{address:Di,nonce:0}]},{calls:f.map(($,Z)=>({to:$,abi:[Oh("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Di,nonce:Z})),stateOverrides:[{address:Di,nonce:0}]},{calls:f.map(($,Z)=>({to:$,abi:[Oh("function symbol() returns (string)")],functionName:"symbol",from:Di,nonce:Z})),stateOverrides:[{address:Di,nonce:0}]}]:[]],traceTransfers:o,validation:c}),g=i?p[2]:p[0],[b,y,,w,v,N,A,C]=i?p:[],{calls:k,...S}=g,T=k.slice(0,-1)??[],P=b?.calls??[],I=y?.calls??[],M=[...P,...I].map($=>$.status==="success"?Ha($.data):null),W=w?.calls??[],z=v?.calls??[],B=[...W,...z].map($=>$.status==="success"?Ha($.data):null),O=(N?.calls??[]).map($=>$.status==="success"?$.result:null),F=(C?.calls??[]).map($=>$.status==="success"?$.result:null),G=(A?.calls??[]).map($=>$.status==="success"?$.result:null),K=[];for(const[$,Z]of B.entries()){const ee=M[$];if(typeof Z!="bigint"||typeof ee!="bigint")continue;const L=O[$-1],V=F[$-1],Q=G[$-1],Y=$===0?{address:TK,decimals:18,symbol:"ETH"}:{address:f[$-1],decimals:Q||L?Number(L??1):void 0,symbol:V??void 0};K.some(ae=>ae.token.address===Y.address)||K.push({token:Y,value:{pre:ee,post:Z,diff:Z-ee}})}return{assetChanges:K,block:S,results:T}}const IN=new Map,sj=new Map;let oZ=0;function fl(e,t,n){const r=++oZ,s=()=>IN.get(e)||[],a=()=>{const h=s();IN.set(e,h.filter(f=>f.id!==r))},i=()=>{const h=s();if(!h.some(p=>p.id===r))return;const f=sj.get(e);if(h.length===1&&f){const p=f();p instanceof Promise&&p.catch(()=>{})}a()},o=s();if(IN.set(e,[...o,{id:r,fns:t}]),o&&o.length>0)return i;const c={};for(const h in t)c[h]=(...f)=>{const p=s();if(p.length!==0)for(const g of p)g.fns[h]?.(...f)};const u=n(c);return typeof u=="function"&&sj.set(e,u),i}function _m(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const o=await n?.(i)??r;await E1(o);const c=async()=>{s&&(await e({unpoll:a}),await E1(r),c())};c()})(),a}function lZ(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:i,poll:o,pollingInterval:c=e.pollingInterval}){const u=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=i??!1;let f;return u?(()=>{const p=Cr(["watchBlocks",e.uid,t,n,r,h,c]);return fl(p,{onBlock:s,onError:a},g=>_m(async()=>{try{const b=await zt(e,eo,"getBlock")({blockTag:t,includeTransactions:h});if(b.number!==null&&f?.number!=null){if(b.number===f.number)return;if(b.number-f.number>1&&n)for(let y=f?.number+1n;y<b.number;y++){const w=await zt(e,eo,"getBlock")({blockNumber:y,includeTransactions:h});g.onBlock(w,f),f=w}}(f?.number==null||t==="pending"&&b?.number==null||b.number!==null&&b.number>f.number)&&(g.onBlock(b,f),f=b)}catch(b){g.onError?.(b)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,g=!0,b=()=>p=!1;return(async()=>{try{r&&zt(e,eo,"getBlock")({blockTag:t,includeTransactions:h}).then(v=>{p&&g&&(s(v,void 0),g=!1)}).catch(a);const y=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:w}=await y.subscribe({params:["newHeads"],async onData(v){if(!p)return;const N=await zt(e,eo,"getBlock")({blockNumber:v.result?.number,includeTransactions:h}).catch(()=>{});p&&(s(N,f),g=!1,f=N)},onError(v){a?.(v)}});b=w,p||b()}catch(y){a?.(y)}})(),()=>b()})()}function oR(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:i=e.pollingInterval}){const o=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return o?(()=>{const u=Cr(["watchBlockNumber",e.uid,t,n,i]);return fl(u,{onBlockNumber:r,onError:s},h=>_m(async()=>{try{const f=await zt(e,oy,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&n)for(let p=c+1n;p<f;p++)h.onBlockNumber(p,c),c=p}(!c||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){h.onError?.(f)}},{emitOnBegin:t,interval:i}))})():(()=>{const u=Cr(["watchBlockNumber",e.uid,t,n]);return fl(u,{onBlockNumber:r,onError:s},h=>{let f=!0,p=()=>f=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const y=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return y?y.value:e.transport}return e.transport})(),{unsubscribe:b}=await g.subscribe({params:["newHeads"],onData(y){if(!f)return;const w=Ha(y.result?.number);h.onBlockNumber(w,c),c=w},onError(y){h.onError?.(y)}});p=b,f||p()}catch(g){s?.(g)}})(),()=>p()})})()}async function Vx(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function cZ(e,{address:t,args:n,batch:r=!0,event:s,events:a,fromBlock:i,onError:o,onLogs:c,poll:u,pollingInterval:h=e.pollingInterval,strict:f}){const p=typeof u<"u"?u:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),g=f??!1;return p?(()=>{const b=Cr(["watchEvent",t,n,r,e.uid,s,h,i]);return fl(b,{onLogs:c,onError:o},y=>{let w;i!==void 0&&(w=i-1n);let v,N=!1;const A=_m(async()=>{if(!N){try{v=await zt(e,PO,"createEventFilter")({address:t,args:n,event:s,events:a,strict:g,fromBlock:i})}catch{}N=!0;return}try{let C;if(v)C=await zt(e,Wx,"getFilterChanges")({filter:v});else{const k=await zt(e,oy,"getBlockNumber")({});w&&w!==k?C=await zt(e,Jk,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:w+1n,toBlock:k}):C=[],w=k}if(C.length===0)return;if(r)y.onLogs(C);else for(const k of C)y.onLogs([k])}catch(C){v&&C instanceof pg&&(N=!1),y.onError?.(C)}},{emitOnBegin:!0,interval:h});return async()=>{v&&await zt(e,Vx,"uninstallFilter")({filter:v}),A()}})})():(()=>{let b=!0,y=()=>b=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const C=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return C?C.value:e.transport}return e.transport})(),v=a??(s?[s]:void 0);let N=[];v&&(N=[v.flatMap(C=>iy({abi:[C],eventName:C.name,args:n}))],s&&(N=N[0]));const{unsubscribe:A}=await w.subscribe({params:["logs",{address:t,topics:N}],onData(C){if(!b)return;const k=C.result;try{const{eventName:S,args:T}=Yk({abi:v??[],data:k.data,topics:k.topics,strict:g}),P=hl(k,{args:T,eventName:S});c([P])}catch(S){let T,P;if(S instanceof dg||S instanceof Ix){if(f)return;T=S.abiItem.name,P=S.abiItem.inputs?.some(M=>!("name"in M&&M.name))}const I=hl(k,{args:P?[]:{},eventName:T});c([I])}},onError(C){o?.(C)}});y=A,b||y()}catch(w){o?.(w)}})(),()=>y()})()}function lR(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const i=Cr(["watchPendingTransactions",e.uid,t,a]);return fl(i,{onTransactions:r,onError:n},o=>{let c;const u=_m(async()=>{try{if(!c)try{c=await zt(e,OO,"createPendingTransactionFilter")({});return}catch(f){throw u(),f}const h=await zt(e,Wx,"getFilterChanges")({filter:c});if(h.length===0)return;if(t)o.onTransactions(h);else for(const f of h)o.onTransactions([f])}catch(h){o.onError?.(h)}},{emitOnBegin:!0,interval:a});return async()=>{c&&await zt(e,Vx,"uninstallFilter")({filter:c}),u()}})})():(()=>{let i=!0,o=()=>i=!1;return(async()=>{try{const{unsubscribe:c}=await e.transport.subscribe({params:["newPendingTransactions"],onData(u){if(!i)return;const h=u.result;r([h])},onError(u){n?.(u)}});o=c,i||o()}catch(c){n?.(c)}})(),()=>o()})()}const uZ="0x5792579257925792579257925792579257925792579257925792579257925792",dZ=St(0,{size:32});async function hZ(e,t){async function n(h){if(h.endsWith(uZ.slice(2))){const f=so(b1(h,-64,-32)),p=b1(h,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(p.map(y=>dZ.slice(2)!==y?e.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),b=g.some(y=>y===null)?100:g.every(y=>y?.status==="0x1")?200:g.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:vi(f),receipts:g.filter(Boolean),status:b,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[h]})}const{atomic:r=!1,chainId:s,receipts:a,version:i="2.0.0",...o}=await n(t.id),[c,u]=(()=>{const h=o.status;return h>=100&&h<200?["pending",h]:h>=200&&h<300?["success",h]:h>=300&&h<700?["failure",h]:h==="CONFIRMED"?["success",200]:h==="PENDING"?["pending",100]:[void 0,h]})();return{...o,atomic:r,chainId:s?vi(s):void 0,receipts:a?.map(h=>({...h,blockNumber:Ha(h.blockNumber),gasUsed:Ha(h.gasUsed),status:MO[h.status]}))??[],statusCode:u,status:c,version:i}}let fZ=class extends We{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}};async function gve(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:y})=>y===200||y>=300,retryCount:a=4,retryDelay:i=({count:y})=>~~(1<<y)*200,timeout:o=6e4,throwOnFailure:c=!1}=t,u=Cr(["waitForCallsStatus",e.uid,n]),{promise:h,resolve:f,reject:p}=Vk();let g;const b=fl(u,{resolve:f,reject:p},y=>{const w=_m(async()=>{const v=N=>{clearTimeout(g),w(),N(),b()};try{const N=await yg(async()=>{const A=await hZ(e,{id:n});if(c&&A.status==="failure")throw new fZ(A);return A},{retryCount:a,delay:i});if(!s(N))return;v(()=>y.resolve(N))}catch(N){v(()=>y.reject(N))}},{interval:r,emitOnBegin:!0});return w});return g=o?setTimeout(()=>{b(),clearTimeout(g),p(new mZ({id:n}))},o):void 0,await h}let mZ=class extends We{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}};function pZ(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function gZ(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?vi(e.nonce):void 0,storageProof:e.storageProof?pZ(e.storageProof):void 0}}async function yZ(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",i=n!==void 0?St(n):void 0,o=await e.request({method:"eth_getProof",params:[t,s,i||a]});return gZ(o)}async function cR(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:a,retryCount:i=6,retryDelay:o=({count:k})=>~~(1<<k)*200,timeout:c=18e4}=t,u=Cr(["waitForTransactionReceipt",e.uid,s]),h=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let f,p,g,b=!1,y,w;const{promise:v,resolve:N,reject:A}=Vk(),C=c?setTimeout(()=>{w(),y(),A(new AW({hash:s}))},c):void 0;return y=fl(u,{onReplaced:a,resolve:N,reject:A},async k=>{if(g=await zt(e,jw,"getTransactionReceipt")({hash:s}).catch(()=>{}),g&&r<=1){clearTimeout(C),k.resolve(g),y();return}w=zt(e,oR,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(S){const T=I=>{clearTimeout(C),w(),I(),y()};let P=S;if(!b)try{if(g){if(r>1&&(!g.blockNumber||P-g.blockNumber+1n<r))return;T(()=>k.resolve(g));return}if(n&&!f&&(b=!0,await yg(async()=>{f=await zt(e,Gx,"getTransaction")({hash:s}),f.blockNumber&&(P=f.blockNumber)},{delay:o,retryCount:i}),b=!1),g=await zt(e,jw,"getTransactionReceipt")({hash:s}),r>1&&(!g.blockNumber||P-g.blockNumber+1n<r))return;T(()=>k.resolve(g))}catch(I){if(I instanceof sP||I instanceof aP){if(!f){b=!1;return}try{p=f,b=!0;const M=await yg(()=>zt(e,eo,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:B})=>B instanceof TP});b=!1;const W=M.transactions.find(({from:B,nonce:O})=>B===p.from&&O===p.nonce);if(!W||(g=await zt(e,jw,"getTransactionReceipt")({hash:W.hash}),r>1&&(!g.blockNumber||P-g.blockNumber+1n<r)))return;let z="replaced";W.to===p.to&&W.value===p.value&&W.input===p.input?z="repriced":W.from===W.to&&W.value===0n&&(z="cancelled"),T(()=>{k.onReplaced?.({reason:z,replacedTransaction:p,transaction:W,transactionReceipt:g}),k.resolve(g)})}catch(M){T(()=>k.reject(M))}}else T(()=>k.reject(I))}}})}),v}async function yve(e,t){const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Ox({docsPath:"/docs/eip7702/prepareAuthorization"});const a=Jr(n),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:Jr(t.executor)})(),o={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof o.chainId>"u"&&(o.chainId=e.chain?.id??await zt(e,zx,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await zt(e,Lk,"getTransactionCount")({address:a.address,blockTag:"pending"}),(i==="self"||i?.address&&ly(i.address,a.address))&&(o.nonce+=1)),o}async function bZ(e,{account:t=e.account,message:n}){if(!t)throw new Ox({docsPath:"/docs/actions/wallet/signMessage"});const r=Jr(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?Td(n):n.raw instanceof Uint8Array?co(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function wZ(e,t){const{abi:n,address:r,args:s,dataSuffix:a,functionName:i,...o}=t,c=o.account?Jr(o.account):e.account,u=ji({abi:n,args:s,functionName:i});try{const{data:h}=await zt(e,jm,"call")({batch:!1,data:`${u}${a?a.replace("0x",""):""}`,to:r,...o,account:c}),f=Xd({abi:n,args:s,functionName:i,data:h||"0x"}),p=n.filter(g=>"name"in g&&g.name===t.functionName);return{result:f,request:{abi:p,address:r,args:s,dataSuffix:a,functionName:i,...o,account:c}}}catch(h){throw Od(h,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:i,sender:c?.address})}}let uR=class extends Sk{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,PH(e);const n=Tx(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Yf(s)}update(e){return Zf(this),this.iHash.update(e),this}digestInto(e){Zf(this),Ci(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:a,outputLen:i}=this;return e=e,e.finished=r,e.destroyed=s,e.blockLen=a,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const dR=(e,t,n)=>new uR(e,t).update(n).digest();dR.create=(e,t)=>new uR(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tC=BigInt(0),G5=BigInt(1);function A1(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ub(e){const t=e.toString(16);return t.length&1?"0"+t:t}function hR(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?tC:BigInt("0x"+e)}function Kx(e){return hR(fg(e))}function fR(e){return Ci(e),hR(fg(Uint8Array.from(e).reverse()))}function nC(e,t){return Ak(e.toString(16).padStart(t*2,"0"))}function mR(e,t){return nC(e,t).reverse()}function Ra(e,t,n){let r;if(typeof t=="string")try{r=Ak(t)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(Ek(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const TN=e=>typeof e=="bigint"&&tC<=e;function xZ(e,t,n){return TN(e)&&TN(t)&&TN(n)&&t<=e&&e<n}function vZ(e,t,n,r){if(!xZ(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function NZ(e){let t;for(t=0;e>tC;e>>=G5,t+=1);return t}const Zx=e=>(G5<<BigInt(e))-G5;function kZ(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),s=p=>Uint8Array.of(p);let a=r(e),i=r(e),o=0;const c=()=>{a.fill(1),i.fill(0),o=0},u=(...p)=>n(i,a,...p),h=(p=r(0))=>{i=u(s(0),p),a=u(),p.length!==0&&(i=u(s(1),p),a=u())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const g=[];for(;p<t;){a=u();const b=a.slice();g.push(b),p+=a.length}return id(...g)};return(p,g)=>{c(),h(p);let b;for(;!(b=g(f()));)h();return c(),b}}function rC(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,a,i){const o=e[s];if(i&&o===void 0)return;const c=typeof o;if(c!==a||o===null)throw new Error(`param "${s}" is invalid: expected ${a}, got ${c}`)}Object.entries(t).forEach(([s,a])=>r(s,a,!1)),Object.entries(n).forEach(([s,a])=>r(s,a,!0))}function aj(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const a=e(n,...r);return t.set(n,a),a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hs=BigInt(0),Cs=BigInt(1),ld=BigInt(2),CZ=BigInt(3),pR=BigInt(4),gR=BigInt(5),yR=BigInt(8);function za(e,t){const n=e%t;return n>=Hs?n:t+n}function Aa(e,t,n){let r=e;for(;t-- >Hs;)r*=r,r%=n;return r}function ij(e,t){if(e===Hs)throw new Error("invert: expected non-zero number");if(t<=Hs)throw new Error("invert: expected positive modulus, got "+t);let n=za(e,t),r=t,s=Hs,a=Cs;for(;n!==Hs;){const i=r/n,o=r%n,c=s-a*i;r=n,n=o,s=a,a=c}if(r!==Cs)throw new Error("invert: does not exist");return za(s,t)}function bR(e,t){const n=(e.ORDER+Cs)/pR,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function EZ(e,t){const n=(e.ORDER-gR)/yR,r=e.mul(t,ld),s=e.pow(r,n),a=e.mul(t,s),i=e.mul(e.mul(a,ld),s),o=e.mul(a,e.sub(i,e.ONE));if(!e.eql(e.sqr(o),t))throw new Error("Cannot find square root");return o}function AZ(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Cs,n=0;for(;t%ld===Hs;)t/=ld,n++;let r=ld;const s=Yx(e);for(;oj(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return bR;let a=s.pow(r,t);const i=(t+Cs)/ld;return function(o,c){if(o.is0(c))return c;if(oj(o,c)!==1)throw new Error("Cannot find square root");let u=n,h=o.mul(o.ONE,a),f=o.pow(c,t),p=o.pow(c,i);for(;!o.eql(f,o.ONE);){if(o.is0(f))return o.ZERO;let g=1,b=o.sqr(f);for(;!o.eql(b,o.ONE);)if(g++,b=o.sqr(b),g===u)throw new Error("Cannot find square root");const y=Cs<<BigInt(u-g-1),w=o.pow(h,y);u=g,h=o.sqr(w),f=o.mul(f,h),p=o.mul(p,w)}return p}}function SZ(e){return e%pR===CZ?bR:e%yR===gR?EZ:AZ(e)}const jZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _Z(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=jZ.reduce((r,s)=>(r[s]="function",r),t);return rC(e,n),e}function IZ(e,t,n){if(n<Hs)throw new Error("invalid exponent, negatives unsupported");if(n===Hs)return e.ONE;if(n===Cs)return t;let r=e.ONE,s=t;for(;n>Hs;)n&Cs&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Cs;return r}function wR(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,o,c)=>e.is0(o)?i:(r[c]=i,e.mul(i,o)),e.ONE),a=e.inv(s);return t.reduceRight((i,o,c)=>e.is0(o)?i:(r[c]=e.mul(i,r[c]),e.mul(i,o)),a),r}function oj(e,t){const n=(e.ORDER-Cs)/ld,r=e.pow(t,n),s=e.eql(r,e.ONE),a=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!a&&!i)throw new Error("invalid Legendre symbol result");return s?1:a?0:-1}function TZ(e,t){t!==void 0&&hg(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Yx(e,t,n=!1,r={}){if(e<=Hs)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const h=t;h.BITS&&(s=h.BITS),h.sqrt&&(a=h.sqrt),typeof h.isLE=="boolean"&&(n=h.isLE)}else typeof t=="number"&&(s=t),r.sqrt&&(a=r.sqrt);const{nBitLength:i,nByteLength:o}=TZ(e,s);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:Zx(i),ZERO:Hs,ONE:Cs,create:h=>za(h,e),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Hs<=h&&h<e},is0:h=>h===Hs,isValidNot0:h=>!u.is0(h)&&u.isValid(h),isOdd:h=>(h&Cs)===Cs,neg:h=>za(-h,e),eql:(h,f)=>h===f,sqr:h=>za(h*h,e),add:(h,f)=>za(h+f,e),sub:(h,f)=>za(h-f,e),mul:(h,f)=>za(h*f,e),pow:(h,f)=>IZ(u,h,f),div:(h,f)=>za(h*ij(f,e),e),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>ij(h,e),sqrt:a||(h=>(c||(c=SZ(e)),c(u,h))),toBytes:h=>n?mR(h,o):nC(h,o),fromBytes:h=>{if(h.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);return n?fR(h):Kx(h)},invertBatch:h=>wR(u,h),cmov:(h,f,p)=>p?f:h});return Object.freeze(u)}function xR(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function vR(e){const t=xR(e);return t+Math.ceil(t/2)}function PZ(e,t,n=!1){const r=e.length,s=xR(t),a=vR(t);if(r<16||r<a||r>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+r);const i=n?fR(e):Kx(e),o=za(i,t-Cs)+Cs;return n?mR(o,s):nC(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jf=BigInt(0),cd=BigInt(1);function Z0(e,t){const n=t.negate();return e?n:t}function OZ(e,t,n){const r=a=>a.pz,s=wR(e.Fp,n.map(r));return n.map((a,i)=>a.toAffine(s[i])).map(e.fromAffine)}function NR(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function PN(e,t){NR(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,a=Zx(e),i=BigInt(e);return{windows:n,windowSize:r,mask:a,maxNumber:s,shiftBy:i}}function lj(e,t,n){const{windowSize:r,mask:s,maxNumber:a,shiftBy:i}=n;let o=Number(e&s),c=e>>i;o>r&&(o-=a,c+=cd);const u=t*r,h=u+Math.abs(o)-1,f=o===0,p=o<0,g=t%2!==0;return{nextN:c,offset:h,isZero:f,isNeg:p,isNegF:g,offsetF:u}}function RZ(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function MZ(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const ON=new WeakMap,kR=new WeakMap;function RN(e){return kR.get(e)||1}function cj(e){if(e!==Jf)throw new Error("invalid wNAF")}function zZ(e,t){return{constTimeNegate:Z0,hasPrecomputes(n){return RN(n)!==1},unsafeLadder(n,r,s=e.ZERO){let a=n;for(;r>Jf;)r&cd&&(s=s.add(a)),a=a.double(),r>>=cd;return s},precomputeWindow(n,r){const{windows:s,windowSize:a}=PN(r,t),i=[];let o=n,c=o;for(let u=0;u<s;u++){c=o,i.push(c);for(let h=1;h<a;h++)c=c.add(o),i.push(c);o=c.double()}return i},wNAF(n,r,s){let a=e.ZERO,i=e.BASE;const o=PN(n,t);for(let c=0;c<o.windows;c++){const{nextN:u,offset:h,isZero:f,isNeg:p,isNegF:g,offsetF:b}=lj(s,c,o);s=u,f?i=i.add(Z0(g,r[b])):a=a.add(Z0(p,r[h]))}return cj(s),{p:a,f:i}},wNAFUnsafe(n,r,s,a=e.ZERO){const i=PN(n,t);for(let o=0;o<i.windows&&s!==Jf;o++){const{nextN:c,offset:u,isZero:h,isNeg:f}=lj(s,o,i);if(s=c,!h){const p=r[u];a=a.add(f?p.negate():p)}}return cj(s),a},getPrecomputes(n,r,s){let a=ON.get(r);return a||(a=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(a=s(a)),ON.set(r,a))),a},wNAFCached(n,r,s){const a=RN(n);return this.wNAF(a,this.getPrecomputes(a,n,s),r)},wNAFCachedUnsafe(n,r,s,a){const i=RN(n);return i===1?this.unsafeLadder(n,r,a):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,a)},setWindowSize(n,r){NR(r,t),kR.set(n,r),ON.delete(n)}}}function FZ(e,t,n,r){let s=t,a=e.ZERO,i=e.ZERO;for(;n>Jf||r>Jf;)n&cd&&(a=a.add(s)),r&cd&&(i=i.add(s)),s=s.double(),n>>=cd,r>>=cd;return{p1:a,p2:i}}function DZ(e,t,n,r){RZ(n,e),MZ(r,t);const s=n.length,a=r.length;if(s!==a)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=NZ(BigInt(s));let c=1;o>12?c=o-3:o>4?c=o-2:o>0&&(c=2);const u=Zx(c),h=new Array(Number(u)+1).fill(i),f=Math.floor((t.BITS-1)/c)*c;let p=i;for(let g=f;g>=0;g-=c){h.fill(i);for(let y=0;y<a;y++){const w=r[y],v=Number(w>>BigInt(g)&u);h[v]=h[v].add(n[y])}let b=i;for(let y=h.length-1,w=i;y>0;y--)w=w.add(h[y]),b=b.add(w);if(p=p.add(b),g!==0)for(let y=0;y<c;y++)p=p.double()}return p}function uj(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return _Z(t),t}else return Yx(e)}function BZ(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const i of["p","n","h"]){const o=t[i];if(!(typeof o=="bigint"&&o>Jf))throw new Error(`CURVE.${i} must be positive bigint`)}const r=uj(t.p,n.Fp),s=uj(t.n,n.Fn),a=["Gx","Gy","a","b"];for(const i of a)if(!r.isValid(t[i]))throw new Error(`CURVE.${i} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dj(e){e.lowS!==void 0&&A1("lowS",e.lowS),e.prehash!==void 0&&A1("prehash",e.prehash)}class LZ extends Error{constructor(t=""){super(t)}}const Vo={Err:LZ,_tlv:{encode:(e,t)=>{const{Err:n}=Vo;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Ub(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const a=r>127?Ub(s.length/2|128):"";return Ub(e)+a+s+t},decode(e,t){const{Err:n}=Vo;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],a=!!(s&128);let i=0;if(!a)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const h of u)i=i<<8|h;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const o=t.subarray(r,r+i);if(o.length!==i)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Vo;if(e<Y0)throw new t("integer: negative integers are not allowed");let n=Ub(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Vo;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Kx(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Vo,s=Ra("signature",e),{v:a,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,a),{v:u,l:h}=r.decode(2,c);if(h.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Vo,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),a=r+s;return t.encode(48,a)}},Y0=BigInt(0),Q0=BigInt(1),UZ=BigInt(2),$b=BigInt(3),$Z=BigInt(4);function HZ(e,t,n){function r(s){const a=e.sqr(s),i=e.mul(a,s);return e.add(e.add(i,e.mul(s,t)),n)}return r}function CR(e,t,n){const{BYTES:r}=e;function s(a){let i;if(typeof a=="bigint")i=a;else{let o=Ra("private key",a);if(t){if(!t.includes(o.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(o,c.length-o.length),o=c}try{i=e.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof a}`)}}if(n&&(i=e.create(i)),!e.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}return s}function WZ(e,t={}){const{Fp:n,Fn:r}=BZ("weierstrass",e,t),{h:s,n:a}=e;rC(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:i}=t;if(i&&(!n.is0(e.a)||typeof i.beta!="bigint"||typeof i.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function o(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(P,I,M){const{x:W,y:z}=I.toAffine(),B=n.toBytes(W);if(A1("isCompressed",M),M){o();const O=!n.isOdd(z);return id(ER(O),B)}else return id(Uint8Array.of(4),B,n.toBytes(z))}function u(P){Ci(P);const I=n.BYTES,M=I+1,W=2*I+1,z=P.length,B=P[0],O=P.subarray(1);if(z===M&&(B===2||B===3)){const F=n.fromBytes(O);if(!n.isValid(F))throw new Error("bad point: is not on curve, wrong x");const G=p(F);let K;try{K=n.sqrt(G)}catch(Z){const ee=Z instanceof Error?": "+Z.message:"";throw new Error("bad point: is not on curve, sqrt error"+ee)}o();const $=n.isOdd(K);return(B&1)===1!==$&&(K=n.neg(K)),{x:F,y:K}}else if(z===W&&B===4){const F=n.fromBytes(O.subarray(I*0,I*1)),G=n.fromBytes(O.subarray(I*1,I*2));if(!g(F,G))throw new Error("bad point: is not on curve");return{x:F,y:G}}else throw new Error(`bad point: got length ${z}, expected compressed=${M} or uncompressed=${W}`)}const h=t.toBytes||c,f=t.fromBytes||u,p=HZ(n,e.a,e.b);function g(P,I){const M=n.sqr(I),W=p(P);return n.eql(M,W)}if(!g(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const b=n.mul(n.pow(e.a,$b),$Z),y=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(b,y)))throw new Error("bad curve params: a or b");function w(P,I,M=!1){if(!n.isValid(I)||M&&n.is0(I))throw new Error(`bad point coordinate ${P}`);return I}function v(P){if(!(P instanceof k))throw new Error("ProjectivePoint expected")}const N=aj((P,I)=>{const{px:M,py:W,pz:z}=P;if(n.eql(z,n.ONE))return{x:M,y:W};const B=P.is0();I==null&&(I=B?n.ONE:n.inv(z));const O=n.mul(M,I),F=n.mul(W,I),G=n.mul(z,I);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(G,n.ONE))throw new Error("invZ was invalid");return{x:O,y:F}}),A=aj(P=>{if(P.is0()){if(t.allowInfinityPoint&&!n.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:I,y:M}=P.toAffine();if(!n.isValid(I)||!n.isValid(M))throw new Error("bad point: x or y not field elements");if(!g(I,M))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function C(P,I,M,W,z){return M=new k(n.mul(M.px,P),M.py,M.pz),I=Z0(W,I),M=Z0(z,M),I.add(M)}class k{constructor(I,M,W){this.px=w("x",I),this.py=w("y",M,!0),this.pz=w("z",W),Object.freeze(this)}static fromAffine(I){const{x:M,y:W}=I||{};if(!I||!n.isValid(M)||!n.isValid(W))throw new Error("invalid affine point");if(I instanceof k)throw new Error("projective point not allowed");return n.is0(M)&&n.is0(W)?k.ZERO:new k(M,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){return OZ(k,"pz",I)}static fromBytes(I){return Ci(I),k.fromHex(I)}static fromHex(I){const M=k.fromAffine(f(Ra("pointHex",I)));return M.assertValidity(),M}static fromPrivateKey(I){const M=CR(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return k.BASE.multiply(M(I))}static msm(I,M){return DZ(k,r,I,M)}precompute(I=8,M=!0){return T.setWindowSize(this,I),M||this.multiply($b),this}_setWindowSize(I){this.precompute(I)}assertValidity(){A(this)}hasEvenY(){const{y:I}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(I)}equals(I){v(I);const{px:M,py:W,pz:z}=this,{px:B,py:O,pz:F}=I,G=n.eql(n.mul(M,F),n.mul(B,z)),K=n.eql(n.mul(W,F),n.mul(O,z));return G&&K}negate(){return new k(this.px,n.neg(this.py),this.pz)}double(){const{a:I,b:M}=e,W=n.mul(M,$b),{px:z,py:B,pz:O}=this;let F=n.ZERO,G=n.ZERO,K=n.ZERO,$=n.mul(z,z),Z=n.mul(B,B),ee=n.mul(O,O),L=n.mul(z,B);return L=n.add(L,L),K=n.mul(z,O),K=n.add(K,K),F=n.mul(I,K),G=n.mul(W,ee),G=n.add(F,G),F=n.sub(Z,G),G=n.add(Z,G),G=n.mul(F,G),F=n.mul(L,F),K=n.mul(W,K),ee=n.mul(I,ee),L=n.sub($,ee),L=n.mul(I,L),L=n.add(L,K),K=n.add($,$),$=n.add(K,$),$=n.add($,ee),$=n.mul($,L),G=n.add(G,$),ee=n.mul(B,O),ee=n.add(ee,ee),$=n.mul(ee,L),F=n.sub(F,$),K=n.mul(ee,Z),K=n.add(K,K),K=n.add(K,K),new k(F,G,K)}add(I){v(I);const{px:M,py:W,pz:z}=this,{px:B,py:O,pz:F}=I;let G=n.ZERO,K=n.ZERO,$=n.ZERO;const Z=e.a,ee=n.mul(e.b,$b);let L=n.mul(M,B),V=n.mul(W,O),Q=n.mul(z,F),Y=n.add(M,W),ae=n.add(B,O);Y=n.mul(Y,ae),ae=n.add(L,V),Y=n.sub(Y,ae),ae=n.add(M,z);let ue=n.add(B,F);return ae=n.mul(ae,ue),ue=n.add(L,Q),ae=n.sub(ae,ue),ue=n.add(W,z),G=n.add(O,F),ue=n.mul(ue,G),G=n.add(V,Q),ue=n.sub(ue,G),$=n.mul(Z,ae),G=n.mul(ee,Q),$=n.add(G,$),G=n.sub(V,$),$=n.add(V,$),K=n.mul(G,$),V=n.add(L,L),V=n.add(V,L),Q=n.mul(Z,Q),ae=n.mul(ee,ae),V=n.add(V,Q),Q=n.sub(L,Q),Q=n.mul(Z,Q),ae=n.add(ae,Q),L=n.mul(V,ae),K=n.add(K,L),L=n.mul(ue,ae),G=n.mul(Y,G),G=n.sub(G,L),L=n.mul(Y,V),$=n.mul(ue,$),$=n.add($,L),new k(G,K,$)}subtract(I){return this.add(I.negate())}is0(){return this.equals(k.ZERO)}multiply(I){const{endo:M}=t;if(!r.isValidNot0(I))throw new Error("invalid scalar: out of range");let W,z;const B=O=>T.wNAFCached(this,O,k.normalizeZ);if(M){const{k1neg:O,k1:F,k2neg:G,k2:K}=M.splitScalar(I),{p:$,f:Z}=B(F),{p:ee,f:L}=B(K);z=Z.add(L),W=C(M.beta,$,ee,O,G)}else{const{p:O,f:F}=B(I);W=O,z=F}return k.normalizeZ([W,z])[0]}multiplyUnsafe(I){const{endo:M}=t,W=this;if(!r.isValid(I))throw new Error("invalid scalar: out of range");if(I===Y0||W.is0())return k.ZERO;if(I===Q0)return W;if(T.hasPrecomputes(this))return this.multiply(I);if(M){const{k1neg:z,k1:B,k2neg:O,k2:F}=M.splitScalar(I),{p1:G,p2:K}=FZ(k,W,B,F);return C(M.beta,G,K,z,O)}else return T.wNAFCachedUnsafe(W,I)}multiplyAndAddUnsafe(I,M,W){const z=this.multiplyUnsafe(M).add(I.multiplyUnsafe(W));return z.is0()?void 0:z}toAffine(I){return N(this,I)}isTorsionFree(){const{isTorsionFree:I}=t;return s===Q0?!0:I?I(k,this):T.wNAFCachedUnsafe(this,a).is0()}clearCofactor(){const{clearCofactor:I}=t;return s===Q0?this:I?I(k,this):this.multiplyUnsafe(s)}toBytes(I=!0){return A1("isCompressed",I),this.assertValidity(),h(k,this,I)}toRawBytes(I=!0){return this.toBytes(I)}toHex(I=!0){return fg(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}k.BASE=new k(e.Gx,e.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=r;const S=r.BITS,T=zZ(k,t.endo?Math.ceil(S/2):S);return k}function ER(e){return Uint8Array.of(e?2:3)}function GZ(e,t,n={}){rC(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||BH,s=t.hmac||((W,...z)=>dR(t.hash,W,id(...z))),{Fp:a,Fn:i}=e,{ORDER:o,BITS:c}=i;function u(W){const z=o>>Q0;return W>z}function h(W){return u(W)?i.neg(W):W}function f(W,z){if(!i.isValidNot0(z))throw new Error(`invalid signature ${W}: out of range 1..CURVE.n`)}class p{constructor(z,B,O){f("r",z),f("s",B),this.r=z,this.s=B,O!=null&&(this.recovery=O),Object.freeze(this)}static fromCompact(z){const B=i.BYTES,O=Ra("compactSignature",z,B*2);return new p(i.fromBytes(O.subarray(0,B)),i.fromBytes(O.subarray(B,B*2)))}static fromDER(z){const{r:B,s:O}=Vo.toSig(Ra("DER",z));return new p(B,O)}assertValidity(){}addRecoveryBit(z){return new p(this.r,this.s,z)}recoverPublicKey(z){const B=a.ORDER,{r:O,s:F,recovery:G}=this;if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");if(o*UZ<B&&G>1)throw new Error("recovery id is ambiguous for h>1 curve");const K=G===2||G===3?O+o:O;if(!a.isValid(K))throw new Error("recovery id 2 or 3 invalid");const $=a.toBytes(K),Z=e.fromHex(id(ER((G&1)===0),$)),ee=i.inv(K),L=A(Ra("msgHash",z)),V=i.create(-L*ee),Q=i.create(F*ee),Y=e.BASE.multiplyUnsafe(V).add(Z.multiplyUnsafe(Q));if(Y.is0())throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,i.neg(this.s),this.recovery):this}toBytes(z){if(z==="compact")return id(i.toBytes(this.r),i.toBytes(this.s));if(z==="der")return Ak(Vo.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return fg(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return fg(this.toBytes("compact"))}}const g=CR(i,n.allowedPrivateKeyLengths,n.wrapPrivateKey),b={isValidPrivateKey(W){try{return g(W),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const W=o;return PZ(r(vR(W)),W)},precompute(W=8,z=e.BASE){return z.precompute(W,!1)}};function y(W,z=!0){return e.fromPrivateKey(W).toBytes(z)}function w(W){if(typeof W=="bigint")return!1;if(W instanceof e)return!0;const z=Ra("key",W).length,B=a.BYTES,O=B+1,F=2*B+1;if(!(n.allowedPrivateKeyLengths||i.BYTES===O))return z===O||z===F}function v(W,z,B=!0){if(w(W)===!0)throw new Error("first arg must be private key");if(w(z)===!1)throw new Error("second arg must be public key");return e.fromHex(z).multiply(g(W)).toBytes(B)}const N=t.bits2int||function(W){if(W.length>8192)throw new Error("input is too large");const z=Kx(W),B=W.length*8-c;return B>0?z>>BigInt(B):z},A=t.bits2int_modN||function(W){return i.create(N(W))},C=Zx(c);function k(W){return vZ("num < 2^"+c,W,Y0,C),i.toBytes(W)}function S(W,z,B=T){if(["recovered","canonical"].some(Y=>Y in B))throw new Error("sign() legacy options not supported");const{hash:O}=t;let{lowS:F,prehash:G,extraEntropy:K}=B;F==null&&(F=!0),W=Ra("msgHash",W),dj(B),G&&(W=Ra("prehashed msgHash",O(W)));const $=A(W),Z=g(z),ee=[k(Z),k($)];if(K!=null&&K!==!1){const Y=K===!0?r(a.BYTES):K;ee.push(Ra("extraEntropy",Y))}const L=id(...ee),V=$;function Q(Y){const ae=N(Y);if(!i.isValidNot0(ae))return;const ue=i.inv(ae),re=e.BASE.multiply(ae).toAffine(),ie=i.create(re.x);if(ie===Y0)return;const pe=i.create(ue*i.create(V+ie*Z));if(pe===Y0)return;let oe=(re.x===ie?0:2)|Number(re.y&Q0),he=pe;return F&&u(pe)&&(he=h(pe),oe^=1),new p(ie,he,oe)}return{seed:L,k2sig:Q}}const T={lowS:t.lowS,prehash:!1},P={lowS:t.lowS,prehash:!1};function I(W,z,B=T){const{seed:O,k2sig:F}=S(W,z,B);return kZ(t.hash.outputLen,i.BYTES,s)(O,F)}e.BASE.precompute(8);function M(W,z,B,O=P){const F=W;z=Ra("msgHash",z),B=Ra("publicKey",B),dj(O);const{lowS:G,prehash:K,format:$}=O;if("strict"in O)throw new Error("options.strict was renamed to lowS");if($!==void 0&&!["compact","der","js"].includes($))throw new Error('format must be "compact", "der" or "js"');const Z=typeof F=="string"||Ek(F),ee=!Z&&!$&&typeof F=="object"&&F!==null&&typeof F.r=="bigint"&&typeof F.s=="bigint";if(!Z&&!ee)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,V;try{if(ee)if($===void 0||$==="js")L=new p(F.r,F.s);else throw new Error("invalid format");if(Z){try{$!=="compact"&&(L=p.fromDER(F))}catch(oe){if(!(oe instanceof Vo.Err))throw oe}!L&&$!=="der"&&(L=p.fromCompact(F))}V=e.fromHex(B)}catch{return!1}if(!L||G&&L.hasHighS())return!1;K&&(z=t.hash(z));const{r:Q,s:Y}=L,ae=A(z),ue=i.inv(Y),re=i.create(ae*ue),ie=i.create(Q*ue),pe=e.BASE.multiplyUnsafe(re).add(V.multiplyUnsafe(ie));return pe.is0()?!1:i.create(pe.x)===Q}return Object.freeze({getPublicKey:y,getSharedSecret:v,sign:I,verify:M,utils:b,Point:e,Signature:p})}function qZ(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Yx(t.n,e.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function VZ(e){const{CURVE:t,curveOpts:n}=qZ(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function KZ(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function ZZ(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=VZ(e),s=WZ(t,n),a=GZ(s,r,n);return KZ(e,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function YZ(e,t){const n=r=>ZZ({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const QZ=BigInt(1),q5=BigInt(2),hj=(e,t)=>(e+t/q5)/t;function JZ(e){const t=S1.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,h=u*u*e%t,f=Aa(h,n,t)*h%t,p=Aa(f,n,t)*h%t,g=Aa(p,q5,t)*u%t,b=Aa(g,s,t)*g%t,y=Aa(b,a,t)*b%t,w=Aa(y,o,t)*y%t,v=Aa(w,c,t)*w%t,N=Aa(v,o,t)*y%t,A=Aa(N,n,t)*h%t,C=Aa(A,i,t)*b%t,k=Aa(C,r,t)*u%t,S=Aa(k,q5,t);if(!V5.eql(V5.sqr(S),e))throw new Error("Cannot find square root");return S}const V5=Yx(S1.p,void 0,void 0,{sqrt:JZ}),sC=YZ({...S1,Fp:V5,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=S1.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-QZ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=hj(a*e,t),c=hj(-r*e,t);let u=za(e-o*n-c*s,t),h=za(-o*r-c*a,t);const f=u>i,p=h>i;if(f&&(u=t-u),p&&(h=t-h),u>i||h>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:p,k2:h}}}},DP),XZ=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:sC},Symbol.toStringTag,{value:"Module"}));function eY({r:e,s:t,to:n="hex",v:r,yParity:s}){const a=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new sC.Signature(Ha(e),Ha(t)).toCompactHex()}${a===0?"1b":"1c"}`;return n==="hex"?i:$a(i)}async function aC(e,t){const{address:n,factory:r,factoryData:s,hash:a,signature:i,universalSignatureVerifierAddress:o=e.chain?.contracts?.universalSignatureVerifier?.address,...c}=t,u=xi(i)?i:typeof i=="object"&&"r"in i&&"s"in i?eY(i):Pr(i),h=await(async()=>!r&&!s||tZ(u)?u:nZ({address:r,data:s,signature:u}))();try{const f=o?{to:o,data:ji({abi:zS,functionName:"isValidSig",args:[n,a,h]}),...c}:{data:Pk({abi:zS,args:[n,a,h],bytecode:Jq}),...c},{data:p}=await zt(e,jm,"call")(f);return uH(p??"0x0")}catch(f){try{if(ly(_c(n),await J9({hash:a,signature:i})))return!0}catch{}if(f instanceof dO)return!1;throw f}}async function tY(e,{address:t,message:n,factory:r,factoryData:s,signature:a,...i}){const o=aR(n);return aC(e,{address:t,factory:r,factoryData:s,hash:o,signature:a,...i})}async function nY(e,t){const{address:n,factory:r,factoryData:s,signature:a,message:i,primaryType:o,types:c,domain:u,...h}=t,f=qK({message:i,primaryType:o,types:c,domain:u});return aC(e,{address:n,factory:r,factoryData:s,hash:f,signature:a,...h})}function rY(e,t){const{abi:n,address:r,args:s,batch:a=!0,eventName:i,fromBlock:o,onError:c,onLogs:u,poll:h,pollingInterval:f=e.pollingInterval,strict:p}=t;return(typeof h<"u"?h:typeof o=="bigint"||!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const g=p??!1,b=Cr(["watchContractEvent",r,s,a,e.uid,i,f,g,o]);return fl(b,{onLogs:u,onError:c},y=>{let w;o!==void 0&&(w=o-1n);let v,N=!1;const A=_m(async()=>{if(!N){try{v=await zt(e,TO,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:g,fromBlock:o})}catch{}N=!0;return}try{let C;if(v)C=await zt(e,Wx,"getFilterChanges")({filter:v});else{const k=await zt(e,oy,"getBlockNumber")({});w&&w<k?C=await zt(e,RO,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:w+1n,toBlock:k,strict:g}):C=[],w=k}if(C.length===0)return;if(a)y.onLogs(C);else for(const k of C)y.onLogs([k])}catch(C){v&&C instanceof pg&&(N=!1),y.onError?.(C)}},{emitOnBegin:!0,interval:f});return async()=>{v&&await zt(e,Vx,"uninstallFilter")({filter:v}),A()}})})():(()=>{const g=p??!1,b=Cr(["watchContractEvent",r,s,a,e.uid,i,f,g]);let y=!0,w=()=>y=!1;return fl(b,{onLogs:u,onError:c},v=>((async()=>{try{const N=(()=>{if(e.transport.type==="fallback"){const k=e.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return k?k.value:e.transport}return e.transport})(),A=i?iy({abi:n,eventName:i,args:s}):[],{unsubscribe:C}=await N.subscribe({params:["logs",{address:r,topics:A}],onData(k){if(!y)return;const S=k.result;try{const{eventName:T,args:P}=Yk({abi:n,data:S.data,topics:S.topics,strict:p}),I=hl(S,{args:P,eventName:T});v.onLogs([I])}catch(T){let P,I;if(T instanceof dg||T instanceof Ix){if(p)return;P=T.abiItem.name,I=T.abiItem.inputs?.some(W=>!("name"in W&&W.name))}const M=hl(S,{args:I?[]:{},eventName:P});v.onLogs([M])}},onError(k){v.onError?.(k)}});w=C,y||w()}catch(N){c?.(N)}})(),()=>w()))})()}async function sY(e,t){const{abi:n,account:r=e.account,address:s,args:a,dataSuffix:i,functionName:o,...c}=t;if(typeof r>"u")throw new Ox({docsPath:"/docs/contract/writeContract"});const u=r?Jr(r):null,h=ji({abi:n,args:a,functionName:o});try{return await zt(e,HP,"sendTransaction")({data:`${h}${i?i.replace("0x",""):""}`,to:s,account:u,...c})}catch(f){throw Od(f,{abi:n,address:s,args:a,docsPath:"/docs/contract/writeContract",functionName:o,sender:u?.address})}}function Ba(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:a=>t(e,a)}const _w="2.19.0",aY=()=>`@wagmi/core@${_w}`;var AR=function(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},j1,SR;let xl=class K5 extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return aY()}constructor(t,n={}){super(),j1.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof K5?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof K5&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return AR(this,j1,"m",SR).call(this,this,t)}};j1=new WeakSet,SR=function e(t,n){return n?.(t)?t:t.cause?AR(this,j1,"m",e).call(this,t.cause,n):t};let bg=class extends xl{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}},iY=class extends xl{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}},oY=class extends xl{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}};class lY extends xl{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class cY extends xl{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class uY extends xl{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function Iw(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new iY;try{e.setState(o=>({...o,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...s}=t,a=await n.connect(s),i=a.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(o=>({...o,connections:new Map(o.connections).set(n.uid,{accounts:i,chainId:a.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i,chainId:a.chainId}}catch(r){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),r}}const Z5=256;let Hb=Z5,Wb;function jR(e=11){if(!Wb||Hb+e>Z5*2){Wb="",Hb=0;for(let t=0;t<Z5;t++)Wb+=(256+Math.random()*256|0).toString(16).substring(1)}return Wb.substring(Hb,Hb+++e)}function iC(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:a="Base Client",type:i="base"}=e,o=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),h=e.pollingInterval??u,f=e.cacheTime??h,p=e.account?Jr(e.account):void 0,{config:g,request:b,value:y}=e.transport({chain:n,pollingInterval:h}),w={...g,...y},v={account:p,batch:t,cacheTime:f,ccipRead:r,chain:n,key:s,name:a,pollingInterval:h,request:b,transport:w,type:i,uid:jR(),...o?{experimental_blockTag:o}:{}};function N(A){return C=>{const k=C(A);for(const T in v)delete k[T];const S={...A,...k};return Object.assign(S,{extend:N(S)})}}return Object.assign(v,{extend:N(v)})}function oC({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:a=150,timeout:i,type:o},c){const u=jR();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:a,timeout:i,type:o},request:OK(r,{methods:t,retryCount:s,retryDelay:a,uid:u}),value:c}}function dY(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:a}=t;return({retryCount:i})=>oC({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:a,type:"custom"})}function fj(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:a=hY,retryCount:i,retryDelay:o}=t;return({chain:c,pollingInterval:u=4e3,timeout:h,...f})=>{let p=e,g=()=>{};const b=oC({key:n,name:r,async request({method:y,params:w}){let v;const N=async(A=0)=>{const C=p[A]({...f,chain:c,retryCount:0,timeout:h});try{const k=await C.request({method:y,params:w});return g({method:y,params:w,response:k,transport:C,status:"success"}),k}catch(k){if(g({error:k,method:y,params:w,transport:C,status:"error"}),a(k)||A===p.length-1||(v??(v=p.slice(A+1).some(S=>{const{include:T,exclude:P}=S({chain:c}).config.methods||{};return T?T.includes(y):P?!P.includes(y):!0})),!v))throw k;return N(A+1)}};return N()},retryCount:i,retryDelay:o,type:"fallback"},{onResponse:y=>g=y,transports:p.map(y=>y({chain:c,retryCount:0}))});if(s){const y=typeof s=="object"?s:{};fY({chain:c,interval:y.interval??u,onTransports:w=>p=w,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:p,weights:y.weights})}return b}}function hY(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===v1.code||e.code===Vr.code||od.nodeMessage.test(e.message)||e.code===5e3))}function fY({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:a=1e3,transports:i,weights:o={}}){const{stability:c=.7,latency:u=.3}=o,h=[],f=async()=>{const p=await Promise.all(i.map(async y=>{const w=y({chain:e,retryCount:0,timeout:a}),v=Date.now();let N,A;try{await(r?r({transport:w}):w.request({method:"net_listening"})),A=1}catch{A=0}finally{N=Date.now()}return{latency:N-v,success:A}}));h.push(p),h.length>s&&h.shift();const g=Math.max(...h.map(y=>Math.max(...y.map(({latency:w})=>w)))),b=i.map((y,w)=>{const v=h.map(k=>k[w].latency),N=1-v.reduce((k,S)=>k+S,0)/v.length/g,A=h.map(k=>k[w].success),C=A.reduce((k,S)=>k+S,0)/A.length;return C===0?[0,w]:[u*N+c*C,w]}).sort((y,w)=>w[0]-y[0]);n(b.map(([,y])=>i[y])),await E1(t),f()};f()}class mY extends We{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Gb(e,t={}){const{batch:n,fetchOptions:r,key:s="http",methods:a,name:i="HTTP JSON-RPC",onFetchRequest:o,onFetchResponse:c,retryDelay:u,raw:h}=t;return({chain:f,retryCount:p,timeout:g})=>{const{batchSize:b=1e3,wait:y=0}=typeof n=="object"?n:{},w=t.retryCount??p,v=g??t.timeout??1e4,N=e||f?.rpcUrls.default.http[0];if(!N)throw new mY;const A=$K(N,{fetchOptions:r,onRequest:o,onResponse:c,timeout:v});return oC({key:s,methods:a,name:i,async request({method:C,params:k}){const S={method:C,params:k},{schedule:T}=AO({id:N,wait:y,shouldSplitBatch(W){return W.length>b},fn:W=>A.request({body:W}),sort:(W,z)=>W.id-z.id}),P=async W=>n?T(W):[await A.request({body:W})],[{error:I,result:M}]=await P(S);if(h)return{error:I,result:M};if(I)throw new Mk({body:S,error:I,url:N});return M},retryCount:w,retryDelay:u,timeout:v,type:"http"},{fetchOptions:r,url:N})}}function pY(e){const{scheme:t,statement:n,...r}=e.match(gY)?.groups??{},{chainId:s,expirationTime:a,issuedAt:i,notBefore:o,requestId:c,...u}=e.match(yY)?.groups??{},h=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...a?{expirationTime:new Date(a)}:{},...i?{issuedAt:new Date(i)}:{},...o?{notBefore:new Date(o)}:{},...c?{requestId:c}:{},...h?{resources:h}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const gY=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,yY=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function bY(e){const{address:t,domain:n,message:r,nonce:s,scheme:a,time:i=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||a&&r.scheme!==a||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||!pa(r.address,{strict:!1})||t&&!ly(r.address,t))return!1}catch{return!1}return!0}async function wY(e,t){const{address:n,domain:r,message:s,nonce:a,scheme:i,signature:o,time:c=new Date,...u}=t,h=pY(s);if(!h.address||!bY({address:n,domain:r,message:h,nonce:a,scheme:i,time:c}))return!1;const f=aR(s);return aC(e,{address:h.address,hash:f,signature:o,...u})}function xY(e){return{call:t=>jm(e,t),createAccessList:t=>IO(e,t),createBlockFilter:()=>xV(e),createContractEventFilter:t=>TO(e,t),createEventFilter:t=>PO(e,t),createPendingTransactionFilter:()=>OO(e),estimateContractGas:t=>NV(e,t),estimateGas:t=>Fx(e,t),getBalance:t=>Bk(e,t),getBlobBaseFee:()=>kV(e),getBlock:t=>eo(e,t),getBlockNumber:t=>oy(e,t),getBlockTransactionCount:t=>_V(e,t),getBytecode:t=>QS(e,t),getChainId:()=>zx(e),getCode:t=>QS(e,t),getContractEvents:t=>RO(e,t),getEip712Domain:t=>OV(e,t),getEnsAddress:t=>sV(e,t),getEnsAvatar:t=>yV(e,t),getEnsName:t=>bV(e,t),getEnsResolver:t=>wV(e,t),getEnsText:t=>_O(e,t),getFeeHistory:t=>zV(e,t),estimateFeesPerGas:t=>DW(e,t),getFilterChanges:t=>Wx(e,t),getFilterLogs:t=>FV(e,t),getGasPrice:()=>Fk(e),getLogs:t=>Jk(e,t),getProof:t=>yZ(e,t),estimateMaxPriorityFeePerGas:t=>FW(e,t),getStorageAt:t=>DV(e,t),getTransaction:t=>Gx(e,t),getTransactionConfirmations:t=>BV(e,t),getTransactionCount:t=>Lk(e,t),getTransactionReceipt:t=>jw(e,t),multicall:t=>zO(e,t),prepareTransactionRequest:t=>Dx(e,t),readContract:t=>ho(e,t),sendRawTransaction:t=>$P(e,t),simulate:t=>B5(e,t),simulateBlocks:t=>B5(e,t),simulateCalls:t=>iZ(e,t),simulateContract:t=>wZ(e,t),verifyMessage:t=>tY(e,t),verifySiweMessage:t=>wY(e,t),verifyTypedData:t=>nY(e,t),uninstallFilter:t=>Vx(e,t),waitForTransactionReceipt:t=>cR(e,t),watchBlocks:t=>lZ(e,t),watchBlockNumber:t=>oR(e,t),watchContractEvent:t=>rY(e,t),watchEvent:t=>cZ(e,t),watchPendingTransactions:t=>lR(e,t)}}function bve(e){const{key:t="public",name:n="Public Client"}=e;return iC({...e,key:t,name:n,type:"publicClient"}).extend(xY)}function wve(e){const{r:t,s:n}=sC.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,a]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:St(t,{size:32}),s:St(n,{size:32}),v:s,yParity:a}:{r:St(t,{size:32}),s:St(n,{size:32}),yParity:a}}async function Qx(e,t={}){let n;if(t.connector){const{connector:u}=t;if(e.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new uY({connector:u});const[h,f]=await Promise.all([u.getAccounts().catch(p=>{if(t.account===null)return[];throw p}),u.getChainId()]);n={accounts:h,chainId:f,connector:u}}else n=e.state.connections.get(e.state.current);if(!n)throw new oY;const r=t.chainId??n.chainId,s=await n.connector.getChainId();if(s!==n.chainId)throw new cY({connectionChainId:n.chainId,connectorChainId:s});const a=n.connector;if(a.getClient)return a.getClient({chainId:r});const i=Jr(t.account??n.accounts[0]);if(i&&(i.address=_c(i.address)),t.account&&!n.accounts.some(u=>u.toLowerCase()===i.address.toLowerCase()))throw new lY({address:i.address,connector:a});const o=e.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return iC({account:i,chain:o,name:"Connector Client",transport:u=>dY(c)({...u,retryCount:0})})}async function Y5(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:s,current:a}=e.state;n=s.get(a)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(s=>{if(r.size===0)return{...s,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...s,connections:new Map(r),current:a.connector.uid}});{const s=e.state.current;if(!s)return;const a=e.state.connections.get(s)?.connector;if(!a)return;await e.storage?.setItem("recentConnectorId",a.id)}}function _R(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(NW[e])}async function vY(e,t){const{chainId:n,connector:r,...s}=t;let a;t.account?a=t.account:a=(await Qx(e,{account:t.account,chainId:n,connector:r})).account;const i=e.getClient({chainId:n});return Ba(i,Fx,"estimateGas")({...s,account:a})}function Mf(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,s=r?.[0],a=e.chains.find(o=>o.id===n?.chainId),i=e.state.status;switch(i){case"connected":return{address:s,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:i};case"reconnecting":return{address:s,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:i};case"connecting":return{address:s,addresses:r,chain:a,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:i};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:i}}}async function NY(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...a}=t,i=e.getClient({chainId:r});return Ba(i,zO,"multicall")({allowFailure:n,contracts:s,...a})}function kY(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return Ba(s,ho,"readContract")(r)}async function CY(e,t){const{allowFailure:n=!0,blockNumber:r,blockTag:s,...a}=t,i=t.contracts;try{const o={};for(const[f,p]of i.entries()){const g=p.chainId??e.state.chainId;o[g]||(o[g]=[]),o[g]?.push({contract:p,index:f})}const c=()=>Object.entries(o).map(([f,p])=>NY(e,{...a,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(f),contracts:p.map(({contract:g})=>g)})),u=(await Promise.all(c())).flat(),h=Object.values(o).flatMap(f=>f.map(({index:p})=>p));return u.reduce((f,p,g)=>(f&&(f[h[g]]=p),f),[])}catch(o){if(o instanceof hO)throw o;const c=()=>i.map(u=>kY(e,{...u,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(c())).map(u=>u.status==="fulfilled"?{result:u.value,status:"success"}:{error:u.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function IR(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:a,token:i,unit:o="ether"}=t;if(i)try{return await mj(e,{balanceAddress:n,chainId:a,symbolType:"string",tokenAddress:i})}catch(f){if(f.name==="ContractFunctionExecutionError"){const p=await mj(e,{balanceAddress:n,chainId:a,symbolType:"bytes32",tokenAddress:i}),g=P9(so(p.symbol,{dir:"right"}));return{...p,symbol:g}}throw f}const c=e.getClient({chainId:a}),u=await Ba(c,Bk,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),h=e.chains.find(f=>f.id===a)??c.chain;return{decimals:h.nativeCurrency.decimals,formatted:Cm(u,_R(o)),symbol:h.nativeCurrency.symbol,value:u}}async function mj(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:a,unit:i}=t,o={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:a},[c,u,h]=await CY(e,{allowFailure:!1,contracts:[{...o,functionName:"balanceOf",args:[n],chainId:r},{...o,functionName:"decimals",chainId:r},{...o,functionName:"symbol",chainId:r}]}),f=Cm(c??"0",_R(i??u));return{decimals:u,formatted:f,symbol:h,value:c}}function pj(e){return e.state.chainId}function Uc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Uc(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(a&&!Uc(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}let MN=[];function gj(e){const t=e.chains;return Uc(MN,t)?MN:(MN=t,t)}let zN=[];function ii(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||Uc(zN,t)?zN:(zN=t,t)}let FN=[];function yj(e){const t=e.connectors;return Uc(FN,t)?FN:(FN=t,t)}async function EY(e,t){const{account:n,chainId:r,...s}=t,a=n??Mf(e).address,i=e.getClient({chainId:r});return Ba(i,Dx,"prepareTransactionRequest")({...s,...a?{account:a}:{}})}let DN=!1;async function Q5(e,t={}){if(DN)return[];DN=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let h;typeof u=="function"?h=e._internal.connectors.setup(u):h=u,n.push(h)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const s={};for(const[,u]of e.state.connections)s[u.connector.id]=1;r&&(s[r]=0);const a=Object.keys(s).length>0?[...n].sort((u,h)=>(s[u.id]??10)-(s[h.id]??10)):n;let i=!1;const o=[],c=[];for(const u of a){const h=await u.getProvider().catch(()=>{});if(!h||c.some(p=>p===h)||!await u.isAuthorized())continue;const f=await u.connect({isReconnecting:!0}).catch(()=>null);f&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(p=>{const g=new Map(i?p.connections:new Map).set(u.uid,{accounts:f.accounts,chainId:f.chainId,connector:u});return{...p,current:i?p.current:u.uid,connections:g}}),o.push({accounts:f.accounts,chainId:f.chainId,connector:u}),c.push(h),i=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(i?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),DN=!1,o}async function AY(e,t){const{account:n,chainId:r,connector:s,...a}=t;let i;return typeof n=="object"&&n?.type==="local"?i=e.getClient({chainId:r}):i=await Qx(e,{account:n??void 0,chainId:r,connector:s}),await Ba(i,HP,"sendTransaction")({...a,...n?{account:n}:{},chain:r?{id:r}:null,gas:a.gas??void 0})}async function SY(e,t){const{account:n,connector:r,...s}=t;let a;return typeof n=="object"&&n.type==="local"?a=e.getClient():a=await Qx(e,{account:n,connector:r}),Ba(a,bZ,"signMessage")({...s,...n?{account:n}:{}})}let vc=class extends xl{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}},jY=class extends xl{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}};async function J5(e,t){const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(t.connector?.uid??e.state.current);if(s){const i=s.connector;if(!i.switchChain)throw new jY({connector:i});return await i.switchChain({addEthereumChainParameter:n,chainId:r})}const a=e.chains.find(i=>i.id===r);if(!a)throw new bg;return e.setState(i=>({...i,chainId:r})),a}async function _Y(e,t){const{chainId:n,timeout:r=0,...s}=t,a=e.getClient({chainId:n}),i=await Ba(a,cR,"waitForTransactionReceipt")({...s,timeout:r});if(i.status==="reverted"){const o=await Ba(a,Gx,"getTransaction")({hash:i.transactionHash}),c=await Ba(a,jm,"call")({...o,data:o.input,gasPrice:o.type!=="eip1559"?o.gasPrice:void 0,maxFeePerGas:o.type==="eip1559"?o.maxFeePerGas:void 0,maxPriorityFeePerGas:o.type==="eip1559"?o.maxPriorityFeePerGas:void 0}),u=c?.data?P9(`0x${c.data.substring(138)}`):"unknown reason";throw new Error(u)}return{...i,chainId:a.chain.id}}function TR(e,t){const{onChange:n}=t;return e.subscribe(()=>Mf(e),n,{equalityFn(r,s){const{connector:a,...i}=r,{connector:o,...c}=s;return Uc(i,c)&&a?.id===o?.id&&a?.uid===o?.uid}})}function IY(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function PR(e,t){const{onChange:n}=t;return e.subscribe(()=>ii(e),n,{equalityFn:Uc})}function OR(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function TY(e,t){const{syncConnectedChain:n=e._internal.syncConnectedChain,...r}=t;let s;const a=c=>{s&&s();const u=e.getClient({chainId:c});return s=Ba(u,lR,"watchPendingTransactions")(r),s},i=a(t.chainId);let o;return n&&!t.chainId&&(o=e.subscribe(({chainId:c})=>c,async c=>a(c))),()=>{i?.(),o?.()}}async function PY(e,t){const{account:n,chainId:r,connector:s,...a}=t;let i;return typeof n=="object"&&n?.type==="local"?i=e.getClient({chainId:r}):i=await Qx(e,{account:n??void 0,chainId:r,connector:s}),await Ba(i,sY,"writeContract")({...a,...n?{account:n}:{},chain:r?{id:r}:null})}function xve(e){return e}Jx.type="injected";function Jx(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...OY[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let s,a,i,o;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:Jx.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(i||(i=this.onConnect.bind(this),u.on("connect",i)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:h}={}){const f=await this.getProvider();if(!f)throw new vc;let p=[];if(h)p=await this.getAccounts().catch(()=>[]);else if(t)try{p=(await f.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(g=>_c(g)),p.length>0&&(p=await this.getAccounts())}catch(g){const b=g;if(b.code===Vr.code)throw new Vr(b);if(b.code===Of.code)throw b}try{!p?.length&&!h&&(p=(await f.request({method:"eth_requestAccounts"})).map(b=>_c(b))),i&&(f.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),f.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),f.on("chainChanged",a)),o||(o=this.onDisconnect.bind(this),f.on("disconnect",o));let g=await this.getChainId();return u&&g!==u&&(g=(await this.switchChain({chainId:u}).catch(b=>{if(b.code===Vr.code)throw b;return{id:g}}))?.id??g),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:p,chainId:g}}catch(g){const b=g;throw b.code===Vr.code?new Vr(b):b.code===Of.code?new Of(b):b}},async disconnect(){const u=await this.getProvider();if(!u)throw new vc;a&&(u.removeListener("chainChanged",a),a=void 0),o&&(u.removeListener("disconnect",o),o=void 0),i||(i=this.onConnect.bind(this),u.on("connect",i));try{await XO(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new vc;return(await u.request({method:"eth_accounts"})).map(h=>_c(h))},async getChainId(){const u=await this.getProvider();if(!u)throw new vc;const h=await u.request({method:"eth_chainId"});return Number(h)},async getProvider(){if(typeof window>"u")return;let u;const h=r();return typeof h.provider=="function"?u=h.provider(window):typeof h.provider=="string"?u=Tw(window,h.provider):u=h.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const u=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",u),!!await this.getProvider()),h=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(f=>window.addEventListener("ethereum#initialized",()=>f(u()),{once:!0}))]:[],new Promise(f=>setTimeout(()=>f(u()),h))]))return!0}throw new vc}return!!(await yg(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:h}){const f=await this.getProvider();if(!f)throw new vc;const p=c.chains.find(b=>b.id===h);if(!p)throw new Lc(new bg);const g=new Promise(b=>{const y=w=>{"chainId"in w&&w.chainId===h&&(c.emitter.off("change",y),b())};c.emitter.on("change",y)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:St(h)}]}).then(async()=>{await this.getChainId()===h&&c.emitter.emit("change",{chainId:h})}),g]),p}catch(b){const y=b;if(y.code===4902||y?.data?.originalError?.code===4902)try{const{default:w,...v}=p.blockExplorers??{};let N;u?.blockExplorerUrls?N=u.blockExplorerUrls:w&&(N=[w.url,...Object.values(v).map(k=>k.url)]);let A;u?.rpcUrls?.length?A=u.rpcUrls:A=[p.rpcUrls.default?.http[0]??""];const C={blockExplorerUrls:N,chainId:St(h),chainName:u?.chainName??p.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??p.nativeCurrency,rpcUrls:A};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[C]}).then(async()=>{if(await this.getChainId()===h)c.emitter.emit("change",{chainId:h});else throw new Vr(new Error("User rejected switch after adding network."))}),g]),p}catch(w){throw new Vr(w)}throw y.code===Vr.code?new Vr(y):new Lc(y)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(h=>_c(h))})},onChainChanged(u){const h=Number(u);c.emitter.emit("change",{chainId:h})},async onConnect(u){const h=await this.getAccounts();if(h.length===0)return;const f=Number(u.chainId);c.emitter.emit("connect",{accounts:h,chainId:f});const p=await this.getProvider();p&&(i&&(p.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),p.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),p.on("chainChanged",a)),o||(o=this.onDisconnect.bind(this),p.on("disconnect",o)))},async onDisconnect(u){const h=await this.getProvider();u&&u.code===1013&&h&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),h&&(a&&(h.removeListener("chainChanged",a),a=void 0),o&&(h.removeListener("disconnect",o),o=void 0),i||(i=this.onConnect.bind(this),h.on("connect",i))))}})}const OY={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:Tw(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Tw(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:Tw(e,"isPhantom")}}};function Tw(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}function RY(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function MY(){const e=new Set;let t=[];const n=()=>RY(s=>{t.some(({info:a})=>a.uuid===s.info.uuid)||(t=[...t,s],e.forEach(a=>a(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:s}){return t.find(a=>a.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(s,{emitImmediately:a}={}){return e.add(s),a&&s(t,{added:t}),()=>e.delete(s)}}}const zY=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(a,i,o)=>{let c=a;if(i){const u=o?.equalityFn||Object.is;let h=a(r.getState());c=f=>{const p=a(f);if(!u(h,p)){const g=h;i(h=p,g)}},o?.fireImmediately&&i(h,h)}return s(c)},e(t,n,r)},FY=zY;function DY(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var s;const a=o=>o===null?null:JSON.parse(o,void 0),i=(s=n.getItem(r))!=null?s:null;return i instanceof Promise?i.then(a):a(i)},setItem:(r,s)=>n.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>n.removeItem(r)}}const X5=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return X5(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return X5(r)(n)}}}},BY=(e,t)=>(n,r,s)=>{let a={storage:DY(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...t},i=!1;const o=new Set,c=new Set;let u=a.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},r,s);const h=()=>{const y=a.partialize({...r()});return u.setItem(a.name,{state:y,version:a.version})},f=s.setState;s.setState=(y,w)=>{f(y,w),h()};const p=e((...y)=>{n(...y),h()},r,s);s.getInitialState=()=>p;let g;const b=()=>{var y,w;if(!u)return;i=!1,o.forEach(N=>{var A;return N((A=r())!=null?A:p)});const v=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(y=r())!=null?y:p))||void 0;return X5(u.getItem.bind(u))(a.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==a.version){if(a.migrate)return[!0,a.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var A;const[C,k]=N;if(g=a.merge(k,(A=r())!=null?A:p),n(g,!0),C)return h()}).then(()=>{v?.(g,void 0),g=r(),i=!0,c.forEach(N=>N(g))}).catch(N=>{v?.(void 0,N)})};return s.persist={setOptions:y=>{a={...a,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>b(),hasHydrated:()=>i,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||b(),g||p},LY=BY,bj=e=>{let t;const n=new Set,r=(o,c)=>{const u=typeof o=="function"?o(t):o;if(!Object.is(u,t)){const h=t;t=c??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(f=>f(t,h))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>i,subscribe:o=>(n.add(o),()=>n.delete(o))},i=t=e(r,s,a);return a},BN=e=>e?bj(e):bj;var wj={exports:{}},xj;function UY(){return xj||(xj=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function a(c,u,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new s(h,f||c,p),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],g]:c._events[b].push(g):(c._events[b]=g,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)t.call(u,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,h=this._events[u];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,u,h,f,p,g){var b=n?n+c:c;if(!this._events[b])return!1;var y=this._events[b],w=arguments.length,v,N;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,p),!0;case 6:return y.fn.call(y.context,u,h,f,p,g),!0}for(N=1,v=new Array(w-1);N<w;N++)v[N-1]=arguments[N];y.fn.apply(y.context,v)}else{var A=y.length,C;for(N=0;N<A;N++)switch(y[N].once&&this.removeListener(c,y[N].fn,void 0,!0),w){case 1:y[N].fn.call(y[N].context);break;case 2:y[N].fn.call(y[N].context,u);break;case 3:y[N].fn.call(y[N].context,u,h);break;case 4:y[N].fn.call(y[N].context,u,h,f);break;default:if(!v)for(C=1,v=new Array(w-1);C<w;C++)v[C-1]=arguments[C];y[N].fn.apply(y[N].context,v)}}return!0},o.prototype.on=function(c,u,h){return a(this,c,u,h,!1)},o.prototype.once=function(c,u,h){return a(this,c,u,h,!0)},o.prototype.removeListener=function(c,u,h,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!h||g.context===h)&&i(this,p);else{for(var b=0,y=[],w=g.length;b<w;b++)(g[b].fn!==u||f&&!g[b].once||h&&g[b].context!==h)&&y.push(g[b]);y.length?this._events[p]=y.length===1?y[0]:y:i(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&i(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(wj)),wj.exports}var $Y=UY();const HY=Nm($Y);let WY=class{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new HY})}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,...t){const n=t[0];this._emitter.emit(e,{uid:this.uid,...n})}listenerCount(e){return this._emitter.listenerCount(e)}};function GY(e){return new WY(e)}function qY(e,t){return JSON.parse(e,(n,r)=>{let s=r;return s?.__type==="bigint"&&(s=BigInt(s.value)),s?.__type==="Map"&&(s=new Map(s.value)),t?.(n,s)??s})}function vj(e,t){return e.slice(0,t).join(".")||"."}function Nj(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function VY(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],a=[];return function(i,o){if(typeof o=="object")if(s.length){const c=Nj(s,this);c===0?s[s.length]=this:(s.splice(c),a.splice(c)),a[a.length]=i;const u=Nj(s,o);if(u!==0)return r?t.call(this,i,o,vj(a,u)):`[ref=${vj(a,u)}]`}else s[0]=o,a[0]=i;return n?e.call(this,i,o):o}}function KY(e,t,n,r){return JSON.stringify(e,VY((s,a)=>{let i=a;return typeof i=="bigint"&&(i={__type:"bigint",value:a.toString()}),i instanceof Map&&(i={__type:"Map",value:Array.from(a.entries())}),t?.(s,i)??i},r),n??void 0)}function ZY(e){const{deserialize:t=qY,key:n="wagmi",serialize:r=KY,storage:s=RR}=e;function a(i){return i instanceof Promise?i.then(o=>o).catch(()=>null):i}return{...s,key:n,async getItem(i,o){const c=s.getItem(`${n}.${i}`),u=await a(c);return u?t(u)??null:o??null},async setItem(i,o){const c=`${n}.${i}`;o===null?await a(s.removeItem(c)):await a(s.setItem(c,r(o)))},async removeItem(i){await a(s.removeItem(`${n}.${i}`))}}}const RR={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function YY(){const e=typeof window<"u"&&window.localStorage?window.localStorage:RR;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const e2=256;let qb=e2,Vb;function QY(e=11){if(!Vb||qb+e>e2*2){Vb="",qb=0;for(let t=0;t<e2;t++)Vb+=(256+Math.random()*256|0).toString(16).substring(1)}return Vb.substring(qb,qb+++e)}function MR(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=ZY({storage:YY()}),syncConnectedChain:r=!0,ssr:s=!1,...a}=e,i=typeof window<"u"&&t?MY():void 0,o=BN(()=>a.chains),c=BN(()=>{const k=[],S=new Set;for(const T of a.connectors??[]){const P=u(T);if(k.push(P),!s&&P.rdns){const I=typeof P.rdns=="string"?[P.rdns]:P.rdns;for(const M of I)S.add(M)}}if(!s&&i){const T=i.getProviders();for(const P of T)S.has(P.info.rdns)||k.push(u(h(P)))}return k});function u(k){const S=GY(QY()),T={...k({emitter:S,chains:o.getState(),storage:n,transports:a.transports}),emitter:S,uid:S.uid};return S.on("connect",A),T.setup?.(),T}function h(k){const{info:S}=k,T=k.provider;return Jx({target:{...S,id:S.rdns,provider:T}})}const f=new Map;function p(k={}){const S=k.chainId??w.getState().chainId,T=o.getState().find(I=>I.id===S);if(k.chainId&&!T)throw new bg;{const I=f.get(w.getState().chainId);if(I&&!T)return I;if(!T)throw new bg}{const I=f.get(S);if(I)return I}let P;if(a.client)P=a.client({chain:T});else{const I=T.id,M=o.getState().map(B=>B.id),W={},z=Object.entries(a);for(const[B,O]of z)if(!(B==="chains"||B==="client"||B==="connectors"||B==="transports"))if(typeof O=="object")if(I in O)W[B]=O[I];else{if(M.some(F=>F in O))continue;W[B]=O}else W[B]=O;P=iC({...W,chain:T,batch:W.batch??{multicall:!0},transport:B=>a.transports[I]({...B,connectors:c})})}return f.set(S,P),P}function g(){return{chainId:o.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const y="0.0.0-canary-";_w.startsWith(y)?b=Number.parseInt(_w.replace(y,"")):b=Number.parseInt(_w.split(".")[0]??"0");const w=BN(FY(n?LY(g,{migrate(k,S){if(S===b)return k;const T=g(),P=v(k,T.chainId);return{...T,chainId:P}},name:"store",partialize(k){return{connections:{__type:"Map",value:Array.from(k.connections.entries()).map(([S,T])=>{const{id:P,name:I,type:M,uid:W}=T.connector;return[S,{...T,connector:{id:P,name:I,type:M,uid:W}}]})},chainId:k.chainId,current:k.current}},merge(k,S){typeof k=="object"&&k&&"status"in k&&delete k.status;const T=v(k,S.chainId);return{...S,...k,chainId:T}},skipHydration:s,storage:n,version:b}):g));w.setState(g());function v(k,S){return k&&typeof k=="object"&&"chainId"in k&&typeof k.chainId=="number"&&o.getState().some(T=>T.id===k.chainId)?k.chainId:S}r&&w.subscribe(({connections:k,current:S})=>S?k.get(S)?.chainId:void 0,k=>{if(o.getState().some(S=>S.id===k))return w.setState(S=>({...S,chainId:k??S.chainId}))}),i?.subscribe(k=>{const S=new Set,T=new Set;for(const I of c.getState())if(S.add(I.id),I.rdns){const M=typeof I.rdns=="string"?[I.rdns]:I.rdns;for(const W of M)T.add(W)}const P=[];for(const I of k){if(T.has(I.info.rdns))continue;const M=u(h(I));S.has(M.id)||P.push(M)}n&&!w.persist.hasHydrated()||c.setState(I=>[...I,...P],!0)});function N(k){w.setState(S=>{const T=S.connections.get(k.uid);return T?{...S,connections:new Map(S.connections).set(k.uid,{accounts:k.accounts??T.accounts,chainId:k.chainId??T.chainId,connector:T.connector})}:S})}function A(k){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(S=>{const T=c.getState().find(P=>P.uid===k.uid);return T?(T.emitter.listenerCount("connect")&&T.emitter.off("connect",N),T.emitter.listenerCount("change")||T.emitter.on("change",N),T.emitter.listenerCount("disconnect")||T.emitter.on("disconnect",C),{...S,connections:new Map(S.connections).set(k.uid,{accounts:k.accounts,chainId:k.chainId,connector:T}),current:k.uid,status:"connected"}):S})}function C(k){w.setState(S=>{const T=S.connections.get(k.uid);if(T){const I=T.connector;I.emitter.listenerCount("change")&&T.connector.emitter.off("change",N),I.emitter.listenerCount("disconnect")&&T.connector.emitter.off("disconnect",C),I.emitter.listenerCount("connect")||T.connector.emitter.on("connect",A)}if(S.connections.delete(k.uid),S.connections.size===0)return{...S,connections:new Map,current:null,status:"disconnected"};const P=S.connections.values().next().value;return{...S,connections:new Map(S.connections),current:P.connector.uid}})}return{get chains(){return o.getState()},get connectors(){return c.getState()},storage:n,getClient:p,get state(){return w.getState()},setState(k){let S;typeof k=="function"?S=k(w.getState()):S=k;const T=g();typeof S!="object"&&(S=T),Object.keys(T).some(P=>!(P in S))&&(S=T),w.setState(S,!0)},subscribe(k,S,T){return w.subscribe(k,S,T?{...T,fireImmediately:T.emitImmediately}:void 0)},_internal:{mipd:i,store:w,ssr:!!s,syncConnectedChain:r,transports:a.transports,chains:{setState(k){const S=typeof k=="function"?k(o.getState()):k;if(S.length!==0)return o.setState(S,!0)},subscribe(k){return o.subscribe(k)}},connectors:{providerDetailToConnector:h,setup:u,setState(k){return c.setState(typeof k=="function"?k(c.getState()):k,!0)},subscribe(k){return c.subscribe(k)}},events:{change:N,connect:A,disconnect:C}}}}function JY(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{const a=new Set;for(const c of s??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const h of u)a.add(h)}const i=[],o=e._internal.mipd?.getProviders()??[];for(const c of o){if(a.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),h=e._internal.connectors.setup(u);i.push(h)}return[...s,...i]})),r?Q5(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function XY(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:a}=JY(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||a();const i=j.useRef(!0);return j.useEffect(()=>{if(i.current&&n._internal.ssr)return a(),()=>{i.current=!1}},[]),t}const zR=j.createContext(void 0);function eQ(e){const{children:t,config:n}=e,r={value:n};return j.createElement(XY,e,j.createElement(zR.Provider,r,t))}const tQ="2.16.2",nQ=()=>`wagmi@${tQ}`;let rQ=class extends xl{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return nQ()}},sQ=class extends rQ{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}};function vl(e={}){const t=e.config??j.useContext(zR);if(!t)throw new sQ;return t}function aQ(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var kj={exports:{}},LN={},Cj={exports:{}},UN={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ej;function iQ(){if(Ej)return UN;Ej=1;var e=Qg();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function o(f,p){var g=p(),b=r({inst:{value:g,getSnapshot:p}}),y=b[0].inst,w=b[1];return a(function(){y.value=g,y.getSnapshot=p,c(y)&&w({inst:y})},[f,g,p]),s(function(){return c(y)&&w({inst:y}),f(function(){c(y)&&w({inst:y})})},[f]),i(g),g}function c(f){var p=f.getSnapshot;f=f.value;try{var g=p();return!n(f,g)}catch{return!0}}function u(f,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return UN.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,UN}var Aj;function oQ(){return Aj||(Aj=1,Cj.exports=iQ()),Cj.exports}/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Sj;function lQ(){if(Sj)return LN;Sj=1;var e=Qg(),t=oQ();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return LN.useSyncExternalStoreWithSelector=function(u,h,f,p,g){var b=a(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=o(function(){function v(S){if(!N){if(N=!0,A=S,S=p(S),g!==void 0&&y.hasValue){var T=y.value;if(g(T,S))return C=T}return C=S}if(T=C,r(A,S))return T;var P=p(S);return g!==void 0&&g(T,P)?(A=S,T):(A=S,C=P)}var N=!1,A,C,k=f===void 0?null:f;return[function(){return v(h())},k===null?void 0:function(){return v(k())}]},[h,f,p,g]);var w=s(u,b[0],b[1]);return i(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},LN}var jj;function cQ(){return jj||(jj=1,kj.exports=lQ()),kj.exports}var uQ=cQ();const $N=e=>typeof e=="object"&&!Array.isArray(e);function dQ(e,t,n=t,r=Uc){const s=j.useRef([]),a=uQ.useSyncExternalStoreWithSelector(e,t,n,i=>i,(i,o)=>{if($N(i)&&$N(o)&&s.current.length){for(const c of s.current)if(!r(i[c],o[c]))return!1;return!0}return r(i,o)});return j.useMemo(()=>{if($N(a)){const i={...a};let o={};for(const[c,u]of Object.entries(i))o={...o,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(i,o),i}return a},[a])}function hQ(e={}){const t=vl(e);return dQ(n=>TR(t,{onChange:n}),()=>Mf(t))}var Im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zd=typeof window>"u"||"Deno"in globalThis;function gs(){}function fQ(e,t){return typeof e=="function"?e(t):e}function t2(e){return typeof e=="number"&&e>=0&&e!==1/0}function FR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fc(e,t){return typeof e=="function"?e(t):e}function Fa(e,t){return typeof e=="function"?e(t):e}function _j(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:o}=e;if(i){if(r){if(t.queryHash!==lC(i,t.options))return!1}else if(!wg(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||a&&!a(t))}function Ij(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Fd(t.options.mutationKey)!==Fd(a))return!1}else if(!wg(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function lC(e,t){return(t?.queryKeyHashFn||Fd)(e)}function Fd(e){return JSON.stringify(e,(t,n)=>n2(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function wg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>wg(e[n],t[n])):!1}function DR(e,t){if(e===t)return e;const n=Tj(e)&&Tj(t);if(n||n2(e)&&n2(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,o=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<i;h++){const f=n?h:a[h];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,u++):(o[f]=DR(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:o}return t}function _1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Tj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function n2(e){if(!Pj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Pj(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Pj(e){return Object.prototype.toString.call(e)==="[object Object]"}function mQ(e){return new Promise(t=>{setTimeout(t,e)})}function r2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?DR(e,t):t}function pQ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function gQ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var cC=Symbol();function BR(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===cC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function LR(e,t){return typeof e=="function"?e(...t):!!e}var Rh,gu,Sp,Oj,yQ=(Oj=class extends Im{constructor(){super(),Lt(this,Rh),Lt(this,gu),Lt(this,Sp),ut(this,Sp,e=>{if(!zd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){xe(this,gu)||this.setEventListener(xe(this,Sp))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,gu))==null||e.call(this),ut(this,gu,void 0))}setEventListener(e){var t;ut(this,Sp,e),(t=xe(this,gu))==null||t.call(this),ut(this,gu,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){xe(this,Rh)!==e&&(ut(this,Rh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof xe(this,Rh)=="boolean"?xe(this,Rh):globalThis.document?.visibilityState!=="hidden"}},Rh=new WeakMap,gu=new WeakMap,Sp=new WeakMap,Oj),uC=new yQ,jp,yu,_p,Rj,bQ=(Rj=class extends Im{constructor(){super(),Lt(this,jp,!0),Lt(this,yu),Lt(this,_p),ut(this,_p,e=>{if(!zd&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){xe(this,yu)||this.setEventListener(xe(this,_p))}onUnsubscribe(){var e;this.hasListeners()||((e=xe(this,yu))==null||e.call(this),ut(this,yu,void 0))}setEventListener(e){var t;ut(this,_p,e),(t=xe(this,yu))==null||t.call(this),ut(this,yu,e(this.setOnline.bind(this)))}setOnline(e){xe(this,jp)!==e&&(ut(this,jp,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return xe(this,jp)}},jp=new WeakMap,yu=new WeakMap,_p=new WeakMap,Rj),I1=new bQ;function s2(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function wQ(e){return Math.min(1e3*2**e,3e4)}function UR(e){return(e??"online")==="online"?I1.isOnline():!0}var $R=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function HN(e){return e instanceof $R}function HR(e){let t=!1,n=0,r=!1,s;const a=s2(),i=y=>{r||(p(new $R(y)),e.abort?.())},o=()=>{t=!0},c=()=>{t=!1},u=()=>uC.isFocused()&&(e.networkMode==="always"||I1.isOnline())&&e.canRun(),h=()=>UR(e.networkMode)&&e.canRun(),f=y=>{r||(r=!0,e.onSuccess?.(y),s?.(),a.resolve(y))},p=y=>{r||(r=!0,e.onError?.(y),s?.(),a.reject(y))},g=()=>new Promise(y=>{s=w=>{(r||u())&&y(w)},e.onPause?.()}).then(()=>{s=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{if(r)return;const N=e.retry??(zd?0:3),A=e.retryDelay??wQ,C=typeof A=="function"?A(n,v):A,k=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,v);if(t||!k){p(v);return}n++,e.onFail?.(n,v),mQ(C).then(()=>u()?void 0:g()).then(()=>{t?p(v):b()})})};return{promise:a,cancel:i,continue:()=>(s?.(),a),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?b():g().then(b),a)}}var xQ=e=>setTimeout(e,0);function vQ(){let e=[],t=0,n=o=>{o()},r=o=>{o()},s=xQ;const a=o=>{t?e.push(o):s(()=>{n(o)})},i=()=>{const o=e;e=[],o.length&&s(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var Tr=vQ(),Mh,Mj,WR=(Mj=class{constructor(){Lt(this,Mh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t2(this.gcTime)&&ut(this,Mh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zd?1/0:300*1e3))}clearGcTimeout(){xe(this,Mh)&&(clearTimeout(xe(this,Mh)),ut(this,Mh,void 0))}},Mh=new WeakMap,Mj),Ip,zh,ei,Fh,ds,Kb,Dh,Bi,Po,zj,NQ=(zj=class extends WR{constructor(e){super(),Lt(this,Bi),Lt(this,Ip),Lt(this,zh),Lt(this,ei),Lt(this,Fh),Lt(this,ds),Lt(this,Kb),Lt(this,Dh),ut(this,Dh,!1),ut(this,Kb,e.defaultOptions),this.setOptions(e.options),this.observers=[],ut(this,Fh,e.client),ut(this,ei,xe(this,Fh).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ut(this,Ip,kQ(this.options)),this.state=e.state??xe(this,Ip),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return xe(this,ds)?.promise}setOptions(e){this.options={...xe(this,Kb),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,ei).remove(this)}setData(e,t){const n=r2(this.state.data,e,this.options);return sn(this,Bi,Po).call(this,{data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){sn(this,Bi,Po).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){const t=xe(this,ds)?.promise;return xe(this,ds)?.cancel(e),t?t.then(gs).catch(gs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,Ip))}isActive(){return this.observers.some(e=>Fa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!FR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),xe(this,ds)?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),xe(this,ds)?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),xe(this,ei).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(xe(this,ds)&&(xe(this,Dh)?xe(this,ds).cancel({revert:!0}):xe(this,ds).cancelRetry()),this.scheduleGc()),xe(this,ei).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sn(this,Bi,Po).call(this,{type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(xe(this,ds))return xe(this,ds).continueRetry(),xe(this,ds).promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(ut(this,Dh,!0),n.signal)})},s=()=>{const o=BR(this.options,t),c=(()=>{const u={client:xe(this,Fh),queryKey:this.queryKey,meta:this.meta};return r(u),u})();return ut(this,Dh,!1),this.options.persister?this.options.persister(o,c,this):o(c)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:xe(this,Fh),state:this.state,fetchFn:s};return r(o),o})();this.options.behavior?.onFetch(a,this),ut(this,zh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&sn(this,Bi,Po).call(this,{type:"fetch",meta:a.fetchOptions?.meta});const i=o=>{HN(o)&&o.silent||sn(this,Bi,Po).call(this,{type:"error",error:o}),HN(o)||(xe(this,ei).config.onError?.(o,this),xe(this,ei).config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return ut(this,ds,HR({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(c){i(c);return}xe(this,ei).config.onSuccess?.(o,this),xe(this,ei).config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:i,onFail:(o,c)=>{sn(this,Bi,Po).call(this,{type:"failed",failureCount:o,error:c})},onPause:()=>{sn(this,Bi,Po).call(this,{type:"pause"})},onContinue:()=>{sn(this,Bi,Po).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),xe(this,ds).start()}},Ip=new WeakMap,zh=new WeakMap,ei=new WeakMap,Fh=new WeakMap,ds=new WeakMap,Kb=new WeakMap,Dh=new WeakMap,Bi=new WeakSet,Po=function(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...GR(n.data,this.options),fetchMeta:e.meta??null};case"success":return ut(this,zh,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return HN(r)&&r.revert&&xe(this,zh)?{...xe(this,zh),fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Tr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),xe(this,ei).notify({query:this,type:"updated",action:e})})},zj);function GR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oo,Fj,CQ=(Fj=class extends Im{constructor(e={}){super(),Lt(this,Oo),this.config=e,ut(this,Oo,new Map)}build(e,t,n){const r=t.queryKey,s=t.queryHash??lC(r,t);let a=this.get(s);return a||(a=new NQ({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){xe(this,Oo).has(e.queryHash)||(xe(this,Oo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=xe(this,Oo).get(e.queryHash);t&&(e.destroy(),t===e&&xe(this,Oo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Tr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return xe(this,Oo).get(e)}getAll(){return[...xe(this,Oo).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>_j(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>_j(e,n)):t}notify(e){Tr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Oo=new WeakMap,Fj),Ro,Rs,Bh,Mo,Kl,Dj,EQ=(Dj=class extends WR{constructor(e){super(),Lt(this,Mo),Lt(this,Ro),Lt(this,Rs),Lt(this,Bh),this.mutationId=e.mutationId,ut(this,Rs,e.mutationCache),ut(this,Ro,[]),this.state=e.state||qR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){xe(this,Ro).includes(e)||(xe(this,Ro).push(e),this.clearGcTimeout(),xe(this,Rs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ut(this,Ro,xe(this,Ro).filter(t=>t!==e)),this.scheduleGc(),xe(this,Rs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){xe(this,Ro).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Rs).remove(this))}continue(){return xe(this,Bh)?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{sn(this,Mo,Kl).call(this,{type:"continue"})};ut(this,Bh,HR({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{sn(this,Mo,Kl).call(this,{type:"failed",failureCount:s,error:a})},onPause:()=>{sn(this,Mo,Kl).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Rs).canRun(this)}));const n=this.state.status==="pending",r=!xe(this,Bh).canStart();try{if(n)t();else{sn(this,Mo,Kl).call(this,{type:"pending",variables:e,isPaused:r}),await xe(this,Rs).config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&sn(this,Mo,Kl).call(this,{type:"pending",context:a,variables:e,isPaused:r})}const s=await xe(this,Bh).start();return await xe(this,Rs).config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await xe(this,Rs).config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),sn(this,Mo,Kl).call(this,{type:"success",data:s}),s}catch(s){try{throw await xe(this,Rs).config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await xe(this,Rs).config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{sn(this,Mo,Kl).call(this,{type:"error",error:s})}}finally{xe(this,Rs).runNext(this)}}},Ro=new WeakMap,Rs=new WeakMap,Bh=new WeakMap,Mo=new WeakSet,Kl=function(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Tr.batch(()=>{xe(this,Ro).forEach(n=>{n.onMutationUpdate(e)}),xe(this,Rs).notify({mutation:this,type:"updated",action:e})})},Dj);function qR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zl,Li,Zb,Bj,AQ=(Bj=class extends Im{constructor(e={}){super(),Lt(this,Zl),Lt(this,Li),Lt(this,Zb),this.config=e,ut(this,Zl,new Set),ut(this,Li,new Map),ut(this,Zb,0)}build(e,t,n){const r=new EQ({mutationCache:this,mutationId:++e5(this,Zb)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){xe(this,Zl).add(e);const t=Yb(e);if(typeof t=="string"){const n=xe(this,Li).get(t);n?n.push(e):xe(this,Li).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(xe(this,Zl).delete(e)){const t=Yb(e);if(typeof t=="string"){const n=xe(this,Li).get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&xe(this,Li).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Yb(e);if(typeof t=="string"){const n=xe(this,Li).get(t)?.find(r=>r.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Yb(e);return typeof t=="string"?xe(this,Li).get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Tr.batch(()=>{xe(this,Zl).forEach(e=>{this.notify({type:"removed",mutation:e})}),xe(this,Zl).clear(),xe(this,Li).clear()})}getAll(){return Array.from(xe(this,Zl))}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ij(t,n))}findAll(e={}){return this.getAll().filter(t=>Ij(e,t))}notify(e){Tr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Tr.batch(()=>Promise.all(e.map(t=>t.continue().catch(gs))))}},Zl=new WeakMap,Li=new WeakMap,Zb=new WeakMap,Bj);function Yb(e){return e.options.scope?.id}function Lj(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,a=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},p=BR(t.options,t.fetchOptions),g=async(b,y,w)=>{if(h)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const v=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};return f(k),k})(),N=await p(v),{maxPages:A}=t.options,C=w?gQ:pQ;return{pages:C(b.pages,N,A),pageParams:C(b.pageParams,y,A)}};if(s&&a.length){const b=s==="backward",y=b?SQ:Uj,w={pages:a,pageParams:i},v=y(r,w);o=await g(w,v,b)}else{const b=e??a.length;do{const y=c===0?i[0]??r.initialPageParam:Uj(r,o);if(c>0&&y==null)break;o=await g(o,y),c++}while(c<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Uj(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function SQ(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var pr,bu,wu,Tp,Pp,xu,Op,Rp,$j,VR=($j=class{constructor(e={}){Lt(this,pr),Lt(this,bu),Lt(this,wu),Lt(this,Tp),Lt(this,Pp),Lt(this,xu),Lt(this,Op),Lt(this,Rp),ut(this,pr,e.queryCache||new CQ),ut(this,bu,e.mutationCache||new AQ),ut(this,wu,e.defaultOptions||{}),ut(this,Tp,new Map),ut(this,Pp,new Map),ut(this,xu,0)}mount(){e5(this,xu)._++,xe(this,xu)===1&&(ut(this,Op,uC.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,pr).onFocus())})),ut(this,Rp,I1.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,pr).onOnline())})))}unmount(){var e,t;e5(this,xu)._--,xe(this,xu)===0&&((e=xe(this,Op))==null||e.call(this),ut(this,Op,void 0),(t=xe(this,Rp))==null||t.call(this),ut(this,Rp,void 0))}isFetching(e){return xe(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xe(this,bu).findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return xe(this,pr).get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=xe(this,pr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Fc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return xe(this,pr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=xe(this,pr).get(r.queryHash)?.state.data,a=fQ(t,s);if(a!==void 0)return xe(this,pr).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Tr.batch(()=>xe(this,pr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return xe(this,pr).get(t.queryHash)?.state}removeQueries(e){const t=xe(this,pr);Tr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=xe(this,pr);return Tr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Tr.batch(()=>xe(this,pr).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(gs).catch(gs)}invalidateQueries(e,t={}){return Tr.batch(()=>(xe(this,pr).findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Tr.batch(()=>xe(this,pr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(gs)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(gs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=xe(this,pr).build(this,t);return n.isStaleByTime(Fc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(gs).catch(gs)}fetchInfiniteQuery(e){return e.behavior=Lj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(gs).catch(gs)}ensureInfiniteQueryData(e){return e.behavior=Lj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return I1.isOnline()?xe(this,bu).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,pr)}getMutationCache(){return xe(this,bu)}getDefaultOptions(){return xe(this,wu)}setDefaultOptions(e){ut(this,wu,e)}setQueryDefaults(e,t){xe(this,Tp).set(Fd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xe(this,Tp).values()],n={};return t.forEach(r=>{wg(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){xe(this,Pp).set(Fd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xe(this,Pp).values()],n={};return t.forEach(r=>{wg(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xe(this,wu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cC&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...xe(this,wu).mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xe(this,pr).clear(),xe(this,bu).clear()}},pr=new WeakMap,bu=new WeakMap,wu=new WeakMap,Tp=new WeakMap,Pp=new WeakMap,xu=new WeakMap,Op=new WeakMap,Rp=new WeakMap,$j),ea,fn,Qb,Ms,Lh,Mp,vu,Nu,Jb,zp,Fp,Uh,$h,ku,Dp,gr,Bp,WN,GN,qN,VN,KN,ZN,YN,Hj,Wj,jQ=(Wj=class extends Im{constructor(e,t){super(),Lt(this,gr),Lt(this,ea),Lt(this,fn),Lt(this,Qb),Lt(this,Ms),Lt(this,Lh),Lt(this,Mp),Lt(this,vu),Lt(this,Nu),Lt(this,Jb),Lt(this,zp),Lt(this,Fp),Lt(this,Uh),Lt(this,$h),Lt(this,ku),Lt(this,Dp,new Set),this.options=t,ut(this,ea,e),ut(this,Nu,null),ut(this,vu,s2()),this.options.experimental_prefetchInRender||xe(this,vu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(xe(this,fn).addObserver(this),Gj(xe(this,fn),this.options)?sn(this,gr,Bp).call(this):this.updateResult(),sn(this,gr,VN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return a2(xe(this,fn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return a2(xe(this,fn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,sn(this,gr,KN).call(this),sn(this,gr,ZN).call(this),xe(this,fn).removeObserver(this)}setOptions(e){const t=this.options,n=xe(this,fn);if(this.options=xe(this,ea).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fa(this.options.enabled,xe(this,fn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");sn(this,gr,YN).call(this),xe(this,fn).setOptions(this.options),t._defaulted&&!_1(this.options,t)&&xe(this,ea).getQueryCache().notify({type:"observerOptionsUpdated",query:xe(this,fn),observer:this});const r=this.hasListeners();r&&qj(xe(this,fn),n,this.options,t)&&sn(this,gr,Bp).call(this),this.updateResult(),r&&(xe(this,fn)!==n||Fa(this.options.enabled,xe(this,fn))!==Fa(t.enabled,xe(this,fn))||Fc(this.options.staleTime,xe(this,fn))!==Fc(t.staleTime,xe(this,fn)))&&sn(this,gr,WN).call(this);const s=sn(this,gr,GN).call(this);r&&(xe(this,fn)!==n||Fa(this.options.enabled,xe(this,fn))!==Fa(t.enabled,xe(this,fn))||s!==xe(this,ku))&&sn(this,gr,qN).call(this,s)}getOptimisticResult(e){const t=xe(this,ea).getQueryCache().build(xe(this,ea),e),n=this.createResult(t,e);return IQ(this,n)&&(ut(this,Ms,n),ut(this,Mp,this.options),ut(this,Lh,xe(this,fn).state)),n}getCurrentResult(){return xe(this,Ms)}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){xe(this,Dp).add(e)}getCurrentQuery(){return xe(this,fn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=xe(this,ea).defaultQueryOptions(e),n=xe(this,ea).getQueryCache().build(xe(this,ea),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return sn(this,gr,Bp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),xe(this,Ms)))}createResult(e,t){const n=xe(this,fn),r=this.options,s=xe(this,Ms),a=xe(this,Lh),i=xe(this,Mp),o=e!==n?e.state:xe(this,Qb),{state:c}=e;let u={...c},h=!1,f;if(t._optimisticResults){const S=this.hasListeners(),T=!S&&Gj(e,t),P=S&&qj(e,n,t,r);(T||P)&&(u={...u,...GR(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:b}=u;f=u.data;let y=!1;if(t.placeholderData!==void 0&&f===void 0&&b==="pending"){let S;s?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(S=s.data,y=!0):S=typeof t.placeholderData=="function"?t.placeholderData(xe(this,Fp)?.state.data,xe(this,Fp)):t.placeholderData,S!==void 0&&(b="success",f=r2(s?.data,S,t),h=!0)}if(t.select&&f!==void 0&&!y)if(s&&f===a?.data&&t.select===xe(this,Jb))f=xe(this,zp);else try{ut(this,Jb,t.select),f=t.select(f),f=r2(s?.data,f,t),ut(this,zp,f),ut(this,Nu,null)}catch(S){ut(this,Nu,S)}xe(this,Nu)&&(p=xe(this,Nu),f=xe(this,zp),g=Date.now(),b="error");const w=u.fetchStatus==="fetching",v=b==="pending",N=b==="error",A=v&&w,C=f!==void 0,k={status:b,fetchStatus:u.fetchStatus,isPending:v,isSuccess:b==="success",isError:N,isInitialLoading:A,isLoading:A,data:f,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:w,isRefetching:w&&!v,isLoadingError:N&&!C,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&C,isStale:dC(e,t),refetch:this.refetch,promise:xe(this,vu),isEnabled:Fa(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const S=I=>{k.status==="error"?I.reject(k.error):k.data!==void 0&&I.resolve(k.data)},T=()=>{const I=ut(this,vu,k.promise=s2());S(I)},P=xe(this,vu);switch(P.status){case"pending":e.queryHash===n.queryHash&&S(P);break;case"fulfilled":(k.status==="error"||k.data!==P.value)&&T();break;case"rejected":(k.status!=="error"||k.error!==P.reason)&&T();break}}return k}updateResult(){const e=xe(this,Ms),t=this.createResult(xe(this,fn),this.options);if(ut(this,Lh,xe(this,fn).state),ut(this,Mp,this.options),xe(this,Lh).data!==void 0&&ut(this,Fp,xe(this,fn)),_1(t,e))return;ut(this,Ms,t);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!xe(this,Dp).size)return!0;const a=new Set(s??xe(this,Dp));return this.options.throwOnError&&a.add("error"),Object.keys(xe(this,Ms)).some(i=>{const o=i;return xe(this,Ms)[o]!==e[o]&&a.has(o)})};sn(this,gr,Hj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&sn(this,gr,VN).call(this)}},ea=new WeakMap,fn=new WeakMap,Qb=new WeakMap,Ms=new WeakMap,Lh=new WeakMap,Mp=new WeakMap,vu=new WeakMap,Nu=new WeakMap,Jb=new WeakMap,zp=new WeakMap,Fp=new WeakMap,Uh=new WeakMap,$h=new WeakMap,ku=new WeakMap,Dp=new WeakMap,gr=new WeakSet,Bp=function(e){sn(this,gr,YN).call(this);let t=xe(this,fn).fetch(this.options,e);return e?.throwOnError||(t=t.catch(gs)),t},WN=function(){sn(this,gr,KN).call(this);const e=Fc(this.options.staleTime,xe(this,fn));if(zd||xe(this,Ms).isStale||!t2(e))return;const t=FR(xe(this,Ms).dataUpdatedAt,e)+1;ut(this,Uh,setTimeout(()=>{xe(this,Ms).isStale||this.updateResult()},t))},GN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(xe(this,fn)):this.options.refetchInterval)??!1},qN=function(e){sn(this,gr,ZN).call(this),ut(this,ku,e),!(zd||Fa(this.options.enabled,xe(this,fn))===!1||!t2(xe(this,ku))||xe(this,ku)===0)&&ut(this,$h,setInterval(()=>{(this.options.refetchIntervalInBackground||uC.isFocused())&&sn(this,gr,Bp).call(this)},xe(this,ku)))},VN=function(){sn(this,gr,WN).call(this),sn(this,gr,qN).call(this,sn(this,gr,GN).call(this))},KN=function(){xe(this,Uh)&&(clearTimeout(xe(this,Uh)),ut(this,Uh,void 0))},ZN=function(){xe(this,$h)&&(clearInterval(xe(this,$h)),ut(this,$h,void 0))},YN=function(){const e=xe(this,ea).getQueryCache().build(xe(this,ea),this.options);if(e===xe(this,fn))return;const t=xe(this,fn);ut(this,fn,e),ut(this,Qb,e.state),this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))},Hj=function(e){Tr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(xe(this,Ms))}),xe(this,ea).getQueryCache().notify({query:xe(this,fn),type:"observerResultsUpdated"})})},Wj);function _Q(e,t){return Fa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gj(e,t){return _Q(e,t)||e.state.data!==void 0&&a2(e,t,t.refetchOnMount)}function a2(e,t,n){if(Fa(t.enabled,e)!==!1&&Fc(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&dC(e,t)}return!1}function qj(e,t,n,r){return(e!==t||Fa(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&dC(e,n)}function dC(e,t){return Fa(t.enabled,e)!==!1&&e.isStaleByTime(Fc(t.staleTime,e))}function IQ(e,t){return!_1(e.getCurrentResult(),t)}var Cu,Eu,ta,Yl,Au,Xb,QN,Vj,TQ=(Vj=class extends Im{constructor(e,t){super(),Lt(this,Au),Lt(this,Cu),Lt(this,Eu),Lt(this,ta),Lt(this,Yl),ut(this,Cu,e),this.setOptions(t),this.bindMethods(),sn(this,Au,Xb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=xe(this,Cu).defaultMutationOptions(e),_1(this.options,t)||xe(this,Cu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:xe(this,ta),observer:this}),t?.mutationKey&&this.options.mutationKey&&Fd(t.mutationKey)!==Fd(this.options.mutationKey)?this.reset():xe(this,ta)?.state.status==="pending"&&xe(this,ta).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||xe(this,ta)?.removeObserver(this)}onMutationUpdate(e){sn(this,Au,Xb).call(this),sn(this,Au,QN).call(this,e)}getCurrentResult(){return xe(this,Eu)}reset(){xe(this,ta)?.removeObserver(this),ut(this,ta,void 0),sn(this,Au,Xb).call(this),sn(this,Au,QN).call(this)}mutate(e,t){return ut(this,Yl,t),xe(this,ta)?.removeObserver(this),ut(this,ta,xe(this,Cu).getMutationCache().build(xe(this,Cu),this.options)),xe(this,ta).addObserver(this),xe(this,ta).execute(e)}},Cu=new WeakMap,Eu=new WeakMap,ta=new WeakMap,Yl=new WeakMap,Au=new WeakSet,Xb=function(){const e=xe(this,ta)?.state??qR();ut(this,Eu,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},QN=function(e){Tr.batch(()=>{if(xe(this,Yl)&&this.hasListeners()){const t=xe(this,Eu).variables,n=xe(this,Eu).context;e?.type==="success"?(xe(this,Yl).onSuccess?.(e.data,t,n),xe(this,Yl).onSettled?.(e.data,null,t,n)):e?.type==="error"&&(xe(this,Yl).onError?.(e.error,t,n),xe(this,Yl).onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(t=>{t(xe(this,Eu))})})},Vj);function PQ(e){return JSON.stringify(e,(t,n)=>OQ(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function OQ(e){if(!Kj(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Kj(n)||!n.hasOwnProperty("isPrototypeOf"))}function Kj(e){return Object.prototype.toString.call(e)==="[object Object]"}function RQ(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:a,maxPages:i,meta:o,networkMode:c,queryFn:u,queryHash:h,queryKey:f,queryKeyHashFn:p,retry:g,retryDelay:b,structuralSharing:y,getPreviousPageParam:w,getNextPageParam:v,initialPageParam:N,_optimisticResults:A,enabled:C,notifyOnChangeProps:k,placeholderData:S,refetchInterval:T,refetchIntervalInBackground:P,refetchOnMount:I,refetchOnReconnect:M,refetchOnWindowFocus:W,retryOnMount:z,select:B,staleTime:O,suspense:F,throwOnError:G,config:K,connector:$,query:Z,...ee}=e;return ee}function MQ(e){return{mutationFn(t){return Iw(e,t)},mutationKey:["connect"]}}function zQ(e){return{mutationFn(t){return Y5(e,t)},mutationKey:["disconnect"]}}function FQ(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...a}=n[1];if(!r)throw new Error("address is required");return await IR(e,{...a,address:r})??null},queryKey:DQ(t)}}function DQ(e={}){return["balance",RQ(e)]}function BQ(e){return{mutationFn(t){return J5(e,t)},mutationKey:["switchChain"]}}var KR=j.createContext(void 0),ZR=e=>{const t=j.useContext(KR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},YR=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(KR.Provider,{value:e,children:t})),QR=j.createContext(!1),LQ=()=>j.useContext(QR);QR.Provider;function UQ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $Q=j.createContext(UQ()),HQ=()=>j.useContext($Q),WQ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},GQ=e=>{j.useEffect(()=>{e.clearReset()},[e])},qQ=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||LR(n,[e.error,r])),VQ=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},KQ=(e,t)=>e.isLoading&&e.isFetching&&!t,ZQ=(e,t)=>e?.suspense&&t.isPending,Zj=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function YQ(e,t,n){const r=LQ(),s=HQ(),a=ZR(),i=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=r?"isRestoring":"optimistic",VQ(i),WQ(i,s),GQ(s);const o=!a.getQueryCache().get(i.queryHash),[c]=j.useState(()=>new t(a,i)),u=c.getOptimisticResult(i),h=!r&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(f=>{const p=h?c.subscribe(Tr.batchCalls(f)):gs;return c.updateResult(),p},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(i)},[i,c]),ZQ(i,u))throw Zj(i,c,s);if(qQ({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(i,u),i.experimental_prefetchInRender&&!zd&&KQ(u,r)&&(o?Zj(i,c,s):a.getQueryCache().get(i.queryHash)?.promise)?.catch(gs).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?u:c.trackResult(u)}function QQ(e,t){return YQ(e,jQ)}function hC(e,t){const n=ZR(),[r]=j.useState(()=>new TQ(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const s=j.useSyncExternalStore(j.useCallback(i=>r.subscribe(Tr.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=j.useCallback((i,o)=>{r.mutate(i,o).catch(gs)},[r]);if(s.error&&LR(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function JQ(e){const t=QQ({...e,queryKeyHashFn:PQ});return t.queryKey=e.queryKey,t}function JR(e={}){const t=vl(e);return j.useSyncExternalStore(n=>IY(t,{onChange:n}),()=>pj(t),()=>pj(t))}function XQ(e={}){const{address:t,query:n={}}=e,r=vl(e),s=JR({config:r}),a=FQ(r,{...e,chainId:e.chainId??s}),i=!!(t&&(n.enabled??!0));return JQ({...n,...a,enabled:i})}function eJ(e={}){const t=vl(e);return j.useSyncExternalStore(n=>aQ(t,{onChange:n}),()=>gj(t),()=>gj(t))}function tJ(e={}){const t=vl(e);return j.useSyncExternalStore(n=>OR(t,{onChange:n}),()=>yj(t),()=>yj(t))}function nJ(e={}){const{mutation:t}=e,n=vl(e),r=MQ(n),{mutate:s,mutateAsync:a,...i}=hC({...t,...r});return j.useEffect(()=>n.subscribe(({status:o})=>o,(o,c)=>{c==="connected"&&o==="disconnected"&&i.reset()}),[n,i.reset]),{...i,connect:s,connectAsync:a,connectors:tJ({config:n})}}function rJ(e={}){const t=vl(e);return j.useSyncExternalStore(n=>PR(t,{onChange:n}),()=>ii(t),()=>ii(t))}function sJ(e={}){const{mutation:t}=e,n=vl(e),r=zQ(n),{mutate:s,mutateAsync:a,...i}=hC({...t,...r});return{...i,connectors:rJ({config:n}).map(o=>o.connector),disconnect:s,disconnectAsync:a}}function aJ(e={}){const{mutation:t}=e,n=vl(e),r=BQ(n),{mutate:s,mutateAsync:a,...i}=hC({...t,...r});return{...i,chains:eJ({config:n}),switchChain:s,switchChainAsync:a}}var iJ=Object.defineProperty,XR=e=>{throw TypeError(e)},oJ=(e,t,n)=>t in e?iJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pe=(e,t,n)=>oJ(e,typeof t!="symbol"?t+"":t,n),fC=(e,t,n)=>t.has(e)||XR("Cannot "+n),J=(e,t,n)=>(fC(e,t,"read from private field"),n?n.call(e):t.get(e)),De=(e,t,n)=>t.has(e)?XR("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),de=(e,t,n,r)=>(fC(e,t,"write to private field"),t.set(e,n),n),Ye=(e,t,n)=>(fC(e,t,"access private method"),n),T1=(e,t,n,r)=>({set _(s){de(e,t,s)},get _(){return J(e,t,r)}});const lJ="6.15.0";function cJ(e,t,n){const r=t.split("|").map(a=>a.trim());for(let a=0;a<r.length;a++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=e,s}async function ys(e){const t=Object.keys(e);return(await Promise.all(t.map(n=>Promise.resolve(e[n])))).reduce((n,r,s)=>(n[t[s]]=r,n),{})}function Ut(e,t,n){for(let r in t){let s=t[r];const a=n?n[r]:null;a&&cJ(s,a,r),Object.defineProperty(e,r,{enumerable:!0,value:s,writable:!1})}}function Cf(e,t){if(e==null)return"null";if(t==null&&(t=new Set),typeof e=="object"){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(n=>Cf(n,t)).join(", ")+" ]";if(e instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<e.length;s++)r+=n[e[s]>>4],r+=n[e[s]&15];return r}if(typeof e=="object"&&typeof e.toJSON=="function")return Cf(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(r=>`${Cf(r,t)}: ${Cf(e[r],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Zr(e,t){return e&&e.code===t}function mC(e){return Zr(e,"CALL_EXCEPTION")}function Qn(e,t,n){let r=e;{const a=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Cf(n)}`);for(const i in n){if(i==="shortMessage")continue;const o=n[i];a.push(i+"="+Cf(o))}}a.push(`code=${t}`),a.push(`version=${lJ}`),a.length&&(e+=" ("+a.join(", ")+")")}let s;switch(t){case"INVALID_ARGUMENT":s=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(e);break;default:s=new Error(e)}return Ut(s,{code:t}),n&&Object.assign(s,n),s.shortMessage==null&&Ut(s,{shortMessage:r}),s}function Ge(e,t,n,r){if(!e)throw Qn(t,n,r)}function ke(e,t,n,r){Ge(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function eM(e,t,n){n==null&&(n=""),n&&(n=": "+n),Ge(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Ge(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");e.push(t)}catch{}return e},[]);function cy(e,t,n){if(n==null&&(n=""),e!==t){let r=n,s="new";n&&(r+=".",s+=" "+n),Ge(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function tM(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((e.length-2)/2);let s=2;for(let a=0;a<r.length;a++)r[a]=parseInt(e.substring(s,s+2),16),s+=2;return r}ke(!1,"invalid BytesLike value",t||"value",e)}function Zt(e,t){return tM(e,t,!1)}function ws(e,t){return tM(e,t,!0)}function Un(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0)}function pC(e){return Un(e,!0)||e instanceof Uint8Array}const Yj="0123456789abcdef";function it(e){const t=Zt(e);let n="0x";for(let r=0;r<t.length;r++){const s=t[r];n+=Yj[(s&240)>>4]+Yj[s&15]}return n}function Xn(e){return"0x"+e.map(t=>it(t).substring(2)).join("")}function Cd(e){return Un(e,!0)?(e.length-2)/2:Zt(e).length}function cr(e,t,n){const r=Zt(e);return n!=null&&n>r.length&&Ge(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),it(r.slice(t??0,n??r.length))}function nM(e,t,n){const r=Zt(e);Ge(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const s=new Uint8Array(t);return s.fill(0),n?s.set(r,t-r.length):s.set(r,0),it(s)}function La(e,t){return nM(e,t,!0)}function rM(e,t){return nM(e,t,!1)}const Xx=BigInt(0),mi=BigInt(1),Ef=9007199254740991;function P1(e,t){const n=ev(e,"value"),r=BigInt(en(t,"width"));if(Ge(n>>r===Xx,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-mi){const s=(mi<<r)-mi;return-((~n&s)+mi)}return n}function gC(e,t){let n=yt(e,"value");const r=BigInt(en(t,"width")),s=mi<<r-mi;if(n<Xx){n=-n,Ge(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});const a=(mi<<r)-mi;return(~n&a)+mi}else Ge(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return n}function ud(e,t){const n=ev(e,"value"),r=BigInt(en(t,"bits"));return n&(mi<<r)-mi}function yt(e,t){switch(typeof e){case"bigint":return e;case"number":return ke(Number.isInteger(e),"underflow",t||"value",e),ke(e>=-Ef&&e<=Ef,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(n){ke(!1,`invalid BigNumberish string: ${n.message}`,t||"value",e)}}ke(!1,"invalid BigNumberish value",t||"value",e)}function ev(e,t){const n=yt(e,t);return Ge(n>=Xx,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Qj="0123456789abcdef";function tv(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Qj[n>>4],t+=Qj[n&15];return BigInt(t)}return yt(e)}function en(e,t){switch(typeof e){case"bigint":return ke(e>=-Ef&&e<=Ef,"overflow",t||"value",e),Number(e);case"number":return ke(Number.isInteger(e),"underflow",t||"value",e),ke(e>=-Ef&&e<=Ef,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return en(BigInt(e),t)}catch(n){ke(!1,`invalid numeric string: ${n.message}`,t||"value",e)}}ke(!1,"invalid numeric value",t||"value",e)}function uJ(e){return en(tv(e))}function $c(e,t){let n=ev(e,"value").toString(16);if(t==null)n.length%2&&(n="0"+n);else{const r=en(t,"width");for(Ge(r*2>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<r*2;)n="0"+n}return"0x"+n}function kr(e){const t=ev(e,"value");if(t===Xx)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const a=s*2;r[s]=parseInt(n.substring(a,a+2),16)}return r}function ui(e){let t=it(pC(e)?e:kr(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return t===""&&(t="0"),"0x"+t}const Jj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Xj=BigInt(58);function dJ(e){const t=Zt(e);let n=tv(t),r="";for(;n;)r=Jj[Number(n%Xj)]+r,n/=Xj;for(let s=0;s<t.length&&!t[s];s++)r=Jj[0]+r;return r}function hJ(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return Zt(t)}function fJ(e){const t=Zt(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}var Xp;let sM=class{constructor(e,t,n){Pe(this,"filter"),Pe(this,"emitter"),De(this,Xp),de(this,Xp,t),Ut(this,{emitter:e,filter:n})}async removeListener(){J(this,Xp)!=null&&await this.emitter.off(this.filter,J(this,Xp))}};Xp=new WeakMap;function mJ(e,t,n,r,s){ke(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)}function aM(e,t,n,r,s){if(e==="BAD_PREFIX"||e==="UNEXPECTED_CONTINUE"){let a=0;for(let i=t+1;i<n.length&&n[i]>>6===2;i++)a++;return a}return e==="OVERRUN"?n.length-t-1:0}function pJ(e,t,n,r,s){return e==="OVERLONG"?(ke(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),aM(e,t,n))}const gJ=Object.freeze({error:mJ,ignore:aM,replace:pJ});function yJ(e,t){t==null&&(t=gJ.error);const n=Zt(e,"bytes"),r=[];let s=0;for(;s<n.length;){const a=n[s++];if(a>>7===0){r.push(a);continue}let i=null,o=null;if((a&224)===192)i=1,o=127;else if((a&240)===224)i=2,o=2047;else if((a&248)===240)i=3,o=65535;else{(a&192)===128?s+=t("UNEXPECTED_CONTINUE",s-1,n,r):s+=t("BAD_PREFIX",s-1,n,r);continue}if(s-1+i>=n.length){s+=t("OVERRUN",s-1,n,r);continue}let c=a&(1<<8-i-1)-1;for(let u=0;u<i;u++){let h=n[s];if((h&192)!=128){s+=t("MISSING_CONTINUE",s,n,r),c=null;break}c=c<<6|h&63,s++}if(c!==null){if(c>1114111){s+=t("OUT_OF_RANGE",s-1-i,n,r,c);continue}if(c>=55296&&c<=57343){s+=t("UTF16_SURROGATE",s-1-i,n,r,c);continue}if(c<=o){s+=t("OVERLONG",s-1-i,n,r,c);continue}r.push(c)}}return r}function ao(e,t){ke(typeof e=="string","invalid string value","str",e);let n=[];for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const a=e.charCodeAt(r);ke(r<e.length&&(a&64512)===56320,"invalid surrogate pair","str",e);const i=65536+((s&1023)<<10)+(a&1023);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function bJ(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function O1(e,t){return bJ(yJ(e,t))}function iM(e){async function t(n,r){Ge(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();Ge(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),Ge(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null;const i=new AbortController,o=setTimeout(()=>{a=Qn("request timeout","TIMEOUT"),i.abort()},n.timeout);r&&r.addListener(()=>{a=Qn("request cancelled","CANCELLED"),i.abort()});const c=Object.assign({},e,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:i.signal});let u;try{u=await fetch(n.url,c)}catch(g){throw clearTimeout(o),a||g}clearTimeout(o);const h={};u.headers.forEach((g,b)=>{h[b.toLowerCase()]=g});const f=await u.arrayBuffer(),p=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:h,body:p}}return t}const wJ=12,xJ=250;let e_=iM();const vJ=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),NJ=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let JN=!1;async function oM(e,t){try{const n=e.match(vJ);if(!n)throw new Error("invalid data");return new Xf(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?hJ(n[3]):AJ(n[3]))}catch{return new Xf(599,"BAD REQUEST (invalid data: URI)",{},null,new Dd(e))}}function lM(e){async function t(n,r){try{const s=n.match(NJ);if(!s)throw new Error("invalid link");return new Dd(`${e}${s[2]}`)}catch{return new Xf(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Dd(n))}}return t}const R1={data:oM,ipfs:lM("https://gateway.ipfs.io/ipfs/")},cM=new WeakMap;var Jh,Ru;let kJ=class{constructor(e){De(this,Jh),De(this,Ru),de(this,Jh,[]),de(this,Ru,!1),cM.set(e,()=>{if(!J(this,Ru)){de(this,Ru,!0);for(const t of J(this,Jh))setTimeout(()=>{t()},0);de(this,Jh,[])}})}addListener(e){Ge(!J(this,Ru),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),J(this,Jh).push(e)}get cancelled(){return J(this,Ru)}checkSignal(){Ge(!this.cancelled,"cancelled","CANCELLED",{})}};Jh=new WeakMap,Ru=new WeakMap;function ew(e){if(e==null)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var e0,t0,Hi,dc,n0,r0,Gr,Ia,hc,Xh,ef,tf,Yo,Yi,Mu,Af,s0;const CJ=class i2{constructor(t){De(this,Af),De(this,e0),De(this,t0),De(this,Hi),De(this,dc),De(this,n0),De(this,r0),De(this,Gr),De(this,Ia),De(this,hc),De(this,Xh),De(this,ef),De(this,tf),De(this,Yo),De(this,Yi),De(this,Mu),de(this,r0,String(t)),de(this,e0,!1),de(this,t0,!0),de(this,Hi,{}),de(this,dc,""),de(this,n0,3e5),de(this,Yi,{slotInterval:xJ,maxAttempts:wJ}),de(this,Mu,null)}get url(){return J(this,r0)}set url(t){de(this,r0,String(t))}get body(){return J(this,Gr)==null?null:new Uint8Array(J(this,Gr))}set body(t){if(t==null)de(this,Gr,void 0),de(this,Ia,void 0);else if(typeof t=="string")de(this,Gr,ao(t)),de(this,Ia,"text/plain");else if(t instanceof Uint8Array)de(this,Gr,t),de(this,Ia,"application/octet-stream");else if(typeof t=="object")de(this,Gr,ao(JSON.stringify(t))),de(this,Ia,"application/json");else throw new Error("invalid body")}hasBody(){return J(this,Gr)!=null}get method(){return J(this,dc)?J(this,dc):this.hasBody()?"POST":"GET"}set method(t){t==null&&(t=""),de(this,dc,String(t).toUpperCase())}get headers(){const t=Object.assign({},J(this,Hi));return J(this,hc)&&(t.authorization=`Basic ${fJ(ao(J(this,hc)))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),t["content-type"]==null&&J(this,Ia)&&(t["content-type"]=J(this,Ia)),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,n){J(this,Hi)[String(t).toLowerCase()]=String(n)}clearHeaders(){de(this,Hi,{})}[Symbol.iterator](){const t=this.headers,n=Object.keys(t);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return J(this,hc)||null}setCredentials(t,n){ke(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),de(this,hc,`${t}:${n}`)}get allowGzip(){return J(this,t0)}set allowGzip(t){de(this,t0,!!t)}get allowInsecureAuthentication(){return!!J(this,e0)}set allowInsecureAuthentication(t){de(this,e0,!!t)}get timeout(){return J(this,n0)}set timeout(t){ke(t>=0,"timeout must be non-zero","timeout",t),de(this,n0,t)}get preflightFunc(){return J(this,Xh)||null}set preflightFunc(t){de(this,Xh,t)}get processFunc(){return J(this,ef)||null}set processFunc(t){de(this,ef,t)}get retryFunc(){return J(this,tf)||null}set retryFunc(t){de(this,tf,t)}get getUrlFunc(){return J(this,Mu)||e_}set getUrlFunc(t){de(this,Mu,t)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${J(this,Gr)?it(J(this,Gr)):"null"}>`}setThrottleParams(t){t.slotInterval!=null&&(J(this,Yi).slotInterval=t.slotInterval),t.maxAttempts!=null&&(J(this,Yi).maxAttempts=t.maxAttempts)}send(){return Ge(J(this,Yo)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),de(this,Yo,new kJ(this)),Ye(this,Af,s0).call(this,0,dM()+this.timeout,0,this,new Xf(0,"",{},null,this))}cancel(){Ge(J(this,Yo)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=cM.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const n=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();Ge(this.method==="GET"&&(n!=="https"||r!=="http")&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const s=new i2(t);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,de(s,Hi,Object.assign({},J(this,Hi))),J(this,Gr)&&de(s,Gr,new Uint8Array(J(this,Gr))),de(s,Ia,J(this,Ia)),s}clone(){const t=new i2(this.url);return de(t,dc,J(this,dc)),J(this,Gr)&&de(t,Gr,J(this,Gr)),de(t,Ia,J(this,Ia)),de(t,Hi,Object.assign({},J(this,Hi))),de(t,hc,J(this,hc)),this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),de(t,Xh,J(this,Xh)),de(t,ef,J(this,ef)),de(t,tf,J(this,tf)),de(t,Yi,Object.assign({},J(this,Yi))),de(t,Mu,J(this,Mu)),t}static lockConfig(){JN=!0}static getGateway(t){return R1[t.toLowerCase()]||null}static registerGateway(t,n){if(t=t.toLowerCase(),t==="http"||t==="https")throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(JN)throw new Error("gateways locked");R1[t]=n}static registerGetUrl(t){if(JN)throw new Error("gateways locked");e_=t}static createGetUrlFunc(t){return iM(t)}static createDataGateway(){return oM}static createIpfsGatewayFunc(t){return lM(t)}};e0=new WeakMap,t0=new WeakMap,Hi=new WeakMap,dc=new WeakMap,n0=new WeakMap,r0=new WeakMap,Gr=new WeakMap,Ia=new WeakMap,hc=new WeakMap,Xh=new WeakMap,ef=new WeakMap,tf=new WeakMap,Yo=new WeakMap,Yi=new WeakMap,Mu=new WeakMap,Af=new WeakSet,s0=async function(e,t,n,r,s){var a,i,o;if(e>=J(this,Yi).maxAttempts)return s.makeServerError("exceeded maximum retry limit");Ge(dM()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await SJ(n);let c=this.clone();const u=(c.url.split(":")[0]||"").toLowerCase();if(u in R1){const p=await R1[u](c.url,ew(J(r,Yo)));if(p instanceof Xf){let g=p;if(this.processFunc){ew(J(r,Yo));try{g=await this.processFunc(c,g)}catch(b){(b.throttle==null||typeof b.stall!="number")&&g.makeServerError("error in post-processing function",b).assertOk()}}return g}c=p}this.preflightFunc&&(c=await this.preflightFunc(c));const h=await this.getUrlFunc(c,ew(J(r,Yo)));let f=new Xf(h.statusCode,h.statusMessage,h.headers,h.body,r);if(f.statusCode===301||f.statusCode===302){try{const p=f.headers.location||"";return Ye(a=c.redirect(p),Af,s0).call(a,e+1,t,0,r,f)}catch{}return f}else if(f.statusCode===429&&(this.retryFunc==null||await this.retryFunc(c,f,e))){const p=f.headers["retry-after"];let g=J(this,Yi).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(g=parseInt(p)),Ye(i=c.clone(),Af,s0).call(i,e+1,t,g,r,f)}if(this.processFunc){ew(J(r,Yo));try{f=await this.processFunc(c,f)}catch(p){(p.throttle==null||typeof p.stall!="number")&&f.makeServerError("error in post-processing function",p).assertOk();let g=J(this,Yi).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(g=p.stall),Ye(o=c.clone(),Af,s0).call(o,e+1,t,g,r,f)}}return f};let Dd=CJ;var Pw,Ow,Rw,Ta,a0,nf;const EJ=class uM{constructor(t,n,r,s,a){De(this,Pw),De(this,Ow),De(this,Rw),De(this,Ta),De(this,a0),De(this,nf),de(this,Pw,t),de(this,Ow,n),de(this,Rw,Object.keys(r).reduce((i,o)=>(i[o.toLowerCase()]=String(r[o]),i),{})),de(this,Ta,s==null?null:new Uint8Array(s)),de(this,a0,a||null),de(this,nf,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${J(this,Ta)?it(J(this,Ta)):"null"}>`}get statusCode(){return J(this,Pw)}get statusMessage(){return J(this,Ow)}get headers(){return Object.assign({},J(this,Rw))}get body(){return J(this,Ta)==null?null:new Uint8Array(J(this,Ta))}get bodyText(){try{return J(this,Ta)==null?"":O1(J(this,Ta))}catch{Ge(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Ge(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,n=Object.keys(t);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,t[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(t,n){let r;t?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:(t=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${t})`);const s=new uM(599,r,this.headers,this.body,J(this,a0)||void 0);return de(s,nf,{message:t,error:n}),s}throwThrottleError(t,n){n==null?n=-1:ke(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(t||"throttling requests");throw Ut(r,{stall:n,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return J(this,Ta)!=null}get request(){return J(this,a0)}ok(){return J(this,nf).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:n}=J(this,nf);t===""&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{J(this,Ta)&&(s=O1(J(this,Ta)))}catch{}Ge(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Pw=new WeakMap,Ow=new WeakMap,Rw=new WeakMap,Ta=new WeakMap,a0=new WeakMap,nf=new WeakMap;let Xf=EJ;function dM(){return new Date().getTime()}function AJ(e){return ao(e.replace(/%([0-9a-f][0-9a-f])/gi,(t,n)=>String.fromCharCode(parseInt(n,16))))}function SJ(e){return new Promise(t=>setTimeout(t,e))}const jJ=BigInt(-1),oi=BigInt(0),Sf=BigInt(1),_J=BigInt(5),rf={};let zf="0000";for(;zf.length<80;)zf+=zf;function Su(e){let t=zf;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function i0(e,t,n){const r=BigInt(t.width);if(t.signed){const s=Sf<<r-Sf;Ge(n==null||e>=-s&&e<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e>oi?e=P1(ud(e,r),r):e=-P1(ud(-e,r),r)}else{const s=Sf<<r;Ge(n==null||e>=0&&e<s,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%s+s)%s&s-Sf}return e}function XN(e){typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);ke(a,"invalid fixed format","format",e),t=a[1]!=="u",n=parseInt(a[2]),r=parseInt(a[3])}}else if(e){const a=e,i=(o,c,u)=>a[o]==null?u:(ke(typeof a[o]===c,"invalid fixed format ("+o+" not "+c+")","format."+o,a[o]),a[o]);t=i("signed","boolean",t),n=i("width","number",n),r=i("decimals","number",r)}ke(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),ke(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(t?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:t,width:n,decimals:r,name:s}}function IJ(e,t){let n="";e<oi&&(n="-",e*=jJ);let r=e.toString();if(t===0)return n+r;for(;r.length<=t;)r=zf+r;const s=r.length-t;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Zi,Fn,Bs,Yn,ed,Qo,o2,l2,c2,u2;const hM=class sf{constructor(t,n,r){De(this,Yn),Pe(this,"format"),De(this,Zi),De(this,Fn),De(this,Bs),Pe(this,"_value"),cy(t,rf,"FixedNumber"),de(this,Fn,n),de(this,Zi,r);const s=IJ(n,r.decimals);Ut(this,{format:r.name,_value:s}),de(this,Bs,Su(r.decimals))}get signed(){return J(this,Zi).signed}get width(){return J(this,Zi).width}get decimals(){return J(this,Zi).decimals}get value(){return J(this,Fn)}addUnsafe(t){return Ye(this,Yn,o2).call(this,t)}add(t){return Ye(this,Yn,o2).call(this,t,"add")}subUnsafe(t){return Ye(this,Yn,l2).call(this,t)}sub(t){return Ye(this,Yn,l2).call(this,t,"sub")}mulUnsafe(t){return Ye(this,Yn,c2).call(this,t)}mul(t){return Ye(this,Yn,c2).call(this,t,"mul")}mulSignal(t){Ye(this,Yn,ed).call(this,t);const n=J(this,Fn)*J(t,Fn);return Ge(n%J(this,Bs)===oi,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Ye(this,Yn,Qo).call(this,n/J(this,Bs),"mulSignal")}divUnsafe(t){return Ye(this,Yn,u2).call(this,t)}div(t){return Ye(this,Yn,u2).call(this,t,"div")}divSignal(t){Ge(J(t,Fn)!==oi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ye(this,Yn,ed).call(this,t);const n=J(this,Fn)*J(this,Bs);return Ge(n%J(t,Fn)===oi,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Ye(this,Yn,Qo).call(this,n/J(t,Fn),"divSignal")}cmp(t){let n=this.value,r=t.value;const s=this.decimals-t.decimals;return s>0?r*=Su(s):s<0&&(n*=Su(-s)),n<r?-1:n>r?1:0}eq(t){return this.cmp(t)===0}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=J(this,Fn);return J(this,Fn)<oi&&(t-=J(this,Bs)-Sf),t=J(this,Fn)/J(this,Bs)*J(this,Bs),Ye(this,Yn,Qo).call(this,t,"floor")}ceiling(){let t=J(this,Fn);return J(this,Fn)>oi&&(t+=J(this,Bs)-Sf),t=J(this,Fn)/J(this,Bs)*J(this,Bs),Ye(this,Yn,Qo).call(this,t,"ceiling")}round(t){if(t==null&&(t=0),t>=this.decimals)return this;const n=this.decimals-t,r=_J*Su(n-1);let s=this.value+r;const a=Su(n);return s=s/a*a,i0(s,J(this,Zi),"round"),new sf(rf,s,J(this,Zi))}isZero(){return J(this,Fn)===oi}isNegative(){return J(this,Fn)<oi}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return sf.fromString(this.toString(),t)}static fromValue(t,n,r){const s=n==null?0:en(n),a=XN(r);let i=yt(t,"value");const o=s-a.decimals;if(o>0){const c=Su(o);Ge(i%c===oi,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),i/=c}else o<0&&(i*=Su(-o));return i0(i,a,"fromValue"),new sf(rf,i,a)}static fromString(t,n){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);ke(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const s=XN(n);let a=r[2]||"0",i=r[3]||"";for(;i.length<s.decimals;)i+=zf;Ge(i.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),i=i.substring(0,s.decimals);const o=BigInt(r[1]+a+i);return i0(o,s,"fromString"),new sf(rf,o,s)}static fromBytes(t,n){let r=tv(Zt(t,"value"));const s=XN(n);return s.signed&&(r=P1(r,s.width)),i0(r,s,"fromBytes"),new sf(rf,r,s)}};Zi=new WeakMap,Fn=new WeakMap,Bs=new WeakMap,Yn=new WeakSet,ed=function(e){ke(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Qo=function(e,t){return e=i0(e,J(this,Zi),t),new hM(rf,e,J(this,Zi))},o2=function(e,t){return Ye(this,Yn,ed).call(this,e),Ye(this,Yn,Qo).call(this,J(this,Fn)+J(e,Fn),t)},l2=function(e,t){return Ye(this,Yn,ed).call(this,e),Ye(this,Yn,Qo).call(this,J(this,Fn)-J(e,Fn),t)},c2=function(e,t){return Ye(this,Yn,ed).call(this,e),Ye(this,Yn,Qo).call(this,J(this,Fn)*J(e,Fn)/J(this,Bs),t)},u2=function(e,t){return Ge(J(e,Fn)!==oi,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Ye(this,Yn,ed).call(this,e),Ye(this,Yn,Qo).call(this,J(this,Fn)*J(this,Bs)/J(e,Fn),t)};let fM=hM;function TJ(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function t_(e,t,n){let r=0;for(let s=0;s<n;s++)r=r*256+e[t+s];return r}function n_(e,t,n,r){const s=[];for(;n<t+1+r;){const a=mM(e,n);s.push(a.result),n+=a.consumed,Ge(n<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:s}}function mM(e,t){Ge(e.length!==0,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=r=>{Ge(r<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:r})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const s=t_(e,t+1,r);return n(t+1+r+s),n_(e,t,t+1+r,r+s)}else if(e[t]>=192){const r=e[t]-192;return n(t+1+r),n_(e,t,t+1,r)}else if(e[t]>=184){const r=e[t]-183;n(t+1+r);const s=t_(e,t+1,r);n(t+1+r+s);const a=it(e.slice(t+1+r,t+1+r+s));return{consumed:1+r+s,result:a}}else if(e[t]>=128){const r=e[t]-128;n(t+1+r);const s=it(e.slice(t+1,t+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:TJ(e[t])}}function uy(e){const t=Zt(e,"data"),n=mM(t,0);return ke(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function r_(e){const t=[];for(;e;)t.unshift(e&255),e>>=8;return t}function pM(e){if(Array.isArray(e)){let r=[];if(e.forEach(function(a){r=r.concat(pM(a))}),r.length<=55)return r.unshift(192+r.length),r;const s=r_(r.length);return s.unshift(247+s.length),s.concat(r)}const t=Array.prototype.slice.call(Zt(e,"object"));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=r_(t.length);return n.unshift(183+n.length),n.concat(t)}const s_="0123456789abcdef";function Hc(e){let t="0x";for(const n of pM(e))t+=s_[n>>4],t+=s_[n&15];return t}const PJ=["wei","kwei","mwei","gwei","szabo","finney","ether"];function em(e,t){let n=18;return n=en(t,"unit"),fM.fromValue(e,n,{decimals:n,width:512}).toString()}function nv(e,t){ke(typeof e=="string","value must be a string","value",e);let n=18;if(typeof t=="string"){const r=PJ.indexOf(t);ke(r>=0,"invalid unit","unit",t),n=3*r}else t!=null&&(n=en(t,"unit"));return fM.fromString(e,{decimals:n,width:512}).value}function e4(e){return em(e,18)}function Mw(e){return nv(e,18)}const xs=32,d2=new Uint8Array(xs),OJ=["then"],tw={},gM=new WeakMap;function td(e){return gM.get(e)}function a_(e,t){gM.set(e,t)}function Lp(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function h2(e,t,n){return e.indexOf(null)>=0?t.map((r,s)=>r instanceof M1?h2(td(r),r,n):r):e.reduce((r,s,a)=>{let i=t.getValue(s);return s in r||(n&&i instanceof M1&&(i=h2(td(i),i,n)),r[s]=i),r},{})}var o0;const RJ=class l0 extends Array{constructor(...t){const n=t[0];let r=t[1],s=(t[2]||[]).slice(),a=!0;n!==tw&&(r=t,s=[],a=!1),super(r.length),De(this,o0),r.forEach((c,u)=>{this[u]=c});const i=s.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(a_(this,Object.freeze(r.map((c,u)=>{const h=s[u];return h!=null&&i.get(h)===1?h:null}))),de(this,o0,[]),J(this,o0)==null&&J(this,o0),!a)return;Object.freeze(this);const o=new Proxy(this,{get:(c,u,h)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=en(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const g=c[p];return g instanceof Error&&Lp(`index ${p}`,g),g}if(OJ.indexOf(u)>=0)return Reflect.get(c,u,h);const f=c[u];if(f instanceof Function)return function(...p){return f.apply(this===h?c:this,p)};if(!(u in c))return c.getValue.apply(this===h?c:this,[u])}return Reflect.get(c,u,h)}});return a_(o,td(this)),o}toArray(t){const n=[];return this.forEach((r,s)=>{r instanceof Error&&Lp(`index ${s}`,r),t&&r instanceof l0&&(r=r.toArray(t)),n.push(r)}),n}toObject(t){const n=td(this);return n.reduce((r,s,a)=>(Ge(s!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),h2(n,this,t)),{})}slice(t,n){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const r=td(this),s=[],a=[];for(let i=t;i<n;i++)s.push(this[i]),a.push(r[i]);return new l0(tw,s,a)}filter(t,n){const r=td(this),s=[],a=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Lp(`index ${i}`,o),t.call(n,o,i,this)&&(s.push(o),a.push(r[i]))}return new l0(tw,s,a)}map(t,n){const r=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Lp(`index ${s}`,a),r.push(t.call(n,a,s,this))}return r}getValue(t){const n=td(this).indexOf(t);if(n===-1)return;const r=this[n];return r instanceof Error&&Lp(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,n){return new l0(tw,t,n)}};o0=new WeakMap;let M1=RJ;function i_(e){let t=kr(e);return Ge(t.length<=xs,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:xs,offset:t.length}),t.length!==xs&&(t=ws(Xn([d2.slice(t.length%xs),t]))),t}let Nl=class{constructor(e,t,n,r){Pe(this,"name"),Pe(this,"type"),Pe(this,"localName"),Pe(this,"dynamic"),Ut(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){ke(!1,e,this.localName,t)}};var Nc,Cc,c0,zw;let f2=class{constructor(){De(this,c0),De(this,Nc),De(this,Cc),de(this,Nc,[]),de(this,Cc,0)}get data(){return Xn(J(this,Nc))}get length(){return J(this,Cc)}appendWriter(e){return Ye(this,c0,zw).call(this,ws(e.data))}writeBytes(e){let t=ws(e);const n=t.length%xs;return n&&(t=ws(Xn([t,d2.slice(n)]))),Ye(this,c0,zw).call(this,t)}writeValue(e){return Ye(this,c0,zw).call(this,i_(e))}writeUpdatableValue(){const e=J(this,Nc).length;return J(this,Nc).push(d2),de(this,Cc,J(this,Cc)+xs),t=>{J(this,Nc)[e]=i_(t)}}};Nc=new WeakMap,Cc=new WeakMap,c0=new WeakSet,zw=function(e){return J(this,Nc).push(e),de(this,Cc,J(this,Cc)+e.length),e.length};var ca,ua,nd,Ff,dd,J0,m2,yM;const MJ=class bM{constructor(t,n,r){De(this,J0),Pe(this,"allowLoose"),De(this,ca),De(this,ua),De(this,nd),De(this,Ff),De(this,dd),Ut(this,{allowLoose:!!n}),de(this,ca,ws(t)),de(this,nd,0),de(this,Ff,null),de(this,dd,r??1024),de(this,ua,0)}get data(){return it(J(this,ca))}get dataLength(){return J(this,ca).length}get consumed(){return J(this,ua)}get bytes(){return new Uint8Array(J(this,ca))}subReader(t){const n=new bM(J(this,ca).slice(J(this,ua)+t),this.allowLoose,J(this,dd));return de(n,Ff,this),n}readBytes(t,n){let r=Ye(this,J0,yM).call(this,0,t,!!n);return Ye(this,J0,m2).call(this,t),de(this,ua,J(this,ua)+r.length),r.slice(0,t)}readValue(){return tv(this.readBytes(xs))}readIndex(){return uJ(this.readBytes(xs))}};ca=new WeakMap,ua=new WeakMap,nd=new WeakMap,Ff=new WeakMap,dd=new WeakMap,J0=new WeakSet,m2=function(e){var t;if(J(this,Ff))return Ye(t=J(this,Ff),J0,m2).call(t,e);de(this,nd,J(this,nd)+e),Ge(J(this,dd)<1||J(this,nd)<=J(this,dd)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${J(this,dd)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ws(J(this,ca)),offset:J(this,ua),length:e,info:{bytesRead:J(this,nd),dataLength:this.dataLength}})},yM=function(e,t,n){let r=Math.ceil(t/xs)*xs;return J(this,ua)+r>J(this,ca).length&&(this.allowLoose&&n&&J(this,ua)+t<=J(this,ca).length?r=t:Ge(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ws(J(this,ca)),length:J(this,ca).length,offset:J(this,ua)+r})),J(this,ca).slice(J(this,ua),J(this,ua)+r)};let zJ=MJ;function z1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function yC(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function FJ(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");z1(e.outputLen),z1(e.blockLen)}function tm(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function wM(e,t){yC(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const t4=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xM=e=>e instanceof Uint8Array,DJ=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),n4=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ui=(e,t)=>e<<32-t|e>>>t,BJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!BJ)throw new Error("Non little-endian hardware is not supported");function LJ(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function rv(e){if(typeof e=="string"&&(e=LJ(e)),!xM(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function UJ(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!xM(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let bC=class{clone(){return this._cloneInto()}};function wC(e){const t=r=>e().update(rv(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function $J(e=32){if(t4&&typeof t4.getRandomValues=="function")return t4.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}let vM=class extends bC{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,FJ(e);const n=rv(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return tm(this),this.iHash.update(e),this}digestInto(e){tm(this),yC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:a,outputLen:i}=this;return e=e,e.finished=r,e.destroyed=s,e.blockLen=a,e.outputLen=i,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const NM=(e,t,n)=>new vM(e,t).update(n).digest();NM.create=(e,t)=>new vM(e,t);function HJ(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),a=BigInt(4294967295),i=Number(n>>s&a),o=Number(n&a),c=r?4:0,u=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+u,o,r)}class kM extends bC{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=n4(this.buffer)}update(t){tm(this);const{view:n,buffer:r,blockLen:s}=this;t=rv(t);const a=t.length;for(let i=0;i<a;){const o=Math.min(s-this.pos,a-i);if(o===s){const c=n4(t);for(;s<=a-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){tm(this),wM(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:a}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let f=i;f<s;f++)n[f]=0;HJ(r,s-8,BigInt(this.length*8),a),this.process(r,0);const o=n4(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,h[f],a)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:a,destroyed:i,pos:o}=this;return t.length=s,t.pos=o,t.finished=a,t.destroyed=i,s%n&&t.buffer.set(r),t}}const WJ=(e,t,n)=>e&t^~e&n,GJ=(e,t,n)=>e&t^e&n^t&n,qJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ql=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jl=new Uint32Array(64);let VJ=class extends kM{constructor(){super(64,32,8,!1),this.A=Ql[0]|0,this.B=Ql[1]|0,this.C=Ql[2]|0,this.D=Ql[3]|0,this.E=Ql[4]|0,this.F=Ql[5]|0,this.G=Ql[6]|0,this.H=Ql[7]|0}get(){const{A:e,B:t,C:n,D:r,E:s,F:a,G:i,H:o}=this;return[e,t,n,r,s,a,i,o]}set(e,t,n,r,s,a,i,o){this.A=e|0,this.B=t|0,this.C=n|0,this.D=r|0,this.E=s|0,this.F=a|0,this.G=i|0,this.H=o|0}process(e,t){for(let h=0;h<16;h++,t+=4)Jl[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const f=Jl[h-15],p=Jl[h-2],g=Ui(f,7)^Ui(f,18)^f>>>3,b=Ui(p,17)^Ui(p,19)^p>>>10;Jl[h]=b+Jl[h-7]+g+Jl[h-16]|0}let{A:n,B:r,C:s,D:a,E:i,F:o,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Ui(i,6)^Ui(i,11)^Ui(i,25),p=u+f+WJ(i,o,c)+qJ[h]+Jl[h]|0,g=(Ui(n,2)^Ui(n,13)^Ui(n,22))+GJ(n,r,s)|0;u=c,c=o,o=i,i=a+p|0,a=s,s=r,r=n,n=p+g|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,a=a+this.D|0,i=i+this.E|0,o=o+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,s,a,i,o,c,u)}roundClean(){Jl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const CM=wC(()=>new VJ),nw=BigInt(2**32-1),p2=BigInt(32);function EM(e,t=!1){return t?{h:Number(e&nw),l:Number(e>>p2&nw)}:{h:Number(e>>p2&nw)|0,l:Number(e&nw)|0}}function AM(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:i}=EM(e[s],t);[n[s],r[s]]=[a,i]}return[n,r]}const KJ=(e,t)=>BigInt(e>>>0)<<p2|BigInt(t>>>0),ZJ=(e,t,n)=>e>>>n,YJ=(e,t,n)=>e<<32-n|t>>>n,QJ=(e,t,n)=>e>>>n|t<<32-n,JJ=(e,t,n)=>e<<32-n|t>>>n,XJ=(e,t,n)=>e<<64-n|t>>>n-32,eX=(e,t,n)=>e>>>n-32|t<<64-n,tX=(e,t)=>t,nX=(e,t)=>e,SM=(e,t,n)=>e<<n|t>>>32-n,jM=(e,t,n)=>t<<n|e>>>32-n,_M=(e,t,n)=>t<<n-32|e>>>64-n,IM=(e,t,n)=>e<<n-32|t>>>64-n;function rX(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const sX=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),aX=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,iX=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),oX=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,lX=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),cX=(e,t,n,r,s,a)=>t+n+r+s+a+(e/2**32|0)|0,tn={fromBig:EM,split:AM,toBig:KJ,shrSH:ZJ,shrSL:YJ,rotrSH:QJ,rotrSL:JJ,rotrBH:XJ,rotrBL:eX,rotr32H:tX,rotr32L:nX,rotlSH:SM,rotlSL:jM,rotlBH:_M,rotlBL:IM,add:rX,add3L:sX,add3H:aX,add4L:iX,add4H:oX,add5H:cX,add5L:lX},[uX,dX]=tn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Xl=new Uint32Array(80),ec=new Uint32Array(80);let hX=class extends kM{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:a,Dh:i,Dl:o,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:g,Hh:b,Hl:y}=this;return[e,t,n,r,s,a,i,o,c,u,h,f,p,g,b,y]}set(e,t,n,r,s,a,i,o,c,u,h,f,p,g,b,y){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=r|0,this.Ch=s|0,this.Cl=a|0,this.Dh=i|0,this.Dl=o|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=b|0,this.Hl=y|0}process(e,t){for(let N=0;N<16;N++,t+=4)Xl[N]=e.getUint32(t),ec[N]=e.getUint32(t+=4);for(let N=16;N<80;N++){const A=Xl[N-15]|0,C=ec[N-15]|0,k=tn.rotrSH(A,C,1)^tn.rotrSH(A,C,8)^tn.shrSH(A,C,7),S=tn.rotrSL(A,C,1)^tn.rotrSL(A,C,8)^tn.shrSL(A,C,7),T=Xl[N-2]|0,P=ec[N-2]|0,I=tn.rotrSH(T,P,19)^tn.rotrBH(T,P,61)^tn.shrSH(T,P,6),M=tn.rotrSL(T,P,19)^tn.rotrBL(T,P,61)^tn.shrSL(T,P,6),W=tn.add4L(S,M,ec[N-7],ec[N-16]),z=tn.add4H(W,k,I,Xl[N-7],Xl[N-16]);Xl[N]=z|0,ec[N]=W|0}let{Ah:n,Al:r,Bh:s,Bl:a,Ch:i,Cl:o,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:g,Gh:b,Gl:y,Hh:w,Hl:v}=this;for(let N=0;N<80;N++){const A=tn.rotrSH(h,f,14)^tn.rotrSH(h,f,18)^tn.rotrBH(h,f,41),C=tn.rotrSL(h,f,14)^tn.rotrSL(h,f,18)^tn.rotrBL(h,f,41),k=h&p^~h&b,S=f&g^~f&y,T=tn.add5L(v,C,S,dX[N],ec[N]),P=tn.add5H(T,w,A,k,uX[N],Xl[N]),I=T|0,M=tn.rotrSH(n,r,28)^tn.rotrBH(n,r,34)^tn.rotrBH(n,r,39),W=tn.rotrSL(n,r,28)^tn.rotrBL(n,r,34)^tn.rotrBL(n,r,39),z=n&s^n&i^s&i,B=r&a^r&o^a&o;w=b|0,v=y|0,b=p|0,y=g|0,p=h|0,g=f|0,{h,l:f}=tn.add(c|0,u|0,P|0,I|0),c=i|0,u=o|0,i=s|0,o=a|0,s=n|0,a=r|0;const O=tn.add3L(I,W,B);n=tn.add3H(O,P,M,z),r=O|0}({h:n,l:r}=tn.add(this.Ah|0,this.Al|0,n|0,r|0)),{h:s,l:a}=tn.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:i,l:o}=tn.add(this.Ch|0,this.Cl|0,i|0,o|0),{h:c,l:u}=tn.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=tn.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:g}=tn.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:b,l:y}=tn.add(this.Gh|0,this.Gl|0,b|0,y|0),{h:w,l:v}=tn.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(n,r,s,a,i,o,c,u,h,f,p,g,b,y,w,v)}roundClean(){Xl.fill(0),ec.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const fX=wC(()=>new hX);function mX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const o_=mX();o_.crypto||o_.msCrypto;function pX(e){switch(e){case"sha256":return CM.create();case"sha512":return fX.create()}ke(!1,"invalid hashing algorithm name","algorithm",e)}const[TM,PM,OM]=[[],[],[]],gX=BigInt(0),Up=BigInt(1),yX=BigInt(2),bX=BigInt(7),wX=BigInt(256),xX=BigInt(113);for(let e=0,t=Up,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],TM.push(2*(5*r+n)),PM.push((e+1)*(e+2)/2%64);let s=gX;for(let a=0;a<7;a++)t=(t<<Up^(t>>bX)*xX)%wX,t&yX&&(s^=Up<<(Up<<BigInt(a))-Up);OM.push(s)}const[vX,NX]=AM(OM,!0),l_=(e,t,n)=>n>32?_M(e,t,n):SM(e,t,n),c_=(e,t,n)=>n>32?IM(e,t,n):jM(e,t,n);function kX(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],h=n[c+1],f=l_(u,h,1)^n[o],p=c_(u,h,1)^n[o+1];for(let g=0;g<50;g+=10)e[i+g]^=f,e[i+g+1]^=p}let s=e[2],a=e[3];for(let i=0;i<24;i++){const o=PM[i],c=l_(s,a,o),u=c_(s,a,o),h=TM[i];s=e[h],a=e[h+1],e[h]=c,e[h+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=e[i+o];for(let o=0;o<10;o++)e[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}e[0]^=vX[r],e[1]^=NX[r]}n.fill(0)}let CX=class RM extends bC{constructor(t,n,r,s=!1,a=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,z1(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=DJ(this.state)}keccak(){kX(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){tm(this);const{blockLen:n,state:r}=this;t=rv(t);const s=t.length;for(let a=0;a<s;){const i=Math.min(n-this.pos,s-a);for(let o=0;o<i;o++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){tm(this,!1),yC(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return z1(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(wM(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:i}=this;return t||(t=new RM(n,r,s,i,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};const EX=(e,t,n)=>wC(()=>new CX(t,e,n)),AX=EX(1,136,256/8);let MM=!1;const zM=function(e){return AX(e)};let FM=zM;function Gn(e){const t=Zt(e,"data");return it(FM(t))}Gn._=zM;Gn.lock=function(){MM=!0};Gn.register=function(e){if(MM)throw new TypeError("keccak256 is locked");FM=e};Object.freeze(Gn);const DM=function(e){return pX("sha256").update(e).digest()};let BM=DM,LM=!1;function Tm(e){const t=Zt(e,"data");return it(BM(t))}Tm._=DM;Tm.lock=function(){LM=!0};Tm.register=function(e){if(LM)throw new Error("sha256 is locked");BM=e};Object.freeze(Tm);Object.freeze(Tm);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UM=BigInt(0),sv=BigInt(1),SX=BigInt(2),av=e=>e instanceof Uint8Array,jX=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nm(e){if(!av(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=jX[e[n]];return t}function $M(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function xC(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function rm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,a=e.slice(s,s+2),i=Number.parseInt(a,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function Ed(e){return xC(nm(e))}function vC(e){if(!av(e))throw new Error("Uint8Array expected");return xC(nm(Uint8Array.from(e).reverse()))}function sm(e,t){return rm(e.toString(16).padStart(t*2,"0"))}function NC(e,t){return sm(e,t).reverse()}function _X(e){return rm($M(e))}function li(e,t,n){let r;if(typeof t=="string")try{r=rm(t)}catch(a){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${a}`)}else if(av(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function xg(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!av(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function IX(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function TX(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function PX(e){let t;for(t=0;e>UM;e>>=sv,t+=1);return t}function OX(e,t){return e>>BigInt(t)&sv}const RX=(e,t,n)=>e|(n?sv:UM)<<BigInt(t),kC=e=>(SX<<BigInt(e-1))-sv,r4=e=>new Uint8Array(e),u_=e=>Uint8Array.from(e);function HM(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=r4(e),s=r4(e),a=0;const i=()=>{r.fill(1),s.fill(0),a=0},o=(...h)=>n(s,r,...h),c=(h=r4())=>{s=o(u_([0]),h),r=o(),h.length!==0&&(s=o(u_([1]),h),r=o())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<t;){r=o();const p=r.slice();f.push(p),h+=r.length}return xg(...f)};return(h,f)=>{i(),c(h);let p;for(;!(p=f(u()));)c();return i(),p}}const MX={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function dy(e,t,n={}){const r=(s,a,i)=>{const o=MX[a];if(typeof o!="function")throw new Error(`Invalid validator "${a}", expected function`);const c=e[s];if(!(i&&c===void 0)&&!o(c,e))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${a}`)};for(const[s,a]of Object.entries(t))r(s,a,!1);for(const[s,a]of Object.entries(n))r(s,a,!0);return e}const zX=Object.freeze(Object.defineProperty({__proto__:null,bitGet:OX,bitLen:PX,bitMask:kC,bitSet:RX,bytesToHex:nm,bytesToNumberBE:Ed,bytesToNumberLE:vC,concatBytes:xg,createHmacDrbg:HM,ensureBytes:li,equalBytes:IX,hexToBytes:rm,hexToNumber:xC,numberToBytesBE:sm,numberToBytesLE:NC,numberToHexUnpadded:$M,numberToVarBytesBE:_X,utf8ToBytes:TX,validateObject:dy},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Br=BigInt(0),br=BigInt(1),rd=BigInt(2),FX=BigInt(3),g2=BigInt(4),d_=BigInt(5),h_=BigInt(8);BigInt(9);BigInt(16);function Us(e,t){const n=e%t;return n>=Br?n:t+n}function DX(e,t,n){if(n<=Br||t<Br)throw new Error("Expected power/modulo > 0");if(n===br)return Br;let r=br;for(;t>Br;)t&br&&(r=r*e%n),e=e*e%n,t>>=br;return r}function Sa(e,t,n){let r=e;for(;t-- >Br;)r*=r,r%=n;return r}function y2(e,t){if(e===Br||t<=Br)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Us(e,t),r=t,s=Br,a=br;for(;n!==Br;){const i=r/n,o=r%n,c=s-a*i;r=n,n=o,s=a,a=c}if(r!==br)throw new Error("invert: does not exist");return Us(s,t)}function BX(e){const t=(e-br)/rd;let n,r,s;for(n=e-br,r=0;n%rd===Br;n/=rd,r++);for(s=rd;s<e&&DX(s,t,e)!==e-br;s++);if(r===1){const i=(e+br)/g2;return function(o,c){const u=o.pow(c,i);if(!o.eql(o.sqr(u),c))throw new Error("Cannot find square root");return u}}const a=(n+br)/rd;return function(i,o){if(i.pow(o,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let c=r,u=i.pow(i.mul(i.ONE,s),n),h=i.pow(o,a),f=i.pow(o,n);for(;!i.eql(f,i.ONE);){if(i.eql(f,i.ZERO))return i.ZERO;let p=1;for(let b=i.sqr(f);p<c&&!i.eql(b,i.ONE);p++)b=i.sqr(b);const g=i.pow(u,br<<BigInt(c-p-1));u=i.sqr(g),h=i.mul(h,g),f=i.mul(f,u),c=p}return h}}function LX(e){if(e%g2===FX){const t=(e+br)/g2;return function(n,r){const s=n.pow(r,t);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(e%h_===d_){const t=(e-d_)/h_;return function(n,r){const s=n.mul(r,rd),a=n.pow(s,t),i=n.mul(r,a),o=n.mul(n.mul(i,rd),a),c=n.mul(i,n.sub(o,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return BX(e)}const UX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $X(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=UX.reduce((r,s)=>(r[s]="function",r),t);return dy(e,n)}function HX(e,t,n){if(n<Br)throw new Error("Expected power > 0");if(n===Br)return e.ONE;if(n===br)return t;let r=e.ONE,s=t;for(;n>Br;)n&br&&(r=e.mul(r,s)),s=e.sqr(s),n>>=br;return r}function WX(e,t){const n=new Array(t.length),r=t.reduce((a,i,o)=>e.is0(i)?a:(n[o]=a,e.mul(a,i)),e.ONE),s=e.inv(r);return t.reduceRight((a,i,o)=>e.is0(i)?a:(n[o]=e.mul(a,n[o]),e.mul(a,i)),s),n}function WM(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function GX(e,t,n=!1,r={}){if(e<=Br)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=WM(e,t);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=LX(e),o=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:kC(s),ZERO:Br,ONE:br,create:c=>Us(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Br<=c&&c<e},is0:c=>c===Br,isOdd:c=>(c&br)===br,neg:c=>Us(-c,e),eql:(c,u)=>c===u,sqr:c=>Us(c*c,e),add:(c,u)=>Us(c+u,e),sub:(c,u)=>Us(c-u,e),mul:(c,u)=>Us(c*u,e),pow:(c,u)=>HX(o,c,u),div:(c,u)=>Us(c*y2(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>y2(c,e),sqrt:r.sqrt||(c=>i(o,c)),invertBatch:c=>WX(o,c),cmov:(c,u,h)=>h?u:c,toBytes:c=>n?NC(c,a):sm(c,a),fromBytes:c=>{if(c.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${c.length}`);return n?vC(c):Ed(c)}});return Object.freeze(o)}function GM(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function qM(e){const t=GM(e);return t+Math.ceil(t/2)}function qX(e,t,n=!1){const r=e.length,s=GM(t),a=qM(t);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const i=n?Ed(e):vC(e),o=Us(i,t-br)+br;return n?NC(o,s):sm(o,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const VX=BigInt(0),s4=BigInt(1);function KX(e,t){const n=(s,a)=>{const i=a.negate();return s?i:a},r=s=>{const a=Math.ceil(t/s)+1,i=2**(s-1);return{windows:a,windowSize:i}};return{constTimeNegate:n,unsafeLadder(s,a){let i=e.ZERO,o=s;for(;a>VX;)a&s4&&(i=i.add(o)),o=o.double(),a>>=s4;return i},precomputeWindow(s,a){const{windows:i,windowSize:o}=r(a),c=[];let u=s,h=u;for(let f=0;f<i;f++){h=u,c.push(h);for(let p=1;p<o;p++)h=h.add(u),c.push(h);u=h.double()}return c},wNAF(s,a,i){const{windows:o,windowSize:c}=r(s);let u=e.ZERO,h=e.BASE;const f=BigInt(2**s-1),p=2**s,g=BigInt(s);for(let b=0;b<o;b++){const y=b*c;let w=Number(i&f);i>>=g,w>c&&(w-=p,i+=s4);const v=y,N=y+Math.abs(w)-1,A=b%2!==0,C=w<0;w===0?h=h.add(n(A,a[v])):u=u.add(n(C,a[N]))}return{p:u,f:h}},wNAFCached(s,a,i,o){const c=s._WINDOW_SIZE||1;let u=a.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&a.set(s,o(u))),this.wNAF(c,u,i)}}}function VM(e){return $X(e.Fp),dy(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...WM(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZX(e){const t=VM(e);dy(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:YX,hexToBytes:QX}=zX,hd={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=hd;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:YX(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=hd,n=typeof e=="string"?QX(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:a}=hd._parseInt(n.subarray(2)),{d:i,l:o}=hd._parseInt(a);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(e){const t=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const h=u.toString(16);return h.length&1?`0${h}`:h},r=t(n(e.s)),s=t(n(e.r)),a=r.length/2,i=s.length/2,o=n(a),c=n(i);return`30${n(i+a+4)}02${c}${s}02${o}${r}`}},Jo=BigInt(0),Ma=BigInt(1);BigInt(2);const f_=BigInt(3);BigInt(4);function JX(e){const t=ZX(e),{Fp:n}=t,r=t.toBytes||((b,y,w)=>{const v=y.toAffine();return xg(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=t.fromBytes||(b=>{const y=b.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),v=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:v}});function a(b){const{a:y,b:w}=t,v=n.sqr(b),N=n.mul(v,b);return n.add(n.add(N,n.mul(b,y)),w)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function i(b){return typeof b=="bigint"&&Jo<b&&b<t.n}function o(b){if(!i(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:v,n:N}=t;if(y&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=nm(b)),typeof b!="string"||!y.includes(b.length))throw new Error("Invalid key");b=b.padStart(w*2,"0")}let A;try{A=typeof b=="bigint"?b:Ed(li("private key",b,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof b}`)}return v&&(A=Us(A,N)),o(A),A}const u=new Map;function h(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,w,v){if(this.px=y,this.py=w,this.pz=v,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required")}static fromAffine(y){const{x:w,y:v}=y||{};if(!y||!n.isValid(w)||!n.isValid(v))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const N=A=>n.eql(A,n.ZERO);return N(w)&&N(v)?f.ZERO:new f(w,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(v=>v.pz));return y.map((v,N)=>v.toAffine(w[N])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(s(li("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=this.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const v=n.sqr(w),N=a(y);if(!n.eql(v,N))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){h(y);const{px:w,py:v,pz:N}=this,{px:A,py:C,pz:k}=y,S=n.eql(n.mul(w,k),n.mul(A,N)),T=n.eql(n.mul(v,k),n.mul(C,N));return S&&T}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=t,v=n.mul(w,f_),{px:N,py:A,pz:C}=this;let k=n.ZERO,S=n.ZERO,T=n.ZERO,P=n.mul(N,N),I=n.mul(A,A),M=n.mul(C,C),W=n.mul(N,A);return W=n.add(W,W),T=n.mul(N,C),T=n.add(T,T),k=n.mul(y,T),S=n.mul(v,M),S=n.add(k,S),k=n.sub(I,S),S=n.add(I,S),S=n.mul(k,S),k=n.mul(W,k),T=n.mul(v,T),M=n.mul(y,M),W=n.sub(P,M),W=n.mul(y,W),W=n.add(W,T),T=n.add(P,P),P=n.add(T,P),P=n.add(P,M),P=n.mul(P,W),S=n.add(S,P),M=n.mul(A,C),M=n.add(M,M),P=n.mul(M,W),k=n.sub(k,P),T=n.mul(M,I),T=n.add(T,T),T=n.add(T,T),new f(k,S,T)}add(y){h(y);const{px:w,py:v,pz:N}=this,{px:A,py:C,pz:k}=y;let S=n.ZERO,T=n.ZERO,P=n.ZERO;const I=t.a,M=n.mul(t.b,f_);let W=n.mul(w,A),z=n.mul(v,C),B=n.mul(N,k),O=n.add(w,v),F=n.add(A,C);O=n.mul(O,F),F=n.add(W,z),O=n.sub(O,F),F=n.add(w,N);let G=n.add(A,k);return F=n.mul(F,G),G=n.add(W,B),F=n.sub(F,G),G=n.add(v,N),S=n.add(C,k),G=n.mul(G,S),S=n.add(z,B),G=n.sub(G,S),P=n.mul(I,F),S=n.mul(M,B),P=n.add(S,P),S=n.sub(z,P),P=n.add(z,P),T=n.mul(S,P),z=n.add(W,W),z=n.add(z,W),B=n.mul(I,B),F=n.mul(M,F),z=n.add(z,B),B=n.sub(W,B),B=n.mul(I,B),F=n.add(F,B),W=n.mul(z,F),T=n.add(T,W),W=n.mul(G,F),S=n.mul(O,S),S=n.sub(S,W),W=n.mul(O,z),P=n.mul(G,P),P=n.add(P,W),new f(S,T,P)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return g.wNAFCached(this,u,y,w=>{const v=n.invertBatch(w.map(N=>N.pz));return w.map((N,A)=>N.toAffine(v[A])).map(f.fromAffine)})}multiplyUnsafe(y){const w=f.ZERO;if(y===Jo)return w;if(o(y),y===Ma)return this;const{endo:v}=t;if(!v)return g.unsafeLadder(this,y);let{k1neg:N,k1:A,k2neg:C,k2:k}=v.splitScalar(y),S=w,T=w,P=this;for(;A>Jo||k>Jo;)A&Ma&&(S=S.add(P)),k&Ma&&(T=T.add(P)),P=P.double(),A>>=Ma,k>>=Ma;return N&&(S=S.negate()),C&&(T=T.negate()),T=new f(n.mul(T.px,v.beta),T.py,T.pz),S.add(T)}multiply(y){o(y);let w=y,v,N;const{endo:A}=t;if(A){const{k1neg:C,k1:k,k2neg:S,k2:T}=A.splitScalar(w);let{p:P,f:I}=this.wNAF(k),{p:M,f:W}=this.wNAF(T);P=g.constTimeNegate(C,P),M=g.constTimeNegate(S,M),M=new f(n.mul(M.px,A.beta),M.py,M.pz),v=P.add(M),N=I.add(W)}else{const{p:C,f:k}=this.wNAF(w);v=C,N=k}return f.normalizeZ([v,N])[0]}multiplyAndAddUnsafe(y,w,v){const N=f.BASE,A=(k,S)=>S===Jo||S===Ma||!k.equals(N)?k.multiplyUnsafe(S):k.multiply(S),C=A(this,w).add(A(y,v));return C.is0()?void 0:C}toAffine(y){const{px:w,py:v,pz:N}=this,A=this.is0();y==null&&(y=A?n.ONE:n.inv(N));const C=n.mul(w,y),k=n.mul(v,y),S=n.mul(N,y);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:C,y:k}}isTorsionFree(){const{h:y,isTorsionFree:w}=t;if(y===Ma)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=t;return y===Ma?this:w?w(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(f,this,y)}toHex(y=!0){return nm(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const p=t.nBitLength,g=KX(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:i}}function XX(e){const t=VM(e);return dy(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function eee(e){const t=XX(e),{Fp:n,n:r}=t,s=n.BYTES+1,a=2*n.BYTES+1;function i(F){return Jo<F&&F<n.ORDER}function o(F){return Us(F,r)}function c(F){return y2(F,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=JX({...t,toBytes(F,G,K){const $=G.toAffine(),Z=n.toBytes($.x),ee=xg;return K?ee(Uint8Array.from([G.hasEvenY()?2:3]),Z):ee(Uint8Array.from([4]),Z,n.toBytes($.y))},fromBytes(F){const G=F.length,K=F[0],$=F.subarray(1);if(G===s&&(K===2||K===3)){const Z=Ed($);if(!i(Z))throw new Error("Point is not on curve");const ee=f(Z);let L=n.sqrt(ee);const V=(L&Ma)===Ma;return(K&1)===1!==V&&(L=n.neg(L)),{x:Z,y:L}}else if(G===a&&K===4){const Z=n.fromBytes($.subarray(0,n.BYTES)),ee=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:Z,y:ee}}else throw new Error(`Point of length ${G} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}}),g=F=>nm(sm(F,t.nByteLength));function b(F){const G=r>>Ma;return F>G}function y(F){return b(F)?o(-F):F}const w=(F,G,K)=>Ed(F.slice(G,K));class v{constructor(G,K,$){this.r=G,this.s=K,this.recovery=$,this.assertValidity()}static fromCompact(G){const K=t.nByteLength;return G=li("compactSignature",G,K*2),new v(w(G,0,K),w(G,K,2*K))}static fromDER(G){const{r:K,s:$}=hd.toSig(li("DER",G));return new v(K,$)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(G){return new v(this.r,this.s,G)}recoverPublicKey(G){const{r:K,s:$,recovery:Z}=this,ee=T(li("msgHash",G));if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");const L=Z===2||Z===3?K+t.n:K;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const V=(Z&1)===0?"02":"03",Q=u.fromHex(V+g(L)),Y=c(L),ae=o(-ee*Y),ue=o($*Y),re=u.BASE.multiplyAndAddUnsafe(Q,ae,ue);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return rm(this.toDERHex())}toDERHex(){return hd.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rm(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const N={isValidPrivateKey(F){try{return h(F),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const F=qM(t.n);return qX(t.randomBytes(F),t.n)},precompute(F=8,G=u.BASE){return G._setWindowSize(F),G.multiply(BigInt(3)),G}};function A(F,G=!0){return u.fromPrivateKey(F).toRawBytes(G)}function C(F){const G=F instanceof Uint8Array,K=typeof F=="string",$=(G||K)&&F.length;return G?$===s||$===a:K?$===2*s||$===2*a:F instanceof u}function k(F,G,K=!0){if(C(F))throw new Error("first arg must be private key");if(!C(G))throw new Error("second arg must be public key");return u.fromHex(G).multiply(h(F)).toRawBytes(K)}const S=t.bits2int||function(F){const G=Ed(F),K=F.length*8-t.nBitLength;return K>0?G>>BigInt(K):G},T=t.bits2int_modN||function(F){return o(S(F))},P=kC(t.nBitLength);function I(F){if(typeof F!="bigint")throw new Error("bigint expected");if(!(Jo<=F&&F<P))throw new Error(`bigint expected < 2^${t.nBitLength}`);return sm(F,t.nByteLength)}function M(F,G,K=W){if(["recovered","canonical"].some(pe=>pe in K))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:Z}=t;let{lowS:ee,prehash:L,extraEntropy:V}=K;ee==null&&(ee=!0),F=li("msgHash",F),L&&(F=li("prehashed msgHash",$(F)));const Q=T(F),Y=h(G),ae=[I(Y),I(Q)];if(V!=null){const pe=V===!0?Z(n.BYTES):V;ae.push(li("extraEntropy",pe))}const ue=xg(...ae),re=Q;function ie(pe){const oe=S(pe);if(!p(oe))return;const he=c(oe),Ne=u.BASE.multiply(oe).toAffine(),Re=o(Ne.x);if(Re===Jo)return;const H=o(he*o(re+Re*Y));if(H===Jo)return;let ye=(Ne.x===Re?0:2)|Number(Ne.y&Ma),ce=H;return ee&&b(H)&&(ce=y(H),ye^=1),new v(Re,ce,ye)}return{seed:ue,k2sig:ie}}const W={lowS:t.lowS,prehash:!1},z={lowS:t.lowS,prehash:!1};function B(F,G,K=W){const{seed:$,k2sig:Z}=M(F,G,K),ee=t;return HM(ee.hash.outputLen,ee.nByteLength,ee.hmac)($,Z)}u.BASE._setWindowSize(8);function O(F,G,K,$=z){const Z=F;if(G=li("msgHash",G),K=li("publicKey",K),"strict"in $)throw new Error("options.strict was renamed to lowS");const{lowS:ee,prehash:L}=$;let V,Q;try{if(typeof Z=="string"||Z instanceof Uint8Array)try{V=v.fromDER(Z)}catch(he){if(!(he instanceof hd.Err))throw he;V=v.fromCompact(Z)}else if(typeof Z=="object"&&typeof Z.r=="bigint"&&typeof Z.s=="bigint"){const{r:he,s:Ne}=Z;V=new v(he,Ne)}else throw new Error("PARSE");Q=u.fromHex(K)}catch(he){if(he.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ee&&V.hasHighS())return!1;L&&(G=t.hash(G));const{r:Y,s:ae}=V,ue=T(G),re=c(ae),ie=o(ue*re),pe=o(Y*re),oe=u.BASE.multiplyAndAddUnsafe(Q,ie,pe)?.toAffine();return oe?o(oe.x)===Y:!1}return{CURVE:t,getPublicKey:A,getSharedSecret:k,sign:B,verify:O,ProjectivePoint:u,Signature:v,utils:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tee(e){return{hash:e,hmac:(t,...n)=>NM(e,t,UJ(...n)),randomBytes:$J}}function nee(e,t){const n=r=>eee({...e,...tee(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),m_=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ree=BigInt(1),b2=BigInt(2),p_=(e,t)=>(e+t/b2)/t;function see(e){const t=KM,n=BigInt(3),r=BigInt(6),s=BigInt(11),a=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=e*e*e%t,h=u*u*e%t,f=Sa(h,n,t)*h%t,p=Sa(f,n,t)*h%t,g=Sa(p,b2,t)*u%t,b=Sa(g,s,t)*g%t,y=Sa(b,a,t)*b%t,w=Sa(y,o,t)*y%t,v=Sa(w,c,t)*w%t,N=Sa(v,o,t)*y%t,A=Sa(N,n,t)*h%t,C=Sa(A,i,t)*b%t,k=Sa(C,r,t)*u%t,S=Sa(k,b2,t);if(!w2.eql(w2.sqr(S),e))throw new Error("Cannot find square root");return S}const w2=GX(KM,void 0,void 0,{sqrt:see}),fc=nee({a:BigInt(0),b:BigInt(7),Fp:w2,n:m_,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=m_,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ree*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,i=BigInt("0x100000000000000000000000000000000"),o=p_(a*e,t),c=p_(-r*e,t);let u=Us(e-o*n-c*s,t),h=Us(-o*r-c*a,t);const f=u>i,p=h>i;if(f&&(u=t-u),p&&(h=t-h),u>i||h>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:p,k2:h}}}},CM);BigInt(0);fc.ProjectivePoint;const eh="0x0000000000000000000000000000000000000000",g_="0x0000000000000000000000000000000000000000000000000000000000000000",y_=BigInt(0),b_=BigInt(1),w_=BigInt(2),x_=BigInt(27),v_=BigInt(28),rw=BigInt(35),Hh={};function N_(e){return La(kr(e),32)}var u0,Uo,d0,af;const aee=class Wi{constructor(t,n,r,s){De(this,u0),De(this,Uo),De(this,d0),De(this,af),cy(t,Hh,"Signature"),de(this,u0,n),de(this,Uo,r),de(this,d0,s),de(this,af,null)}get r(){return J(this,u0)}set r(t){ke(Cd(t)===32,"invalid r","value",t),de(this,u0,it(t))}get s(){return ke(parseInt(J(this,Uo).substring(0,3))<8,"non-canonical s; use ._s","s",J(this,Uo)),J(this,Uo)}set s(t){ke(Cd(t)===32,"invalid s","value",t),de(this,Uo,it(t))}get _s(){return J(this,Uo)}isValid(){return parseInt(J(this,Uo).substring(0,3))<8}get v(){return J(this,d0)}set v(t){const n=en(t,"value");ke(n===27||n===28,"invalid v","v",t),de(this,d0,n)}get networkV(){return J(this,af)}get legacyChainId(){const t=this.networkV;return t==null?null:Wi.getChainId(t)}get yParity(){return this.v===27?0:1}get yParityAndS(){const t=Zt(this.s);return this.yParity&&(t[0]|=128),it(t)}get compactSerialized(){return Xn([this.r,this.yParityAndS])}get serialized(){return Xn([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new Wi(Hh,this.r,this._s,this.v);return this.networkV&&de(t,af,this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:t!=null?t.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(t){const n=yt(t,"v");return n==x_||n==v_?y_:(ke(n>=rw,"invalid EIP-155 v","v",t),(n-rw)/w_)}static getChainIdV(t,n){return yt(t)*w_+BigInt(35+n-27)}static getNormalizedV(t){const n=yt(t);return n===y_||n===x_?27:n===b_||n===v_?28:(ke(n>=rw,"invalid v","v",t),n&b_?27:28)}static from(t){function n(u,h){ke(u,h,"signature",t)}if(t==null)return new Wi(Hh,g_,g_,27);if(typeof t=="string"){const u=Zt(t,"signature");if(u.length===64){const h=it(u.slice(0,32)),f=u.slice(32,64),p=f[0]&128?28:27;return f[0]&=127,new Wi(Hh,h,it(f),p)}if(u.length===65){const h=it(u.slice(0,32)),f=it(u.slice(32,64)),p=Wi.getNormalizedV(u[64]);return new Wi(Hh,h,f,p)}n(!1,"invalid raw signature length")}if(t instanceof Wi)return t.clone();const r=t.r;n(r!=null,"missing r");const s=N_(r),a=function(u,h){if(u!=null)return N_(u);if(h!=null){n(Un(h,32),"invalid yParityAndS");const f=Zt(h);return f[0]&=127,it(f)}n(!1,"missing s")}(t.s,t.yParityAndS),{networkV:i,v:o}=function(u,h,f){if(u!=null){const p=yt(u);return{networkV:p>=rw?p:void 0,v:Wi.getNormalizedV(p)}}if(h!=null)return n(Un(h,32),"invalid yParityAndS"),{v:Zt(h)[0]&128?28:27};if(f!=null){switch(en(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),c=new Wi(Hh,s,a,o);return i&&de(c,af,i),n(t.yParity==null||en(t.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(t.yParityAndS==null||t.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};u0=new WeakMap,Uo=new WeakMap,d0=new WeakMap,af=new WeakMap;let Ua=aee;var mc;const iee=class of{constructor(t){De(this,mc),ke(Cd(t)===32,"invalid private key","privateKey","[REDACTED]"),de(this,mc,it(t))}get privateKey(){return J(this,mc)}get publicKey(){return of.computePublicKey(J(this,mc))}get compressedPublicKey(){return of.computePublicKey(J(this,mc),!0)}sign(t){ke(Cd(t)===32,"invalid digest length","digest",t);const n=fc.sign(ws(t),ws(J(this,mc)),{lowS:!0});return Ua.from({r:$c(n.r,32),s:$c(n.s,32),v:n.recovery?28:27})}computeSharedSecret(t){const n=of.computePublicKey(t);return it(fc.getSharedSecret(ws(J(this,mc)),Zt(n),!1))}static computePublicKey(t,n){let r=Zt(t,"key");if(r.length===32){const a=fc.getPublicKey(r,!!n);return it(a)}if(r.length===64){const a=new Uint8Array(65);a[0]=4,a.set(r,1),r=a}const s=fc.ProjectivePoint.fromHex(r);return it(s.toRawBytes(n))}static recoverPublicKey(t,n){ke(Cd(t)===32,"invalid digest length","digest",t);const r=Ua.from(n);let s=fc.Signature.fromCompact(ws(Xn([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const a=s.recoverPublicKey(ws(t));return ke(a!=null,"invalid signature for digest","signature",n),"0x"+a.toHex(!1)}static addPoints(t,n,r){const s=fc.ProjectivePoint.fromHex(of.computePublicKey(t).substring(2)),a=fc.ProjectivePoint.fromHex(of.computePublicKey(n).substring(2));return"0x"+s.add(a).toHex(!!r)}};mc=new WeakMap;let CC=iee;const oee=BigInt(0),lee=BigInt(36);function k_(e){e=e.toLowerCase();const t=e.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=t[s].charCodeAt(0);const r=Zt(Gn(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(r[s>>1]&15)>=8&&(t[s+1]=t[s+1].toUpperCase());return"0x"+t.join("")}const EC={};for(let e=0;e<10;e++)EC[String(e)]=String(e);for(let e=0;e<26;e++)EC[String.fromCharCode(65+e)]=String(10+e);const C_=15;function cee(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(r=>EC[r]).join("");for(;t.length>=C_;){let r=t.substring(0,C_);t=parseInt(r,10)%97+t.substring(r.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const uee=function(){const e={};for(let t=0;t<36;t++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[n]=BigInt(t)}return e}();function dee(e){e=e.toLowerCase();let t=oee;for(let n=0;n<e.length;n++)t=t*lee+uee[e[n]];return t}function un(e){if(ke(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=k_(e);return ke(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){ke(e.substring(2,4)===cee(e),"bad icap checksum","address",e);let t=dee(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return k_("0x"+t)}ke(!1,"invalid address","address",e)}function hee(e){const t=un(e.from);let n=yt(e.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,un(cr(Gn(Hc([t,n])),12))}function ZM(e){return e&&typeof e.getAddress=="function"}function fee(e){try{return un(e),!0}catch{}return!1}async function a4(e,t){const n=await t;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Ge(typeof e!="string","unconfigured name","UNCONFIGURED_NAME",{value:e}),ke(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),un(n)}function vs(e,t){if(typeof e=="string")return e.match(/^0x[0-9a-f]{40}$/i)?un(e):(Ge(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),a4(e,t.resolveName(e)));if(ZM(e))return a4(e,e.getAddress());if(e&&typeof e.then=="function")return a4(e,e);ke(!1,"unsupported addressable value","target",e)}const Go={};function gt(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new qs(Go,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function yn(e,t){return new qs(Go,`bytes${t||""}`,e,{size:t})}const E_=Symbol.for("_ethers_typed");var lf;const mee=class pc{constructor(t,n,r,s){Pe(this,"type"),Pe(this,"value"),De(this,lf),Pe(this,"_typedSymbol"),s==null&&(s=null),cy(Go,t,"Typed"),Ut(this,{_typedSymbol:E_,type:n,value:r}),de(this,lf,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return J(this,lf)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return J(this,lf)===!0?-1:J(this,lf)===!1?this.value.length:null}static from(t,n){return new pc(Go,t,n)}static uint8(t){return gt(t,8)}static uint16(t){return gt(t,16)}static uint24(t){return gt(t,24)}static uint32(t){return gt(t,32)}static uint40(t){return gt(t,40)}static uint48(t){return gt(t,48)}static uint56(t){return gt(t,56)}static uint64(t){return gt(t,64)}static uint72(t){return gt(t,72)}static uint80(t){return gt(t,80)}static uint88(t){return gt(t,88)}static uint96(t){return gt(t,96)}static uint104(t){return gt(t,104)}static uint112(t){return gt(t,112)}static uint120(t){return gt(t,120)}static uint128(t){return gt(t,128)}static uint136(t){return gt(t,136)}static uint144(t){return gt(t,144)}static uint152(t){return gt(t,152)}static uint160(t){return gt(t,160)}static uint168(t){return gt(t,168)}static uint176(t){return gt(t,176)}static uint184(t){return gt(t,184)}static uint192(t){return gt(t,192)}static uint200(t){return gt(t,200)}static uint208(t){return gt(t,208)}static uint216(t){return gt(t,216)}static uint224(t){return gt(t,224)}static uint232(t){return gt(t,232)}static uint240(t){return gt(t,240)}static uint248(t){return gt(t,248)}static uint256(t){return gt(t,256)}static uint(t){return gt(t,256)}static int8(t){return gt(t,-8)}static int16(t){return gt(t,-16)}static int24(t){return gt(t,-24)}static int32(t){return gt(t,-32)}static int40(t){return gt(t,-40)}static int48(t){return gt(t,-48)}static int56(t){return gt(t,-56)}static int64(t){return gt(t,-64)}static int72(t){return gt(t,-72)}static int80(t){return gt(t,-80)}static int88(t){return gt(t,-88)}static int96(t){return gt(t,-96)}static int104(t){return gt(t,-104)}static int112(t){return gt(t,-112)}static int120(t){return gt(t,-120)}static int128(t){return gt(t,-128)}static int136(t){return gt(t,-136)}static int144(t){return gt(t,-144)}static int152(t){return gt(t,-152)}static int160(t){return gt(t,-160)}static int168(t){return gt(t,-168)}static int176(t){return gt(t,-176)}static int184(t){return gt(t,-184)}static int192(t){return gt(t,-192)}static int200(t){return gt(t,-200)}static int208(t){return gt(t,-208)}static int216(t){return gt(t,-216)}static int224(t){return gt(t,-224)}static int232(t){return gt(t,-232)}static int240(t){return gt(t,-240)}static int248(t){return gt(t,-248)}static int256(t){return gt(t,-256)}static int(t){return gt(t,-256)}static bytes1(t){return yn(t,1)}static bytes2(t){return yn(t,2)}static bytes3(t){return yn(t,3)}static bytes4(t){return yn(t,4)}static bytes5(t){return yn(t,5)}static bytes6(t){return yn(t,6)}static bytes7(t){return yn(t,7)}static bytes8(t){return yn(t,8)}static bytes9(t){return yn(t,9)}static bytes10(t){return yn(t,10)}static bytes11(t){return yn(t,11)}static bytes12(t){return yn(t,12)}static bytes13(t){return yn(t,13)}static bytes14(t){return yn(t,14)}static bytes15(t){return yn(t,15)}static bytes16(t){return yn(t,16)}static bytes17(t){return yn(t,17)}static bytes18(t){return yn(t,18)}static bytes19(t){return yn(t,19)}static bytes20(t){return yn(t,20)}static bytes21(t){return yn(t,21)}static bytes22(t){return yn(t,22)}static bytes23(t){return yn(t,23)}static bytes24(t){return yn(t,24)}static bytes25(t){return yn(t,25)}static bytes26(t){return yn(t,26)}static bytes27(t){return yn(t,27)}static bytes28(t){return yn(t,28)}static bytes29(t){return yn(t,29)}static bytes30(t){return yn(t,30)}static bytes31(t){return yn(t,31)}static bytes32(t){return yn(t,32)}static address(t){return new pc(Go,"address",t)}static bool(t){return new pc(Go,"bool",!!t)}static bytes(t){return new pc(Go,"bytes",t)}static string(t){return new pc(Go,"string",t)}static array(t,n){throw new Error("not implemented yet")}static tuple(t,n){throw new Error("not implemented yet")}static overrides(t){return new pc(Go,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===E_}static dereference(t,n){if(pc.isTyped(t)){if(t.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${t.type}`);return t.value}return t}};lf=new WeakMap;let qs=mee,pee=class extends Nl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=qs.dereference(t,"string");try{n=un(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return un($c(e.readValue(),20))}},gee=class extends Nl{constructor(e){super(e.name,e.type,"_",e.dynamic),Pe(this,"coder"),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}};function YM(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=t.map(u=>{const h=u.localName;return Ge(h,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),Ge(!c[h],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[h]=!0,n[h]})}else ke(!1,"invalid tuple value","tuple",n);ke(t.length===r.length,"types/value length mismatch","tuple",n);let s=new f2,a=new f2,i=[];t.forEach((c,u)=>{let h=r[u];if(c.dynamic){let f=a.length;c.encode(a,h);let p=s.writeUpdatableValue();i.push(g=>{p(g+f)})}else c.encode(s,h)}),i.forEach(c=>{c(s.length)});let o=e.appendWriter(s);return o+=e.appendWriter(a),o}function QM(e,t){let n=[],r=[],s=e.subReader(0);return t.forEach(a=>{let i=null;if(a.dynamic){let o=e.readIndex(),c=s.subReader(o);try{i=a.decode(c)}catch(u){if(Zr(u,"BUFFER_OVERRUN"))throw u;i=u,i.baseType=a.name,i.name=a.localName,i.type=a.type}}else try{i=a.decode(e)}catch(o){if(Zr(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=a.name,i.name=a.localName,i.type=a.type}if(i==null)throw new Error("investigate");n.push(i),r.push(a.localName||null)}),M1.fromItems(n,r)}let yee=class extends Nl{constructor(e,t,n){const r=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",r,n,s),Pe(this,"coder"),Pe(this,"length"),Ut(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=qs.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;r===-1&&(r=n.length,e.writeValue(n.length)),eM(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let s=[];for(let a=0;a<n.length;a++)s.push(this.coder);return YM(e,s,n)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),Ge(t*xs<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*xs,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new gee(this.coder));return QM(e,n)}},bee=class extends Nl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=qs.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}},JM=class extends Nl{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ws(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}};class wee extends JM{constructor(t){super("bytes",t)}decode(t){return it(super.decode(t))}}let xee=class extends Nl{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),Pe(this,"size"),Ut(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=ws(qs.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return it(e.readBytes(this.size))}};const vee=new Uint8Array([]);let Nee=class extends Nl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(vee)}decode(e){return e.readBytes(0),null}};const kee=BigInt(0),Cee=BigInt(1),Eee=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Aee extends Nl{constructor(t,n,r){const s=(n?"int":"uint")+t*8;super(s,s,r,!1),Pe(this,"size"),Pe(this,"signed"),Ut(this,{size:t,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,n){let r=yt(qs.dereference(n,this.type)),s=ud(Eee,xs*8);if(this.signed){let a=ud(s,this.size*8-1);(r>a||r<-(a+Cee))&&this._throwError("value out-of-bounds",n),r=gC(r,8*xs)}else(r<kee||r>ud(s,this.size*8))&&this._throwError("value out-of-bounds",n);return t.writeValue(r)}decode(t){let n=ud(t.readValue(),this.size*8);return this.signed&&(n=P1(n,this.size*8)),n}}let See=class extends JM{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ao(qs.dereference(t,"string")))}decode(e){return O1(super.decode(e))}},Fw=class extends Nl{constructor(e,t){let n=!1;const r=[];e.forEach(a=>{a.dynamic&&(n=!0),r.push(a.type)});const s="tuple("+r.join(",")+")";super("tuple",s,t,n),Pe(this,"coders"),Ut(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,r)=>{const s=r.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,r)=>{let s=n.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[r]))}),Object.freeze(e)}encode(e,t){const n=qs.dereference(t,"tuple");return YM(e,this.coders,n)}decode(e){return QM(e,this.coders)}};function i4(e,t){return{address:un(e),storageKeys:t.map((n,r)=>(ke(Un(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function th(e){if(Array.isArray(e))return e.map((n,r)=>Array.isArray(n)?(ke(n.length===2,"invalid slot set",`value[${r}]`,n),i4(n[0],n[1])):(ke(n!=null&&typeof n=="object","invalid address-slot set","value",e),i4(n.address,n.storageKeys)));ke(e!=null&&typeof e=="object","invalid access list","value",e);const t=Object.keys(e).map(n=>{const r=e[n].reduce((s,a)=>(s[a]=!0,s),{});return i4(n,Object.keys(r).sort())});return t.sort((n,r)=>n.address.localeCompare(r.address)),t}function XM(e){return{address:un(e.address),nonce:yt(e.nonce!=null?e.nonce:0),chainId:yt(e.chainId!=null?e.chainId:0),signature:Ua.from(e.signature)}}function jee(e){let t;return typeof e=="string"?t=CC.computePublicKey(e,!1):t=e.publicKey,un(Gn("0x"+t.substring(4)).substring(26))}function _ee(e,t){return jee(CC.recoverPublicKey(e,t))}const Fr=BigInt(0),Iee=BigInt(2),Tee=BigInt(27),Pee=BigInt(28),Oee=BigInt(35),Ree=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),o4=4096*32;function Mee(e){return{blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment=="function")return Zt(e.blobToKzgCommitment(it(t)))}else if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment=="function")return Zt(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&typeof e.blobToKZGCommitment=="function")return Zt(e.blobToKZGCommitment(it(t)));ke(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,n)=>{if("computeBlobProof"in e&&typeof e.computeBlobProof=="function")return Zt(e.computeBlobProof(it(t),it(n)));if("computeBlobKzgProof"in e&&typeof e.computeBlobKzgProof=="function")return e.computeBlobKzgProof(t,n);if("computeBlobKZGProof"in e&&typeof e.computeBlobKZGProof=="function")return Zt(e.computeBlobKZGProof(it(t),it(n)));ke(!1,"unsupported KZG library","kzg",e)}}}function A_(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=Tm(t).substring(4),"0x"+n}function Pm(e){return e==="0x"?null:un(e)}function iv(e,t){try{return th(e)}catch(n){ke(!1,n.message,t,e)}}function zee(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<e.length;r++){const s=e[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Pm(s[1]),nonce:Mn(s[2],"nonce"),chainId:Mn(s[0],"chainId"),signature:Ua.from({yParity:nh(s[3],"yParity"),r:La(s[4],32),s:La(s[5],32)})})}return n}catch(n){ke(!1,n.message,t,e)}}function nh(e,t){return e==="0x"?0:en(e,t)}function Mn(e,t){if(e==="0x")return Fr;const n=yt(e,t);return ke(n<=Ree,"value exceeds uint size",t,n),n}function cn(e,t){const n=yt(e,"value"),r=kr(n);return ke(r.length<=32,"value too large",`tx.${t}`,n),r}function ov(e){return th(e).map(t=>[t.address,t.storageKeys])}function Fee(e){return e.map(t=>[cn(t.chainId,"chainId"),t.address,cn(t.nonce,"nonce"),cn(t.signature.yParity,"yParity"),kr(t.signature.r),kr(t.signature.s)])}function Dee(e,t){ke(Array.isArray(e),`invalid ${t}`,"value",e);for(let n=0;n<e.length;n++)ke(Un(e[n],32),"invalid ${ param } hash",`value[${n}]`,e[n]);return e}function Bee(e){const t=uy(e);ke(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:nh(t[0],"nonce"),gasPrice:Mn(t[1],"gasPrice"),gasLimit:Mn(t[2],"gasLimit"),to:Pm(t[3]),value:Mn(t[4],"value"),data:it(t[5]),chainId:Fr};if(t.length===6)return n;const r=Mn(t[6],"v"),s=Mn(t[7],"r"),a=Mn(t[8],"s");if(s===Fr&&a===Fr)n.chainId=r;else{let i=(r-Oee)/Iee;i<Fr&&(i=Fr),n.chainId=i,ke(i!==Fr||r===Tee||r===Pee,"non-canonical legacy v","v",t[6]),n.signature=Ua.from({r:La(t[7],32),s:La(t[8],32),v:r})}return n}function Lee(e,t){const n=[cn(e.nonce,"nonce"),cn(e.gasPrice||0,"gasPrice"),cn(e.gasLimit,"gasLimit"),e.to||"0x",cn(e.value,"value"),e.data];let r=Fr;if(e.chainId!=Fr)r=yt(e.chainId,"tx.chainId"),ke(!t||t.networkV==null||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const a=e.signature.legacyChainId;a!=null&&(r=a)}if(!t)return r!==Fr&&(n.push(kr(r)),n.push("0x"),n.push("0x")),Hc(n);let s=BigInt(27+t.yParity);return r!==Fr?s=Ua.getChainIdV(r,t.v):BigInt(t.v)!==s&&ke(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(kr(s)),n.push(kr(t.r)),n.push(kr(t.s)),Hc(n)}function lv(e,t){let n;try{if(n=nh(t[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{ke(!1,"invalid yParity","yParity",t[0])}const r=La(t[1],32),s=La(t[2],32),a=Ua.from({r,s,yParity:n});e.signature=a}function Uee(e){const t=uy(Zt(e).slice(1));ke(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",it(e));const n={type:2,chainId:Mn(t[0],"chainId"),nonce:nh(t[1],"nonce"),maxPriorityFeePerGas:Mn(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Mn(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Mn(t[4],"gasLimit"),to:Pm(t[5]),value:Mn(t[6],"value"),data:it(t[7]),accessList:iv(t[8],"accessList")};return t.length===9||lv(n,t.slice(9)),n}function $ee(e,t){const n=[cn(e.chainId,"chainId"),cn(e.nonce,"nonce"),cn(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(e.maxFeePerGas||0,"maxFeePerGas"),cn(e.gasLimit,"gasLimit"),e.to||"0x",cn(e.value,"value"),e.data,ov(e.accessList||[])];return t&&(n.push(cn(t.yParity,"yParity")),n.push(kr(t.r)),n.push(kr(t.s))),Xn(["0x02",Hc(n)])}function Hee(e){const t=uy(Zt(e).slice(1));ke(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",it(e));const n={type:1,chainId:Mn(t[0],"chainId"),nonce:nh(t[1],"nonce"),gasPrice:Mn(t[2],"gasPrice"),gasLimit:Mn(t[3],"gasLimit"),to:Pm(t[4]),value:Mn(t[5],"value"),data:it(t[6]),accessList:iv(t[7],"accessList")};return t.length===8||lv(n,t.slice(8)),n}function Wee(e,t){const n=[cn(e.chainId,"chainId"),cn(e.nonce,"nonce"),cn(e.gasPrice||0,"gasPrice"),cn(e.gasLimit,"gasLimit"),e.to||"0x",cn(e.value,"value"),e.data,ov(e.accessList||[])];return t&&(n.push(cn(t.yParity,"recoveryParam")),n.push(kr(t.r)),n.push(kr(t.s))),Xn(["0x01",Hc(n)])}function Gee(e){let t=uy(Zt(e).slice(1)),n="3",r=null;if(t.length===4&&Array.isArray(t[0])){n="3 (network format)";const a=t[1],i=t[2],o=t[3];ke(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),ke(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),ke(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),ke(a.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),ke(a.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let c=0;c<t[1].length;c++)r.push({data:a[c],commitment:i[c],proof:o[c]});t=t[0]}ke(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${n}`,"data",it(e));const s={type:3,chainId:Mn(t[0],"chainId"),nonce:nh(t[1],"nonce"),maxPriorityFeePerGas:Mn(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Mn(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Mn(t[4],"gasLimit"),to:Pm(t[5]),value:Mn(t[6],"value"),data:it(t[7]),accessList:iv(t[8],"accessList"),maxFeePerBlobGas:Mn(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(s.blobs=r),ke(s.to!=null,`invalid address for transaction type: ${n}`,"data",e),ke(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let a=0;a<s.blobVersionedHashes.length;a++)ke(Un(s.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",e);return t.length===11||lv(s,t.slice(11)),s}function qee(e,t,n){const r=[cn(e.chainId,"chainId"),cn(e.nonce,"nonce"),cn(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(e.maxFeePerGas||0,"maxFeePerGas"),cn(e.gasLimit,"gasLimit"),e.to||eh,cn(e.value,"value"),e.data,ov(e.accessList||[]),cn(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Dee(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(cn(t.yParity,"yParity")),r.push(kr(t.r)),r.push(kr(t.s)),n)?Xn(["0x03",Hc([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Xn(["0x03",Hc(r)])}function Vee(e){const t=uy(Zt(e).slice(1));ke(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",it(e));const n={type:4,chainId:Mn(t[0],"chainId"),nonce:nh(t[1],"nonce"),maxPriorityFeePerGas:Mn(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Mn(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Mn(t[4],"gasLimit"),to:Pm(t[5]),value:Mn(t[6],"value"),data:it(t[7]),accessList:iv(t[8],"accessList"),authorizationList:zee(t[9],"authorizationList")};return t.length===10||lv(n,t.slice(10)),n}function Kee(e,t){const n=[cn(e.chainId,"chainId"),cn(e.nonce,"nonce"),cn(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),cn(e.maxFeePerGas||0,"maxFeePerGas"),cn(e.gasLimit,"gasLimit"),e.to||"0x",cn(e.value,"value"),e.data,ov(e.accessList||[]),Fee(e.authorizationList||[])];return t&&(n.push(cn(t.yParity,"yParity")),n.push(kr(t.r)),n.push(kr(t.s))),Xn(["0x04",Hc(n)])}var Gi,h0,f0,m0,p0,g0,y0,b0,w0,x0,v0,N0,cf,zu,$o,Fu,k0,C0,Dw;const Zee=class Ho{constructor(){De(this,C0),De(this,Gi),De(this,h0),De(this,f0),De(this,m0),De(this,p0),De(this,g0),De(this,y0),De(this,b0),De(this,w0),De(this,x0),De(this,v0),De(this,N0),De(this,cf),De(this,zu),De(this,$o),De(this,Fu),De(this,k0),de(this,Gi,null),de(this,h0,null),de(this,m0,0),de(this,p0,Fr),de(this,g0,null),de(this,y0,null),de(this,b0,null),de(this,f0,"0x"),de(this,w0,Fr),de(this,x0,Fr),de(this,v0,null),de(this,N0,null),de(this,cf,null),de(this,zu,null),de(this,$o,null),de(this,Fu,null),de(this,k0,null)}get type(){return J(this,Gi)}set type(t){switch(t){case null:de(this,Gi,null);break;case 0:case"legacy":de(this,Gi,0);break;case 1:case"berlin":case"eip-2930":de(this,Gi,1);break;case 2:case"london":case"eip-1559":de(this,Gi,2);break;case 3:case"cancun":case"eip-4844":de(this,Gi,3);break;case 4:case"pectra":case"eip-7702":de(this,Gi,4);break;default:ke(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const t=J(this,h0);return t==null&&this.type===3?eh:t}set to(t){de(this,h0,t==null?null:un(t))}get nonce(){return J(this,m0)}set nonce(t){de(this,m0,en(t,"value"))}get gasLimit(){return J(this,p0)}set gasLimit(t){de(this,p0,yt(t))}get gasPrice(){const t=J(this,g0);return t==null&&(this.type===0||this.type===1)?Fr:t}set gasPrice(t){de(this,g0,t==null?null:yt(t,"gasPrice"))}get maxPriorityFeePerGas(){return J(this,y0)??(this.type===2||this.type===3?Fr:null)}set maxPriorityFeePerGas(t){de(this,y0,t==null?null:yt(t,"maxPriorityFeePerGas"))}get maxFeePerGas(){return J(this,b0)??(this.type===2||this.type===3?Fr:null)}set maxFeePerGas(t){de(this,b0,t==null?null:yt(t,"maxFeePerGas"))}get data(){return J(this,f0)}set data(t){de(this,f0,it(t))}get value(){return J(this,w0)}set value(t){de(this,w0,yt(t,"value"))}get chainId(){return J(this,x0)}set chainId(t){de(this,x0,yt(t))}get signature(){return J(this,v0)||null}set signature(t){de(this,v0,t==null?null:Ua.from(t))}get accessList(){return(J(this,N0)||null)??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(t){de(this,N0,t==null?null:th(t))}get authorizationList(){const t=J(this,k0)||null;return t==null&&this.type===4?[]:t}set authorizationList(t){de(this,k0,t==null?null:t.map(n=>XM(n)))}get maxFeePerBlobGas(){const t=J(this,cf);return t==null&&this.type===3?Fr:t}set maxFeePerBlobGas(t){de(this,cf,t==null?null:yt(t,"maxFeePerBlobGas"))}get blobVersionedHashes(){let t=J(this,zu);return t==null&&this.type===3?[]:t}set blobVersionedHashes(t){if(t!=null){ke(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let n=0;n<t.length;n++)ke(Un(t[n],32),"invalid blobVersionedHash",`value[${n}]`,t[n])}de(this,zu,t)}get blobs(){return J(this,Fu)==null?null:J(this,Fu).map(t=>Object.assign({},t))}set blobs(t){if(t==null){de(this,Fu,null);return}const n=[],r=[];for(let s=0;s<t.length;s++){const a=t[s];if(pC(a)){Ge(J(this,$o),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let i=Zt(a);if(ke(i.length<=o4,"blob is too large",`blobs[${s}]`,a),i.length!==o4){const u=new Uint8Array(o4);u.set(i),i=u}const o=J(this,$o).blobToKzgCommitment(i),c=it(J(this,$o).computeBlobKzgProof(i,o));n.push({data:it(i),commitment:it(o),proof:c}),r.push(A_(1,o))}else{const i=it(a.commitment);n.push({data:it(a.data),commitment:i,proof:it(a.proof)}),r.push(A_(1,i))}}de(this,Fu,n),de(this,zu,r)}get kzg(){return J(this,$o)}set kzg(t){t==null?de(this,$o,null):de(this,$o,Mee(t))}get hash(){return this.signature==null?null:Gn(Ye(this,C0,Dw).call(this,!0,!1))}get unsignedHash(){return Gn(this.unsignedSerialized)}get from(){return this.signature==null?null:_ee(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:CC.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Ye(this,C0,Dw).call(this,!0,!0)}get unsignedSerialized(){return Ye(this,C0,Dw).call(this,!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=J(this,cf)!=null||J(this,zu);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Ge(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Ge(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Ge(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];return this.type!=null?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):n?a.push(2):t?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(s&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ho.from(this)}toJSON(){const t=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(t==null)return new Ho;if(typeof t=="string"){const r=Zt(t);if(r[0]>=127)return Ho.from(Bee(r));switch(r[0]){case 1:return Ho.from(Hee(r));case 2:return Ho.from(Uee(r));case 3:return Ho.from(Gee(r));case 4:return Ho.from(Vee(r))}Ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Ho;return t.type!=null&&(n.type=t.type),t.to!=null&&(n.to=t.to),t.nonce!=null&&(n.nonce=t.nonce),t.gasLimit!=null&&(n.gasLimit=t.gasLimit),t.gasPrice!=null&&(n.gasPrice=t.gasPrice),t.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=t.maxPriorityFeePerGas),t.maxFeePerGas!=null&&(n.maxFeePerGas=t.maxFeePerGas),t.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=t.maxFeePerBlobGas),t.data!=null&&(n.data=t.data),t.value!=null&&(n.value=t.value),t.chainId!=null&&(n.chainId=t.chainId),t.signature!=null&&(n.signature=Ua.from(t.signature)),t.accessList!=null&&(n.accessList=t.accessList),t.authorizationList!=null&&(n.authorizationList=t.authorizationList),t.blobVersionedHashes!=null&&(n.blobVersionedHashes=t.blobVersionedHashes),t.kzg!=null&&(n.kzg=t.kzg),t.blobs!=null&&(n.blobs=t.blobs),t.hash!=null&&(ke(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),ke(n.hash===t.hash,"hash mismatch","tx",t)),t.from!=null&&(ke(n.isSigned(),"unsigned transaction cannot define '.from'","tx",t),ke(n.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),n}};Gi=new WeakMap,h0=new WeakMap,f0=new WeakMap,m0=new WeakMap,p0=new WeakMap,g0=new WeakMap,y0=new WeakMap,b0=new WeakMap,w0=new WeakMap,x0=new WeakMap,v0=new WeakMap,N0=new WeakMap,cf=new WeakMap,zu=new WeakMap,$o=new WeakMap,Fu=new WeakMap,k0=new WeakMap,C0=new WeakSet,Dw=function(e,t){Ge(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return Lee(this,n);case 1:return Wee(this,n);case 2:return $ee(this,n);case 3:return qee(this,n,t?this.blobs:null);case 4:return Kee(this,n)}Ge(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let ez=Zee;function Bd(e){return Gn(ao(e))}var Yee="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const S_=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),j_=4;function Qee(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),s=1,a=[0,1];for(let k=1;k<r;k++)a.push(s+=n());let i=n(),o=t;t+=i;let c=0,u=0;function h(){return c==0&&(u=u<<8|e[t++],c=8),u>>--c&1}const f=31,p=2**f,g=p>>>1,b=g>>1,y=p-1;let w=0;for(let k=0;k<f;k++)w=w<<1|h();let v=[],N=0,A=p;for(;;){let k=Math.floor(((w-N+1)*s-1)/A),S=0,T=r;for(;T-S>1;){let M=S+T>>>1;k<a[M]?T=M:S=M}if(S==0)break;v.push(S);let P=N+Math.floor(A*a[S]/s),I=N+Math.floor(A*a[S+1]/s)-1;for(;((P^I)&g)==0;)w=w<<1&y|h(),P=P<<1&y,I=I<<1&y|1;for(;P&~I&b;)w=w&g|w<<1&y>>>1|h(),P=P<<1^g,I=(I^g)<<1|g|1;N=P,A=1+I-P}let C=r-4;return v.map(k=>{switch(k-C){case 3:return C+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return C+256+(e[o++]<<8|e[o++]);case 1:return C+e[o++];default:return k-1}})}function Jee(e){let t=0;return()=>e[t++]}function tz(e){return Jee(Qee(Xee(e)))}function Xee(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,a)=>t[s.charCodeAt(0)]=a);let n=e.length,r=new Uint8Array(6*n>>3);for(let s=0,a=0,i=0,o=0;s<n;s++)o=o<<6|t[e.charCodeAt(s)],i+=6,i>=8&&(r[a++]=o>>(i-=8));return r}function ete(e){return e&1?~e>>1:e>>1}function tte(e,t){let n=Array(e);for(let r=0,s=0;r<e;r++)n[r]=s+=ete(t());return n}function vg(e,t=0){let n=[];for(;;){let r=e(),s=e();if(!s)break;t+=r;for(let a=0;a<s;a++)n.push(t+a);t+=s+1}return n}function nz(e){return Ng(()=>{let t=vg(e);if(t.length)return t})}function rz(e){let t=[];for(;;){let n=e();if(n==0)break;t.push(nte(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(rte(n,e))}return t.flat()}function Ng(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function sz(e,t,n){let r=Array(e).fill().map(()=>[]);for(let s=0;s<t;s++)tte(e,n).forEach((a,i)=>r[i].push(a));return r}function nte(e,t){let n=1+t(),r=t(),s=Ng(t);return sz(s.length,1+e,t).flatMap((a,i)=>{let[o,...c]=a;return Array(s[i]).fill().map((u,h)=>{let f=h*r;return[o+h*n,c.map(p=>p+f)]})})}function rte(e,t){let n=1+t();return sz(n,1+e,t).map(r=>[r[0],r.slice(1)])}function ste(e){let t=[],n=vg(e);return s(r([]),[]),t;function r(a){let i=e(),o=Ng(()=>{let c=vg(e).map(u=>n[u]);if(c.length)return r(c)});return{S:i,B:o,Q:a}}function s({S:a,B:i},o,c){if(!(a&4&&c===o[o.length-1])){a&2&&(c=o[o.length-1]),a&1&&t.push(o);for(let u of i)for(let h of u.Q)s(u,[...o,h],c)}}}function ate(e){return e.toString(16).toUpperCase().padStart(2,"0")}function az(e){return`{${ate(e)}}`}function ite(e){let t=[];for(let n=0,r=e.length;n<r;){let s=e.codePointAt(n);n+=s<65536?1:2,t.push(s)}return t}function am(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function ote(e,t){let n=e.length,r=n-t.length;for(let s=0;r==0&&s<n;s++)r=e[s]-t[s];return r}var lte="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const kg=44032,F1=4352,D1=4449,B1=4519,iz=19,oz=21,im=28,L1=oz*im,cte=iz*L1,ute=kg+cte,dte=F1+iz,hte=D1+oz,fte=B1+im;function E0(e){return e>>24&255}function lz(e){return e&16777215}let x2,__,v2,Bw;function mte(){let e=tz(lte);x2=new Map(nz(e).flatMap((t,n)=>t.map(r=>[r,n+1<<24]))),__=new Set(vg(e)),v2=new Map,Bw=new Map;for(let[t,n]of rz(e)){if(!__.has(t)&&n.length==2){let[r,s]=n,a=Bw.get(r);a||(a=new Map,Bw.set(r,a)),a.set(s,t)}v2.set(t,n.reverse())}}function cz(e){return e>=kg&&e<ute}function pte(e,t){if(e>=F1&&e<dte&&t>=D1&&t<hte)return kg+(e-F1)*L1+(t-D1)*im;if(cz(e)&&t>B1&&t<fte&&(e-kg)%im==0)return e+(t-B1);{let n=Bw.get(e);return n&&(n=n.get(t),n)?n:-1}}function uz(e){x2||mte();let t=[],n=[],r=!1;function s(a){let i=x2.get(a);i&&(r=!0,a|=i),t.push(a)}for(let a of e)for(;;){if(a<128)t.push(a);else if(cz(a)){let i=a-kg,o=i/L1|0,c=i%L1/im|0,u=i%im;s(F1+o),s(D1+c),u>0&&s(B1+u)}else{let i=v2.get(a);i?n.push(...i):s(a)}if(!n.length)break;a=n.pop()}if(r&&t.length>1){let a=E0(t[0]);for(let i=1;i<t.length;i++){let o=E0(t[i]);if(o==0||a<=o){a=o;continue}let c=i-1;for(;;){let u=t[c+1];if(t[c+1]=t[c],t[c]=u,!c||(a=E0(t[--c]),a<=o))break}a=E0(t[i])}}return t}function gte(e){let t=[],n=[],r=-1,s=0;for(let a of e){let i=E0(a),o=lz(a);if(r==-1)i==0?r=o:t.push(o);else if(s>0&&s>=i)i==0?(t.push(r,...n),n.length=0,r=o):n.push(o),s=i;else{let c=pte(r,o);c>=0?r=c:s==0&&i==0?(t.push(r),r=o):(n.push(o),s=i)}}return r>=0&&t.push(r,...n),t}function dz(e){return uz(e).map(lz)}function yte(e){return gte(uz(e))}const I_=45,hz=".",fz=65039,mz=1,U1=e=>Array.from(e);function Cg(e,t){return e.P.has(t)||e.Q.has(t)}let bte=class extends Array{get is_emoji(){return!0}},N2,pz,fd,k2,gz,Df,l4,uf,Du,T_,C2;function AC(){if(N2)return;let e=tz(Yee);const t=()=>vg(e),n=()=>new Set(t()),r=(h,f)=>f.forEach(p=>h.add(p));N2=new Map(rz(e)),pz=n(),fd=t(),k2=new Set(t().map(h=>fd[h])),fd=new Set(fd),gz=n(),n();let s=nz(e),a=e();const i=()=>{let h=new Set;return t().forEach(f=>r(h,s[f])),r(h,t()),h};Df=Ng(h=>{let f=Ng(e).map(p=>p+96);if(f.length){let p=h>=a;f[0]-=32,f=am(f),p&&(f=`Restricted[${f}]`);let g=i(),b=i(),y=!e();return{N:f,P:g,Q:b,M:y,R:p}}}),l4=n(),uf=new Map;let o=t().concat(U1(l4)).sort((h,f)=>h-f);o.forEach((h,f)=>{let p=e(),g=o[f]=p?o[f-p]:{V:[],M:new Map};g.V.push(h),l4.has(h)||uf.set(h,g)});for(let{V:h,M:f}of new Set(uf.values())){let p=[];for(let b of h){let y=Df.filter(v=>Cg(v,b)),w=p.find(({G:v})=>y.some(N=>v.has(N)));w||(w={G:new Set,V:[]},p.push(w)),w.V.push(b),r(w.G,y)}let g=p.flatMap(b=>U1(b.G));for(let{G:b,V:y}of p){let w=new Set(g.filter(v=>!b.has(v)));for(let v of y)f.set(v,w)}}Du=new Set;let c=new Set;const u=h=>Du.has(h)?c.add(h):Du.add(h);for(let h of Df){for(let f of h.P)u(f);for(let f of h.Q)u(f)}for(let h of Du)!uf.has(h)&&!c.has(h)&&uf.set(h,mz);r(Du,dz(Du)),T_=ste(e).map(h=>bte.from(h)).sort(ote),C2=new Map;for(let h of T_){let f=[C2];for(let p of h){let g=f.map(b=>{let y=b.get(p);return y||(y=new Map,b.set(p,y)),y});p===fz?f.push(...g):f=g}for(let p of f)p.V=h}}function SC(e){return(yz(e)?"":`${jC(cv([e]))} `)+az(e)}function jC(e){return`"${e}"`}function wte(e){if(e.length>=4&&e[2]==I_&&e[3]==I_)throw new Error(`invalid label extension: "${am(e.slice(0,4))}"`)}function xte(e){for(let t=e.lastIndexOf(95);t>0;)if(e[--t]!==95)throw new Error("underscore allowed only at start")}function vte(e){let t=e[0],n=S_.get(t);if(n)throw X0(`leading ${n}`);let r=e.length,s=-1;for(let a=1;a<r;a++){t=e[a];let i=S_.get(t);if(i){if(s==a)throw X0(`${n} + ${i}`);s=a+1,n=i}}if(s==r)throw X0(`trailing ${n}`)}function cv(e,t=1/0,n=az){let r=[];Nte(e[0])&&r.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,a=e.length;for(let i=0;i<a;i++){let o=e[i];yz(o)&&(r.push(am(e.slice(s,i))),r.push(n(o)),s=i+1)}return r.push(am(e.slice(s,a))),r.join("")}function Nte(e){return AC(),fd.has(e)}function yz(e){return AC(),gz.has(e)}function kte(e){return Ste(Cte(e,yte,Ite))}function Cte(e,t,n){if(!e)return[];AC();let r=0;return e.split(hz).map(s=>{let a=ite(s),i={input:a,offset:r};r+=a.length+1;try{let o=i.tokens=_te(a,t,n),c=o.length,u;if(!c)throw new Error("empty label");let h=i.output=o.flat();if(xte(h),!(i.emoji=c>1||o[0].is_emoji)&&h.every(f=>f<128))wte(h),u="ASCII";else{let f=o.flatMap(p=>p.is_emoji?[]:p);if(!f.length)u="Emoji";else{if(fd.has(h[0]))throw X0("leading combining mark");for(let b=1;b<c;b++){let y=o[b];if(!y.is_emoji&&fd.has(y[0]))throw X0(`emoji + combining mark: "${am(o[b-1])} + ${cv([y[0]])}"`)}vte(h);let p=U1(new Set(f)),[g]=Ate(p);jte(g,f),Ete(g,p),u=g.N}}i.type=u}catch(o){i.error=o}return i})}function Ete(e,t){let n,r=[];for(let s of t){let a=uf.get(s);if(a===mz)return;if(a){let i=a.M.get(s);if(n=n?n.filter(o=>i.has(o)):U1(i),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(a=>Cg(s,a)))throw new Error(`whole-script confusable: ${e.N}/${s.N}`)}}function Ate(e){let t=Df;for(let n of e){let r=t.filter(s=>Cg(s,n));if(!r.length)throw Df.some(s=>Cg(s,n))?wz(t[0],n):bz(n);if(t=r,r.length==1)break}return t}function Ste(e){return e.map(({input:t,error:n,output:r})=>{if(n){let s=n.message;throw new Error(e.length==1?s:`Invalid label ${jC(cv(t,63))}: ${s}`)}return am(r)}).join(hz)}function bz(e){return new Error(`disallowed character: ${SC(e)}`)}function wz(e,t){let n=SC(t),r=Df.find(s=>s.P.has(t));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function X0(e){return new Error(`illegal placement: ${e}`)}function jte(e,t){for(let n of t)if(!Cg(e,n))throw wz(e,n);if(e.M){let n=dz(t);for(let r=1,s=n.length;r<s;r++)if(k2.has(n[r])){let a=r+1;for(let i;a<s&&k2.has(i=n[a]);a++)for(let o=r;o<a;o++)if(n[o]==i)throw new Error(`duplicate non-spacing marks: ${SC(i)}`);if(a-r>j_)throw new Error(`excessive non-spacing marks: ${jC(cv(n.slice(r-1,a)))} (${a-r}/${j_})`);r=a}}}function _te(e,t,n){let r=[],s=[];for(e=e.slice().reverse();e.length;){let a=Tte(e);if(a)s.length&&(r.push(t(s)),s=[]),r.push(n(a));else{let i=e.pop();if(Du.has(i))s.push(i);else{let o=N2.get(i);if(o)s.push(...o);else if(!pz.has(i))throw bz(i)}}}return s.length&&r.push(t(s)),r}function Ite(e){return e.filter(t=>t!=fz)}function Tte(e,t){let n=C2,r,s=e.length;for(;s&&(n=n.get(e[--s]),!!n);){let{V:a}=n;a&&(r=a,e.length=s)}return r}const xz=new Uint8Array(32);xz.fill(0);function P_(e){return ke(e.length!==0,"invalid ENS name; empty component","comp",e),e}function vz(e){const t=ao(Pte(e)),n=[];if(e.length===0)return n;let r=0;for(let s=0;s<t.length;s++)t[s]===46&&(n.push(P_(t.slice(r,s))),r=s+1);return ke(r<t.length,"invalid ENS name; empty component","name",e),n.push(P_(t.slice(r))),n}function Pte(e){try{if(e.length===0)throw new Error("empty label");return kte(e)}catch(t){ke(!1,`invalid ENS name (${t.message})`,"name",e)}}function E2(e){ke(typeof e=="string","invalid ENS name; not a string","name",e),ke(e.length,"invalid ENS name (empty label)","name",e);let t=xz;const n=vz(e);for(;n.length;)t=Gn(Xn([t,Gn(n.pop())]));return it(t)}function Ote(e,t){const n=t;return ke(n<=255,"DNS encoded label cannot exceed 255","length",n),it(Xn(vz(e).map(r=>{ke(r.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const Rte=new RegExp("^bytes([0-9]+)$"),Mte=new RegExp("^(u?int)([0-9]*)$"),zte=new RegExp("^(.*)\\[([0-9]*)\\]$");function Nz(e,t,n){switch(e){case"address":return Zt(n?La(t,32):un(t));case"string":return ao(t);case"bytes":return Zt(t);case"bool":return t=t?"0x01":"0x00",Zt(n?La(t,32):t)}let r=e.match(Mte);if(r){let s=r[1]==="int",a=parseInt(r[2]||"256");return ke((!r[2]||r[2]===String(a))&&a%8===0&&a!==0&&a<=256,"invalid number type","type",e),n&&(a=256),s&&(t=gC(t,a)),Zt(La(kr(t),a/8))}if(r=e.match(Rte),r){const s=parseInt(r[1]);return ke(String(s)===r[1]&&s!==0&&s<=32,"invalid bytes type","type",e),ke(Cd(t)===s,`invalid value for ${e}`,"value",t),n?Zt(rM(t,32)):t}if(r=e.match(zte),r&&Array.isArray(t)){const s=r[1],a=parseInt(r[2]||String(t.length));ke(a===t.length,`invalid array length for ${e}`,"value",t);const i=[];return t.forEach(function(o){i.push(Nz(s,o,!0))}),Zt(Xn(i))}ke(!1,"invalid type","type",e)}function A2(e,t){ke(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);const n=[];return e.forEach(function(r,s){n.push(Nz(r,t[s]))}),it(Xn(n))}const kz=new Uint8Array(32);kz.fill(0);const Fte=BigInt(-1),Cz=BigInt(0),Ez=BigInt(1),Dte=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Bte(e){const t=Zt(e),n=t.length%32;return n?Xn([t,kz.slice(n)]):it(t)}const Lte=$c(Ez,32),Ute=$c(Cz,32),O_={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},c4=["name","version","chainId","verifyingContract","salt"];function R_(e){return function(t){return ke(typeof t=="string",`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const $te={name:R_("name"),version:R_("version"),chainId:function(e){const t=yt(e,"domain.chainId");return ke(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):ui(t)},verifyingContract:function(e){try{return un(e).toLowerCase()}catch{}ke(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=Zt(e,"domain.salt");return ke(t.length===32,'invalid domain value "salt"',"domain.salt",e),it(t)}};function S2(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=t[1]==="",r=parseInt(t[2]);ke(r%8===0&&r!==0&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const s=ud(Dte,n?r-1:r),a=n?(s+Ez)*Fte:Cz;return function(i){const o=yt(i,"value");return ke(o>=a&&o<=s,`value out-of-bounds for ${e}`,"value",o),$c(n?gC(o,256):o,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return ke(n!==0&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(r){const s=Zt(r);return ke(s.length===n,`invalid length for ${e}`,"value",r),Bte(r)}}}switch(e){case"address":return function(t){return La(un(t),32)};case"bool":return function(t){return t?Lte:Ute};case"bytes":return function(t){return Gn(t)};case"string":return function(t){return Bd(t)}}return null}function M_(e,t){return`${e}(${t.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Lw(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var Uw,Ic,A0,j2,Az;const Hte=class ti{constructor(t){De(this,j2),Pe(this,"primaryType"),De(this,Uw),De(this,Ic),De(this,A0),de(this,Ic,new Map),de(this,A0,new Map);const n=new Map,r=new Map,s=new Map,a={};Object.keys(t).forEach(c=>{a[c]=t[c].map(({name:u,type:h})=>{let{base:f,index:p}=Lw(h);return f==="int"&&!t.int&&(f="int256"),f==="uint"&&!t.uint&&(f="uint256"),{name:u,type:f+(p||"")}}),n.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),de(this,Uw,JSON.stringify(a));for(const c in a){const u=new Set;for(const h of a[c]){ke(!u.has(h.name),`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(c)}`,"types",t),u.add(h.name);const f=Lw(h.type).base;ke(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",t),!S2(f)&&(ke(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",t),r.get(f).push(c),n.get(c).add(f))}}const i=Array.from(r.keys()).filter(c=>r.get(c).length===0);ke(i.length!==0,"missing primary type","types",t),ke(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",t),Ut(this,{primaryType:i[0]});function o(c,u){ke(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",t),u.add(c);for(const h of n.get(c))if(r.has(h)){o(h,u);for(const f of u)s.get(f).add(h)}u.delete(c)}o(this.primaryType,new Set);for(const[c,u]of s){const h=Array.from(u);h.sort(),J(this,Ic).set(c,M_(c,a[c])+h.map(f=>M_(f,a[f])).join(""))}}get types(){return JSON.parse(J(this,Uw))}getEncoder(t){let n=J(this,A0).get(t);return n||(n=Ye(this,j2,Az).call(this,t),J(this,A0).set(t,n)),n}encodeType(t){const n=J(this,Ic).get(t);return ke(n,`unknown type: ${JSON.stringify(t)}`,"name",t),n}encodeData(t,n){return this.getEncoder(t)(n)}hashStruct(t,n){return Gn(this.encodeData(t,n))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,n,r){if(S2(t))return r(t,n);const s=Lw(t).array;if(s)return ke(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(i=>this._visit(s.prefix,i,r));const a=this.types[t];if(a)return a.reduce((i,{name:o,type:c})=>(i[o]=this._visit(c,n[o],r),i),{});ke(!1,`unknown type: ${t}`,"type",t)}visit(t,n){return this._visit(this.primaryType,t,n)}static from(t){return new ti(t)}static getPrimaryType(t){return ti.from(t).primaryType}static hashStruct(t,n,r){return ti.from(n).hashStruct(t,r)}static hashDomain(t){const n=[];for(const r in t){if(t[r]==null)continue;const s=O_[r];ke(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),n.push({name:r,type:s})}return n.sort((r,s)=>c4.indexOf(r.name)-c4.indexOf(s.name)),ti.hashStruct("EIP712Domain",{EIP712Domain:n},t)}static encode(t,n,r){return Xn(["0x1901",ti.hashDomain(t),ti.from(n).hash(r)])}static hash(t,n,r){return Gn(ti.encode(t,n,r))}static async resolveNames(t,n,r,s){t=Object.assign({},t);for(const o in t)t[o]==null&&delete t[o];const a={};t.verifyingContract&&!Un(t.verifyingContract,20)&&(a[t.verifyingContract]="0x");const i=ti.from(n);i.visit(r,(o,c)=>(o==="address"&&!Un(c,20)&&(a[c]="0x"),c));for(const o in a)a[o]=await s(o);return t.verifyingContract&&a[t.verifyingContract]&&(t.verifyingContract=a[t.verifyingContract]),r=i.visit(r,(o,c)=>o==="address"&&a[c]?a[c]:c),{domain:t,value:r}}static getPayload(t,n,r){ti.hashDomain(t);const s={},a=[];c4.forEach(c=>{const u=t[c];u!=null&&(s[c]=$te[c](u),a.push({name:c,type:O_[c]}))});const i=ti.from(n);n=i.types;const o=Object.assign({},n);return ke(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=a,i.encode(r),{types:o,domain:s,primaryType:i.primaryType,message:i.visit(r,(c,u)=>{if(c.match(/^bytes(\d*)/))return it(Zt(u));if(c.match(/^u?int/))return yt(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return ke(typeof u=="string","invalid string","value",u),u}ke(!1,"unsupported type","type",c)})}}};Uw=new WeakMap,Ic=new WeakMap,A0=new WeakMap,j2=new WeakSet,Az=function(e){{const r=S2(e);if(r)return r}const t=Lw(e).array;if(t){const r=t.prefix,s=this.getEncoder(r);return a=>{ke(t.count===-1||t.count===a.length,`array length mismatch; expected length ${t.count}`,"value",a);let i=a.map(s);return J(this,Ic).has(r)&&(i=i.map(Gn)),Gn(Xn(i))}}const n=this.types[e];if(n){const r=Bd(J(this,Ic).get(e));return s=>{const a=n.map(({name:i,type:o})=>{const c=this.getEncoder(o)(s[i]);return J(this,Ic).has(o)?Gn(c):c});return a.unshift(r),Xn(a)}}ke(!1,`unknown type: ${e}`,"type",e)};let z_=Hte;function Ns(e){const t=new Set;return e.forEach(n=>t.add(n)),Object.freeze(t)}const Wte="external public payable override",Gte=Ns(Wte.split(" ")),Sz="constant external internal payable private public pure view override",qte=Ns(Sz.split(" ")),jz="constructor error event fallback function receive struct",_z=Ns(jz.split(" ")),Iz="calldata memory storage payable indexed",Vte=Ns(Iz.split(" ")),Kte="tuple returns",Zte=[jz,Iz,Kte,Sz].join(" "),Yte=Ns(Zte.split(" ")),Qte={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Jte=new RegExp("^(\\s*)"),Xte=new RegExp("^([0-9]+)"),ene=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Tz=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Pz=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var as,Vi,$w,_2;const Oz=class Rz{constructor(t){De(this,$w),De(this,as),De(this,Vi),de(this,as,0),de(this,Vi,t.slice())}get offset(){return J(this,as)}get length(){return J(this,Vi).length-J(this,as)}clone(){return new Rz(J(this,Vi))}reset(){de(this,as,0)}popKeyword(t){const n=this.peek();if(n.type!=="KEYWORD"||!t.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const n=this.peek();throw new Error(`expected ${t}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const n=Ye(this,$w,_2).call(this,J(this,as)+1,t.match+1);return de(this,as,t.match+1),n}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;J(this,as)<t.match-1;){const r=this.peek().linkNext;n.push(Ye(this,$w,_2).call(this,J(this,as)+1,r)),de(this,as,r)}return de(this,as,t.match+1),n}peek(){if(J(this,as)>=J(this,Vi).length)throw new Error("out-of-bounds");return J(this,Vi)[J(this,as)]}peekKeyword(t){const n=this.peekType("KEYWORD");return n!=null&&t.has(n)?n:null}peekType(t){if(this.length===0)return null;const n=this.peek();return n.type===t?n.text:null}pop(){const t=this.peek();return T1(this,as)._++,t}toString(){const t=[];for(let n=J(this,as);n<J(this,Vi).length;n++){const r=J(this,Vi)[n];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}};as=new WeakMap,Vi=new WeakMap,$w=new WeakSet,_2=function(e=0,t=0){return new Oz(J(this,Vi).slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let kl=Oz;function Jc(e){const t=[],n=i=>{const o=a<e.length?JSON.stringify(e[a]):"$EOI";throw new Error(`invalid token ${o} at ${a}: ${i}`)};let r=[],s=[],a=0;for(;a<e.length;){let i=e.substring(a),o=i.match(Jte);o&&(a+=o[1].length,i=e.substring(a));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(c);let u=Qte[i[0]]||"";if(u){if(c.type=u,c.text=i[0],a++,u==="OPEN_PAREN")r.push(t.length-1),s.push(t.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),t[c.match].match=t.length-1,c.depth--,c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1;else if(u==="COMMA")c.linkBack=s.pop(),t[c.linkBack].linkNext=t.length-1,s.push(t.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let h=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const f=t.pop().text;h=f+h,t[t.length-1].value=en(f)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=h}continue}if(o=i.match(ene),o){if(c.text=o[1],a+=c.text.length,Yte.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Pz)){c.type="TYPE";continue}c.type="ID";continue}if(o=i.match(Xte),o){c.text=o[1],c.type="NUMBER",a+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${a}`)}return new kl(t.map(i=>Object.freeze(i)))}function F_(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function uv(e,t){if(t.peekKeyword(_z)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function ml(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(r==null||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Mz(e){let t=ml(e,qte);return F_(t,Ns("constant payable nonpayable".split(" "))),F_(t,Ns("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function cl(e,t){return e.popParams().map(n=>Es.from(n,t))}function zz(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return yt(e.pop().text);throw new Error("invalid gas")}return null}function Ld(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const tne=new RegExp(/^(.*)\[([0-9]*)\]$/);function D_(e){const t=e.match(Pz);if(ke(t,"invalid type","type",e),e==="uint")return"uint256";if(e==="int")return"int256";if(t[2]){const n=parseInt(t[2]);ke(n!==0&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);ke(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const ar={},Vs=Symbol.for("_ethers_internal"),B_="_ParamTypeInternal",L_="_ErrorInternal",U_="_EventInternal",$_="_ConstructorInternal",H_="_FallbackInternal",W_="_FunctionInternal",G_="_StructInternal";var eg,Hw;const nne=class ni{constructor(t,n,r,s,a,i,o,c){if(De(this,eg),Pe(this,"name"),Pe(this,"type"),Pe(this,"baseType"),Pe(this,"indexed"),Pe(this,"components"),Pe(this,"arrayLength"),Pe(this,"arrayChildren"),cy(t,ar,"ParamType"),Object.defineProperty(this,Vs,{value:B_}),i&&(i=Object.freeze(i.slice())),s==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(s==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");Ut(this,{name:n,type:r,baseType:s,indexed:a,components:i,arrayLength:o,arrayChildren:c})}format(t){if(t==null&&(t="sighash"),t==="json"){const r=this.name||"";if(this.isArray()){const a=JSON.parse(this.arrayChildren.format("json"));return a.name=r,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(a=>JSON.parse(a.format(t)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(t),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(t)).join(t==="full"?", ":",")+")":n+=this.type,t!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),t==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map((s,a)=>r.components[a].walk(s,n))}return n(this.type,t)}async walkAsync(t,n){const r=[],s=[t];return Ye(this,eg,Hw).call(this,r,t,n,a=>{s[0]=a}),r.length&&await Promise.all(r),s[0]}static from(t,n){if(ni.isParamType(t))return t;if(typeof t=="string")try{return ni.from(Jc(t),n)}catch{ke(!1,"invalid param type","obj",t)}else if(t instanceof kl){let o="",c="",u=null;ml(t,Ns(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(c="tuple",u=t.popParams().map(b=>ni.from(b)),o=`tuple(${u.map(b=>b.format()).join(",")})`):(o=D_(t.popType("TYPE")),c=o);let h=null,f=null;for(;t.length&&t.peekType("BRACKET");){const b=t.pop();h=new ni(ar,"",o,c,null,u,f,h),f=b.value,o+=b.text,c="array",u=null}let p=null;if(ml(t,Vte).has("indexed")){if(!n)throw new Error("");p=!0}const g=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new ni(ar,g,o,c,p,u,f,h)}const r=t.name;ke(!r||typeof r=="string"&&r.match(Tz),"invalid name","obj.name",r);let s=t.indexed;s!=null&&(ke(n,"parameter cannot be indexed","obj.indexed",t.indexed),s=!!s);let a=t.type,i=a.match(tne);if(i){const o=parseInt(i[2]||"-1"),c=ni.from({type:i[1],components:t.components});return new ni(ar,r||"",a,"array",s,null,o,c)}if(a==="tuple"||a.startsWith("tuple(")||a.startsWith("(")){const o=t.components!=null?t.components.map(c=>ni.from(c)):null;return new ni(ar,r||"",a,"tuple",s,o,null,null)}return a=D_(t.type),new ni(ar,r||"",a,a,s,null,null,null)}static isParamType(t){return t&&t[Vs]===B_}};eg=new WeakSet,Hw=function(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,i=t.slice();i.forEach((o,c)=>{var u;Ye(u=a,eg,Hw).call(u,e,o,n,h=>{i[c]=h})}),r(i);return}if(this.isTuple()){const a=this.components;let i;if(Array.isArray(t))i=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");i=a.map(o=>{if(!o.name)throw new Error("cannot use object value with unnamed components");if(!(o.name in t))throw new Error(`missing value for component ${o.name}`);return t[o.name]})}if(i.length!==this.components.length)throw new Error("array is wrong length");i.forEach((o,c)=>{var u;Ye(u=a[c],eg,Hw).call(u,e,o,n,h=>{i[c]=h})}),r(i);return}const s=n(this.type,t);s.then?e.push(async function(){r(await s)}()):r(s)};let Es=nne,dv=class I2{constructor(t,n,r){Pe(this,"type"),Pe(this,"inputs"),cy(t,ar,"Fragment"),r=Object.freeze(r.slice()),Ut(this,{type:n,inputs:r})}static from(t){if(typeof t=="string"){try{I2.from(JSON.parse(t))}catch{}return I2.from(Jc(t))}if(t instanceof kl)switch(t.peekKeyword(_z)){case"constructor":return rl.from(t);case"error":return Ko.from(t);case"event":return Xi.from(t);case"fallback":case"receive":return q_.from(t);case"function":return Ww.from(t);case"struct":return u4.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return rl.from(t);case"error":return Ko.from(t);case"event":return Xi.from(t);case"fallback":case"receive":return q_.from(t);case"function":return Ww.from(t);case"struct":return u4.from(t)}Ge(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}ke(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return rl.isFragment(t)}static isError(t){return Ko.isFragment(t)}static isEvent(t){return Xi.isFragment(t)}static isFunction(t){return Ww.isFragment(t)}static isStruct(t){return u4.isFragment(t)}},hv=class extends dv{constructor(e,t,n,r){super(e,t,r),Pe(this,"name"),ke(typeof n=="string"&&n.match(Tz),"invalid identifier","name",n),r=Object.freeze(r.slice()),Ut(this,{name:n})}};function Eg(e,t){return"("+t.map(n=>n.format(e)).join(e==="full"?", ":",")+")"}let Ko=class S0 extends hv{constructor(t,n,r){super(t,"error",n,r),Object.defineProperty(this,Vs,{value:L_})}get selector(){return Bd(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const n=[];return t!=="sighash"&&n.push("error"),n.push(this.name+Eg(t,this.inputs)),n.join(" ")}static from(t){if(S0.isFragment(t))return t;if(typeof t=="string")return S0.from(Jc(t));if(t instanceof kl){const n=uv("error",t),r=cl(t);return Ld(t),new S0(ar,n,r)}return new S0(ar,t.name,t.inputs?t.inputs.map(Es.from):[])}static isFragment(t){return t&&t[Vs]===L_}};class Xi extends hv{constructor(t,n,r,s){super(t,"event",n,r),Pe(this,"anonymous"),Object.defineProperty(this,Vs,{value:U_}),Ut(this,{anonymous:s})}get topicHash(){return Bd(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const n=[];return t!=="sighash"&&n.push("event"),n.push(this.name+Eg(t,this.inputs)),t!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(t,n){return n=(n||[]).map(r=>Es.from(r)),new Xi(ar,t,n,!1).topicHash}static from(t){if(Xi.isFragment(t))return t;if(typeof t=="string")try{return Xi.from(Jc(t))}catch{ke(!1,"invalid event fragment","obj",t)}else if(t instanceof kl){const n=uv("event",t),r=cl(t,!0),s=!!ml(t,Ns(["anonymous"])).has("anonymous");return Ld(t),new Xi(ar,n,r,s)}return new Xi(ar,t.name,t.inputs?t.inputs.map(n=>Es.from(n,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Vs]===U_}}class rl extends dv{constructor(t,n,r,s,a){super(t,n,r),Pe(this,"payable"),Pe(this,"gas"),Object.defineProperty(this,Vs,{value:$_}),Ut(this,{payable:s,gas:a})}format(t){if(Ge(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(t)))});const n=[`constructor${Eg(t,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(t){if(rl.isFragment(t))return t;if(typeof t=="string")try{return rl.from(Jc(t))}catch{ke(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof kl){ml(t,Ns(["constructor"]));const n=cl(t),r=!!ml(t,Gte).has("payable"),s=zz(t);return Ld(t),new rl(ar,"constructor",n,r,s)}return new rl(ar,"constructor",t.inputs?t.inputs.map(Es.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Vs]===$_}}let q_=class Bu extends dv{constructor(t,n,r){super(t,"fallback",n),Pe(this,"payable"),Object.defineProperty(this,Vs,{value:H_}),Ut(this,{payable:r})}format(t){const n=this.inputs.length===0?"receive":"fallback";if(t==="json"){const r=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:r})}return`${n}()${this.payable?" payable":""}`}static from(t){if(Bu.isFragment(t))return t;if(typeof t=="string")try{return Bu.from(Jc(t))}catch{ke(!1,"invalid fallback fragment","obj",t)}else if(t instanceof kl){const n=t.toString(),r=t.peekKeyword(Ns(["fallback","receive"]));if(ke(r,"type must be fallback or receive","obj",n),t.popKeyword(Ns(["fallback","receive"]))==="receive"){const i=cl(t);return ke(i.length===0,"receive cannot have arguments","obj.inputs",i),ml(t,Ns(["payable"])),Ld(t),new Bu(ar,[],!0)}let s=cl(t);s.length?ke(s.length===1&&s[0].type==="bytes","invalid fallback inputs","obj.inputs",s.map(i=>i.format("minimal")).join(", ")):s=[Es.from("bytes")];const a=Mz(t);if(ke(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),ml(t,Ns(["returns"])).has("returns")){const i=cl(t);ke(i.length===1&&i[0].type==="bytes","invalid fallback outputs","obj.outputs",i.map(o=>o.format("minimal")).join(", "))}return Ld(t),new Bu(ar,s,a==="payable")}if(t.type==="receive")return new Bu(ar,[],!0);if(t.type==="fallback"){const n=[Es.from("bytes")],r=t.stateMutability==="payable";return new Bu(ar,n,r)}ke(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Vs]===H_}},Ww=class df extends hv{constructor(t,n,r,s,a,i){super(t,"function",n,s),Pe(this,"constant"),Pe(this,"outputs"),Pe(this,"stateMutability"),Pe(this,"payable"),Pe(this,"gas"),Object.defineProperty(this,Vs,{value:W_}),a=Object.freeze(a.slice()),Ut(this,{constant:r==="view"||r==="pure",gas:i,outputs:a,payable:r==="payable",stateMutability:r})}get selector(){return Bd(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(t))),outputs:this.outputs.map(r=>JSON.parse(r.format(t)))});const n=[];return t!=="sighash"&&n.push("function"),n.push(this.name+Eg(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Eg(t,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(t,n){return n=(n||[]).map(r=>Es.from(r)),new df(ar,t,"view",n,[],null).selector}static from(t){if(df.isFragment(t))return t;if(typeof t=="string")try{return df.from(Jc(t))}catch{ke(!1,"invalid function fragment","obj",t)}else if(t instanceof kl){const r=uv("function",t),s=cl(t),a=Mz(t);let i=[];ml(t,Ns(["returns"])).has("returns")&&(i=cl(t));const o=zz(t);return Ld(t),new df(ar,r,a,s,i,o)}let n=t.stateMutability;return n==null&&(n="payable",typeof t.constant=="boolean"?(n="view",t.constant||(n="payable",typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(n="nonpayable")),new df(ar,t.name,n,t.inputs?t.inputs.map(Es.from):[],t.outputs?t.outputs.map(Es.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Vs]===W_}},u4=class Gw extends hv{constructor(t,n,r){super(t,"struct",n,r),Object.defineProperty(this,Vs,{value:G_})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return Gw.from(Jc(t))}catch{ke(!1,"invalid struct fragment","obj",t)}else if(t instanceof kl){const n=uv("struct",t),r=cl(t);return Ld(t),new Gw(ar,n,r)}return new Gw(ar,t.name,t.inputs?t.inputs.map(Es.from):[])}static isFragment(t){return t&&t[Vs]===G_}};const _i=new Map;_i.set(0,"GENERIC_PANIC");_i.set(1,"ASSERT_FALSE");_i.set(17,"OVERFLOW");_i.set(18,"DIVIDE_BY_ZERO");_i.set(33,"ENUM_RANGE_ERROR");_i.set(34,"BAD_STORAGE_DATA");_i.set(49,"STACK_UNDERFLOW");_i.set(50,"ARRAY_RANGE_ERROR");_i.set(65,"OUT_OF_MEMORY");_i.set(81,"UNINITIALIZED_FUNCTION_CALL");const rne=new RegExp(/^bytes([0-9]*)$/),sne=new RegExp(/^(u?int)([0-9]*)$/);let d4=null,V_=1024;function ane(e,t,n,r){let s="missing revert data",a=null;const i=null;let o=null;if(n){s="execution reverted";const u=Zt(n);if(n=it(n),u.length===0)s+=" (no data present; likely require(false) occurred",a="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(it(u.slice(0,4))==="0x08c379a0")try{a=r.decode(["string"],u.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},s+=`: ${JSON.stringify(a)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(it(u.slice(0,4))==="0x4e487b71")try{const h=Number(r.decode(["uint256"],u.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[h]},a=`Panic due to ${_i.get(h)||"UNKNOWN"}(${h})`,s+=`: ${a}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:t.to?un(t.to):null,data:t.data||"0x"};return t.from&&(c.from=un(t.from)),Qn(s,"CALL_EXCEPTION",{action:e,data:n,reason:a,transaction:c,invocation:i,revert:o})}var md,Bf;const ine=class T2{constructor(){De(this,md)}getDefaultValue(t){const n=t.map(r=>Ye(this,md,Bf).call(this,Es.from(r)));return new Fw(n,"_").defaultValue()}encode(t,n){eM(n.length,t.length,"types/values length mismatch");const r=t.map(i=>Ye(this,md,Bf).call(this,Es.from(i))),s=new Fw(r,"_"),a=new f2;return s.encode(a,n),a.data}decode(t,n,r){const s=t.map(a=>Ye(this,md,Bf).call(this,Es.from(a)));return new Fw(s,"_").decode(new zJ(n,r,V_))}static _setDefaultMaxInflation(t){ke(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),V_=t}static defaultAbiCoder(){return d4==null&&(d4=new T2),d4}static getBuiltinCallException(t,n,r){return ane(t,n,r,T2.defaultAbiCoder())}};md=new WeakSet,Bf=function(e){if(e.isArray())return new yee(Ye(this,md,Bf).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Fw(e.components.map(n=>Ye(this,md,Bf).call(this,n)),e.name);switch(e.baseType){case"address":return new pee(e.name);case"bool":return new bee(e.name);case"string":return new See(e.name);case"bytes":return new wee(e.name);case"":return new Nee(e.name)}let t=e.type.match(sne);if(t){let n=parseInt(t[2]||"256");return ke(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Aee(n/8,t[1]==="int",e.name)}if(t=e.type.match(rne),t){let n=parseInt(t[1]);return ke(n!==0&&n<=32,"invalid bytes length","param",e),new xee(n,e.name)}ke(!1,"invalid type","type",e.type)};let P2=ine,one=class{constructor(e,t,n){Pe(this,"fragment"),Pe(this,"name"),Pe(this,"signature"),Pe(this,"topic"),Pe(this,"args");const r=e.name,s=e.format();Ut(this,{fragment:e,name:r,signature:s,topic:t,args:n})}},lne=class{constructor(e,t,n,r){Pe(this,"fragment"),Pe(this,"name"),Pe(this,"args"),Pe(this,"signature"),Pe(this,"selector"),Pe(this,"value");const s=e.name,a=e.format();Ut(this,{fragment:e,name:s,args:n,signature:a,selector:t,value:r})}},cne=class{constructor(e,t,n){Pe(this,"fragment"),Pe(this,"name"),Pe(this,"args"),Pe(this,"signature"),Pe(this,"selector");const r=e.name,s=e.format();Ut(this,{fragment:e,name:r,args:n,signature:s,selector:t})}},K_=class{constructor(e){Pe(this,"hash"),Pe(this,"_isIndexed"),Ut(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}};const Z_={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Y_={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Z_[e.toString()]&&(t=Z_[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};var Wo,Xo,el,hs,gc,qw,Vw;const une=class hf{constructor(t){De(this,gc),Pe(this,"fragments"),Pe(this,"deploy"),Pe(this,"fallback"),Pe(this,"receive"),De(this,Wo),De(this,Xo),De(this,el),De(this,hs);let n=[];typeof t=="string"?n=JSON.parse(t):n=t,de(this,el,new Map),de(this,Wo,new Map),de(this,Xo,new Map);const r=[];for(const i of n)try{r.push(dv.from(i))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,o.message)}Ut(this,{fragments:Object.freeze(r)});let s=null,a=!1;de(this,hs,this.getAbiCoder()),this.fragments.forEach((i,o)=>{let c;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ut(this,{deploy:i});return;case"fallback":i.inputs.length===0?a=!0:(ke(!s||i.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,i),s=i,a=s.payable);return;case"function":c=J(this,el);break;case"event":c=J(this,Xo);break;case"error":c=J(this,Wo);break;default:return}const u=i.format();c.has(u)||c.set(u,i)}),this.deploy||Ut(this,{deploy:rl.from("constructor()")}),Ut(this,{fallback:s,receive:a})}format(t){const n=t?"minimal":"full";return this.fragments.map(r=>r.format(n))}formatJson(){const t=this.fragments.map(n=>n.format("json"));return JSON.stringify(t.map(n=>JSON.parse(n)))}getAbiCoder(){return P2.defaultAbiCoder()}getFunctionName(t){const n=Ye(this,gc,qw).call(this,t,null,!1);return ke(n,"no matching function","key",t),n.name}hasFunction(t){return!!Ye(this,gc,qw).call(this,t,null,!1)}getFunction(t,n){return Ye(this,gc,qw).call(this,t,n||null,!0)}forEachFunction(t){const n=Array.from(J(this,el).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];t(J(this,el).get(s),r)}}getEventName(t){const n=Ye(this,gc,Vw).call(this,t,null,!1);return ke(n,"no matching event","key",t),n.name}hasEvent(t){return!!Ye(this,gc,Vw).call(this,t,null,!1)}getEvent(t,n){return Ye(this,gc,Vw).call(this,t,n||null,!0)}forEachEvent(t){const n=Array.from(J(this,Xo).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];t(J(this,Xo).get(s),r)}}getError(t,n){if(Un(t)){const r=t.toLowerCase();if(Y_[r])return Ko.from(Y_[r].signature);for(const s of J(this,Wo).values())if(r===s.selector)return s;return null}if(t.indexOf("(")===-1){const r=[];for(const[s,a]of J(this,Wo))s.split("(")[0]===t&&r.push(a);if(r.length===0)return t==="Error"?Ko.from("error Error(string)"):t==="Panic"?Ko.from("error Panic(uint256)"):null;if(r.length>1){const s=r.map(a=>JSON.stringify(a.format())).join(", ");ke(!1,`ambiguous error description (i.e. ${s})`,"name",t)}return r[0]}return t=Ko.from(t).format(),t==="Error(string)"?Ko.from("error Error(string)"):t==="Panic(uint256)"?Ko.from("error Panic(uint256)"):J(this,Wo).get(t)||null}forEachError(t){const n=Array.from(J(this,Wo).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];t(J(this,Wo).get(s),r)}}_decodeParams(t,n){return J(this,hs).decode(t,n)}_encodeParams(t,n){return J(this,hs).encode(t,n)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,n){if(typeof t=="string"){const r=this.getError(t);ke(r,"unknown error","fragment",t),t=r}return ke(cr(n,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",n),this._decodeParams(t.inputs,cr(n,4))}encodeErrorResult(t,n){if(typeof t=="string"){const r=this.getError(t);ke(r,"unknown error","fragment",t),t=r}return Xn([t.selector,this._encodeParams(t.inputs,n||[])])}decodeFunctionData(t,n){if(typeof t=="string"){const r=this.getFunction(t);ke(r,"unknown function","fragment",t),t=r}return ke(cr(n,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",n),this._decodeParams(t.inputs,cr(n,4))}encodeFunctionData(t,n){if(typeof t=="string"){const r=this.getFunction(t);ke(r,"unknown function","fragment",t),t=r}return Xn([t.selector,this._encodeParams(t.inputs,n||[])])}decodeFunctionResult(t,n){if(typeof t=="string"){const a=this.getFunction(t);ke(a,"unknown function","fragment",t),t=a}let r="invalid length for result data";const s=ws(n);if(s.length%32===0)try{return J(this,hs).decode(t.outputs,s)}catch{r="could not decode result data"}Ge(!1,r,"BAD_DATA",{value:it(s),info:{method:t.name,signature:t.format()}})}makeError(t,n){const r=Zt(t,"data"),s=P2.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const i=it(r.slice(0,4)),o=this.getError(i);if(o)try{const c=J(this,hs).decode(o.inputs,r.slice(4));s.revert={name:o.name,signature:o.format(),args:c},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(t,n){if(typeof t=="string"){const r=this.getFunction(t);ke(r,"unknown function","fragment",t),t=r}return it(J(this,hs).encode(t.outputs,n||[]))}encodeFilterTopics(t,n){if(typeof t=="string"){const a=this.getEvent(t);ke(a,"unknown event","eventFragment",t),t=a}Ge(n.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const s=(a,i)=>a.type==="string"?Bd(i):a.type==="bytes"?Gn(it(i)):(a.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":a.type.match(/^u?int/)?i=$c(i):a.type.match(/^bytes/)?i=rM(i,32):a.type==="address"&&J(this,hs).encode(["address"],[i]),La(it(i),32));for(n.forEach((a,i)=>{const o=t.inputs[i];if(!o.indexed){ke(a==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,a);return}a==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?ke(!1,"filtering with tuples or arrays not supported","contract."+o.name,a):Array.isArray(a)?r.push(a.map(c=>s(o,c))):r.push(s(o,a))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(t,n){if(typeof t=="string"){const i=this.getEvent(t);ke(i,"unknown event","eventFragment",t),t=i}const r=[],s=[],a=[];return t.anonymous||r.push(t.topicHash),ke(n.length===t.inputs.length,"event arguments/values mismatch","values",n),t.inputs.forEach((i,o)=>{const c=n[o];if(i.indexed)if(i.type==="string")r.push(Bd(c));else if(i.type==="bytes")r.push(Gn(c));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");r.push(J(this,hs).encode([i.type],[c]))}else s.push(i),a.push(c)}),{data:J(this,hs).encode(s,a),topics:r}}decodeEventLog(t,n,r){if(typeof t=="string"){const g=this.getEvent(t);ke(g,"unknown event","eventFragment",t),t=g}if(r!=null&&!t.anonymous){const g=t.topicHash;ke(Un(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],a=[],i=[];t.inputs.forEach((g,b)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(s.push(Es.from({type:"bytes32",name:g.name})),i.push(!0)):(s.push(g),i.push(!1)):(a.push(g),i.push(!1))});const o=r!=null?J(this,hs).decode(s,Xn(r)):null,c=J(this,hs).decode(a,n,!0),u=[],h=[];let f=0,p=0;return t.inputs.forEach((g,b)=>{let y=null;if(g.indexed)if(o==null)y=new K_(null);else if(i[b])y=new K_(o[p++]);else try{y=o[p++]}catch(w){y=w}else try{y=c[f++]}catch(w){y=w}u.push(y),h.push(g.name||null)}),M1.fromItems(u,h)}parseTransaction(t){const n=Zt(t.data,"tx.data"),r=yt(t.value!=null?t.value:0,"tx.value"),s=this.getFunction(it(n.slice(0,4)));if(!s)return null;const a=J(this,hs).decode(s.inputs,n.slice(4));return new lne(s,s.selector,a,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const n=this.getEvent(t.topics[0]);return!n||n.anonymous?null:new one(n,n.topicHash,this.decodeEventLog(n,t.data,t.topics))}parseError(t){const n=it(t),r=this.getError(cr(n,0,4));if(!r)return null;const s=J(this,hs).decode(r.inputs,cr(n,4));return new cne(r,r.selector,s)}static from(t){return t instanceof hf?t:typeof t=="string"?new hf(JSON.parse(t)):typeof t.formatJson=="function"?new hf(t.formatJson()):typeof t.format=="function"?new hf(t.format("json")):new hf(t)}};Wo=new WeakMap,Xo=new WeakMap,el=new WeakMap,hs=new WeakMap,gc=new WeakSet,qw=function(e,t,n){if(Un(e)){const r=e.toLowerCase();for(const s of J(this,el).values())if(r===s.selector)return s;return null}if(e.indexOf("(")===-1){const r=[];for(const[s,a]of J(this,el))s.split("(")[0]===e&&r.push(a);if(t){const s=t.length>0?t[t.length-1]:null;let a=t.length,i=!0;qs.isTyped(s)&&s.type==="overrides"&&(i=!1,a--);for(let o=r.length-1;o>=0;o--){const c=r[o].inputs.length;c!==a&&(!i||c!==a-1)&&r.splice(o,1)}for(let o=r.length-1;o>=0;o--){const c=r[o].inputs;for(let u=0;u<t.length;u++)if(qs.isTyped(t[u])){if(u>=c.length){if(t[u].type==="overrides")continue;r.splice(o,1);break}if(t[u].type!==c[u].baseType){r.splice(o,1);break}}}}if(r.length===1&&t&&t.length!==r[0].inputs.length){const s=t[t.length-1];(s==null||Array.isArray(s)||typeof s!="object")&&r.splice(0,1)}if(r.length===0)return null;if(r.length>1&&n){const s=r.map(a=>JSON.stringify(a.format())).join(", ");ke(!1,`ambiguous function description (i.e. matches ${s})`,"key",e)}return r[0]}return J(this,el).get(Ww.from(e).format())||null},Vw=function(e,t,n){if(Un(e)){const r=e.toLowerCase();for(const s of J(this,Xo).values())if(r===s.topicHash)return s;return null}if(e.indexOf("(")===-1){const r=[];for(const[s,a]of J(this,Xo))s.split("(")[0]===e&&r.push(a);if(t){for(let s=r.length-1;s>=0;s--)r[s].inputs.length<t.length&&r.splice(s,1);for(let s=r.length-1;s>=0;s--){const a=r[s].inputs;for(let i=0;i<t.length;i++)if(qs.isTyped(t[i])&&t[i].type!==a[i].baseType){r.splice(s,1);break}}}if(r.length===0)return null;if(r.length>1&&n){const s=r.map(a=>JSON.stringify(a.format())).join(", ");ke(!1,`ambiguous event description (i.e. matches ${s})`,"key",e)}return r[0]}return J(this,Xo).get(Xi.from(e).format())||null};let dne=une;const Fz=BigInt(0);function Lf(e){return e??null}function yr(e){return e==null?null:e.toString()}let Q_=class{constructor(e,t,n){Pe(this,"gasPrice"),Pe(this,"maxFeePerGas"),Pe(this,"maxPriorityFeePerGas"),Ut(this,{gasPrice:Lf(e),maxFeePerGas:Lf(t),maxPriorityFeePerGas:Lf(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:yr(e),maxFeePerGas:yr(t),maxPriorityFeePerGas:yr(n)}}};function fv(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=it(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in e)||e[s]==null||(t[s]=yt(e[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in e)||e[s]==null||(t[s]=en(e[s],`request.${s}`));return e.accessList&&(t.accessList=th(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(s=>pC(s)?it(s):Object.assign({},s))),t}var yc;let hne=class{constructor(e,t){Pe(this,"provider"),Pe(this,"number"),Pe(this,"hash"),Pe(this,"timestamp"),Pe(this,"parentHash"),Pe(this,"parentBeaconBlockRoot"),Pe(this,"nonce"),Pe(this,"difficulty"),Pe(this,"gasLimit"),Pe(this,"gasUsed"),Pe(this,"stateRoot"),Pe(this,"receiptsRoot"),Pe(this,"blobGasUsed"),Pe(this,"excessBlobGas"),Pe(this,"miner"),Pe(this,"prevRandao"),Pe(this,"extraData"),Pe(this,"baseFeePerGas"),De(this,yc),de(this,yc,e.transactions.map(n=>typeof n!="string"?new _C(n,t):n)),Ut(this,{provider:t,hash:Lf(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Lf(e.prevRandao),extraData:e.extraData,baseFeePerGas:Lf(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return J(this,yc).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=J(this,yc).slice();return e.length===0?[]:(Ge(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:s,hash:a,miner:i,prevRandao:o,nonce:c,number:u,parentHash:h,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,timestamp:b,transactions:y}=this;return{_type:"Block",baseFeePerGas:yr(e),difficulty:yr(t),extraData:n,gasLimit:yr(r),gasUsed:yr(s),blobGasUsed:yr(this.blobGasUsed),excessBlobGas:yr(this.excessBlobGas),hash:a,miner:i,prevRandao:o,nonce:c,number:u,parentHash:h,timestamp:b,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,transactions:y}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return J(this,yc).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=J(this,yc)[e];else{const n=e.toLowerCase();for(const r of J(this,yc))if(typeof r=="string"){if(r!==n)continue;t=r;break}else{if(r.hash!==n)continue;t=r;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;ke(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return mne(this)}};yc=new WeakMap;let hy=class{constructor(e,t){Pe(this,"provider"),Pe(this,"transactionHash"),Pe(this,"blockHash"),Pe(this,"blockNumber"),Pe(this,"removed"),Pe(this,"address"),Pe(this,"data"),Pe(this,"topics"),Pe(this,"index"),Pe(this,"transactionIndex"),this.provider=t;const n=Object.freeze(e.topics.slice());Ut(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:a,topics:i,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:s,removed:a,topics:i,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Ge(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Ge(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return pne(this)}};var Kw;let Dz=class{constructor(e,t){Pe(this,"provider"),Pe(this,"to"),Pe(this,"from"),Pe(this,"contractAddress"),Pe(this,"hash"),Pe(this,"index"),Pe(this,"blockHash"),Pe(this,"blockNumber"),Pe(this,"logsBloom"),Pe(this,"gasUsed"),Pe(this,"blobGasUsed"),Pe(this,"cumulativeGasUsed"),Pe(this,"gasPrice"),Pe(this,"blobGasPrice"),Pe(this,"type"),Pe(this,"status"),Pe(this,"root"),De(this,Kw),de(this,Kw,Object.freeze(e.logs.map(r=>new hy(r,t))));let n=Fz;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Ut(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return J(this,Kw)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:s,blockHash:a,blockNumber:i,logsBloom:o,logs:c,status:u,root:h}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:i,contractAddress:n,cumulativeGasUsed:yr(this.cumulativeGasUsed),from:t,gasPrice:yr(this.gasPrice),blobGasUsed:yr(this.blobGasUsed),blobGasPrice:yr(this.blobGasPrice),gasUsed:yr(this.gasUsed),hash:r,index:s,logs:c,logsBloom:o,root:h,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Uz(this)}reorderedEvent(e){return Ge(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Lz(this,e)}};Kw=new WeakMap;var Lu;const fne=class Bz{constructor(t,n){Pe(this,"provider"),Pe(this,"blockNumber"),Pe(this,"blockHash"),Pe(this,"index"),Pe(this,"hash"),Pe(this,"type"),Pe(this,"to"),Pe(this,"from"),Pe(this,"nonce"),Pe(this,"gasLimit"),Pe(this,"gasPrice"),Pe(this,"maxPriorityFeePerGas"),Pe(this,"maxFeePerGas"),Pe(this,"maxFeePerBlobGas"),Pe(this,"data"),Pe(this,"value"),Pe(this,"chainId"),Pe(this,"signature"),Pe(this,"accessList"),Pe(this,"blobVersionedHashes"),Pe(this,"authorizationList"),De(this,Lu),this.provider=n,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,this.authorizationList=t.authorizationList!=null?t.authorizationList:null,de(this,Lu,-1)}toJSON(){const{blockNumber:t,blockHash:n,index:r,hash:s,type:a,to:i,from:o,nonce:c,data:u,signature:h,accessList:f,blobVersionedHashes:p}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:t,blockHash:n,blobVersionedHashes:p,chainId:yr(this.chainId),data:u,from:o,gasLimit:yr(this.gasLimit),gasPrice:yr(this.gasPrice),hash:s,maxFeePerGas:yr(this.maxFeePerGas),maxPriorityFeePerGas:yr(this.maxPriorityFeePerGas),maxFeePerBlobGas:yr(this.maxFeePerBlobGas),nonce:c,signature:h,to:i,index:r,type:a,value:yr(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const r=await this.getTransaction();r&&(t=r.blockNumber)}if(t==null)return null;const n=this.provider.getBlock(t);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:n}=await ys({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,n){const r=t??1,s=n??0;let a=J(this,Lu),i=-1,o=a===-1;const c=async()=>{if(o)return null;const{blockNumber:f,nonce:p}=await ys({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){a=f;return}if(o)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(i===-1&&(i=a-3,i<J(this,Lu)&&(i=J(this,Lu)));i<=f;){if(o)return null;const b=await this.provider.getBlock(i,!0);if(b==null)return;for(const y of b)if(y===this.hash)return;for(let y=0;y<b.length;y++){const w=await b.getTransaction(y);if(w.from===this.from&&w.nonce===this.nonce){if(o)return null;const v=await this.provider.getTransactionReceipt(w.hash);if(v==null||f-v.blockNumber+1<r)return;let N="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?N="repriced":w.data==="0x"&&w.from===w.to&&w.value===Fz&&(N="cancelled"),Ge(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:w.replaceableTransaction(a),hash:w.hash,receipt:v})}}i++}},u=f=>{if(f==null||f.status!==0)return f;Ge(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},h=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(h);if(h){if(r===1||await h.confirmations()>=r)return u(h)}else if(await c(),r===0)return null;return await new Promise((f,p)=>{const g=[],b=()=>{g.forEach(w=>w())};if(g.push(()=>{o=!0}),s>0){const w=setTimeout(()=>{b(),p(Qn("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(w)})}const y=async w=>{if(await w.confirmations()>=r){b();try{f(u(w))}catch(v){p(v)}}};if(g.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),a>=0){const w=async()=>{try{await c()}catch(v){if(Zr(v,"TRANSACTION_REPLACED")){b(),p(v);return}}o||this.provider.once("block",w)};g.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Uz(this)}reorderedEvent(t){return Ge(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ge(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Lz(this,t)}replaceableTransaction(t){ke(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const n=new Bz(this,this.provider);return de(n,Lu,t),n}};Lu=new WeakMap;let _C=fne;function mne(e){return{orphan:"drop-block",hash:e.hash,number:e.number}}function Lz(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Uz(e){return{orphan:"drop-transaction",tx:e}}function pne(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}let IC=class extends hy{constructor(e,t,n){super(e,e.provider),Pe(this,"interface"),Pe(this,"fragment"),Pe(this,"args");const r=t.decodeEventLog(n,e.data,e.topics);Ut(this,{args:r,fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},$z=class extends hy{constructor(e,t){super(e,e.provider),Pe(this,"error"),Ut(this,{error:t})}};var j0;let gne=class extends Dz{constructor(e,t,n){super(n,t),De(this,j0),de(this,j0,e)}get logs(){return super.logs.map(e=>{const t=e.topics.length?J(this,j0).getEvent(e.topics[0]):null;if(t)try{return new IC(e,J(this,j0),t)}catch(n){return new $z(e,n)}return e})}};j0=new WeakMap;var Zw;class TC extends _C{constructor(t,n,r){super(r,n),De(this,Zw),de(this,Zw,t)}async wait(t,n){const r=await super.wait(t,n);return r==null?null:new gne(J(this,Zw),this.provider,r)}}Zw=new WeakMap;let Hz=class extends sM{constructor(e,t,n,r){super(e,t,n),Pe(this,"log"),Ut(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},yne=class extends Hz{constructor(e,t,n,r,s){super(e,t,n,new IC(s,e.interface,r));const a=e.interface.decodeEventLog(r,this.log.data,this.log.topics);Ut(this,{args:a,fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};const J_=BigInt(0);function Wz(e){return e&&typeof e.call=="function"}function Gz(e){return e&&typeof e.estimateGas=="function"}function mv(e){return e&&typeof e.resolveName=="function"}function qz(e){return e&&typeof e.sendTransaction=="function"}function Vz(e){if(e!=null){if(mv(e))return e;if(e.provider)return e.provider}}var Yw;let bne=class{constructor(e,t,n){if(De(this,Yw),Pe(this,"fragment"),Ut(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=Ud(e.runner,"resolveName"),s=mv(r)?r:null;de(this,Yw,async function(){const a=await Promise.all(t.inputs.map((i,o)=>n[o]==null?null:i.walkAsync(n[o],(c,u)=>c==="address"?Array.isArray(u)?Promise.all(u.map(h=>vs(h,s))):vs(u,s):u)));return e.interface.encodeFilterTopics(t,a)}())}getTopicFilter(){return J(this,Yw)}};Yw=new WeakMap;function Ud(e,t){return e==null?null:typeof e[t]=="function"?e:e.provider&&typeof e.provider[t]=="function"?e.provider:null}function pd(e){return e==null?null:e.provider||null}async function Kz(e,t){const n=qs.dereference(e,"overrides");ke(typeof n=="object","invalid overrides parameter","overrides",e);const r=fv(n);return ke(r.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),ke(r.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function wne(e,t,n){const r=Ud(e,"resolveName"),s=mv(r)?r:null;return await Promise.all(t.map((a,i)=>a.walkAsync(n[i],(o,c)=>(c=qs.dereference(c,o),o==="address"?vs(c,s):c))))}function xne(e){const t=async function(i){const o=await Kz(i,["data"]);o.to=await e.getAddress(),o.from&&(o.from=await vs(o.from,Vz(e.runner)));const c=e.interface,u=yt(o.value||J_,"overrides.value")===J_,h=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!h&&!u&&ke(!1,"cannot send data to receive or send value to non-payable fallback","overrides",i),ke(c.fallback||h,"cannot send data to receive-only contract","overrides.data",o.data);const f=c.receive||c.fallback&&c.fallback.payable;return ke(f||u,"cannot send value to non-payable fallback","overrides.value",o.value),ke(c.fallback||h,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(i){const o=Ud(e.runner,"call");Ge(Wz(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await t(i);try{return await o.call(c)}catch(u){throw mC(u)&&u.data?e.interface.makeError(u.data,c):u}},r=async function(i){const o=e.runner;Ge(qz(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await o.sendTransaction(await t(i)),u=pd(e.runner);return new TC(e.interface,u,c)},s=async function(i){const o=Ud(e.runner,"estimateGas");return Ge(Gz(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await t(i))},a=async i=>await r(i);return Ut(a,{_contract:e,estimateGas:s,populateTransaction:t,send:r,staticCall:n}),a}function vne(e,t){const n=function(...u){const h=e.interface.getFunction(t,u);return Ge(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:u}}),h},r=async function(...u){const h=n(...u);let f={};if(h.inputs.length+1===u.length&&(f=await Kz(u.pop()),f.from&&(f.from=await vs(f.from,Vz(e.runner)))),h.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await wne(e.runner,h.inputs,u);return Object.assign({},f,await ys({to:e.getAddress(),data:e.interface.encodeFunctionData(h,p)}))},s=async function(...u){const h=await o(...u);return h.length===1?h[0]:h},a=async function(...u){const h=e.runner;Ge(qz(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await h.sendTransaction(await r(...u)),p=pd(e.runner);return new TC(e.interface,p,f)},i=async function(...u){const h=Ud(e.runner,"estimateGas");return Ge(Gz(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await r(...u))},o=async function(...u){const h=Ud(e.runner,"call");Ge(Wz(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...u);let p="0x";try{p=await h.call(f)}catch(b){throw mC(b)&&b.data?e.interface.makeError(b.data,f):b}const g=n(...u);return e.interface.decodeFunctionResult(g,p)},c=async(...u)=>n(...u).constant?await s(...u):await a(...u);return Ut(c,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:i,populateTransaction:r,send:a,staticCall:s,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=e.interface.getFunction(t);return Ge(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),u}}),c}function Nne(e,t){const n=function(...s){const a=e.interface.getEvent(t,s);return Ge(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:s}}),a},r=function(...s){return new bne(e,n(...s),s)};return Ut(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=e.interface.getEvent(t);return Ge(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),s}}),r}const pv=Symbol.for("_ethersInternal_contract"),Zz=new WeakMap;function kne(e,t){Zz.set(e[pv],t)}function aa(e){return Zz.get(e[pv])}function Cne(e){return e&&typeof e=="object"&&"getTopicFilter"in e&&typeof e.getTopicFilter=="function"&&e.fragment}async function PC(e,t){let n,r=null;if(Array.isArray(t)){const a=function(i){if(Un(i,32))return i;const o=e.interface.getEvent(i);return ke(o,"unknown fragment","name",i),o.topicHash};n=t.map(i=>i==null?null:Array.isArray(i)?i.map(a):a(i))}else t==="*"?n=[null]:typeof t=="string"?Un(t,32)?n=[t]:(r=e.interface.getEvent(t),ke(r,"unknown fragment","event",t),n=[r.topicHash]):Cne(t)?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):ke(!1,"unknown event name","event",t);n=n.map(a=>{if(a==null)return null;if(Array.isArray(a)){const i=Array.from(new Set(a.map(o=>o.toLowerCase())).values());return i.length===1?i[0]:(i.sort(),i)}return a.toLowerCase()});const s=n.map(a=>a==null?"null":Array.isArray(a)?a.join("|"):a).join("&");return{fragment:r,tag:s,topics:n}}async function _0(e,t){const{subs:n}=aa(e);return n.get((await PC(e,t)).tag)||null}async function X_(e,t,n){const r=pd(e.runner);Ge(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:a,topics:i}=await PC(e,n),{addr:o,subs:c}=aa(e);let u=c.get(a);if(!u){const h={address:o||e,topics:i},f=g=>{let b=s;if(b==null)try{b=e.interface.getEvent(g.topics[0])}catch{}if(b){const y=b,w=s?e.interface.decodeEventLog(s,g.data,g.topics):[];R2(e,n,w,v=>new yne(e,v,n,y,g))}else R2(e,n,[],y=>new Hz(e,y,n,g))};let p=[];u={tag:a,listeners:[],start:()=>{p.length||p.push(r.on(h,f))},stop:async()=>{if(p.length==0)return;let g=p;p=[],await Promise.all(g),r.off(h,f)}},c.set(a,u)}return u}let O2=Promise.resolve();async function Ene(e,t,n,r){await O2;const s=await _0(e,t);if(!s)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter(({listener:i,once:o})=>{const c=Array.from(n);r&&c.push(r(o?null:i));try{i.call(e,...c)}catch{}return!o}),s.listeners.length===0&&(s.stop(),aa(e).subs.delete(s.tag)),a>0}async function R2(e,t,n,r){try{await O2}catch{}const s=Ene(e,t,n,r);return O2=s,await s}const sw=["then"];var Yz;Yz=pv;const Ane=class Qw{constructor(t,n,r,s){Pe(this,"target"),Pe(this,"interface"),Pe(this,"runner"),Pe(this,"filters"),Pe(this,Yz),Pe(this,"fallback"),ke(typeof t=="string"||ZM(t),"invalid value for Contract target","target",t),r==null&&(r=null);const a=dne.from(n);Ut(this,{target:t,runner:r,interface:a}),Object.defineProperty(this,pv,{value:{}});let i,o=null,c=null;if(s){const f=pd(r);c=new TC(this.interface,f,s)}let u=new Map;if(typeof t=="string")if(Un(t))o=t,i=Promise.resolve(t);else{const f=Ud(r,"resolveName");if(!mv(f))throw Qn("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=f.resolveName(t).then(p=>{if(p==null)throw Qn("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return aa(this).addr=p,p})}else i=t.getAddress().then(f=>{if(f==null)throw new Error("TODO");return aa(this).addr=f,f});kne(this,{addrPromise:i,addr:o,deployTx:c,subs:u});const h=new Proxy({},{get:(f,p,g)=>{if(typeof p=="symbol"||sw.indexOf(p)>=0)return Reflect.get(f,p,g);try{return this.getEvent(p)}catch(b){if(!Zr(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,p)=>sw.indexOf(p)>=0?Reflect.has(f,p):Reflect.has(f,p)||this.interface.hasEvent(String(p))});return Ut(this,{filters:h}),Ut(this,{fallback:a.receive||a.fallback?xne(this):null}),new Proxy(this,{get:(f,p,g)=>{if(typeof p=="symbol"||p in f||sw.indexOf(p)>=0)return Reflect.get(f,p,g);try{return f.getFunction(p)}catch(b){if(!Zr(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,p)=>typeof p=="symbol"||p in f||sw.indexOf(p)>=0?Reflect.has(f,p):f.interface.hasFunction(p)})}connect(t){return new Qw(this.target,this.interface,t)}attach(t){return new Qw(t,this.interface,this.runner)}async getAddress(){return await aa(this).addrPromise}async getDeployedCode(){const t=pd(this.runner);Ge(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await t.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=pd(this.runner);return Ge(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((r,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return r(this);n.once("block",a)}catch(i){s(i)}};a()})}deploymentTransaction(){return aa(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),vne(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),Nne(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:a}=aa(this),i=s||await a,{fragment:o,topics:c}=await PC(this,t),u={address:i,topics:c,fromBlock:n,toBlock:r},h=pd(this.runner);return Ge(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(u)).map(f=>{let p=o;if(p==null)try{p=this.interface.getEvent(f.topics[0])}catch{}if(p)try{return new IC(f,this.interface,p)}catch(g){return new $z(f,g)}return new hy(f,h)})}async on(t,n){const r=await X_(this,"on",t);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(t,n){const r=await X_(this,"once",t);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(t,...n){return await R2(this,t,n,null)}async listenerCount(t){if(t){const s=await _0(this,t);return s?s.listeners.length:0}const{subs:n}=aa(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(t){if(t){const s=await _0(this,t);return s?s.listeners.map(({listener:a})=>a):[]}const{subs:n}=aa(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:a})=>a));return r}async off(t,n){const r=await _0(this,t);if(!r)return this;if(n){const s=r.listeners.map(({listener:a})=>a).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),aa(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const n=await _0(this,t);if(!n)return this;n.stop(),aa(this).subs.delete(n.tag)}else{const{subs:n}=aa(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(t,n){return await this.on(t,n)}async removeListener(t,n){return await this.off(t,n)}static buildClass(t){class n extends Qw{constructor(s,a=null){super(s,t,a)}}return n}static from(t,n,r){return r==null&&(r=null),new this(t,n,r)}};let Sne=Ane;function jne(){return Sne}let Pt=class extends jne(){};function h4(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):ke(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}let _ne=class{constructor(e){Pe(this,"name"),Ut(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}};const Qz=new RegExp("^(ipfs)://(.*)$","i"),eI=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Qz,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Uu,Uf,$u,ff,M2,Jz;const z2=class F2{constructor(t,n,r){De(this,$u),Pe(this,"provider"),Pe(this,"address"),Pe(this,"name"),De(this,Uu),De(this,Uf),Ut(this,{provider:t,address:n,name:r}),de(this,Uu,null),de(this,Uf,new Pt(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t))}async supportsWildcard(){return J(this,Uu)==null&&de(this,Uu,(async()=>{try{return await J(this,Uf).supportsInterface("0x9061b923")}catch(t){if(Zr(t,"CALL_EXCEPTION"))return!1;throw de(this,Uu,null),t}})()),await J(this,Uu)}async getAddress(t){if(t==null&&(t=60),t===60)try{const a=await Ye(this,$u,ff).call(this,"addr(bytes32)");return a==null||a===eh?null:a}catch(a){if(Zr(a,"CALL_EXCEPTION"))return null;throw a}if(t>=0&&t<2147483648){let a=t+2147483648;const i=await Ye(this,$u,ff).call(this,"addr(bytes32,uint)",[a]);if(Un(i,20))return un(i)}let n=null;for(const a of this.provider.plugins)if(a instanceof _ne&&a.supportsCoinType(t)){n=a;break}if(n==null)return null;const r=await Ye(this,$u,ff).call(this,"addr(bytes32,uint)",[t]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(t,r);if(s!=null)return s;Ge(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const n=await Ye(this,$u,ff).call(this,"text(bytes32,string)",[t]);return n==null||n==="0x"?null:n}async getContentHash(){const t=await Ye(this,$u,ff).call(this,"contenthash(bytes32)");if(t==null||t==="0x")return null;const n=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",a=parseInt(n[4],16);if(n[5].length===a*2)return`${s}://${dJ("0x"+n[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Ge(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:n});for(let r=0;r<eI.length;r++){const s=n.match(eI[r]);if(s==null)continue;const a=s[1].toLowerCase();switch(a){case"https":case"data":return t.push({type:"url",value:n}),{linkage:t,url:n};case"ipfs":{const i=h4(n);return t.push({type:"ipfs",value:n}),t.push({type:"url",value:i}),{linkage:t,url:i}}case"erc721":case"erc1155":{const i=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";t.push({type:a,value:n});const o=await this.getAddress();if(o==null)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const c=(s[2]||"").split("/");if(c.length!==2)return t.push({type:`!${a}caip`,value:s[2]||""}),{url:null,linkage:t};const u=c[1],h=new Pt(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){const y=await h.ownerOf(u);if(o!==y)return t.push({type:"!owner",value:y}),{url:null,linkage:t};t.push({type:"owner",value:y})}else if(a==="erc1155"){const y=await h.balanceOf(o,u);if(!y)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:y.toString()})}let f=await h[i](u);if(f==null||f==="0x")return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:f}),a==="erc1155"&&(f=f.replace("{id}",$c(u,32).substring(2)),t.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=h4(f)),t.push({type:"metadata-url",value:f});let p={};const g=await new Dd(f).send();g.assertOk();try{p=g.bodyJson}catch{try{t.push({type:"!metadata",value:g.bodyText})}catch{const y=g.body;return y&&t.push({type:"!metadata",value:it(y)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!p)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(p)});let b=p.image;if(typeof b!="string")return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(Qz)==null)return t.push({type:"!imageUrl-ipfs",value:b}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:b}),b=h4(b)}return t.push({type:"url",value:b}),{linkage:t,url:b}}}}}catch{}return{linkage:t,url:null}}static async getEnsAddress(t){const n=await t.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Ge(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(t,n){var r;let s=n;for(;;){if(s===""||s==="."||n!=="eth"&&s==="eth")return null;const a=await Ye(r=F2,M2,Jz).call(r,t,s);if(a!=null){const i=new F2(t,a,n);return s!==n&&!await i.supportsWildcard()?null:i}s=s.split(".").slice(1).join(".")}}};Uu=new WeakMap,Uf=new WeakMap,$u=new WeakSet,ff=async function(e,t){t=(t||[]).slice();const n=J(this,Uf).interface;t.unshift(E2(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),Ge(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Ote(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const s=await J(this,Uf)[e](...t);return r?n.decodeFunctionResult(r,s)[0]:s}catch(s){if(!Zr(s,"CALL_EXCEPTION"))throw s}return null},M2=new WeakSet,Jz=async function(e,t){const n=await z2.getEnsAddress(e);try{const r=await new Pt(n,["function resolver(bytes32) view returns (address)"],e).resolver(E2(t),{enableCcipRead:!0});return r===eh?null:r}catch(r){throw r}return null},De(z2,M2);let tI=z2;const nI=BigInt(0);function ln(e,t){return function(n){return n==null?t:e(n)}}function Ag(e,t){return n=>{if(t&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>e(r))}}function fy(e,t){return n=>{const r={};for(const s in e){let a=s;if(t&&s in t&&!(a in n)){for(const i of t[s])if(i in n){a=i;break}}try{const i=e[s](n[a]);i!==void 0&&(r[s]=i)}catch(i){const o=i instanceof Error?i.message:"not-an-error";Ge(!1,`invalid value for value.${s} (${o})`,"BAD_DATA",{value:n})}}return r}}function Ine(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}ke(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}function om(e){return ke(Un(e,!0),"invalid data","value",e),e}function Kr(e){return ke(Un(e,32),"invalid hash","value",e),e}const Tne=fy({address:un,blockHash:Kr,blockNumber:en,data:om,index:en,removed:ln(Ine,!1),topics:Ag(Kr),transactionHash:Kr,transactionIndex:en},{index:["logIndex"]});function Pne(e){return Tne(e)}const One=fy({hash:ln(Kr),parentHash:Kr,parentBeaconBlockRoot:ln(Kr,null),number:en,timestamp:en,nonce:ln(om),difficulty:yt,gasLimit:yt,gasUsed:yt,stateRoot:ln(Kr,null),receiptsRoot:ln(Kr,null),blobGasUsed:ln(yt,null),excessBlobGas:ln(yt,null),miner:ln(un),prevRandao:ln(Kr,null),extraData:om,baseFeePerGas:ln(yt)},{prevRandao:["mixHash"]});function Rne(e){const t=One(e);return t.transactions=e.transactions.map(n=>typeof n=="string"?n:Xz(n)),t}const Mne=fy({transactionIndex:en,blockNumber:en,transactionHash:Kr,address:un,topics:Ag(Kr),data:om,index:en,blockHash:Kr},{index:["logIndex"]});function zne(e){return Mne(e)}const Fne=fy({to:ln(un,null),from:ln(un,null),contractAddress:ln(un,null),index:en,root:ln(it),gasUsed:yt,blobGasUsed:ln(yt,null),logsBloom:ln(om),blockHash:Kr,hash:Kr,logs:Ag(zne),blockNumber:en,cumulativeGasUsed:yt,effectiveGasPrice:ln(yt),blobGasPrice:ln(yt,null),status:ln(en),type:ln(en,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Dne(e){return Fne(e)}function Xz(e){e.to&&yt(e.to)===nI&&(e.to="0x0000000000000000000000000000000000000000");const t=fy({hash:Kr,index:ln(en,void 0),type:n=>n==="0x"||n==null?0:en(n),accessList:ln(th,null),blobVersionedHashes:ln(Ag(Kr,!0),null),authorizationList:ln(Ag(n=>{let r;if(n.signature)r=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},n,{yParity:s})}return{address:un(n.address),chainId:yt(n.chainId),nonce:yt(n.nonce),signature:Ua.from(r)}},!1),null),blockHash:ln(Kr,null),blockNumber:ln(en,null),transactionIndex:ln(en,null),from:un,gasPrice:ln(yt),maxPriorityFeePerGas:ln(yt),maxFeePerGas:ln(yt),maxFeePerBlobGas:ln(yt,null),gasLimit:yt,to:ln(un,null),value:yt,nonce:en,data:om,creates:ln(un,null),chainId:ln(yt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(t.to==null&&t.creates==null&&(t.creates=hee(t)),(e.type===1||e.type===2)&&e.accessList==null&&(t.accessList=[]),e.signature?t.signature=Ua.from(e.signature):t.signature=Ua.from(e),t.chainId==null){const n=t.signature.legacyChainId;n!=null&&(t.chainId=n)}return t.blockHash&&yt(t.blockHash)===nI&&(t.blockHash=null),t}const Bne="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";let OC=class eF{constructor(t){Pe(this,"name"),Ut(this,{name:t})}clone(){return new eF(this.name)}},tF=class nF extends OC{constructor(t,n){t==null&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`),Pe(this,"effectiveBlock"),Pe(this,"txBase"),Pe(this,"txCreate"),Pe(this,"txDataZero"),Pe(this,"txDataNonzero"),Pe(this,"txAccessListStorageKey"),Pe(this,"txAccessListAddress");const r={effectiveBlock:t};function s(a,i){let o=(n||{})[a];o==null&&(o=i),ke(typeof o=="number",`invalud value for ${a}`,"costs",n),r[a]=o}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Ut(this,r)}clone(){return new nF(this.effectiveBlock,this)}},rF=class sF extends OC{constructor(t,n){super("org.ethers.plugins.network.Ens"),Pe(this,"address"),Pe(this,"targetNetwork"),Ut(this,{address:t||Bne,targetNetwork:n??1})}clone(){return new sF(this.address,this.targetNetwork)}};var Jw,Xw;let Lne=class extends OC{constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),De(this,Jw),De(this,Xw),de(this,Jw,e),de(this,Xw,t)}get url(){return J(this,Jw)}get processFunc(){return J(this,Xw)}clone(){return this}};Jw=new WeakMap,Xw=new WeakMap;const f4=new Map;var I0,T0,Hu;const Une=class P0{constructor(t,n){De(this,I0),De(this,T0),De(this,Hu),de(this,I0,t),de(this,T0,yt(n)),de(this,Hu,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return J(this,I0)}set name(t){de(this,I0,t)}get chainId(){return J(this,T0)}set chainId(t){de(this,T0,yt(t,"chainId"))}matches(t){if(t==null)return!1;if(typeof t=="string"){try{return this.chainId===yt(t)}catch{}return this.name===t}if(typeof t=="number"||typeof t=="bigint"){try{return this.chainId===yt(t)}catch{}return!1}if(typeof t=="object"){if(t.chainId!=null){try{return this.chainId===yt(t.chainId)}catch{}return!1}return t.name!=null?this.name===t.name:!1}return!1}get plugins(){return Array.from(J(this,Hu).values())}attachPlugin(t){if(J(this,Hu).get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return J(this,Hu).set(t.name,t.clone()),this}getPlugin(t){return J(this,Hu).get(t)||null}getPlugins(t){return this.plugins.filter(n=>n.name.split("#")[0]===t)}clone(){const t=new P0(this.name,this.chainId);return this.plugins.forEach(n=>{t.attachPlugin(n.clone())}),t}computeIntrinsicGas(t){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new tF;let r=n.txBase;if(t.to==null&&(r+=n.txCreate),t.data)for(let s=2;s<t.data.length;s+=2)t.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(t.accessList){const s=th(t.accessList);for(const a in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[a].storageKeys.length}return r}static from(t){if($ne(),t==null)return P0.from("mainnet");if(typeof t=="number"&&(t=BigInt(t)),typeof t=="string"||typeof t=="bigint"){const n=f4.get(t);if(n)return n();if(typeof t=="bigint")return new P0("unknown",t);ke(!1,"unknown network","network",t)}if(typeof t.clone=="function")return t.clone();if(typeof t=="object"){ke(typeof t.name=="string"&&typeof t.chainId=="number","invalid network object name or chainId","network",t);const n=new P0(t.name,t.chainId);return(t.ensAddress||t.ensNetwork!=null)&&n.attachPlugin(new rF(t.ensAddress,t.ensNetwork)),n}ke(!1,"invalid network","network",t)}static register(t,n){typeof t=="number"&&(t=BigInt(t));const r=f4.get(t);r&&ke(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),f4.set(t,n)}};I0=new WeakMap,T0=new WeakMap,Hu=new WeakMap;let Tc=Une;function rI(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function sI(e){return new Lne(e,async(t,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[a,i]=await Promise.all([r.send(),t()]);s=a;const o=s.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:rI(o.maxFee,9),maxPriorityFeePerGas:rI(o.maxPriorityFee,9)}}catch(a){Ge(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:a})}})}let aI=!1;function $ne(){if(aI)return;aI=!0;function e(t,n,r){const s=function(){const a=new Tc(t,n);return r.ensNetwork!=null&&a.attachPlugin(new rF(null,r.ensNetwork)),a.attachPlugin(new tF),(r.plugins||[]).forEach(i=>{a.attachPlugin(i)}),a};Tc.register(t,s),Tc.register(n,s),r.altNames&&r.altNames.forEach(a=>{Tc.register(a,s)})}e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[sI("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[sI("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}function RC(e){return JSON.parse(JSON.stringify(e))}var Pc,ci,sd,Zo,tg,$1;let Hne=class{constructor(e){De(this,tg),De(this,Pc),De(this,ci),De(this,sd),De(this,Zo),de(this,Pc,e),de(this,ci,null),de(this,sd,4e3),de(this,Zo,-2)}get pollingInterval(){return J(this,sd)}set pollingInterval(e){de(this,sd,e)}start(){J(this,ci)||(de(this,ci,J(this,Pc)._setTimeout(Ye(this,tg,$1).bind(this),J(this,sd))),Ye(this,tg,$1).call(this))}stop(){J(this,ci)&&(J(this,Pc)._clearTimeout(J(this,ci)),de(this,ci,null))}pause(e){this.stop(),e&&de(this,Zo,-2)}resume(){this.start()}};Pc=new WeakMap,ci=new WeakMap,sd=new WeakMap,Zo=new WeakMap,tg=new WeakSet,$1=async function(){try{const e=await J(this,Pc).getBlockNumber();if(J(this,Zo)===-2){de(this,Zo,e);return}if(e!==J(this,Zo)){for(let t=J(this,Zo)+1;t<=e;t++){if(J(this,ci)==null)return;await J(this,Pc).emit("block",t)}de(this,Zo,e)}}catch{}J(this,ci)!=null&&de(this,ci,J(this,Pc)._setTimeout(Ye(this,tg,$1).bind(this),J(this,sd)))};var mf,pf,Wu;let MC=class{constructor(e){De(this,mf),De(this,pf),De(this,Wu),de(this,mf,e),de(this,Wu,!1),de(this,pf,t=>{this._poll(t,J(this,mf))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){J(this,Wu)||(de(this,Wu,!0),J(this,pf).call(this,-2),J(this,mf).on("block",J(this,pf)))}stop(){J(this,Wu)&&(de(this,Wu,!1),J(this,mf).off("block",J(this,pf)))}pause(e){this.stop()}resume(){this.start()}};mf=new WeakMap,pf=new WeakMap,Wu=new WeakMap;var O0,bc;let Wne=class extends MC{constructor(e,t){super(e),De(this,O0),De(this,bc),de(this,O0,t),de(this,bc,-2)}pause(e){e&&de(this,bc,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(J(this,O0));n!=null&&(J(this,bc)===-2?de(this,bc,n.number):n.number>J(this,bc)&&(t.emit(J(this,O0),n.number),de(this,bc,n.number)))}};O0=new WeakMap,bc=new WeakMap;var D2;let Gne=class extends MC{constructor(e,t){super(e),De(this,D2),de(this,D2,RC(t))}async _poll(e,t){throw new Error("@TODO")}};D2=new WeakMap;var R0;let qne=class extends MC{constructor(e,t){super(e),De(this,R0),de(this,R0,t)}async _poll(e,t){const n=await t.getTransactionReceipt(J(this,R0));n&&t.emit(J(this,R0),n)}};R0=new WeakMap;var Ec,ng,M0,Gu,di,B2,aF;let zC=class{constructor(e,t){De(this,B2),De(this,Ec),De(this,ng),De(this,M0),De(this,Gu),De(this,di),de(this,Ec,e),de(this,ng,RC(t)),de(this,M0,Ye(this,B2,aF).bind(this)),de(this,Gu,!1),de(this,di,-2)}start(){J(this,Gu)||(de(this,Gu,!0),J(this,di)===-2&&J(this,Ec).getBlockNumber().then(e=>{de(this,di,e)}),J(this,Ec).on("block",J(this,M0)))}stop(){J(this,Gu)&&(de(this,Gu,!1),J(this,Ec).off("block",J(this,M0)))}pause(e){this.stop(),e&&de(this,di,-2)}resume(){this.start()}};Ec=new WeakMap,ng=new WeakMap,M0=new WeakMap,Gu=new WeakMap,di=new WeakMap,B2=new WeakSet,aF=async function(e){if(J(this,di)===-2)return;const t=RC(J(this,ng));t.fromBlock=J(this,di)+1,t.toBlock=e;const n=await J(this,Ec).getLogs(t);if(n.length===0){J(this,di)<e-60&&de(this,di,e-60);return}for(const r of n)J(this,Ec).emit(J(this,ng),r),de(this,di,r.blockNumber)};const Vne=BigInt(2),Kne=10;function aw(e){return e&&typeof e.then=="function"}function e1(e,t){return e+":"+JSON.stringify(t,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((a,i)=>(a[i]=r[i],a),{})}return r})}let iF=class{constructor(e){Pe(this,"name"),Ut(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function Zne(e){return JSON.parse(JSON.stringify(e))}function L2(e){return e=Array.from(new Set(e).values()),e.sort(),e}async function m4(e,t){if(e==null)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),typeof e=="string")switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(Un(e,32)){const n=e.toLowerCase();return{type:"transaction",tag:e1("tx",{hash:n}),hash:n}}if(e.orphan){const n=e;return{type:"orphan",tag:e1("orphan",n),filter:Zne(n)}}if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?L2(s.map(a=>a.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],a=[],i=o=>{Un(o)?s.push(o):a.push((async()=>{s.push(await vs(o,t))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),a.length&&await Promise.all(a),r.address=L2(s.map(o=>o.toLowerCase()))}return{filter:r,tag:e1("event",r),type:"event"}}ke(!1,"unknown ProviderEvent","event",e)}function p4(){return new Date().getTime()}const Yne={cacheTimeout:250,pollingInterval:4e3};var ms,qu,fs,z0,Pa,gf,ad,wc,t1,ri,F0,rg,vn,ia,U2,$2,D0,H2,B0,n1;let Qne=class{constructor(e,t){if(De(this,vn),De(this,ms),De(this,qu),De(this,fs),De(this,z0),De(this,Pa),De(this,gf),De(this,ad),De(this,wc),De(this,t1),De(this,ri),De(this,F0),De(this,rg),de(this,rg,Object.assign({},Yne,t||{})),e==="any")de(this,gf,!0),de(this,Pa,null);else if(e){const n=Tc.from(e);de(this,gf,!1),de(this,Pa,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else de(this,gf,!1),de(this,Pa,null);de(this,wc,-1),de(this,ad,new Map),de(this,ms,new Map),de(this,qu,new Map),de(this,fs,null),de(this,z0,!1),de(this,t1,1),de(this,ri,new Map),de(this,F0,!1)}get pollingInterval(){return J(this,rg).pollingInterval}get provider(){return this}get plugins(){return Array.from(J(this,qu).values())}attachPlugin(e){if(J(this,qu).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return J(this,qu).set(e.name,e.connect(this)),this}getPlugin(e){return J(this,qu).get(e)||null}get disableCcipRead(){return J(this,F0)}set disableCcipRead(e){de(this,F0,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const r=e.to.toLowerCase(),s=t.toLowerCase(),a=[];for(let i=0;i<n.length;i++){const o=n[i],c=o.replace("{sender}",r).replace("{data}",s),u=new Dd(c);o.indexOf("{data}")===-1&&(u.body={data:s,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:i,urls:n});let h="unknown error",f;try{f=await u.send()}catch(p){a.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(h=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}Ge(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:h}}),a.push(h)}Ge(!1,`error encountered during CCIP fetch: ${a.map(i=>JSON.stringify(i)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,t){return new hne(Rne(e),this)}_wrapLog(e,t){return new hy(Pne(e),this)}_wrapTransactionReceipt(e,t){return new Dz(Dne(e),this)}_wrapTransactionResponse(e,t){return new _C(Xz(e),this)}_detectNetwork(){Ge(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Ge(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=en(await Ye(this,vn,ia).call(this,{method:"getBlockNumber"}),"%response");return J(this,wc)>=0&&de(this,wc,e),e}_getAddress(e){return vs(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Un(e))return Un(e,32)?e:ui(e);if(typeof e=="bigint"&&(e=en(e,"blockTag")),typeof e=="number")return e>=0?ui(e):J(this,wc)>=0?ui(J(this,wc)+e):this.getBlockNumber().then(t=>ui(t+e));ke(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(o=>o==null?null:Array.isArray(o)?L2(o.map(c=>c.toLowerCase())):o.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,r=(o,c,u)=>{let h;switch(o.length){case 0:break;case 1:h=o[0];break;default:o.sort(),h=o}if(n&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return h&&(f.address=h),t.length&&(f.topics=t),c&&(f.fromBlock=c),u&&(f.toBlock=u),n&&(f.blockHash=n),f};let s=[];if(e.address)if(Array.isArray(e.address))for(const o of e.address)s.push(this._getAddress(o));else s.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let i;return"toBlock"in e&&(i=this._getBlockTag(e.toBlock)),s.filter(o=>typeof o!="string").length||a!=null&&typeof a!="string"||i!=null&&typeof i!="string"?Promise.all([Promise.all(s),a,i]).then(o=>r(o[0],o[1],o[2])):r(s,a,i)}_getTransactionRequest(e){const t=fv(e),n=[];if(["to","from"].forEach(r=>{if(t[r]==null)return;const s=vs(t[r],this);aw(s)?n.push(async function(){t[r]=await s}()):t[r]=s}),t.blockTag!=null){const r=this._getBlockTag(t.blockTag);aw(r)?n.push(async function(){t.blockTag=await r}()):t.blockTag=r}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(J(this,Pa)==null){const r=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw J(this,Pa)===r&&de(this,Pa,null),s}})();return de(this,Pa,r),(await r).clone()}const e=J(this,Pa),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(J(this,gf)?(this.emit("network",n,t),J(this,Pa)===e&&de(this,Pa,Promise.resolve(n))):Ge(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:r,gasPrice:s,priorityFee:a}=await ys({_block:Ye(this,vn,H2).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Ye(this,vn,ia).call(this,{method:"getGasPrice"});return yt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Ye(this,vn,ia).call(this,{method:"getPriorityFee"});return yt(u,"%response")}catch{}return null})()});let i=null,o=null;const c=this._wrapBlock(r,e);return c&&c.baseFeePerGas&&(o=a??BigInt("1000000000"),i=c.baseFeePerGas*Vne+o),new Q_(s,i,o)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const r=new Dd(n.url),s=await n.processFunc(t,this,r);return new Q_(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return aw(t)&&(t=await t),yt(await Ye(this,vn,ia).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await ys({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Ye(this,vn,$2).call(this,Ye(this,vn,U2).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return yt(await Ye(this,vn,D0).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return en(await Ye(this,vn,D0).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return it(await Ye(this,vn,D0).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=yt(t,"position");return it(await Ye(this,vn,D0).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await ys({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=ez.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await ys({network:this.getNetwork(),params:Ye(this,vn,H2).call(this,e,!!t)});return r==null?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await ys({network:this.getNetwork(),params:Ye(this,vn,ia).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await ys({network:this.getNetwork(),params:Ye(this,vn,ia).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const r=await Ye(this,vn,ia).call(this,{method:"getTransaction",hash:e});if(r==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=r.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await ys({network:this.getNetwork(),result:Ye(this,vn,ia).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:it(t)}async getLogs(e){let t=this._getFilter(e);aw(t)&&(t=await t);const{network:n,params:r}=await ys({network:this.getNetwork(),params:Ye(this,vn,ia).call(this,{method:"getLogs",filter:t})});return r.map(s=>this._wrapLog(s,n))}_getProvider(e){Ge(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await tI.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=un(e);const t=E2(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await tI.getEnsAddress(this),r=await new Pt(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(r==null||r===eh)return null;const s=await new Pt(r,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(s)!==e?null:s}catch(n){if(Zr(n,"BAD_DATA")&&n.value==="0x"||Zr(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const r=t??1;return r===0?this.getTransactionReceipt(e):new Promise(async(s,a)=>{let i=null;const o=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=r){s(u),i&&(clearTimeout(i),i=null);return}}catch(u){console.log("EEE",u)}this.once("block",o)};n!=null&&(i=setTimeout(()=>{i!=null&&(i=null,this.off("block",o),a(Qn("timeout","TIMEOUT",{reason:"timeout"})))},n)),o(await this.getBlockNumber())})}async waitForBlock(e){Ge(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=J(this,ri).get(e);t&&(t.timer&&clearTimeout(t.timer),J(this,ri).delete(e))}_setTimeout(e,t){t==null&&(t=0);const n=T1(this,t1)._++,r=()=>{J(this,ri).delete(n),e()};if(this.paused)J(this,ri).set(n,{timer:null,func:r,time:t});else{const s=setTimeout(r,t);J(this,ri).set(n,{timer:s,func:r,time:p4()})}return n}_forEachSubscriber(e){for(const t of J(this,ms).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new iF(e.type);case"block":{const t=new Hne(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Wne(this,e.type);case"event":return new zC(this,e.filter);case"transaction":return new qne(this,e.hash);case"orphan":return new Gne(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of J(this,ms).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),J(this,fs)!=null&&t.pause(J(this,fs));break}}async on(e,t){const n=await Ye(this,vn,n1).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,J(this,fs)!=null&&n.subscriber.pause(J(this,fs))),this}async once(e,t){const n=await Ye(this,vn,n1).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,J(this,fs)!=null&&n.subscriber.pause(J(this,fs))),this}async emit(e,...t){const n=await Ye(this,vn,B0).call(this,e,t);if(!n||n.listeners.length===0)return!1;const r=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:a})=>{const i=new sM(this,a?null:s,e);try{s.call(this,...t,i)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),J(this,ms).delete(n.tag)),r>0}async listenerCount(e){if(e){const n=await Ye(this,vn,B0).call(this,e);return n?n.listeners.length:0}let t=0;for(const{listeners:n}of J(this,ms).values())t+=n.length;return t}async listeners(e){if(e){const n=await Ye(this,vn,B0).call(this,e);return n?n.listeners.map(({listener:r})=>r):[]}let t=[];for(const{listeners:n}of J(this,ms).values())t=t.concat(n.map(({listener:r})=>r));return t}async off(e,t){const n=await Ye(this,vn,B0).call(this,e);if(!n)return this;if(t){const r=n.listeners.map(({listener:s})=>s).indexOf(t);r>=0&&n.listeners.splice(r,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),J(this,ms).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await Ye(this,vn,n1).call(this,e);n&&r.stop(),J(this,ms).delete(t)}else for(const[t,{started:n,subscriber:r}]of J(this,ms))n&&r.stop(),J(this,ms).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return J(this,z0)}destroy(){this.removeAllListeners();for(const e of J(this,ri).keys())this._clearTimeout(e);de(this,z0,!0)}get paused(){return J(this,fs)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(de(this,wc,-1),J(this,fs)!=null){if(J(this,fs)==!!e)return;Ge(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),de(this,fs,!!e);for(const t of J(this,ri).values())t.timer&&clearTimeout(t.timer),t.time=p4()-t.time}resume(){if(J(this,fs)!=null){this._forEachSubscriber(e=>e.resume()),de(this,fs,null);for(const e of J(this,ri).values()){let t=e.time;t<0&&(t=0),e.time=p4(),setTimeout(e.func,t)}}}};ms=new WeakMap,qu=new WeakMap,fs=new WeakMap,z0=new WeakMap,Pa=new WeakMap,gf=new WeakMap,ad=new WeakMap,wc=new WeakMap,t1=new WeakMap,ri=new WeakMap,F0=new WeakMap,rg=new WeakMap,vn=new WeakSet,ia=async function(e){const t=J(this,rg).cacheTimeout;if(t<0)return await this._perform(e);const n=e1(e.method,e);let r=J(this,ad).get(n);return r||(r=this._perform(e),J(this,ad).set(n,r),setTimeout(()=>{J(this,ad).get(n)===r&&J(this,ad).delete(n)},t)),await r},U2=async function(e,t,n){Ge(n<Kne,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=fv(e);try{return it(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(s){if(!this.disableCcipRead&&mC(s)&&s.data&&n>=0&&t==="latest"&&r.to!=null&&cr(s.data,0,4)==="0x556f1830"){const a=s.data,i=await vs(r.to,this);let o;try{o=nre(cr(s.data,4))}catch(h){Ge(!1,h.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:a}})}Ge(o.sender.toLowerCase()===i.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const c=await this.ccipReadFetch(r,o.calldata,o.urls);Ge(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:s.data,errorArgs:o.errorArgs}});const u={to:i,data:Xn([o.selector,tre([c,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const h=await Ye(this,vn,U2).call(this,u,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:h}),h}catch(h){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:h}),h}}throw s}},$2=async function(e){const{value:t}=await ys({network:this.getNetwork(),value:e});return t},D0=async function(e,t,n){let r=this._getAddress(t),s=this._getBlockTag(n);return(typeof r!="string"||typeof s!="string")&&([r,s]=await Promise.all([r,s])),await Ye(this,vn,$2).call(this,Ye(this,vn,ia).call(this,Object.assign(e,{address:r,blockTag:s})))},H2=async function(e,t){if(Un(e,32))return await Ye(this,vn,ia).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await Ye(this,vn,ia).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})},B0=async function(e,t){let n=await m4(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await m4({orphan:"drop-log",log:t[0]},this)),J(this,ms).get(n.tag)||null},n1=async function(e){const t=await m4(e,this),n=t.tag;let r=J(this,ms).get(n);return r||(r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},J(this,ms).set(n,r)),r};function Jne(e,t){try{const n=W2(e,t);if(n)return O1(n)}catch{}return null}function W2(e,t){if(e==="0x")return null;try{const n=en(cr(e,t,t+32)),r=en(cr(e,n,n+32));return cr(e,n+32,n+32+r)}catch{}return null}function iI(e){const t=kr(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Xne(e){if(e.length%32===0)return e;const t=new Uint8Array(Math.ceil(e.length/32)*32);return t.set(e),t}const ere=new Uint8Array([]);function tre(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(ere),n+=32;for(let r=0;r<e.length;r++){const s=Zt(e[r]);t[r]=iI(n),t.push(iI(s.length)),t.push(Xne(s)),n+=32+Math.ceil(s.length/32)*32}return Xn(t)}const oI="0x0000000000000000000000000000000000000000000000000000000000000000";function nre(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Ge(Cd(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=cr(e,0,32);Ge(cr(n,0,12)===cr(oI,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=cr(n,12);try{const r=[],s=en(cr(e,32,64)),a=en(cr(e,s,s+32)),i=cr(e,s+32);for(let o=0;o<a;o++){const c=Jne(i,o*32);if(c==null)throw new Error("abort");r.push(c)}t.urls=r}catch{Ge(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=W2(e,64);if(r==null)throw new Error("abort");t.calldata=r}catch{Ge(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Ge(cr(e,100,128)===cr(oI,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=cr(e,96,100);try{const r=W2(e,128);if(r==null)throw new Error("abort");t.extraData=r}catch{Ge(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>t[r]),t}function ju(e,t){if(e.provider)return e.provider;Ge(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function lI(e,t){let n=fv(t);if(n.to!=null&&(n.to=vs(n.to,e)),n.from!=null){const r=n.from;n.from=Promise.all([e.getAddress(),vs(r,e)]).then(([s,a])=>(ke(s.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),s))}else n.from=e.getAddress();return await ys(n)}let rre=class{constructor(e){Pe(this,"provider"),Ut(this,{provider:e||null})}async getNonce(e){return ju(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await lI(this,e)}async populateTransaction(e){const t=ju(this,"populateTransaction"),n=await lI(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(n.chainId!=null){const a=yt(n.chainId);ke(a===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?ke(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&ke(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await t.getFeeData();Ge(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await t.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const i=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=i,n.maxPriorityFeePerGas=i}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(Ge(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):Ge(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await ys(n)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await ju(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return ju(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ju(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ju(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=ju(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=ez.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}authorize(e){Ge(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}};function sre(e){return JSON.parse(JSON.stringify(e))}var Ls,qo,jf,Vu,_f,sg,yf,G2,q2;let oF=class{constructor(e){De(this,yf),De(this,Ls),De(this,qo),De(this,jf),De(this,Vu),De(this,_f),De(this,sg),de(this,Ls,e),de(this,qo,null),de(this,jf,Ye(this,yf,G2).bind(this)),de(this,Vu,!1),de(this,_f,null),de(this,sg,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){J(this,Vu)||(de(this,Vu,!0),Ye(this,yf,G2).call(this,-2))}stop(){J(this,Vu)&&(de(this,Vu,!1),de(this,sg,!0),Ye(this,yf,q2).call(this),J(this,Ls).off("block",J(this,jf)))}pause(e){e&&Ye(this,yf,q2).call(this),J(this,Ls).off("block",J(this,jf))}resume(){this.start()}};Ls=new WeakMap,qo=new WeakMap,jf=new WeakMap,Vu=new WeakMap,_f=new WeakMap,sg=new WeakMap,yf=new WeakSet,G2=async function(e){try{J(this,qo)==null&&de(this,qo,this._subscribe(J(this,Ls)));let t=null;try{t=await J(this,qo)}catch(s){if(!Zr(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(t==null){de(this,qo,null),J(this,Ls)._recoverSubscriber(this,this._recover(J(this,Ls)));return}const n=await J(this,Ls).getNetwork();if(J(this,_f)||de(this,_f,n),J(this,_f).chainId!==n.chainId)throw new Error("chaid changed");if(J(this,sg))return;const r=await J(this,Ls).send("eth_getFilterChanges",[t]);await this._emitResults(J(this,Ls),r)}catch(t){console.log("@TODO",t)}J(this,Ls).once("block",J(this,jf))},q2=function(){const e=J(this,qo);e&&(de(this,qo,null),e.then(t=>{J(this,Ls).destroyed||J(this,Ls).send("eth_uninstallFilter",[t])}))};var bf;let are=class extends oF{constructor(e,t){super(e),De(this,bf),de(this,bf,sre(t))}_recover(e){return new zC(e,J(this,bf))}async _subscribe(e){return await e.send("eth_newFilter",[J(this,bf)])}async _emitResults(e,t){for(const n of t)e.emit(J(this,bf),e._wrapLog(n,e._network))}};bf=new WeakMap;let ire=class extends oF{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}};const ore="bigint,boolean,function,number,string,symbol".split(/,/g);function r1(e){if(e==null||ore.indexOf(typeof e)>=0||typeof e.getAddress=="function")return e;if(Array.isArray(e))return e.map(r1);if(typeof e=="object")return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function lre(e){return new Promise(t=>{setTimeout(t,e)})}function Wh(e){return e&&e.toLowerCase()}function cI(e){return e&&typeof e.pollingInterval=="number"}const lF={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};let g4=class extends rre{constructor(e,t){super(e),Pe(this,"address"),t=un(t),Ut(this,{address:t})}connect(e){Ge(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=r1(e),n=[];if(t.from){const s=t.from;n.push((async()=>{const a=await vs(s,this.provider);ke(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=a})())}else t.from=this.address;if(t.gasLimit==null&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){const s=t.to;n.push((async()=>{t.to=await vs(s,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((r,s)=>{const a=[1e3,100];let i=0;const o=async()=>{try{const c=await this.provider.getTransaction(n);if(c!=null){r(c.replaceableTransaction(t));return}}catch(c){if(Zr(c,"CANCELLED")||Zr(c,"BAD_DATA")||Zr(c,"NETWORK_ERROR")||Zr(c,"UNSUPPORTED_OPERATION")){c.info==null&&(c.info={}),c.info.sendTransactionHash=n,s(c);return}if(Zr(c,"INVALID_ARGUMENT")&&(i++,c.info==null&&(c.info={}),c.info.sendTransactionHash=n,i>10)){s(c);return}this.provider.emit("error",Qn("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:c}))}this.provider._setTimeout(()=>{o()},a.pop()||4e3)};o()})}async signTransaction(e){const t=r1(e);if(t.from){const r=await vs(t.from,this.provider);ke(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t=typeof e=="string"?ao(e):e;return await this.provider.send("personal_sign",[it(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=r1(n),s=await z_.resolveNames(e,t,r,async a=>{const i=await vs(a);return ke(i!=null,"TypedData does not support null address","value",a),i});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(z_.getPayload(s.domain,t,s.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t=typeof e=="string"?ao(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),it(t)])}};var $f,L0,Ac,tl,qi,si,ra,s1,V2;let cre=class extends Qne{constructor(e,t){super(e,t),De(this,s1),De(this,$f),De(this,L0),De(this,Ac),De(this,tl),De(this,qi),De(this,si),De(this,ra),de(this,L0,1),de(this,$f,Object.assign({},lF,t||{})),de(this,Ac,[]),de(this,tl,null),de(this,si,null),de(this,ra,null);{let r=null;const s=new Promise(a=>{r=a});de(this,qi,{promise:s,resolve:r})}const n=this._getOption("staticNetwork");typeof n=="boolean"?(ke(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),n&&e!=null&&de(this,si,Tc.from(e))):n&&(ke(e==null||n.matches(e),"staticNetwork MUST match network object","options",t),de(this,si,n))}_getOption(e){return J(this,$f)[e]}get _network(){return Ge(J(this,si),"network is not available yet","NETWORK_ERROR"),J(this,si)}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&yt(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const r=await this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}const t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(J(this,si))return J(this,si)}else return e;return J(this,ra)?await J(this,ra):this.ready?(de(this,ra,(async()=>{try{const t=Tc.from(yt(await this.send("eth_chainId",[])));return de(this,ra,null),t}catch(t){throw de(this,ra,null),t}})()),await J(this,ra)):(de(this,ra,(async()=>{const t={id:T1(this,L0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let n;try{n=(await this._send(t))[0],de(this,ra,null)}catch(r){throw de(this,ra,null),this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Tc.from(yt(n.result));throw this.getRpcError(t,n)})()),await J(this,ra))}_start(){J(this,qi)==null||J(this,qi).resolve==null||(J(this,qi).resolve(),de(this,qi,null),(async()=>{for(;J(this,si)==null&&!this.destroyed;)try{de(this,si,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Qn("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await lre(1e3)}Ye(this,s1,V2).call(this)})())}async _waitUntilReady(){if(J(this,qi)!=null)return await J(this,qi).promise}_getSubscriber(e){return e.type==="pending"?new ire(this):e.type==="event"?this._getOption("polling")?new zC(this,e.filter):new are(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new iF("orphan"):super._getSubscriber(e)}get ready(){return J(this,qi)==null}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let r=n;n==="gasLimit"&&(r="gas"),t[r]=ui(yt(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(t[n]=it(e[n]))}),e.accessList&&(t.accessList=th(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(n=>{const r=XM(n);return{address:r.address,nonce:ui(r.nonce),chainId:ui(r.chainId),yParity:ui(r.signature.yParity),r:ui(r.signature.r),s:ui(r.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Wh(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Wh(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Wh(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Wh(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Wh):e.filter.address=Wh(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if(n==="eth_estimateGas"&&r.message){const i=r.message;if(!i.match(/revert/i)&&i.match(/insufficient funds/i))return Qn("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return Qn("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if(n==="eth_call"||n==="eth_estimateGas"){const i=K2(r),o=P2.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],i?i.data:null);return o.info={error:r,payload:e},o}const s=JSON.stringify(ure(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return Qn("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const i=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return Qn("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:i,info:{error:r}});if(s.match(/nonce/i)&&s.match(/too low/i))return Qn("nonce has already been used","NONCE_EXPIRED",{transaction:i,info:{error:r}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return Qn("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:i,info:{error:r}});if(s.match(/only replay-protected/i))return Qn("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:i,info:{error:r}}})}let a=!!s.match(/the method .* does not exist/i);return a||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(a=!0),a?Qn("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):Qn("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Qn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=T1(this,L0)._++,r=new Promise((s,a)=>{J(this,Ac).push({resolve:s,reject:a,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})});return Ye(this,s1,V2).call(this),r}async getSigner(e){e==null&&(e=0);const t=this.send("eth_accounts",[]);if(typeof e=="number"){const r=await t;if(e>=r.length)throw new Error("no such account");return new g4(this,r[e])}const{accounts:n}=await ys({network:this.getNetwork(),accounts:t});e=un(e);for(const r of n)if(un(r)===e)return new g4(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new g4(this,e))}destroy(){J(this,tl)&&(clearTimeout(J(this,tl)),de(this,tl,null));for(const{payload:e,reject:t}of J(this,Ac))t(Qn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));de(this,Ac,[]),super.destroy()}};$f=new WeakMap,L0=new WeakMap,Ac=new WeakMap,tl=new WeakMap,qi=new WeakMap,si=new WeakMap,ra=new WeakMap,s1=new WeakSet,V2=function(){if(J(this,tl))return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");de(this,tl,setTimeout(()=>{de(this,tl,null);const t=J(this,Ac);for(de(this,Ac,[]);t.length;){const n=[t.shift()];for(;t.length&&n.length!==J(this,$f).batchMaxCount;)if(n.push(t.shift()),JSON.stringify(n.map(r=>r.payload)).length>J(this,$f).batchMaxSize){t.unshift(n.pop());break}(async()=>{const r=n.length===1?n[0].payload:n.map(s=>s.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{const s=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:s});for(const{resolve:a,reject:i,payload:o}of n){if(this.destroyed){i(Qn("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:o.method}));continue}const c=s.filter(u=>u.id===o.id)[0];if(c==null){const u=Qn("missing response for request","BAD_DATA",{value:s,info:{payload:o}});this.emit("error",u),i(u);continue}if("error"in c){i(this.getRpcError(o,c));continue}a(c.result)}}catch(s){this.emit("debug",{action:"receiveRpcError",error:s});for(const{reject:a}of n)a(s)}})()}},e))};var Ku;let cF=class extends cre{constructor(e,t){super(e,t),De(this,Ku);let n=this._getOption("pollingInterval");n==null&&(n=lF.pollingInterval),de(this,Ku,n)}_getSubscriber(e){const t=super._getSubscriber(e);return cI(t)&&(t.pollingInterval=J(this,Ku)),t}get pollingInterval(){return J(this,Ku)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");de(this,Ku,e),this._forEachSubscriber(t=>{cI(t)&&(t.pollingInterval=J(this,Ku))})}};Ku=new WeakMap;var U0;let In=class extends cF{constructor(e,t,n){e==null&&(e="http://localhost:8545"),super(t,n),De(this,U0),typeof e=="string"?de(this,U0,new Dd(e)):de(this,U0,e.clone())}_getConnection(){return J(this,U0).clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let r=n.bodyJson;return Array.isArray(r)||(r=[r]),r}};U0=new WeakMap;function K2(e){if(e==null)return null;if(typeof e.message=="string"&&e.message.match(/revert/i)&&Un(e.data))return{message:e.message,data:e.data};if(typeof e=="object"){for(const t in e){const n=K2(e[t]);if(n)return n}return null}if(typeof e=="string")try{return K2(JSON.parse(e))}catch{}return null}function Z2(e,t){if(e!=null){if(typeof e.message=="string"&&t.push(e.message),typeof e=="object")for(const n in e)Z2(e[n],t);if(typeof e=="string")try{return Z2(JSON.parse(e),t)}catch{}}}function ure(e){const t=[];return Z2(e,t),t}var $0,H0;const dre=class wf extends cF{constructor(t,n,r){const s=Object.assign({},r??{},{batchMaxCount:1});ke(t&&t.request,"invalid EIP-1193 provider","ethereum",t),super(n,s),De(this,$0),De(this,H0),de(this,H0,null),r&&r.providerInfo&&de(this,H0,r.providerInfo),de(this,$0,async(a,i)=>{const o={method:a,params:i};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const c=await t.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}get providerInfo(){return J(this,H0)}async send(t,n){return await this._start(),await super.send(t,n)}async _send(t){ke(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const n=await J(this,$0).call(this,t.method,t.params||[]);return[{id:t.id,result:n}]}catch(n){return[{id:t.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(t,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(t,n)}async hasSigner(t){t==null&&(t=0);const n=await this.send("eth_accounts",[]);return typeof t=="number"?n.length>t:(t=t.toLowerCase(),n.filter(r=>r.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await J(this,$0).call(this,"eth_requestAccounts",[])}catch(n){const r=n.payload;throw this.getRpcError(r,{id:r.id,error:n})}return await super.getSigner(t)}static async discover(t){if(t==null&&(t={}),t.provider)return new wf(t.provider);const n=t.window?t.window:typeof window<"u"?window:null;if(n==null)return null;const r=t.anyProvider;if(r&&n.ethereum)return new wf(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const s=t.timeout?t.timeout:300;return s===0?null:await new Promise((a,i)=>{let o=[];const c=f=>{o.push(f.detail),r&&u()},u=()=>{if(clearTimeout(h),o.length)if(t&&t.filter){const f=t.filter(o.map(p=>Object.assign({},p.info)));if(f==null)a(null);else if(f instanceof wf)a(f);else{let p=null;if(f.uuid&&(p=o.filter(g=>f.uuid===g.info.uuid)[0]),p){const{provider:g,info:b}=p;a(new wf(g,void 0,{providerInfo:b}))}else i(Qn("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:p}=o[0];a(new wf(f,void 0,{providerInfo:p}))}else a(null);n.removeEventListener("eip6963:announceProvider",c)},h=setTimeout(()=>{u()},s);n.addEventListener("eip6963:announceProvider",c),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};$0=new WeakMap,H0=new WeakMap;let wr=dre;const gv=(e,t=gv,n=t.f||(t.f=["assets/index-ChhyusO2.js","assets/wagmi-Ck0DqXmB.js","assets/vendor-CgHzTxSQ.js","assets/VirtualList-CkN222eY.js"]))=>e.map(r=>n[r]);var hre=Object.defineProperty,fre=(e,t,n)=>t in e?hre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mre=(e,t,n)=>fre(e,t+"",n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var iw={},uI;function pre(){if(uI)return iw;uI=1;var e=E9();return iw.createRoot=e.createRoot,iw.hydrateRoot=e.hydrateRoot,iw}var gre=pre();const yre=Nm(gre);var io=E9();const uF=Nm(io);/**
* @remix-run/router v1.15.3
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(this,arguments)}var Oc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oc||(Oc={}));const dI="popstate";function bre(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:o}=r.location;return Y2("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:H1(s)}return xre(t,n,null,e)}function Er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dF(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wre(){return Math.random().toString(36).substr(2,8)}function hI(e,t){return{usr:e.state,key:e.key,idx:t}}function Y2(e,t,n,r){return n===void 0&&(n=null),Sg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Om(t):t,{state:n,key:t&&t.key||r||wre()})}function H1(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Om(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xre(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=Oc.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Sg({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function f(){o=Oc.Pop;let w=h(),v=w==null?null:w-u;u=w,c&&c({action:o,location:y.location,delta:v})}function p(w,v){o=Oc.Push;let N=Y2(y.location,w,v);u=h()+1;let A=hI(N,u),C=y.createHref(N);try{i.pushState(A,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(C)}a&&c&&c({action:o,location:y.location,delta:1})}function g(w,v){o=Oc.Replace;let N=Y2(y.location,w,v);u=h();let A=hI(N,u),C=y.createHref(N);i.replaceState(A,"",C),a&&c&&c({action:o,location:y.location,delta:0})}function b(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,N=typeof w=="string"?w:H1(w);return N=N.replace(/ $/,"%20"),Er(v,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,v)}let y={get action(){return o},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(dI,f),c=w,()=>{s.removeEventListener(dI,f),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let v=b(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:g,go(w){return i.go(w)}};return y}var fI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fI||(fI={}));function vre(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Om(t):t,s=FC(r.pathname||"/",n);if(s==null)return null;let a=hF(e);Nre(a);let i=null;for(let o=0;i==null&&o<a.length;++o){let c=Rre(s);i=Tre(a[o],c)}return i}function hF(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(Er(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Dc([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(Er(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hF(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:_re(u,a.index),routesMeta:h})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let c of fF(a.path))s(a,i,c)}),t}function fF(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=fF(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Nre(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ire(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kre=/^:[\w-]+$/,Cre=3,Ere=2,Are=1,Sre=10,jre=-2,mI=e=>e==="*";function _re(e,t){let n=e.split("/"),r=n.length;return n.some(mI)&&(r+=jre),t&&(r+=Ere),n.filter(s=>!mI(s)).reduce((s,a)=>s+(kre.test(a)?Cre:a===""?Are:Sre),r)}function Ire(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function Tre(e,t){let{routesMeta:n}=e,r={},s="/",a=[];for(let i=0;i<n.length;++i){let o=n[i],c=i===n.length-1,u=s==="/"?t:t.slice(s.length)||"/",h=Pre({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u);if(!h)return null;Object.assign(r,h.params);let f=o.route;a.push({params:r,pathname:Dc([s,h.pathname]),pathnameBase:Dre(Dc([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Dc([s,h.pathnameBase]))}return a}function Pre(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ore(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let b=o[h]||"";i=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function Ore(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dF(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,i,o)=>(r.push({paramName:i,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Rre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function FC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Mre(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Om(e):e;return{pathname:n?n.startsWith("/")?n:zre(n,t):t,search:Bre(r),hash:Lre(s)}}function zre(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function y4(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fre(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mF(e,t){let n=Fre(e);return t?n.map((r,s)=>s===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pF(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Om(e):(s=Sg({},e),Er(!s.pathname||!s.pathname.includes("?"),y4("?","pathname","search",s)),Er(!s.pathname||!s.pathname.includes("#"),y4("#","pathname","hash",s)),Er(!s.search||!s.search.includes("#"),y4("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?t[f]:"/"}let c=Mre(s,o),u=i&&i!=="/"&&i.endsWith("/"),h=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Dc=e=>e.join("/").replace(/\/\/+/g,"/"),Dre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Lre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ure(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gF=["post","put","patch","delete"];new Set(gF);const $re=["get",...gF];new Set($re);/**
* React Router v6.22.3
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(this,arguments)}const DC=j.createContext(null),Hre=j.createContext(null),rh=j.createContext(null),yv=j.createContext(null),Xc=j.createContext({outlet:null,matches:[],isDataRoute:!1}),yF=j.createContext(null);function Wre(e,t){let{relative:n}=t===void 0?{}:t;my()||Er(!1);let{basename:r,navigator:s}=j.useContext(rh),{hash:a,pathname:i,search:o}=wF(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Dc([r,i])),s.createHref({pathname:c,search:o,hash:a})}function my(){return j.useContext(yv)!=null}function py(){return my()||Er(!1),j.useContext(yv).location}function bF(e){j.useContext(rh).static||j.useLayoutEffect(e)}function Xr(){let{isDataRoute:e}=j.useContext(Xc);return e?rse():Gre()}function Gre(){my()||Er(!1);let e=j.useContext(DC),{basename:t,future:n,navigator:r}=j.useContext(rh),{matches:s}=j.useContext(Xc),{pathname:a}=py(),i=JSON.stringify(mF(s,n.v7_relativeSplatPath)),o=j.useRef(!1);return bF(()=>{o.current=!0}),j.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=pF(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Dc([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,a,e])}function gy(){let{matches:e}=j.useContext(Xc),t=e[e.length-1];return t?t.params:{}}function wF(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=j.useContext(rh),{matches:s}=j.useContext(Xc),{pathname:a}=py(),i=JSON.stringify(mF(s,r.v7_relativeSplatPath));return j.useMemo(()=>pF(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function qre(e,t){return Vre(e,t)}function Vre(e,t,n,r){my()||Er(!1);let{navigator:s}=j.useContext(rh),{matches:a}=j.useContext(Xc),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=py(),h;if(t){var f;let w=typeof t=="string"?Om(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Er(!1),h=w}else h=u;let p=h.pathname||"/",g=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=vre(e,{pathname:g}),y=Jre(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Dc([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Dc([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return t&&y?j.createElement(yv.Provider,{value:{location:jg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Oc.Pop}},y):y}function Kre(){let e=nse(),t=Ure(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:r},n):null,null)}const Zre=j.createElement(Kre,null);class Yre extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(Xc.Provider,{value:this.props.routeContext},j.createElement(yF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qre(e){let{routeContext:t,match:n,children:r}=e,s=j.useContext(DC);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Xc.Provider,{value:t},r)}function Jre(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if((a=n)!=null&&a.errors)e=n.matches;else return null}let i=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let h=i.findIndex(f=>f.route.id&&o?.[f.route.id]);h>=0||Er(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:g}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,p)=>{let g,b=!1,y=null,w=null;n&&(g=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||Zre,c&&(u<0&&p===0?(sse("route-fallback"),b=!0,w=null):u===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,p+1)),N=()=>{let A;return g?A=y:b?A=w:f.route.Component?A=j.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,j.createElement(Qre,{match:f,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?j.createElement(Yre,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):N()},null)}var xF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xF||{}),vF=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vF||{});function Xre(e){let t=j.useContext(DC);return t||Er(!1),t}function ese(e){let t=j.useContext(Hre);return t||Er(!1),t}function tse(e){let t=j.useContext(Xc);return t||Er(!1),t}function NF(e){let t=tse(),n=t.matches[t.matches.length-1];return n.route.id||Er(!1),n.route.id}function nse(){var e;let t=j.useContext(yF),n=ese(),r=NF();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function rse(){let{router:e}=Xre(xF.UseNavigateStable),t=NF(vF.UseNavigateStable),n=j.useRef(!1);return bF(()=>{n.current=!0}),j.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,jg({fromRouteId:t},s)))},[e,t])}const pI={};function sse(e,t,n){pI[e]||(pI[e]=!0)}function nr(e){Er(!1)}function ase(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Oc.Pop,navigator:a,static:i=!1,future:o}=e;my()&&Er(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:a,static:i,future:jg({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=Om(r));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:b="default"}=r,y=j.useMemo(()=>{let w=FC(h,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:b},navigationType:s}},[c,h,f,p,g,b,s]);return y==null?null:j.createElement(rh.Provider,{value:u},j.createElement(yv.Provider,{children:n,value:y}))}function ise(e){let{children:t,location:n}=e;return qre(Q2(t),n)}new Promise(()=>{});function Q2(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,s)=>{if(!j.isValidElement(r))return;let a=[...t,s];if(r.type===j.Fragment){n.push.apply(n,Q2(r.props.children,a));return}r.type!==nr&&Er(!1),!r.props.index||!r.props.children||Er(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Q2(r.props.children,a)),n.push(i)}),n}/**
* React Router DOM v6.22.3
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function J2(){return J2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J2.apply(this,arguments)}function ose(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function lse(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cse(e,t){return e.button===0&&(!t||t==="_self")&&!lse(e)}const use=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],dse="6";try{window.__reactRouterVersion=dse}catch{}const hse="startTransition",gI=kk[hse];function fse(e){let{basename:t,children:n,future:r,window:s}=e,a=j.useRef();a.current==null&&(a.current=bre({window:s,v5Compat:!0}));let i=a.current,[o,c]=j.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=j.useCallback(f=>{u&&gI?gI(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>i.listen(h),[i,h]),j.createElement(ase,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const mse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=j.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:s,replace:a,state:i,target:o,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=ose(e,use),{basename:p}=j.useContext(rh),g,b=!1;if(typeof c=="string"&&pse.test(c)&&(g=c,mse))try{let N=new URL(window.location.href),A=c.startsWith("//")?new URL(N.protocol+c):new URL(c),C=FC(A.pathname,p);A.origin===N.origin&&C!=null?c=C+A.search+A.hash:b=!0}catch{}let y=Wre(c,{relative:r}),w=gse(c,{replace:a,state:i,target:o,preventScrollReset:u,relative:r,unstable_viewTransition:h});function v(N){n&&n(N),N.defaultPrevented||w(N)}return j.createElement("a",J2({},f,{href:g||y,onClick:b||s?n:v,ref:t,target:o}))});var yI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yI||(yI={}));var bI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bI||(bI={}));function gse(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,unstable_viewTransition:o}=t===void 0?{}:t,c=Xr(),u=py(),h=wF(e,{relative:i});return j.useCallback(f=>{if(cse(f,n)){f.preventDefault();let p=r!==void 0?r:H1(u)===H1(h);c(e,{replace:p,state:s,preventScrollReset:a,relative:i,unstable_viewTransition:o})}},[u,c,h,r,s,n,e,a,i,o])}const W1={projectId:"24290d0dec9f291cdba39d39f76c1c33",chains:[{id:50312,name:"Somnia Testnet",nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},rpcUrls:{default:{http:["https://dream-rpc.somnia.network/"]},public:{http:["https://dream-rpc.somnia.network/"]}},blockExplorers:{default:{name:"Shannon Explorer",url:"https://shannon-explorer.somnia.network/"}},testnet:!0,chainNamespace:"eip155"}]},ow=W1.chains[0],yo=()=>{const{address:e,isConnected:t}=hQ(),n=JR(),{data:r}=XQ({address:e}),{disconnect:s}=sJ(),{connect:a,connectors:i}=nJ(),{switchChainAsync:o}=aJ(),[c,u]=j.useState(null),[h,f]=j.useState(!1),p=async(v,N)=>{if(!(!v||!N))try{f(!0);const A=await(await fetch("https://dream-rpc.somnia.network/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_getBalance",params:[v,"latest"],id:1})})).json();if(A.result){const C=BigInt(A.result),k=Number(C)/Math.pow(10,18);u(k.toFixed(4))}}catch(A){console.error("Failed to fetch balance:",A),u("0.00")}finally{f(!1)}};j.useEffect(()=>{e&&n?p(e,n):u(null)},[e,n]);const g=async v=>{try{if(console.log("[Wallet] switchNetwork requested:",v,"current:",n),n===v)return console.log("[Wallet] already on target chain"),{success:!0};if(typeof o=="function")try{return console.log("[Wallet] trying wagmi switchChainAsync"),await o({chainId:v,chain:ow}),console.log("[Wallet] wagmi switchChainAsync success"),{success:!0}}catch(N){console.warn("[Wallet] wagmi switchChainAsync error:",N?.message||N)}if(typeof window.ethereum<"u"){try{await window.ethereum.request({method:"eth_requestAccounts"})}catch{}try{return console.log("[Wallet] trying window.ethereum wallet_switchEthereumChain"),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${v.toString(16)}`}]}),console.log("[Wallet] window.ethereum switch success"),{success:!0}}catch(N){if(console.warn("[Wallet] window.ethereum switch error:",N?.code,N?.message||N),N.code===4902)try{return console.log("[Wallet] trying wallet_addEthereumChain"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${v.toString(16)}`,chainName:"Somnia Testnet",nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},rpcUrls:["https://dream-rpc.somnia.network/"],blockExplorerUrls:["https://shannon-explorer.somnia.network/"]}]}),await new Promise(A=>setTimeout(A,300)),console.log("[Wallet] addEthereumChain success, retrying wagmi switch"),typeof o=="function"?(await o({chainId:v,chain:ow}),{success:!0}):{success:!0}}catch(A){return console.error("Failed to add network:",A),{success:!1,error:A}}return{success:!1,error:N}}}return{success:!1,error:"No ethereum provider available"}}catch(N){return console.error("[Wallet] switchNetwork fatal error:",N),{success:!1,error:N}}},b=async v=>null,y=async v=>{try{console.log("[Wallet] connect requested",v);const N=v?.connectorId?i.find(A=>A.id===v.connectorId):v?.connectorName?i.find(A=>(A.name||"").toLowerCase().includes(String(v.connectorName).toLowerCase())):null;if(N){const A=await a({connector:N,chainId:ow.id});return console.log("[Wallet] connect via preferred result:",A),{success:!0,result:A}}if(i.length>0){const A=await a({connector:i[0],chainId:ow.id});return console.log("[Wallet] connect via fallback result:",A),{success:!0,result:A}}return{success:!1,error:new Error("No connectors available")}}catch(N){return console.error("Failed to connect:",N),{success:!1,error:N}}},w=async()=>{try{u(null),f(!1),s()}catch(v){throw console.error("Failed to disconnect:",v),v}};return{address:e,isConnected:t,chainId:n,isLoading:!1,connect:y,connectors:i,disconnect:w,switchNetwork:g,balance:c||(r?Number(r.value)/Math.pow(10,r.decimals):null),isLoadingBalance:h,getEnsName:b,reown:{appKitState:{initialized:!0},appKitNetwork:{chainId:n},appKitAccount:{address:e},appKitBalance:{balance:r},appKit:null,disconnectHook:{disconnect:w}}}},yse=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!0),[s,a]=j.useState(null),[i,o]=j.useState(0),c=()=>Date.now()-i>6e5,u=async(h=!1)=>{if(!h&&!c()&&e.length>0){console.log(" Using cached all collections data");return}try{console.log(" Fetching all collections from API...");const f=new AbortController,p=setTimeout(()=>f.abort(),1e4),g=await fetch("/api/active-collections",{method:"GET",headers:{"Content-Type":"application/json"},signal:f.signal});if(clearTimeout(p),!g.ok)throw g.status===404?new Error("Collections data not available yet. Please wait for the indexer to run."):g.status===429?new Error("Too many requests. Please wait a moment and try again."):new Error(`HTTP ${g.status}: ${g.statusText}`);const b=await g.json();console.log(" Received all collections from API:",{totalCollections:b.totalCollections,validCollections:b.validCollections,activeCollections:b.activeCollections,lastUpdate:b.lastUpdate,collections:b.collections.map(y=>({address:y.address,name:y.name,description:y.description,symbol:y.symbol,banner:y.banner,metadataBanner:y.metadata?.banner,cover:y.cover,hasBanner:!!(y.banner||y.metadata?.banner),hasCover:!!y.cover,nfts:y.nfts||[],hasNFTs:!!(y.nfts&&y.nfts.length>0),firstNFTImage:y.nfts&&y.nfts.length>0?y.nfts[0].image||y.nfts[0].image_url||y.nfts[0].media_url:null,nftsCount:y.nfts?.length||0,firstNFT:y.nfts?.[0]||null}))}),t(b.collections||[]),o(Date.now()),a(null)}catch(f){console.error(" Failed to fetch all collections:",f),f.name==="AbortError"?a("Request timeout. Please check your connection."):f.message.includes("Too many requests")?a("Server is busy. Please wait a moment and refresh."):a(f.message),e.length===0&&t([])}finally{r(!1)}};return j.useEffect(()=>{u(!0);const h=setInterval(()=>u(),6e5);return()=>clearInterval(h)},[]),{collections:j.useMemo(()=>e,[e]),loading:n,error:s,refetch:()=>u(!0)}},kF=j.createContext(),BC=()=>{const e=j.useContext(kF);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},bse=({children:e})=>{const[t,n]=j.useState(""),[r,s]=j.useState({priceRange:"all",supplyRange:"all",status:"all"}),[a,i]=j.useState(!1),[o,c]=j.useState({collections:[],nfts:[],isLoading:!1}),[u,h]=j.useState(!1),[f,p]=j.useState([]),{address:g,isConnected:b}=yo(),{collections:y}=yse();j.useEffect(()=>{y&&y.length>0&&console.log(" SearchContext received allCollections:",{total:y.length,sample:y.slice(0,3).map(I=>({name:I.name,nfts:I.nfts?.length||0,firstNFTImage:I.nfts?.[0]?.image,firstNFT:I.nfts?.[0]}))})},[y]);const w=j.useCallback((I,M)=>{if(!M||!I)return[];const W=M.toLowerCase(),z=I.filter(B=>B.name?.toLowerCase().includes(W)||B.description?.toLowerCase().includes(W)||B.symbol?.toLowerCase().includes(W));return z.length>0&&console.log(" SearchCollections results:",{term:M,total:z.length,sample:z.slice(0,3).map(B=>({name:B.name,nfts:B.nfts?.length||0,firstNFTImage:B.nfts?.[0]?.image,firstNFT:B.nfts?.[0]}))}),z},[]),v=j.useCallback((I,M)=>{if(!M||!I)return[];const W=M.toLowerCase(),z=I.filter(B=>B.metadata?.name?.toLowerCase().includes(W)||B.metadata?.description?.toLowerCase().includes(W)||B.collectionName?.toLowerCase().includes(W)||B.id?.toString().includes(W)||B.token?.name?.toLowerCase().includes(W)||B.token?.symbol?.toLowerCase().includes(W));return z.length>0&&console.log(" SearchNFTs results:",{term:M,total:z.length,sample:z.slice(0,3).map(B=>({id:B.id,name:B.metadata?.name,collectionName:B.collectionName,directImage:B.image,metadataImage:B.metadata?.image}))}),z},[]),N=j.useCallback(async()=>{if(!b||!g)return[];try{console.log(" Fetching user NFTs for search from API...");const I=await fetch(`https://somnia.w3us.site/api/v2/addresses/${g}/nft/collections?type=ERC-721%2CERC-404%2CERC-1155`);if(!I.ok)return console.warn("API response not ok:",I.status),[];const M=await I.json();if(!M.items||!Array.isArray(M.items))return console.warn("Invalid API response format"),[];let W=M.items.flatMap(B=>!B.token_instances||!Array.isArray(B.token_instances)?[]:B.token_instances.map(O=>({...O,id:O.id,collectionName:B.token?.name||"Unknown",collectionSymbol:B.token?.symbol||"",tokenType:B.token?.type||"ERC-721",token:B.token||{},isFactoryNFT:B.token?.address?.toLowerCase()==="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09".toLowerCase()})));if(W.length>0&&console.log(" fetchUserNFTs received NFTs:",{total:W.length,sample:W.slice(0,3).map(B=>({id:B.id,name:B.metadata?.name,collectionName:B.collectionName,directImage:B.image,metadataImage:B.metadata?.image}))}),!W||W.length===0)try{const B=await fetch(`https://somnia.w3us.site/api/v2/addresses/${g}/nft/tokens?type=ERC-721%2CERC-404%2CERC-1155`);if(B.ok){const O=await B.json();Array.isArray(O.items)&&(W=O.items.map(F=>({...F,id:F.id,collectionName:F.token?.name||"Unknown",collectionSymbol:F.token?.symbol||"",tokenType:F.token?.type||"ERC-721",token:F.token||{},isFactoryNFT:F.token?.address?.toLowerCase()==="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09".toLowerCase()})))}}catch(B){console.warn("Fallback token fetch failed:",B.message)}const z=W.filter((B,O,F)=>O===F.findIndex(G=>G.id===B.id&&G.token?.address===B.token?.address));return console.log(" Fetched user NFTs for search:",z.length),z}catch(I){return console.warn("Error fetching user NFTs for search:",I),[]}},[b,g]);j.useEffect(()=>{let I=!1;return(async()=>{try{if(b&&g){const M=await N();I||p(Array.isArray(M)?M:[])}else p([])}catch(M){console.warn("Failed to load user NFTs for search:",M?.message||M),I||p([])}})(),()=>{I=!0}},[b,g,N]);const A=j.useCallback(async I=>{if(!I||I.trim().length<2){c({collections:[],nfts:[],isLoading:!1});return}c(M=>({...M,isLoading:!0}));try{const M=w(y,I),W=v(f,I);console.log(" performSearch results:",{term:I,collections:{total:M.length,sample:M.slice(0,3).map(z=>({name:z.name,nfts:z.nfts?.length||0,firstNFTImage:z.nfts?.[0]?.image}))},nfts:{total:W.length,sample:W.slice(0,3).map(z=>({id:z.id,name:z.metadata?.name,collectionName:z.collectionName}))}}),c({collections:M,nfts:W,isLoading:!1})}catch(M){console.error("Search error:",M),c({collections:[],nfts:[],isLoading:!1})}},[y,f,w,v]),C=j.useCallback(I=>{n(I),I&&I.trim().length>=2?(console.log(" updateSearch called with term:",I),A(I),h(!0)):c({collections:[],nfts:[],isLoading:!1})},[A]);j.useCallback(()=>{console.log(" handleSearchFocus called, searchTerm:",t),t&&t.trim().length>=2&&h(!0)},[t]),j.useCallback(()=>{console.log(" handleSearchBlur called"),setTimeout(()=>{h(!1)},200)},[]),j.useCallback(()=>{console.log(" handleViewAllCollections called, collections:",o.collections.length),h(!1)},[o.collections.length]),j.useCallback(()=>{console.log(" handleViewAllNFTs called, nfts:",o.nfts.length),h(!1)},[o.nfts.length]),j.useCallback(I=>{console.log(" handleCollectionClick called for collection:",{name:I.name,address:I.address,nfts:I.nfts?.length||0,firstNFTImage:I.nfts?.[0]?.image}),h(!1)},[]),j.useCallback(I=>{console.log(" handleNFTClick called for NFT:",{id:I.id,name:I.metadata?.name,collectionName:I.collectionName,directImage:I.image,metadataImage:I.metadata?.image}),h(!1)},[]);const k=j.useCallback(I=>{console.log(" updateFilters called with:",I),s(M=>({...M,...I}))},[]);j.useCallback(()=>{console.log(" resetFilters called"),s({priceRange:"all",supplyRange:"all",status:"all"})},[]);const S=j.useCallback(()=>{console.log(" clearSearch called"),n(""),c({collections:[],nfts:[],isLoading:!1}),h(!1),i(!1)},[]),T=j.useCallback(()=>{h(!1)},[]);j.useCallback(()=>{console.log(" toggleSearch called, current state:",{isSearchActive:a,showSearchResults:u}),i(!a),a||h(!1)},[a]),j.useEffect(()=>{t.length>=2&&C(t)},[y,t,C]),j.useCallback(()=>{console.log(" getFilteredResults called with filters:",r);let I=o.collections,M=o.nfts;return r.priceRange!=="all"&&console.log(" Applying price filter:",r.priceRange),r.supplyRange!=="all"&&console.log(" Applying supply filter:",r.supplyRange),r.status!=="all"&&console.log(" Applying status filter:",r.status),{collections:I,nfts:M}},[o,r]),j.useCallback(()=>{console.log(" getSearchStats called");const I=o.collections.length+o.nfts.length,M=I>0;return console.log(" Search stats:",{totalResults:I,hasResults:M,collections:o.collections.length,nfts:o.nfts.length,isLoading:o.isLoading}),{totalResults:I,hasResults:M,collections:o.collections.length,nfts:o.nfts.length,isLoading:o.isLoading}},[o]),j.useCallback(I=>{if(!I||I.length<1)return[];console.log(" getSearchSuggestions called with:",I);const M=[];if(y){const W=y.filter(z=>z.name?.toLowerCase().includes(I.toLowerCase())).slice(0,3).map(z=>({type:"collection",name:z.name,description:z.description,image:z.nfts?.[0]?.image||z.cover}));M.push(...W),console.log(" Collection suggestions:",W)}if(f){const W=f.filter(z=>z.metadata?.name?.toLowerCase().includes(I.toLowerCase())).slice(0,2).map(z=>({type:"nft",name:z.metadata?.name,description:z.collectionName,image:z.image||z.metadata?.image}));M.push(...W),console.log(" NFT suggestions:",W)}return console.log(" Total suggestions:",M.length),M},[y,f]),j.useCallback(()=>{console.log(" getSearchHistory called");const I=[];return console.log(" Search history:",I),I},[]),j.useCallback(I=>{console.log(" addRecentSearch called with:",I),console.log(" Adding recent search:",I)},[]),j.useCallback(()=>{console.log(" clearRecentSearches called"),console.log(" Clearing recent searches")},[]);const P={searchTerm:t,filters:r,isSearchActive:a,searchResults:o,showSearchResults:u,updateSearch:C,updateFilters:k,clearSearch:S,hideSearchResults:T};return l.jsx(kF.Provider,{value:P,children:e})};var wI={},$p={},xI;function wse(){if(xI)return $p;xI=1,$p.byteLength=o,$p.toByteArray=u,$p.fromByteArray=p;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=r.length;s<a;++s)e[s]=r[s],t[r.charCodeAt(s)]=s;t[45]=62,t[95]=63;function i(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");y===-1&&(y=b);var w=y===b?0:4-y%4;return[y,w]}function o(g){var b=i(g),y=b[0],w=b[1];return(y+w)*3/4-w}function c(g,b,y){return(b+y)*3/4-y}function u(g){var b,y=i(g),w=y[0],v=y[1],N=new n(c(g,w,v)),A=0,C=v>0?w-4:w,k;for(k=0;k<C;k+=4)b=t[g.charCodeAt(k)]<<18|t[g.charCodeAt(k+1)]<<12|t[g.charCodeAt(k+2)]<<6|t[g.charCodeAt(k+3)],N[A++]=b>>16&255,N[A++]=b>>8&255,N[A++]=b&255;return v===2&&(b=t[g.charCodeAt(k)]<<2|t[g.charCodeAt(k+1)]>>4,N[A++]=b&255),v===1&&(b=t[g.charCodeAt(k)]<<10|t[g.charCodeAt(k+1)]<<4|t[g.charCodeAt(k+2)]>>2,N[A++]=b>>8&255,N[A++]=b&255),N}function h(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function f(g,b,y){for(var w,v=[],N=b;N<y;N+=3)w=(g[N]<<16&16711680)+(g[N+1]<<8&65280)+(g[N+2]&255),v.push(h(w));return v.join("")}function p(g){for(var b,y=g.length,w=y%3,v=[],N=16383,A=0,C=y-w;A<C;A+=N)v.push(f(g,A,A+N>C?C:A+N));return w===1?(b=g[y-1],v.push(e[b>>2]+e[b<<4&63]+"==")):w===2&&(b=(g[y-2]<<8)+g[y-1],v.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),v.join("")}return $p}var b4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var vI;function xse(){return vI||(vI=1,b4.read=function(e,t,n,r,s){var a,i,o=s*8-r-1,c=(1<<o)-1,u=c>>1,h=-7,f=n?s-1:0,p=n?-1:1,g=e[t+f];for(f+=p,a=g&(1<<-h)-1,g>>=-h,h+=o;h>0;a=a*256+e[t+f],f+=p,h-=8);for(i=a&(1<<-h)-1,a>>=-h,h+=r;h>0;i=i*256+e[t+f],f+=p,h-=8);if(a===0)a=1-u;else{if(a===c)return i?NaN:(g?-1:1)*(1/0);i=i+Math.pow(2,r),a=a-u}return(g?-1:1)*i*Math.pow(2,a-r)},b4.write=function(e,t,n,r,s,a){var i,o,c,u=a*8-s-1,h=(1<<u)-1,f=h>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:a-1,b=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=h):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),i+f>=1?t+=p/c:t+=p*Math.pow(2,1-f),t*c>=2&&(i++,c/=2),i+f>=h?(o=0,i=h):i+f>=1?(o=(t*c-1)*Math.pow(2,s),i=i+f):(o=t*Math.pow(2,f-1)*Math.pow(2,s),i=0));s>=8;e[n+g]=o&255,g+=b,o/=256,s-=8);for(i=i<<s|o,u+=s;u>0;e[n+g]=i&255,g+=b,i/=256,u-=8);e[n+g-b]|=y*128}),b4}/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/var NI;function bv(){return NI||(NI=1,function(e){const t=wse(),n=xse(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const _=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(_,D),_.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function i(_){if(_>s)throw new RangeError('The value "'+_+'" is invalid for option "size"');const D=new Uint8Array(_);return Object.setPrototypeOf(D,o.prototype),D}function o(_,D,q){if(typeof _=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(_)}return c(_,D,q)}o.poolSize=8192;function c(_,D,q){if(typeof _=="string")return p(_,D);if(ArrayBuffer.isView(_))return b(_);if(_==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _);if(be(_,ArrayBuffer)||_&&be(_.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(_,SharedArrayBuffer)||_&&be(_.buffer,SharedArrayBuffer)))return y(_,D,q);if(typeof _=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=_.valueOf&&_.valueOf();if(le!=null&&le!==_)return o.from(le,D,q);const ge=w(_);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof _[Symbol.toPrimitive]=="function")return o.from(_[Symbol.toPrimitive]("string"),D,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof _)}o.from=function(_,D,q){return c(_,D,q)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(_){if(typeof _!="number")throw new TypeError('"size" argument must be of type number');if(_<0)throw new RangeError('The value "'+_+'" is invalid for option "size"')}function h(_,D,q){return u(_),_<=0?i(_):D!==void 0?typeof q=="string"?i(_).fill(D,q):i(_).fill(D):i(_)}o.alloc=function(_,D,q){return h(_,D,q)};function f(_){return u(_),i(_<0?0:v(_)|0)}o.allocUnsafe=function(_){return f(_)},o.allocUnsafeSlow=function(_){return f(_)};function p(_,D){if((typeof D!="string"||D==="")&&(D="utf8"),!o.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const q=A(_,D)|0;let le=i(q);const ge=le.write(_,D);return ge!==q&&(le=le.slice(0,ge)),le}function g(_){const D=_.length<0?0:v(_.length)|0,q=i(D);for(let le=0;le<D;le+=1)q[le]=_[le]&255;return q}function b(_){if(be(_,Uint8Array)){const D=new Uint8Array(_);return y(D.buffer,D.byteOffset,D.byteLength)}return g(_)}function y(_,D,q){if(D<0||_.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(_.byteLength<D+(q||0))throw new RangeError('"length" is outside of buffer bounds');let le;return D===void 0&&q===void 0?le=new Uint8Array(_):q===void 0?le=new Uint8Array(_,D):le=new Uint8Array(_,D,q),Object.setPrototypeOf(le,o.prototype),le}function w(_){if(o.isBuffer(_)){const D=v(_.length)|0,q=i(D);return q.length===0||_.copy(q,0,0,D),q}if(_.length!==void 0)return typeof _.length!="number"||Be(_.length)?i(0):g(_);if(_.type==="Buffer"&&Array.isArray(_.data))return g(_.data)}function v(_){if(_>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return _|0}function N(_){return+_!=_&&(_=0),o.alloc(+_)}o.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==o.prototype},o.compare=function(_,D){if(be(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),be(D,Uint8Array)&&(D=o.from(D,D.offset,D.byteLength)),!o.isBuffer(_)||!o.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===D)return 0;let q=_.length,le=D.length;for(let ge=0,Ce=Math.min(q,le);ge<Ce;++ge)if(_[ge]!==D[ge]){q=_[ge],le=D[ge];break}return q<le?-1:le<q?1:0},o.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(_,D){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return o.alloc(0);let q;if(D===void 0)for(D=0,q=0;q<_.length;++q)D+=_[q].length;const le=o.allocUnsafe(D);let ge=0;for(q=0;q<_.length;++q){let Ce=_[q];if(be(Ce,Uint8Array))ge+Ce.length>le.length?(o.isBuffer(Ce)||(Ce=o.from(Ce)),Ce.copy(le,ge)):Uint8Array.prototype.set.call(le,Ce,ge);else if(o.isBuffer(Ce))Ce.copy(le,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=Ce.length}return le};function A(_,D){if(o.isBuffer(_))return _.length;if(ArrayBuffer.isView(_)||be(_,ArrayBuffer))return _.byteLength;if(typeof _!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof _);const q=_.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&q===0)return 0;let ge=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return ne(_).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return Ie(_).length;default:if(ge)return le?-1:ne(_).length;D=(""+D).toLowerCase(),ge=!0}}o.byteLength=A;function C(_,D,q){let le=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,D>>>=0,q<=D))return"";for(_||(_="utf8");;)switch(_){case"hex":return Z(this,D,q);case"utf8":case"utf-8":return O(this,D,q);case"ascii":return K(this,D,q);case"latin1":case"binary":return $(this,D,q);case"base64":return B(this,D,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,D,q);default:if(le)throw new TypeError("Unknown encoding: "+_);_=(_+"").toLowerCase(),le=!0}}o.prototype._isBuffer=!0;function k(_,D,q){const le=_[D];_[D]=_[q],_[q]=le}o.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let D=0;D<_;D+=2)k(this,D,D+1);return this},o.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let D=0;D<_;D+=4)k(this,D,D+3),k(this,D+1,D+2);return this},o.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let D=0;D<_;D+=8)k(this,D,D+7),k(this,D+1,D+6),k(this,D+2,D+5),k(this,D+3,D+4);return this},o.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?O(this,0,_):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(_){if(!o.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:o.compare(this,_)===0},o.prototype.inspect=function(){let _="";const D=e.INSPECT_MAX_BYTES;return _=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(_+=" ... "),"<Buffer "+_+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(_,D,q,le,ge){if(be(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),!o.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(D===void 0&&(D=0),q===void 0&&(q=_?_.length:0),le===void 0&&(le=0),ge===void 0&&(ge=this.length),D<0||q>_.length||le<0||ge>this.length)throw new RangeError("out of range index");if(le>=ge&&D>=q)return 0;if(le>=ge)return-1;if(D>=q)return 1;if(D>>>=0,q>>>=0,le>>>=0,ge>>>=0,this===_)return 0;let Ce=ge-le,Se=q-D;const rt=Math.min(Ce,Se),kt=this.slice(le,ge),ot=_.slice(D,q);for(let Ct=0;Ct<rt;++Ct)if(kt[Ct]!==ot[Ct]){Ce=kt[Ct],Se=ot[Ct];break}return Ce<Se?-1:Se<Ce?1:0};function S(_,D,q,le,ge){if(_.length===0)return-1;if(typeof q=="string"?(le=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,Be(q)&&(q=ge?0:_.length-1),q<0&&(q=_.length+q),q>=_.length){if(ge)return-1;q=_.length-1}else if(q<0)if(ge)q=0;else return-1;if(typeof D=="string"&&(D=o.from(D,le)),o.isBuffer(D))return D.length===0?-1:T(_,D,q,le,ge);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(_,D,q):Uint8Array.prototype.lastIndexOf.call(_,D,q):T(_,[D],q,le,ge);throw new TypeError("val must be string, number or Buffer")}function T(_,D,q,le,ge){let Ce=1,Se=_.length,rt=D.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(_.length<2||D.length<2)return-1;Ce=2,Se/=2,rt/=2,q/=2}function kt(Ct,nt){return Ce===1?Ct[nt]:Ct.readUInt16BE(nt*Ce)}let ot;if(ge){let Ct=-1;for(ot=q;ot<Se;ot++)if(kt(_,ot)===kt(D,Ct===-1?0:ot-Ct)){if(Ct===-1&&(Ct=ot),ot-Ct+1===rt)return Ct*Ce}else Ct!==-1&&(ot-=ot-Ct),Ct=-1}else for(q+rt>Se&&(q=Se-rt),ot=q;ot>=0;ot--){let Ct=!0;for(let nt=0;nt<rt;nt++)if(kt(_,ot+nt)!==kt(D,nt)){Ct=!1;break}if(Ct)return ot}return-1}o.prototype.includes=function(_,D,q){return this.indexOf(_,D,q)!==-1},o.prototype.indexOf=function(_,D,q){return S(this,_,D,q,!0)},o.prototype.lastIndexOf=function(_,D,q){return S(this,_,D,q,!1)};function P(_,D,q,le){q=Number(q)||0;const ge=_.length-q;le?(le=Number(le),le>ge&&(le=ge)):le=ge;const Ce=D.length;le>Ce/2&&(le=Ce/2);let Se;for(Se=0;Se<le;++Se){const rt=parseInt(D.substr(Se*2,2),16);if(Be(rt))return Se;_[q+Se]=rt}return Se}function I(_,D,q,le){return je(ne(D,_.length-q),_,q,le)}function M(_,D,q,le){return je(se(D),_,q,le)}function W(_,D,q,le){return je(Ie(D),_,q,le)}function z(_,D,q,le){return je(fe(D,_.length-q),_,q,le)}o.prototype.write=function(_,D,q,le){if(D===void 0)le="utf8",q=this.length,D=0;else if(q===void 0&&typeof D=="string")le=D,q=this.length,D=0;else if(isFinite(D))D=D>>>0,isFinite(q)?(q=q>>>0,le===void 0&&(le="utf8")):(le=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-D;if((q===void 0||q>ge)&&(q=ge),_.length>0&&(q<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Ce=!1;for(;;)switch(le){case"hex":return P(this,_,D,q);case"utf8":case"utf-8":return I(this,_,D,q);case"ascii":case"latin1":case"binary":return M(this,_,D,q);case"base64":return W(this,_,D,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,_,D,q);default:if(Ce)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Ce=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(_,D,q){return D===0&&q===_.length?t.fromByteArray(_):t.fromByteArray(_.slice(D,q))}function O(_,D,q){q=Math.min(_.length,q);const le=[];let ge=D;for(;ge<q;){const Ce=_[ge];let Se=null,rt=Ce>239?4:Ce>223?3:Ce>191?2:1;if(ge+rt<=q){let kt,ot,Ct,nt;switch(rt){case 1:Ce<128&&(Se=Ce);break;case 2:kt=_[ge+1],(kt&192)===128&&(nt=(Ce&31)<<6|kt&63,nt>127&&(Se=nt));break;case 3:kt=_[ge+1],ot=_[ge+2],(kt&192)===128&&(ot&192)===128&&(nt=(Ce&15)<<12|(kt&63)<<6|ot&63,nt>2047&&(nt<55296||nt>57343)&&(Se=nt));break;case 4:kt=_[ge+1],ot=_[ge+2],Ct=_[ge+3],(kt&192)===128&&(ot&192)===128&&(Ct&192)===128&&(nt=(Ce&15)<<18|(kt&63)<<12|(ot&63)<<6|Ct&63,nt>65535&&nt<1114112&&(Se=nt))}}Se===null?(Se=65533,rt=1):Se>65535&&(Se-=65536,le.push(Se>>>10&1023|55296),Se=56320|Se&1023),le.push(Se),ge+=rt}return G(le)}const F=4096;function G(_){const D=_.length;if(D<=F)return String.fromCharCode.apply(String,_);let q="",le=0;for(;le<D;)q+=String.fromCharCode.apply(String,_.slice(le,le+=F));return q}function K(_,D,q){let le="";q=Math.min(_.length,q);for(let ge=D;ge<q;++ge)le+=String.fromCharCode(_[ge]&127);return le}function $(_,D,q){let le="";q=Math.min(_.length,q);for(let ge=D;ge<q;++ge)le+=String.fromCharCode(_[ge]);return le}function Z(_,D,q){const le=_.length;(!D||D<0)&&(D=0),(!q||q<0||q>le)&&(q=le);let ge="";for(let Ce=D;Ce<q;++Ce)ge+=Me[_[Ce]];return ge}function ee(_,D,q){const le=_.slice(D,q);let ge="";for(let Ce=0;Ce<le.length-1;Ce+=2)ge+=String.fromCharCode(le[Ce]+le[Ce+1]*256);return ge}o.prototype.slice=function(_,D){const q=this.length;_=~~_,D=D===void 0?q:~~D,_<0?(_+=q,_<0&&(_=0)):_>q&&(_=q),D<0?(D+=q,D<0&&(D=0)):D>q&&(D=q),D<_&&(D=_);const le=this.subarray(_,D);return Object.setPrototypeOf(le,o.prototype),le};function L(_,D,q){if(_%1!==0||_<0)throw new RangeError("offset is not uint");if(_+D>q)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(_,D,q){_=_>>>0,D=D>>>0,q||L(_,D,this.length);let le=this[_],ge=1,Ce=0;for(;++Ce<D&&(ge*=256);)le+=this[_+Ce]*ge;return le},o.prototype.readUintBE=o.prototype.readUIntBE=function(_,D,q){_=_>>>0,D=D>>>0,q||L(_,D,this.length);let le=this[_+--D],ge=1;for(;D>0&&(ge*=256);)le+=this[_+--D]*ge;return le},o.prototype.readUint8=o.prototype.readUInt8=function(_,D){return _=_>>>0,D||L(_,1,this.length),this[_]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(_,D){return _=_>>>0,D||L(_,2,this.length),this[_]|this[_+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(_,D){return _=_>>>0,D||L(_,2,this.length),this[_]<<8|this[_+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(_,D){return _=_>>>0,D||L(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(_,D){return _=_>>>0,D||L(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},o.prototype.readBigUInt64LE=ze(function(_){_=_>>>0,Re(_,"offset");const D=this[_],q=this[_+7];(D===void 0||q===void 0)&&H(_,this.length-8);const le=D+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ge=this[++_]+this[++_]*2**8+this[++_]*2**16+q*2**24;return BigInt(le)+(BigInt(ge)<<BigInt(32))}),o.prototype.readBigUInt64BE=ze(function(_){_=_>>>0,Re(_,"offset");const D=this[_],q=this[_+7];(D===void 0||q===void 0)&&H(_,this.length-8);const le=D*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ge=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+q;return(BigInt(le)<<BigInt(32))+BigInt(ge)}),o.prototype.readIntLE=function(_,D,q){_=_>>>0,D=D>>>0,q||L(_,D,this.length);let le=this[_],ge=1,Ce=0;for(;++Ce<D&&(ge*=256);)le+=this[_+Ce]*ge;return ge*=128,le>=ge&&(le-=Math.pow(2,8*D)),le},o.prototype.readIntBE=function(_,D,q){_=_>>>0,D=D>>>0,q||L(_,D,this.length);let le=D,ge=1,Ce=this[_+--le];for(;le>0&&(ge*=256);)Ce+=this[_+--le]*ge;return ge*=128,Ce>=ge&&(Ce-=Math.pow(2,8*D)),Ce},o.prototype.readInt8=function(_,D){return _=_>>>0,D||L(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},o.prototype.readInt16LE=function(_,D){_=_>>>0,D||L(_,2,this.length);const q=this[_]|this[_+1]<<8;return q&32768?q|4294901760:q},o.prototype.readInt16BE=function(_,D){_=_>>>0,D||L(_,2,this.length);const q=this[_+1]|this[_]<<8;return q&32768?q|4294901760:q},o.prototype.readInt32LE=function(_,D){return _=_>>>0,D||L(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},o.prototype.readInt32BE=function(_,D){return _=_>>>0,D||L(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},o.prototype.readBigInt64LE=ze(function(_){_=_>>>0,Re(_,"offset");const D=this[_],q=this[_+7];(D===void 0||q===void 0)&&H(_,this.length-8);const le=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(q<<24);return(BigInt(le)<<BigInt(32))+BigInt(D+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),o.prototype.readBigInt64BE=ze(function(_){_=_>>>0,Re(_,"offset");const D=this[_],q=this[_+7];(D===void 0||q===void 0)&&H(_,this.length-8);const le=(D<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(le)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+q)}),o.prototype.readFloatLE=function(_,D){return _=_>>>0,D||L(_,4,this.length),n.read(this,_,!0,23,4)},o.prototype.readFloatBE=function(_,D){return _=_>>>0,D||L(_,4,this.length),n.read(this,_,!1,23,4)},o.prototype.readDoubleLE=function(_,D){return _=_>>>0,D||L(_,8,this.length),n.read(this,_,!0,52,8)},o.prototype.readDoubleBE=function(_,D){return _=_>>>0,D||L(_,8,this.length),n.read(this,_,!1,52,8)};function V(_,D,q,le,ge,Ce){if(!o.isBuffer(_))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ge||D<Ce)throw new RangeError('"value" argument is out of bounds');if(q+le>_.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(_,D,q,le){if(_=+_,D=D>>>0,q=q>>>0,!le){const Se=Math.pow(2,8*q)-1;V(this,_,D,q,Se,0)}let ge=1,Ce=0;for(this[D]=_&255;++Ce<q&&(ge*=256);)this[D+Ce]=_/ge&255;return D+q},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(_,D,q,le){if(_=+_,D=D>>>0,q=q>>>0,!le){const Se=Math.pow(2,8*q)-1;V(this,_,D,q,Se,0)}let ge=q-1,Ce=1;for(this[D+ge]=_&255;--ge>=0&&(Ce*=256);)this[D+ge]=_/Ce&255;return D+q},o.prototype.writeUint8=o.prototype.writeUInt8=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,1,255,0),this[D]=_&255,D+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,2,65535,0),this[D]=_&255,this[D+1]=_>>>8,D+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,2,65535,0),this[D]=_>>>8,this[D+1]=_&255,D+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,4,4294967295,0),this[D+3]=_>>>24,this[D+2]=_>>>16,this[D+1]=_>>>8,this[D]=_&255,D+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,4,4294967295,0),this[D]=_>>>24,this[D+1]=_>>>16,this[D+2]=_>>>8,this[D+3]=_&255,D+4};function Q(_,D,q,le,ge){Ne(D,le,ge,_,q,7);let Ce=Number(D&BigInt(4294967295));_[q++]=Ce,Ce=Ce>>8,_[q++]=Ce,Ce=Ce>>8,_[q++]=Ce,Ce=Ce>>8,_[q++]=Ce;let Se=Number(D>>BigInt(32)&BigInt(4294967295));return _[q++]=Se,Se=Se>>8,_[q++]=Se,Se=Se>>8,_[q++]=Se,Se=Se>>8,_[q++]=Se,q}function Y(_,D,q,le,ge){Ne(D,le,ge,_,q,7);let Ce=Number(D&BigInt(4294967295));_[q+7]=Ce,Ce=Ce>>8,_[q+6]=Ce,Ce=Ce>>8,_[q+5]=Ce,Ce=Ce>>8,_[q+4]=Ce;let Se=Number(D>>BigInt(32)&BigInt(4294967295));return _[q+3]=Se,Se=Se>>8,_[q+2]=Se,Se=Se>>8,_[q+1]=Se,Se=Se>>8,_[q]=Se,q+8}o.prototype.writeBigUInt64LE=ze(function(_,D=0){return Q(this,_,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ze(function(_,D=0){return Y(this,_,D,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(_,D,q,le){if(_=+_,D=D>>>0,!le){const rt=Math.pow(2,8*q-1);V(this,_,D,q,rt-1,-rt)}let ge=0,Ce=1,Se=0;for(this[D]=_&255;++ge<q&&(Ce*=256);)_<0&&Se===0&&this[D+ge-1]!==0&&(Se=1),this[D+ge]=(_/Ce>>0)-Se&255;return D+q},o.prototype.writeIntBE=function(_,D,q,le){if(_=+_,D=D>>>0,!le){const rt=Math.pow(2,8*q-1);V(this,_,D,q,rt-1,-rt)}let ge=q-1,Ce=1,Se=0;for(this[D+ge]=_&255;--ge>=0&&(Ce*=256);)_<0&&Se===0&&this[D+ge+1]!==0&&(Se=1),this[D+ge]=(_/Ce>>0)-Se&255;return D+q},o.prototype.writeInt8=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,1,127,-128),_<0&&(_=255+_+1),this[D]=_&255,D+1},o.prototype.writeInt16LE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,2,32767,-32768),this[D]=_&255,this[D+1]=_>>>8,D+2},o.prototype.writeInt16BE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,2,32767,-32768),this[D]=_>>>8,this[D+1]=_&255,D+2},o.prototype.writeInt32LE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,4,2147483647,-2147483648),this[D]=_&255,this[D+1]=_>>>8,this[D+2]=_>>>16,this[D+3]=_>>>24,D+4},o.prototype.writeInt32BE=function(_,D,q){return _=+_,D=D>>>0,q||V(this,_,D,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[D]=_>>>24,this[D+1]=_>>>16,this[D+2]=_>>>8,this[D+3]=_&255,D+4},o.prototype.writeBigInt64LE=ze(function(_,D=0){return Q(this,_,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ze(function(_,D=0){return Y(this,_,D,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(_,D,q,le,ge,Ce){if(q+le>_.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function ue(_,D,q,le,ge){return D=+D,q=q>>>0,ge||ae(_,D,q,4),n.write(_,D,q,le,23,4),q+4}o.prototype.writeFloatLE=function(_,D,q){return ue(this,_,D,!0,q)},o.prototype.writeFloatBE=function(_,D,q){return ue(this,_,D,!1,q)};function re(_,D,q,le,ge){return D=+D,q=q>>>0,ge||ae(_,D,q,8),n.write(_,D,q,le,52,8),q+8}o.prototype.writeDoubleLE=function(_,D,q){return re(this,_,D,!0,q)},o.prototype.writeDoubleBE=function(_,D,q){return re(this,_,D,!1,q)},o.prototype.copy=function(_,D,q,le){if(!o.isBuffer(_))throw new TypeError("argument should be a Buffer");if(q||(q=0),!le&&le!==0&&(le=this.length),D>=_.length&&(D=_.length),D||(D=0),le>0&&le<q&&(le=q),le===q||_.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),_.length-D<le-q&&(le=_.length-D+q);const ge=le-q;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(D,q,le):Uint8Array.prototype.set.call(_,this.subarray(q,le),D),ge},o.prototype.fill=function(_,D,q,le){if(typeof _=="string"){if(typeof D=="string"?(le=D,D=0,q=this.length):typeof q=="string"&&(le=q,q=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!o.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(_.length===1){const Ce=_.charCodeAt(0);(le==="utf8"&&Ce<128||le==="latin1")&&(_=Ce)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(D<0||this.length<D||this.length<q)throw new RangeError("Out of range index");if(q<=D)return this;D=D>>>0,q=q===void 0?this.length:q>>>0,_||(_=0);let ge;if(typeof _=="number")for(ge=D;ge<q;++ge)this[ge]=_;else{const Ce=o.isBuffer(_)?_:o.from(_,le),Se=Ce.length;if(Se===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ge=0;ge<q-D;++ge)this[ge+D]=Ce[ge%Se]}return this};const ie={};function pe(_,D,q){ie[_]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${_}]`,this.stack,delete this.name}get code(){return _}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${_}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(_){return _?`${_} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(_,D){return`The "${_}" argument must be of type number. Received type ${typeof D}`},TypeError),pe("ERR_OUT_OF_RANGE",function(_,D,q){let le=`The value of "${_}" is out of range.`,ge=q;return Number.isInteger(q)&&Math.abs(q)>2**32?ge=oe(String(q)):typeof q=="bigint"&&(ge=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(ge=oe(ge)),ge+="n"),le+=` It must be ${D}. Received ${ge}`,le},RangeError);function oe(_){let D="",q=_.length;const le=_[0]==="-"?1:0;for(;q>=le+4;q-=3)D=`_${_.slice(q-3,q)}${D}`;return`${_.slice(0,q)}${D}`}function he(_,D,q){Re(D,"offset"),(_[D]===void 0||_[D+q]===void 0)&&H(D,_.length-(q+1))}function Ne(_,D,q,le,ge,Ce){if(_>q||_<D){const Se=typeof D=="bigint"?"n":"";let rt;throw D===0||D===BigInt(0)?rt=`>= 0${Se} and < 2${Se} ** ${(Ce+1)*8}${Se}`:rt=`>= -(2${Se} ** ${(Ce+1)*8-1}${Se}) and < 2 ** ${(Ce+1)*8-1}${Se}`,new ie.ERR_OUT_OF_RANGE("value",rt,_)}he(le,ge,Ce)}function Re(_,D){if(typeof _!="number")throw new ie.ERR_INVALID_ARG_TYPE(D,"number",_)}function H(_,D,q){throw Math.floor(_)!==_?(Re(_,q),new ie.ERR_OUT_OF_RANGE("offset","an integer",_)):D<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,_)}const ye=/[^+/0-9A-Za-z-_]/g;function ce(_){if(_=_.split("=")[0],_=_.trim().replace(ye,""),_.length<2)return"";for(;_.length%4!==0;)_=_+"=";return _}function ne(_,D){D=D||1/0;let q;const le=_.length;let ge=null;const Ce=[];for(let Se=0;Se<le;++Se){if(q=_.charCodeAt(Se),q>55295&&q<57344){if(!ge){if(q>56319){(D-=3)>-1&&Ce.push(239,191,189);continue}else if(Se+1===le){(D-=3)>-1&&Ce.push(239,191,189);continue}ge=q;continue}if(q<56320){(D-=3)>-1&&Ce.push(239,191,189),ge=q;continue}q=(ge-55296<<10|q-56320)+65536}else ge&&(D-=3)>-1&&Ce.push(239,191,189);if(ge=null,q<128){if((D-=1)<0)break;Ce.push(q)}else if(q<2048){if((D-=2)<0)break;Ce.push(q>>6|192,q&63|128)}else if(q<65536){if((D-=3)<0)break;Ce.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((D-=4)<0)break;Ce.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return Ce}function se(_){const D=[];for(let q=0;q<_.length;++q)D.push(_.charCodeAt(q)&255);return D}function fe(_,D){let q,le,ge;const Ce=[];for(let Se=0;Se<_.length&&!((D-=2)<0);++Se)q=_.charCodeAt(Se),le=q>>8,ge=q%256,Ce.push(ge),Ce.push(le);return Ce}function Ie(_){return t.toByteArray(ce(_))}function je(_,D,q,le){let ge;for(ge=0;ge<le&&!(ge+q>=D.length||ge>=_.length);++ge)D[ge+q]=_[ge];return ge}function be(_,D){return _ instanceof D||_!=null&&_.constructor!=null&&_.constructor.name!=null&&_.constructor.name===D.name}function Be(_){return _!==_}const Me=function(){const _="0123456789abcdef",D=new Array(256);for(let q=0;q<16;++q){const le=q*16;for(let ge=0;ge<16;++ge)D[le+ge]=_[q]+_[ge]}return D}();function ze(_){return typeof BigInt>"u"?we:_}function we(){throw new Error("BigInt not supported")}}(wI)),wI}const vse=Symbol(),kI=Object.getPrototypeOf,X2=new WeakMap,Nse=e=>e&&(X2.has(e)?X2.get(e):kI(e)===Object.prototype||kI(e)===Array.prototype),kse=e=>Nse(e)&&e[vse]||null,CI=(e,t=!0)=>{X2.set(e,t)},G1={},LC=e=>typeof e=="object"&&e!==null,Cse=e=>LC(e)&&!yy.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),CF=(e,t)=>{const n=e6.get(e);if(n?.[0]===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return CI(r,!0),e6.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const a=Reflect.get(e,s),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,s),o={value:a,enumerable:i,configurable:!0};if(yy.has(a))CI(a,!1);else if(Wc.has(a)){const[c,u]=Wc.get(a);o.value=CF(c,u())}Object.defineProperty(r,s,o)}),Object.preventExtensions(r)},Ese=(e,t,n,r)=>({deleteProperty(s,a){const i=Reflect.get(s,a);n(a);const o=Reflect.deleteProperty(s,a);return o&&r(["delete",[a],i]),o},set(s,a,i,o){const c=!e()&&Reflect.has(s,a),u=Reflect.get(s,a,o);if(c&&(EI(u,i)||_g.has(i)&&EI(u,_g.get(i))))return!0;n(a),LC(i)&&(i=kse(i)||i);const h=!Wc.has(i)&&Sse(i)?qn(i):i;return t(a,h),Reflect.set(s,a,h,o),r(["set",[a],i,u]),!0}}),Wc=new WeakMap,yy=new WeakSet,e6=new WeakMap,W0=[1,1],_g=new WeakMap;let EI=Object.is,Ase=(e,t)=>new Proxy(e,t),Sse=Cse,jse=CF,_se=Ese;function qn(e={}){if(!LC(e))throw new Error("object required");const t=_g.get(e);if(t)return t;let n=W0[0];const r=new Set,s=(w,v=++W0[0])=>{n!==v&&(n=v,r.forEach(N=>N(w,v)))};let a=W0[1];const i=(w=++W0[1])=>(a!==w&&!r.size&&(a=w,c.forEach(([v])=>{const N=v[1](w);N>n&&(n=N)})),n),o=w=>(v,N)=>{const A=[...v];A[1]=[w,...A[1]],s(A,N)},c=new Map,u=(w,v)=>{const N=!yy.has(v)&&Wc.get(v);if(N){if((G1?"production":void 0)!=="production"&&c.has(w))throw new Error("prop listener already exists");if(r.size){const A=N[2](o(w));c.set(w,[N,A])}else c.set(w,[N])}},h=w=>{var v;const N=c.get(w);N&&(c.delete(w),(v=N[1])==null||v.call(N))},f=w=>(r.add(w),r.size===1&&c.forEach(([v,N],A)=>{if((G1?"production":void 0)!=="production"&&N)throw new Error("remove already exists");const C=v[2](o(A));c.set(A,[v,C])}),()=>{r.delete(w),r.size===0&&c.forEach(([v,N],A)=>{N&&(N(),c.set(A,[v]))})});let p=!0;const g=_se(()=>p,u,h,s),b=Ase(e,g);_g.set(e,b);const y=[e,i,f];return Wc.set(b,y),Reflect.ownKeys(e).forEach(w=>{const v=Object.getOwnPropertyDescriptor(e,w);"value"in v&&v.writable&&(b[w]=e[w])}),p=!1,b}function Ks(e,t,n){const r=Wc.get(e);(G1?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const a=[],i=r[2];let o=!1;const c=i(u=>{a.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,o&&t(a.splice(0))}))});return o=!0,()=>{o=!1,c()}}function Ig(e){const t=Wc.get(e);(G1?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return jse(n,r())}function lm(e){return yy.add(e),e}function Ise(){return{proxyStateMap:Wc,refSet:yy,snapCache:e6,versionHolder:W0,proxyCache:_g}}function Ss(e,t,n,r){let s=e[t];return Ks(e,()=>{const a=e[t];Object.is(s,a)||n(s=a)})}const{proxyStateMap:Tse,snapCache:Pse}=Ise(),lw=e=>Tse.has(e);function Ose(e){const t=[];let n=0;const r=new Map,s=new WeakMap,a=()=>{const u=Pse.get(o),h=u?.[1];if(h&&!s.has(h)){const f=new Map(r);s.set(h,f)}},i=u=>s.get(u)||r,o={data:t,index:n,epoch:0,get size(){return lw(this)||a(),i(this).size},get(u){const h=i(this).get(u);if(h===void 0){this.epoch;return}return this.data[h]},has(u){const h=i(this);return this.epoch,h.has(u)},set(u,h){if(!lw(this))throw new Error("Cannot perform mutations on a snapshot");const f=r.get(u);return f===void 0?(r.set(u,this.index),this.data[this.index++]=h):this.data[f]=h,this.epoch++,this},delete(u){if(!lw(this))throw new Error("Cannot perform mutations on a snapshot");const h=r.get(u);return h===void 0?!1:(delete this.data[h],r.delete(u),this.epoch++,!0)},clear(){if(!lw(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(u){this.epoch,i(this).forEach((h,f)=>{u(this.data[h],f,this)})},*entries(){this.epoch;const u=i(this);for(const[h,f]of u)yield[h,this.data[f]]},*keys(){this.epoch;const u=i(this);for(const h of u.keys())yield h},*values(){this.epoch;const u=i(this);for(const h of u.values())yield this.data[h]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=qn(o);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var AI={};const $e={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof AI<"u"?AI.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},q1={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(s=>s.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return $e.CHAIN_NAME_MAP?.[r]||void 0}},EF=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var Rse=20,Mse=1,$d=1e6,SI=1e6,zse=-7,Fse=21,Dse=!1,by="[big.js] ",sh=by+"Invalid ",wv=sh+"decimal places",Bse=sh+"rounding mode",AF=by+"Division by zero",Tn={},oo=void 0,Lse=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function SF(){function e(t){var n=this;if(!(n instanceof e))return t===oo?SF():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(sh+"value");t=t===0&&1/t<0?"-0":String(t)}Use(n,t)}n.constructor=e}return e.prototype=Tn,e.DP=Rse,e.RM=Mse,e.NE=zse,e.PE=Fse,e.strict=Dse,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function Use(e,t){var n,r,s;if(!Lse.test(t))throw Error(sh+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=s;)e.c[n++]=+t.charAt(r++)}return e}function ah(e,t,n,r){var s=e.c;if(n===oo&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(Bse);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==oo))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==oo||s[t-1]&1))||n===3&&(r||!!s[0]),s.length=t,r){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function ih(e,t,n){var r=e.e,s=e.c.join(""),a=s.length;if(t)s=s.charAt(0)+(a>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>a)for(r-=a;r--;)s+="0";else r<a&&(s=s.slice(0,r)+"."+s.slice(r));else a>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}Tn.abs=function(){var e=new this.constructor(this);return e.s=1,e};Tn.cmp=function(e){var t,n=this,r=n.c,s=(e=new n.constructor(e)).c,a=n.s,i=e.s,o=n.e,c=e.e;if(!r[0]||!s[0])return r[0]?a:s[0]?-i:0;if(a!=i)return a;if(t=a<0,o!=c)return o>c^t?1:-1;for(i=(o=r.length)<(c=s.length)?o:c,a=-1;++a<i;)if(r[a]!=s[a])return r[a]>s[a]^t?1:-1;return o==c?0:o>c^t?1:-1};Tn.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,a=t.s==e.s?1:-1,i=n.DP;if(i!==~~i||i<0||i>$d)throw Error(wv);if(!s[0])throw Error(AF);if(!r[0])return e.s=a,e.c=[e.e=0],e;var o,c,u,h,f,p=s.slice(),g=o=s.length,b=r.length,y=r.slice(0,o),w=y.length,v=e,N=v.c=[],A=0,C=i+(v.e=t.e-e.e)+1;for(v.s=a,a=C<0?0:C,p.unshift(0);w++<o;)y.push(0);do{for(u=0;u<10;u++){if(o!=(w=y.length))h=o>w?1:-1;else for(f=-1,h=0;++f<o;)if(s[f]!=y[f]){h=s[f]>y[f]?1:-1;break}if(h<0){for(c=w==o?s:p;w;){if(y[--w]<c[w]){for(f=w;f&&!y[--f];)y[f]=9;--y[f],y[w]+=10}y[w]-=c[w]}for(;!y[0];)y.shift()}else break}N[A++]=h?u:++u,y[0]&&h?y[w]=r[g]||0:y=[r[g]]}while((g++<b||y[0]!==oo)&&a--);return!N[0]&&A!=1&&(N.shift(),v.e--,C--),A>C&&ah(v,C,n.RM,y[0]!==oo),v};Tn.eq=function(e){return this.cmp(e)===0};Tn.gt=function(e){return this.cmp(e)>0};Tn.gte=function(e){return this.cmp(e)>-1};Tn.lt=function(e){return this.cmp(e)<0};Tn.lte=function(e){return this.cmp(e)<1};Tn.minus=Tn.sub=function(e){var t,n,r,s,a=this,i=a.constructor,o=a.s,c=(e=new i(e)).s;if(o!=c)return e.s=-c,a.plus(e);var u=a.c.slice(),h=a.e,f=e.c,p=e.e;if(!u[0]||!f[0])return f[0]?e.s=-c:u[0]?e=new i(a):e.s=1,e;if(o=h-p){for((s=o<0)?(o=-o,r=u):(p=h,r=f),r.reverse(),c=o;c--;)r.push(0);r.reverse()}else for(n=((s=u.length<f.length)?u:f).length,o=c=0;c<n;c++)if(u[c]!=f[c]){s=u[c]<f[c];break}if(s&&(r=u,u=f,f=r,e.s=-e.s),(c=(n=f.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;n>o;){if(u[--n]<f[n]){for(t=n;t&&!u[--t];)u[t]=9;--u[t],u[n]+=10}u[n]-=f[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--p;return u[0]||(e.s=1,u=[p=0]),e.c=u,e.e=p,e};Tn.mod=function(e){var t,n=this,r=n.constructor,s=n.s,a=(e=new r(e)).s;if(!e.c[0])throw Error(AF);return n.s=e.s=1,t=e.cmp(n)==1,n.s=s,e.s=a,t?new r(n):(s=r.DP,a=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=s,r.RM=a,this.minus(n.times(e)))};Tn.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};Tn.plus=Tn.add=function(e){var t,n,r,s=this,a=s.constructor;if(e=new a(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var i=s.e,o=s.c,c=e.e,u=e.c;if(!o[0]||!u[0])return u[0]||(o[0]?e=new a(s):e.s=s.s),e;if(o=o.slice(),t=i-c){for(t>0?(c=i,r=u):(t=-t,r=o),r.reverse();t--;)r.push(0);r.reverse()}for(o.length-u.length<0&&(r=u,u=o,o=r),t=u.length,n=0;t;o[t]%=10)n=(o[--t]=o[t]+u[t]+n)/10|0;for(n&&(o.unshift(n),++c),t=o.length;o[--t]===0;)o.pop();return e.c=o,e.e=c,e};Tn.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-SI||e>SI)throw Error(sh+"exponent");for(s&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return s?n.div(r):r};Tn.prec=function(e,t){if(e!==~~e||e<1||e>$d)throw Error(sh+"precision");return ah(new this.constructor(this),e,t)};Tn.round=function(e,t){if(e===oo)e=0;else if(e!==~~e||e<-$d||e>$d)throw Error(wv);return ah(new this.constructor(this),e+this.e+1,t)};Tn.sqrt=function(){var e,t,n,r=this,s=r.constructor,a=r.s,i=r.e,o=new s("0.5");if(!r.c[0])return new s(r);if(a<0)throw Error(by+"No square root");a=Math.sqrt(+ih(r,!0,!0)),a===0||a===1/0?(t=r.c.join(""),t.length+i&1||(t+="0"),a=Math.sqrt(t),i=((i+1)/2|0)-(i<0||i&1),e=new s((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+i)):e=new s(a+""),i=e.e+(s.DP+=4);do n=e,e=o.times(n.plus(r.div(n)));while(n.c.slice(0,i).join("")!==e.c.slice(0,i).join(""));return ah(e,(s.DP-=4)+e.e+1,s.RM)};Tn.times=Tn.mul=function(e){var t,n=this,r=n.constructor,s=n.c,a=(e=new r(e)).c,i=s.length,o=a.length,c=n.e,u=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!a[0])return e.c=[e.e=0],e;for(e.e=c+u,i<o&&(t=s,s=a,a=t,u=i,i=o,o=u),t=new Array(u=i+o);u--;)t[u]=0;for(c=o;c--;){for(o=0,u=i+c;u>c;)o=t[u]+a[c]*s[u-c-1]+o,t[u--]=o%10,o=o/10|0;t[u]=o}for(o?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};Tn.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==oo){if(e!==~~e||e<0||e>$d)throw Error(wv);for(n=ah(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return ih(n,!0,!!r)};Tn.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==oo){if(e!==~~e||e<0||e>$d)throw Error(wv);for(n=ah(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return ih(n,!1,!!r)};Tn[Symbol.for("nodejs.util.inspect.custom")]=Tn.toJSON=Tn.toString=function(){var e=this,t=e.constructor;return ih(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};Tn.toNumber=function(){var e=+ih(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(by+"Imprecise conversion");return e};Tn.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==oo){if(e!==~~e||e<1||e>$d)throw Error(sh+"precision");for(n=ah(new r(n),e,t);n.c.length<e;)n.c.push(0)}return ih(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};Tn.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(by+"valueOf disallowed");return ih(e,e.e<=t.NE||e.e>=t.PE,!0)};var tc=SF();const $se={bigNumber(e){return e?new tc(e):new tc(0)},multiply(e,t){if(e===void 0||t===void 0)return new tc(0);const n=new tc(e),r=new tc(t);return n.times(r)},toFixed(e,t=2){return e===void 0||e===""?new tc(0).toFixed(t):new tc(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;const t=e.replace(/,/gu,"");return new tc(t).toNumber()}},Hse=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Wse=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Gse=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],qse={getERC20Abi:e=>$e.USDT_CONTRACT_ADDRESSES.includes(e)?Gse:Hse,getSwapAbi:()=>Wse},Rc={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,s]=t;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},Rt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function w4(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const jt={setItem(e,t){G0()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(G0())return localStorage.getItem(e)||void 0},removeItem(e){G0()&&localStorage.removeItem(e)},clear(){G0()&&localStorage.clear()}};function G0(){return typeof window<"u"&&typeof localStorage<"u"}function V1(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const ks={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,NAMES_SUPPORTED_CHAIN_NAMESPACES:[$e.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,DEFAULT_REMOTE_FEATURES:{socials:["google","x","discord","farcaster","github","apple","facebook"]},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},at={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=at.getActiveNamespace(),t=at.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{jt.setItem(Rt.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=jt.getItem(Rt.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{jt.removeItem(Rt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{jt.setItem(Rt.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{jt.setItem(Rt.ACTIVE_CAIP_NETWORK_ID,e),at.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return jt.getItem(Rt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{jt.removeItem(Rt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=w4(e);jt.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=at.getRecentWallets();t.find(n=>n.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),jt.setItem(Rt.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=jt.getItem(Rt.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const n=w4(e);jt.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return jt.getItem(Rt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=w4(e);return jt.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{jt.setItem(Rt.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return jt.getItem(Rt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{jt.removeItem(Rt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return jt.getItem(Rt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return jt.getItem(Rt.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{jt.setItem(Rt.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return jt.getItem(Rt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=jt.getItem(Rt.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));jt.setItem(Rt.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=at.getConnectedNamespaces();t.includes(e)||(t.push(e),at.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=at.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),at.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return jt.getItem(Rt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{jt.setItem(Rt.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{jt.removeItem(Rt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=jt.getItem(Rt.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=at.getBalanceCache();jt.setItem(Rt.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const t=at.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;at.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=at.getBalanceCache();t[e.caipAddress]=e,jt.setItem(Rt.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=jt.getItem(Rt.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=at.getBalanceCache();jt.setItem(Rt.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const t=at.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),at.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=at.getNativeBalanceCache();t[e.caipAddress]=e,jt.setItem(Rt.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=jt.getItem(Rt.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const t=at.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;at.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=at.getEnsCache();t[e.address]=e,jt.setItem(Rt.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=at.getEnsCache();jt.setItem(Rt.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=jt.getItem(Rt.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const t=at.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;at.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=at.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},jt.setItem(Rt.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=at.getIdentityCache();jt.setItem(Rt.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{jt.removeItem(Rt.PORTFOLIO_CACHE),jt.removeItem(Rt.NATIVE_BALANCE_CACHE),jt.removeItem(Rt.ENS_CACHE),jt.removeItem(Rt.IDENTITY_CACHE),jt.removeItem(Rt.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{jt.setItem(Rt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=jt.getItem(Rt.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=at.getConnections(),r=n[t]??[],s=new Map;for(const i of r)s.set(i.connectorId,{...i});for(const i of e){const o=s.get(i.connectorId),c=i.connectorId===$e.CONNECTOR_ID.AUTH;if(o&&!c){const u=new Set(o.accounts.map(f=>f.address.toLowerCase())),h=i.accounts.filter(f=>!u.has(f.address.toLowerCase()));o.accounts.push(...h)}else s.set(i.connectorId,{...i})}const a={...n,[t]:Array.from(s.values())};jt.setItem(Rt.CONNECTIONS,JSON.stringify(a))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=jt.getItem(Rt.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=at.getConnections(),s=r[n]??[],a=new Map(s.map(o=>[o.connectorId,o])),i=a.get(e);i&&(i.accounts.filter(o=>o.address.toLowerCase()!==t.toLowerCase()).length===0?a.delete(e):a.set(e,{...i,accounts:i.accounts.filter(o=>o.address.toLowerCase()!==t.toLowerCase())})),jt.setItem(Rt.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(a.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=jt.getItem(Rt.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=at.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),jt.setItem(Rt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=at.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),jt.setItem(Rt.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(at.getDisconnectedConnectorIds()[t]??[]).some(n=>n.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=jt.getItem(Rt.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const n=at.getTransactionsCache()[e]?.[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;at.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=at.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},jt.setItem(Rt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=at.getTransactionsCache(),r=n?.[e]||{},{[t]:s,...a}=r;jt.setItem(Rt.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:a}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=jt.getItem(Rt.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const t=at.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;at.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=at.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},jt.setItem(Rt.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=at.getTokenPriceCache();jt.setItem(Rt.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}}},Ft={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return Ft.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=ks.TEN_SEC_MS:!0},isAllowedRetry(e,t=ks.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Ft.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+ks.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(Ft.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const a=encodeURIComponent(t);return{redirect:`${r}wc?uri=${a}`,redirectUniversalLink:s?`${s}wc?uri=${a}`:void 0,href:r}},formatUniversalUrl(e,t){if(!Ft.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?at.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,Ft.wait(2e3)])},formatBalance(e,t){let n="0.000";if(typeof e=="string"){const r=Number(e);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${t?` ${t}`:""}`},getApiUrl(){return $e.W3M_API_URL},getBlockchainApiUrl(){return $e.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return $e.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const a=n[r.id],i=n[s.id];return a!==void 0&&i!==void 0?a-i:a!==void 0?-1:i!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const r=e.length===0?ks.ADAPTER_TYPES.UNIVERSAL:e.map(s=>s.adapterType).join(",");return`${t}-${r}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in $e.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const r="provider_authorization_url=",s=e.substring(e.indexOf(r)+r.length),a=this.injectIntoUrl(decodeURIComponent(s),n,t);return e.replace(s,encodeURIComponent(a))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),a=t.length,i=s!==-1?s:e.length,o=e.substring(0,r+a),c=e.substring(r+a,i),u=e.substring(s),h=c+n;return o+h+u}};async function Hp(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class wy{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const a=this.createUrl(s);return(await Hp(a,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await Hp(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Hp(a,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Hp(a,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const a=this.createUrl(s);return(await Hp(a,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,a])=>{a&&r.searchParams.append(s,a)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Vse={getFeatureValue(e,t){const n=t?.[e];return n===void 0?ks.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(Ft.isTelegram()){if(Ft.isIos())return e.filter(t=>t!=="google");if(Ft.isMac())return e.filter(t=>t!=="x");if(Ft.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},At=qn({features:ks.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ks.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),qt={state:At,subscribeKey(e,t){return Ss(At,e,t)},setOptions(e){Object.assign(At,e)},setRemoteFeatures(e){if(!e)return;const t={...At.remoteFeatures,...e};At.remoteFeatures=t,At.remoteFeatures?.socials&&(At.remoteFeatures.socials=Vse.filterSocialsByPlatform(At.remoteFeatures.socials)),At.features?.pay&&(At.remoteFeatures.email=!1,At.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;At.features||(At.features=ks.DEFAULT_FEATURES);const t={...At.features,...e};At.features=t,At.features?.pay&&At.remoteFeatures&&(At.remoteFeatures.email=!1,At.remoteFeatures.socials=!1)},setProjectId(e){At.projectId=e},setCustomRpcUrls(e){At.customRpcUrls=e},setAllWallets(e){At.allWallets=e},setIncludeWalletIds(e){At.includeWalletIds=e},setExcludeWalletIds(e){At.excludeWalletIds=e},setFeaturedWalletIds(e){At.featuredWalletIds=e},setTokens(e){At.tokens=e},setTermsConditionsUrl(e){At.termsConditionsUrl=e},setPrivacyPolicyUrl(e){At.privacyPolicyUrl=e},setCustomWallets(e){At.customWallets=e},setIsSiweEnabled(e){At.isSiweEnabled=e},setIsUniversalProvider(e){At.isUniversalProvider=e},setSdkVersion(e){At.sdkVersion=e},setMetadata(e){At.metadata=e},setDisableAppend(e){At.disableAppend=e},setEIP6963Enabled(e){At.enableEIP6963=e},setDebug(e){At.debug=e},setEnableWalletConnect(e){At.enableWalletConnect=e},setEnableWalletGuide(e){At.enableWalletGuide=e},setEnableAuthLogger(e){At.enableAuthLogger=e},setEnableWallets(e){At.enableWallets=e},setPreferUniversalLinks(e){At.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(ks.SIWX_DEFAULTS))e[t]??(e[t]=n);At.siwx=e},setConnectMethodsOrder(e){At.features={...At.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){At.features={...At.features,walletFeaturesOrder:e}},setSocialsOrder(e){At.remoteFeatures={...At.remoteFeatures,socials:e}},setCollapseWallets(e){At.features={...At.features,collapseWallets:e}},setEnableEmbedded(e){At.enableEmbedded=e},setAllowUnsupportedChain(e){At.allowUnsupportedChain=e},setManualWCControl(e){At.manualWCControl=e},setEnableNetworkSwitch(e){At.enableNetworkSwitch=e},setEnableReconnect(e){At.enableReconnect=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(At.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){At.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return At.universalProviderConfigOverride},getSnapshot(){return Ig(At)}},Kse=Object.freeze({enabled:!0,events:[]}),Zse=new wy({baseUrl:Ft.getAnalyticsUrl(),clientId:null}),Yse=5,Qse=60*1e3,nc=qn({...Kse}),Jse={state:nc,subscribeKey(e,t){return Ss(nc,e,t)},async sendError(e,t){if(!nc.enabled)return;const n=Date.now();if(nc.events.filter(s=>{const a=new Date(s.properties.timestamp||"").getTime();return n-a<Qse}).length>=Yse)return;const r={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};nc.events.push(r);try{if(typeof window>"u")return;const{projectId:s,sdkType:a,sdkVersion:i}=qt.state;await Zse.post({path:"/e",params:{projectId:s,st:a,sv:i||"html-wagmi-4.2.2"},body:{eventId:Ft.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){nc.enabled=!0},disable(){nc.enabled=!1},clearEvents(){nc.events=[]}};class cm extends Error{constructor(t,n,r){super(t),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,cm.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const a=r.stack,i=a.indexOf(`
`);if(i>-1){const o=a.substring(i+1);this.stack=`${this.name}: ${this.message}
${o}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,cm):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function jI(e,t){const n=e instanceof cm?e:new cm(e instanceof Error?e.message:String(e),t,e);throw Jse.sendError(n,n.category),n}function qa(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let a=s;s.constructor.name==="AsyncFunction"?a=async(...i)=>{try{return await s(...i)}catch(o){return jI(o,t)}}:a=(...i)=>{try{return s(...i)}catch(o){return jI(o,t)}},n[r]=a}else n[r]=s}),n}var um={};const Xse="https://secure.walletconnect.org/sdk",eae=(typeof process<"u"&&typeof um<"u"?um.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Xse,tae=(typeof process<"u"&&typeof um<"u"?um.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",nae=(typeof process<"u"&&typeof um<"u"?um.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",bt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Qr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},ps={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},rae={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===ps.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",a=n.split("/")[2],i=encodeURIComponent(`${s}://${a}`);window.location.href=`${ps.PHANTOM.url}/ul/browse/${r}?ref=${i}`}if(e===ps.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${ps.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===$e.CHAIN.SOLANA&&e===ps.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${ps.COINBASE.url}/dapp?cb_url=${r}`),t===$e.CHAIN.BITCOIN&&e===ps.BINANCE.id&&!("binancew3w"in window)){const s=Ae.state.activeCaipNetwork,a=window.btoa("/pages/browser/index"),i=window.btoa(`url=${r}&defaultChainId=${s?.id??1}`),o=new URL(ps.BINANCE.deeplink);o.searchParams.set("appId",ps.BINANCE.appId),o.searchParams.set("startPagePath",a),o.searchParams.set("startPageQuery",i);const c=new URL(ps.BINANCE.url);c.searchParams.set("_dp",window.btoa(o.toString())),window.location.href=c.toString()}}},na=qn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),sae={state:na,subscribeNetworkImages(e){return Ks(na.networkImages,()=>e(na.networkImages))},subscribeKey(e,t){return Ss(na,e,t)},subscribe(e){return Ks(na,()=>e(na))},setWalletImage(e,t){na.walletImages[e]=t},setNetworkImage(e,t){na.networkImages[e]=t},setChainImage(e,t){na.chainImages[e]=t},setConnectorImage(e,t){na.connectorImages={...na.connectorImages,[e]:t}},setTokenImage(e,t){na.tokenImages[e]=t},setCurrencyImage(e,t){na.currencyImages[e]=t}},hi=qa(sae),aae={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},x4=qn({networkImagePromises:{}}),iae={async fetchWalletImage(e){if(e)return await $t._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){return e?this.getNetworkImageById(e)||(x4.networkImagePromises[e]||(x4.networkImagePromises[e]=$t._fetchNetworkImage(e)),await x4.networkImagePromises[e],this.getNetworkImageById(e)):void 0},getWalletImageById(e){if(e)return hi.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return hi.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return hi.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return hi.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return hi.state.connectorImages[e.imageId]},getChainImage(e){return hi.state.networkImages[aae[e]]}},rc=qn({message:"",variant:"info",open:!1}),oae={state:rc,subscribeKey(e,t){return Ss(rc,e,t)},open(e,t){const{debug:n}=qt.state,{code:r,displayMessage:s,debugMessage:a}=e;s&&n&&(rc.message=s,rc.variant=t,rc.open=!0),a&&console.error(typeof a=="function"?a():a,r?{code:r}:void 0)},close(){rc.open=!1,rc.message="",rc.variant="info"}},Zu=qa(oae),lae=Ft.getAnalyticsUrl(),cae=new wy({baseUrl:lae,clientId:null}),uae=["MODAL_CREATED"],zo=qn({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),ir={state:zo,subscribe(e){return Ks(zo,()=>e(zo))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=qt.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{let t=Cn.state.address;if("address"in e.data&&e.data.address&&(t=e.data.address),uae.includes(e.data.event)||typeof window>"u")return;const n=Ae.getActiveCaipNetwork()?.caipNetworkId;await cae.post({path:"/e",params:ir.getSdkProperties(),body:{eventId:Ft.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:n}}}}),zo.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===$e.HTTP_STATUS_CODES.FORBIDDEN&&!zo.reportedErrors.FORBIDDEN&&(Zu.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${G0()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),zo.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){zo.timestamp=Date.now(),zo.data=e,(qt.state.features?.analytics||e.event==="INITIALIZE")&&ir._sendAnalyticsEvent(zo)}},dae=Ft.getApiUrl(),zs=new wy({baseUrl:dae,clientId:null}),hae=40,_I=4,fae=20,Jt=qn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),$t={state:Jt,subscribeKey(e,t){return Ss(Jt,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=qt.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return qt.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${zs.baseUrl}/getWalletImage/${e}`,n=await zs.getBlob({path:t,params:$t._getSdkProperties()});hi.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${zs.baseUrl}/public/getAssetImage/${e}`,n=await zs.getBlob({path:t,params:$t._getSdkProperties()});hi.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${zs.baseUrl}/public/getAssetImage/${e}`,n=await zs.getBlob({path:t,params:$t._getSdkProperties()});hi.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${zs.baseUrl}/public/getCurrencyImage/${e}`,n=await zs.getBlob({path:t,params:$t._getSdkProperties()});hi.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${zs.baseUrl}/public/getTokenImage/${e}`,n=await zs.getBlob({path:t,params:$t._getSdkProperties()});hi.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){return Ft.isMobile()?e?.filter(t=>t.mobile_link||t.id===ps.COINBASE.id||t.id===ps.BINANCE.id?!0:Ae.state.activeChain==="solana"&&(t.id===ps.SOLFLARE.id||t.id===ps.PHANTOM.id)):e},async fetchProjectConfig(){return(await zs.get({path:"/appkit/v1/config",params:$t._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await zs.get({path:"/projects/v1/origins",params:$t._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===$e.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=$e.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const e=Ae.getAllRequestedCaipNetworks()?.map(({assets:t})=>t?.imageId).filter(Boolean).filter(t=>!iae.getNetworkImageById(t));e&&await Promise.allSettled(e.map(t=>$t._fetchNetworkImage(t)))},async fetchConnectorImages(){const{connectors:e}=It.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>$t._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>$t._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>$t._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];$t._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(ps).map(r=>r.id));const n=await zs.get({path:"/getWallets",params:{...$t._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}});return{data:$t._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=qt.state;if(e?.length){const t={...$t._getSdkProperties(),page:1,entries:e?.length??_I,include:e},{data:n}=await $t.fetchWallets(t),r=[...n].sort((a,i)=>e.indexOf(a.id)-e.indexOf(i.id)),s=r.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(s.map(a=>$t._fetchWalletImage(a))),Jt.featured=r,Jt.allFeatured=r}},async fetchRecommendedWallets(){try{Jt.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=qt.state,r=[...t??[],...n??[]].filter(Boolean),s=Ae.getRequestedCaipNetworkIds().join(","),a={page:1,entries:_I,include:e,exclude:r,chains:s},{data:i,count:o}=await $t.fetchWallets(a),c=at.getRecentWallets(),u=i.map(f=>f.image_id).filter(Boolean),h=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u,...h].map(f=>$t._fetchWalletImage(f))),Jt.recommended=i,Jt.allRecommended=i,Jt.count=o??0}catch{}finally{Jt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=qt.state,s=Ae.getRequestedCaipNetworkIds().join(","),a=[...Jt.recommended.map(({id:h})=>h),...n??[],...r??[]].filter(Boolean),i={page:e,entries:hae,include:t,exclude:a,chains:s},{data:o,count:c}=await $t.fetchWallets(i),u=o.slice(0,fae).map(h=>h.image_id).filter(Boolean);await Promise.allSettled(u.map(h=>$t._fetchWalletImage(h))),Jt.wallets=Ft.uniqueBy([...Jt.wallets,...$t._filterOutExtensions(o)],"id").filter(h=>h.chains?.some(f=>s.includes(f))),Jt.count=c>Jt.count?c:Jt.count,Jt.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await $t.fetchWallets(t);n&&n.forEach(r=>{Jt.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=qt.state,s=Ae.getRequestedCaipNetworkIds().join(",");Jt.search=[];const a={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:i}=await $t.fetchWallets(a);ir.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const o=i.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...o.map(c=>$t._fetchWalletImage(c)),Ft.wait(300)]),Jt.search=$t._filterOutExtensions(i)},initPromise(e,t){return Jt.promises[e]||(Jt.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[e&&$t.initPromise("connectorImages",$t.fetchConnectorImages),t&&$t.initPromise("featuredWallets",$t.fetchFeaturedWallets),n&&$t.initPromise("recommendedWallets",$t.fetchRecommendedWallets),r&&$t.initPromise("networkImages",$t.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){qt.state.features?.analytics&&$t.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await zs.get({path:"/getAnalyticsConfig",params:$t._getSdkProperties()});qt.setFeatures({analytics:e})}catch{qt.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){Jt.featured=Jt.allFeatured,Jt.recommended=Jt.allRecommended;return}const t=Ae.getRequestedCaipNetworkIds().join(",");Jt.featured=Jt.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Jt.recommended=Jt.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Jt.filteredWallets=Jt.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){Jt.filteredWallets=[]},setFilterByNamespace(e){if(!e){Jt.featured=Jt.allFeatured,Jt.recommended=Jt.allRecommended;return}const t=Ae.getRequestedCaipNetworkIds().join(",");Jt.featured=Jt.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),Jt.recommended=Jt.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),Jt.filteredWallets=Jt.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},Pn=qn({view:"Connect",history:["Connect"],transactionStack:[]}),mae={state:Pn,subscribeKey(e,t){return Ss(Pn,e,t)},pushTransactionStack(e){Pn.transactionStack.push(e)},popTransactionStack(e){const t=Pn.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n?.();break;case"error":r?.(),Yt.goBack();break;case"cancel":s?.(),Yt.goBack();break}},push(e,t){e!==Pn.view&&(Pn.view=e,Pn.history.push(e),Pn.data=t)},reset(e,t){Pn.view=e,Pn.history=[e],Pn.data=t},replace(e,t){Pn.history.at(-1)===e||(Pn.view=e,Pn.history[Pn.history.length-1]=e,Pn.data=t)},goBack(){const e=Ae.state.activeCaipAddress,t=Yt.state.view==="ConnectingFarcaster",n=!e&&t;if(Pn.history.length>1){Pn.history.pop();const[r]=Pn.history.slice(-1);r&&(e&&r==="Connect"?Pn.view="Account":Pn.view=r)}else On.close();Pn.data?.wallet&&(Pn.data.wallet=void 0),setTimeout(()=>{if(n){Cn.setFarcasterUrl(void 0,Ae.state.activeChain);const r=It.getAuthConnector();r?.provider?.reload();const s=Ig(qt.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(Pn.history.length>1){Pn.history=Pn.history.slice(0,e+1);const[t]=Pn.history.slice(-1);t&&(Pn.view=t)}},goBackOrCloseModal(){Yt.state.history.length>1?Yt.goBack():On.close()}},Yt=qa(mae),Fo=qn({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),t6={state:Fo,subscribe(e){return Ks(Fo,()=>e(Fo))},setThemeMode(e){Fo.themeMode=e;try{const t=It.getAuthConnector();if(t){const n=t6.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:V1(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Fo.themeVariables={...Fo.themeVariables,...e};try{const t=It.getAuthConnector();if(t){const n=t6.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:V1(Fo.themeVariables,Fo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Ig(Fo)}},cw=qa(t6),jF=Object.fromEntries(EF.map(e=>[e,void 0])),pae=Object.fromEntries(EF.map(e=>[e,!0])),bn=qn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:jF,filterByNamespaceMap:pae}),gae={state:bn,subscribe(e){return Ks(bn,()=>{e(bn)})},subscribeKey(e,t){return Ss(bn,e,t)},initialize(e){e.forEach(t=>{const n=at.getConnectedConnectorId(t);n&&It.setConnectorId(n,t)})},setActiveConnector(e){e&&(bn.activeConnector=lm(e))},setConnectors(e){e.filter(r=>!bn.allConnectors.some(s=>s.id===r.id&&It.getConnectorName(s.name)===It.getConnectorName(r.name)&&s.chain===r.chain)).forEach(r=>{r.type!=="MULTI_CHAIN"&&bn.allConnectors.push(lm(r))});const t=It.getEnabledNamespaces(),n=It.getEnabledConnectors(t);bn.connectors=It.mergeMultiChainConnectors(n)},filterByNamespaces(e){Object.keys(bn.filterByNamespaceMap).forEach(t=>{bn.filterByNamespaceMap[t]=!1}),e.forEach(t=>{bn.filterByNamespaceMap[t]=!0}),It.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){bn.filterByNamespaceMap[e]=t,It.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=It.getEnabledNamespaces(),t=It.getEnabledConnectors(e),n=It.areAllNamespacesEnabled();bn.connectors=It.mergeMultiChainConnectors(t),n?$t.clearFilterByNamespaces():$t.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(bn.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return bn.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(bn.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=It.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],a=s?.id===$e.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=It.getConnectorName(r);if(!s)return;const a=t.get(s)||[];a.find(i=>i.chain===n.chain)||a.push(n),t.set(s,a)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===$e.CONNECTOR_ID.AUTH){const t=e,n=Ig(qt.state),r=cw.getSnapshot().themeMode,s=cw.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:V1(s,r)}),It.setConnectors([e])}else It.setConnectors([e])},getAuthConnector(e){const t=e||Ae.state.activeChain,n=bn.connectors.find(r=>r.id===$e.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(r=>r.chain===t):n},getAnnouncedConnectorRdns(){return bn.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return bn.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){const r=n||Ae.state.activeChain;return bn.allConnectors.filter(s=>s.chain===r).find(s=>s.explorerId===e||s.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="ID_AUTH")return;const t=e,n=Ig(qt.state),r=cw.getSnapshot().themeMode,s=cw.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:V1(s,r)})},getConnectorsByNamespace(e){const t=bn.allConnectors.filter(n=>n.chain===e);return It.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return Ae.checkIfSmartAccountEnabled()&&fo(e)===Qr.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=It.getConnector({id:e.id,rdns:e.rdns});rae.handleMobileDeeplinkRedirect(t?.explorerId||e.id,Ae.state.activeChain),t?Yt.push("ConnectingExternal",{connector:t,wallet:e}):Yt.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?It.getConnectorsByNamespace(e):It.mergeMultiChainConnectors(bn.allConnectors)},setFilterByNamespace(e){bn.filterByNamespace=e,bn.connectors=It.getConnectors(e),$t.setFilterByNamespace(e)},setConnectorId(e,t){e&&(bn.activeConnectorIds={...bn.activeConnectorIds,[t]:e},at.setConnectedConnectorId(t,e))},removeConnectorId(e){bn.activeConnectorIds={...bn.activeConnectorIds,[e]:void 0},at.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return bn.activeConnectorIds[e]},isConnected(e){return e?!!bn.activeConnectorIds[e]:Object.values(bn.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){bn.activeConnectorIds={...jF}}},It=qa(gae),yae=1e3,Wp={checkNamespaceConnectorId(e,t){return It.getConnectorId(e)===t},isSocialProvider(e){return ks.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:a}){return new Promise((i,o)=>{if(e&&It.setActiveConnector(t),s?.(Ft.isMobile()&&e),r){const u=On.subscribeKey("open",h=>{h||(Yt.state.view!==r&&Yt.replace(r),u(),o(new Error("Modal closed")))})}const c=Ae.subscribeKey("activeCaipAddress",u=>{u&&(a?.(),n&&On.close(),c(),i(Rc.parseCaipAddress(u)))})})},connectExternal(e){return new Promise((t,n)=>{const r=Ae.subscribeKey("activeCaipAddress",s=>{s&&(On.close(),r(),t(Rc.parseCaipAddress(s)))});Tt.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let a=Cn.state.socialWindow,i=Cn.state.socialProvider,o=!1,c=null;const u=t||Ae.state.activeChain,h=Ae.subscribeKey("activeCaipAddress",f=>{f&&(n&&On.close(),h())});return new Promise((f,p)=>{async function g(y){if(y.data?.resultUri)if(y.origin===$e.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const w=It.getAuthConnector(u);if(w&&!o){a&&(a.close(),Cn.setSocialWindow(void 0,u),a=Cn.state.socialWindow),o=!0;const v=y.data.resultUri;if(i&&ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:i}}),i){at.setConnectedSocialProvider(i),await Tt.connectExternal({id:w.id,type:w.type,socialUri:v},w.chain);const N=Ae.state.activeCaipAddress;if(!N){p(new Error("Failed to connect"));return}f(Rc.parseCaipAddress(N)),ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:i}})}}}catch{i&&ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}}),p(new Error("Failed to connect"))}}else i&&ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:i}})}async function b(){if(e&&(Cn.setSocialProvider(e,u),i=Cn.state.socialProvider,ir.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:i}})),i==="farcaster"){r?.();const y=On.subscribeKey("open",v=>{!v&&e==="farcaster"&&(p(new Error("Popup closed")),s?.(),y())}),w=It.getAuthConnector();if(w&&!Cn.state.farcasterUrl)try{const{url:v}=await w.provider.getFarcasterUri();Cn.setFarcasterUrl(v,u)}catch{p(new Error("Failed to connect to farcaster"))}}else{const y=It.getAuthConnector();c=Ft.returnOpenHref(`${$e.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(y&&i){const{uri:w}=await y.provider.getSocialRedirectUri({provider:i});if(c&&w){Cn.setSocialWindow(c,u),a=Cn.state.socialWindow,c.location.href=w;const v=setInterval(()=>{a?.closed&&!o&&(p(new Error("Popup closed")),clearInterval(v))},1e3);window.addEventListener("message",g,!1)}else c?.close(),p(new Error("Failed to initiate social connection"))}}catch{p(new Error("Failed to initiate social connection")),c?.close()}}}b()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,a)=>{if(n?.(),t){const o=On.subscribeKey("open",c=>{c||(Yt.state.view!==t&&Yt.replace(t),o(),a(new Error("Modal closed")))})}const i=Ae.subscribeKey("activeCaipAddress",o=>{o&&(r?.(),e&&On.close(),i(),s(Rc.parseCaipAddress(o)))})})},async updateEmail(){const e=at.getConnectedConnectorId(Ae.state.activeChain),t=It.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==$e.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await On.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const a=setInterval(()=>{const o=t.provider.getEmail()??"";o!==n&&(On.close(),clearInterval(a),i(),r({email:o}))},yae),i=On.subscribeKey("open",o=>{o||(Yt.state.view!=="Connect"&&Yt.push("Connect"),clearInterval(a),i(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return Ae.checkIfSmartAccountEnabled()&&fo(e)===Qr.ACCOUNT_TYPES.EOA}};function _F(){const e=Ae.state.activeCaipNetwork?.chainNamespace||"eip155",t=Ae.state.activeCaipNetwork?.id||1,n=ks.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function fo(e){return Ae.getAccountData(e)?.preferredAccountType}function gd(e){return e?Ae.state.chains.get(e)?.networkState?.caipNetwork:Ae.state.activeCaipNetwork}const IF={getConnectionStatus(e,t){const n=It.state.activeConnectorIds[t],r=Tt.getConnections(t);return n&&e.connectorId===n?"connected":r.some(s=>s.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if(t&&r.connectorId.toLowerCase()===t.toLowerCase()&&n){const s=r.accounts.filter(a=>!n.some(i=>i.toLowerCase()===a.address.toLowerCase()));return{...r,accounts:s}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!qt.state.remoteFeatures?.multiWallet,n=It.state.activeConnectorIds[e],r=Tt.getConnections(e),s=(Tt.state.recentConnections.get(e)??[]).filter(i=>It.getConnectorById(i.connectorId)),a=IF.excludeExistingConnections([...r.map(i=>i.connectorId),...n?[n]:[]],s);return t?{connections:r,recentConnections:a}:{connections:r.filter(i=>i.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},Yu=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),_r=qn({...Yu}),bae={state:_r,subscribeKey(e,t){return Ss(_r,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=Ft.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){_r.message=Yu.message,_r.variant=Yu.variant,_r.svg=Yu.svg,_r.open=Yu.open,_r.autoClose=Yu.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=Yu.autoClose}){_r.open?(_r.open=!1,setTimeout(()=>{_r.message=e,_r.variant=n,_r.svg=t,_r.open=!0,_r.autoClose=r},150)):(_r.message=e,_r.variant=n,_r.svg=t,_r.open=!0,_r.autoClose=r)}},Mc=bae,Zn=qn({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),wae={state:Zn,subscribe(e){return Ks(Zn,()=>e(Zn))},setLastNetworkInView(e){Zn.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");Zn.loading=!0;try{const t=await Gt.fetchTransactions({account:e,cursor:Zn.next,chainId:Ae.state.activeCaipNetwork?.caipNetworkId}),n=a1.filterSpamTransactions(t.data),r=a1.filterByConnectedChain(n),s=[...Zn.transactions,...r];Zn.loading=!1,Zn.transactions=s,Zn.transactionsByYear=a1.groupTransactionsByYearAndMonth(Zn.transactionsByYear,r),Zn.empty=s.length===0,Zn.next=t.next?t.next:void 0}catch{const t=Ae.state.activeChain;ir.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:qt.state.projectId,cursor:Zn.next,isSmartAccount:fo(t)===Qr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Mc.showError("Failed to fetch transactions"),Zn.loading=!1,Zn.empty=!0,Zn.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),a=new Date(r.metadata.minedAt).getMonth(),i=n[s]??{},o=(i[a]??[]).filter(c=>c.id!==r.id);n[s]={...i,[a]:[...o,r].sort((c,u)=>new Date(u.metadata.minedAt).getTime()-new Date(c.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=Ae.state.activeCaipNetwork?.caipNetworkId;return e.filter(n=>n.metadata.chain===t)},clearCursor(){Zn.next=void 0},resetTransactions(){Zn.transactions=[],Zn.transactionsByYear={},Zn.lastNetworkInView=void 0,Zn.loading=!1,Zn.empty=!1,Zn.next=void 0}},a1=qa(wae,"API_ERROR"),wn=qn({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let _u;const xae={state:wn,subscribe(e){return Ks(wn,()=>e(wn))},subscribeKey(e,t){return Ss(wn,e,t)},_getClient(){return wn._client},setClient(e){wn._client=lm(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);Tt.syncStorageConnections(t)},syncStorageConnections(e){const t=at.getConnections(),n=e??Array.from(Ae.state.chains.keys());for(const r of n){const s=t[r]??[],a=new Map(wn.recentConnections);a.set(r,s),wn.recentConnections=a}},getConnections(e){return e?wn.connections.get(e)??[]:[]},hasAnyConnection(e){const t=Tt.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect(){if(Ft.isTelegram()||Ft.isSafari()&&Ft.isIos()){if(_u){await _u,_u=void 0;return}if(!Ft.isPairingExpired(wn?.wcPairingExpiry)){const e=wn.wcUri;wn.wcUri=e;return}_u=Tt._getClient()?.connectWalletConnect?.().catch(()=>{}),Tt.state.status="connecting",await _u,_u=void 0,wn.wcPairingExpiry=void 0,Tt.state.status="connected"}else await Tt._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await Tt._getClient()?.connectExternal?.(e);return n&&Ae.setActiveNamespace(t),r},async reconnectExternal(e){await Tt._getClient()?.reconnectExternal?.(e);const t=e.chain||Ae.state.activeChain;t&&It.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;On.setLoading(!0,Ae.state.activeChain);const n=It.getAuthConnector();n&&(Cn.setPreferredAccountType(e,t),await n.provider.setPreferredAccount(e),at.setPreferredAccountTypes(Object.entries(Ae.state.chains).reduce((r,[s,a])=>{const i=s,o=fo(i);return o!==void 0&&(r[i]=o),r},{})),await Tt.reconnectExternal(n),On.setLoading(!1,Ae.state.activeChain),ir.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:Ae.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return Tt._getClient()?.signMessage(e)},parseUnits(e,t){return Tt._getClient()?.parseUnits(e,t)},formatUnits(e,t){return Tt._getClient()?.formatUnits(e,t)},async sendTransaction(e){return Tt._getClient()?.sendTransaction(e)},async getCapabilities(e){return Tt._getClient()?.getCapabilities(e)},async grantPermissions(e){return Tt._getClient()?.grantPermissions(e)},async walletGetAssets(e){return Tt._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return Tt._getClient()?.estimateGas(e)},async writeContract(e){return Tt._getClient()?.writeContract(e)},async getEnsAddress(e){return Tt._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return Tt._getClient()?.getEnsAvatar(e)},checkInstalled(e){return Tt._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){wn.wcUri=void 0,wn.wcPairingExpiry=void 0,wn.wcLinking=void 0,wn.recentWallet=void 0,wn.status="disconnected",a1.resetTransactions(),at.deleteWalletConnectDeepLink()},resetUri(){wn.wcUri=void 0,wn.wcPairingExpiry=void 0,_u=void 0},finalizeWcConnection(e){const{wcLinking:t,recentWallet:n}=Tt.state;t&&at.setWalletConnectDeepLink(t),n&&at.setAppKitRecent(n),ir.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:Yt.state.data?.wallet?.name||"Unknown"}})},setWcBasic(e){wn.wcBasic=e},setUri(e){wn.wcUri=e,wn.wcPairingExpiry=Ft.getPairingExpiry()},setWcLinking(e){wn.wcLinking=e},setWcError(e){wn.wcError=e,wn.buffering=!1},setRecentWallet(e){wn.recentWallet=e},setBuffering(e){wn.buffering=e},setStatus(e){wn.status=e},setIsSwitchingConnection(e){wn.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await Tt._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new cm("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(e,t){const n=new Map(wn.connections);n.set(t,e),wn.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const n=Cn.state.user?.accounts?.find(s=>s.type==="smartAccount"),r=n&&n.address.toLowerCase()===e.toLowerCase()&&Wp.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await Tt.setPreferredAccountType(r,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=It.getConnectorById(e.connectorId),s=e.connectorId===$e.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)s&&n&&await Tt.handleAuthAccountSwitch({address:n,namespace:t});else return(await Tt.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const s=It.getConnectorById(e.connectorId),a=e.auth?.name?.toLowerCase(),i=e.connectorId===$e.CONNECTOR_ID.AUTH,o=e.connectorId===$e.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let c;if(i)if(a&&Wp.isSocialProvider(a)){const{address:u}=await Wp.connectSocial({social:a,closeModalOnConnect:r,onOpenFarcaster(){On.open({view:"ConnectingFarcaster"})},onConnect(){Yt.replace("ProfileWallets")}});c=u}else{const{address:u}=await Wp.connectEmail({closeModalOnConnect:r,onOpen(){On.open({view:"EmailLogin"})},onConnect(){Yt.replace("ProfileWallets")}});c=u}else if(o){const{address:u}=await Wp.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(h){On.open({view:h?"AllWallets":"ConnectingWalletConnect"})},onConnect(){Yt.replace("ProfileWallets")}});c=u}else{const u=await Tt.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);u&&(c=u.address)}return i&&n&&await Tt.handleAuthAccountSwitch({address:n,namespace:t}),c},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let a;const i=Cn.getCaipAddress(n);if(i){const{address:c}=Rc.parseCaipAddress(i);a=c}const o=IF.getConnectionStatus(e,n);switch(o){case"connected":case"active":{const c=await Tt.handleActiveConnection({connection:e,namespace:n,address:t});if(a&&c){const u=c.toLowerCase()!==a.toLowerCase();s?.({address:c,namespace:n,hasSwitchedAccount:u,hasSwitchedWallet:o==="active"})}break}case"disconnected":{const c=await Tt.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});c&&s?.({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${o}`)}}},Tt=qa(xae),Gh=qn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),yd={state:Gh,subscribe(e){return Ks(Gh,()=>e(Gh))},subscribeOpen(e){return Ss(Gh,"open",e)},set(e){Object.assign(Gh,{...Gh,...e})}},vae={async getTokenList(e){return(await Gt.fetchSwapTokens({chainId:e}))?.tokens?.map(t=>({...t,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=Ae.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await Tt?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await Gt.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Gt.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&n&&r){const a=Tt.parseUnits(n,r)||0;return BigInt(s.allowance)>=a}return!1},async getMyTokensWithBalance(e){const t=await UC.getMyTokensWithBalance(e);return Cn.setTokenBalance(t,Ae.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:_F(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]}},Sn=qn({tokenBalances:[],loading:!1}),Nae={state:Sn,subscribe(e){return Ks(Sn,()=>e(Sn))},subscribeKey(e,t){return Ss(Sn,e,t)},setToken(e){e&&(Sn.token=lm(e))},setTokenAmount(e){Sn.sendTokenAmount=e},setReceiverAddress(e){Sn.receiverAddress=e},setReceiverProfileImageUrl(e){Sn.receiverProfileImageUrl=e},setReceiverProfileName(e){Sn.receiverProfileName=e},setNetworkBalanceInUsd(e){Sn.networkBalanceInUSD=e},setLoading(e){Sn.loading=e},async sendToken(){try{switch(kn.setLoading(!0),Ae.state.activeCaipNetwork?.chainNamespace){case"eip155":await kn.sendEvmToken();return;case"solana":await kn.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{kn.setLoading(!1)}},async sendEvmToken(){const e=Ae.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=fo(e);if(!kn.state.sendTokenAmount||!kn.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!kn.state.token)throw new Error("A token is required");kn.state.token?.address?(ir.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Qr.ACCOUNT_TYPES.SMART_ACCOUNT,token:kn.state.token.address,amount:kn.state.sendTokenAmount,network:Ae.state.activeCaipNetwork?.caipNetworkId||""}}),await kn.sendERC20Token({receiverAddress:kn.state.receiverAddress,tokenAddress:kn.state.token.address,sendTokenAmount:kn.state.sendTokenAmount,decimals:kn.state.token.quantity.decimals})):(ir.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Qr.ACCOUNT_TYPES.SMART_ACCOUNT,token:kn.state.token.symbol||"",amount:kn.state.sendTokenAmount,network:Ae.state.activeCaipNetwork?.caipNetworkId||""}}),await kn.sendNativeToken({receiverAddress:kn.state.receiverAddress,sendTokenAmount:kn.state.sendTokenAmount,decimals:kn.state.token.quantity.decimals}))},async fetchTokenBalance(e){Sn.loading=!0;const t=Ae.state.activeCaipNetwork?.caipNetworkId,n=Ae.state.activeCaipNetwork?.chainNamespace,r=Ae.state.activeCaipAddress,s=r?Ft.getPlainAddress(r):void 0;if(Sn.lastRetry&&!Ft.isAllowedRetry(Sn.lastRetry,30*ks.ONE_SEC_MS))return Sn.loading=!1,[];try{if(s&&t&&n){const a=await UC.getMyTokensWithBalance();return Sn.tokenBalances=a,Sn.lastRetry=void 0,a}}catch(a){Sn.lastRetry=Date.now(),e?.(a),Mc.showError("Token Balance Unavailable")}finally{Sn.loading=!1}return[]},fetchNetworkBalance(){if(Sn.tokenBalances.length===0)return;const e=vae.mapBalancesToSwapTokens(Sn.tokenBalances);if(!e)return;const t=e.find(n=>n.address===_F());t&&(Sn.networkBalanceInUSD=t?$se.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){Yt.pushTransactionStack({});const t=e.receiverAddress,n=Cn.state.address,r=Tt.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await Tt.sendTransaction({chainNamespace:$e.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)}),ir.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:fo("eip155")===Qr.ACCOUNT_TYPES.SMART_ACCOUNT,token:kn.state.token?.symbol||"",amount:e.sendTokenAmount,network:Ae.state.activeCaipNetwork?.caipNetworkId||""}}),Tt._getClient()?.updateBalance("eip155"),kn.resetSend()},async sendERC20Token(e){Yt.pushTransactionStack({onSuccess(){Yt.replace("Account")}});const t=Tt.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(Cn.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=Ft.getPlainAddress(e.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await Tt.writeContract({fromAddress:Cn.state.address,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:qse.getERC20Abi(n),chainNamespace:$e.CHAIN.EVM}),kn.resetSend()}},async sendSolanaToken(){if(!kn.state.sendTokenAmount||!kn.state.receiverAddress)throw new Error("An amount and receiver address are required");Yt.pushTransactionStack({onSuccess(){Yt.replace("Account")}}),await Tt.sendTransaction({chainNamespace:"solana",to:kn.state.receiverAddress,value:kn.state.sendTokenAmount}),Tt._getClient()?.updateBalance("solana"),kn.resetSend()},resetSend(){Sn.token=void 0,Sn.sendTokenAmount=void 0,Sn.receiverAddress=void 0,Sn.receiverProfileImageUrl=void 0,Sn.receiverProfileName=void 0,Sn.loading=!1,Sn.tokenBalances=[]}},kn=qa(Nae),v4={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},uw={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},lt=qn({chains:Ose(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),kae={state:lt,subscribe(e){return Ks(lt,()=>{e(lt)})},subscribeKey(e,t){return Ss(lt,e,t)},subscribeChainProp(e,t,n){let r;return Ks(lt.chains,()=>{const s=n||lt.activeChain;if(s){const a=lt.chains.get(s)?.[e];r!==a&&(r=a,t(a))}})},initialize(e,t,n){const{chainId:r,namespace:s}=at.getActiveNetworkProps(),a=t?.find(u=>u.id.toString()===r?.toString()),i=e.find(u=>u?.namespace===s)||e?.[0],o=e.map(u=>u.namespace).filter(u=>u!==void 0),c=qt.state.enableEmbedded?new Set([...o]):new Set([...t?.map(u=>u.chainNamespace)??[]]);(e?.length===0||!i)&&(lt.noAdapters=!0),lt.noAdapters||(lt.activeChain=i?.namespace,lt.activeCaipNetwork=a,Ae.setChainNetworkData(i?.namespace,{caipNetwork:a}),lt.activeChain&&yd.set({activeChain:i?.namespace})),c.forEach(u=>{const h=t?.filter(g=>g.chainNamespace===u),f=at.getPreferredAccountTypes()||{},p={...qt.state.defaultAccountTypes,...f};Ae.state.chains.set(u,{namespace:u,networkState:qn({...uw,caipNetwork:h?.[0]}),accountState:qn({...v4,preferredAccountType:p[u]}),caipNetworks:h??[],...n}),Ae.setRequestedCaipNetworks(h??[],u)})},removeAdapter(e){if(lt.activeChain===e){const t=Array.from(lt.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&Ae.setActiveCaipNetwork(n)}}lt.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:n},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");lt.chains.set(e.namespace,{namespace:e.namespace,networkState:{...uw,caipNetwork:r[0]},accountState:v4,caipNetworks:r,connectionControllerClient:n,networkControllerClient:t}),Ae.setRequestedCaipNetworks(r?.filter(s=>s.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=lt.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),lt.chains.set(e.chainNamespace,{...t,caipNetworks:n}),Ae.setRequestedCaipNetworks(n,e.chainNamespace),It.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=lt.chains.get(e);if(n){const r=lt.activeCaipNetwork?.id===t,s=[...n.caipNetworks?.filter(a=>a.id!==t)||[]];r&&n?.caipNetworks?.[0]&&Ae.setActiveCaipNetwork(n.caipNetworks[0]),lt.chains.set(e,{...n,caipNetworks:s}),Ae.setRequestedCaipNetworks(s||[],e),s.length===0&&It.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=lt.chains.get(e);n&&(n.networkState={...n.networkState||uw,...t},lt.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=lt.chains.get(e);if(r){const s={...r.accountState||v4,...t};lt.chains.set(e,{...r,accountState:s}),(lt.chains.size===1||lt.activeChain===e)&&(t.caipAddress&&(lt.activeCaipAddress=t.caipAddress),Cn.replaceState(s))}},setChainNetworkData(e,t){if(!e)return;const n=lt.chains.get(e);if(n){const r={...n.networkState||uw,...t};lt.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){Ae.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){lt.activeChain=e;const t=e?lt.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(lt.activeCaipAddress=t?.accountState?.caipAddress,lt.activeCaipNetwork=n,Ae.setChainNetworkData(e,{caipNetwork:n}),at.setActiveCaipNetworkId(n?.caipNetworkId),yd.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;lt.activeChain!==e.chainNamespace&&Ae.setIsSwitchingNamespace(!0);const t=lt.chains.get(e.chainNamespace);lt.activeChain=e.chainNamespace,lt.activeCaipNetwork=e,Ae.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),t?.accountState?.address?lt.activeCaipAddress=`${e.chainNamespace}:${e.id}:${t?.accountState?.address}`:lt.activeCaipAddress=void 0,Ae.setAccountProp("caipAddress",lt.activeCaipAddress,e.chainNamespace),t&&Cn.replaceState(t.accountState),kn.resetSend(),yd.set({activeChain:lt.activeChain,selectedNetworkId:lt.activeCaipNetwork?.caipNetworkId}),at.setActiveCaipNetworkId(e.caipNetworkId),!Ae.checkIfSupportedNetwork(e.chainNamespace)&&qt.state.enableNetworkSwitch&&!qt.state.allowUnsupportedChain&&!Tt.state.wcBasic&&Ae.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=lt.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==Ae.state.activeChain,n=Ae.getNetworkData(e)?.caipNetwork,r=Ae.getCaipNetworkByNamespace(e,n?.id);t&&r&&await Ae.switchActiveNetwork(r)},async switchActiveNetwork(e){const t=Ae.state.activeChain;if(!t)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!Ae.state.chains.get(t)?.caipNetworks?.some(s=>s.id===lt.activeCaipNetwork?.id),r=Ae.getNetworkControllerClient(e.chainNamespace);if(r){try{await r.switchCaipNetwork(e),n&&On.close()}catch{Yt.goBack()}ir.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||lt.activeChain;if(!t)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=lt.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||lt.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=lt.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=lt.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=lt.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return Ft.sortRequestedNetworks(n,r).filter(s=>s?.id)},getAllRequestedCaipNetworks(){const e=[];return lt.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=Ae.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){Ae.setAdapterNetworkState(t,{requestedCaipNetworks:e});const n=Ae.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),r=Array.from(new Set(n));It.filterByNamespaces(r)},getAllApprovedCaipNetworkIds(){const e=[];return lt.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=Ae.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?lt.chains.get(e)?.networkState?.caipNetwork:lt.activeCaipNetwork},getActiveCaipAddress(){return lt.activeCaipAddress},getApprovedCaipNetworkIds(e){return lt.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(e){const t=await Ae.getNetworkControllerClient()?.getApprovedCaipNetworksData();Ae.setAdapterNetworkState(e,{approvedCaipNetworkIds:t?.approvedCaipNetworkIds,supportsAllNetworks:t?.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const n=t||lt.activeCaipNetwork?.caipNetworkId,r=Ae.getRequestedCaipNetworks(e);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(e){return lt.activeChain?Ae.getRequestedCaipNetworks(lt.activeChain)?.some(t=>t.id===e):!0},setSmartAccountEnabledNetworks(e,t){Ae.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){const e=q1.caipNetworkIdToNumber(lt.activeCaipNetwork?.caipNetworkId),t=lt.activeChain;return!t||!e?!1:!!Ae.getNetworkProp("smartAccountEnabledNetworks",t)?.includes(Number(e))},showUnsupportedChainUI(){On.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=lt.activeCaipNetwork;return!!(e?.chainNamespace&&ks.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){Ae.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=Ae.state.chains.get(t)?.accountState?.preferredAccountType,r=qt.state.defaultAccountTypes[t];lt.activeCaipAddress=void 0,Ae.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),It.removeConnectorId(t)},setIsSwitchingNamespace(e){lt.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(lt.chains.forEach(n=>{$e.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?lt.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||lt.activeChain;if(t)return Ae.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||lt.activeChain;if(t)return Ae.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=Ae.state.chains.get(e);return n?.caipNetworks?.find(r=>r.id===t)||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=It.state.filterByNamespace;return(e?[lt.chains.get(e)]:Array.from(lt.chains.values())).flatMap(t=>t?.caipNetworks||[]).map(t=>t.caipNetworkId)},getCaipNetworks(e){return e?Ae.getRequestedCaipNetworks(e):Ae.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(e){lt.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return lt.lastConnectedSIWECaipNetwork}},Ae=qa(kae),Cae={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},TF=Ft.getBlockchainApiUrl(),Fs=qn({clientId:null,api:new wy({baseUrl:TF,clientId:null}),supportedChains:{http:[],ws:[]}}),Gt={state:Fs,async get(e){const{st:t,sv:n}=Gt.getSdkProperties(),r=qt.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return Fs.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=qt.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{Fs.supportedChains.http.length||await Gt.getSupportedNetworks()}catch{return!1}return Fs.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await Gt.get({path:"v1/supported-chains"});return Fs.supportedChains=e,e}catch{return Fs.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await Gt.isNetworkSupported(t))return{avatar:"",name:""};const n=at.getIdentityFromCacheForAddress(e);if(n)return n;const r=await Gt.get({path:`/v1/identity/${e}`,params:{sender:Ae.state.activeCaipAddress?Ft.getPlainAddress(Ae.state.activeCaipAddress):void 0}});return at.updateIdentityCache({address:e,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){if(!await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const a=at.getTransactionsCacheForAddress({address:e,chainId:s});if(a)return a;const i=await Gt.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return at.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:i}),i},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){if(!await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const t=at.getTokenPriceCacheForAddresses(e);if(t)return t;const n=await Fs.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:qt.state.projectId},headers:{"Content-Type":"application/json"}});return at.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=Gt.getSdkProperties();if(!await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Gt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){if(!await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Fs.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:ks.CONVERT_SLIPPAGE_TOLERANCE},projectId:qt.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:s}=Gt.getSdkProperties();if(!await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Gt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){const{st:r,sv:s}=Gt.getSdkProperties();if(!await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId))return Mc.showError("Token Balance Unavailable"),{balances:[]};const a=`${t}:${e}`,i=at.getBalanceCacheForCaipAddress(a);if(i)return i;const o=await Gt.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return at.updateBalanceCache({caipAddress:a,balance:o,timestamp:Date.now()}),o},async lookupEnsName(e){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/profile/reverse/${e}`,params:{sender:Cn.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Fs.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?(await Fs.api.post({path:"/v1/generators/onrampurl",params:{projectId:qt.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Gt.get({path:"/v1/onramp/options"})}catch{return Cae}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?await Fs.api.post({path:"/v1/onramp/quote",params:{projectId:qt.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Gt.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await Gt.isNetworkSupported(Ae.state.activeCaipNetwork?.caipNetworkId)?Fs.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:qt.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){Fs.clientId=e,Fs.api=new wy({baseUrl:TF,clientId:e})}},N4={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return Cm(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},UC={async getMyTokensWithBalance(e){const t=Cn.state.address,n=Ae.state.activeCaipNetwork,r=It.getConnectorId("eip155")===$e.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,a=at.getBalanceCacheForCaipAddress(s);if(a)return a.balances;if(n.chainNamespace===$e.CHAIN.EVM&&r){const o=await this.getEIP155Balances(t,n);if(o)return this.filterLowQualityTokens(o)}const i=await Gt.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(e,t){try{const n=N4.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await Tt.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const r=await Tt.walletGetAssets({account:e,chainFilter:[n]});if(!N4.isWalletGetAssetsResponse(r))return null;const s=(r[n]||[]).map(a=>N4.createBalance(a,t.caipNetworkId));return at.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:s},timestamp:Date.now()}),s}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")}},$i=qn({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Eae={state:$i,replaceState(e){e&&Object.assign($i,lm(e))},subscribe(e){return Ae.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,n){let r;return Ae.subscribeChainProp("accountState",s=>{if(s){const a=s[e];r!==a&&(r=a,t(a))}},n)},setStatus(e,t){Ae.setAccountProp("status",e,t)},getCaipAddress(e){if(e)return Ae.state.chains.get(e)?.accountState?.caipAddress},setCaipAddress(e,t){const n=e?Ft.getPlainAddress(e):void 0;t===Ae.state.activeChain&&(Ae.state.activeCaipAddress=e),Ae.setAccountProp("caipAddress",e,t),Ae.setAccountProp("address",n,t)},setBalance(e,t,n){Ae.setAccountProp("balance",e,n),Ae.setAccountProp("balanceSymbol",t,n)},setProfileName(e,t){Ae.setAccountProp("profileName",e,t)},setProfileImage(e,t){Ae.setAccountProp("profileImage",e,t)},setUser(e,t){Ae.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){Ae.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){Ae.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){Ae.setAccountProp("currentTab",e,Ae.state.activeChain)},setTokenBalance(e,t){e&&Ae.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){Ae.setAccountProp("shouldUpdateToAddress",e,t)},addAddressLabel(e,t,n){if(!n)return;const r=Ae.state.chains.get(n)?.accountState?.addressLabels||new Map;r.set(e,t),Ae.setAccountProp("addressLabels",r,n)},removeAddressLabel(e,t){if(!t)return;const n=Ae.state.chains.get(t)?.accountState?.addressLabels||new Map;n.delete(e),Ae.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo(e,t){Ae.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){Ae.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&Ae.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){Ae.setAccountProp("socialWindow",e?lm(e):void 0,t)},setFarcasterUrl(e,t){Ae.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){$i.balanceLoading=!0;const t=Ae.state.activeCaipNetwork?.caipNetworkId,n=Ae.state.activeCaipNetwork?.chainNamespace,r=Ae.state.activeCaipAddress,s=r?Ft.getPlainAddress(r):void 0;if($i.lastRetry&&!Ft.isAllowedRetry($i.lastRetry,30*ks.ONE_SEC_MS))return $i.balanceLoading=!1,[];try{if(s&&t&&n){const a=await UC.getMyTokensWithBalance();return Cn.setTokenBalance(a,n),$i.lastRetry=void 0,$i.balanceLoading=!1,a}}catch(a){$i.lastRetry=Date.now(),e?.(a),Mc.showError("Token Balance Unavailable")}finally{$i.balanceLoading=!1}return[]},resetAccount(e){Ae.resetAccount(e)}},Cn=qa(Eae),Aae={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=Ae.state.activeCaipNetwork,r=Yt.state.data;if(e.id===n?.id)return;const s=Cn.getCaipAddress(Ae.state.activeChain),a=e.chainNamespace!==Ae.state.activeChain,i=Cn.getCaipAddress(e.chainNamespace),o=It.getConnectorId(Ae.state.activeChain)===$e.CONNECTOR_ID.AUTH,c=$e.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(u=>u===e.chainNamespace);t||o&&c?Yt.push("SwitchNetwork",{...r,network:e}):s&&a&&!i?Yt.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):Yt.push("SwitchNetwork",{...r,network:e})}},Ds=qn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Sae={state:Ds,subscribe(e){return Ks(Ds,()=>e(Ds))},subscribeKey(e,t){return Ss(Ds,e,t)},async open(e){const t=e?.namespace,n=Ae.state.activeChain,r=t&&t!==n,s=Ae.getAccountData(e?.namespace)?.caipAddress;if(Tt.state.wcBasic?$t.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await $t.prefetch(),It.setFilterByNamespace(e?.namespace),On.setLoading(!0,t),t&&r){const a=Ae.getNetworkData(t)?.caipNetwork||Ae.getRequestedCaipNetworks(t)[0];a&&Aae.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0})}else{const a=Ae.state.noAdapters;qt.state.manualWCControl||a&&!s?Ft.isMobile()?Yt.reset("AllWallets"):Yt.reset("ConnectingWalletConnectBasic"):e?.view?Yt.reset(e.view,e.data):s?Yt.reset("Account"):Yt.reset("Connect")}Ds.open=!0,yd.set({open:!0}),ir.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=qt.state.enableEmbedded,t=!!Ae.state.activeCaipAddress;Ds.open&&ir.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Ds.open=!1,Yt.reset("Connect"),On.clearLoading(),e?t?Yt.replace("Account"):Yt.push("Connect"):yd.set({open:!1}),Tt.resetUri()},setLoading(e,t){t&&Ds.loadingNamespaceMap.set(t,e),Ds.loading=e,yd.set({loading:e})},clearLoading(){Ds.loadingNamespaceMap.clear(),Ds.loading=!1,yd.set({loading:!1})},shake(){Ds.shake||(Ds.shake=!0,setTimeout(()=>{Ds.shake=!1},500))}},On=qa(Sae),II=2147483648,jae={convertEVMChainIdToCoinType(e){if(e>=II)throw new Error("Invalid chainId");return(II|e)>>>0}},ja=qn({suggestions:[],loading:!1}),_ae={state:ja,subscribe(e){return Ks(ja,()=>e(ja))},subscribeKey(e,t){return Ss(ja,e,t)},async resolveName(e){try{return await Gt.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await Gt.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{ja.loading=!0,ja.suggestions=[];const t=await Gt.getEnsNameSuggestions(e);return ja.suggestions=t.suggestions||[],ja.suggestions}catch(t){const n=i1.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{ja.loading=!1}},async getNamesForAddress(e){try{if(!Ae.state.activeCaipNetwork)return[];const t=at.getEnsFromCacheForAddress(e);if(t)return t;const n=await Gt.reverseLookupEnsName({address:e});return at.updateEnsCache({address:e,ens:n,timestamp:Date.now()}),n}catch(t){const n=i1.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=Ae.state.activeCaipNetwork,n=Cn.state.address,r=It.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");ja.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Yt.pushTransactionStack({onCancel(){Yt.replace("RegisterAccountName")}});const a=await Tt.signMessage(s);ja.loading=!1;const i=t.id;if(!i)throw new Error("Network not found");const o=jae.convertEVMChainIdToCoinType(Number(i));await Gt.registerEnsName({coinType:o,address:n,signature:a,message:s}),Cn.setProfileName(e,t.chainNamespace),at.updateEnsCache({address:n,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),Yt.replace("RegisterAccountNameSuccess")}catch(s){const a=i1.parseEnsApiError(s,`Error registering name ${e}`);throw Yt.replace("RegisterAccountName"),new Error(a)}finally{ja.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},i1=qa(_ae);var dw={exports:{}},TI;function Iae(){if(TI)return dw.exports;TI=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(C,k,S){return Function.prototype.apply.call(C,k,S)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(C){console&&console.warn&&console.warn(C)}var s=Number.isNaN||function(C){return C!==C};function a(){a.init.call(this)}dw.exports=a,dw.exports.once=v,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");i=C}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function c(C){return C._maxListeners===void 0?a.defaultMaxListeners:C._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(C){for(var k=[],S=1;S<arguments.length;S++)k.push(arguments[S]);var T=C==="error",P=this._events;if(P!==void 0)T=T&&P.error===void 0;else if(!T)return!1;if(T){var I;if(k.length>0&&(I=k[0]),I instanceof Error)throw I;var M=new Error("Unhandled error."+(I?" ("+I.message+")":""));throw M.context=I,M}var W=P[C];if(W===void 0)return!1;if(typeof W=="function")t(W,this,k);else for(var z=W.length,B=b(W,z),S=0;S<z;++S)t(B[S],this,k);return!0};function u(C,k,S,T){var P,I,M;if(o(S),I=C._events,I===void 0?(I=C._events=Object.create(null),C._eventsCount=0):(I.newListener!==void 0&&(C.emit("newListener",k,S.listener?S.listener:S),I=C._events),M=I[k]),M===void 0)M=I[k]=S,++C._eventsCount;else if(typeof M=="function"?M=I[k]=T?[S,M]:[M,S]:T?M.unshift(S):M.push(S),P=c(C),P>0&&M.length>P&&!M.warned){M.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=C,W.type=k,W.count=M.length,r(W)}return C}a.prototype.addListener=function(C,k){return u(this,C,k,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(C,k){return u(this,C,k,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(C,k,S){var T={fired:!1,wrapFn:void 0,target:C,type:k,listener:S},P=h.bind(T);return P.listener=S,T.wrapFn=P,P}a.prototype.once=function(C,k){return o(k),this.on(C,f(this,C,k)),this},a.prototype.prependOnceListener=function(C,k){return o(k),this.prependListener(C,f(this,C,k)),this},a.prototype.removeListener=function(C,k){var S,T,P,I,M;if(o(k),T=this._events,T===void 0)return this;if(S=T[C],S===void 0)return this;if(S===k||S.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete T[C],T.removeListener&&this.emit("removeListener",C,S.listener||k));else if(typeof S!="function"){for(P=-1,I=S.length-1;I>=0;I--)if(S[I]===k||S[I].listener===k){M=S[I].listener,P=I;break}if(P<0)return this;P===0?S.shift():y(S,P),S.length===1&&(T[C]=S[0]),T.removeListener!==void 0&&this.emit("removeListener",C,M||k)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(C){var k,S,T;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[C]),this;if(arguments.length===0){var P=Object.keys(S),I;for(T=0;T<P.length;++T)I=P[T],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=S[C],typeof k=="function")this.removeListener(C,k);else if(k!==void 0)for(T=k.length-1;T>=0;T--)this.removeListener(C,k[T]);return this};function p(C,k,S){var T=C._events;if(T===void 0)return[];var P=T[k];return P===void 0?[]:typeof P=="function"?S?[P.listener||P]:[P]:S?w(P):b(P,P.length)}a.prototype.listeners=function(C){return p(this,C,!0)},a.prototype.rawListeners=function(C){return p(this,C,!1)},a.listenerCount=function(C,k){return typeof C.listenerCount=="function"?C.listenerCount(k):g.call(C,k)},a.prototype.listenerCount=g;function g(C){var k=this._events;if(k!==void 0){var S=k[C];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(C,k){for(var S=new Array(k),T=0;T<k;++T)S[T]=C[T];return S}function y(C,k){for(;k+1<C.length;k++)C[k]=C[k+1];C.pop()}function w(C){for(var k=new Array(C.length),S=0;S<k.length;++S)k[S]=C[S].listener||C[S];return k}function v(C,k){return new Promise(function(S,T){function P(M){C.removeListener(k,I),T(M)}function I(){typeof C.removeListener=="function"&&C.removeListener("error",P),S([].slice.call(arguments))}A(C,k,I,{once:!0}),k!=="error"&&N(C,P,{once:!0})})}function N(C,k,S){typeof C.on=="function"&&A(C,"error",k,S)}function A(C,k,S,T){if(typeof C.on=="function")T.once?C.once(k,S):C.on(k,S);else if(typeof C.addEventListener=="function")C.addEventListener(k,function P(I){T.once&&C.removeEventListener(k,P),S(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return dw.exports}Iae();const Tae=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n);function PI(e){return typeof e=="string"?e:Tae(e)||""}var k4,OI;function Pae(){if(OI)return k4;OI=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}k4=t;function t(n,r,s){var a=s&&s.stringify||e,i=1;if(typeof n=="object"&&n!==null){var o=r.length+i;if(o===1)return n;var c=new Array(o);c[0]=a(n);for(var u=1;u<o;u++)c[u]=a(r[u]);return c.join(" ")}if(typeof n!="string")return n;var h=r.length;if(h===0)return n;for(var f="",p=1-i,g=-1,b=n&&n.length||0,y=0;y<b;){if(n.charCodeAt(y)===37&&y+1<b){switch(g=g>-1?g:0,n.charCodeAt(y+1)){case 100:case 102:if(p>=h||r[p]==null)break;g<y&&(f+=n.slice(g,y)),f+=Number(r[p]),g=y+2,y++;break;case 105:if(p>=h||r[p]==null)break;g<y&&(f+=n.slice(g,y)),f+=Math.floor(Number(r[p])),g=y+2,y++;break;case 79:case 111:case 106:if(p>=h||r[p]===void 0)break;g<y&&(f+=n.slice(g,y));var w=typeof r[p];if(w==="string"){f+="'"+r[p]+"'",g=y+2,y++;break}if(w==="function"){f+=r[p].name||"<anonymous>",g=y+2,y++;break}f+=a(r[p]),g=y+2,y++;break;case 115:if(p>=h)break;g<y&&(f+=n.slice(g,y)),f+=String(r[p]),g=y+2,y++;break;case 37:g<y&&(f+=n.slice(g,y)),f+="%",g=y+2,y++,p--;break}++p}++y}return g===-1?n:(g<b&&(f+=n.slice(g)),f)}return k4}var C4,RI;function Oae(){if(RI)return C4;RI=1;const e=Pae();C4=s;const t=k().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:b,res:b,err:p};function r(S,T){return Array.isArray(S)?S.filter(function(P){return P!=="!stdSerializers.err"}):S===!0?Object.keys(T):!1}function s(S){S=S||{},S.browser=S.browser||{};const T=S.browser.transmit;if(T&&typeof T.send!="function")throw Error("pino: transmit option must have a send function");const P=S.browser.write||t;S.browser.write&&(S.browser.asObject=!0);const I=S.serializers||{},M=r(S.browser.serialize,I);let W=S.browser.serialize;Array.isArray(S.browser.serialize)&&S.browser.serialize.indexOf("!stdSerializers.err")>-1&&(W=!1);const z=["error","fatal","warn","info","debug","trace"];typeof P=="function"&&(P.error=P.fatal=P.warn=P.info=P.debug=P.trace=P),S.enabled===!1&&(S.level="silent");const B=S.level||"info",O=Object.create(P);O.log||(O.log=w),Object.defineProperty(O,"levelVal",{get:G}),Object.defineProperty(O,"level",{get:K,set:$});const F={transmit:T,serialize:M,asObject:S.browser.asObject,levels:z,timestamp:g(S)};O.levels=s.levels,O.level=B,O.setMaxListeners=O.getMaxListeners=O.emit=O.addListener=O.on=O.prependListener=O.once=O.prependOnceListener=O.removeListener=O.removeAllListeners=O.listeners=O.listenerCount=O.eventNames=O.write=O.flush=w,O.serializers=I,O._serialize=M,O._stdErrSerialize=W,O.child=Z,T&&(O._logEvent=f());function G(){return this.level==="silent"?1/0:this.levels.values[this.level]}function K(){return this._level}function $(ee){if(ee!=="silent"&&!this.levels.values[ee])throw Error("unknown level "+ee);this._level=ee,a(F,O,"error","log"),a(F,O,"fatal","error"),a(F,O,"warn","error"),a(F,O,"info","log"),a(F,O,"debug","log"),a(F,O,"trace","log")}function Z(ee,L){if(!ee)throw new Error("missing bindings for child Pino");L=L||{},M&&ee.serializers&&(L.serializers=ee.serializers);const V=L.serializers;if(M&&V){var Q=Object.assign({},I,V),Y=S.browser.serialize===!0?Object.keys(Q):M;delete ee.serializers,c([ee],Y,Q,this._stdErrSerialize)}function ae(ue){this._childLevel=(ue._childLevel|0)+1,this.error=u(ue,ee,"error"),this.fatal=u(ue,ee,"fatal"),this.warn=u(ue,ee,"warn"),this.info=u(ue,ee,"info"),this.debug=u(ue,ee,"debug"),this.trace=u(ue,ee,"trace"),Q&&(this.serializers=Q,this._serialize=Y),T&&(this._logEvent=f([].concat(ue._logEvent.bindings,ee)))}return ae.prototype=this,new ae(this)}return O}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:N,unixTime:A,isoTime:C});function a(S,T,P,I){const M=Object.getPrototypeOf(T);T[P]=T.levelVal>T.levels.values[P]?w:M[P]?M[P]:t[P]||t[I]||w,i(S,T,P)}function i(S,T,P){!S.transmit&&T[P]===w||(T[P]=function(I){return function(){const M=S.timestamp(),W=new Array(arguments.length),z=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var B=0;B<W.length;B++)W[B]=arguments[B];if(S.serialize&&!S.asObject&&c(W,this._serialize,this.serializers,this._stdErrSerialize),S.asObject?I.call(z,o(this,P,W,M)):I.apply(z,W),S.transmit){const O=S.transmit.level||T.level,F=s.levels.values[O],G=s.levels.values[P];if(G<F)return;h(this,{ts:M,methodLevel:P,methodValue:G,transmitValue:s.levels.values[S.transmit.level||T.level],send:S.transmit.send,val:T.levelVal},W)}}}(T[P]))}function o(S,T,P,I){S._serialize&&c(P,S._serialize,S.serializers,S._stdErrSerialize);const M=P.slice();let W=M[0];const z={};I&&(z.time=I),z.level=s.levels.values[T];let B=(S._childLevel|0)+1;if(B<1&&(B=1),W!==null&&typeof W=="object"){for(;B--&&typeof M[0]=="object";)Object.assign(z,M.shift());W=M.length?e(M.shift(),M):void 0}else typeof W=="string"&&(W=e(M.shift(),M));return W!==void 0&&(z.msg=W),z}function c(S,T,P,I){for(const M in S)if(I&&S[M]instanceof Error)S[M]=s.stdSerializers.err(S[M]);else if(typeof S[M]=="object"&&!Array.isArray(S[M]))for(const W in S[M])T&&T.indexOf(W)>-1&&W in P&&(S[M][W]=P[W](S[M][W]))}function u(S,T,P){return function(){const I=new Array(1+arguments.length);I[0]=T;for(var M=1;M<I.length;M++)I[M]=arguments[M-1];return S[P].apply(this,I)}}function h(S,T,P){const I=T.send,M=T.ts,W=T.methodLevel,z=T.methodValue,B=T.val,O=S._logEvent.bindings;c(P,S._serialize||Object.keys(S.serializers),S.serializers,S._stdErrSerialize===void 0?!0:S._stdErrSerialize),S._logEvent.ts=M,S._logEvent.messages=P.filter(function(F){return O.indexOf(F)===-1}),S._logEvent.level.label=W,S._logEvent.level.value=z,I(W,S._logEvent,B),S._logEvent=f(O)}function f(S){return{ts:0,messages:[],bindings:S||[],level:{label:"",value:0}}}function p(S){const T={type:S.constructor.name,msg:S.message,stack:S.stack};for(const P in S)T[P]===void 0&&(T[P]=S[P]);return T}function g(S){return typeof S.timestamp=="function"?S.timestamp:S.timestamp===!1?v:N}function b(){return{}}function y(S){return S}function w(){}function v(){return!1}function N(){return Date.now()}function A(){return Math.round(Date.now()/1e3)}function C(){return new Date(Date.now()).toISOString()}function k(){function S(T){return typeof T<"u"&&T}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return S(self)||S(window)||S(this)||{}}}return C4}var xf=Oae();const PF=Nm(xf),Rae={level:"info"},xy="custom_context",$C=1e3*1024;let Mae=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},MI=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new Mae(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}},OF=class{constructor(e,t=$C){this.level=e??"error",this.levelValue=xf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new MI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===xf.levels.values.error?console.error(e):t===xf.levels.values.warn?console.warn(e):t===xf.levels.values.debug?console.debug(e):t===xf.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(PI({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new MI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(PI({extraMetadata:e})),new Blob(t,{type:"application/json"})}},zae=class{constructor(e,t=$C){this.baseChunkLogger=new OF(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}},Fae=class{constructor(e,t=$C){this.baseChunkLogger=new OF(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Dae=Object.defineProperty,Bae=Object.defineProperties,Lae=Object.getOwnPropertyDescriptors,zI=Object.getOwnPropertySymbols,Uae=Object.prototype.hasOwnProperty,$ae=Object.prototype.propertyIsEnumerable,FI=(e,t,n)=>t in e?Dae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K1=(e,t)=>{for(var n in t||(t={}))Uae.call(t,n)&&FI(e,n,t[n]);if(zI)for(var n of zI(t))$ae.call(t,n)&&FI(e,n,t[n]);return e},Z1=(e,t)=>Bae(e,Lae(t));function Hae(e){return Z1(K1({},e),{level:e?.level||Rae.level})}function Wae(e,t=xy){return e[t]||""}function Gae(e,t,n=xy){return e[n]=t,e}function qae(e,t=xy){let n="";return typeof e.bindings>"u"?n=Wae(e,t):n=e.bindings().context||"",n}function Vae(e,t,n=xy){const r=qae(e,n);return r.trim()?`${r}/${t}`:t}function Kae(e,t,n=xy){const r=Vae(e,t,n),s=e.child({context:r});return Gae(s,r,n)}function Zae(e){var t,n;const r=new zae((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:PF(Z1(K1({},e.opts),{level:"trace",browser:Z1(K1({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function Yae(e){var t;const n=new Fae((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:PF(Z1(K1({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function Qae(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Zae(e):Yae(e)}function Jae(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const h=e.charAt(u),f=h.charCodeAt(0);if(t[f]!==255)throw new TypeError(h+" is ambiguous");t[f]=u}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function i(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let h=0,f=0,p=0;const g=u.length;for(;p!==g&&u[p]===0;)p++,h++;const b=(g-p)*a+1>>>0,y=new Uint8Array(b);for(;p!==g;){let N=u[p],A=0;for(let C=b-1;(N!==0||A<f)&&C!==-1;C--,A++)N+=256*y[C]>>>0,y[C]=N%n>>>0,N=N/n>>>0;if(N!==0)throw new Error("Non-zero carry");f=A,p++}let w=b-f;for(;w!==b&&y[w]===0;)w++;let v=r.repeat(h);for(;w<b;++w)v+=e.charAt(y[w]);return v}function o(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let h=0,f=0,p=0;for(;u[h]===r;)f++,h++;const g=(u.length-h)*s+1>>>0,b=new Uint8Array(g);for(;h<u.length;){const N=u.charCodeAt(h);if(N>255)return;let A=t[N];if(A===255)return;let C=0;for(let k=g-1;(A!==0||C<p)&&k!==-1;k--,C++)A+=n*b[k]>>>0,b[k]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");p=C,h++}let y=g-p;for(;y!==g&&b[y]===0;)y++;const w=new Uint8Array(f+(g-y));let v=f;for(;y!==g;)w[v++]=b[y++];return w}function c(u){const h=o(u);if(h)return h;throw new Error("Non-base"+n+" character")}return{encode:i,decodeUnsafe:o,decode:c}}var Xae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Jae(Xae);var DI={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n6=function(e,t){return n6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},n6(e,t)};function eie(e,t){n6(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var r6=function(){return r6=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},r6.apply(this,arguments)};function tie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function nie(e,t,n,r){var s=arguments.length,a=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function rie(e,t){return function(n,r){t(n,r,e)}}function sie(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function aie(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function iie(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(h){u=[6,h],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oie(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function lie(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function s6(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function RF(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function cie(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(RF(arguments[t]));return e}function uie(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],i=0,o=a.length;i<o;i++,s++)r[s]=a[i];return r}function Tg(e){return this instanceof Tg?(this.v=e,this):new Tg(e)}function die(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,a=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(p){r[p]&&(s[p]=function(g){return new Promise(function(b,y){a.push([p,g,b,y])>1||o(p,g)})})}function o(p,g){try{c(r[p](g))}catch(b){f(a[0][3],b)}}function c(p){p.value instanceof Tg?Promise.resolve(p.value.v).then(u,h):f(a[0][2],p)}function u(p){o("next",p)}function h(p){o("throw",p)}function f(p,g){p(g),a.shift(),a.length&&o(a[0][0],a[0][1])}}function hie(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,a){t[s]=e[s]?function(i){return(n=!n)?{value:Tg(e[s](i)),done:s==="return"}:a?a(i):i}:a}}function fie(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof s6=="function"?s6(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(i){return new Promise(function(o,c){i=e[a](i),s(o,c,i.done,i.value)})}}function s(a,i,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},i)}}function mie(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function pie(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function gie(e){return e&&e.__esModule?e:{default:e}}function yie(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function bie(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const wie=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return r6},__asyncDelegator:hie,__asyncGenerator:die,__asyncValues:fie,__await:Tg,__awaiter:aie,__classPrivateFieldGet:yie,__classPrivateFieldSet:bie,__createBinding:oie,__decorate:nie,__exportStar:lie,__extends:eie,__generator:iie,__importDefault:gie,__importStar:pie,__makeTemplateObject:mie,__metadata:sie,__param:rie,__read:RF,__rest:tie,__spread:cie,__spreadArrays:uie,__values:s6},Symbol.toStringTag,{value:"Module"})),xie=C9(wie);var Do={},BI;function vie(){if(BI)return Do;BI=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.isBrowserCryptoAvailable=Do.getSubtleCrypto=Do.getBrowerCrypto=void 0;function e(){return globalThis?.crypto||globalThis?.msCrypto||{}}Do.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}Do.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return Do.isBrowserCryptoAvailable=n,Do}var Bo={},LI;function Nie(){if(LI)return Bo;LI=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.isBrowser=Bo.isNode=Bo.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Bo.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Bo.isNode=t;function n(){return!e()&&!t()}return Bo.isBrowser=n,Bo}var UI;function kie(){return UI||(UI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=xie;t.__exportStar(vie(),e),t.__exportStar(Nie(),e)}(DI)),DI}kie();var E4={exports:{}},$I;function Cie(){return $I||($I=1,function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(i){var o=typeof a<"u"&&a||typeof self<"u"&&self||typeof a<"u"&&a||{},c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(F){return F&&DataView.prototype.isPrototypeOf(F)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(F){return F&&h.indexOf(Object.prototype.toString.call(F))>-1};function p(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(F)||F==="")throw new TypeError('Invalid character in header field name: "'+F+'"');return F.toLowerCase()}function g(F){return typeof F!="string"&&(F=String(F)),F}function b(F){var G={next:function(){var K=F.shift();return{done:K===void 0,value:K}}};return c.iterable&&(G[Symbol.iterator]=function(){return G}),G}function y(F){this.map={},F instanceof y?F.forEach(function(G,K){this.append(K,G)},this):Array.isArray(F)?F.forEach(function(G){if(G.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+G.length);this.append(G[0],G[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(G){this.append(G,F[G])},this)}y.prototype.append=function(F,G){F=p(F),G=g(G);var K=this.map[F];this.map[F]=K?K+", "+G:G},y.prototype.delete=function(F){delete this.map[p(F)]},y.prototype.get=function(F){return F=p(F),this.has(F)?this.map[F]:null},y.prototype.has=function(F){return this.map.hasOwnProperty(p(F))},y.prototype.set=function(F,G){this.map[p(F)]=g(G)},y.prototype.forEach=function(F,G){for(var K in this.map)this.map.hasOwnProperty(K)&&F.call(G,this.map[K],K,this)},y.prototype.keys=function(){var F=[];return this.forEach(function(G,K){F.push(K)}),b(F)},y.prototype.values=function(){var F=[];return this.forEach(function(G){F.push(G)}),b(F)},y.prototype.entries=function(){var F=[];return this.forEach(function(G,K){F.push([K,G])}),b(F)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function w(F){if(!F._noBody){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}}function v(F){return new Promise(function(G,K){F.onload=function(){G(F.result)},F.onerror=function(){K(F.error)}})}function N(F){var G=new FileReader,K=v(G);return G.readAsArrayBuffer(F),K}function A(F){var G=new FileReader,K=v(G),$=/charset=([A-Za-z0-9_-]+)/.exec(F.type),Z=$?$[1]:"utf-8";return G.readAsText(F,Z),K}function C(F){for(var G=new Uint8Array(F),K=new Array(G.length),$=0;$<G.length;$++)K[$]=String.fromCharCode(G[$]);return K.join("")}function k(F){if(F.slice)return F.slice(0);var G=new Uint8Array(F.byteLength);return G.set(new Uint8Array(F)),G.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(F){this.bodyUsed=this.bodyUsed,this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:c.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:c.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():c.arrayBuffer&&c.blob&&u(F)?(this._bodyArrayBuffer=k(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||f(F))?this._bodyArrayBuffer=k(F):this._bodyText=F=Object.prototype.toString.call(F):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var F=w(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var F=w(this);return F||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(N);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var F=w(this);if(F)return F;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}var T=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(F){var G=F.toUpperCase();return T.indexOf(G)>-1?G:F}function I(F,G){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');G=G||{};var K=G.body;if(F instanceof I){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,G.headers||(this.headers=new y(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!K&&F._bodyInit!=null&&(K=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=G.credentials||this.credentials||"same-origin",(G.headers||!this.headers)&&(this.headers=new y(G.headers)),this.method=P(G.method||this.method||"GET"),this.mode=G.mode||this.mode||null,this.signal=G.signal||this.signal||function(){if("AbortController"in o){var ee=new AbortController;return ee.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&K)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(K),(this.method==="GET"||this.method==="HEAD")&&(G.cache==="no-store"||G.cache==="no-cache")){var $=/([?&])_=[^&]*/;if($.test(this.url))this.url=this.url.replace($,"$1_="+new Date().getTime());else{var Z=/\?/;this.url+=(Z.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})};function M(F){var G=new FormData;return F.trim().split("&").forEach(function(K){if(K){var $=K.split("="),Z=$.shift().replace(/\+/g," "),ee=$.join("=").replace(/\+/g," ");G.append(decodeURIComponent(Z),decodeURIComponent(ee))}}),G}function W(F){var G=new y,K=F.replace(/\r?\n[\t ]+/g," ");return K.split("\r").map(function($){return $.indexOf(`
`)===0?$.substr(1,$.length):$}).forEach(function($){var Z=$.split(":"),ee=Z.shift().trim();if(ee){var L=Z.join(":").trim();try{G.append(ee,L)}catch(V){console.warn("Response "+V.message)}}}),G}S.call(I.prototype);function z(F,G){if(!(this instanceof z))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(G||(G={}),this.type="default",this.status=G.status===void 0?200:G.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=G.statusText===void 0?"":""+G.statusText,this.headers=new y(G.headers),this.url=G.url||"",this._initBody(F)}S.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},z.error=function(){var F=new z(null,{status:200,statusText:""});return F.ok=!1,F.status=0,F.type="error",F};var B=[301,302,303,307,308];z.redirect=function(F,G){if(B.indexOf(G)===-1)throw new RangeError("Invalid status code");return new z(null,{status:G,headers:{location:F}})},i.DOMException=o.DOMException;try{new i.DOMException}catch{i.DOMException=function(F,G){this.message=F,this.name=G;var K=Error(F);this.stack=K.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function O(F,G){return new Promise(function(K,$){var Z=new I(F,G);if(Z.signal&&Z.signal.aborted)return $(new i.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function L(){ee.abort()}ee.onload=function(){var Y={statusText:ee.statusText,headers:W(ee.getAllResponseHeaders()||"")};Z.url.indexOf("file://")===0&&(ee.status<200||ee.status>599)?Y.status=200:Y.status=ee.status,Y.url="responseURL"in ee?ee.responseURL:Y.headers.get("X-Request-URL");var ae="response"in ee?ee.response:ee.responseText;setTimeout(function(){K(new z(ae,Y))},0)},ee.onerror=function(){setTimeout(function(){$(new TypeError("Network request failed"))},0)},ee.ontimeout=function(){setTimeout(function(){$(new TypeError("Network request timed out"))},0)},ee.onabort=function(){setTimeout(function(){$(new i.DOMException("Aborted","AbortError"))},0)};function V(Y){try{return Y===""&&o.location.href?o.location.href:Y}catch{return Y}}if(ee.open(Z.method,V(Z.url),!0),Z.credentials==="include"?ee.withCredentials=!0:Z.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&(c.blob?ee.responseType="blob":c.arrayBuffer&&(ee.responseType="arraybuffer")),G&&typeof G.headers=="object"&&!(G.headers instanceof y||o.Headers&&G.headers instanceof o.Headers)){var Q=[];Object.getOwnPropertyNames(G.headers).forEach(function(Y){Q.push(p(Y)),ee.setRequestHeader(Y,g(G.headers[Y]))}),Z.headers.forEach(function(Y,ae){Q.indexOf(ae)===-1&&ee.setRequestHeader(ae,Y)})}else Z.headers.forEach(function(Y,ae){ee.setRequestHeader(ae,Y)});Z.signal&&(Z.signal.addEventListener("abort",L),ee.onreadystatechange=function(){ee.readyState===4&&Z.signal.removeEventListener("abort",L)}),ee.send(typeof Z._bodyInit>"u"?null:Z._bodyInit)})}return O.polyfill=!0,o.fetch||(o.fetch=O,o.Headers=y,o.Request=I,o.Response=z),i.Headers=y,i.Request=I,i.Response=z,i.fetch=O,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(E4,E4.exports)),E4.exports}Cie();let Iu=null;const kc={getSIWX(){return qt.state.siwx},async initializeIfEnabled(e=Ae.getActiveCaipAddress()){const t=qt.state.siwx;if(!(t&&e))return;const[n,r,s]=e.split(":");if(Ae.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(qt.state.remoteFeatures?.emailCapture){const a=Ae.getAccountData(n)?.user;await On.open({view:"DataCapture",data:{email:a?.email??void 0}});return}if(Iu&&await Iu,(await t.getSessions(`${n}:${r}`,s)).length)return;await On.open({view:"SIWXSignMessage"})}catch(a){console.error("SIWXUtil:initializeIfEnabled",a),ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await Tt._getClient()?.disconnect().catch(console.error),Yt.reset("Connect"),Mc.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=qt.state.siwx,t=Ft.getPlainAddress(Ae.getActiveCaipAddress()),n=gd(),r=Tt._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),a=s.toString();It.getConnectorId(n.chainNamespace)===$e.CONNECTOR_ID.AUTH&&Yt.pushTransactionStack({});const i=await r.signMessage(a);await e.addSession({data:s,message:a,signature:i}),Ae.setLastConnectedSIWECaipNetwork(n),On.close(),ir.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const a=this.getSIWXEventProperties();(!On.state.open||Yt.state.view==="ApproveTransaction")&&await On.open({view:"SIWXSignMessage"}),Mc.showError("Error signing message"),ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const t=Ae.getLastConnectedSIWECaipNetwork();if(t){const n=await e?.getSessions(t?.caipNetworkId,Ft.getPlainAddress(Ae.getActiveCaipAddress())||"");n&&n.length>0?await Ae.switchActiveNetwork(t):await Tt.disconnect()}else await Tt.disconnect()}else On.close();On.close(),ir.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=Ae.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const s=await e?.getSessions(r.caipNetworkId,Ft.getPlainAddress(Ae.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(e){const t=qt.state.siwx;let n=e?.address;if(!n){const s=Ae.getActiveCaipAddress();n=Ft.getPlainAddress(s)}let r=e?.caipNetworkId;return r||(r=Ae.getActiveCaipNetwork()?.caipNetworkId),t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=Yt.state.view==="ApproveTransaction",n=Yt.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:s}){const a=kc.getSIWX();if(!a||!s.includes($e.CHAIN.EVM)||qt.state.remoteFeatures?.emailCapture){const h=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:h.address,chainId:h.chainId,accounts:h.accounts}}const i=`${s}:${t}`,o=await a.createMessage({chainId:i,accountAddress:"<<AccountAddress>>"}),c={accountAddress:o.accountAddress,chainId:o.chainId,domain:o.domain,uri:o.uri,version:o.version,nonce:o.nonce,notBefore:o.notBefore,statement:o.statement,resources:o.resources,requestId:o.requestId,issuedAt:o.issuedAt,expirationTime:o.expirationTime,serializedMessage:o.toString()},u=await e.connect({chainId:t,socialUri:n,siwxMessage:c,preferredAccountType:r});return c.accountAddress=u.address,c.serializedMessage=u.message||"",u.signature&&u.message&&await kc.addEmbeddedWalletSession(c,u.message,u.signature),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(e,t,n){if(Iu)return Iu;const r=kc.getSIWX();return r?(Iu=r.addSession({data:e,message:t,signature:n}).finally(()=>{Iu=null}),Iu):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=kc.getSIWX(),s=gd(),a=new Set(t.map(c=>c.split(":")[0]));if(!r||a.size!==1||!a.has("eip155"))return!1;const i=await r.createMessage({chainId:gd()?.caipNetworkId||"",accountAddress:""}),o=await e.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...t.filter(c=>c!==i.chainId)]});if(Mc.showLoading("Authenticating...",{autoClose:!1}),Cn.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(a)[0]),o?.auths?.length){const c=o.auths.map(u=>{const h=e.client.formatAuthMessage({request:u.p,iss:u.p.iss});return{data:{...u.p,accountAddress:u.p.iss.split(":").slice(-1).join(""),chainId:u.p.iss.split(":").slice(2,4).join(":"),uri:u.p.aud,version:u.p.version||i.version,expirationTime:u.p.exp,issuedAt:u.p.iat,notBefore:u.p.nbf},message:h,signature:u.s.s,cacao:u}});try{await r.setSessions(c),s&&Ae.setLastConnectedSIWECaipNetwork(s),ir.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:kc.getSIWXEventProperties()})}catch(u){throw console.error("SIWX:universalProviderAuth - failed to set sessions",u),ir.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:kc.getSIWXEventProperties()}),await e.disconnect().catch(console.error),u}finally{Mc.hide()}}return!0},getSIWXEventProperties(){const e=Ae.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:Ae.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:fo(e)===Qr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},sa={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:$e.CHAIN.EVM,CONNECTOR_TYPE_AUTH:"AUTH"},oa={ConnectorExplorerIds:{[$e.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[$e.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[$e.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[$e.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[$e.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[sa.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[sa.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[sa.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[sa.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[sa.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[sa.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[sa.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[sa.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[sa.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[sa.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[sa.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[$e.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[$e.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[$e.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[$e.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[$e.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[$e.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[$e.CONNECTOR_ID.INJECTED]:"Browser Wallet",[$e.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[$e.CONNECTOR_ID.COINBASE]:"Coinbase",[$e.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[$e.CONNECTOR_ID.LEDGER]:"Ledger",[$e.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[$e.CONNECTOR_ID.INJECTED]:"INJECTED",[$e.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[$e.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[$e.CONNECTOR_ID.AUTH]:"AUTH",[sa.CONNECTOR_TYPE_AUTH]:"AUTH"}},$s={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${sa.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const e=Ae.state.activeChain;return $e.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>It.getConnectorId(t)===$e.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(s=>{async function a(){return r+=1,await e()?s(!0):r>=n?s(!1):(setTimeout(a,t),null)}a()})}},Eie=new AbortController,sc={EmbeddedWalletAbortController:Eie,ALERT_ERRORS:{IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."}}},Aie="rpc.walletconnect.org";function HI(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const A4=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],q0={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===Aie}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:$e.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${$e.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return A4.includes(t)?HI(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(e),a=this.getCaipNetworkId(e),i=e.rpcUrls?.default?.http?.[0],o=this.getDefaultRpcUrl(e,a,n),c=e?.rpcUrls?.chainDefault?.http?.[0]||i,u=r?.[a]?.map(p=>p.url)||[],h=[...u,...o?[o]:[]],f=[...u];return c&&!f.includes(c)&&f.push(c),{...e,chainNamespace:s,caipNetworkId:a,assets:{imageId:oa.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:h},chainDefault:{http:f}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(s=>q0.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(s=>{r.push(Gb(s.url,s.config))}),A4.includes(e.caipNetworkId)&&r.push(Gb(HI(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(s=>{r.push(Gb(s))}),fj(r)},extendWagmiTransports(e,t,n){if(A4.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return fj([n,Gb(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:$e.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=at.getActiveCaipNetworkId(),n=Ae.getAllRequestedCaipNetworks(),r=Array.from(Ae.state.chains?.keys()||[]),s=t?.split(":")[0],a=s?r.includes(s):!1,i=n?.find(o=>o.caipNetworkId===t);return a&&!i&&t?this.getUnsupportedNetwork(t):i||e||n?.[0]}},WI={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},qr={set(e,t){Qi.isClient&&localStorage.setItem(`${bt.STORAGE_KEY}${e}`,t)},get(e){return Qi.isClient?localStorage.getItem(`${bt.STORAGE_KEY}${e}`):null},delete(e,t){Qi.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${bt.STORAGE_KEY}${e}`))}},hw=30*1e3,Qi={checkIfAllowedToTriggerEmail(){const e=qr.get(bt.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<hw){const n=Math.ceil((hw-t)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const e=qr.get(bt.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<hw)return Math.ceil((hw-t)/1e3)}return 0},checkIfRequestExists(e){return Qr.NOT_SAFE_RPC_METHODS.includes(e.method)||Qr.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(WI.transactionHash)||e?.match(WI.signedMessage))?bt.RPC_RESPONSE_TYPE_TX:bt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return Qr.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"};var xn;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const i of s)a[i]=i;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),i={};for(const o of a)i[o]=s[o];return e.objectValues(i)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},e.find=(s,a)=>{for(const i of s)if(a(i))return i},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(xn||(xn={}));var a6;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(a6||(a6={}));const dt=xn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Sc=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},tt=xn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Sie=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class bi extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let o=r,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(i))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,xn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bi.create=e=>new bi(e);const Pg=(e,t)=>{let n;switch(e.code){case tt.invalid_type:e.received===dt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case tt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,xn.jsonStringifyReplacer)}`;break;case tt.unrecognized_keys:n=`Unrecognized key(s) in object: ${xn.joinValues(e.keys,", ")}`;break;case tt.invalid_union:n="Invalid input";break;case tt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xn.joinValues(e.options)}`;break;case tt.invalid_enum_value:n=`Invalid enum value. Expected ${xn.joinValues(e.options)}, received '${e.received}'`;break;case tt.invalid_arguments:n="Invalid function arguments";break;case tt.invalid_return_type:n="Invalid function return type";break;case tt.invalid_date:n="Invalid date";break;case tt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:xn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case tt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case tt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case tt.custom:n="Invalid input";break;case tt.invalid_intersection_types:n="Intersection results could not be merged";break;case tt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case tt.not_finite:n="Number must be finite";break;default:n=t.defaultError,xn.assertNever(e)}return{message:n}};let MF=Pg;function jie(e){MF=e}function Y1(){return MF}const Q1=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],i={...s,path:a};let o="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)o=u(i,{data:t,defaultError:o}).message;return{...s,path:a,message:s.message||o}},_ie=[];function mt(e,t){const n=Q1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Y1(),Pg].filter(r=>!!r)});e.common.issues.push(n)}class ls{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Qt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return ls.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return Qt;a.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(r[a.value]=i.value)}return{status:t.value,value:r}}}const Qt=Object.freeze({status:"aborted"}),zF=e=>({status:"dirty",value:e}),As=e=>({status:"valid",value:e}),i6=e=>e.status==="aborted",o6=e=>e.status==="dirty",Og=e=>e.status==="valid",J1=e=>typeof Promise<"u"&&e instanceof Promise;var Mt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Mt||(Mt={}));class mo{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const GI=(e,t)=>{if(Og(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bi(e.common.issues);return this._error=n,this._error}}};function Xt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,i)=>a.code!=="invalid_type"?{message:i.defaultError}:typeof i.data>"u"?{message:r??i.defaultError}:{message:n??i.defaultError},description:s}}class nn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Sc(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Sc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ls,ctx:{common:t.parent.common,data:t.data,parsedType:Sc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(J1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Sc(t)},a=this._parseSync({data:t,path:s.path,parent:s});return GI(s,a)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Sc(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(J1(s)?s:Promise.resolve(s));return GI(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const i=t(s),o=()=>a.addIssue({code:tt.custom,...r(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(o(),!1)):i?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Ei({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ul.create(this,this._def)}nullable(){return Gd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wi.create(this,this._def)}promise(){return hm.create(this,this._def)}or(t){return Fg.create([this,t],this._def)}and(t){return Dg.create(this,t,this._def)}transform(t){return new Ei({...Xt(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Hg({...Xt(this._def),innerType:this,defaultValue:n,typeName:Ht.ZodDefault})}brand(){return new DF({typeName:Ht.ZodBranded,type:this,...Xt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new nx({...Xt(this._def),innerType:this,catchValue:n,typeName:Ht.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return vy.create(this,t)}readonly(){return sx.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Iie=/^c[^\s-]{8,}$/i,Tie=/^[a-z][a-z0-9]*$/,Pie=/^[0-9A-HJKMNP-TV-Z]{26}$/,Oie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rie=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let S4;const zie=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Fie=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Die=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Bie(e,t){return!!((t==="v4"||!t)&&zie.test(e)||(t==="v6"||!t)&&Fie.test(e))}class pi extends nn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const s=this._getOrReturnCtx(t);return mt(s,{code:tt.invalid_type,expected:dt.string,received:s.parsedType}),Qt}const n=new ls;let r;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,i=t.data.length<s.value;(a||i)&&(r=this._getOrReturnCtx(t,r),a?mt(r,{code:tt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&mt(r,{code:tt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")Rie.test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"email",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")S4||(S4=new RegExp(Mie,"u")),S4.test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"emoji",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Oie.test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"uuid",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Iie.test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"cuid",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")Tie.test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"cuid2",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Pie.test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"ulid",code:tt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),mt(r,{validation:"url",code:tt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"regex",code:tt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Die(s).test(t.data)||(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?Bie(t.data,s.version)||(r=this._getOrReturnCtx(t,r),mt(r,{validation:"ip",code:tt.invalid_string,message:s.message}),n.dirty()):xn.assertNever(s);return{status:n.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:tt.invalid_string,...Mt.errToObj(r)})}_addCheck(t){return new pi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Mt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Mt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Mt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Mt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Mt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Mt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Mt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Mt.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,...Mt.errToObj(t?.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Mt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...Mt.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Mt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Mt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Mt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Mt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Mt.errToObj(n)})}nonempty(t){return this.min(1,Mt.errToObj(t))}trim(){return new pi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}pi.create=e=>{var t;return new pi({checks:[],typeName:Ht.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Xt(e)})};function Lie(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(e.toFixed(s).replace(".","")),i=parseInt(t.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}class Gc extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const s=this._getOrReturnCtx(t);return mt(s,{code:tt.invalid_type,expected:dt.number,received:s.parsedType}),Qt}let n;const r=new ls;for(const s of this._def.checks)s.kind==="int"?xn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?Lie(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.not_finite,message:s.message}),r.dirty()):xn.assertNever(s);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Mt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Mt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Mt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Mt.toString(n))}setLimit(t,n,r,s){return new Gc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Mt.toString(s)}]})}_addCheck(t){return new Gc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Mt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Mt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Mt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Gc.create=e=>new Gc({checks:[],typeName:Ht.ZodNumber,coerce:e?.coerce||!1,...Xt(e)});class qc extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==dt.bigint){const s=this._getOrReturnCtx(t);return mt(s,{code:tt.invalid_type,expected:dt.bigint,received:s.parsedType}),Qt}let n;const r=new ls;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),mt(n,{code:tt.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):xn.assertNever(s);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Mt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Mt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Mt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Mt.toString(n))}setLimit(t,n,r,s){return new qc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Mt.toString(s)}]})}_addCheck(t){return new qc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Mt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}qc.create=e=>{var t;return new qc({checks:[],typeName:Ht.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Xt(e)})};class Rg extends nn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const n=this._getOrReturnCtx(t);return mt(n,{code:tt.invalid_type,expected:dt.boolean,received:n.parsedType}),Qt}return As(t.data)}}Rg.create=e=>new Rg({typeName:Ht.ZodBoolean,coerce:e?.coerce||!1,...Xt(e)});class Hd extends nn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const s=this._getOrReturnCtx(t);return mt(s,{code:tt.invalid_type,expected:dt.date,received:s.parsedType}),Qt}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return mt(s,{code:tt.invalid_date}),Qt}const n=new ls;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),mt(r,{code:tt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):xn.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hd({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Mt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Mt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Hd.create=e=>new Hd({checks:[],coerce:e?.coerce||!1,typeName:Ht.ZodDate,...Xt(e)});class X1 extends nn{_parse(t){if(this._getType(t)!==dt.symbol){const n=this._getOrReturnCtx(t);return mt(n,{code:tt.invalid_type,expected:dt.symbol,received:n.parsedType}),Qt}return As(t.data)}}X1.create=e=>new X1({typeName:Ht.ZodSymbol,...Xt(e)});class Mg extends nn{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return mt(n,{code:tt.invalid_type,expected:dt.undefined,received:n.parsedType}),Qt}return As(t.data)}}Mg.create=e=>new Mg({typeName:Ht.ZodUndefined,...Xt(e)});class zg extends nn{_parse(t){if(this._getType(t)!==dt.null){const n=this._getOrReturnCtx(t);return mt(n,{code:tt.invalid_type,expected:dt.null,received:n.parsedType}),Qt}return As(t.data)}}zg.create=e=>new zg({typeName:Ht.ZodNull,...Xt(e)});class dm extends nn{constructor(){super(...arguments),this._any=!0}_parse(t){return As(t.data)}}dm.create=e=>new dm({typeName:Ht.ZodAny,...Xt(e)});class Ad extends nn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return As(t.data)}}Ad.create=e=>new Ad({typeName:Ht.ZodUnknown,...Xt(e)});class pl extends nn{_parse(t){const n=this._getOrReturnCtx(t);return mt(n,{code:tt.invalid_type,expected:dt.never,received:n.parsedType}),Qt}}pl.create=e=>new pl({typeName:Ht.ZodNever,...Xt(e)});class ex extends nn{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return mt(n,{code:tt.invalid_type,expected:dt.void,received:n.parsedType}),Qt}return As(t.data)}}ex.create=e=>new ex({typeName:Ht.ZodVoid,...Xt(e)});class wi extends nn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==dt.array)return mt(n,{code:tt.invalid_type,expected:dt.array,received:n.parsedType}),Qt;if(s.exactLength!==null){const i=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(i||o)&&(mt(n,{code:i?tt.too_big:tt.too_small,minimum:o?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(mt(n,{code:tt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(mt(n,{code:tt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,o)=>s.type._parseAsync(new mo(n,i,n.path,o)))).then(i=>ls.mergeArray(r,i));const a=[...n.data].map((i,o)=>s.type._parseSync(new mo(n,i,n.path,o)));return ls.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new wi({...this._def,minLength:{value:t,message:Mt.toString(n)}})}max(t,n){return new wi({...this._def,maxLength:{value:t,message:Mt.toString(n)}})}length(t,n){return new wi({...this._def,exactLength:{value:t,message:Mt.toString(n)}})}nonempty(t){return this.min(1,t)}}wi.create=(e,t)=>new wi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...Xt(t)});function vf(e){if(e instanceof rr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ul.create(vf(r))}return new rr({...e._def,shape:()=>t})}else return e instanceof wi?new wi({...e._def,type:vf(e.element)}):e instanceof ul?ul.create(vf(e.unwrap())):e instanceof Gd?Gd.create(vf(e.unwrap())):e instanceof po?po.create(e.items.map(t=>vf(t))):e}class rr extends nn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=xn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==dt.object){const c=this._getOrReturnCtx(t);return mt(c,{code:tt.invalid_type,expected:dt.object,received:c.parsedType}),Qt}const{status:n,ctx:r}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof pl&&this._def.unknownKeys==="strip"))for(const c in r.data)a.includes(c)||i.push(c);const o=[];for(const c of a){const u=s[c],h=r.data[c];o.push({key:{status:"valid",value:c},value:u._parse(new mo(r,h,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof pl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of i)o.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(c==="strict")i.length>0&&(mt(r,{code:tt.unrecognized_keys,keys:i}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of i){const h=r.data[u];o.push({key:{status:"valid",value:u},value:c._parse(new mo(r,h,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of o){const h=await u.key;c.push({key:h,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>ls.mergeObjectSync(n,c)):ls.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(t){return Mt.errToObj,new rr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a,i,o;const c=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=Mt.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new rr({...this._def,unknownKeys:"strip"})}passthrough(){return new rr({...this._def,unknownKeys:"passthrough"})}extend(t){return new rr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new rr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ht.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new rr({...this._def,catchall:t})}pick(t){const n={};return xn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new rr({...this._def,shape:()=>n})}omit(t){const n={};return xn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new rr({...this._def,shape:()=>n})}deepPartial(){return vf(this)}partial(t){const n={};return xn.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new rr({...this._def,shape:()=>n})}required(t){const n={};return xn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ul;)s=s._def.innerType;n[r]=s}}),new rr({...this._def,shape:()=>n})}keyof(){return FF(xn.objectKeys(this.shape))}}rr.create=(e,t)=>new rr({shape:()=>e,unknownKeys:"strip",catchall:pl.create(),typeName:Ht.ZodObject,...Xt(t)});rr.strictCreate=(e,t)=>new rr({shape:()=>e,unknownKeys:"strict",catchall:pl.create(),typeName:Ht.ZodObject,...Xt(t)});rr.lazycreate=(e,t)=>new rr({shape:e,unknownKeys:"strip",catchall:pl.create(),typeName:Ht.ZodObject,...Xt(t)});class Fg extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new bi(o.ctx.common.issues));return mt(n,{code:tt.invalid_union,unionErrors:i}),Qt}if(n.common.async)return Promise.all(r.map(async a=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(s);{let a;const i=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(c=>new bi(c));return mt(n,{code:tt.invalid_union,unionErrors:o}),Qt}}get options(){return this._def.options}}Fg.create=(e,t)=>new Fg({options:e,typeName:Ht.ZodUnion,...Xt(t)});const o1=e=>e instanceof Lg?o1(e.schema):e instanceof Ei?o1(e.innerType()):e instanceof Ug?[e.value]:e instanceof Vc?e.options:e instanceof $g?Object.keys(e.enum):e instanceof Hg?o1(e._def.innerType):e instanceof Mg?[void 0]:e instanceof zg?[null]:null;class xv extends nn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.object)return mt(n,{code:tt.invalid_type,expected:dt.object,received:n.parsedType}),Qt;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(mt(n,{code:tt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const i=o1(a.shape[t]);if(!i)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of i){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,a)}}return new xv({typeName:Ht.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Xt(r)})}}function l6(e,t){const n=Sc(e),r=Sc(t);if(e===t)return{valid:!0,data:e};if(n===dt.object&&r===dt.object){const s=xn.objectKeys(t),a=xn.objectKeys(e).filter(o=>s.indexOf(o)!==-1),i={...e,...t};for(const o of a){const c=l6(e[o],t[o]);if(!c.valid)return{valid:!1};i[o]=c.data}return{valid:!0,data:i}}else if(n===dt.array&&r===dt.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const i=e[a],o=t[a],c=l6(i,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===dt.date&&r===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Dg extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,i)=>{if(i6(a)||i6(i))return Qt;const o=l6(a.value,i.value);return o.valid?((o6(a)||o6(i))&&n.dirty(),{status:n.value,value:o.data}):(mt(r,{code:tt.invalid_intersection_types}),Qt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Dg.create=(e,t,n)=>new Dg({left:e,right:t,typeName:Ht.ZodIntersection,...Xt(n)});class po extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.array)return mt(r,{code:tt.invalid_type,expected:dt.array,received:r.parsedType}),Qt;if(r.data.length<this._def.items.length)return mt(r,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&r.data.length>this._def.items.length&&(mt(r,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,i)=>{const o=this._def.items[i]||this._def.rest;return o?o._parse(new mo(r,a,r.path,i)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>ls.mergeArray(n,a)):ls.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new po({...this._def,rest:t})}}po.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new po({items:e,typeName:Ht.ZodTuple,rest:null,...Xt(t)})};class Bg extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.object)return mt(r,{code:tt.invalid_type,expected:dt.object,received:r.parsedType}),Qt;const s=[],a=this._def.keyType,i=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new mo(r,o,r.path,o)),value:i._parse(new mo(r,r.data[o],r.path,o))});return r.common.async?ls.mergeObjectAsync(n,s):ls.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof nn?new Bg({keyType:t,valueType:n,typeName:Ht.ZodRecord,...Xt(r)}):new Bg({keyType:pi.create(),valueType:t,typeName:Ht.ZodRecord,...Xt(n)})}}class tx extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.map)return mt(r,{code:tt.invalid_type,expected:dt.map,received:r.parsedType}),Qt;const s=this._def.keyType,a=this._def.valueType,i=[...r.data.entries()].map(([o,c],u)=>({key:s._parse(new mo(r,o,r.path,[u,"key"])),value:a._parse(new mo(r,c,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return Qt;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(u.value,h.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const c of i){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return Qt;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(u.value,h.value)}return{status:n.value,value:o}}}}tx.create=(e,t,n)=>new tx({valueType:t,keyType:e,typeName:Ht.ZodMap,...Xt(n)});class Wd extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.set)return mt(r,{code:tt.invalid_type,expected:dt.set,received:r.parsedType}),Qt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(mt(r,{code:tt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(mt(r,{code:tt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function i(c){const u=new Set;for(const h of c){if(h.status==="aborted")return Qt;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((c,u)=>a._parse(new mo(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>i(c)):i(o)}min(t,n){return new Wd({...this._def,minSize:{value:t,message:Mt.toString(n)}})}max(t,n){return new Wd({...this._def,maxSize:{value:t,message:Mt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Wd.create=(e,t)=>new Wd({valueType:e,minSize:null,maxSize:null,typeName:Ht.ZodSet,...Xt(t)});class Hf extends nn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.function)return mt(n,{code:tt.invalid_type,expected:dt.function,received:n.parsedType}),Qt;function r(o,c){return Q1({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Y1(),Pg].filter(u=>!!u),issueData:{code:tt.invalid_arguments,argumentsError:c}})}function s(o,c){return Q1({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Y1(),Pg].filter(u=>!!u),issueData:{code:tt.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof hm){const o=this;return As(async function(...c){const u=new bi([]),h=await o._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(r(c,p)),u}),f=await Reflect.apply(i,this,h);return await o._def.returns._def.type.parseAsync(f,a).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const o=this;return As(function(...c){const u=o._def.args.safeParse(c,a);if(!u.success)throw new bi([r(c,u.error)]);const h=Reflect.apply(i,this,u.data),f=o._def.returns.safeParse(h,a);if(!f.success)throw new bi([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Hf({...this._def,args:po.create(t).rest(Ad.create())})}returns(t){return new Hf({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Hf({args:t||po.create([]).rest(Ad.create()),returns:n||Ad.create(),typeName:Ht.ZodFunction,...Xt(r)})}}class Lg extends nn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Lg.create=(e,t)=>new Lg({getter:e,typeName:Ht.ZodLazy,...Xt(t)});class Ug extends nn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return mt(n,{received:n.data,code:tt.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ug.create=(e,t)=>new Ug({value:e,typeName:Ht.ZodLiteral,...Xt(t)});function FF(e,t){return new Vc({values:e,typeName:Ht.ZodEnum,...Xt(t)})}class Vc extends nn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return mt(n,{expected:xn.joinValues(r),received:n.parsedType,code:tt.invalid_type}),Qt}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return mt(n,{received:n.data,code:tt.invalid_enum_value,options:r}),Qt}return As(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Vc.create(t)}exclude(t){return Vc.create(this.options.filter(n=>!t.includes(n)))}}Vc.create=FF;class $g extends nn{_parse(t){const n=xn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==dt.string&&r.parsedType!==dt.number){const s=xn.objectValues(n);return mt(r,{expected:xn.joinValues(s),received:r.parsedType,code:tt.invalid_type}),Qt}if(n.indexOf(t.data)===-1){const s=xn.objectValues(n);return mt(r,{received:r.data,code:tt.invalid_enum_value,options:s}),Qt}return As(t.data)}get enum(){return this._def.values}}$g.create=(e,t)=>new $g({values:e,typeName:Ht.ZodNativeEnum,...Xt(t)});class hm extends nn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.promise&&n.common.async===!1)return mt(n,{code:tt.invalid_type,expected:dt.promise,received:n.parsedType}),Qt;const r=n.parsedType===dt.promise?n.data:Promise.resolve(n.data);return As(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}hm.create=(e,t)=>new hm({type:e,typeName:Ht.ZodPromise,...Xt(t)});class Ei extends nn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:i=>{mt(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const i=s.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(i).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:i,path:r.path,parent:r})}if(s.type==="refinement"){const i=o=>{const c=s.refinement(o,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Qt:(o.status==="dirty"&&n.dirty(),i(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Qt:(o.status==="dirty"&&n.dirty(),i(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Og(i))return i;const o=s.transform(i.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Og(i)?Promise.resolve(s.transform(i.value,a)).then(o=>({status:n.value,value:o})):i);xn.assertNever(s)}}Ei.create=(e,t,n)=>new Ei({schema:e,typeName:Ht.ZodEffects,effect:t,...Xt(n)});Ei.createWithPreprocess=(e,t,n)=>new Ei({schema:t,effect:{type:"preprocess",transform:e},typeName:Ht.ZodEffects,...Xt(n)});class ul extends nn{_parse(t){return this._getType(t)===dt.undefined?As(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ul.create=(e,t)=>new ul({innerType:e,typeName:Ht.ZodOptional,...Xt(t)});class Gd extends nn{_parse(t){return this._getType(t)===dt.null?As(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gd.create=(e,t)=>new Gd({innerType:e,typeName:Ht.ZodNullable,...Xt(t)});class Hg extends nn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===dt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Hg.create=(e,t)=>new Hg({innerType:e,typeName:Ht.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xt(t)});class nx extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return J1(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nx.create=(e,t)=>new nx({innerType:e,typeName:Ht.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xt(t)});class rx extends nn{_parse(t){if(this._getType(t)!==dt.nan){const n=this._getOrReturnCtx(t);return mt(n,{code:tt.invalid_type,expected:dt.nan,received:n.parsedType}),Qt}return{status:"valid",value:t.data}}}rx.create=e=>new rx({typeName:Ht.ZodNaN,...Xt(e)});const Uie=Symbol("zod_brand");class DF extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class vy extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Qt:s.status==="dirty"?(n.dirty(),zF(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Qt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new vy({in:t,out:n,typeName:Ht.ZodPipeline})}}class sx extends nn{_parse(t){const n=this._def.innerType._parse(t);return Og(n)&&(n.value=Object.freeze(n.value)),n}}sx.create=(e,t)=>new sx({innerType:e,typeName:Ht.ZodReadonly,...Xt(t)});const BF=(e,t={},n)=>e?dm.create().superRefine((r,s)=>{var a,i;if(!e(r)){const o=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,c=(i=(a=o.fatal)!==null&&a!==void 0?a:n)!==null&&i!==void 0?i:!0,u=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...u,fatal:c})}}):dm.create(),$ie={object:rr.lazycreate};var Ht;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const Hie=(e,t={message:`Input not instance of ${e.name}`})=>BF(n=>n instanceof e,t),LF=pi.create,UF=Gc.create,Wie=rx.create,Gie=qc.create,$F=Rg.create,qie=Hd.create,Vie=X1.create,Kie=Mg.create,Zie=zg.create,Yie=dm.create,Qie=Ad.create,Jie=pl.create,Xie=ex.create,eoe=wi.create,toe=rr.create,noe=rr.strictCreate,roe=Fg.create,soe=xv.create,aoe=Dg.create,ioe=po.create,ooe=Bg.create,loe=tx.create,coe=Wd.create,uoe=Hf.create,doe=Lg.create,hoe=Ug.create,foe=Vc.create,moe=$g.create,poe=hm.create,qI=Ei.create,goe=ul.create,yoe=Gd.create,boe=Ei.createWithPreprocess,woe=vy.create,xoe=()=>LF().optional(),voe=()=>UF().optional(),Noe=()=>$F().optional(),koe={string:e=>pi.create({...e,coerce:!0}),number:e=>Gc.create({...e,coerce:!0}),boolean:e=>Rg.create({...e,coerce:!0}),bigint:e=>qc.create({...e,coerce:!0}),date:e=>Hd.create({...e,coerce:!0})},Coe=Qt;var te=Object.freeze({__proto__:null,defaultErrorMap:Pg,setErrorMap:jie,getErrorMap:Y1,makeIssue:Q1,EMPTY_PATH:_ie,addIssueToContext:mt,ParseStatus:ls,INVALID:Qt,DIRTY:zF,OK:As,isAborted:i6,isDirty:o6,isValid:Og,isAsync:J1,get util(){return xn},get objectUtil(){return a6},ZodParsedType:dt,getParsedType:Sc,ZodType:nn,ZodString:pi,ZodNumber:Gc,ZodBigInt:qc,ZodBoolean:Rg,ZodDate:Hd,ZodSymbol:X1,ZodUndefined:Mg,ZodNull:zg,ZodAny:dm,ZodUnknown:Ad,ZodNever:pl,ZodVoid:ex,ZodArray:wi,ZodObject:rr,ZodUnion:Fg,ZodDiscriminatedUnion:xv,ZodIntersection:Dg,ZodTuple:po,ZodRecord:Bg,ZodMap:tx,ZodSet:Wd,ZodFunction:Hf,ZodLazy:Lg,ZodLiteral:Ug,ZodEnum:Vc,ZodNativeEnum:$g,ZodPromise:hm,ZodEffects:Ei,ZodTransformer:Ei,ZodOptional:ul,ZodNullable:Gd,ZodDefault:Hg,ZodCatch:nx,ZodNaN:rx,BRAND:Uie,ZodBranded:DF,ZodPipeline:vy,ZodReadonly:sx,custom:BF,Schema:nn,ZodSchema:nn,late:$ie,get ZodFirstPartyTypeKind(){return Ht},coerce:koe,any:Yie,array:eoe,bigint:Gie,boolean:$F,date:qie,discriminatedUnion:soe,effect:qI,enum:foe,function:uoe,instanceof:Hie,intersection:aoe,lazy:doe,literal:hoe,map:loe,nan:Wie,nativeEnum:moe,never:Jie,null:Zie,nullable:yoe,number:UF,object:toe,oboolean:Noe,onumber:voe,optional:goe,ostring:xoe,pipeline:woe,preprocess:boe,promise:poe,record:ooe,set:coe,strictObject:noe,string:LF,symbol:Vie,transformer:qI,tuple:ioe,undefined:Kie,union:roe,unknown:Qie,void:Xie,NEVER:Coe,ZodIssueCode:tt,quotelessJson:Sie,ZodError:bi});const lr=te.object({message:te.string()});function ht(e){return te.literal(bt[e])}const vv=te.object({serializedMessage:te.string().optional(),accountAddress:te.string(),chainId:te.string(),notBefore:te.string().optional(),domain:te.string(),uri:te.string(),version:te.string(),nonce:te.string(),statement:te.string().optional(),resources:te.array(te.string()).optional(),requestId:te.string().optional(),issuedAt:te.string().optional(),expirationTime:te.string().optional()});te.object({accessList:te.array(te.string()),blockHash:te.string().nullable(),blockNumber:te.string().nullable(),chainId:te.string().or(te.number()),from:te.string(),gas:te.string(),hash:te.string(),input:te.string().nullable(),maxFeePerGas:te.string(),maxPriorityFeePerGas:te.string(),nonce:te.string(),r:te.string(),s:te.string(),to:te.string(),transactionIndex:te.string().nullable(),type:te.string(),v:te.string(),value:te.string()});const Eoe=te.object({chainId:te.string().or(te.number()),rpcUrl:te.optional(te.string())}),Aoe=te.object({email:te.string().email()}),Soe=te.object({otp:te.string()}),joe=te.object({uri:te.string(),preferredAccountType:te.optional(te.string()),chainId:te.optional(te.string().or(te.number())),siwxMessage:te.optional(vv),rpcUrl:te.optional(te.string())}),_oe=te.object({chainId:te.optional(te.string().or(te.number())),preferredAccountType:te.optional(te.string()),socialUri:te.optional(te.string()),siwxMessage:te.optional(vv),rpcUrl:te.optional(te.string())}),Ioe=te.object({provider:te.enum(["google","github","apple","facebook","x","discord"])}),Toe=te.object({email:te.string().email()}),Poe=te.object({otp:te.string()}),Ooe=te.object({otp:te.string()}),Roe=te.object({themeMode:te.optional(te.enum(["light","dark"])),themeVariables:te.optional(te.record(te.string(),te.string().or(te.number()))),w3mThemeVariables:te.optional(te.record(te.string(),te.string()))}),Moe=te.object({metadata:te.object({name:te.string(),description:te.string(),url:te.string(),icons:te.array(te.string())}).optional(),sdkVersion:te.string().optional(),sdkType:te.string().optional(),projectId:te.string()}),zoe=te.object({type:te.string()}),Foe=te.object({action:te.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Doe=te.object({url:te.string()}),Boe=te.object({userName:te.string()}),Loe=te.object({email:te.string().optional().nullable(),address:te.string(),chainId:te.string().or(te.number()),accounts:te.array(te.object({address:te.string(),type:te.enum([Qr.ACCOUNT_TYPES.EOA,Qr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:te.string().optional().nullable(),preferredAccountType:te.optional(te.string()),signature:te.string().optional(),message:te.string().optional(),siwxMessage:te.optional(vv)}),Uoe=te.object({action:te.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),$oe=te.object({email:te.string().email().optional().nullable(),address:te.string(),chainId:te.string().or(te.number()),smartAccountDeployed:te.optional(te.boolean()),accounts:te.array(te.object({address:te.string(),type:te.enum([Qr.ACCOUNT_TYPES.EOA,Qr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:te.optional(te.string()),signature:te.string().optional(),message:te.string().optional(),siwxMessage:te.optional(vv)}),Hoe=te.object({uri:te.string()}),Woe=te.object({isConnected:te.boolean()}),Goe=te.object({chainId:te.string().or(te.number())}),qoe=te.object({chainId:te.string().or(te.number())}),Voe=te.object({newEmail:te.string().email()}),Koe=te.object({smartAccountEnabledNetworks:te.array(te.number())});te.object({address:te.string(),isDeployed:te.boolean()});const Zoe=te.object({version:te.string().optional()}),Yoe=te.object({type:te.string(),address:te.string()}),Qoe=te.any(),Joe=te.object({method:te.literal("eth_accounts")}),Xoe=te.object({method:te.literal("eth_blockNumber")}),ele=te.object({method:te.literal("eth_call"),params:te.array(te.any())}),tle=te.object({method:te.literal("eth_chainId")}),nle=te.object({method:te.literal("eth_estimateGas"),params:te.array(te.any())}),rle=te.object({method:te.literal("eth_feeHistory"),params:te.array(te.any())}),sle=te.object({method:te.literal("eth_gasPrice")}),ale=te.object({method:te.literal("eth_getAccount"),params:te.array(te.any())}),ile=te.object({method:te.literal("eth_getBalance"),params:te.array(te.any())}),ole=te.object({method:te.literal("eth_getBlockByHash"),params:te.array(te.any())}),lle=te.object({method:te.literal("eth_getBlockByNumber"),params:te.array(te.any())}),cle=te.object({method:te.literal("eth_getBlockReceipts"),params:te.array(te.any())}),ule=te.object({method:te.literal("eth_getBlockTransactionCountByHash"),params:te.array(te.any())}),dle=te.object({method:te.literal("eth_getBlockTransactionCountByNumber"),params:te.array(te.any())}),hle=te.object({method:te.literal("eth_getCode"),params:te.array(te.any())}),fle=te.object({method:te.literal("eth_getFilterChanges"),params:te.array(te.any())}),mle=te.object({method:te.literal("eth_getFilterLogs"),params:te.array(te.any())}),ple=te.object({method:te.literal("eth_getLogs"),params:te.array(te.any())}),gle=te.object({method:te.literal("eth_getProof"),params:te.array(te.any())}),yle=te.object({method:te.literal("eth_getStorageAt"),params:te.array(te.any())}),ble=te.object({method:te.literal("eth_getTransactionByBlockHashAndIndex"),params:te.array(te.any())}),wle=te.object({method:te.literal("eth_getTransactionByBlockNumberAndIndex"),params:te.array(te.any())}),xle=te.object({method:te.literal("eth_getTransactionByHash"),params:te.array(te.any())}),vle=te.object({method:te.literal("eth_getTransactionCount"),params:te.array(te.any())}),Nle=te.object({method:te.literal("eth_getTransactionReceipt"),params:te.array(te.any())}),kle=te.object({method:te.literal("eth_getUncleCountByBlockHash"),params:te.array(te.any())}),Cle=te.object({method:te.literal("eth_getUncleCountByBlockNumber"),params:te.array(te.any())}),Ele=te.object({method:te.literal("eth_maxPriorityFeePerGas")}),Ale=te.object({method:te.literal("eth_newBlockFilter")}),Sle=te.object({method:te.literal("eth_newFilter"),params:te.array(te.any())}),jle=te.object({method:te.literal("eth_newPendingTransactionFilter")}),_le=te.object({method:te.literal("eth_sendRawTransaction"),params:te.array(te.any())}),Ile=te.object({method:te.literal("eth_syncing"),params:te.array(te.any())}),Tle=te.object({method:te.literal("eth_uninstallFilter"),params:te.array(te.any())}),VI=te.object({method:te.literal("personal_sign"),params:te.array(te.any())}),Ple=te.object({method:te.literal("eth_signTypedData_v4"),params:te.array(te.any())}),Ole=te.object({method:te.literal("eth_sendTransaction"),params:te.array(te.any())}),Rle=te.object({method:te.literal("solana_signMessage"),params:te.object({message:te.string(),pubkey:te.string()})}),Mle=te.object({method:te.literal("solana_signTransaction"),params:te.object({transaction:te.string()})}),zle=te.object({method:te.literal("solana_signAllTransactions"),params:te.object({transactions:te.array(te.string())})}),Fle=te.object({method:te.literal("solana_signAndSendTransaction"),params:te.object({transaction:te.string(),options:te.object({skipPreflight:te.boolean().optional(),preflightCommitment:te.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:te.number().optional(),minContextSlot:te.number().optional()}).optional()})}),Dle=te.object({method:te.literal("wallet_sendCalls"),params:te.array(te.object({chainId:te.string().or(te.number()).optional(),from:te.string().optional(),version:te.string().optional(),capabilities:te.any().optional(),calls:te.array(te.object({to:te.string().startsWith("0x"),data:te.string().startsWith("0x").optional(),value:te.string().optional()}))}))}),Ble=te.object({method:te.literal("wallet_getCallsStatus"),params:te.array(te.string())}),Lle=te.object({method:te.literal("wallet_getCapabilities"),params:te.array(te.string().or(te.number()).optional()).optional()}),Ule=te.object({method:te.literal("wallet_grantPermissions"),params:te.array(te.any())}),$le=te.object({method:te.literal("wallet_revokePermissions"),params:te.any()}),Hle=te.object({method:te.literal("wallet_getAssets"),params:te.any()}),KI=te.object({token:te.string()}),ft=te.object({id:te.string().optional()}),j4={appEvent:ft.extend({type:ht("APP_SWITCH_NETWORK"),payload:Eoe}).or(ft.extend({type:ht("APP_CONNECT_EMAIL"),payload:Aoe})).or(ft.extend({type:ht("APP_CONNECT_DEVICE")})).or(ft.extend({type:ht("APP_CONNECT_OTP"),payload:Soe})).or(ft.extend({type:ht("APP_CONNECT_SOCIAL"),payload:joe})).or(ft.extend({type:ht("APP_GET_FARCASTER_URI")})).or(ft.extend({type:ht("APP_CONNECT_FARCASTER")})).or(ft.extend({type:ht("APP_GET_USER"),payload:te.optional(_oe)})).or(ft.extend({type:ht("APP_GET_SOCIAL_REDIRECT_URI"),payload:Ioe})).or(ft.extend({type:ht("APP_SIGN_OUT")})).or(ft.extend({type:ht("APP_IS_CONNECTED"),payload:te.optional(KI)})).or(ft.extend({type:ht("APP_GET_CHAIN_ID")})).or(ft.extend({type:ht("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(ft.extend({type:ht("APP_INIT_SMART_ACCOUNT")})).or(ft.extend({type:ht("APP_SET_PREFERRED_ACCOUNT"),payload:zoe})).or(ft.extend({type:ht("APP_RPC_REQUEST"),payload:VI.or(Hle).or(Joe).or(Xoe).or(ele).or(tle).or(nle).or(rle).or(sle).or(ale).or(ile).or(ole).or(lle).or(cle).or(ule).or(dle).or(hle).or(fle).or(mle).or(ple).or(gle).or(yle).or(ble).or(wle).or(xle).or(vle).or(Nle).or(kle).or(Cle).or(Ele).or(Ale).or(Sle).or(jle).or(_le).or(Ile).or(Tle).or(VI).or(Ple).or(Ole).or(Rle).or(Mle).or(zle).or(Fle).or(Ble).or(Dle).or(Lle).or(Ule).or($le).and(te.object({chainId:te.string().or(te.number()).optional(),chainNamespace:te.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:te.string().optional()}))})).or(ft.extend({type:ht("APP_UPDATE_EMAIL"),payload:Toe})).or(ft.extend({type:ht("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:Poe})).or(ft.extend({type:ht("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Ooe})).or(ft.extend({type:ht("APP_SYNC_THEME"),payload:Roe})).or(ft.extend({type:ht("APP_SYNC_DAPP_DATA"),payload:Moe})).or(ft.extend({type:ht("APP_RELOAD")})).or(ft.extend({type:ht("APP_RPC_ABORT")})),frameEvent:ft.extend({type:ht("FRAME_SWITCH_NETWORK_ERROR"),payload:lr}).or(ft.extend({type:ht("FRAME_SWITCH_NETWORK_SUCCESS"),payload:qoe})).or(ft.extend({type:ht("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Foe})).or(ft.extend({type:ht("FRAME_CONNECT_EMAIL_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Doe})).or(ft.extend({type:ht("FRAME_GET_FARCASTER_URI_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Boe})).or(ft.extend({type:ht("FRAME_CONNECT_FARCASTER_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_OTP_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_OTP_SUCCESS")})).or(ft.extend({type:ht("FRAME_CONNECT_DEVICE_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_CONNECT_DEVICE_SUCCESS")})).or(ft.extend({type:ht("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Loe})).or(ft.extend({type:ht("FRAME_CONNECT_SOCIAL_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_USER_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_USER_SUCCESS"),payload:$oe})).or(ft.extend({type:ht("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Hoe})).or(ft.extend({type:ht("FRAME_SIGN_OUT_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SIGN_OUT_SUCCESS")})).or(ft.extend({type:ht("FRAME_IS_CONNECTED_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_IS_CONNECTED_SUCCESS"),payload:Woe})).or(ft.extend({type:ht("FRAME_GET_CHAIN_ID_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Goe})).or(ft.extend({type:ht("FRAME_RPC_REQUEST_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_RPC_REQUEST_SUCCESS"),payload:Qoe})).or(ft.extend({type:ht("FRAME_SESSION_UPDATE"),payload:KI})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Uoe})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:Voe})).or(ft.extend({type:ht("FRAME_SYNC_THEME_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SYNC_THEME_SUCCESS")})).or(ft.extend({type:ht("FRAME_SYNC_DAPP_DATA_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(ft.extend({type:ht("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:Koe})).or(ft.extend({type:ht("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:Yoe})).or(ft.extend({type:ht("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_READY"),payload:Zoe})).or(ft.extend({type:ht("FRAME_RELOAD_ERROR"),payload:lr})).or(ft.extend({type:ht("FRAME_RELOAD_SUCCESS")}))};function _4(e,t={}){return typeof t?.type=="string"&&t?.type?.includes(e)}function Wle({projectId:e,chainId:t,enableLogger:n,rpcUrl:r=$e.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:s=!1}){const a=new URL(eae);return a.searchParams.set("projectId",e),a.searchParams.set("chainId",String(t)),a.searchParams.set("version",nae),a.searchParams.set("enableLogger",String(n)),a.searchParams.set("rpcUrl",r),s&&a.searchParams.set("enableCloudAuthAccount","true"),a.toString()}class Gle{constructor({projectId:t,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:s=!0,enableCloudAuthAccount:a=!1,rpcUrl:i=$e.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const o=document.getElementById("w3m-iframe");this.iframe&&!o&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(o,c,u)=>{function h({data:f}){if(!_4(bt.FRAME_EVENT_KEY,f))return;const p=j4.frameEvent.safeParse(f);if(!p.success){console.warn("W3mFrame: invalid frame event",p.error.message);return}p.data?.id===o&&(c(p.data),window.removeEventListener("message",h))}Qi.isClient&&(window.addEventListener("message",h),u.addEventListener("abort",()=>{window.removeEventListener("message",h)}))},onFrameEvent:o=>{Qi.isClient&&window.addEventListener("message",({data:c})=>{if(!_4(bt.FRAME_EVENT_KEY,c))return;const u=j4.frameEvent.safeParse(c);u.success?o(u.data):console.warn("W3mFrame: invalid frame event",u.error.message)})},onAppEvent:o=>{Qi.isClient&&window.addEventListener("message",({data:c})=>{if(!_4(bt.APP_EVENT_KEY,c))return;const u=j4.appEvent.safeParse(c);u.success||console.warn("W3mFrame: invalid app event",u.error.message),o(c)})},postAppEvent:o=>{if(Qi.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(o,"*")}},postFrameEvent:o=>{if(Qi.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(o,"*")}}},this.projectId=t,this.frameLoadPromise=new Promise((o,c)=>{this.frameLoadPromiseResolver={resolve:o,reject:c}}),this.rpcUrl=i,n&&(this.frameLoadPromise=new Promise((o,c)=>{this.frameLoadPromiseResolver={resolve:o,reject:c}}),Qi.isClient)){const o=document.createElement("iframe");o.id="w3m-iframe",o.src=Wle({projectId:t,chainId:r,enableLogger:s,rpcUrl:this.rpcUrl,enableCloudAuthAccount:a}),o.name="w3m-secure-iframe",o.style.position="fixed",o.style.zIndex="999999",o.style.display="none",o.style.border="none",o.style.animationDelay="0s, 50ms",o.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",o.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=o,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const t=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...t)}}class qle{constructor(t){const n=Hae({level:tae}),{logger:r,chunkLoggerController:s}=Qae({opts:n});this.logger=Kae(r,this.constructor.name),this.chunkLoggerController=s,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:t})})}}class Vle{constructor({projectId:t,chainId:n,enableLogger:r=!0,onTimeout:s,abortController:a,getActiveCaipNetwork:i,getCaipNetworks:o,enableCloudAuthAccount:c}){this.openRpcRequests=[],this.isInitialized=!1,r&&(this.w3mLogger=new qle(t)),this.abortController=a,this.getActiveCaipNetwork=i,this.getCaipNetworks=o;const u=this.getRpcUrl(n);this.w3mFrame=new Gle({projectId:t,isAppClient:!0,chainId:n,enableLogger:r,rpcUrl:u,enableCloudAuthAccount:c}),this.onTimeout=s,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(t=>{this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_READY&&setTimeout(()=>{t()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!qr.get(bt.EMAIL_LOGIN_USED_KEY)}getEmail(){return qr.get(bt.EMAIL)}getUsername(){return qr.get(bt.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:bt.APP_RELOAD})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error reloading iframe"),t}}async connectEmail(t){try{Qi.checkIfAllowedToTriggerEmail(),await this.init();const n=await this.appEvent({type:bt.APP_CONNECT_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting email"),n}}async connectDevice(){try{return this.appEvent({type:bt.APP_CONNECT_DEVICE})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting device"),t}}async connectOtp(t){try{return this.appEvent({type:bt.APP_CONNECT_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting otp"),n}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const t=await this.appEvent({type:bt.APP_IS_CONNECTED});return t?.isConnected||this.deleteAuthLoginCache(),t}catch(t){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:t},"Error checking connection"),t}}async getChainId(){try{const t=await this.appEvent({type:bt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(t.chainId),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting chain id"),t}}async getSocialRedirectUri(t){try{return await this.init(),this.appEvent({type:bt.APP_GET_SOCIAL_REDIRECT_URI,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error getting social redirect uri"),n}}async updateEmail(t){try{const n=await this.appEvent({type:bt.APP_UPDATE_EMAIL,payload:t});return this.setNewLastEmailLoginTime(),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email"),n}}async updateEmailPrimaryOtp(t){try{return this.appEvent({type:bt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email primary otp"),n}}async updateEmailSecondaryOtp(t){try{const n=await this.appEvent({type:bt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:t});return this.setLoginSuccess(n.newEmail),n}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error updating email secondary otp"),n}}async syncTheme(t){try{return this.appEvent({type:bt.APP_SYNC_THEME,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing theme"),n}}async syncDappData(t){try{return this.appEvent({type:bt.APP_SYNC_DAPP_DATA,payload:t})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error syncing dapp data"),n}}async getSmartAccountEnabledNetworks(){try{const t=await this.appEvent({type:bt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(t.smartAccountEnabledNetworks),t}catch(t){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:t},"Error getting smart account enabled networks"),t}}async setPreferredAccount(t){try{return this.appEvent({type:bt.APP_SET_PREFERRED_ACCOUNT,payload:{type:t}})}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error setting preferred account"),n}}async connect(t){if(t?.socialUri)try{await this.init();const n=this.getRpcUrl(t.chainId),r=await this.appEvent({type:bt.APP_CONNECT_SOCIAL,payload:{uri:t.socialUri,preferredAccountType:t.preferredAccountType,chainId:t.chainId,siwxMessage:t.siwxMessage,rpcUrl:n}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting social"),n}else try{const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:n,preferredAccountType:t?.preferredAccountType,siwxMessage:t?.siwxMessage,rpcUrl:this.getRpcUrl(n)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async getUser(t){try{await this.init();const n=t?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:bt.APP_GET_USER,payload:{...t,chainId:n,rpcUrl:this.getRpcUrl(n)}});return this.user=r,r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error connecting"),n}}async connectSocial({uri:t,chainId:n,preferredAccountType:r}){try{await this.init();const s=this.getRpcUrl(n),a=await this.appEvent({type:bt.APP_CONNECT_SOCIAL,payload:{uri:t,chainId:n,rpcUrl:s,preferredAccountType:r}});return a.userName&&this.setSocialLoginSuccess(a.userName),a}catch(s){throw this.w3mLogger?.logger.error({error:s},"Error connecting social"),s}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:bt.APP_GET_FARCASTER_URI})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting farcaster uri"),t}}async connectFarcaster(){try{const t=await this.appEvent({type:bt.APP_CONNECT_FARCASTER});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting farcaster"),t}}async switchNetwork({chainId:t}){try{const n=this.getRpcUrl(t),r=await this.appEvent({type:bt.APP_SWITCH_NETWORK,payload:{chainId:t,rpcUrl:n}});return this.setLastUsedChainId(r.chainId),r}catch(n){throw this.w3mLogger?.logger.error({error:n},"Error switching network"),n}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async t=>{const n=setTimeout(()=>{t()},3e3);await this.appEvent({type:bt.APP_SIGN_OUT}),clearTimeout(n),t()})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error disconnecting"),t}}async request(t){const n=t;try{if(Qr.GET_CHAIN_ID===t.method)return this.getLastUsedChainId();const r=t.chainNamespace||"eip155",s=this.getActiveCaipNetwork(r)?.id;n.chainNamespace=r,n.chainId=s,n.rpcUrl=this.getRpcUrl(s),this.rpcRequestHandler?.(t);const a=await this.appEvent({type:bt.APP_RPC_REQUEST,payload:n});return this.rpcSuccessHandler?.(a,n),a}catch(r){throw this.rpcErrorHandler?.(r,n),this.w3mLogger?.logger.error({error:r},"Error requesting"),r}}onRpcRequest(t){this.rpcRequestHandler=t}onRpcSuccess(t){this.rpcSuccessHandler=t}onRpcError(t){this.rpcErrorHandler=t}onIsConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&t()})}onNotConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_IS_CONNECTED_ERROR&&t(),n.type===bt.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&t()})}onConnect(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_GET_USER_SUCCESS&&t(n.payload)})}onSocialConnected(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_CONNECT_SOCIAL_SUCCESS&&t(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(t){this.w3mFrame.events.onFrameEvent(n=>{n.type===bt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?t(n.payload):n.type===bt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&t({type:Qr.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(this.openRpcRequests.map(async({abortController:t,method:n})=>{Qr.SAFE_RPC_METHODS.includes(n)||t.abort(),await this.appEvent({type:bt.APP_RPC_ABORT})})),this.openRpcRequests=[]}catch(t){this.w3mLogger?.logger.error({error:t},"Error aborting RPC request")}}async appEvent(t){let n,r;function s(o){return o.replace("@w3m-app/","")}const a=[bt.APP_SYNC_DAPP_DATA,bt.APP_SYNC_THEME,bt.APP_SET_PREFERRED_ACCOUNT],i=s(t.type);return!this.w3mFrame.iframeIsReady&&!a.includes(t.type)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[bt.APP_CONNECT_EMAIL,bt.APP_CONNECT_DEVICE,bt.APP_CONNECT_OTP,bt.APP_CONNECT_SOCIAL,bt.APP_GET_SOCIAL_REDIRECT_URI].map(s).includes(i)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((o,c)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:t,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...t,id:u});const h=new AbortController;if(i==="RPC_REQUEST"){const p=t;this.openRpcRequests=[...this.openRpcRequests,{...p.payload,abortController:h}]}h.signal.addEventListener("abort",()=>{i==="RPC_REQUEST"?c(new Error("Request was aborted")):i!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function f(p,g){p.id===u&&(g?.logger.info?.({framEvent:p,id:u},"Received frame response"),p.type===`@w3m-frame/${i}_SUCCESS`?(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in p&&o(p.payload),o(void 0)):p.type===`@w3m-frame/${i}_ERROR`&&(n&&clearTimeout(n),r&&clearTimeout(r),"payload"in p&&c(new Error(p.payload?.message||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(u,p=>f(p,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){qr.set(bt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(t){qr.set(bt.SOCIAL_USERNAME,t)}setLoginSuccess(t){t&&qr.set(bt.EMAIL,t),qr.set(bt.EMAIL_LOGIN_USED_KEY,"true"),qr.delete(bt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){qr.delete(bt.EMAIL_LOGIN_USED_KEY),qr.delete(bt.EMAIL),qr.delete(bt.LAST_USED_CHAIN_KEY),qr.delete(bt.SOCIAL_USERNAME)}setLastUsedChainId(t){t&&qr.set(bt.LAST_USED_CHAIN_KEY,String(t))}getLastUsedChainId(){const t=qr.get(bt.LAST_USED_CHAIN_KEY)??void 0,n=Number(t);return isNaN(n)?t:n}persistSmartAccountEnabledNetworks(t){qr.set(bt.SMART_ACCOUNT_ENABLED_NETWORKS,t.join(","))}getRpcUrl(t){let n=t===void 0?void 0:"eip155";typeof t=="string"&&(t.includes(":")?n=Rc.parseCaipNetworkId(t)?.chainNamespace:Number.isInteger(Number(t))?n="eip155":n="solana");const r=this.getCaipNetworks(n);return(t?r.find(s=>String(s.id)===String(t)||s.caipNetworkId===t):r[0])?.rpcUrls.default.http?.[0]}}class Wf{constructor(){}static getInstance({projectId:t,chainId:n,enableLogger:r,onTimeout:s,abortController:a,getActiveCaipNetwork:i,getCaipNetworks:o}){return Wf.instance||(Wf.instance=new Vle({projectId:t,chainId:n,enableLogger:r,onTimeout:s,abortController:a,getActiveCaipNetwork:i,getCaipNetworks:o,enableCloudAuthAccount:!!qt.state.remoteFeatures?.emailCapture})),Wf.instance}}const Kle={DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]},ZI={filterOutDuplicatesByRDNS(e){const t=qt.state.enableEIP6963?It.state.connectors:[],n=at.getRecentWallets(),r=t.map(i=>i.info?.rdns).filter(Boolean),s=n.map(i=>i.rdns).filter(Boolean),a=r.concat(s);if(a.includes("io.metamask.mobile")&&Ft.isMobile()){const i=a.indexOf("io.metamask.mobile");a[i]="io.metamask"}return e.filter(i=>!(i?.rdns&&a.includes(String(i.rdns))||!i?.rdns&&t.some(o=>o.name===i.name)))},filterOutDuplicatesByIds(e){const t=It.state.connectors.filter(i=>i.type==="ANNOUNCED"||i.type==="INJECTED"),n=at.getRecentWallets(),r=t.map(i=>i.explorerId),s=n.map(i=>i.id),a=r.concat(s);return e.filter(i=>!a.includes(i?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=It.state,{featuredWalletIds:n}=qt.state,r=t.filter(s=>s.type==="ANNOUNCED").reduce((s,a)=>(a.info?.rdns&&(s[a.info.rdns]=!0),s),{});return e.map(s=>({...s,installed:!!s.rdns&&!!r[s.rdns??""]})).sort((s,a)=>{const i=Number(a.installed)-Number(s.installed);if(i!==0)return i;if(n?.length){const o=n.indexOf(s.id),c=n.indexOf(a.id);if(o!==-1&&c!==-1)return o-c;if(o!==-1)return-1;if(c!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const n=e?.connectMethodsOrder||qt.state.features?.connectMethodsOrder,r=t||It.state.connectors;if(n)return n;const{injected:s,announced:a}=l1.getConnectorsByType(r,$t.state.recommended,$t.state.featured),i=s.filter(l1.showConnector),o=a.filter(l1.showConnector);return i.length||o.length?["wallet","email","social"]:Kle.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&$t.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&$t.state.excludedWallets.some(r=>$s.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))}},l1={getConnectorsByType(e,t,n){const{customWallets:r}=qt.state,s=at.getRecentWallets(),a=ZI.filterOutDuplicateWallets(t),i=ZI.filterOutDuplicateWallets(n),o=e.filter(f=>f.type==="MULTI_CHAIN"),c=e.filter(f=>f.type==="ANNOUNCED"),u=e.filter(f=>f.type==="INJECTED"),h=e.filter(f=>f.type==="EXTERNAL");return{custom:r,recent:s,external:h,multiChain:o,announced:c,injected:u,recommended:a,featured:i}},showConnector(e){const t=e.info?.rdns,n=!!t&&$t.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===t),r=!!e.name&&$t.state.excludedWallets.some(s=>$s.isLowerCaseMatch(s.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!Ft.isMobile()||Ft.isMobile()&&!t&&!Tt.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(Ae.state.chains.values()).some(e=>It.getConnectorId(e.namespace)===$e.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:s,injected:a,multiChain:i,external:o,overriddenConnectors:c=qt.state.features?.connectorTypeOrder??[]}){const u=[{type:"walletConnect",isEnabled:qt.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...a,...s,...i].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:o.length>0},{type:"recommended",isEnabled:e.length>0}].filter(g=>g.isEnabled),h=new Set(u.map(g=>g.type)),f=c.filter(g=>h.has(g)).map(g=>({type:g,isEnabled:!0})),p=u.filter(({type:g})=>!f.some(({type:b})=>b===g));return Array.from(new Set([...f,...p].map(({type:g})=>g)))},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!Ft.isMobile())return{accounts:[],chainId:void 0};if(e.id===$e.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[t,n]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:t,chainId:n}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}}};/**
* @license
* Copyright 2019 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const c1=globalThis,HC=c1.ShadowRoot&&(c1.ShadyCSS===void 0||c1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,WC=Symbol(),YI=new WeakMap;let HF=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==WC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(HC&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=YI.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&YI.set(t,e))}return e}toString(){return this.cssText}};const Zle=e=>new HF(typeof e=="string"?e:e+"",void 0,WC),GC=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,s,a)=>r+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[a+1],e[0]);return new HF(n,e,WC)},Yle=(e,t)=>{if(HC)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),s=c1.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},QI=HC?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Zle(n)})(e):e;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const{is:Qle,defineProperty:Jle,getOwnPropertyDescriptor:Xle,getOwnPropertyNames:ece,getOwnPropertySymbols:tce,getPrototypeOf:nce}=Object,fm=globalThis,JI=fm.trustedTypes,rce=JI?JI.emptyScript:"",sce=fm.reactiveElementPolyfillSupport,ag=(e,t)=>e,c6={toAttribute(e,t){switch(t){case Boolean:e=e?rce:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},WF=(e,t)=>!Qle(e,t),XI={attribute:!0,type:String,converter:c6,reflect:!1,useDefault:!1,hasChanged:WF};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),fm.litPropertyMetadata??(fm.litPropertyMetadata=new WeakMap);let Nf=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=XI){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const n=Symbol(),r=this.getPropertyDescriptor(e,n,t);r!==void 0&&Jle(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){const{get:r,set:s}=Xle(this.prototype,e)??{get(){return this[t]},set(a){this[t]=a}};return{get:r,set(a){const i=r?.call(this);s?.call(this,a),this.requestUpdate(e,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??XI}static _$Ei(){if(this.hasOwnProperty(ag("elementProperties")))return;const e=nce(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(ag("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ag("properties"))){const t=this.properties,n=[...ece(t),...tce(t)];for(const r of n)this.createProperty(r,t[r])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[n,r]of t)this.elementProperties.set(n,r)}this._$Eh=new Map;for(const[t,n]of this.elementProperties){const r=this._$Eu(t,n);r!==void 0&&this._$Eh.set(r,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const r of n)t.unshift(QI(r))}else e!==void 0&&t.push(QI(e));return t}static _$Eu(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Yle(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){const n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(r!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:c6).toAttribute(t,n.type);this._$Em=e,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._$Em=null}}_$AK(e,t){const n=this.constructor,r=n._$Eh.get(e);if(r!==void 0&&this._$Em!==r){const s=n.getPropertyOptions(r),a=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:c6;this._$Em=r;const i=a.fromAttribute(t,s.type);this[r]=i??this._$Ej?.get(r)??i,this._$Em=null}}requestUpdate(e,t,n){if(e!==void 0){const r=this.constructor,s=this[e];if(n??(n=r.getPropertyOptions(e)),!((n.hasChanged??WF)(s,t)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,n))))return;this.C(e,t,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:r,wrapped:s},a){n&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,a??t??this[e]),s!==!0||a!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),r===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[r,s]of this._$Ep)this[r]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[r,s]of n){const{wrapped:a}=s,i=this[r];a!==!0||this._$AL.has(r)||i===void 0||this.C(r,void 0,s,i)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(t)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}};Nf.elementStyles=[],Nf.shadowRootOptions={mode:"open"},Nf[ag("elementProperties")]=new Map,Nf[ag("finalized")]=new Map,sce?.({ReactiveElement:Nf}),(fm.reactiveElementVersions??(fm.reactiveElementVersions=[])).push("2.1.1");/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const ax=globalThis,ix=ax.trustedTypes,e7=ix?ix.createPolicy("lit-html",{createHTML:e=>e}):void 0,GF="$lit$",jc=`lit$${Math.random().toFixed(9).slice(2)}$`,qF="?"+jc,ace=`<${qF}>`,qd=document,Wg=()=>qd.createComment(""),Gg=e=>e===null||typeof e!="object"&&typeof e!="function",qC=Array.isArray,ice=e=>qC(e)||typeof e?.[Symbol.iterator]=="function",I4=`[ 	
\f\r]`,Gp=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,t7=/-->/g,n7=/>/g,Tu=RegExp(`>|${I4}(?:([^\\s"'>=/]+)(${I4}*=${I4}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),r7=/'/g,s7=/"/g,VF=/^(?:script|style|textarea|title)$/i,mm=Symbol.for("lit-noChange"),Dr=Symbol.for("lit-nothing"),a7=new WeakMap,bd=qd.createTreeWalker(qd,129);function KF(e,t){if(!qC(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return e7!==void 0?e7.createHTML(t):t}const oce=(e,t)=>{const n=e.length-1,r=[];let s,a=t===2?"<svg>":t===3?"<math>":"",i=Gp;for(let o=0;o<n;o++){const c=e[o];let u,h,f=-1,p=0;for(;p<c.length&&(i.lastIndex=p,h=i.exec(c),h!==null);)p=i.lastIndex,i===Gp?h[1]==="!--"?i=t7:h[1]!==void 0?i=n7:h[2]!==void 0?(VF.test(h[2])&&(s=RegExp("</"+h[2],"g")),i=Tu):h[3]!==void 0&&(i=Tu):i===Tu?h[0]===">"?(i=s??Gp,f=-1):h[1]===void 0?f=-2:(f=i.lastIndex-h[2].length,u=h[1],i=h[3]===void 0?Tu:h[3]==='"'?s7:r7):i===s7||i===r7?i=Tu:i===t7||i===n7?i=Gp:(i=Tu,s=void 0);const g=i===Tu&&e[o+1].startsWith("/>")?" ":"";a+=i===Gp?c+ace:f>=0?(r.push(u),c.slice(0,f)+GF+c.slice(f)+jc+g):c+jc+(f===-2?o:g)}return[KF(e,a+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let u6=class ZF{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let a=0,i=0;const o=t.length-1,c=this.parts,[u,h]=oce(t,n);if(this.el=ZF.createElement(u,r),bd.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=bd.nextNode())!==null&&c.length<o;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(GF)){const p=h[i++],g=s.getAttribute(f).split(jc),b=/([.?@])?(.*)/.exec(p);c.push({type:1,index:a,name:b[2],strings:g,ctor:b[1]==="."?cce:b[1]==="?"?uce:b[1]==="@"?dce:Nv}),s.removeAttribute(f)}else f.startsWith(jc)&&(c.push({type:6,index:a}),s.removeAttribute(f));if(VF.test(s.tagName)){const f=s.textContent.split(jc),p=f.length-1;if(p>0){s.textContent=ix?ix.emptyScript:"";for(let g=0;g<p;g++)s.append(f[g],Wg()),bd.nextNode(),c.push({type:2,index:++a});s.append(f[p],Wg())}}}else if(s.nodeType===8)if(s.data===qF)c.push({type:2,index:a});else{let f=-1;for(;(f=s.data.indexOf(jc,f+1))!==-1;)c.push({type:7,index:a}),f+=jc.length-1}a++}}static createElement(t,n){const r=qd.createElement("template");return r.innerHTML=t,r}};function pm(e,t,n=e,r){if(t===mm)return t;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const a=Gg(t)?void 0:t._$litDirective$;return s?.constructor!==a&&(s?._$AO?.(!1),a===void 0?s=void 0:(s=new a(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(t=pm(e,s._$AS(e,t.values),s,r)),t}class lce{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=(t?.creationScope??qd).importNode(n,!0);bd.currentNode=s;let a=bd.nextNode(),i=0,o=0,c=r[0];for(;c!==void 0;){if(i===c.index){let u;c.type===2?u=new Ny(a,a.nextSibling,this,t):c.type===1?u=new c.ctor(a,c.name,c.strings,this,t):c.type===6&&(u=new hce(a,this,t)),this._$AV.push(u),c=r[++o]}i!==c?.index&&(a=bd.nextNode(),i++)}return bd.currentNode=qd,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class Ny{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=Dr,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=pm(this,t,n),Gg(t)?t===Dr||t==null||t===""?(this._$AH!==Dr&&this._$AR(),this._$AH=Dr):t!==this._$AH&&t!==mm&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):ice(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Dr&&Gg(this._$AH)?this._$AA.nextSibling.data=t:this.T(qd.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=u6.createElement(KF(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const a=new lce(s,this),i=a.u(this.options);a.p(n),this.T(i),this._$AH=a}}_$AC(t){let n=a7.get(t.strings);return n===void 0&&a7.set(t.strings,n=new u6(t)),n}k(t){qC(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const a of t)s===n.length?n.push(r=new Ny(this.O(Wg()),this.O(Wg()),this,this.options)):r=n[s],r._$AI(a),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class Nv{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,a){this.type=1,this._$AH=Dr,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=a,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Dr}_$AI(t,n=this,r,s){const a=this.strings;let i=!1;if(a===void 0)t=pm(this,t,n,0),i=!Gg(t)||t!==this._$AH&&t!==mm,i&&(this._$AH=t);else{const o=t;let c,u;for(t=a[0],c=0;c<a.length-1;c++)u=pm(this,o[r+c],n,c),u===mm&&(u=this._$AH[c]),i||(i=!Gg(u)||u!==this._$AH[c]),u===Dr?t=Dr:t!==Dr&&(t+=(u??"")+a[c+1]),this._$AH[c]=u}i&&!s&&this.j(t)}j(t){t===Dr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let cce=class extends Nv{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Dr?void 0:e}};class uce extends Nv{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Dr)}}let dce=class extends Nv{constructor(e,t,n,r,s){super(e,t,n,r,s),this.type=5}_$AI(e,t=this){if((e=pm(this,e,t,0)??Dr)===mm)return;const n=this._$AH,r=e===Dr&&n!==Dr||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Dr&&(n===Dr||r);r&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}};class hce{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){pm(this,t)}}const fce=ax.litHtmlPolyfillSupport;fce?.(u6,Ny),(ax.litHtmlVersions??(ax.litHtmlVersions=[])).push("3.3.1");const mce=(e,t,n)=>{const r=n?.renderBefore??t;let s=r._$litPart$;if(s===void 0){const a=n?.renderBefore??null;r._$litPart$=s=new Ny(t.insertBefore(Wg(),a),a,void 0,n??{})}return s._$AI(e),s};/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const ox=globalThis;let u1=class extends Nf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const t=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=t.firstChild),t}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=mce(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return mm}};u1._$litElement$=!0,u1.finalized=!0,ox.litElementHydrateSupport?.({LitElement:u1});const pce=ox.litElementPolyfillSupport;pce?.({LitElement:u1});(ox.litElementVersions??(ox.litElementVersions=[])).push("4.2.1");GC`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`;GC`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`;GC`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;const d1={hexStringToNumber(e){const t=e.startsWith("0x")?e.slice(2):e;return parseInt(t,16)},numberToHexString(e){return`0x${e.toString(16)}`},async getUserInfo(e){const[t,n]=await Promise.all([d1.getAddresses(e),d1.getChainId(e)]);return{chainId:n,addresses:t}},async getChainId(e){const t=await e.request({method:"eth_chainId"});return Number(t)},async getAddress(e){const[t]=await e.request({method:"eth_accounts"});return t},async getAddresses(e){return await e.request({method:"eth_accounts"})},async addEthereumChain(e,t){const n=t.rpcUrls.chainDefault?.http||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:d1.numberToHexString(t.id),rpcUrls:[...n],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[t.blockExplorers?.default.url],iconUrls:[oa.NetworkImageIds[t.id]]}]})}},qh={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function ky(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const i7=ky({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),o7=ky({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});ky({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});ky({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});ky({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const gce={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Sd={getMethodsByChainNamespace(e){return gce[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>r.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>r.add(s)),t.events&&Object.keys(t.events).forEach(s=>r.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{const[a]=s.split(":");a&&r.add(a)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,a])=>{n[s]&&(n[s].methods=a)}),t.chains&&Object.entries(t.chains).forEach(([s,a])=>{n[s]&&(n[s].chains=a)}),t.events&&Object.entries(t.events).forEach(([s,a])=>{n[s]&&(n[s].events=a)}),t.rpcMap){const s=new Set;Object.entries(t.rpcMap).forEach(([a,i])=>{const[o,c]=a.split(":");!o||!c||!n[o]||(n[o].rpcMap||(n[o].rpcMap={}),s.has(o)||(n[o].rpcMap={},s.add(o)),n[o].rpcMap[c]=i)})}return n},createNamespaces(e,t){const n=e.reduce((r,s)=>{const{id:a,chainNamespace:i,rpcUrls:o}=s,c=o.default.http[0];r[i]||(r[i]=this.createDefaultNamespace(i));const u=`${i}:${a}`,h=r[i];switch(h.chains.push(u),u){case i7.caipNetworkId:h.chains.push(i7.deprecatedCaipNetworkId);break;case o7.caipNetworkId:h.chains.push(o7.deprecatedCaipNetworkId);break}return h?.rpcMap&&c&&(h.rpcMap[a]=c),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await i1.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(s=>{const[a,i]=s.split(":");return`${a}:${i}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const s=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(e))return!0}else try{if(new URL(r).origin===e)return!0}catch{if(r===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:a,onDisplayUri:i}){n&&e.on("connect",()=>{const o=Sd.getWalletConnectAccounts(e,t);n(o)}),r&&e.on("disconnect",()=>{r()}),s&&e.on("session_event",o=>{if(Sd.isSessionEventData(o)){const{name:c,data:u}=o.params.event;if(c==="accountsChanged"&&Array.isArray(u)){const h=u.filter(f=>Ft.isCaipAddress(f)).map(f=>Rc.parseCaipAddress(f)).filter(f=>f.chainNamespace===t);s(h)}}}),a&&e.on("chainChanged",o=>{a(o)}),i&&e.on("display_uri",o=>{i(o)})},getWalletConnectAccounts(e,t){const n=new Set,r=e?.session?.namespaces?.[t]?.accounts?.map(s=>Rc.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}};class yce{constructor(t){this.namespace=t.namespace}async syncConnections(t){switch(this.namespace){case $e.CHAIN.EVM:await this.syncEVMConnections(t);break;case $e.CHAIN.SOLANA:await this.syncSolanaConnections(t);break;case $e.CHAIN.BITCOIN:await this.syncBitcoinConnections(t);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:t,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:a,onListenProvider:i}){await Promise.all(t.filter(o=>{const{hasDisconnected:c,hasConnected:u}=s(o.id);return!c&&u}).map(async o=>{if(o.id===$e.CONNECTOR_ID.WALLET_CONNECT){const c=Sd.getWalletConnectAccounts(r,this.namespace),u=n.find(h=>h.chainNamespace===this.namespace&&h.id.toString()===c[0]?.chainId?.toString());c.length>0&&a({connectorId:o.id,accounts:c.map(h=>({address:h.address})),caipNetwork:u})}else{const{accounts:c,chainId:u}=await l1.fetchProviderData(o);if(c.length>0&&u){const h=n.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===u.toString());a({connectorId:o.id,accounts:c.map(f=>({address:f})),caipNetwork:h}),o.provider&&o.id!==$e.CONNECTOR_ID.AUTH&&o.id!==$e.CONNECTOR_ID.WALLET_CONNECT&&i(o.id,o.provider)}}}))}async syncSolanaConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:a,onListenProvider:i}){await Promise.all(t.filter(o=>{const{hasDisconnected:c,hasConnected:u}=s(o.id);return!c&&u}).map(async o=>{if(o.id===$e.CONNECTOR_ID.WALLET_CONNECT){const c=Sd.getWalletConnectAccounts(r,this.namespace);c.length>0&&a({connectorId:o.id,accounts:c.map(u=>({address:u.address})),caipNetwork:n})}else{const c=await o.connect({chainId:n?.id});c&&(a({connectorId:o.id,accounts:[{address:c}],caipNetwork:n}),i(o.id,o.provider))}}))}async syncBitcoinConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:a,onListenProvider:i}){await Promise.all(t.filter(o=>{const{hasDisconnected:c,hasConnected:u}=s(o.id);return!c&&u}).map(async o=>{if(o.id===$e.CONNECTOR_ID.WALLET_CONNECT){const h=Sd.getWalletConnectAccounts(r,this.namespace);h.length>0&&a({connectorId:o.id,accounts:h.map(f=>({address:f.address})),caipNetwork:n});return}const c=await o.connect();let u=(await o.getAccountAddresses())?.map(h=>Ft.createAccount($e.CHAIN.BITCOIN,h.address,h.purpose||"payment",h.publicKey,h.path));if(u&&u.length>1&&(u=[{namespace:$e.CHAIN.BITCOIN,publicKey:u[qh.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[qh.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[qh.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:$e.CHAIN.BITCOIN,publicKey:u[qh.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[qh.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[qh.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(o.chains.find(h=>h.id===n?.id)||o.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(i(o.id,o.provider),a({connectorId:o.id,accounts:u.map(h=>({address:h.address,type:h.type})),caipNetwork:n}))}))}getConnection({address:t,connectorId:n,connections:r,connectors:s}){if(n){const i=r.find(u=>$s.isLowerCaseMatch(u.connectorId,n));if(!i)return null;const o=s.find(u=>$s.isLowerCaseMatch(u.id,i.connectorId)),c=t?i.accounts.find(u=>$s.isLowerCaseMatch(u.address,t)):i.accounts[0];return{...i,account:c,connector:o}}const a=r.find(i=>i.accounts.length>0&&s.some(o=>$s.isLowerCaseMatch(o.id,i.connectorId)));if(a){const[i]=a.accounts,o=s.find(c=>$s.isLowerCaseMatch(c.id,a.connectorId));return{...a,account:i,connector:o}}return null}}class YF{constructor({provider:t,namespace:n}){this.id=$e.CONNECTOR_ID.WALLET_CONNECT,this.name=oa.ConnectorNamesMap[$e.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=oa.ConnectorImageIds[$e.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=Ae.getCaipNetworks.bind(Ae),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const t=this.getCaipNetworks(),n=qt.state.universalProviderConfigOverride,r=Sd.createNamespaces(t,n);await this.provider.connect({optionalNamespaces:r})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return kc.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:bce})}}const bce=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],wce=[$e.CONNECTOR_ID.AUTH,$e.CONNECTOR_ID.WALLET_CONNECT];class xce{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>Ae.getCaipNetworks(n),this.getConnectorId=n=>It.getConnectorId(n),t&&this.construct(t),t?.namespace&&(this.connectionManager=new yce({namespace:t.namespace}))}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());t&&r&&this.addConnection({connectorId:$e.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:$e.CONNECTOR_ID.AUTH,type:"AUTH",name:$e.CONNECTOR_NAMES.AUTH,provider:t,imageId:oa.ConnectorImageIds[$e.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>!$s.isLowerCaseMatch(n.connectorId,t)),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){Cn.setStatus(t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>s(n))}async connectWalletConnect(t){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(t){const{caipNetwork:n,providerType:r}=t;if(!t.provider)return;const s="provider"in t.provider?t.provider.provider:t.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const a=s,i=fo(n.chainNamespace);await a.switchNetwork({chainId:n.caipNetworkId});const o=await a.getUser({chainId:n.caipNetworkId,preferredAccountType:i});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n instanceof YF);if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:s}=Ft.getAccount(t[0]),a=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===s?.toString()),i=this.connectors.find(o=>o.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:i}),this.addConnection({connectorId:n,accounts:t.map(o=>{const{address:c}=Ft.getAccount(o);return{address:c}}),caipNetwork:a}))}}onAccountsChanged(t,n,r=!0){if(t.length>0){const{address:s}=Ft.getAccount(t[0]),a=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&$s.isLowerCaseMatch(this.getConnectorId($e.CHAIN.EVM),n)&&this.emit("accountChanged",{address:s,chainId:a?.caipNetwork?.id,connector:a?.connector}),this.addConnection({connectorId:n,accounts:t.map(i=>{const{address:o}=Ft.getAccount(i);return{address:o}}),caipNetwork:a?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),$s.isLowerCaseMatch(this.getConnectorId($e.CHAIN.EVM),t)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){const r=typeof t=="string"&&t.startsWith("0x")?d1.hexStringToNumber(t).toString():t.toString(),s=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),a=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:a}),$s.isLowerCaseMatch(this.getConnectorId($e.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(wce.includes(t))return;const r=i=>this.onAccountsChanged(i,t),s=i=>this.onChainChanged(i,t),a=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",a),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[t]={provider:n,disconnect:a,accountsChanged:r,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:a}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",a),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){const t=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:n?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}}function vce(e){let t=[],n,r;function s(o){return q1.parseEvmChainId(o)||1}function a(){return n||(n=Wf.getInstance({projectId:e.options.projectId,chainId:gd()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,onTimeout:o=>{o==="iframe_load_failed"?Zu.open(sc.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):o==="iframe_request_timeout"?Zu.open(sc.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):o==="unverified_domain"&&Zu.open(sc.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},abortController:sc.EmbeddedWalletAbortController,getActiveCaipNetwork:o=>gd(o),getCaipNetworks:o=>Ae.getCaipNetworks(o)})),n}async function i(o={}){const c=a();let u=o.chainId;if(o.isReconnecting){const y=q1.parseEvmChainId(c.getLastUsedChainId()||""),w=e.chains?.[0].id;if(u=y||w,!u)throw new Error("ChainId not found in provider")}const h=fo("eip155"),{address:f,chainId:p,accounts:g}=await kc.authConnectorAuthenticate({authConnector:c,chainId:u,preferredAccountType:h,socialUri:o.socialUri,chainNamespace:$e.CHAIN.EVM});t=g?.map(y=>y.address)||[f];const b=s(p);return{accounts:t,account:f,chainId:b,chain:{id:b,unsuported:!1}}}return o=>({id:$e.CONNECTOR_ID.AUTH,name:$e.CONNECTOR_NAMES.AUTH,type:"AUTH",chain:$e.CHAIN.EVM,async connect(c={}){if(r)return r;r||(r=new Promise(h=>{h(i(c))}));const u=await r;return r=void 0,u},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return t?.length?(o.emitter.emit("change",{accounts:t}),Promise.resolve(t)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=Wf.getInstance({projectId:e.options.projectId,chainId:gd()?.caipNetworkId,enableLogger:e.options.enableAuthLogger,abortController:sc.EmbeddedWalletAbortController,onTimeout:c=>{c==="iframe_load_failed"?Zu.open(sc.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):c==="iframe_request_timeout"?Zu.open(sc.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):c==="unverified_domain"&&Zu.open(sc.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:c=>gd(c),getCaipNetworks:c=>Ae.getCaipNetworks(c)})),Promise.resolve(this.provider)},async getChainId(){const c=await this.getProvider(),{chainId:u}=await c.getChainId();return s(u)},async isAuthorized(){const c=Ae.state.activeChain===$e.CHAIN.EVM;if($e.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(h=>It.getConnectorId(h)===$e.CONNECTOR_ID.AUTH)&&!c)return!1;const u=await this.getProvider();return Promise.resolve(u.getLoginEmailUsed())},async switchChain({chainId:c}){try{const u=o.chains.find(g=>g.id===c);if(!u)throw new Lc(new Error("chain not found on connector."));const h=await this.getProvider(),f=fo("eip155"),p=await h.connect({chainId:c,preferredAccountType:f});return t=p?.accounts?.map(g=>g.address)||[p.address],o.emitter.emit("change",{chainId:Number(c),accounts:t}),u}catch(u){throw u instanceof Error?new Lc(u):u}},onAccountsChanged(c){c.length===0?this.onDisconnect():o.emitter.emit("change",{accounts:c.map(_c)})},onChainChanged(c){const u=Number(c);o.emitter.emit("change",{chainId:u})},async onDisconnect(c){await(await this.getProvider()).disconnect()}})}VC.type="walletConnect";function VC(e,t){const n=e.isNewChainsStale??!0;let r,s,a,i,o,c,u;return h=>({id:"walletConnect",name:"WalletConnect",type:VC.type,async setup(){const f=await this.getProvider().catch(()=>null);f&&(i||(i=this.onConnect.bind(this),f.on("connect",i)),c||(c=this.onSessionDelete.bind(this),f.on("session_delete",c)))},async connect({...f}={}){try{const p=Ae.getCaipNetworks(),g=await this.getProvider();if(!g)throw new vc;o||(o=this.onDisplayUri,g.on("display_uri",o));const b=await this.isChainsStale();g.session&&b&&await g.disconnect();const y=qt.state.universalProviderConfigOverride;if(!g.session||b){const S=Sd.createNamespaces(p,y);await g.connect({optionalNamespaces:S,..."pairingTopic"in f?{pairingTopic:f.pairingTopic}:{}}),this.setRequestedChainsIds(p.map(T=>Number(T.id)))}const w=await this.getAccounts(),v=await this.getChainId(),N=g.session?.namespaces?.eip155?.chains,A=N?.some(S=>Number(S.split(":")[1])===v);let C=1;A?C=v:N?.[0]&&(C=Number(N[0].split(":")[1])),o&&(g.removeListener("display_uri",o),o=void 0),i&&(g.removeListener("connect",i),i=void 0),s||(s=this.onAccountsChanged.bind(this),g.on("accountsChanged",s)),a||(a=this.onChainChanged.bind(this),g.on("chainChanged",a)),u||(u=this.onDisconnect.bind(this),g.on("disconnect",u)),c||(c=this.onSessionDelete.bind(this),g.on("session_delete",c));const k=y?.defaultChain;return g.setDefaultChain(k??`eip155:${C}`),{accounts:w,chainId:C}}catch(p){throw/(user rejected|connection request reset)/i.test(p?.message)?new Vr(p):p}},async disconnect(){const f=await this.getProvider();try{await f?.disconnect()}catch(p){if(!/No matching key/i.test(p.message))throw p}finally{a&&(f?.removeListener("chainChanged",a),a=void 0),u&&(f?.removeListener("disconnect",u),u=void 0),i||(i=this.onConnect.bind(this),f?.on("connect",i)),s&&(f?.removeListener("accountsChanged",s),s=void 0),c&&(f?.removeListener("session_delete",c),c=void 0),this.setRequestedChainsIds([])}},async getAccounts(){const f=await this.getProvider();if(!f?.session?.namespaces)return[];const p=f?.session?.namespaces[$e.CHAIN.EVM]?.accounts?.map(b=>b.split(":")[2])??[],g=new Set;return p.filter(b=>{const y=b?.toLowerCase();return g.has(y)?!1:(g.add(y),!0)})},async getProvider({chainId:f}={}){r||(r=await t.getUniversalProvider(),r?.events.setMaxListeners(Number.POSITIVE_INFINITY));const p=at.getActiveNamespace(),g=t.getCaipNetwork()?.id;if(f&&g!==f&&p){const b=at.getStoredActiveCaipNetworkId(),y=(p?t.getCaipNetworks(p):[])?.find(w=>w.id===b);y&&y.chainNamespace===$e.CHAIN.EVM&&await this.switchChain?.({chainId:Number(y.id)})}return r},async getChainId(){const f=t.getCaipNetwork($e.CHAIN.EVM)?.id;if(f)return f;const p=(await this.getProvider()).session?.namespaces[$e.CHAIN.EVM]?.chains?.[0];return Ae.getCaipNetworks().find(g=>g.id===p)?.id},async isAuthorized(){try{const[f,p]=await Promise.all([this.getAccounts(),this.getProvider()]);return f.length?await this.isChainsStale()&&p.session?(await p.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:f,chainId:p}){const g=await this.getProvider();if(!g)throw new vc;const b=Ae.getCaipNetworks().find(y=>y.id===p);if(!b)throw new Lc(new bg);try{await g.request({method:"wallet_switchEthereumChain",params:[{chainId:St(p)}]}),b?.caipNetworkId&&g.setDefaultChain(b?.caipNetworkId),h.emitter.emit("change",{chainId:Number(p)});const y=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...y,p]),{...b,id:b.id}}catch(y){const w=y;if(/(?:user rejected)/iu.test(w.message))throw new Vr(w);try{let v;f?.blockExplorerUrls?v=f.blockExplorerUrls:v=b.blockExplorers?.default.url?[b.blockExplorers?.default.url]:[];const N=b.rpcUrls?.chainDefault?.http||[],A={blockExplorerUrls:v,chainId:St(p),chainName:b.name,iconUrls:f?.iconUrls,nativeCurrency:b.nativeCurrency,rpcUrls:N};await g.request({method:"wallet_addEthereumChain",params:[A]});const C=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...C,p]),{...b,id:b.id}}catch(v){throw new Vr(v)}}},onAccountsChanged(f){f.length===0?this.onDisconnect():h.emitter.emit("change",{accounts:f.map(p=>_c(p))})},onChainChanged(f){const p=Number(f);h.emitter.emit("change",{chainId:p})},onConnect(f){this.setRequestedChainsIds(Ae.getCaipNetworks().map(p=>Number(p.id)))},async onDisconnect(f){this.setRequestedChainsIds([]),h.emitter.emit("disconnect");const p=await this.getProvider();s&&(p.removeListener("accountsChanged",s),s=void 0),a&&(p.removeListener("chainChanged",a),a=void 0),u&&(p.removeListener("disconnect",u),u=void 0),c&&(p.removeListener("session_delete",c),c=void 0),i||(i=this.onConnect.bind(this),p.on("connect",i))},onDisplayUri(f){h.emitter.emit("message",{type:"display_uri",data:f})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){return r?.session?.namespaces?r?.session?.namespaces[$e.CHAIN.EVM]?.accounts?.map(f=>Number.parseInt(f.split(":")[1]??""))??[]:[]},async getRequestedChainsIds(){const f=await h.storage?.getItem(this.requestedChainsStorageKey)??[];return[...new Set(f)]},async isChainsStale(){if(!n)return!1;const f=h.chains.map(b=>b.id),p=this.getNamespaceChainsIds();if(p.length&&!p.some(b=>f.includes(b)))return!1;const g=await this.getRequestedChainsIds();return!f.every(b=>g.includes(Number(b)))},async setRequestedChainsIds(f){await h.storage?.setItem(this.requestedChainsStorageKey,f)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const qp=qn({pendingTransactions:0}),l7={state:qp,subscribeKey(e,t){return Ss(qp,e,t)},increase(e){qp[e]+=1},decrease(e){qp[e]-=1},reset(e){qp[e]=0}};async function Nce(e){if(Ft.isSafeApp()){const{safe:t}=await ol(async()=>{const{safe:n}=await vd(async()=>{const{safe:r}=await xd(async()=>{const{safe:s}=await import("./index-ChhyusO2-DAa6Xq7i-BfhFvim-.js");return{safe:s}},__vite__mapDeps([0,1]));return{safe:r}},jx([0,1]));return{safe:n}},gv([0,1,2]));if(t&&!e.some(n=>n.type==="safe"))return t()}return null}async function kce(e){try{const{coinbaseWallet:t}=await ol(async()=>{const{coinbaseWallet:n}=await vd(async()=>{const{coinbaseWallet:r}=await xd(async()=>{const{coinbaseWallet:s}=await import("./index-ChhyusO2-DAa6Xq7i-BfhFvim-.js");return{coinbaseWallet:s}},__vite__mapDeps([0,1]));return{coinbaseWallet:r}},jx([0,1]));return{coinbaseWallet:n}},gv([0,1,2]));if(t&&!e.some(n=>n.id==="coinbaseWalletSDK"))return t()}catch(t){console.error("Failed to import Coinbase Wallet SDK:",t)}return null}const Cce={enable:!1,pollingInterval:3e4};class Ece extends xce{constructor(t){const n=q0.extendCaipNetworks(t.networks,{projectId:t.projectId,customNetworkImageUrls:{},customRpcUrls:t.customRpcUrls});super(),this.balancePromises={},this.namespace=$e.CHAIN.EVM,this.adapterType=$e.ADAPTER_TYPES.WAGMI,this.projectId=t.projectId,this.pendingTransactionsFilter={...Cce,...t.pendingTransactionsFilter??{}},this.createConfig({...t,networks:n}),this.checkChainId()}construct(t){this.checkChainId(),this.setupWatchers()}async getAccounts(t){const n=this.getWagmiConnector(t.id);if(!n)return{accounts:[]};if(n.id===$e.CONNECTOR_ID.AUTH){const a=await n.getProvider();if(!a?.user)return{accounts:[]};const{address:i,accounts:o}=a.user;return Promise.resolve({accounts:(o||[{address:i,type:"eoa"}]).map(c=>Ft.createAccount("eip155",c.address,c.type))})}const{addresses:r,address:s}=Mf(this.wagmiConfig);return Promise.resolve({accounts:[...new Set(r||[s])].map(a=>Ft.createAccount("eip155",a||"","eoa"))})}checkChainId(){const{chainId:t}=Mf(this.wagmiConfig);t&&this.emit("switchNetwork",{chainId:t})}getWagmiConnector(t){return this.wagmiConfig.connectors.find(n=>n.id===t)}createConfig(t){this.wagmiChains=t.networks.filter(s=>s.chainNamespace===$e.CHAIN.EVM);const n={},r=[...t.connectors??[]];this.wagmiChains.forEach(s=>{const a=t.transports?.[s.id],i=q0.getCaipNetworkId(s);a?n[s.id]=q0.extendWagmiTransports(s,t.projectId,a):n[s.id]=q0.getViemTransport(s,t.projectId,t.customRpcUrls?.[i])}),this.wagmiConfig=MR({...t,chains:this.wagmiChains,connectors:r,transports:n})}setupWatchPendingTransactions(){if(!this.pendingTransactionsFilter.enable||this.unwatchPendingTransactions)return;this.unwatchPendingTransactions=TY(this.wagmiConfig,{pollingInterval:this.pendingTransactionsFilter.pollingInterval,onError:()=>{},onTransactions:()=>{this.emit("pendingTransactions"),l7.increase("pendingTransactions")}});const t=l7.subscribeKey("pendingTransactions",n=>{n>=$e.LIMITS.PENDING_TRANSACTIONS&&(this.unwatchPendingTransactions?.(),t())})}setupWatchers(){PR(this.wagmiConfig,{onChange:t=>{this.clearConnections(),this.addConnection(...t.map(n=>{const r=this.getCaipNetworks().find(a=>a.id===n.chainId),s=n.connector.id===$e.CONNECTOR_ID.AUTH;return{accounts:n.accounts.map(a=>({address:a})),caipNetwork:r,connectorId:n.connector.id,auth:s?{name:at.getConnectedSocialProvider(),username:at.getConnectedSocialUsername()}:void 0}}))}}),TR(this.wagmiConfig,{onChange:(t,n)=>{if(t.status==="disconnected"&&n.address&&this.emit("disconnect"),t?.chainId&&t?.chainId!==n?.chainId&&this.emit("switchNetwork",{chainId:t.chainId}),t.status==="connected"){const r=t.address!==n?.address,s=t.connector.id!==n.connector?.id,a=n.status!=="connected";(r||s||a)&&(this.setupWatchPendingTransactions(),this.handleAccountChanged({address:t.address,chainId:t.chainId,connector:t.connector}))}}})}async addThirdPartyConnectors(t){const n=[];if(t.enableCoinbase!==!1){const s=await kce(this.wagmiConfig.connectors);s&&n.push(s)}const r=await Nce(this.wagmiConfig.connectors);r&&n.push(r),await Promise.all(n.map(s=>{const a=this.wagmiConfig._internal.connectors.setup(s);return this.wagmiConfig._internal.connectors.setState(i=>[...i,a]),this.addWagmiConnector(a,t)}))}addWagmiConnectors(t,n){const r=[];t.enableWalletConnect!==!1&&r.push(VC(t,n)),t.enableEIP6963!==!1&&r.push(Jx({shimDisconnect:!0}));const s=n?.remoteFeatures?.email??!0,a=Array.isArray(n?.remoteFeatures?.socials)&&n?.remoteFeatures?.socials?.length>0;(s||a)&&r.push(vce({chains:this.wagmiChains,options:{projectId:t.projectId,enableAuthLogger:t.enableAuthLogger}})),r.forEach(i=>{const o=this.wagmiConfig._internal.connectors.setup(i);this.wagmiConfig._internal.connectors.setState(c=>[...c,o])})}async handleAccountChanged({address:t,chainId:n,connector:r}){if(!this.namespace)throw new Error("WagmiAdapter:handleAccountChanged - namespace is required");const s=await r.getProvider().catch(()=>{});this.emit("accountChanged",{address:t,chainId:n,connector:{id:r.id,name:oa.ConnectorNamesMap[r.id]??r.name,imageId:oa.ConnectorImageIds[r.id],type:oa.ConnectorTypesMap[r.type]??"EXTERNAL",info:r.id===$e.CONNECTOR_ID.INJECTED?void 0:{rdns:r.id},provider:s,chain:this.namespace,chains:[]}})}async signMessage(t){try{return{signature:await SY(this.wagmiConfig,{message:t.message,account:t.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(t){const{chainId:n,address:r}=Mf(this.wagmiConfig),s={account:r,to:t.to,value:Number.isNaN(Number(t.value))?BigInt(0):BigInt(t.value),gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,data:t.data,chainId:n,type:"legacy",parameters:["nonce"]};await EY(this.wagmiConfig,s);const a=await AY(this.wagmiConfig,s);return await _Y(this.wagmiConfig,{hash:a,timeout:25e3}),{hash:a}}async writeContract(t){const{caipNetwork:n,...r}=t,s=Number(q1.caipNetworkIdToNumber(n.caipNetworkId));return{hash:await PY(this.wagmiConfig,{chain:this.wagmiChains?.[s],chainId:s,address:r.tokenAddress,account:r.fromAddress,abi:r.abi,functionName:r.method,args:r.args,__mode:"prepared"})}}async estimateGas(t){try{return{gas:await vY(this.wagmiConfig,{account:t.address,to:t.to,data:t.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(t){return sZ(t.value,t.decimals)}formatUnits(t){return Cm(t.value,t.decimals)}async addWagmiConnector(t,n){if(!this.namespace)throw new Error("WagmiAdapter:addWagmiConnector - namespace is required");if(t.type===$e.CONNECTOR_ID.INJECTED&&n.enableEIP6963===!1||t.id===$e.CONNECTOR_ID.AUTH||t.id===$e.CONNECTOR_ID.WALLET_CONNECT)return;const r=await t.getProvider().catch(()=>{});this.addConnector({id:t.id,explorerId:oa.ConnectorExplorerIds[t.id],imageUrl:n?.connectorImages?.[t.id]??t.icon,name:oa.ConnectorNamesMap[t.id]??t.name,imageId:oa.ConnectorImageIds[t.id],type:oa.ConnectorTypesMap[t.type]??"EXTERNAL",info:t.id===$e.CONNECTOR_ID.INJECTED?void 0:{rdns:t.id},provider:r,chain:this.namespace,chains:[]})}async syncConnectors(t,n){OR(this.wagmiConfig,{onChange:r=>{r.forEach(s=>this.addWagmiConnector(s,t))}}),this.addWagmiConnectors(t,n),await Promise.all(this.wagmiConfig.connectors.map(r=>this.addWagmiConnector(r,t))),this.addThirdPartyConnectors(t)}async syncConnections(){return Promise.resolve()}async syncConnection(t){const{id:n,chainId:r}=t,s=ii(this.wagmiConfig).find(i=>i.connector.id===n),a=await this.getWagmiConnector(n)?.getProvider();if(Ft.isSafeApp()&&n===$e.CONNECTOR_ID.SAFE&&!s?.accounts.length){const i=this.getWagmiConnector("safe");if(i){const o=await Iw(this.wagmiConfig,{connector:i,chainId:Number(r)}),c=await i.getProvider();return{chainId:Number(r),address:o.accounts[0],provider:c,type:s?.connector.type?.toUpperCase(),id:s?.connector.id}}}return{chainId:Number(s?.chainId),address:s?.accounts[0],provider:a,type:s?.connector.type?.toUpperCase(),id:s?.connector.id}}async connectWalletConnect(t){const n=this.getWalletConnectConnector();await n.authenticate();const r=this.getWagmiConnector("walletConnect");if(!r)throw new Error("UniversalAdapter:connectWalletConnect - connector not found");const s=await Iw(this.wagmiConfig,{connector:r,chainId:t?Number(t):void 0});return s.chainId!==Number(t)&&await J5(this.wagmiConfig,{chainId:s.chainId}),{clientId:await n.provider.client.core.crypto.getClientId()}}async connect(t){const{id:n,address:r,provider:s,type:a,info:i,chainId:o,socialUri:c}=t,u=this.getWagmiConnector(n);if(!u)throw new Error("connectionControllerClient:connectExternal - connector is undefined");s&&i&&u.id===$e.CONNECTOR_ID.EIP6963&&u.setEip6963Wallet?.({provider:s,info:i});const h=this.wagmiConfig.state?.connections?.get(u.uid);if(h){await this.wagmiConfig.storage?.setItem("recentConnectorId",u.id);const p=[...h.accounts].sort((g,b)=>$s.isLowerCaseMatch(g,r)?-1:$s.isLowerCaseMatch(b,r)?1:0);return this.wagmiConfig?.setState(g=>({...g,connections:new Map(g.connections).set(u.uid,{accounts:p,chainId:h.chainId,connector:h.connector}),current:u.uid,status:"connected"})),{address:p[0],chainId:h.chainId,provider:s,type:a,id:n}}const f=await Iw(this.wagmiConfig,{connector:u,chainId:o?Number(o):void 0,socialUri:c});return{address:f.accounts[0],chainId:f.chainId,provider:s,type:a,id:n}}get connections(){return Array.from(this.wagmiConfig.state.connections.values()).map(t=>({accounts:t.accounts.map(n=>({address:n})),connectorId:t.connector.id}))}async reconnect(t){const{id:n}=t,r=this.getWagmiConnector(n);if(!r)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await Q5(this.wagmiConfig,{connectors:[r]})}async getBalance(t){const n=t.address,r=this.getCaipNetworks().find(s=>s.id===t.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&this.wagmiConfig){const s=`${r.caipNetworkId}:${t.address}`,a=this.balancePromises[s];if(a)return a;const i=at.getNativeBalanceCacheForCaipAddress(s);return i?{balance:i.balance,symbol:i.symbol}:(this.balancePromises[s]=new Promise(async o=>{try{const c=Number(t.chainId),u=await IR(this.wagmiConfig,{address:t.address,chainId:c,token:t.tokens?.[r.caipNetworkId]?.address});at.updateNativeBalanceCache({caipAddress:s,balance:u.formatted,symbol:u.symbol,timestamp:Date.now()}),o({balance:u.formatted,symbol:u.symbol})}catch(c){console.warn("Appkit:WagmiAdapter:getBalance - Error getting balance",c),o({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[s]}),this.balancePromises[s]||{balance:"0.00",symbol:"ETH"})}return{balance:"",symbol:""}}getWalletConnectProvider(){return this.getWagmiConnector("walletConnect")?.provider}async disconnect(t){if(t.id){const n=this.getWagmiConnector(t.id),r=ii(this.wagmiConfig).find(s=>$s.isLowerCaseMatch(s.connector.id,t.id));return await Y5(this.wagmiConfig,{connector:n}),qt.state.enableReconnect===!1&&this.deleteConnection(t.id),r?{connections:[{accounts:r.accounts.map(s=>({address:s})),connectorId:r.connector.id}]}:{connections:[]}}return this.disconnectAll()}async disconnectAll(){const t=ii(this.wagmiConfig),n=await Promise.allSettled(t.map(async r=>{const s=this.getWagmiConnector(r.connector.id);return s&&await Y5(this.wagmiConfig,{connector:s}),r}));return this.wagmiConfig.state.connections.clear(),{connections:n.filter(r=>r.status==="fulfilled").map(({value:r})=>({accounts:r.accounts.map(s=>({address:s})),connectorId:r.connector.id}))}}async switchNetwork(t){const{caipNetwork:n}=t,r=this.wagmiConfig.chains.find(s=>s.id.toString()===n.id.toString());await J5(this.wagmiConfig,{chainId:n.id,addEthereumChainParameter:{chainName:r?.name??n.name,nativeCurrency:r?.nativeCurrency??n.nativeCurrency,rpcUrls:[n.rpcUrls?.chainDefault?.http?.[0]??r?.rpcUrls?.default?.http?.[0]??""],blockExplorerUrls:[r?.blockExplorers?.default?.url??n.blockExplorers?.default?.url??""]}}),await super.switchNetwork(t)}async getCapabilities(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");return await s.request({method:"wallet_getCapabilities",params:[t]})}async grantPermissions(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return s.request({method:"wallet_grantPermissions",params:t})}async revokePermissions(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return s.request({method:"wallet_revokePermissions",params:t})}async walletGetAssets(t){if(!this.wagmiConfig)throw new Error("connectionControllerClient:walletGetAssets - wagmiConfig is undefined");const n=ii(this.wagmiConfig)[0],r=n?this.getWagmiConnector(n.connector.id):null;if(!r)throw new Error("connectionControllerClient:walletGetAssets - connector is undefined");const s=await r.getProvider();if(!s)throw new Error("connectionControllerClient:walletGetAssets - provider is undefined");return s.request({method:"wallet_getAssets",params:[t]})}setAuthProvider(t){if(!this.namespace)throw new Error("WagmiAdapter:setAuthProvider - namespace is required");this.addConnector({id:$e.CONNECTOR_ID.AUTH,type:"AUTH",name:$e.CONNECTOR_NAMES.AUTH,provider:t,imageId:oa.ConnectorImageIds[$e.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}async setUniversalProvider(t){return t.on("connect",()=>{const n=ii(this.wagmiConfig),r=this.getWagmiConnector("walletConnect");if(r&&!n.find(s=>s.connector.id===r.id)){if(Ae.state.activeChain==="eip155")return;Q5(this.wagmiConfig,{connectors:[r]})}}),this.addConnector(new YF({provider:t,caipNetworks:this.getCaipNetworks(),namespace:"eip155"})),Promise.resolve()}}const c7=new Ece({networks:W1.chains,projectId:W1.projectId}),Ace=MR({chains:W1.chains,connectors:c7.connectors,transports:c7.transports}),Sce=new VR,QF=({children:e})=>{const[t,n]=j.useState(!1),[r,s]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{await new Promise(p=>setTimeout(p,1e3));const a=window.ethereum?.isMetaMask,i=window.ethereum?.isWalletConnect,o=window.ethereum?.isCoinbaseWallet,c=window.ethereum?.isNightlyWallet,u=window.ethereum?.isBackpack,h=window.ethereum?.isEVMAsk,f=window.ethereum?.isReown;console.log("ReownProvider: Wallet detection:",{hasMetaMask:a,hasWalletConnect:i,hasCoinbaseWallet:o,hasNightlyWallet:c,hasBackpack:u,hasEVMAsk:h,hasReown:f}),a||i||o||c||u||h?(console.log("ReownProvider: Other wallet detected, but still initializing Reown as fallback"),n(!0)):(console.log("ReownProvider: No other wallets detected, initializing Reown as primary"),n(!0))}catch(a){console.error("ReownProvider: Error during initialization:",a),n(!1)}finally{s(!1)}})()},[]),r?l.jsx("div",{className:"min-h-screen bg-black"}):l.jsx(eQ,{config:Ace,children:l.jsx(YR,{client:Sce,children:e})})},dr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%20104%2074'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1,0,0,1,-62.9053,-11.72)'%3e%3cg%20transform='matrix(0.0278661,0,0,0.0278661,60.3688,-0.633193)'%3e%3cg%20transform='matrix(1.08496,0,0,1.0179,-170.176,2.41367)'%3e%3crect%20x='1560.3'%20y='433.14'%20width='386.277'%20height='1265.57'%20style='fill:url(%23_Linear1);'/%3e%3c/g%3e%3cpath%20d='M3363.03,2953.95C3363.03,2953.95%202976.77,3177.24%202513.2,3001.78C2256.74,2904.7%202027.59,2543.53%202002.52,2505.16C2002.52,2505.16%202255.22,2189.28%202259.54,2193.44C2292.02,2224.76%202448.89,2465.2%202554.79,2537.07C2665.28,2612.07%202779.6,2683.18%202970.3,2652.7C3217.62,2613.18%203363.39,2371.41%203363.39,2371.41'%20style='fill:url(%23_Linear2);'/%3e%3cpath%20d='M3421.17,2470.92C3422.52,2447.75%203443.22,2074.2%203390.09,1942.48C3356.26,1858.59%203268.81,1711.19%203107.17,1645.27C2955.45,1583.38%202779.15,1587.81%202633.79,1670.86C2561.72,1712.03%202397.69,1903.9%202359.97,1958.81C2323.5,2014.7%201972.12,2474.32%201972.12,2474.32C1972.12,2474.32%201792.59,2743.35%201467.02,2979.07C1231.3,3149.74%20857.758,3073.22%20760.787,3048.45C470.205,2974.23%20226.48,2763.69%20134.941,2474.32C98.86,2360.26%2086.861,2240%2092.254,2120.78C97.769,1998.84%20126.508,1879.35%20170.93,1765.41C353.602,1296.86%20821.557,1121.11%201286.23,1228.41C1345.46,1242.09%201587.1,1310.11%201695.77,1400.6C1742.46,1439.48%201890.47,1694.12%201941.78,1731.52C1868.72,1829.34%201662.26,2088.89%201656.22,2080.66C1560.18,1949.87%201466.29,1825.54%201396.67,1752.54C1364.49,1718.8%201326.78,1688.4%201286.07,1665.59C1241.7,1640.73%201192.39,1626.32%201142.77,1616.25C1014.63,1590.25%20875.39,1602.15%20760.787,1668.48C702.968,1701.95%20654.83,1749.35%20615.662,1803.22C515.695,1940.71%20479.125,2123.88%20529.362,2287.5C602.031,2524.17%20860.168,2697.81%201107.83,2651.96C1222.22,2630.78%201318.25,2565.39%201407.08,2493.48C1463.76,2447.6%201853.67,1933.92%201911.86,1861.91C1911.86,1861.91%202075.85,1598.88%202335.58,1385.29C2468.96,1275.61%202633.57,1219.77%202746.42,1203.44C2983.45,1169.14%203319.16,1197.95%203556.91,1456.64C3846.57,1771.78%203807.86,1963.54%203809.45,2200.65C3809.7,2236.87%203809.22,2272.06%203807.84,2306.18L3807.84,3095.05L3421.11,3095.05L3421.11,2472.06L3421.17,2470.92Z'%20style='fill:url(%23_Linear3);'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='_Linear1'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='_Linear2'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='_Linear3'%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(3719.36,0,0,2651.74,91.0235,1769.18)'%3e%3cstop%20offset='0'%20style='stop-color:rgb(66,201,238);stop-opacity:1'/%3e%3cstop%20offset='0.45'%20style='stop-color:rgb(88,37,246);stop-opacity:1'/%3e%3cstop%20offset='1'%20style='stop-color:rgb(229,16,138);stop-opacity:1'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Ws="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.0224%203.58728C12.0281%203.35631%2012.3279%203.27146%2012.4561%203.46284C14.0002%205.76973%2016.6294%207.28848%2019.6139%207.28848C20.7329%207.28848%2021.8019%207.07448%2022.7823%206.68607C20.8309%202.74069%2016.7745%200.0227692%2012.0809%200.000143355C5.4924%20-0.0319099%200.0747474%205.31532%200.0228993%2011.9041C0.0125297%2013.2249%200.216151%2014.4976%200.600769%2015.6883C3.43639%2015.4536%206.2079%2014.2525%208.37704%2012.0823C10.73%209.72924%2011.9451%206.67004%2012.0224%203.58728Z'%20fill='url(%23paint0_linear_728_4516)'/%3e%3cpath%20d='M11.9651%2023.9999C18.5526%2024.031%2023.9694%2018.6866%2024.0222%2012.0987C24.0325%2010.7779%2023.8289%209.50616%2023.4452%208.31548C20.6087%208.55022%2017.8381%209.75127%2015.668%2011.9215C13.315%2014.2745%2012.1008%2017.3337%2012.0235%2020.4165C12.0179%2020.6475%2011.7181%2020.7323%2011.5899%2020.5409C10.0458%2018.2341%207.41658%2016.7153%204.43201%2016.7153C3.31398%2016.7153%202.24496%2016.9284%201.26456%2017.3168C3.21688%2021.2603%207.27235%2023.9772%2011.9651%2023.9999Z'%20fill='url(%23paint1_linear_728_4516)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_728_4516'%20x1='22.7823'%20y1='-8.42108e-07'%20x2='9.57872'%20y2='18.4678'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234B1BF9'/%3e%3cstop%20offset='1'%20stop-color='%233ECCEE'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_728_4516'%20x1='24.0225'%20y1='8.31547'%20x2='10.8228'%20y2='26.7809'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F20A49'/%3e%3cstop%20offset='0.52'%20stop-color='%23C119E7'/%3e%3cstop%20offset='1'%20stop-color='%234675F3'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",jce="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2038%2027'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-1694.3,-36.2585)'%3e%3cg%20transform='matrix(1,0,0,1,-40,-2.12025)'%3e%3cpath%20d='M1769.01,55.819L1764.32,55.819C1763.21,55.819%201762.31,54.916%201762.31,53.805L1762.31,49.777C1762.31,48.665%201763.21,47.763%201764.32,47.763L1769.01,47.763L1769.01,45.557C1769.01,42.116%201766.21,39.323%201762.77,39.323L1741.48,39.323C1738.04,39.323%201735.25,42.116%201735.25,45.557L1735.25,58.025C1735.25,61.465%201738.04,64.258%201741.48,64.258L1762.77,64.258C1766.21,64.258%201769.01,61.465%201769.01,58.025L1769.01,55.819Z'%20style='fill:none;stroke:white;stroke-width:1.89px;'/%3e%3cg%20transform='matrix(0.720727,0,0,1,492.88,0.767239)'%3e%3cpath%20d='M1773.61,49.01C1773.61,47.898%201772.36,46.996%201770.81,46.996L1763.74,46.996C1762.2,46.996%201760.95,47.898%201760.95,49.01L1760.95,53.038C1760.95,54.149%201762.2,55.052%201763.74,55.052L1770.81,55.052C1772.36,55.052%201773.61,54.149%201773.61,53.038L1773.61,49.01Z'%20style='fill:none;stroke:white;stroke-width:2.17px;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _ce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ice=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),u7=e=>{const t=Ice(e);return t.charAt(0).toUpperCase()+t.slice(1)},JF=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Tce=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var Pce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Oce=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...o},c)=>j.createElement("svg",{ref:c,...Pce,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:JF("lucide",s),...!a&&!Tce(o)&&{"aria-hidden":"true"},...o},[...i.map(([u,h])=>j.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ot=(e,t)=>{const n=j.forwardRef(({className:r,...s},a)=>j.createElement(Oce,{ref:a,iconNode:t,className:JF(`lucide-${_ce(u7(e))}`,`lucide-${e}`,r),...s}));return n.displayName=u7(e),n};/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rce=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Mce=Ot("activity",Rce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lx=Ot("arrow-right",zce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Fce=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],XF=Ot("calendar",Fce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Dce=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vd=Ot("chart-column",Dce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Bce=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],KC=Ot("check",Bce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Lce=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kv=Ot("chevron-down",Lce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Uce=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eD=Ot("chevron-left",Uce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $ce=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tD=Ot("chevron-right",$ce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Hce=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ji=Ot("circle-check-big",Hce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Wce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gce=Ot("circle-help",Wce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Vce=Ot("circle-stop",qce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zce=Ot("circle-x",Kce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Yce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gm=Ot("clock",Yce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Qce=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],d6=Ot("cpu",Qce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Jce=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xce=Ot("dollar-sign",Jce);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cx=Ot("download",eue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tue=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],nue=Ot("ellipsis",tue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rue=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Kd=Ot("external-link",rue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const sue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],aue=Ot("eye",sue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const iue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],oue=Ot("funnel",iue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const lue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],h6=Ot("globe",lue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],uue=Ot("grid-3x3",cue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const due=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],ux=Ot("hard-drive",due);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hue=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],fue=Ot("heart",hue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mue=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],f6=Ot("image",mue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pue=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],gue=Ot("list",pue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zd=Ot("loader-circle",yue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bue=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],wue=Ot("menu",bue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xue=[["path",{d:"M5 12h14",key:"1ays0h"}]],nD=Ot("minus",xue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vue=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],Nue=Ot("move",vue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kue=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],d7=Ot("package",kue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Cue=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],Eue=Ot("party-popper",Cue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Aue=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Sue=Ot("pause",Aue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jue=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],_ue=Ot("play",jue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Iue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rD=Ot("plus",Iue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Tue=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dx=Ot("refresh-cw",Tue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pue=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Oue=Ot("rocket",Pue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rue=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Mue=Ot("rotate-cw",Rue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zue=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],h1=Ot("search",zue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Fue=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Due=Ot("settings",Fue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Bue=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Lue=Ot("share-2",Bue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Uue=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],m6=Ot("sparkles",Uue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $ue=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hue=Ot("trash-2",$ue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Wue=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],h7=Ot("trending-up",Wue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Gue=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],to=Ot("triangle-alert",Gue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const que=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Vue=Ot("trophy",que);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kue=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],f7=Ot("twitter",Kue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Zue=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hx=Ot("upload",Zue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Yue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fx=Ot("users",Yue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Que=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],mx=Ot("wifi",Que);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Jue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jn=Ot("x",Jue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],px=Ot("zap",Xue);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ede=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],tde=Ot("zoom-in",ede);/**
* @license lucide-react v0.511.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nde=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],rde=Ot("zoom-out",nde),jd=({src:e,alt:t,className:n="",fallbackSrc:r="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMzM0MTU1Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDMTE2LjU2OSA3MCAxMzAgODMuNDMxIDMwIDEwMEMxMzAgMTE2LjU2OSAxMTYuNTY5IDEzMCAxMDAgMTMwQzgzLjQzMSAxMzAgNzAgMTE2LjU2OSA3MCAxMEM3MCA4My40MzEgODMuNDMxIDcwIDEwMCA3MFoiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+",placeholderSrc:s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjEwMCIgcj0iMjAiIGZpbGw9IiM2QjcyODAiLz4KPC9zdmc+",onLoad:a,onError:i,priority:o=!1,sizes:c="100vw",...u})=>{const[h,f]=j.useState(s),[p,g]=j.useState("loading"),[b,y]=j.useState(!1),w=j.useRef(null),v=j.useRef(null),N=j.useMemo(()=>({rootMargin:o?"0px":"100px",threshold:o?0:.1}),[o]),A=j.useMemo(()=>!e||!e.includes("ipfs")||e.includes("data:")?e:e.includes("gateway.lighthouse.storage")?e.replace(/\.(jpg|jpeg|png)$/i,".webp"):e,[e]);return j.useEffect(()=>{if(!e){f(r),g("error");return}if(o){y(!0);return}return v.current=new IntersectionObserver(C=>{C.forEach(k=>{k.isIntersecting&&(y(!0),v.current&&v.current.disconnect())})},N),w.current&&v.current.observe(w.current),()=>{v.current&&v.current.disconnect()}},[e,o,N]),j.useEffect(()=>{if(!b||!e)return;const C=new Image;if(A!==e){const k=new Image;k.src=A}C.onload=()=>{f(e),g("loaded"),a&&a()},C.onerror=()=>{if(A!==e){const k=new Image;k.onload=()=>{f(e),g("loaded"),a&&a()},k.onerror=()=>{f(r),g("error"),i&&i()},k.src=e}else f(r),g("error"),i&&i()},C.src=A},[b,e,A,r,a,i]),l.jsxs("div",{className:"relative overflow-hidden",children:[l.jsx("img",{ref:w,src:h,alt:t,className:`${n} ${p==="loading"?"animate-pulse blur-sm scale-105":""} ${p==="loaded"?"animate-fade-in":""}`,style:{transition:"all 0.3s ease-in-out",opacity:p==="loaded"?1:.8,filter:p==="loading"?"blur(4px)":"blur(0px)",transform:p==="loading"?"scale(1.05)":"scale(1)"},sizes:c,loading:o?"eager":"lazy",...u}),p==="loading"&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse"})]})},sde=e=>{console.log(" getNFTImageUrl called for NFT:",e.metadata?.name||e.id,e.collectionName);let t=e.image||e.image_url||e.media_url||"";if(t&&!t.startsWith("ipfs://")&&(t.startsWith("http://")||t.startsWith("https://")))return console.log(" Using pre-converted HTTP image URL:",t),t;if(!t&&e.metadata&&(t=e.metadata.image||e.metadata.image_url||e.metadata.media_url||"",console.log(" Using metadata image:",t)),t&&t.startsWith("ipfs://")){const n=t.replace("ipfs://","");e.collectionName?.toLowerCase().includes("somnia")||e.collectionName?.toLowerCase().includes("dreava")||e.collectionName?.toLowerCase().includes("dreava.art")?(t=`https://gateway.lighthouse.storage/ipfs/${n}`,console.log(" Converting to Lighthouse gateway for collection:",e.collectionName)):(t=`https://cloudflare-ipfs.com/ipfs/${n}`,console.log(" Converting to Cloudflare gateway for external collection:",e.collectionName))}return console.log(" Final image URL:",t),t},m7=e=>{window.allCollections&&console.log(" Available collections in window.allCollections:",{total:window.allCollections.length,sample:window.allCollections.slice(0,3).map(n=>({name:n.name,nfts:n.nfts?.length||0,firstNFTImage:n.nfts?.[0]?.image}))});const t=window.allCollections?.find(n=>n.name===e.collectionName||n.name?.toLowerCase().includes(e.collectionName?.toLowerCase())||e.collectionName?.toLowerCase().includes(n.name?.toLowerCase()));if(t){if(console.log(" Found collection for fallback:",{name:t.name,nfts:t.nfts?.length||0,firstNFT:t.nfts?.[0]}),t.nfts&&t.nfts.length>0){const r=t.nfts[0],s=r.image||r.image_url||r.media_url;if(s&&!s.startsWith("ipfs://"))return console.log(" Using first NFT image from collection as fallback:",t.name,s),s;if(s&&s.startsWith("ipfs://")){const a=`https://gateway.lighthouse.storage/ipfs/${s.replace("ipfs://","")}`;return console.log(" Converting IPFS NFT image for fallback:",t.name,a),a}}const n=t.cover||t.banner||t.metadataBanner;if(n)return console.log(" Using collection fallback image:",t.name,n),n}return console.log(" No fallback image found, using placeholder"),null},p6=()=>{const{searchResults:e,showSearchResults:t,hideSearchResults:n,searchTerm:r}=BC(),s=Xr(),a=j.useCallback(p=>{n(),s(`/launchpad/collection/${p.address}`),console.log("Collection clicked:",p)},[n,s]),i=j.useCallback(p=>{n();const g=new URLSearchParams;p.id&&g.set("nftId",p.id),p.token?.address&&g.set("contract",p.token.address),p.metadata?.name&&g.set("nftName",p.metadata.name),p.collectionName&&g.set("collection",p.collectionName),s(`/my-nfts?${g.toString()}`),console.log("NFT clicked with search params:",p,g.toString())},[n,s]),o=j.useCallback(()=>{n(),s("/")},[n,s]),c=j.useCallback(()=>{n(),s("/my-nfts")},[n,s]),u=j.useMemo(()=>e.collections.length+e.nfts.length,[e.collections.length,e.nfts.length]),h=j.useMemo(()=>e.collections.slice(0,3),[e.collections]),f=j.useMemo(()=>e.nfts.slice(0,3),[e.nfts]);return!t||!r?null:l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900/95 backdrop-blur-sm border border-zinc-700/30 rounded-xl shadow-xl z-50 max-h-96 overflow-y-auto",children:e.isLoading?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(Zd,{className:"w-6 h-6 animate-spin mx-auto text-zinc-400 mb-2"}),l.jsx("p",{className:"text-zinc-400",children:"Searching..."})]}):u===0?l.jsxs("div",{className:"p-6 text-center",children:[l.jsx(d7,{className:"w-8 h-8 mx-auto text-zinc-400 mb-2"}),l.jsxs("p",{className:"text-zinc-400",children:['No results found for "',r,'"']})]}):l.jsxs("div",{className:"p-4",children:[e.collections.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-sm font-semibold text-zinc-300 flex items-center gap-2",children:[l.jsx(d7,{className:"w-4 h-4"}),"Collections (",e.collections.length,")"]}),l.jsx("button",{onClick:o,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"View all"})]}),l.jsx("div",{className:"space-y-2",children:h.map((p,g)=>(g===0&&console.log(" First collection in search results:",{name:p.name,cover:p.cover,banner:p.banner,metadataBanner:p.metadataBanner,nfts:p.nfts,nftsCount:p.nfts?.length||0,firstNFTImage:p.nfts?.[0]?.image,firstNFT:p.nfts?.[0],fullCollection:p}),l.jsxs("div",{onClick:()=>a(p),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-zinc-800/50 cursor-pointer transition-colors",children:[l.jsxs("div",{className:"w-10 h-10 rounded-lg bg-zinc-800 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[(()=>{const b=p.cover||p.banner||p.metadataBanner||p.metadata?.image||p.metadata?.banner,y=b;return b?l.jsx(jd,{src:y,alt:p.name,className:"w-full h-full object-cover",priority:g<2,sizes:"40px",onError:w=>{console.warn(" Collection image failed to load:",w.target.src),w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null})(),(!p.cover&&!p.banner&&!p.metadataBanner&&p.nfts&&p.nfts.length>0,null),!p.cover&&!p.banner&&!p.metadataBanner&&p.nfts&&p.nfts.length>0?l.jsx(jd,{src:p.nfts[0].image,alt:`${p.name} NFT`,className:"w-full h-full object-cover",priority:g<2,sizes:"40px",onError:b=>{console.warn(" Collection NFT image failed to load:",b.target.src),b.target.style.display="none",b.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:p.cover||p.banner||p.metadataBanner||p.nfts&&p.nfts.length>0?"none":"flex"},children:l.jsx(f6,{className:"w-5 h-5 text-zinc-400"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:p.name}),l.jsx("p",{className:"text-xs text-zinc-400 truncate",children:p.description||"No description"})]}),l.jsx(lx,{className:"w-4 h-4 text-zinc-400"})]},`collection-${g}`)))})]}),e.nfts.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"text-sm font-semibold text-zinc-300 flex items-center gap-2",children:[l.jsx(f6,{className:"w-4 h-4"}),"My NFTs (",e.nfts.length,")"]}),l.jsx("button",{onClick:c,className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"View all"})]}),l.jsx("div",{className:"space-y-2",children:f.map((p,g)=>{g===0&&console.log(" First NFT in search results:",{id:p.id,directImage:p.image,metadataImage:p.metadata?.image,contractAddress:p.contractAddress||p.token?.address,isFactoryNFT:p.isFactoryNFT,collectionName:p.collectionName,fullNft:p});let b=sde(p);if(b||(b=m7(p),console.log(" Using fallback image for NFT:",p.metadata?.name||p.id)),!b&&p.collectionName){const y=window.allCollections?.find(w=>w.name===p.collectionName||w.name?.toLowerCase().includes(p.collectionName?.toLowerCase())||p.collectionName?.toLowerCase().includes(w.name?.toLowerCase()));if(y&&y.nfts&&y.nfts.length>0){const w=y.nfts[0],v=w.image||w.image_url||w.media_url;v&&(v.startsWith("ipfs://")?b=`https://gateway.lighthouse.storage/ipfs/${v.replace("ipfs://","")}`:b=v,console.log(" Using collection NFT image as fallback:",y.name,b))}}return l.jsxs("div",{onClick:()=>i(p),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-zinc-800/50 cursor-pointer transition-colors",children:[l.jsxs("div",{className:"w-10 h-10 rounded-lg bg-zinc-800 flex items-center justify-center flex-shrink-0 overflow-hidden",children:[b?l.jsx(jd,{src:b,alt:p.metadata?.name||`NFT #${p.id}`,className:"w-full h-full object-cover",priority:g<2,sizes:"40px",onError:y=>{console.warn(" NFT image failed to load:",y.target.src),console.log(" NFT data for debugging:",{nft:p.id,directImage:p.image,metadataImage:p.metadata?.image,resolvedUrl:b});const w=m7(p);w&&w!==b?(console.log(" Retrying with fallback image:",w),y.target.src=w):(y.target.style.display="none",y.target.nextSibling.style.display="flex")}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:b?"none":"flex"},children:l.jsx("img",{src:dr,alt:"Logo",className:"w-5 h-5 opacity-50"})})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:p.metadata?.name||`NFT #${p.id}`}),l.jsx("p",{className:"text-xs text-zinc-400 truncate",children:p.collectionName})]}),l.jsx(lx,{className:"w-4 h-4 text-zinc-400"})]},`nft-${p.token?.address}-${p.id}-${g}`)})})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-zinc-700/30",children:l.jsxs("p",{className:"text-xs text-zinc-500 text-center",children:["Found ",u," result",u!==1?"s":"",' for "',r,'"']})})]})})},ade=({isOpen:e,onClose:t})=>{const{connect:n,disconnect:r,isConnected:s,address:a,connectors:i}=yo(),[o,c]=j.useState([]),[u,h]=j.useState(!1);if(!e)return null;j.useEffect(()=>{if(e){document.body.classList.add("modal-open");const b=document.querySelector(".wallet-modal-overlay");b&&(b.style.position="fixed",b.style.top="0",b.style.left="0",b.style.right="0",b.style.bottom="0",b.style.display="flex",b.style.alignItems="center",b.style.justifyContent="center",b.style.zIndex="999999",b.style.width="100vw",b.style.height="100vh")}else document.body.classList.remove("modal-open");return()=>{document.body.classList.remove("modal-open")}},[e]),j.useEffect(()=>{try{console.log("[ConnectModal] available connectors:",i?.map(y=>({id:y.id,name:y.name})))}catch{}const b=g.map(y=>({...y,installed:y.id==="metamask"?window.ethereum&&window.ethereum.isMetaMask:y.id==="rabby"?window.ethereum&&window.ethereum.isRabby:y.id==="keplr"?!!window.keplr:y.id==="subwallet"?!!(window.injectedWeb3&&window.injectedWeb3["polkadot-js"]):y.id==="pontem"?window.ethereum&&window.ethereum.isPontem:y.id==="nightly"?window.ethereum&&window.ethereum.isNightly:y.id==="okx"?window.ethereum&&window.ethereum.isOkxWallet:!0}));c(b)},[]);const f=async b=>{if(!u)try{h(!0),console.log("Attempting to connect with wallet:",b);const y=i?.find(A=>A.id.toLowerCase().includes(b)),w=i?.find(A=>(A.name||"").toLowerCase().includes(b)),v=y||w||i?.[0],N=await n({connectorId:v?.id,connectorName:v?.name});if(!N?.success)throw N?.error||new Error("Failed to connect");t()}catch(y){console.error("Failed to connect:",y),alert(`Connection failed: ${y.message}`)}finally{h(!1)}},p=async()=>{try{await r(),t()}catch(b){console.error("Failed to disconnect:",b)}},g=[{id:"metamask",name:"MetaMask",icon:"",description:"Connect using MetaMask",installed:!0},{id:"walletconnect",name:"WalletConnect",icon:"",description:"Connect using WalletConnect",installed:!0},{id:"rabby",name:"Rabby Wallet",icon:"",description:"Connect using Rabby Wallet",installed:!0},{id:"keplr",name:"Keplr",icon:"",description:"Connect using Keplr",installed:window.keplr},{id:"subwallet",name:"SubWallet",icon:"",description:"Connect using SubWallet",installed:window.injectedWeb3&&window.injectedWeb3["polkadot-js"]},{id:"pontem",name:"Pontem Wallet",icon:"",description:"Connect using Pontem Wallet",installed:window.ethereum&&window.ethereum.isPontem},{id:"nightly",name:"Nightly",icon:"",description:"Connect using Nightly",installed:window.ethereum&&window.ethereum.isNightly},{id:"okx",name:"OKX Wallet",icon:"",description:"Connect using OKX Wallet",installed:window.ethereum&&window.ethereum.isOkxWallet}];return io.createPortal(l.jsx("div",{className:"wallet-modal-overlay fixed inset-0 bg-black/60 backdrop-blur-md p-4 z-[100000]",onClick:t,children:l.jsxs("div",{className:"wallet-modal-content bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl mx-auto my-auto",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-800",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:dr,alt:"Dreava",className:"w-8 h-8"}),l.jsx("h2",{className:"text-xl font-bold text-white",children:"Connect"})]}),l.jsx("button",{onClick:t,className:"text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Jn,{size:24})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:s?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),l.jsx("span",{className:"text-green-400 font-medium",children:"Connected"})]}),l.jsx("p",{className:"text-zinc-300 text-sm font-mono break-all",children:a})]}),l.jsx("button",{onClick:p,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors duration-200",children:"Disconnect Wallet"})]}):l.jsx("div",{className:"space-y-3",children:o.map(b=>l.jsxs("button",{onClick:()=>f(b.id),disabled:!b.installed||u,className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all duration-200 ${b.installed?"bg-zinc-800 border-zinc-700 hover:bg-zinc-700 hover:border-zinc-600 cursor-pointer":"bg-zinc-800/50 border-zinc-700/50 cursor-not-allowed opacity-50"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:b.icon}),l.jsxs("div",{className:"text-left",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-medium text-white",children:b.name}),b.installed&&l.jsx("span",{className:"bg-green-500/20 text-green-400 text-xs px-2 py-1 rounded-full",children:"installed"})]}),l.jsx("p",{className:"text-zinc-400 text-sm",children:b.description})]})]}),u&&l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]},b.id))})}),l.jsx("div",{className:"p-6 border-t border-zinc-800 bg-zinc-900/50",children:l.jsxs("p",{className:"text-center text-zinc-400 text-sm",children:["By connecting your wallet, you agree to our"," ",l.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-blue-300 underline",children:"Terms of Service"})," ","and"," ",l.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-blue-300 underline",children:"Privacy Policy"})]})})]})}),document.body)},p7=({isMobile:e=!1})=>{const[t,n]=j.useState(!1),[r,s]=j.useState(!1),a=j.useRef(),{disconnect:i,isConnected:o,address:c,isLoading:u}=yo();j.useEffect(()=>{const g=b=>{a.current&&!a.current.contains(b.target)&&n(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=()=>{o?n(g=>!g):s(!0)},f=async()=>{try{await i(),n(!1)}catch(g){console.error("Disconnect failed:",g)}},p=g=>g?`${g.slice(0,6)}...${g.slice(-4)}`:"";return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:h,disabled:u,"data-wallet-connect":!0,className:`flex items-center gap-2 rounded-xl text-white font-semibold shadow hover:shadow-lg hover:scale-105 transition-all duration-200 bg-gradient-to-r from-blue-500 to-pink-500 ${e?"px-3 py-2":"px-4 py-2"}`,children:[l.jsx("img",{src:jce,alt:"Wallet",className:"w-5 h-5"}),o?p(c):"Connect"]}),t&&io.createPortal(l.jsx("div",{ref:a,className:"fixed inset-0 z-[100000]",onClick:()=>n(!1),children:l.jsx("div",{className:"absolute right-3 top-16 w-64 bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl shadow-2xl animate-fadeIn",onClick:g=>g.stopPropagation(),children:l.jsxs("div",{className:"pt-2",children:[l.jsx(ha,{to:"/my-nfts",onClick:()=>n(!1),className:"block px-4 py-3 hover:bg-white/5 text-white transition-colors duration-200",children:"My NFTs"}),l.jsx("button",{onClick:f,className:"w-full text-left px-4 py-3 text-red-400 hover:bg-red-400/10 transition-colors duration-200",children:"Disconnect"})]})})}),document.body),r&&l.jsx("div",{className:"relative z-[999999]",children:l.jsx(ade,{isOpen:r,onClose:()=>s(!1)})})]})},nl=50312,f1="0xc488",ide={chainId:f1,chainName:"Somnia Testnet",rpcUrls:["https://dream-rpc.somnia.network/"],nativeCurrency:{name:"Somnia Test Token",symbol:"STT",decimals:18},blockExplorerUrls:["https://shannon-explorer.somnia.network/"]};async function _d(){if(console.log("[Network] ensureSomniaNetwork invoked"),typeof window>"u"||!window.ethereum)throw new Error("Wallet not detected");try{typeof window.ethereum.request=="function"&&(console.log("[Network] requesting permissions: wallet_requestPermissions"),await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))}catch{}const e=await window.ethereum.request({method:"eth_chainId"});if(console.log("[Network] current chainId:",e),e===f1)return console.log("[Network] already on Somnia"),!0;try{return console.log("[Network] trying wallet_switchEthereumChain to",f1),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:f1}]}),console.log("[Network] switchEthereumChain success"),!0}catch(t){if(console.warn("[Network] switchEthereumChain error:",t?.code,t?.message||t),t&&(t.code===4902||String(t.message||"").toLowerCase().includes("unrecognized")))return console.log("[Network] trying wallet_addEthereumChain"),await window.ethereum.request({method:"wallet_addEthereumChain",params:[ide]}),console.log("[Network] addEthereumChain success"),!0;throw t}}const ode=()=>{const e=Xr(),t=py(),{searchTerm:n,filters:r,updateSearch:s,updateFilters:a,clearSearch:i,hideSearchResults:o}=BC(),[c,u]=j.useState(!1),[h,f]=j.useState(!1),{isConnected:p,chainId:g,switchNetwork:b,balance:y}=yo();j.useEffect(()=>{p||console.warn(" Wallet not connected")},[p]),j.useEffect(()=>{(async()=>{if(p&&g!==nl)try{console.log("[Header] enforcing network. current chainId:",g),await b(nl)}catch(k){console.warn("[Header] Network switch failed (wagmi):",k?.message||k)}})()},[p,g,b]),j.useEffect(()=>{const k=S=>{S.target.closest(".search-container")||o(),!S.target.closest(".mobile-menu")&&h&&f(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[o,h]),j.useEffect(()=>{f(!1),u(!1)},[t.pathname]);const w=()=>{e("/create-dreams"),f(!1)},v=j.useCallback(k=>{s(k.target.value)},[s]),N=j.useCallback((k,S)=>{a({...r,[k]:S})},[r,a]),A=j.useCallback(()=>{i()},[i]),C=k=>{if(!k)return"0.00";try{return parseFloat(k).toFixed(2)}catch{return"0.00"}};return l.jsx(l.Fragment,{children:l.jsxs("header",{className:"bg-black text-white px-4 md:px-6 py-3 flex items-center justify-between border-b border-zinc-800 relative z-[100]",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx(ha,{to:"/",children:l.jsx("img",{src:dr,alt:"Logo",className:"h-8 md:h-9"})}),l.jsxs("button",{onClick:w,className:"hidden md:inline-flex items-center bg-zinc-800 hover:bg-zinc-700 text-white font-semibold px-6 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg border border-zinc-700",children:[l.jsx(m6,{className:"inline w-4 h-4 mr-2"}),"Create your dreams"]})]}),l.jsx("div",{className:"hidden md:block flex-1 md:px-10 md:max-w-xl",children:l.jsxs("div",{className:"search-container relative",children:[l.jsxs("div",{className:"relative",children:[l.jsx(h1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search items, collections and accounts",value:n,onChange:v,className:"w-full px-4 py-2 rounded-full bg-zinc-800 placeholder-zinc-400 text-white focus:outline-none pl-10 pr-20"}),n&&l.jsx("button",{onClick:A,className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Jn,{size:16})}),l.jsx("button",{onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(oue,{size:16})})]}),c&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl p-4 z-40",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Price Range"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.priceRange||"",onChange:k=>N("priceRange",k.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"0-0.1",children:"0 - 0.1 STT"}),l.jsx("option",{value:"0.1-1",children:"0.1 - 1 STT"}),l.jsx("option",{value:"1-10",children:"1 - 10 STT"}),l.jsx("option",{value:"10+",children:"10+ STT"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Supply Range"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.supplyRange||"",onChange:k=>N("supplyRange",k.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"1-100",children:"1 - 100"}),l.jsx("option",{value:"100-1000",children:"100 - 1,000"}),l.jsx("option",{value:"1000-10000",children:"1,000 - 10,000"}),l.jsx("option",{value:"10000+",children:"10,000+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Type"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.type||"",onChange:k=>N("type",k.target.value),children:[l.jsx("option",{value:"",children:"All"}),l.jsx("option",{value:"collection",children:"Collection"}),l.jsx("option",{value:"nft",children:"NFT"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Sort"}),l.jsxs("select",{className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg p-2 text-white",value:r.sort||"",onChange:k=>N("sort",k.target.value),children:[l.jsx("option",{value:"relevance",children:"Relevance"}),l.jsx("option",{value:"newest",children:"Newest"}),l.jsx("option",{value:"popular",children:"Popular"})]})]})]})}),l.jsx(p6,{})]})}),l.jsxs("div",{className:"hidden md:flex items-center gap-6 relative",children:[l.jsx(ha,{to:"/launchpad",className:"font-semibold",children:"Launchpad"}),l.jsx(ha,{to:"/marketplace",className:"font-semibold",children:"Marketplace"}),p&&y&&l.jsxs("div",{className:"flex items-center gap-1 pr-2",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-5 h-5"}),l.jsxs("span",{className:"font-bold text-sm",children:[C(y)," STT"]})]}),l.jsx(p7,{})]}),l.jsxs("div",{className:"flex md:hidden items-center gap-3",children:[l.jsx("button",{onClick:()=>u(!c),className:"p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(h1,{className:"w-5 h-5"})}),l.jsx("div",{className:"p-2",children:l.jsx(p7,{isMobile:!0})}),l.jsx("button",{onClick:()=>f(!h),className:"p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(wue,{className:"w-5 h-5"})})]}),c&&io.createPortal(l.jsx("div",{className:"search-container fixed inset-x-0 top-20 z-[100000] md:hidden px-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-xl border border-zinc-800/50 rounded-xl p-3 shadow-2xl mx-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(h1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search collections, NFTs, creators...",value:n,onChange:v,className:"w-full pl-10 pr-10 py-3 bg-zinc-800/60 border border-zinc-700/50 rounded-lg text-white placeholder:text-zinc-500 focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300",autoFocus:!0}),n&&l.jsx("button",{onClick:A,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Jn,{size:16})})]}),l.jsx("div",{className:"mt-2",children:l.jsx(p6,{})})]})}),document.body),h&&l.jsx("div",{className:"mobile-menu md:hidden absolute top-full left-0 right-0 bg-zinc-900/95 backdrop-blur-xl border-t border-zinc-800/50 animate-fadeIn",children:l.jsxs("div",{className:"p-6 space-y-6 relative",children:[l.jsx("button",{onClick:()=>f(!1),className:"absolute top-0 right-0 p-2 text-zinc-400 hover:text-white transition-colors duration-200",children:l.jsx(Jn,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("button",{onClick:()=>{w(),f(!1)},className:"w-full bg-zinc-800 hover:bg-zinc-700 text-white font-semibold px-6 py-4 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg border border-zinc-700 shadow-lg",children:[l.jsx(m6,{className:"inline w-5 h-5 mr-2"}),"Create Your Dreams"]}),l.jsx("p",{className:"text-zinc-400 text-sm mt-2",children:"Build, populate, and manage your NFT collections."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(ha,{to:"/launchpad",onClick:()=>f(!1),className:"block text-center py-3 font-semibold text-white hover:text-pink-400 transition-colors duration-200 border border-zinc-700 rounded-lg hover:bg-zinc-800/50",children:"Launchpad"}),l.jsx(ha,{to:"/marketplace",onClick:()=>f(!1),className:"block text-center py-3 font-semibold text-white hover:text-pink-400 transition-colors duration-200 border border-zinc-700 rounded-lg hover:bg-zinc-800/50",children:"Marketplace"})]})]})})]})})};var sD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g7=Ze.createContext&&Ze.createContext(sD),lde=["attr","size","title"];function cde(e,t){if(e==null)return{};var n=ude(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ude(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(this,arguments)}function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(r){dde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dde(e,t,n){return t=hde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aD(e){return e&&e.map((t,n)=>Ze.createElement(t.tag,yx({key:n},t.attr),aD(t.child)))}function ZC(e){return t=>Ze.createElement(mde,gx({attr:yx({},e.attr)},t),aD(e.child))}function mde(e){var t=n=>{var{attr:r,size:s,title:a}=e,i=cde(e,lde),o=s||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Ze.createElement("svg",gx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:c,style:yx(yx({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Ze.createElement("title",null,a),e.children)};return g7!==void 0?Ze.createElement(g7.Consumer,null,n=>t(n)):t(sD)}function pde(e){return ZC({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(e)}function gde(e){return ZC({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(e)}function yde(e){return ZC({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}const bde=()=>l.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-[#0d0d0d] border-t border-zinc-700 z-[80]",children:l.jsxs("div",{className:"flex flex-row items-center justify-between px-4 md:px-6 py-3 w-full min-h-[52px]",children:[l.jsxs("div",{className:"flex gap-6 text-xs md:text-sm text-white whitespace-nowrap overflow-x-auto no-scrollbar",children:[l.jsx("a",{href:"https://www.notion.so/dreava-art-NFT-Launchpad-Guide-Step-by-Step-from-Collection-to-Sale-220626bc8ae98000adfffd01b1aff334",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:"Docs"}),l.jsx(ha,{to:"/privacy",className:"hover:text-blue-400 transition-colors",children:"Privacy Policy"}),l.jsx(ha,{to:"/terms",className:"hover:text-blue-400 transition-colors",children:"Terms Of Service"})]}),l.jsxs("div",{className:"flex gap-4 flex-shrink-0",children:[l.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:l.jsx(pde,{className:"text-white w-5 h-5"})}),l.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:l.jsx(yde,{className:"text-white w-5 h-5"})}),l.jsx("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:l.jsx(gde,{className:"text-white w-5 h-5"})})]})]})}),wde="/assets/blurry%20circle%20on%20the%20left-B9j3xpR6.svg",xde="/assets/blurry%20circle%20on%20the%20right-BrslP2N3.svg",Rm=()=>l.jsxs(l.Fragment,{children:[l.jsx("img",{src:wde,alt:"",className:"fixed top-[-400px] left-0 w-[800px] translate-x-[-50%] translate-y-[50%] pointer-events-none select-none z-0"}),l.jsx("img",{src:xde,alt:"",className:"fixed top-[-80px] right-0 w-[800px] translate-x-[50%] pointer-events-none select-none z-0"})]}),m1="/assets/IMG-ClTlsDTj.mov",vde=({onLoadingComplete:e})=>{const[t,n]=j.useState("Initializing"),[r,s]=j.useState(!0),[a,i]=j.useState(!1),[o,c]=j.useState(0),u=j.useRef(null),h=async()=>{n("Preloading assets"),c(30),await new Promise(p=>setTimeout(p,300)),c(60)},f=async()=>{n("Loading collections"),c(80);try{JSON.parse(localStorage.getItem("dreava_collections")||"[]")}catch{}await new Promise(p=>setTimeout(p,200)),c(90)};return j.useEffect(()=>{(async()=>{try{const p=Date.now(),g=2e3;n("Initializing"),c(10),await new Promise(y=>setTimeout(y,300)),await h(),await f(),n("Almost ready"),c(95),await new Promise(y=>setTimeout(y,300)),c(100),n("Ready");const b=Date.now()-p;b<g&&await new Promise(y=>setTimeout(y,g-b)),s(!1),e&&e()}catch(p){console.error("Loading error:",p),s(!1),e&&e()}})()},[e]),r?l.jsxs("div",{className:"fixed inset-0 bg-black z-[9996] flex flex-col items-center justify-center",children:[l.jsx(Rm,{}),a?l.jsx("div",{className:"relative z-10 mb-6 w-64 h-64 bg-zinc-800/80 backdrop-blur-sm rounded-2xl shadow-2xl flex items-center justify-center border border-zinc-700/30",children:l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:dr,alt:"Dreava",className:"w-32 h-32 mx-auto mb-4"}),l.jsx("div",{className:"text-zinc-300 text-lg font-semibold",children:"Dreava"})]})}):l.jsx("div",{className:"relative z-10 mb-6",children:l.jsx("video",{ref:u,src:m1,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"w-64 h-64 object-cover rounded-2xl shadow-2xl",onError:p=>{console.warn("Failed to load video:",p),i(!0),p.target.style.display="none"}})}),l.jsx("div",{className:"relative z-10 w-80 h-2 bg-zinc-800 rounded-full overflow-hidden mb-4",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-pink-500 to-blue-500 rounded-full transition-all duration-300 ease-out",style:{width:`${o}%`}})}),l.jsxs("div",{className:"relative z-10 text-zinc-300 text-sm font-medium mb-2",children:[Math.round(o),"%"]}),l.jsx("div",{className:"relative z-10 text-zinc-300 text-sm font-medium",children:t})]}):null},Nde=()=>window.ethereum&&(window.ethereum.isMetaMask||window.ethereum.isWalletConnect||window.ethereum.isCoinbaseWallet||window.ethereum.isReown),kde=()=>window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"Coinbase Wallet":window.ethereum.isReown?"Reown":"Unknown Provider":null,Cde=async()=>{try{return window.ethereum?await window.ethereum.request({method:"eth_chainId"})!==void 0:!1}catch(e){return console.warn("Network availability check failed:",e),!1}},Ede=({enabled:e=!1})=>{const[t,n]=j.useState({hasProvider:!1,providerType:null,networkAvailable:!1,lastCheck:null}),[r,s]=j.useState(!1);return j.useEffect(()=>{if(!e)return;const a=async()=>{try{const o=Nde(),c=kde(),u=await Cde();n({hasProvider:o,providerType:c,networkAvailable:u,lastCheck:new Date().toLocaleTimeString()})}catch(o){console.error("Wallet status check failed:",o),n(c=>({...c,lastCheck:new Date().toLocaleTimeString()}))}},i=setInterval(a,5e3);return a(),()=>clearInterval(i)},[e]),e?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>s(!r),className:"fixed bottom-4 right-4 z-50 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:[r?"Hide":"Show"," Wallet Status"]}),r&&l.jsxs("div",{className:"fixed bottom-16 right-4 z-50 bg-gray-900 border border-gray-700 rounded-lg p-4 text-white text-sm shadow-xl max-w-xs",children:[l.jsx("h3",{className:"font-bold mb-2 text-blue-400",children:"Wallet Status Monitor"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Provider:"}),l.jsx("span",{className:t.hasProvider?"text-green-400":"text-red-400",children:t.providerType||"None"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Network:"}),l.jsx("span",{className:t.networkAvailable?"text-green-400":"text-red-400",children:t.networkAvailable?"Available":"Unavailable"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Last Check:"}),l.jsx("span",{className:"text-gray-400 text-xs",children:t.lastCheck||"Never"})]})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:l.jsxs("div",{className:"text-xs text-gray-400",children:[l.jsxs("div",{children:["Window.ethereum: ",window.ethereum?"":""]}),l.jsxs("div",{children:["MetaMask: ",window.ethereum?.isMetaMask?"":""]}),l.jsxs("div",{children:["Reown: ",window.ethereum?.isReown?"":""]})]})})]})]}):null},Ade=({enabled:e=!1})=>{const[t,n]=j.useState({pageLoadTime:null,errors:[],warnings:[],walletStatus:null,networkRequests:[],domReady:!1}),[r,s]=j.useState(!1);return j.useEffect(()=>{if(!e)return;const a=performance.now(),i=p=>{n(g=>({...g,errors:[...g.errors,{message:p.message||p.error?.message||"Unknown error",source:p.filename||p.target?.src||"Unknown",line:p.lineno||"Unknown",time:new Date().toLocaleTimeString()}]}))},o=p=>{(p.target.tagName==="SCRIPT"||p.target.tagName==="LINK")&&n(g=>({...g,networkRequests:[...g.networkRequests,{url:p.target.src||p.target.href,type:p.target.tagName,success:!p.target.onerror,time:new Date().toLocaleTimeString()}]}))},c=p=>{n(g=>({...g,errors:[...g.errors,{message:`Failed to load resource: ${p.target.src||p.target.href}`,source:p.target.src||p.target.href||"Unknown",time:new Date().toLocaleTimeString()}]}))},u=()=>{n(p=>({...p,domReady:document.readyState==="complete",pageLoadTime:((performance.now()-a)/1e3).toFixed(2)}))};window.addEventListener("error",i),window.addEventListener("unhandledrejection",p=>{i({message:p.reason?.message||"Unhandled promise rejection"})}),window.addEventListener("load",u),document.addEventListener("DOMContentLoaded",u),document.addEventListener("load",o,!0),document.addEventListener("error",c,!0);const h=()=>{const p={hasEthereum:!!window.ethereum,ethereumType:window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isReown?"Reown":"Unknown":"None",time:new Date().toLocaleTimeString()};n(g=>({...g,walletStatus:p}))},f=setInterval(h,2e3);return h(),()=>{window.removeEventListener("error",i),window.removeEventListener("unhandledrejection",i),window.removeEventListener("load",u),document.removeEventListener("DOMContentLoaded",u),document.removeEventListener("load",o,!0),document.removeEventListener("error",c,!0),clearInterval(f)}},[e]),e?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>s(!r),className:"fixed bottom-4 left-4 z-50 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-lg text-sm font-medium shadow-lg",children:[r?"Hide":"Show"," Debug"]}),r&&l.jsxs("div",{className:"fixed bottom-16 left-4 z-50 bg-gray-900 border border-gray-700 rounded-lg p-4 text-white text-sm shadow-xl max-w-md max-h-96 overflow-y-auto",children:[l.jsx("h3",{className:"font-bold mb-2 text-red-400",children:"Debug Loader"}),l.jsxs("div",{className:"space-y-2 mb-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"DOM Ready:"}),l.jsx("span",{className:t.domReady?"text-green-400":"text-red-400",children:t.domReady?"Yes":"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Load Time:"}),l.jsx("span",{className:"text-blue-400",children:t.pageLoadTime?`${t.pageLoadTime}s`:"Loading..."})]})]}),t.walletStatus&&l.jsxs("div",{className:"mb-3 p-2 bg-gray-800 rounded",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Wallet Status:"}),l.jsxs("div",{className:"text-xs",children:[l.jsxs("div",{children:["Ethereum: ",t.walletStatus.hasEthereum?"":""]}),l.jsxs("div",{children:["Type: ",t.walletStatus.ethereumType]}),l.jsxs("div",{children:["Time: ",t.walletStatus.time]})]})]}),t.errors.length>0&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-xs text-red-400 mb-1",children:["Errors (",t.errors.length,"):"]}),l.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:t.errors.slice(-5).map((a,i)=>l.jsx("div",{className:"text-xs text-red-300 bg-red-900 p-1 rounded",children:a.message},i))})]}),t.warnings.length>0&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"text-xs text-yellow-400 mb-1",children:["Warnings (",t.warnings.length,"):"]}),l.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:t.warnings.slice(-5).map((a,i)=>l.jsx("div",{className:"text-xs text-yellow-300 bg-yellow-900 p-1 rounded",children:a.message},i))})]}),t.networkRequests.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs text-blue-400 mb-1",children:["Network (",t.networkRequests.length,"):"]}),l.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:t.networkRequests.slice(-5).map((a,i)=>l.jsxs("div",{className:`text-xs p-1 rounded ${a.success?"text-green-300 bg-green-900":"text-red-300 bg-red-900"}`,children:[a.type,": ",a.success?"":""]},i))})]})]})]}):null},Sde=()=>{const[e,t]=j.useState({hasEthereum:!1,ethereumType:"None",metaMaskAvailable:!1,reownAvailable:!1});return j.useEffect(()=>{const n=()=>{const s=!!window.ethereum,a=window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isReown?"Reown":"Unknown":"None";t({hasEthereum:s,ethereumType:a,metaMaskAvailable:window.ethereum?.isMetaMask||!1,reownAvailable:window.ethereum?.isReown||!1})};n();const r=setInterval(n,2e3);return()=>clearInterval(r)},[]),l.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:" Test Page - Wallet Status"}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Wallet Status"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Ethereum Provider"}),l.jsx("div",{className:`text-2xl font-bold ${e.hasEthereum?"text-green-400":"text-red-400"}`,children:e.hasEthereum?" Available":" Not Available"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Provider Type"}),l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.ethereumType})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"MetaMask"}),l.jsx("div",{className:`text-2xl font-bold ${e.metaMaskAvailable?"text-green-400":"text-red-400"}`,children:e.metaMaskAvailable?" Active":" Inactive"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Reown"}),l.jsx("div",{className:`text-2xl font-bold ${e.reownAvailable?"text-green-400":"text-red-400"}`,children:e.reownAvailable?" Active":" Inactive"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"System Info"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:["User Agent: ",navigator.userAgent]}),l.jsxs("div",{children:["Platform: ",navigator.platform]}),l.jsxs("div",{children:["Language: ",navigator.language]}),l.jsxs("div",{children:["Cookies Enabled: ",navigator.cookieEnabled?"Yes":"No"]}),l.jsxs("div",{children:["Online: ",navigator.onLine?"Yes":"No"]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Test Actions"}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded",children:"Reload Page"}),l.jsx("button",{onClick:()=>console.log("Current ethereum:",window.ethereum),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded",children:"Log Ethereum to Console"}),l.jsx("button",{onClick:()=>{try{const n=window.ethereum?.request?.({method:"eth_chainId"});console.log("Chain ID test:",n)}catch(n){console.error("Chain ID test failed:",n)}},className:"bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded",children:"Test Chain ID"})]})]}),l.jsxs("div",{className:"bg-blue-900 rounded-lg p-6 mt-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Instructions"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:"1.    (F12)"}),l.jsx("div",{children:"2. ,   "}),l.jsx("div",{children:"3. ,  MetaMask "}),l.jsx("div",{children:"4.   ,   Reown "})]})]})]})})},jde=()=>{const[e,t]=j.useState({hasEthereum:!1,ethereumType:"None",metaMaskAvailable:!1,pageLoaded:!1});return j.useEffect(()=>{const n=()=>{const s=!!window.ethereum,a=window.ethereum?window.ethereum.isMetaMask?"MetaMask":window.ethereum.isWalletConnect?"WalletConnect":window.ethereum.isCoinbaseWallet?"CoinbaseWallet":window.ethereum.isNightlyWallet?"NightlyWallet":window.ethereum.isBackpack?"Backpack":window.ethereum.isEVMAsk?"EVM Ask":window.ethereum.isReown?"Reown":"Unknown":"None";t({hasEthereum:s,ethereumType:a,metaMaskAvailable:window.ethereum?.isMetaMask||!1,pageLoaded:!0})};n();const r=setInterval(n,2e3);return()=>clearInterval(r)},[]),l.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8 text-center",children:" Simple Test Page"}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Page Status"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Page Loaded"}),l.jsx("div",{className:`text-2xl font-bold ${e.pageLoaded?"text-green-400":"text-red-400"}`,children:e.pageLoaded?" Yes":" No"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"React Working"}),l.jsx("div",{className:"text-2xl font-bold text-green-400",children:" Yes"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Wallet Status"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Ethereum Provider"}),l.jsx("div",{className:`text-2xl font-bold ${e.hasEthereum?"text-green-400":"text-red-400"}`,children:e.hasEthereum?" Available":" Not Available"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Provider Type"}),l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.ethereumType})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"MetaMask"}),l.jsx("div",{className:`text-2xl font-bold ${e.metaMaskAvailable?"text-green-400":"text-red-400"}`,children:e.metaMaskAvailable?" Active":" Inactive"})]}),l.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[l.jsx("div",{className:"text-lg font-medium",children:"Console Errors"}),l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"Check F12"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"System Info"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{children:["User Agent: ",navigator.userAgent]}),l.jsxs("div",{children:["Platform: ",navigator.platform]}),l.jsxs("div",{children:["Language: ",navigator.language]}),l.jsxs("div",{children:["Cookies Enabled: ",navigator.cookieEnabled?"Yes":"No"]}),l.jsxs("div",{children:["Online: ",navigator.onLine?"Yes":"No"]}),l.jsxs("div",{children:["Window Ethereum: ",window.ethereum?"Yes":"No"]})]})]}),l.jsxs("div",{className:"bg-gray-900 rounded-lg p-6",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Test Actions"}),l.jsxs("div",{className:"space-x-4",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded",children:"Reload Page"}),l.jsx("button",{onClick:()=>console.log("Current ethereum:",window.ethereum),className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded",children:"Log Ethereum to Console"}),l.jsx("button",{onClick:()=>{try{window.ethereum?.request?window.ethereum.request({method:"eth_chainId"}).then(n=>console.log("Chain ID:",n)).catch(n=>console.error("Chain ID error:",n)):console.log("No ethereum.request method available")}catch(n){console.error("Chain ID test failed:",n)}},className:"bg-yellow-600 hover:bg-yellow-700 px-4 py-2 rounded",children:"Test Chain ID"})]})]}),l.jsxs("div",{className:"bg-blue-900 rounded-lg p-6 mt-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Instructions"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsx("div",{children:"1.    (F12)"}),l.jsx("div",{children:"2. ,   "}),l.jsx("div",{children:"3. ,  MetaMask "}),l.jsx("div",{children:"4.   ,    Reown "})]})]})]})})},_de=()=>{const e=yo();return l.jsx("div",{className:"min-h-screen bg-black text-white p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl font-bold mb-8",children:" Reown Test Page"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" Wallet Status"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Connected:"}),l.jsx("span",{className:e.isConnected?"text-green-400":"text-red-400",children:e.isConnected?"Yes":"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Loading:"}),l.jsx("span",{className:"text-green-400",children:"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Address:"}),l.jsx("span",{className:"text-blue-400 font-mono text-sm",children:e.address||"Not connected"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Chain ID:"}),l.jsx("span",{className:"text-purple-400",children:e.chainId||"Unknown"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Balance:"}),l.jsx("span",{className:"text-green-400",children:e.balance?`${e.balance} STT`:"Loading..."})]})]})]}),l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" Actions"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:e.connect,disabled:e.isLoading,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Connect Wallet"}),l.jsx("button",{onClick:e.disconnect,disabled:!e.isConnected,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Disconnect"}),l.jsx("button",{onClick:()=>e.switchNetwork(50312),disabled:!e.isConnected||e.chainId===50312,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 px-4 py-2 rounded-lg transition-colors",children:"Switch to Somnia Testnet"})]})]}),l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg md:col-span-2",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" Reown AppKit Info"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"AppKit Initialized:"}),l.jsx("span",{className:e.reown.appKitState.initialized?"text-green-400":"text-red-400",children:e.reown.appKitState.initialized?"Yes":"No"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"AppKit Instance:"}),l.jsx("span",{className:"text-blue-400",children:"Not available"})]})]})]}),l.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg md:col-span-2",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:" Debug Info"}),l.jsx("div",{className:"bg-gray-800 p-4 rounded-lg",children:l.jsx("pre",{className:"text-sm text-gray-300 overflow-x-auto",children:JSON.stringify({wallet:{isConnected:e.isConnected,isLoading:e.isLoading,address:e.address,chainId:e.chainId,balance:e.balance},reown:{appKitState:e.reown.appKitState,appKitNetwork:e.reown.appKitNetwork,appKitAccount:e.reown.appKitAccount,appKitBalance:e.reown.appKitBalance}},null,2)})})]})]})]})})},YC="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2034%2034'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-291.918,-540.871)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20transform='matrix(1.00333,0,0,1.00574,-419.254,-12.0358)'%3e%3ccircle%20cx='510.859'%20cy='552.602'%20r='16.583'%20style='fill:rgb(22,22,22);stroke:white;stroke-width:0.5px;'/%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20id='svgexport-6.svg'%20transform='matrix(-1.00333,0,0,1.00574,93.3056,543.738)'%3e%3cg%20transform='matrix(1,0,0,1,-12,-12)'%3e%3cpath%20d='M10,6L8.59,7.41L13.17,12L8.59,16.59L10,18L16,12L10,6Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",QC="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2034%2034'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;'%3e%3cg%20transform='matrix(1,0,0,1,-695.346,-540.871)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20transform='matrix(1.00333,0,0,1.00574,-14.483,-12.0358)'%3e%3ccircle%20cx='510.859'%20cy='552.602'%20r='16.583'%20style='fill:rgb(22,22,22);stroke:white;stroke-width:0.5px;'/%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,215.755,17.0697)'%3e%3cg%20id='svgexport-6.svg'%20transform='matrix(1.00333,0,0,1.00574,498.077,543.738)'%3e%3cg%20transform='matrix(1,0,0,1,-12,-12)'%3e%3cpath%20d='M10,6L8.59,7.41L13.17,12L8.59,16.59L10,18L16,12L10,6Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var b7={exports:{}},T4,w7;function Ide(){if(w7)return T4;w7=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T4=e,T4}var P4,x7;function Tde(){if(x7)return P4;x7=1;var e=Ide();function t(){}function n(){}return n.resetWarningCache=t,P4=function(){function r(i,o,c,u,h,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},P4}var v7;function Pde(){return v7||(v7=1,b7.exports=Tde()()),b7.exports}var Wn=Pde();function iD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ode(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oD(e,t,n){return t&&Ode(e.prototype,t),e}function lD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g6(e,t)}function bx(e){return bx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bx(e)}function g6(e,t){return g6=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},g6(e,t)}function Rde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Mde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zde(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:Mde(e)}function cD(e){var t=Rde();return function(){var n=bx(e),r;if(t){var s=bx(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return zde(this,r)}}function Fde(e){return Dde(e)||Bde(e)||Lde(e)||Ude()}function Dde(e){if(Array.isArray(e))return y6(e)}function Bde(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Lde(e,t){if(e){if(typeof e=="string")return y6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y6(e,t)}}function y6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ude(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=String(e);if(t===0)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),s=r?r[1]:"",a=r?r[3]:"",i=r?r[2]:n,o=i.length>=t?i:(Fde(Array(t)).map(function(){return"0"}).join("")+i).slice(t*-1);return"".concat(s).concat(o).concat(a)}var uD={daysInHours:!1,zeroPadTime:2};function $de(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.now,r=n===void 0?Date.now:n,s=t.precision,a=s===void 0?0:s,i=t.controlled,o=t.offsetTime,c=o===void 0?0:o,u=t.overtime,h;typeof e=="string"?h=new Date(e).getTime():e instanceof Date?h=e.getTime():h=e,i||(h+=c);var f=i?h:h-r(),p=Math.min(20,Math.max(0,a)),g=Math.round(parseFloat(((u?f:Math.max(0,f))/1e3).toFixed(p))*1e3),b=Math.abs(g)/1e3;return{total:g,days:Math.floor(b/(3600*24)),hours:Math.floor(b/3600%24),minutes:Math.floor(b/60%60),seconds:Math.floor(b%60),milliseconds:Number((b%1*1e3).toFixed()),completed:g<=0}}function Hde(e,t){var n=e.days,r=e.hours,s=e.minutes,a=e.seconds,i=Object.assign(Object.assign({},uD),t),o=i.daysInHours,c=i.zeroPadTime,u=i.zeroPadDays,h=u===void 0?c:u,f=Math.min(2,c),p=o?Vp(r+n*24,c):Vp(r,f);return{days:o?"":Vp(n,h),hours:p,minutes:Vp(s,f),seconds:Vp(a,f)}}var dD=function(e){lD(n,e);var t=cD(n);function n(){var r;return iD(this,n),r=t.apply(this,arguments),r.state={count:r.props.count||3},r.startCountdown=function(){r.interval=window.setInterval(function(){var s=r.state.count-1;s===0?(r.stopCountdown(),r.props.onComplete&&r.props.onComplete()):r.setState(function(a){return{count:a.count-1}})},1e3)},r.stopCountdown=function(){clearInterval(r.interval)},r.addTime=function(s){r.stopCountdown(),r.setState(function(a){return{count:a.count+s}},r.startCountdown)},r}return oD(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?j.cloneElement(this.props.children,{count:this.state.count}):null}}]),n}(j.Component);dD.propTypes={count:Wn.number,children:Wn.element,onComplete:Wn.func};var qg=function(e){lD(n,e);var t=cD(n);function n(r){var s;if(iD(this,n),s=t.call(this,r),s.mounted=!1,s.initialTimestamp=s.calcOffsetStartTimestamp(),s.offsetStartTimestamp=s.props.autoStart?0:s.initialTimestamp,s.offsetTime=0,s.legacyMode=!1,s.legacyCountdownRef=null,s.tick=function(){var i=s.calcTimeDelta(),o=i.completed&&!s.props.overtime?void 0:s.props.onTick;s.setTimeDeltaState(i,void 0,o)},s.setLegacyCountdownRef=function(i){s.legacyCountdownRef=i},s.start=function(){if(!s.isStarted()){var i=s.offsetStartTimestamp;s.offsetStartTimestamp=0,s.offsetTime+=i?s.calcOffsetStartTimestamp()-i:0;var o=s.calcTimeDelta();s.setTimeDeltaState(o,"STARTED",s.props.onStart),!s.props.controlled&&(!o.completed||s.props.overtime)&&(s.clearTimer(),s.interval=window.setInterval(s.tick,s.props.intervalDelay))}},s.pause=function(){s.isPaused()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.setTimeDeltaState(s.state.timeDelta,"PAUSED",s.props.onPause))},s.stop=function(){s.isStopped()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.offsetTime=s.offsetStartTimestamp-s.initialTimestamp,s.setTimeDeltaState(s.calcTimeDelta(),"STOPPED",s.props.onStop))},s.isStarted=function(){return s.isStatus("STARTED")},s.isPaused=function(){return s.isStatus("PAUSED")},s.isStopped=function(){return s.isStatus("STOPPED")},s.isCompleted=function(){return s.isStatus("COMPLETED")},r.date){var a=s.calcTimeDelta();s.state={timeDelta:a,status:a.completed?"COMPLETED":"STOPPED"}}else s.legacyMode=!0;return s}return oD(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(r){this.legacyMode||this.props.date!==r.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var r=this.props,s=r.date,a=r.now,i=r.precision,o=r.controlled,c=r.overtime;return $de(s,{now:a,precision:i,controlled:o,offsetTime:this.offsetTime,overtime:c})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(r){this.legacyCountdownRef.addTime(r)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(r){return this.state.status===r}},{key:"setTimeDeltaState",value:function(r,s,a){var i=this;if(this.mounted){var o=r.completed&&!this.state.timeDelta.completed,c=r.completed&&s==="STARTED";o&&!this.props.overtime&&this.clearTimer();var u=function(){a&&a(i.state.timeDelta),i.props.onComplete&&(o||c)&&i.props.onComplete(r,c)};return this.setState(function(h){var f=s||h.status;return r.completed&&!i.props.overtime?f="COMPLETED":!s&&f==="COMPLETED"&&(f="STOPPED"),{timeDelta:r,status:f}},u)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var r=this.props,s=r.daysInHours,a=r.zeroPadTime,i=r.zeroPadDays,o=this.state.timeDelta;return Object.assign(Object.assign({},o),{api:this.getApi(),props:this.props,formatted:Hde(o,{daysInHours:s,zeroPadTime:a,zeroPadDays:i})})}},{key:"render",value:function(){if(this.legacyMode){var r=this.props,s=r.count,a=r.children,i=r.onComplete;return j.createElement(dD,{ref:this.setLegacyCountdownRef,count:s,onComplete:i},a)}var o=this.props,c=o.className,u=o.overtime,h=o.children,f=o.renderer,p=this.getRenderProps();if(f)return f(p);if(h&&this.state.timeDelta.completed&&!u)return j.cloneElement(h,{countdown:p});var g=p.formatted,b=g.days,y=g.hours,w=g.minutes,v=g.seconds;return j.createElement("span",{className:c},p.total<0?"-":"",b,b?":":"",y,":",w,":",v)}}]),n}(j.Component);qg.defaultProps=Object.assign(Object.assign({},uD),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});qg.propTypes={date:Wn.oneOfType([Wn.instanceOf(Date),Wn.string,Wn.number]),daysInHours:Wn.bool,zeroPadTime:Wn.number,zeroPadDays:Wn.number,controlled:Wn.bool,intervalDelay:Wn.number,precision:Wn.number,autoStart:Wn.bool,overtime:Wn.bool,className:Wn.string,children:Wn.element,renderer:Wn.func,now:Wn.func,onMount:Wn.func,onStart:Wn.func,onPause:Wn.func,onStop:Wn.func,onTick:Wn.func,onComplete:Wn.func};const Dn=e=>e?e.startsWith("ipfs://")?[`https://gateway.lighthouse.storage/ipfs/${e.replace("ipfs://","")}`]:[e]:[],wx=async e=>{const t=async n=>{const r=await fetch(n,{method:"GET",mode:"cors",headers:{Accept:"application/json"}});if(!r.ok)throw new Error(`HTTP ${r.status}`);return await r.json()};if(typeof e=="string")try{return await t(e)}catch{throw new Error("Failed to fetch from URL")}else if(Array.isArray(e)){for(const n of e)try{return await t(n)}catch{continue}throw new Error("All URLs failed")}throw new Error("Invalid URL format")},Rn=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"uint256","name":"maxSupply_","type":"uint256"},{"internalType":"string","name":"baseTokenURI_","type":"string"},{"internalType":"string","name":"unrevealedURI_","type":"string"},{"internalType":"address","name":"initialOwner","type":"address"},{"internalType":"string","name":"contractURI_","type":"string"},{"internalType":"address","name":"royaltyRecipient","type":"address"},{"internalType":"uint96","name":"royaltyFeeNumerator","type":"uint96"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidDefaultRoyalty","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidDefaultRoyaltyReceiver","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"numerator","type":"uint256"},{"internalType":"uint256","name":"denominator","type":"uint256"}],"name":"ERC2981InvalidTokenRoyalty","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC2981InvalidTokenRoyaltyReceiver","type":"error"},{"inputs":[],"name":"ERC721EnumerableForbiddenBatchMint","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"ERC721OutOfBoundsIndex","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"AdminSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"uri","type":"string"}],"name":"ContractURISet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"startPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endPrice","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"startTime","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"DutchAuctionStarted","type":"event"},{"anonymous":false,"inputs":[],"name":"DutchAuctionStopped","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"Minted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"bool","name":"enabled","type":"bool"}],"name":"PaymentTokenSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"PhaseActivated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"},{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"indexed":false,"internalType":"struct SomniaNFT.Phase","name":"phase","type":"tuple"}],"name":"PhaseAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"phaseId","type":"uint256"},{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"indexed":false,"internalType":"struct SomniaNFT.Phase","name":"phase","type":"tuple"}],"name":"PhaseUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"revealed","type":"bool"}],"name":"Revealed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"name":"addPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"auction","outputs":[{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"endPrice","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"bool","name":"active","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseTokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"currentPhase","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deleteDefaultRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentAuctionPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentPhase","outputs":[{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"internalType":"struct SomniaNFT.Phase","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"getPhase","outputs":[{"components":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"internalType":"struct SomniaNFT.Phase","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isAdmin","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mintDutch","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32[]","name":"proof","type":"bytes32[]"}],"name":"mintWithERC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"mintedPerWallet","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"ownerMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paymentToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"phases","outputs":[{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setAdmin","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setContractURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"}],"name":"setCurrentPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint96","name":"feeNumerator","type":"uint96"}],"name":"setDefaultRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newMax","type":"uint256"}],"name":"setMaxSupply","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_paused","type":"bool"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"bool","name":"enabled","type":"bool"}],"name":"setPaymentToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_revealed","type":"bool"}],"name":"setRevealed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"string","name":"uri","type":"string"}],"name":"setTokenURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"tokenIds","type":"uint256[]"},{"internalType":"string[]","name":"uris","type":"string[]"}],"name":"setTokenURIs","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"uri","type":"string"}],"name":"setUnrevealedURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"startPrice","type":"uint256"},{"internalType":"uint256","name":"endPrice","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"startDutchAuction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"stopDutchAuction","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unrevealedURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"updateCurrentPhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"phaseId","type":"uint256"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"},{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"maxPerWallet","type":"uint256"},{"internalType":"bytes32","name":"merkleRoot","type":"bytes32"},{"internalType":"bool","name":"isPublic","type":"bool"}],"name":"updatePhase","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"useERC20","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),Wde=({message:e="Loading...",progress:t=null,showVideo:n=!0,showBackground:r=!0,size:s="default",className:a="",onComplete:i=null,autoProgress:o=!1,minDuration:c=2e3,showProgress:u=!0,showDots:h=!0})=>{const[f,p]=j.useState(0),[g,b]=j.useState(!1),[y,w]=j.useState(0),v=j.useRef(null),N=j.useRef(Date.now());j.useEffect(()=>{const k=setInterval(()=>{p(S=>(S+1)%4)},500);return()=>clearInterval(k)},[]),j.useEffect(()=>{if(o&&t===null){const k=setInterval(()=>{w(S=>S>=100?(clearInterval(k),i&&i(),100):S+1)},50);return()=>clearInterval(k)}},[o,t,i]),j.useEffect(()=>{if(i&&!o){const k=Date.now()-N.current,S=Math.max(0,c-k);if(S>0){const T=setTimeout(()=>{i()},S);return()=>clearTimeout(T)}else i()}},[i,o,c]);const A=(()=>{switch(s){case"small":return{container:"py-8",video:"w-32 h-32",logo:"text-2xl",message:"text-sm",progress:"w-48 h-2",dots:"w-2 h-2"};case"large":return{container:"py-20",video:"w-96 h-96",logo:"text-5xl",message:"text-xl",progress:"w-96 h-4",dots:"w-4 h-4"};default:return{container:"py-16",video:"w-64 h-64",logo:"text-4xl",message:"text-lg",progress:"w-80 h-3",dots:"w-3 h-3"}}})(),C=t!==null?t:y;return l.jsxs("div",{className:`flex flex-col items-center justify-center ${A.container} ${a}`,children:[r&&l.jsx(Rm,{}),n&&!g?l.jsx("div",{className:"relative z-10 mb-8",children:l.jsx("video",{ref:v,src:m1,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${A.video} object-cover rounded-2xl shadow-2xl`,onError:k=>{console.warn("Failed to load video:",k),b(!0),k.target.style.display="none"}})}):n&&g?l.jsx("div",{className:`relative z-10 mb-8 ${A.video} bg-zinc-800/80 backdrop-blur-sm rounded-2xl shadow-2xl flex items-center justify-center border border-zinc-700/30`,children:l.jsx("div",{className:"text-center",children:l.jsx("video",{src:m1,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${A.video} object-cover rounded-2xl`})})}):l.jsx("div",{className:"mb-8",children:l.jsx("video",{src:m1,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:`${A.video} object-cover rounded-2xl shadow-2xl`})}),l.jsxs("p",{className:`text-zinc-400 ${A.message} mb-6 text-center`,children:[e,h&&f>0&&l.jsx("span",{className:"ml-1",children:".".repeat(f)})]}),u&&l.jsxs("div",{className:`max-w-full mx-auto mb-6 ${A.progress}`,children:[l.jsx("div",{className:"bg-zinc-800/80 backdrop-blur-sm rounded-full h-full overflow-hidden border border-zinc-700/30",children:l.jsx("div",{className:"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] h-full transition-all duration-300 ease-out rounded-full",style:{width:`${C}%`}})}),l.jsx("div",{className:"flex justify-center items-center mt-2",children:l.jsxs("span",{className:"text-white font-semibold",children:[Math.round(C),"%"]})})]}),h&&l.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(k=>l.jsx("div",{className:`bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] rounded-full animate-pulse ${A.dots}`,style:{animationDelay:`${k*.2}s`,animationDuration:"1s"}},k))})]})},Id=({message:e="Loading...",progress:t=null,showLogo:n=!0,size:r="default",className:s="",showVideo:a=!1,showBackground:i=!1,showProgress:o=!1,showDots:c=!1})=>l.jsx(Wde,{message:e,progress:t,showVideo:a,showBackground:i,size:r,className:s,showProgress:o,showDots:c}),Gde=({currentPage:e,totalPages:t,onPageChange:n,itemsPerPage:r=5,totalItems:s,className:a=""})=>{if(t<=1)return null;const i=e*r+1,o=Math.min((e+1)*r,s),c=(()=>{const u=[];if(t<=5)for(let h=0;h<t;h++)u.push(h);else if(e<=2){for(let h=0;h<4;h++)u.push(h);u.push("..."),u.push(t-1)}else if(e>=t-3){u.push(0),u.push("...");for(let h=t-4;h<t;h++)u.push(h)}else{u.push(0),u.push("...");for(let h=e-1;h<=e+1;h++)u.push(h);u.push("..."),u.push(t-1)}return u})();return l.jsxs("div",{className:`flex items-center justify-between ${a}`,children:[l.jsxs("div",{className:"text-sm text-zinc-400",children:["Showing ",i," to ",o," of ",s," collections"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>n(e-1),disabled:e===0,className:`p-2 rounded-lg transition-all duration-200 ${e===0?"bg-zinc-800/50 text-zinc-600 cursor-not-allowed":"bg-zinc-800/80 text-white hover:bg-zinc-700/80 hover:scale-105"}`,children:l.jsx(eD,{className:"w-4 h-4"})}),l.jsx("div",{className:"flex items-center gap-1",children:c.map((u,h)=>l.jsx("button",{onClick:()=>typeof u=="number"&&n(u),disabled:typeof u!="number",className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${u===e?"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white":typeof u=="number"?"bg-zinc-800/80 text-zinc-300 hover:bg-zinc-700/80 hover:text-white":"text-zinc-500 cursor-default"}`,children:u==="..."?"...":u+1},h))}),l.jsx("button",{onClick:()=>n(e+1),disabled:e>=t-1,className:`p-2 rounded-lg transition-all duration-200 ${e>=t-1?"bg-zinc-800/50 text-zinc-600 cursor-not-allowed":"bg-zinc-800/80 text-white hover:bg-zinc-700/80 hover:scale-105"}`,children:l.jsx(tD,{className:"w-4 h-4"})})]})]})};class qde extends Ze.Component{constructor(t){super(t),mre(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})}),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){this.setState({error:t,errorInfo:n}),console.error("Error caught by boundary:",t,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:l.jsxs("div",{className:"max-w-md w-full bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-700/30 p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(to,{className:"w-8 h-8 text-red-400"})}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:this.handleRetry,className:"w-full px-4 py-2 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 flex items-center justify-center gap-2",children:[l.jsx(dx,{className:"w-4 h-4"}),"Try Again"]}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-zinc-800/50 text-zinc-300 rounded-lg hover:bg-zinc-700/50 transition-colors",children:"Refresh Page"})]}),!1]})}):this.props.children}}const JC=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!0),[s,a]=j.useState(null),[i,o]=j.useState(0),c=()=>Date.now()-i>6e5,u=async(h=!1)=>{if(!h&&!c()&&e.length>0){console.log(" Using cached collections data");return}try{console.log(" Fetching active collections from API...");const f=new AbortController,p=setTimeout(()=>f.abort(),1e4),g=h?`/api/active-collections?ts=${Date.now()}`:"/api/active-collections",b=await fetch(g,{method:"GET",headers:{"Content-Type":"application/json"},signal:f.signal});if(clearTimeout(p),!b.ok)throw b.status===404?new Error("Active collections data not available yet. Please wait for the indexer to run."):b.status===429?new Error("Too many requests. Please wait a moment and try again."):new Error(`HTTP ${b.status}: ${b.statusText}`);const y=await b.json();console.log(" Received active collections from API:",{totalCollections:y.totalCollections,validCollections:y.validCollections,activeCollections:y.activeCollections,lastUpdate:y.lastUpdate,collections:y.collections.map(w=>({address:w.address,name:w.name,banner:w.banner,metadataBanner:w.metadata?.banner,cover:w.cover,hasBanner:!!(w.banner||w.metadata?.banner),hasCover:!!w.cover,nfts:w.nfts||[],hasNFTs:!!(w.nfts&&w.nfts.length>0),firstNFTImage:w.nfts&&w.nfts.length>0?w.nfts[0].image||w.nfts[0].image_url||w.nfts[0].media_url:null}))});try{const{filterOutBlacklisted:w}=await ol(async()=>{const{filterOutBlacklisted:N}=await vd(async()=>{const{filterOutBlacklisted:A}=await xd(async()=>{const{filterOutBlacklisted:C}=await import("./blacklist-DCkqdEOg-DQnnouI3-DCkqdEOg.js");return{filterOutBlacklisted:C}},[]);return{filterOutBlacklisted:A}},[]);return{filterOutBlacklisted:N}},[]),v=await w(y.collections||[]);t(v)}catch{t(y.collections||[])}o(Date.now()),a(null)}catch(f){console.error(" Failed to fetch active collections:",f),f.name==="AbortError"?a("Request timeout. Please check your connection."):f.message.includes("Too many requests")?a("Server is busy. Please wait a moment and refresh."):a(f.message),e.length===0&&t([])}finally{r(!1)}};return j.useEffect(()=>{u(!0);const h=setInterval(()=>u(),6e5);return()=>clearInterval(h)},[]),{collections:j.useMemo(()=>e,[e]),loading:n,error:s,refetch:()=>u(!0)}},xx=({images:e=[],priority:t=!1,onProgress:n=null,onComplete:r=null})=>{const s=j.useRef(0),a=j.useRef(e.length),i=j.useRef(!1);return j.useEffect(()=>{if(!e.length||i.current)return;i.current=!0,s.current=0;const o=c=>new Promise((u,h)=>{const f=new Image;f.onload=()=>{s.current++,n&&n(s.current,a.current),u(c)},f.onerror=()=>{s.current++,n&&n(s.current,a.current),h(new Error(`Failed to load: ${c}`))},f.src=c});(async()=>{try{if(t)await Promise.allSettled(e.map(o));else for(const c of e)await o(c);r&&r(s.current,a.current)}catch{}finally{i.current=!1}})()},[e,t,n,r]),null},XC=({enabled:e=!0,onMetrics:t=null,showUI:n=!1})=>{const[r,s]=j.useState({}),[a,i]=j.useState(!1),o=j.useRef(null),c=j.useRef(null),u=()=>{if(!window.performance)return{};const g=performance.getEntriesByType("navigation")[0],b=performance.getEntriesByType("paint");return g&&(c.current=g),{dns:g?.domainLookupEnd-g?.domainLookupStart||0,tcp:g?.connectEnd-g?.connectStart||0,ttfb:g?.responseStart-g?.requestStart||0,domContentLoaded:g?.domContentLoadedEventEnd-g?.domContentLoadedEventStart||0,loadComplete:g?.loadEventEnd-g?.loadEventStart||0,totalTime:g?.loadEventEnd-g?.navigationStart||0,firstPaint:b.find(y=>y.name==="first-paint")?.startTime||0,firstContentfulPaint:b.find(y=>y.name==="first-contentful-paint")?.startTime||0,memory:window.performance.memory?{usedJSHeapSize:window.performance.memory.usedJSHeapSize,totalJSHeapSize:window.performance.memory.totalJSHeapSize,jsHeapSizeLimit:window.performance.memory.jsHeapSizeLimit,memoryUsagePercent:Math.round(window.performance.memory.usedJSHeapSize/window.performance.memory.totalJSHeapSize*100)}:null,userTiming:performance.getEntriesByType("measure").reduce((y,w)=>(y[w.name]=w.duration,y),{}),timestamp:Date.now(),userAgent:navigator.userAgent,connection:navigator.connection?{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}:null,resources:performance.getEntriesByType("resource").length,resourceTypes:performance.getEntriesByType("resource").reduce((y,w)=>{const v=w.initiatorType||"other";return y[v]=(y[v]||0)+1,y},{}),errors:window.errorCount||0,warnings:window.warningCount||0}},h=()=>{window.errorCount=0,window.warningCount=0,window.addEventListener("error",g=>{window.errorCount++,console.error(" Performance Monitor - Error:",g.error)}),window.addEventListener("unhandledrejection",g=>{window.warningCount++,console.warn(" Performance Monitor - Unhandled Promise Rejection:",g.reason)})},f=()=>{if(window.PerformanceObserver)try{o.current=new PerformanceObserver(g=>{const b=g.getEntries(),y=b[b.length-1];s(w=>({...w,lcp:y.startTime,lcpElement:y.element?.tagName||"unknown"}))}),o.current.observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(g=>{g.getEntries().forEach(b=>{s(y=>({...y,fid:b.processingStart-b.startTime,fidElement:b.name||"unknown"}))})}).observe({entryTypes:["first-input"]}),new PerformanceObserver(g=>{let b=0;g.getEntries().forEach(y=>{y.hadRecentInput||(b+=y.value)}),s(y=>({...y,cls:b}))}).observe({entryTypes:["layout-shift"]}),new PerformanceObserver(g=>{g.getEntries().forEach(b=>{b.entryType==="navigation"&&s(y=>({...y,ttfb:b.responseStart-b.requestStart}))})}).observe({entryTypes:["navigation"]})}catch(g){console.warn("Performance monitoring setup failed:",g)}},p=()=>{const g=u(),b={...r,...g},y={lcp:b.lcp<2500?"good":b.lcp<4e3?"needs-improvement":"poor",fid:b.fid<100?"good":b.fid<300?"needs-improvement":"poor",cls:b.cls<.1?"good":b.cls<.25?"needs-improvement":"poor",ttfb:b.ttfb<800?"good":b.ttfb<1800?"needs-improvement":"poor"},w=Object.values(y).reduce((N,A)=>(A==="good"?N+=1:A==="needs-improvement"&&(N+=.5),N),0)/Object.keys(y).length,v={...b,scores:y,overallScore:Math.round(w*100),timestamp:Date.now()};return s(v),t&&t(v),v};return j.useEffect(()=>{if(!e)return;i(!0);const g=()=>{h(),f(),setTimeout(()=>{p()},1e3);const b=setInterval(p,3e4);return()=>clearInterval(b)};if(document.readyState==="complete")g();else return window.addEventListener("load",g),()=>window.removeEventListener("load",g);return()=>{o.current&&o.current.disconnect()}},[e,t]),j.useEffect(()=>{r.overallScore&&window.gtag&&window.gtag("event","performance_metrics",{event_category:"performance",value:r.overallScore,custom_parameters:{lcp:r.lcp,fid:r.fid,cls:r.cls,ttfb:r.ttfb}})},[r.overallScore]),!n||!a?null:l.jsxs("div",{className:"fixed bottom-4 right-4 bg-zinc-900/90 backdrop-blur-sm border border-zinc-700 rounded-lg p-4 text-white text-sm z-50",children:[l.jsx("div",{className:"font-semibold mb-2",children:"Performance Monitor"}),r.overallScore&&l.jsxs("div",{className:"mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Overall Score:"}),l.jsxs("span",{className:`ml-2 font-bold ${r.overallScore>=80?"text-green-400":r.overallScore>=60?"text-yellow-400":"text-red-400"}`,children:[r.overallScore,"/100"]})]}),l.jsxs("div",{className:"space-y-1 text-xs",children:[r.lcp&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"LCP:"}),l.jsxs("span",{className:r.scores?.lcp==="good"?"text-green-400":"text-red-400",children:[Math.round(r.lcp),"ms"]})]}),r.fid&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"FID:"}),l.jsxs("span",{className:r.scores?.fid==="good"?"text-green-400":"text-red-400",children:[Math.round(r.fid),"ms"]})]}),r.cls&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"CLS:"}),l.jsx("span",{className:r.scores?.cls==="good"?"text-green-400":"text-red-400",children:r.cls.toFixed(3)})]})]})]})},Vde=({metrics:e,showDetails:t=!1,isVisible:n=!1})=>{const[r,s]=j.useState(!1);if(!n||!e||Object.keys(e).length===0)return null;const a=u=>u>=80?"text-green-400":u>=60?"text-yellow-400":"text-red-400",i=u=>u>=80?l.jsx(Ji,{className:"w-4 h-4"}):u>=60?l.jsx(to,{className:"w-4 h-4"}):l.jsx(to,{className:"w-4 h-4"}),o=u=>{if(!u)return"0 B";const h=1024,f=["B","KB","MB","GB"],p=Math.floor(Math.log(u)/Math.log(h));return parseFloat((u/Math.pow(h,p)).toFixed(2))+" "+f[p]},c=u=>u?u<1e3?`${Math.round(u)}ms`:`${(u/1e3).toFixed(2)}s`:"0ms";return l.jsxs("div",{className:"bg-zinc-900/90 backdrop-blur-sm border border-zinc-700 rounded-lg p-4 text-white text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vd,{className:"w-5 h-5 text-blue-400"}),l.jsx("span",{className:"font-semibold",children:"Performance Stats"})]}),l.jsx("button",{onClick:()=>s(!r),className:"text-zinc-400 hover:text-white transition-colors",children:r?"":"+"})]}),e.overallScore&&l.jsxs("div",{className:"mb-4 p-3 bg-zinc-800/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Overall Score"}),l.jsxs("div",{className:`flex items-center gap-2 ${a(e.overallScore)}`,children:[i(e.overallScore),l.jsxs("span",{className:"font-bold text-lg",children:[e.overallScore,"/100"]})]})]}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${e.overallScore>=80?"bg-green-500":e.overallScore>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${e.overallScore}%`}})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.lcp&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(px,{className:"w-4 h-4 text-blue-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"LCP"}),l.jsx("div",{className:"font-medium",children:c(e.lcp)})]})]}),e.fid&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(Mce,{className:"w-4 h-4 text-green-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"FID"}),l.jsx("div",{className:"font-medium",children:c(e.fid)})]})]}),e.cls&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(to,{className:"w-4 h-4 text-yellow-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"CLS"}),l.jsx("div",{className:"font-medium",children:e.cls.toFixed(3)})]})]}),e.ttfb&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(gm,{className:"w-4 h-4 text-purple-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"TTFB"}),l.jsx("div",{className:"font-medium",children:c(e.ttfb)})]})]})]}),r&&l.jsxs("div",{className:"space-y-3 border-t border-zinc-700 pt-3",children:[e.memory&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(ux,{className:"w-4 h-4 text-cyan-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"Memory Usage"}),l.jsxs("div",{className:"font-medium",children:[o(e.memory.usedJSHeapSize)," / ",o(e.memory.totalJSHeapSize)]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[e.memory.memoryUsagePercent,"% used"]})]})]}),e.connection&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(mx,{className:"w-4 h-4 text-green-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"Network"}),l.jsxs("div",{className:"font-medium",children:[e.connection.effectiveType,"  ",e.connection.downlink,"Mbps"]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:["RTT: ",e.connection.rtt,"ms"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-800/30 rounded",children:[l.jsx(Vd,{className:"w-4 h-4 text-orange-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-zinc-400",children:"Resources Loaded"}),l.jsxs("div",{className:"font-medium",children:[e.resources," total"]}),e.resourceTypes&&l.jsx("div",{className:"text-xs text-zinc-500",children:Object.entries(e.resourceTypes).slice(0,3).map(([u,h])=>l.jsxs("span",{className:"mr-2",children:[u,": ",h]},u))})]})]}),(e.errors>0||e.warnings>0)&&l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-red-900/30 rounded border border-red-500/30",children:[l.jsx(to,{className:"w-4 h-4 text-red-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-red-400",children:"Issues Detected"}),l.jsxs("div",{className:"font-medium text-red-300",children:[e.errors," errors  ",e.warnings," warnings"]})]})]}),l.jsxs("div",{className:"text-xs text-zinc-500 text-center",children:["Last updated: ",new Date(e.timestamp).toLocaleTimeString()]})]})]})},Kde=()=>{const{collections:e,loading:t,error:n}=JC(),[r,s]=j.useState(0),[a,i]=j.useState(!1),[o,c]=j.useState("active"),[u,h]=j.useState(0),f=j.useRef(null),p=Xr(),{searchTerm:g,filters:b,updateSearch:y}=BC(),[w,v]=j.useState({}),[N,A]=j.useState(!1),C=j.useMemo(()=>window.innerWidth<768,[]),k=j.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]),S=j.useMemo(()=>{if(!e||e.length===0)return[];const re=[];return e.slice(0,3).forEach(ie=>{ie.cover&&re.push(ie.cover),ie.bannerImage&&re.push(ie.bannerImage),ie.firstNFTImage&&re.push(ie.firstNFTImage)}),e.slice(0,6).forEach(ie=>{ie.cover&&re.push(ie.cover),ie.firstNFTImage&&re.push(ie.firstNFTImage)}),[...new Set(re)]},[e]),T=j.useMemo(()=>Math.floor(Date.now()/1e3),[]),P=j.useMemo(()=>Math.floor(new Date("2025-06-29T00:00:00Z").getTime()/1e3),[]);j.useCallback(re=>re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply),[]);const I=j.useCallback(re=>{const ie=re.phases||{};if(Object.values(ie).length===0)return!1;const pe=Object.values(ie).every(he=>Number(he.end)<T),oe=re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply);return(re.name==="Somniac visioner"||re.name==="True Friendship in Somnia")&&console.log(" isSaleEnded debug for:",re.name,{phases:ie,allPhasesEnded:pe,soldOut:oe,now:T,phaseEnds:Object.values(ie).map(he=>({end:he.end,endTime:new Date(he.end*1e3)}))}),oe||pe},[T]),M=j.useCallback(re=>{if(!re||Object.values(re).length===0)return!1;const ie=Object.values(re).some(pe=>Number(pe.start)<=T&&T<=Number(pe.end));if(re&&Object.keys(re).length>0){const pe=Object.values(re)[0];pe&&(pe.name==="Somniac visioner"||pe.name==="True Friendship in Somnia")&&console.log(" isActiveSale debug:",{phases:re,hasActive:ie,now:T,phaseTimes:Object.values(re).map(oe=>({start:oe.start,end:oe.end,startTime:new Date(oe.start*1e3),endTime:new Date(oe.end*1e3),isActive:Number(oe.start)<=T&&T<=Number(oe.end)}))})}return ie},[T]),W=j.useCallback(re=>re&&Object.values(re).some(ie=>Number(ie.start)>T),[T]),z=j.useCallback(re=>re.phases||re.metadata?.phases||{},[]),B=j.useCallback(re=>{const ie=z(re);return!ie||Object.values(ie).length===0?0:Math.max(...Object.values(ie).map(pe=>Number(pe.end)))},[z]),O=j.useCallback(re=>{const ie=z(re);if(!ie)return null;const pe=Math.floor(Date.now()/1e3);for(const[oe,he]of Object.entries(ie))if(Number(he.start)<=pe&&pe<=Number(he.end))return{name:oe,...he};return null},[z]),F=re=>{const ie=Number(re);return!isFinite(ie)||ie===0?"0":ie>=1?ie.toLocaleString(void 0,{maximumFractionDigits:2}):ie>=.1?ie.toLocaleString(void 0,{maximumFractionDigits:3}):ie>=.01?ie.toLocaleString(void 0,{maximumFractionDigits:4}):ie.toLocaleString(void 0,{maximumFractionDigits:6})},G=j.useCallback(re=>{const ie=O(re);return ie?ie.price:"0"},[O]),K=j.useMemo(()=>{const re=e.filter(ie=>{const pe=z(ie),oe=M(pe)&&!I(ie);return(ie.name==="Somniac visioner"||ie.name==="True Friendship in Somnia")&&console.log(" Debug collection:",ie.name,{phases:pe,isActiveSale:M(pe),isSaleEnded:I(ie),isActive:oe}),oe});return console.log(" Active collections found:",re.length,re.map(ie=>ie.name)),re},[e,z,M,I]),$=j.useMemo(()=>{console.log(" Filtering collections for tab:",o,"Total collections:",e.length);let re=e.filter(ie=>{const pe=z(ie);let oe=!1;if(o==="completed")oe=I(ie)&&B(ie)>=P,console.log(` Collection ${ie.name}: completed=${oe}, isSaleEnded=${I(ie)}, lastPhaseEnd=${B(ie)}, cutoff=${P}`);else if(o==="active")oe=M(pe)&&!I(ie),console.log(` Collection ${ie.name}: active=${oe}, isActiveSale=${M(pe)}, isSaleEnded=${I(ie)}`);else if(o==="upcoming"){const he=W(pe),Ne=M(pe);oe=(he||!Ne&&!I(ie))&&!I(ie),console.log(` Collection ${ie.name}: upcoming=${oe}, hasUpcoming=${he}, hasActive=${Ne}, isSaleEnded=${I(ie)}`)}return oe});if(console.log(` Filtered collections for ${o}:`,re.length),g){const ie=g.toLowerCase();re=re.filter(pe=>pe.name.toLowerCase().includes(ie)||pe.description.toLowerCase().includes(ie))}return b.priceRange!=="all"&&(re=re.filter(ie=>{const pe=O(ie),oe=pe?parseFloat(pe.price):0;switch(b.priceRange){case"low":return oe<.1;case"medium":return oe>=.1&&oe<=1;case"high":return oe>1;default:return!0}})),b.supplyRange!=="all"&&(re=re.filter(ie=>{const pe=ie.totalSupply||0;switch(b.supplyRange){case"small":return pe<1e3;case"medium":return pe>=1e3&&pe<=1e4;case"large":return pe>1e4;default:return!0}})),b.status!=="all"&&(re=re.filter(ie=>{const pe=z(ie),oe=Math.floor(Date.now()/1e3);switch(b.status){case"active":return Object.values(pe).some(he=>Number(he.start)<=oe&&oe<=Number(he.end));case"upcoming":return Object.values(pe).some(he=>Number(he.start)>oe);case"completed":return I(ie);default:return!0}})),re},[e,o,g,b,z,I,M,W,B,P,O]);j.useEffect(()=>{if(!(K.length<=1||a))return f.current=setInterval(()=>{s(re=>(re+1)%K.length)},5e3),()=>{f.current&&clearInterval(f.current)}},[K.length,a]),j.useEffect(()=>{g&&g.length>=2&&console.log(" Performing search for term:",g)},[g]),j.useEffect(()=>{console.log(" Home state:",{loading:t,error:n,collectionsCount:e.length,activeCollectionsCount:K.length,shownCollectionsCount:$.length,activeTab:o,searchTerm:g,filters:b}),e.length>0&&console.log(" Collections details:",e.map(re=>({name:re.name,address:re.address,phases:re.phases,totalSupply:re.totalSupply,minted:re.minted,hasPhases:Object.keys(re.phases||{}).length>0})))},[t,n,e.length,K.length,$.length,o,g,b]);const Z=j.useCallback(()=>{i(!0),s(re=>(re-1+K.length)%K.length)},[K.length]),ee=j.useCallback(()=>{i(!0),s(re=>(re+1)%K.length)},[K.length]),L=j.useCallback(()=>{K[r]&&p(`/launchpad/collection/${K[r].address}`)},[K,r,p]),V=j.useCallback(re=>{p(`/launchpad/collection/${re.address}`)},[p]);j.useCallback(()=>{h(0)},[]);const Q=j.useCallback(({collection:re})=>{if(!re)return null;const ie=localStorage.getItem(`collection_${re.address}_banner`),pe=re.metadata?.banner?Dn(re.metadata.banner)[0]:null,oe=re.banner?re.banner.startsWith("ipfs://")?Dn(re.banner)[0]:re.banner:null,he=ie||pe||oe||null,Ne=localStorage.getItem(`collection_${re.address}_banner_position`)||"center center",Re=localStorage.getItem(`collection_${re.address}_banner_fit`)||"cover",H=O(re),ye=G(re),ce=re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply);return l.jsxs("div",{className:"relative h-[250px] md:h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[he?l.jsx("img",{src:he,alt:"banner",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:Ne,objectFit:Re},onError:ne=>{console.warn(" Banner image failed to load:",he),ne.target.style.display="none";const se=ne.target.nextElementSibling;se&&(se.style.display="flex")}}):null,l.jsxs("div",{className:`flex items-center justify-center h-full w-full ${he?"hidden":""}`,style:{display:he?"none":"flex"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),l.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[l.jsx("div",{className:"text-2xl md:text-4xl font-bold mb-2 md:mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:re.name}),l.jsx("div",{className:"hidden md:block text-xl text-zinc-300 mb-2",children:re.description?re.description.slice(0,100)+"...":"Amazing NFT Collection"}),l.jsx("div",{className:"text-sm md:text-base text-zinc-400",children:"Discover and mint unique NFTs"})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/60 via-zinc-900/20 to-transparent"}),l.jsx("div",{className:"absolute top-3 md:top-6 right-3 md:right-6 z-30",children:ce?l.jsx("div",{className:"bg-pink-500/20 text-pink-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-pink-500/30",children:"Sold out"}):H?l.jsx("div",{className:"bg-green-500/20 text-green-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-green-500/30 animate-pulse",children:"Live"}):l.jsx("div",{className:"bg-blue-500/20 text-blue-400 px-3 py-1.5 md:px-4 md:py-2 rounded-full text-xs md:text-sm font-medium border border-blue-500/30",children:"Coming soon"})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-8 z-20",children:l.jsxs("div",{className:"flex items-end gap-3 md:gap-6",children:[l.jsx("img",{src:re.cover||re.firstNFTImage||re.bannerImage||"/placeholder-banner.jpg",alt:re.name,className:"w-20 h-20 md:w-32 md:h-32 object-cover rounded-xl border border-zinc-700/30 flex-shrink-0",onError:ne=>{console.warn(" Cover image failed to load:",ne.target.src),re.firstNFTImage&&re.firstNFTImage!==ne.target.src?ne.target.src=re.firstNFTImage:ne.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjMyIiBmaWxsPSIjNjY3MzgwIi8+Cjwvc3ZnPgo="}}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{onClick:()=>window.innerWidth<768&&L(),className:`text-xl md:text-3xl font-bold text-white drop-shadow-lg mb-2 md:mb-4 ${window.innerWidth<768?"cursor-pointer hover:text-pink-400 transition-colors duration-200":""}`,children:re.name}),l.jsx("div",{className:"hidden md:block",children:l.jsx("p",{className:"text-zinc-300 text-base leading-relaxed mb-6",children:re.description||"No description available"})}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 md:gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm px-3 py-2 md:px-4 md:py-2 rounded-xl border border-zinc-700/30 w-full md:w-[180px]",children:[l.jsx("span",{className:"text-zinc-400 text-xs md:text-sm",children:"Minted:"}),l.jsxs("span",{className:"text-white font-semibold ml-2 text-sm md:text-base",children:[Number(re.minted)||0," / ",Number(re.totalSupply)||0]})]}),l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm px-3 py-2 md:px-4 md:py-2 rounded-xl border border-zinc-700/30 w-full md:w-[180px]",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-zinc-400 text-xs md:text-sm",children:"Price:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-3 h-3 md:w-4 md:h-4"}),l.jsxs("span",{className:"text-white font-semibold text-sm md:text-base",children:[F(ye)," STT"]})]})]})})]})]})]})}),l.jsxs("button",{onClick:L,className:"hidden md:inline-flex absolute bottom-4 md:bottom-6 right-4 md:right-6 items-center gap-2 px-3 py-2 md:px-5 md:py-2.5 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-medium rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-pink-500/25 text-xs md:text-sm z-30",children:["View",l.jsx(lx,{size:12,className:"md:w-3.5 md:h-3.5"})]}),K.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:Z,className:"absolute left-2 md:left-4 top-1/2 transform -translate-y-1/2 bg-black/40 backdrop-blur-sm border border-white/20 rounded-full p-1.5 md:p-2 hover:bg-black/60 transition-all duration-200 z-30",children:l.jsx("img",{src:YC,alt:"Previous",className:"w-4 h-4 md:w-5 md:h-5"})}),l.jsx("button",{onClick:ee,className:"absolute right-2 md:right-4 top-1/2 transform -translate-y-1/2 bg-black/40 backdrop-blur-sm border border-white/20 rounded-full p-1.5 md:p-2 hover:bg-black/60 transition-all duration-200 z-30",children:l.jsx("img",{src:QC,alt:"Next",className:"w-4 h-4 md:w-5 md:h-5"})}),l.jsx("div",{className:"absolute bottom-2 md:bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5 md:gap-2 z-30",children:K.map((ne,se)=>l.jsx("button",{onClick:()=>{i(!0),s(se)},className:`w-1.5 h-1.5 md:w-2 md:h-2 rounded-full transition-all duration-200 ${se===r?"bg-white":"bg-white/40 hover:bg-white/60"}`},se))})]})]})},[O,G,L,K.length]),Y=j.useCallback(({collection:re,index:ie})=>{const pe=O(re),oe=G(re),he=re.totalSupply&&re.minted!==void 0&&Number(re.minted)>=Number(re.totalSupply);return l.jsxs("div",{onClick:()=>V(re),className:"bg-zinc-900/50 backdrop-blur-sm rounded-2xl border border-zinc-700/30 p-3 md:p-4 hover:border-zinc-600/50 transition-all duration-300 hover:scale-105 cursor-pointer group","data-index":ie,children:[l.jsx("div",{className:"aspect-square rounded-xl overflow-hidden mb-3 md:mb-4 border border-zinc-600/30",children:l.jsx(jd,{src:re.cover||re.firstNFTImage||"/default-cover.png",alt:re.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:ie<6,sizes:C?"100vw":k?"50vw":"33vw",onError:Ne=>{console.warn(" Collection cover failed to load:",Ne.target.src),re.firstNFTImage&&re.firstNFTImage!==Ne.target.src?Ne.target.src=re.firstNFTImage:Ne.target.src="/default-cover.png"}})}),l.jsx("h3",{onClick:()=>window.innerWidth<768&&V(re),className:`text-white font-semibold mb-2 truncate text-sm md:text-base ${window.innerWidth<768?"cursor-pointer hover:text-pink-400 transition-colors duration-200":""}`,children:re.name}),l.jsxs("div",{className:"space-y-1.5 md:space-y-2 text-xs md:text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Price:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-2.5 h-2.5 md:w-3 md:h-3"}),l.jsx("span",{className:"text-white",children:F(oe)})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Supply:"}),l.jsx("span",{className:"text-white",children:Number(re.totalSupply)||0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Minted:"}),l.jsx("span",{className:"text-white",children:Number(re.minted)||0})]})]}),l.jsx("div",{className:"mt-2 md:mt-3",children:he?l.jsx("div",{className:"text-center text-zinc-400 text-xs md:text-sm",children:"Finished"}):pe?l.jsx("div",{className:"text-center text-green-400 text-xs md:text-sm",children:"Live"}):l.jsx("div",{className:"text-center text-blue-400 text-xs md:text-sm",children:"Coming soon"})})]})},[O,G,V]),ae=j.useCallback(()=>l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:l.jsx("div",{className:"flex",children:[{id:"completed",name:"Completed Sales"},{id:"active",name:"Active Sales"},{id:"upcoming",name:"Upcoming Sales"}].map(re=>l.jsx("button",{onClick:()=>{c(re.id),h(0)},className:`py-3 md:py-4 px-3 md:px-6 font-medium transition-all duration-200 border-b-2 text-sm md:text-base ${o===re.id?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:re.name},re.id))})})}),[o]),ue=j.useCallback(({message:re,icon:ie})=>l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-zinc-800/50 rounded-full flex items-center justify-center mb-4",children:l.jsx(ie,{className:"w-8 h-8 text-zinc-500"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Collections Found"}),l.jsx("p",{className:"text-zinc-400 max-w-md",children:re})]}),[]);return l.jsx(qde,{children:l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Rm,{}),K.length>0?l.jsx("div",{className:"relative z-10",children:l.jsx(Q,{collection:K[r]})}):l.jsxs("div",{className:"relative h-[250px] md:h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:"Welcome to Dreava"}),l.jsx("p",{className:"text-xl text-zinc-300 mb-6",children:"Discover amazing NFT collections"}),l.jsx("div",{className:"text-zinc-400",children:"No active sales at the moment"})]})})]}),l.jsx(ae,{}),l.jsx("div",{className:"relative z-10 py-6 md:py-8 pb-20 md:pb-24",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[l.jsx(XC,{onMetrics:v,showUI:!1}),Object.keys(w).length>0&&l.jsx("div",{className:"mb-6",children:l.jsx(Vde,{metrics:w,isVisible:localStorage.getItem("showPerformanceStats")==="true"})}),S.length>0&&l.jsx(xx,{images:S,priority:!0,onComplete:()=>A(!0),onProgress:(re,ie)=>{re===ie&&A(!0)}}),t?l.jsx(Id,{message:"Loading collections",showVideo:!0,showBackground:!0,size:"large",showProgress:!1,showDots:!1}):n?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Jn,{className:"w-8 h-8 text-red-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Error Loading Collections"}),l.jsx("p",{className:"text-zinc-400 mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white rounded-lg hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300",children:"Try Again"})]}):$.length===0?l.jsx(ue,{message:`No ${o} collections found. Check back later for new drops!`,icon:o==="completed"?Vue:o==="active"?gm:XF}):l.jsx(l.Fragment,{children:g?l.jsx(p6,{collections:$,searchTerm:g,onCollectionClick:V}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6 mb-6 md:mb-8",children:$.slice(u*5,(u+1)*5).map((re,ie)=>l.jsx(Y,{collection:re,index:ie},re.address))}),l.jsx(Gde,{currentPage:u,totalPages:Math.ceil($.length/5),onPageChange:h,totalItems:$.length,itemsPerPage:5})]})})]})})]})})},Mm=[{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!0,internalType:"address",name:"collection",type:"address"}],name:"CollectionCreated",type:"event"},{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"},{internalType:"uint256",name:"maxSupply_",type:"uint256"},{internalType:"string",name:"baseTokenURI_",type:"string"},{internalType:"string",name:"unrevealedURI_",type:"string"},{internalType:"string",name:"contractURI_",type:"string"},{internalType:"address",name:"royaltyRecipient_",type:"address"},{internalType:"uint96",name:"royaltyFeeNumerator_",type:"uint96"}],name:"createCollection",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"_paused",type:"bool"}],name:"setPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newFee",type:"uint256"}],name:"updateCreationFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRecipient",type:"address"}],name:"updateFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"collectionAddr",type:"address"},{internalType:"bool",name:"status",type:"bool"}],name:"verifyCollection",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"allCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"collections",outputs:[{internalType:"address",name:"contractAddress",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"uint256",name:"createdAt",type:"uint256"},{internalType:"bool",name:"verified",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"creationFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Zde=()=>{try{const e=typeof window<"u",t=e&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),n=e&&String(window.location.port)==="5173";if(t&&n)return"";const r="http://localhost:3000";if(r&&typeof r=="string"&&r.trim()){const s=r.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(s))return s}}catch{}return""},If=e=>{const t=Zde(),n=e.startsWith("/")?e:`/${e}`;return t?`${t}${n}`:n},hD=async e=>{console.log(" uploadFile called with:",e);const t=[If("/api/upload-file"),"/api/upload-file",If("/upload-file"),"/upload-file",If("/api/pin-file"),"/api/pin-file",If("/pin-file"),"/pin-file"];let n=null;for(const r of t)try{const s=new FormData;s.append("file",e),console.log(` Sending request to ${r}`);const a=await fetch(r,{method:"POST",body:s});if(console.log(" Response status:",a.status,"for",r),!a.ok){let c={};try{c=await a.json()}catch{}console.error(` Upload failed on ${r}:`,c),n=new Error(c.error||`Upload failed (${a.status}) at ${r}`);continue}const i=await a.json();console.log(" Upload response:",i);const o=i.gatewayUrl||i.url||i.cid;return console.log(" Final result URL:",o),i}catch(s){console.error(` Request error on ${r}:`,s),n=s;continue}throw n||new Error("File upload failed")},Yde=async e=>{console.log(" uploadMetadata called with:",e);const t=[{url:If("/api/upload-metadata"),method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}},{url:"/api/upload-metadata",method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}},{url:If("/pin-json"),method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}},{url:"/pin-json",method:"POST",body:JSON.stringify({metadata:e}),headers:{"Content-Type":"application/json"}}];let n=null;for(const r of t)try{console.log(" Trying metadata endpoint:",r.url);const s=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body});if(console.log(" Metadata upload response status:",s.status,"for",r.url),!s.ok){const i=await s.json().catch(()=>({}));console.error(" Metadata upload failed:",i),n=new Error(i.error||`Metadata upload failed (${s.status}) at ${r.url}`);continue}const a=await s.json();return console.log(" Metadata upload response data:",a),{url:a.url||a.ipfsUri,...a}}catch(s){console.error(` Metadata request error on ${r.url}:`,s),n=s;continue}throw n||new Error("Metadata upload failed")},fD="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.5187%2027.4077H6.22219C3.52187%2027.4077%201.33325%2025.2191%201.33325%2022.5187V6.22228C1.33325%203.52195%203.52187%201.33333%206.22219%201.33333H22.5187C25.219%201.33333%2027.4076%203.52195%2027.4076%206.22228V22.5187C27.4076%2025.2191%2025.219%2027.4077%2022.5187%2027.4077Z'%20fill='%2352525B'%3e%3c/path%3e%3cpath%20d='M27.1791%204.82062C27.3127%205.26714%2027.4072%205.73159%2027.4072%206.22212V22.5186C27.4072%2025.2189%2025.2186%2027.4075%2022.5183%2027.4075H6.22181C5.73129%2027.4075%205.26684%2027.313%204.82031%2027.1794C5.42654%2029.192%207.2713%2030.6668%209.4811%2030.6668H25.7776C28.4779%2030.6668%2030.6665%2028.4782%2030.6665%2025.7779V9.48141C30.6665%207.27161%2029.1917%205.42685%2027.1791%204.82062Z'%20fill='%2371717A'%3e%3c/path%3e%3cpath%20d='M18.4445%2012.7407C19.7945%2012.7407%2020.8889%2011.6463%2020.8889%2010.2962C20.8889%208.94619%2019.7945%207.85176%2018.4445%207.85176C17.0944%207.85176%2016%208.94619%2016%2010.2962C16%2011.6463%2017.0944%2012.7407%2018.4445%2012.7407Z'%20fill='%23A1A1AA'%3e%3c/path%3e%3cpath%20d='M6.22217%2021.5001C6.22217%2022.0574%206.67847%2022.5186%207.2407%2022.5186H21.5001C22.0623%2022.5186%2022.5186%2022.0655%2022.5186%2021.5001C22.5186%2020.1116%2021.7494%2016%2020.0742%2016C19.2479%2016%2017.9638%2017.6296%2016.8149%2017.6296C14.5334%2017.6296%2012.3333%2012.7407%2010.2963%2012.7407C8.25923%2012.7407%206.22217%2018.8128%206.22217%2021.5001Z'%20fill='%23A1A1AA'%3e%3c/path%3e%3c/svg%3e",eE=({type:e="processing",className:t="",size:n="md"})=>{const r=()=>{switch(n){case"sm":return"w-8 h-8";case"md":return"w-12 h-12";case"lg":return"w-20 h-20";default:return"w-12 h-12"}};return l.jsx("div",{className:`flex items-center justify-center ${t}`,children:l.jsx("div",{className:`${r()} bg-black rounded-full flex items-center justify-center overflow-hidden`,children:l.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",children:[l.jsx("source",{src:"/assets/videos/IMG.mov",type:"video/quicktime"}),l.jsx("source",{src:"/assets/videos/IMG.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})})},tE=({isVisible:e,onConfirm:t,onCancel:n,title:r="Cancel Upload",message:s="Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over."})=>e?l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[11000] flex items-center justify-center p-4",children:l.jsxs("div",{className:"relative bg-zinc-900 border border-zinc-700 rounded-2xl p-6 max-w-md w-full animate-fadeIn",tabIndex:-1,autoFocus:!0,children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-red-500/20 border border-red-500/30 rounded-full flex items-center justify-center",children:l.jsx(to,{size:24,className:"text-red-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:r}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"This action cannot be undone"})]})]}),l.jsx("p",{className:"text-zinc-300 mb-6 leading-relaxed",children:s}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:n,className:"flex-1 py-3 px-4 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Continue"}),l.jsx("button",{onClick:t,className:"flex-1 py-3 px-4 rounded-xl bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-red-500/25",children:"Cancel Process"})]}),l.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110","aria-label":"Close",children:l.jsx(Jn,{size:20})})]})}):null,Qde="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",Jde=["Art","Collectibles","Gaming","Music","Domains","Utility","Other"],N7=["bg-blue-600","bg-pink-600","bg-green-600","bg-purple-600","bg-yellow-600","bg-red-600"],mD=({onSuccess:e})=>{const[t,n]=j.useState({name:"",description:"",categories:[],royaltyRecipient:"",royaltyPercent:0}),[r,s]=j.useState(null),[a,i]=j.useState(!1),[o,c]=j.useState(""),[u,h]=j.useState(0),[f,p]=j.useState(!1),[g,b]=j.useState(!1),[y,w]=j.useState({visible:!1,message:"",txHash:""}),[v,N]=j.useState(!1),[A,C]=j.useState(!1),[k,S]=j.useState(!1);Xr();const{switchNetwork:T}=yo();j.useEffect(()=>{if(y.visible){const $=setTimeout(()=>w(Z=>({...Z,visible:!1})),5e3);return()=>clearTimeout($)}},[y.visible]);const P=($,Z="")=>{w({visible:!0,message:$,txHash:Z})},I=$=>{const{name:Z,value:ee}=$.target;console.log(" Form field changed:",Z,ee),n({...t,[Z]:ee})},M=$=>{const Z=$.target.files[0];if(console.log(" File selected:",Z?{name:Z.name,size:Z.size,type:Z.type}:"No file"),Z){if(Z.size>10485760){const ee=(Z.size/1048576).toFixed(1),L=`File size (${ee}MB) exceeds the maximum allowed size of 10MB. Please choose a smaller file.`;P(` ${L}`),console.error(" File too large:",ee,"MB"),$.target.value="";return}if(!Z.type.startsWith("image/")){P(" Please select an image file (JPG, PNG, GIF, SVG)"),console.error(" Invalid file type:",Z.type),$.target.value="";return}}s(Z)},W=$=>{$.preventDefault(),$.currentTarget.classList.add("border-pink-500/50","bg-pink-500/10")},z=$=>{$.preventDefault(),$.currentTarget.classList.remove("border-pink-500/50","bg-pink-500/10")},B=$=>{$.preventDefault(),$.currentTarget.classList.remove("border-pink-500/50","bg-pink-500/10");const Z=$.dataTransfer.files;if(Z.length>0){const ee=Z[0];if(!ee.type.startsWith("image/")){P(" Please drop an image file (JPG, PNG, GIF, SVG)"),console.error(" Invalid file type dropped:",ee.type);return}const L=10*1024*1024;if(ee.size>L){const V=(ee.size/1048576).toFixed(1),Q=`File size (${V}MB) exceeds the maximum allowed size of 10MB. Please choose a smaller file.`;P(` ${Q}`),console.error(" File too large dropped:",V,"MB");return}s(ee)}},O=$=>{n(Z=>{const ee=Z.categories.includes($)?Z.categories.filter(L=>L!==$):[...Z.categories,$];return{...Z,categories:ee}})},F=async $=>{try{console.log(" Uploading file:",$.name,$.size,$.type),console.log(" File object:",$);const Z=await hD($);console.log(" File uploaded successfully:",Z),console.log(" Result object:",Z);const ee=Z.gatewayUrl||Z.url;if(console.log(" Image URL for collection:",ee),console.log(" Full result object:",Z),!ee)throw console.error(" No image URL found in result:",Z),new Error("Failed to get image URL from upload result");return ee}catch(Z){throw console.error(" Error uploading file:",Z),console.error(" Error details:",{message:Z.message,stack:Z.stack,response:Z.response}),Z}},G=async $=>{try{console.log(" Uploading metadata JSON:",$);const Z=await Yde($);return console.log(" Metadata uploaded successfully:",Z),Z.url}catch(Z){throw console.error(" Error uploading metadata:",Z),Z}},K=async()=>{try{if(N(!0),console.log(" Form validation:",{name:t.name,description:t.description,coverFile:r?r.name:"No file",ethereum:!!window.ethereum}),!window.ethereum)throw new Error("Wallet not detected");if(!t.name||!r||!t.description)throw new Error("Name, description, and cover image required");const $=10*1024*1024;if(r.size>$){const H=(r.size/1048576).toFixed(1);throw new Error(`File size (${H}MB) exceeds the maximum allowed size of 10MB`)}if(!r.type.startsWith("image/"))throw new Error("Invalid file type. Please select an image file.");try{(await(async()=>{try{return await T?.(nl)}catch{return{success:!1}}})())?.success||await _d();const H=await new wr(window.ethereum).getNetwork();if(Number(H.chainId)!==nl){S(!0),N(!1);return}}catch{S(!0),N(!1);return}i(!0),c(" Uploading cover image to IPFS..."),h(10);const Z=await F(r);console.log(" Cover URL for metadata:",Z),c(" Uploading collection metadata..."),h(40);const ee={name:t.name,description:t.description,image:Z,categories:t.categories,royaltyRecipient:t.royaltyRecipient,royaltyPercent:t.royaltyPercent};console.log(" Metadata JSON to upload:",ee);const L=await G(ee);c(" Creating collection on blockchain..."),h(70);try{(await(async()=>{try{return await T?.(nl)}catch{return{success:!1}}})())?.success||await _d()}catch{P(" Please switch to Somnia Testnet to create a collection"),N(!1);return}const V=new wr(window.ethereum),Q=await V.getSigner();try{const H=await V.getNetwork();console.log("Connected to network:",H)}catch(H){throw console.error("RPC connection error:",H),new Error("Network error. Please check your connection and try again.")}const Y=new Pt(Qde,Mm,Q);console.log("Factory address:",Y.target);const ae=t.name.substring(0,3).toUpperCase(),ue=[t.name,ae,0,"","",L,t.royaltyRecipient||eh,Math.round(Number(t.royaltyPercent)*100),{value:nv("0.05",18)}];console.log("Creating collection with params:",ue);let re=null,ie=3;for(;ie>0&&!re;)try{re=await Y.createCollection(...ue);break}catch(H){if(console.warn(`Collection creation attempt ${4-ie} failed:`,H),ie--,ie>0)await new Promise(ye=>setTimeout(ye,2e3));else throw H}console.log("Transaction sent:",re.hash),c(" Waiting for blockchain confirmation...");let pe=null;for(ie=3;ie>0&&!pe;)try{pe=await re.wait();break}catch(H){if(console.warn(`Transaction confirmation attempt ${4-ie} failed:`,H),ie--,ie>0)await new Promise(ye=>setTimeout(ye,2e3));else throw H}console.log("Transaction confirmed:",pe);const oe=pe.logs.map(H=>{try{return Y.interface.parseLog(H)}catch(ye){return console.warn("Failed to parse log:",ye),null}}).find(H=>H&&H.name==="CollectionCreated");if(!oe)throw new Error("CollectionCreated event not found in transaction logs");const he=oe.args.collection;console.log("Collection created at:",he),he&&await new Pt(he,Rn,Q).setContractURI(L);const Ne={address:he,name:t.name,description:t.description,image:Z,cover:Z,banner:Z,metadata:L,createdAt:new Date().toISOString()};console.log(" Collection data created:",Ne),console.log(" Cover URL in collection data:",Ne.cover);const Re=JSON.parse(localStorage.getItem("dreava_collections"))||[];Re.push(Ne),localStorage.setItem("dreava_collections",JSON.stringify(Re)),c(" Collection created successfully!"),h(100);try{const H=await(await new wr(window.ethereum).getSigner()).getAddress();await fetch("/api/quest/record-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:H,actionType:"collection_created",data:{collectionAddress:he,collectionName:t.name,txHash:re.hash,metadataUrl:L,coverUrl:Z}})})}catch(H){console.warn(" Failed to record quest action:",H)}setTimeout(()=>{p(!0)},1500),P(" Collection created!",re.hash),window.newlyCreatedCollectionData=Ne}catch($){console.error("Error creating collection:",$),c(` Error: ${$.reason||$.message}`),h(0),setTimeout(()=>{p(!0)},1e3),P(` Error: ${$.reason||$.message}`),delete window.newlyCreatedCollectionData}finally{N(!1)}};return l.jsxs("div",{className:"max-w-4xl mx-auto text-white",children:[l.jsxs("div",{className:"text-left mb-8",children:[l.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-4",children:"Collection Identity"}),l.jsx("p",{className:"text-zinc-400 text-lg leading-relaxed max-w-2xl",children:"Give your collection a unique identity. Set the foundation for your NFT project with a name, description, and visual identity that represents your vision. Once created, you'll be able to add your amazing NFTs in the next step."})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("label",{className:"text-sm font-medium mb-4 block",children:[l.jsx("span",{className:"text-white",children:"Collection Cover Image"})," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start",children:[l.jsxs("label",{htmlFor:"cover-upload",className:"w-48 h-48 bg-zinc-800/50 border-2 border-dashed border-zinc-600 rounded-2xl flex items-center justify-center cursor-pointer overflow-hidden hover:border-pink-500/50 transition-all duration-300 group",onDragOver:W,onDragLeave:z,onDrop:B,children:[r?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:URL.createObjectURL(r),alt:"preview",className:"w-full h-full object-cover rounded-2xl",onLoad:()=>console.log(" Preview image loaded successfully"),onError:$=>{console.error(" Preview image failed to load:",$),console.error(" Image src:",$.target.src)}}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:l.jsxs("div",{className:"text-white text-center",children:[l.jsx("div",{className:"text-sm font-medium",children:"Change Image"}),l.jsx("div",{className:"text-xs text-zinc-300",children:"Click to replace"})]})}),l.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:[(r.size/1024/1024).toFixed(2)," MB"]})]}):l.jsxs("div",{className:"text-center text-zinc-400",children:[l.jsx(hx,{className:"w-8 h-8 mx-auto mb-2"}),l.jsx("div",{className:"text-sm",children:"Drop image here or click to upload"}),l.jsx("div",{className:"text-xs",children:"PNG, JPG, GIF up to 10MB"})]}),l.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",onChange:M,className:"hidden"})]}),l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-6 border border-zinc-700/30",children:[l.jsx("h4",{className:"text-white font-semibold mb-3",children:"Upload Requirements"}),l.jsxs("ul",{className:"space-y-2 text-sm text-zinc-300",children:[l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Recommended size: 300  300px"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"File types: JPG, PNG, SVG or GIF"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Max file size: 10MB"]}),l.jsxs("li",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"This will be your collection's main image"]})]}),l.jsxs("button",{onClick:()=>document.getElementById("cover-upload").click(),className:"mt-4 w-full py-3 px-6 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:from-[#0095E6] hover:to-[#E61CC7] text-white font-semibold transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),l.jsx("span",{children:"Choose Image"})]})]})]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm font-medium mb-3 block",children:[l.jsx("span",{className:"text-white",children:"Collection Name"})," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",name:"name",value:t.name,onChange:I,placeholder:"Enter collection name",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-3 block",children:l.jsx("span",{className:"text-white",children:"Categories"})}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>b($=>!$),className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-left text-white text-base flex justify-between items-center focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300",children:[t.categories.length>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map(($,Z)=>l.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${N7[Z%N7.length]}`,children:[$,l.jsx("span",{onClick:ee=>{ee.stopPropagation(),O($)},className:"hover:text-red-400 transition-colors cursor-pointer",children:l.jsx(Jn,{size:12})})]},$))}):"Select Categories",l.jsx(kv,{size:16,className:"ml-2"})]}),g&&l.jsx("div",{className:"absolute bg-zinc-800/95 backdrop-blur-sm border border-zinc-700/50 rounded-2xl w-full max-h-40 overflow-y-auto z-20 mt-2 shadow-2xl",children:Jde.map($=>l.jsx("div",{onClick:()=>O($),className:`px-4 py-3 cursor-pointer hover:bg-zinc-700/50 transition-colors duration-200 ${t.categories.includes($)?"bg-zinc-700/50":""}`,children:$},$))})]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("label",{className:"text-sm font-medium mb-3 block",children:[l.jsx("span",{className:"text-white",children:"Description"})," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{name:"description",value:t.description,onChange:I,placeholder:"Write a short description about this collection",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white h-32 placeholder:text-zinc-500 text-base focus:outline-none focus:border-pink-500/50 focus:ring-2 focus:ring-pink-500/20 transition-all duration-300 resize-none"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-2xl p-6 border border-blue-500/30 mb-8",children:[l.jsxs("h4",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-[#46ABEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Collection Creation Cost"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-[#46ABEF]/20 p-4 rounded-xl border border-[#46ABEF]/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-4 h-4 text-[#46ABEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),l.jsx("div",{className:"text-white font-medium text-sm",children:"Gas Fee"})]}),l.jsx("div",{className:"text-white font-bold text-lg",children:"~0.01 STT"}),l.jsx("div",{className:"text-white text-xs",children:"Network transaction cost"})]}),l.jsxs("div",{className:"bg-[#8223D5]/20 p-4 rounded-xl border border-[#8223D5]/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-4 h-4 text-[#8223D5]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l.jsx("div",{className:"text-white font-medium text-sm",children:"Platform Fee"})]}),l.jsx("div",{className:"text-white font-bold text-lg",children:"0.05 STT"}),l.jsx("div",{className:"text-white text-xs",children:"One-time creation fee"})]}),l.jsxs("div",{className:"bg-[#D0139A]/20 p-4 rounded-xl border border-[#D0139A]/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("svg",{className:"w-4 h-4 text-[#D0139A]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("div",{className:"text-white font-medium text-sm",children:"Total Cost"})]}),l.jsx("div",{className:"text-white font-bold text-lg",children:"~0.06 STT"}),l.jsx("div",{className:"text-white text-xs",children:"Estimated total"})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-6 border border-zinc-700/30 mb-8",children:[l.jsxs("h4",{className:"text-white font-semibold mb-4 flex items-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5 text-[#8223D5]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),"Royalty Settings"]}),l.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:"Set up royalty payments for your collection. This allows you to earn a percentage of sales when your NFTs are traded."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto] items-end gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block text-white",children:"Royalty Recipient Address"}),l.jsx("input",{type:"text",name:"royaltyRecipient",value:t.royaltyRecipient,onChange:I,placeholder:"0x...",className:"w-full p-4 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all duration-300"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Leave empty to use your wallet address"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block text-white",children:"Royalty Percentage"}),l.jsxs("div",{className:"relative w-24 md:w-28",children:[l.jsx("input",{type:"number",name:"royaltyPercent",min:0,max:100,value:t.royaltyPercent,onChange:I,placeholder:"0",className:"w-full p-4 pr-10 rounded-2xl bg-zinc-800/50 border border-zinc-700/50 text-white placeholder:text-zinc-500 text-base focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 transition-all duration-300"}),l.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-400",children:"%"})]}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2 whitespace-nowrap",children:"Recommended: 2.5% - 10%"})]})]})]}),l.jsxs("button",{onClick:K,className:"w-full max-w-xs mx-auto mt-8 py-4 px-8 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-lg transition-all duration-300 hover:from-[#0095E6] hover:to-[#E61CC7] hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:"Create Collection"})]})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9998] p-4",children:l.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[u===100?l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):l.jsx("div",{className:"mb-4",children:l.jsx(eE,{type:"processing",size:"lg"})}),l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:u===100?"Collection Created!":"Creating Collection..."}),l.jsx("p",{className:"text-zinc-400 text-sm",children:u===100?"Your collection has been successfully created on the blockchain":"Please wait while we process your collection"})]}),u<100&&l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${u}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[u,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400",children:o})]})]}),u===100&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),l.jsx("p",{className:"text-zinc-300 text-sm",children:"Your collection is now live on the blockchain"})]})}),f&&u===100&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{if(i(!1),h(0),p(!1),e){const $=window.newlyCreatedCollectionData;e($),delete window.newlyCreatedCollectionData}},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e?"Continue to Populate Collection":"Continue"]})]}),l.jsx("button",{onClick:()=>{i(!1),h(0),p(!1),delete window.newlyCreatedCollectionData},className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]}),l.jsx("button",{type:"button",onClick:()=>{C(!0)},"aria-label":"Close",className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-pink-500/40 rounded-xl",children:l.jsx(Jn,{size:24})})]})})}),k&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9999] p-4",children:l.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Wrong Network"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:"Please switch to Somnia Testnet (50312) to create a collection."})]}),l.jsxs("div",{className:"flex gap-3 justify-center",children:[l.jsx("button",{onClick:async()=>{try{(await(async()=>{try{return await T?.(nl)}catch{return{success:!1}}})())?.success||await _d();const $=await new wr(window.ethereum).getNetwork();Number($.chainId)===nl?(S(!1),P(" Switched to Somnia Testnet. Please retry.")):P(" Please switch to Somnia Testnet in your wallet")}catch{P(" Please switch to Somnia Testnet in your wallet")}},className:"flex-1 py-3 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300",children:"Switch to Somnia"}),l.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200",children:"Close"})]})]})})}),y.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-2xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105",children:[l.jsx("p",{className:"text-sm mb-1",children:y.message}),y.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${y.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[l.jsx(Kd,{size:16}),"View Transaction"]})]}),l.jsx(tE,{isVisible:A,onConfirm:()=>{C(!1),i(!1),h(0),p(!1),delete window.newlyCreatedCollectionData},onCancel:()=>C(!1),title:"Cancel Collection Creation",message:"Are you sure you want to cancel this collection creation? All progress will be lost and you'll need to start over. This action cannot be undone."})]})},Xde=()=>(j.useEffect(()=>{const e=window.location.hash;if(e){const t=document.querySelector(e);t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth"})},100)}},[]),l.jsx("main",{className:"max-w-4xl mx-auto px-4 py-10 text-white",children:l.jsx("section",{id:"create",className:"bg-[#1a1a1a] p-8 rounded-2xl shadow-lg mb-10",children:l.jsx(mD,{})})})),Nn={webAssembly:typeof WebAssembly<"u",sharedArrayBuffer:typeof crossOriginIsolated<"u"&&crossOriginIsolated&&"SharedArrayBuffer"in globalThis,webTransport:"WebTransport"in window,serviceWorker:"serviceWorker"in navigator,fileSystemAccess:"showOpenFilePicker"in window,webGPU:"gpu"in navigator,compressionStreams:"CompressionStream"in window,webCodecs:"VideoEncoder"in window,backgroundSync:"serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration?.prototype,webAssemblySimd:typeof WebAssembly<"u"&&WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,0,11]))},jn={enableWasm:!0,enableServiceWorker:typeof window<"u"&&!location.port,enableSharedArrayBuffer:!0,enableWebTransport:!0,enableWebGPU:!1,enableFileSystemAccess:!1,enableCompression:!0,enableBackgroundSync:!1},fw=e=>({wasm:Nn.webAssembly&&jn.enableWasm,sharedArrayBuffer:Nn.sharedArrayBuffer&&jn.enableSharedArrayBuffer,webTransport:Nn.webTransport&&jn.enableWebTransport,serviceWorker:Nn.serviceWorker&&jn.enableServiceWorker,fileSystemAccess:Nn.fileSystemAccess&&jn.enableFileSystemAccess,webGPU:Nn.webGPU&&jn.enableWebGPU,compression:Nn.compressionStreams&&jn.enableCompression,backgroundSync:Nn.backgroundSync&&jn.enableBackgroundSync})[e]||!1,ehe=()=>{console.log(" Browser Capabilities:",{...Nn,flags:jn,supported:Object.keys(Nn).filter(e=>Nn[e])}),console.log(" Production Feature Stats:",{timestamp:new Date().toISOString(),userAgent:navigator.userAgent,features:Nn,flags:jn})};ehe();class pD{constructor(){this.initialized=!1,this.optimizers={},this.initializeOptimizations()}async initializeOptimizations(){try{console.log(" Initializing SafeOptimizer with advanced features..."),fw("wasm")&&(this.optimizers.wasm=await this.createWasmProcessor(),console.log(" WASM processor initialized")),fw("serviceWorker")&&(this.optimizers.serviceWorker=await this.createServiceWorkerCache(),console.log(" Service Worker cache initialized")),fw("sharedArrayBuffer")&&(this.optimizers.sharedBuffer=await this.createSharedBufferWorker(),console.log(" Shared Buffer Worker initialized")),fw("compression")&&(this.optimizers.compression=!0,console.log(" Compression API available")),this.initialized=!0,console.log(" SafeOptimizer initialized with optimizations:",Object.keys(this.optimizers))}catch(t){console.warn(" SafeOptimizer initialization failed, using fallbacks:",t),this.initialized=!0}}async createWasmProcessor(){try{const{WasmImageProcessor:t}=await ol(async()=>{const{WasmImageProcessor:n}=await vd(async()=>{const{WasmImageProcessor:r}=await xd(async()=>{const{WasmImageProcessor:s}=await import("./wasmImageProcessor-zC3R95mO-BfsWJS9u-M7C3uG3-.js");return{WasmImageProcessor:s}},[]);return{WasmImageProcessor:r}},[]);return{WasmImageProcessor:n}},[]);return new t}catch(t){return console.warn(" WASM processor creation failed:",t),null}}async createServiceWorkerCache(){try{const{ServiceWorkerCache:t}=await ol(async()=>{const{ServiceWorkerCache:n}=await vd(async()=>{const{ServiceWorkerCache:r}=await xd(async()=>{const{ServiceWorkerCache:s}=await import("./serviceWorkerCache-BN3PYH06-COMpp69h-CG30vN7T.js");return{ServiceWorkerCache:s}},[]);return{ServiceWorkerCache:r}},[]);return{ServiceWorkerCache:n}},[]);return new t}catch(t){return console.warn(" Service Worker cache creation failed:",t),null}}async createSharedBufferWorker(){try{const{SharedBufferWorker:t}=await ol(async()=>{const{SharedBufferWorker:n}=await vd(async()=>{const{SharedBufferWorker:r}=await xd(async()=>{const{SharedBufferWorker:s}=await import("./sharedBufferWorker-CTA752j6-CWZKBTEP-CWZKBTEP.js");return{SharedBufferWorker:s}},[]);return{SharedBufferWorker:r}},[]);return{SharedBufferWorker:n}},[]);return new t}catch(t){return console.warn(" Shared Buffer Worker creation failed:",t),null}}async optimizeImage(t,n=.8){if(this.optimizers.wasm)try{const r=await this.optimizers.wasm.optimize(t,n);return console.log(" WASM optimization successful"),r}catch(r){console.warn(" WASM optimization failed, using Canvas fallback:",r)}return await this.canvasOptimize(t,n)}async canvasOptimize(t,n){return new Promise(r=>{const s=document.createElement("canvas"),a=s.getContext("2d"),i=new Image;i.onload=()=>{let{width:o,height:c}=i;if(o>1200||c>900){const u=Math.min(1200/o,900/c);o*=u,c*=u}s.width=o,s.height=c,a.imageSmoothingEnabled=!0,a.imageSmoothingQuality="high",a.drawImage(i,0,0,o,c),s.toBlob(u=>{const h=new File([u],t.name,{type:t.type,lastModified:Date.now()});console.log(` Canvas optimization: ${t.size} -> ${h.size} bytes (${Math.round((1-h.size/t.size)*100)}% reduction)`),r(h)},t.type,n)},i.onerror=()=>{console.warn(" Image loading failed, returning original file"),r(t)},i.src=URL.createObjectURL(t)})}async uploadFiles(t,n,r={}){const s=[];if(this.optimizers.sharedBuffer)try{console.log(" Using Shared Buffer Worker for file processing...");const a=await this.optimizers.sharedBuffer.processFiles(t);for(let i=0;i<t.length;i++){const o=t[i],c=a[i];if(c&&c.processed)this.optimizers.serviceWorker&&await this.optimizers.serviceWorker.cacheUpload(o,c),s.push(c);else{const u=await this.regularUpload(o,n,r);s.push(u)}}}catch(a){console.warn(" Shared Buffer processing failed, using regular upload:",a);for(const i of t){const o=await this.regularUpload(i,n,r);s.push(o)}}else for(const a of t){const i=await this.regularUpload(a,n,r);s.push(i)}return s}async regularUpload(t,n,r={}){const s=new FormData;s.append("file",t),r.metadata&&s.append("metadata",JSON.stringify(r.metadata));const a=await fetch(n,{method:"POST",body:s});if(!a.ok)throw new Error(`Upload failed: ${a.status}`);const i=await a.json();return this.optimizers.serviceWorker&&await this.optimizers.serviceWorker.cacheUpload(t,i),i}async compressData(t){if(this.optimizers.compression&&this.optimizers.sharedBuffer)try{return await this.optimizers.sharedBuffer.compressData(t)}catch(n){console.warn(" Shared Buffer compression failed, using fallback:",n)}return await this.fallbackCompression(t)}async fallbackCompression(t){try{const n=new CompressionStream("gzip"),r=n.writable.getWriter(),s=n.readable.getReader(),a=new Uint8Array(t);r.write(a),r.close();const i=[];for(;;){const{done:u,value:h}=await s.read();if(u)break;i.push(h)}const o=new Uint8Array(i.reduce((u,h)=>u+h.length,0));let c=0;for(const u of i)o.set(u,c),c+=u.length;return o.buffer}catch(n){return console.warn(" Fallback compression failed:",n),t}}async decompressData(t){if(this.optimizers.compression&&this.optimizers.sharedBuffer)try{return await this.optimizers.sharedBuffer.decompressData(t)}catch(n){console.warn(" Shared Buffer decompression failed, using fallback:",n)}return await this.fallbackDecompression(t)}async fallbackDecompression(t){try{const n=new DecompressionStream("gzip"),r=n.writable.getWriter(),s=n.readable.getReader(),a=new Uint8Array(t);r.write(a),r.close();const i=[];for(;;){const{done:u,value:h}=await s.read();if(u)break;i.push(h)}const o=new Uint8Array(i.reduce((u,h)=>u+h.length,0));let c=0;for(const u of i)o.set(u,c),c+=u.length;return o.buffer}catch(n){return console.warn(" Fallback decompression failed:",n),t}}getOptimizationStats(){const t={initialized:this.initialized,availableOptimizers:Object.keys(this.optimizers),features:Nn,featureFlags:jn};return this.optimizers.serviceWorker&&(t.serviceWorker=this.optimizers.serviceWorker.getCacheStats()),this.optimizers.sharedBuffer&&(t.sharedBuffer="available"),this.optimizers.wasm&&(t.wasm="available"),this.optimizers.compression&&(t.compression="available"),t}destroy(){this.optimizers.sharedBuffer&&this.optimizers.sharedBuffer.destroy(),this.optimizers.serviceWorker&&this.optimizers.serviceWorker.clearCache(),this.optimizers={},this.initialized=!1}}const k7=new pD;class the{constructor(){this.metrics={uploads:{total:0,successful:0,failed:0,totalBytes:0,averageSpeed:0,averageTime:0},cache:{hits:0,misses:0,hitRate:0,totalItems:0,memoryUsage:0},network:{requests:0,errors:0,averageResponseTime:0,slowestRequest:0},memory:{used:0,peak:0,available:0},timing:{startTime:null,lastUpdate:null,totalDuration:0}},this.history=[],this.maxHistorySize=100,this.isMonitoring=!1,this.monitoringInterval=null}start(){this.isMonitoring||(this.isMonitoring=!0,this.metrics.timing.startTime=Date.now(),this.metrics.timing.lastUpdate=Date.now(),this.monitoringInterval=setInterval(()=>{this.updateMetrics()},2e3),console.log(" Performance monitoring started"))}stop(){this.isMonitoring&&(this.isMonitoring=!1,this.monitoringInterval&&(clearInterval(this.monitoringInterval),this.monitoringInterval=null),this.updateMetrics(),this.saveToHistory(),console.log(" Performance monitoring stopped"))}updateMetrics(){const t=Date.now();if(this.metrics.timing.lastUpdate=t,this.metrics.timing.totalDuration=t-this.metrics.timing.startTime,"memory"in performance){const r=performance.memory;this.metrics.memory.used=r.usedJSHeapSize,this.metrics.memory.available=r.jsHeapSizeLimit,this.metrics.memory.peak=Math.max(this.metrics.memory.peak,r.usedJSHeapSize)}this.metrics.uploads.total>0&&(this.metrics.uploads.averageSpeed=this.metrics.uploads.totalBytes/(this.metrics.timing.totalDuration/1e3),this.metrics.uploads.averageTime=this.metrics.timing.totalDuration/this.metrics.uploads.total);const n=this.metrics.cache.hits+this.metrics.cache.misses;n>0&&(this.metrics.cache.hitRate=this.metrics.cache.hits/n*100),this.metrics.network.requests>0&&(this.metrics.network.averageResponseTime=this.metrics.network.averageResponseTime/this.metrics.network.requests)}saveToHistory(){const t={timestamp:Date.now(),metrics:JSON.parse(JSON.stringify(this.metrics))};this.history.push(t),this.history.length>this.maxHistorySize&&this.history.shift()}recordSuccessfulUpload(t,n){this.metrics.uploads.total++,this.metrics.uploads.successful++,this.metrics.uploads.totalBytes+=t,n&&(this.metrics.network.averageResponseTime+=n,this.metrics.network.slowestRequest=Math.max(this.metrics.network.slowestRequest,n)),this.metrics.network.requests++}recordFailedUpload(t,n){this.metrics.uploads.total++,this.metrics.uploads.failed++,t&&(this.metrics.uploads.totalBytes+=t),this.metrics.network.requests++,this.metrics.network.errors++,console.warn(" Upload failed:",n)}recordCacheHit(){this.metrics.cache.hits++}recordCacheMiss(){this.metrics.cache.misses++}updateCacheStats(t){this.metrics.cache.totalItems=t.totalItems||0,this.metrics.cache.memoryUsage=t.totalMemory||0}getMetrics(){return this.updateMetrics(),this.metrics}getHistory(){return this.history}getPerformanceSummary(){const t=this.getMetrics();return{uploads:{total:t.uploads.total,successRate:t.uploads.total>0?(t.uploads.successful/t.uploads.total*100).toFixed(1):0,averageSpeed:this.formatBytes(t.uploads.averageSpeed)+"/s",totalData:this.formatBytes(t.uploads.totalBytes)},cache:{hitRate:t.cache.hitRate.toFixed(1)+"%",items:t.cache.totalItems,memory:this.formatBytes(t.cache.memoryUsage)},network:{requests:t.network.requests,errorRate:t.network.requests>0?(t.network.errors/t.network.requests*100).toFixed(1):0,averageResponseTime:t.network.averageResponseTime.toFixed(0)+"ms"},memory:{used:this.formatBytes(t.memory.used),peak:this.formatBytes(t.memory.peak),available:this.formatBytes(t.memory.available)},duration:this.formatDuration(t.timing.totalDuration)}}formatBytes(t){if(t===0)return"0 B";const n=1024,r=["B","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,s)).toFixed(2))+" "+r[s]}formatDuration(t){if(t<1e3)return t+"ms";if(t<6e4)return(t/1e3).toFixed(1)+"s";const n=Math.floor(t/6e4),r=(t%6e4/1e3).toFixed(0);return`${n}m ${r}s`}exportMetrics(){return{metrics:this.getMetrics(),history:this.getHistory(),summary:this.getPerformanceSummary(),exportTime:new Date().toISOString()}}reset(){this.metrics={uploads:{total:0,successful:0,failed:0,totalBytes:0,averageSpeed:0,averageTime:0},cache:{hits:0,misses:0,hitRate:0,totalItems:0,memoryUsage:0},network:{requests:0,errors:0,averageResponseTime:0,slowestRequest:0},memory:{used:0,peak:0,available:0},timing:{startTime:null,lastUpdate:null,totalDuration:0}},this.history=[],console.log(" Performance metrics reset")}}const os=new the,C7=new pD;let nhe=class{constructor(){this.cache=new Map,this.maxSize=100}async getFileHash(e){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(r=>r.toString(16).padStart(2,"0")).join("")}async get(e,t=""){const n=`${await this.getFileHash(e)}::${t}`;return this.cache.get(n)}async set(e,t,n=""){const r=`${await this.getFileHash(e)}::${n}`;if(this.cache.size>=this.maxSize){const s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(r,t)}clear(){this.cache.clear()}};const mw=new nhe,E7={Background:["Blue","Red","Green","Purple","Orange","Yellow","Pink","Black","White","Gradient"],Body:["Alien","Ape","Zombie","Robot","Human","Cat","Dog","Bear","Pig","Frog"],Eyes:["Blue","Green","Brown","Red","Yellow","Purple","Pink","Black","White","Laser"],Mouth:["Smile","Frown","Open","Closed","Tongue","Pipe","Cigar","None"],Hat:["Cap","Beanie","Fedora","Crown","Helmet","Bandana","None"],Clothing:["T-Shirt","Suit","Hoodie","Jacket","Dress","None"],Accessory:["Glasses","Earring","Necklace","Watch","Tattoo","None"],Rarity:["Common","Uncommon","Rare","Epic","Legendary","Mythic"],Type:["Character","Item","Weapon","Armor","Pet","Vehicle"],Element:["Fire","Water","Earth","Air","Lightning","Ice","Dark","Light"],Season:["Spring","Summer","Fall","Winter"],Mood:["Happy","Sad","Angry","Surprised","Calm","Excited"],Style:["Cartoon","Realistic","Pixel","Anime","Abstract","Minimalist"],Color:["Red","Blue","Green","Yellow","Purple","Orange","Pink","Black","White","Gold","Silver"],Pattern:["Stripes","Dots","Zigzag","Solid","Gradient","Camouflage","Geometric"],Material:["Metal","Wood","Plastic","Fabric","Glass","Stone","Leather"],Size:["Tiny","Small","Medium","Large","Huge","Massive"],Age:["Baby","Young","Adult","Elder","Ancient"],Gender:["Male","Female","Non-binary","Unknown"],Class:["Warrior","Mage","Archer","Rogue","Paladin","Druid","Monk"],Faction:["Alliance","Horde","Neutral","Chaos","Order","Nature"]},rhe=({trait_type:e,value:t,description:n,onChange:r,onRemove:s,index:a})=>{const[i,o]=j.useState(!1),[c,u]=j.useState(!1),[h,f]=j.useState([]),[p,g]=j.useState(()=>{const S=localStorage.getItem("recent_attributes");return S?JSON.parse(S):{}}),b=S=>{const T=E7[S]||[],P=p[S]||[];return[...new Set([...P,...T])]},y=(S,T)=>{if(!S||!T)return;const P={...p};P[S]||(P[S]=[]),P[S]=[T,...P[S].filter(I=>I!==T)].slice(0,10),g(P),localStorage.setItem("recent_attributes",JSON.stringify(P))},w=S=>{if(r("trait_type",S),S){const T=b(S);f(T),o(!0)}else o(!1)},v=S=>{w(S),o(!1)},N=S=>{r("value",S),S&&e&&y(e,S)},A=S=>{N(S),u(!1)},C=()=>{if(e){const S=b(e);f(S),u(!0)}},k=S=>{setTimeout(()=>{S==="trait"?o(!1):S==="value"&&u(!1)},150)};return l.jsxs("div",{className:"flex flex-col gap-2 mt-2 p-3 border border-zinc-600 rounded-lg bg-zinc-800/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-xs text-zinc-400 font-medium",children:["Attribute #",a+1]}),l.jsx("button",{onClick:s,className:"px-2 py-1 text-red-400 hover:text-red-300 transition-colors text-xs",children:"Remove"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",placeholder:"Trait (e.g., Background)",value:e,onChange:S=>w(S.target.value),onFocus:()=>{e&&o(!0)},onBlur:()=>k("trait"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),e&&l.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:l.jsx(kv,{size:16,className:"text-zinc-400"})}),i&&e&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:Object.keys(E7).filter(S=>S.toLowerCase().includes(e.toLowerCase())).map(S=>l.jsx("div",{onClick:()=>v(S),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white",children:S},S))})]}),l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",placeholder:"Value",value:t,onChange:S=>N(S.target.value),onFocus:C,onBlur:()=>k("value"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),c&&h.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:h.map(S=>l.jsxs("div",{onClick:()=>A(S),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white flex items-center justify-between",children:[l.jsx("span",{children:S}),p[e]?.includes(S)&&l.jsx(KC,{size:14,className:"text-green-400"})]},S))})]})]}),l.jsx("input",{type:"text",placeholder:"Description for this attribute (optional)",value:n,onChange:S=>r("description",S.target.value),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})]})},A7=500,gD=({collection:e,onSuccess:t})=>{const[n,r]=j.useState(""),[s,a]=j.useState(1),[i,o]=j.useState([]),[c,u]=j.useState(null),[h,f]=j.useState(!1),[p,g]=j.useState(!1),[b,y]=j.useState(!1),[w,v]=j.useState(0),[N,A]=j.useState(""),[C,k]=j.useState(!1),S=j.useRef(null);Xr(),j.useEffect(()=>{console.log(" Loading collection info:",e),e&&e.name?(console.log(" Setting collection name:",e.name),r(e.name)):(console.log(" No collection or collection name provided"),r(""))},[e]);const T=(G,K,$)=>{const Z=[...i];Z[G][K]=$,console.log(` Updating attribute ${G+1}:`,{field:K,value:$}),console.log(" Updated attributes:",Z),o(Z)},P=()=>{const G={trait_type:"",value:"",description:""},K=[...i,G];console.log(" Adding attribute:",G),console.log(" Total attributes now:",K.length),o(K)},I=async G=>{const K=G.target.files[0];if(K){y(!0);try{console.log(" Processing uploaded file:",K.name);let $=K;if(K.type.startsWith("image/")&&K.size>1024*1024){console.log(" Optimizing image...");try{$=await C7.optimizeImage(K,.8),console.log(` Image optimized: ${K.size} -> ${$.size} bytes`)}catch(Z){console.warn(" Image optimization failed, using original:",Z),$=K}}await new Promise(Z=>setTimeout(Z,300)),u($),console.log(" File processed successfully")}catch($){console.error(" Error processing file:",$)}finally{y(!1)}}},M=G=>G?G.startsWith("ipfs://")?[`https://gateway.lighthouse.storage/ipfs/${G.replace("ipfs://","")}`]:[G]:[],W=async G=>{for(const K of G)try{const $=await fetch(K);if($.ok)return await $.json()}catch{}throw new Error("All IPFS gateways failed")},z=()=>{const G=C7.getOptimizationStats(),K=os.getMetrics();return{optimizer:G,performance:K,cache:{hits:mw.cache.size,maxSize:mw.maxSize}}},B=async(G,K,$,Z)=>{console.log(" Uploading file to backend:",G.name,G.size,G.type);const ee=()=>{try{const ue=typeof window<"u",re=ue&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),ie=ue&&String(window.location.port)==="5173";if(re&&ie)return"";const pe="http://localhost:3000";if(pe&&typeof pe=="string"&&pe.trim()){const oe=pe.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(oe))return oe}}catch{}return""},L=ue=>{const re=ee(),ie=ue.startsWith("/")?ue:`/${ue}`;return re?`${re}${ie}`:ie},V=new FormData;V.append("file",G),V.append("name",K),V.append("description",`A unique NFT from the ${K} collection`),V.append("attributes",JSON.stringify(Z)),V.append("quantity",$.toString());const Q=await fetch(L("/api/pin-nft"),{method:"POST",body:V});if(!Q.ok){const ue=await Q.json().catch(()=>({}));throw console.error(" NFT upload failed:",ue),new Error("Failed to upload NFT to backend server")}const Y=await Q.json();console.log(" NFT uploaded successfully:",Y);const ae=Array.isArray(Y.metadataUrls)?Y.metadataUrls:[];if(ae.length===0)throw new Error("Backend did not return metadataUrls");return ae},O=async(G,K,$,Z)=>{console.log(" Using optimized upload with caching for SingleNFT..."),os.start();const ee=Date.now();try{const L=JSON.stringify({name:K,quantity:$,attributes:Z}),V=await mw.get(G,L);if(V)return console.log(" Cache hit for SingleNFT file (with params)"),os.recordCacheHit(),V;os.recordCacheMiss();const Q=await B(G,K,$,Z);await mw.set(G,Q,L);const Y=Date.now()-ee;return os.recordSuccessfulUpload(G.size,Y),Q}catch(L){throw os.recordFailedUpload(G.size,L),L}finally{os.stop()}},F=async()=>{const G=Math.max(1,parseInt(s||1,10));if(!c||!n||G<1||isNaN(G)){alert("Please upload an image and fill in all required fields.");return}if(G>A7){alert(`You can upload a maximum of ${A7} NFTs at once. Please reduce the quantity.`);return}try{f(!0),g(!0),v(0),A("Preparing upload..."),v(20),A("Uploading image to IPFS...");const K=await O(c,n,G,i);v(60),A("Processing metadata..."),await new Promise(ae=>setTimeout(ae,500)),v(80),A("Saving NFTs locally...");const $=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`))||[];console.log(" Existing NFTs in localStorage:",$.length);const Z=$.map(ae=>{const ue=ae.name?.match(/#(\d+)$/);return ue?parseInt(ue[1],10):null}).filter(ae=>ae!==null).sort((ae,ue)=>ae-ue);console.log(" Existing numbers:",Z);let ee=1;if(Z.length>0){for(let ae=1;ae<=Math.max(...Z)+1;ae++)if(!Z.includes(ae)){ee=ae;break}}console.log(" Starting NFT numbering from:",ee),console.log(" Processing",K.length,"metadata URLs");let L="",V="";for(let ae=0;ae<K.length;ae++){const ue=K[ae];let re="",ie;const pe=80+Math.round(ae/K.length*15);v(pe),A(`Processing NFT ${ae+1}/${K.length}...`),console.log(` Processing NFT ${ae+1}/${K.length}:`,ue);try{const he=M(ue);console.log(" IPFS URLs:",he),ie=await W(he),console.log(" Metadata fetched:",ie.name),re=ie.image?M(ie.image)[0]:"",console.log(" Image URL:",re),ae===0&&(L=re,V=ue)}catch(he){console.error(" Metadata fetch failed for NFT",ae+1,":",he.message),re=ue,ae===0&&(L=re,V=ue)}const oe={id:Date.now()+ae,name:`${n} #${ee+ae}`,description:i.map(he=>he.description).join(" "),tokenURI:ue,image:re,quantity:1,attributes:[...i],price:0,status:"draft",type:"single"};console.log(" Saving NFT:",oe.name,"with ID:",oe.id),$.push(oe)}console.log(" Saving",$.length,"NFTs to localStorage"),v(95),A("Saving to local storage..."),localStorage.setItem(`collection_${e.address}_nfts`,JSON.stringify($));const Q=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`))||[];console.log(" Verification: Saved",Q.length,"NFTs to localStorage"),v(100),A(" Upload complete!");const Y=z();if(console.log(" SingleNFT Optimization Stats:",Y),t){const ae={type:"single",collection:e,nft:{name:n,quantity:G,attributes:i,imageUrl:L,metadataUrl:V},timestamp:new Date().toISOString(),optimizationStats:Y};t(ae)}}catch(K){console.error(K),alert("Failed to upload NFT metadata to IPFS."),A(" Upload failed")}finally{g(!1)}};return l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Single NFT Upload"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[l.jsxs("div",{className:"flex-shrink-0",children:[l.jsx("label",{className:"text-sm text-zinc-400 block mb-2",children:"Upload image *"}),l.jsxs("div",{className:`w-[160px] h-[144px] bg-zinc-900 border border-zinc-600 rounded-xl flex items-center justify-center cursor-pointer overflow-hidden ${b?"ring-2 ring-blue-500 bg-blue-900/20":""} ${p?"ring-2 ring-green-500 bg-green-900/20":""}`,onClick:()=>!b&&!p&&S.current.click(),children:[p?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-green-400 border-t-transparent rounded-full animate-spin"}),l.jsx("div",{className:"text-green-400 text-xs",children:"Uploading..."})]}):b?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),l.jsx("div",{className:"text-blue-400 text-xs",children:"Processing..."})]}):c?l.jsx("img",{src:URL.createObjectURL(c),alt:"preview",className:"object-cover w-full h-full"}):l.jsx("img",{src:fD,alt:"upload",className:"w-8 h-8 opacity-70"}),l.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:I,disabled:b||p,className:"hidden"})]})]}),l.jsxs("div",{className:"flex-1 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-zinc-400 mb-1 block",children:"Name *"}),l.jsx("input",{type:"text",value:n,onChange:G=>r(G.target.value),placeholder:e?"Collection name should appear here...":"Enter NFT name",className:`w-full p-3 rounded-xl bg-zinc-800 border text-white text-sm ${e&&!n?"border-yellow-500/50":"border-zinc-600"}`}),e&&!n&&l.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:" Collection name not found. Please enter a name manually."})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{type:"button",onClick:P,className:"text-sm font-medium rounded-lg border border-purple-600 px-4 py-2 text-purple-400 hover:bg-purple-900 hover:text-white transition",children:["Add Attribute (",i.length,")"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-zinc-400",children:"Quantity"}),l.jsx("input",{type:"number",min:1,value:isNaN(s)?"":s,onChange:G=>a(parseInt(G.target.value)),className:"w-20 p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})]})]}),i.length>0&&l.jsxs("div",{className:"text-sm text-zinc-400 mb-2",children:["Attributes: ",i.length," ",i.length===1?"attribute":"attributes"," added"]}),i.map((G,K)=>l.jsx(rhe,{trait_type:G.trait_type,value:G.value,description:G.description,onChange:($,Z)=>T(K,$,Z),onRemove:()=>o(i.filter(($,Z)=>Z!==K)),index:K},K)),i.length===0&&l.jsx("div",{className:"text-center py-4 text-zinc-500 text-sm border border-dashed border-zinc-700 rounded-lg",children:'No attributes added yet. Click "Add Attribute" to start adding traits like Background, Body, Eyes, etc.'}),l.jsx("button",{onClick:F,disabled:p,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:p?"Uploading...":"Publish NFT"})]})]}),s>10&&l.jsxs("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"font-semibold",children:"Performance Optimization Active"})]}),l.jsxs("p",{className:"text-sm text-blue-300",children:["Large quantity detected (",s," NFTs). Using smart caching for faster upload."]}),l.jsx("div",{className:"mt-2 text-xs text-blue-400",children:" Smart caching: Enabled  File processing: Optimized"})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[9998] p-4",children:l.jsx("div",{className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[w===100?l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):l.jsx("div",{className:"mb-4",children:l.jsx(eE,{type:"uploading",size:"lg"})}),l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:w===100?"NFT Uploaded!":"Uploading NFT..."}),l.jsx("p",{className:"text-zinc-400 text-sm",children:w===100?"Your NFT has been successfully uploaded to IPFS":"Please wait while we process your NFT"})]}),w<100&&l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${w}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[w,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400",children:N})]})]}),w===100&&l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),l.jsx("p",{className:"text-zinc-300 text-sm",children:"Your NFT is now live on IPFS"})]})}),w===100&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{f(!1)},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t?"Continue to Studio Dashboard":"Continue"]})]}),l.jsx("button",{onClick:()=>f(!1),className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]}),l.jsx("button",{onClick:()=>{w<100?k(!0):f(!1)},className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:24})})]})})}),l.jsx(tE,{isVisible:C,onConfirm:()=>{k(!1),f(!1)},onCancel:()=>k(!1),title:"Cancel Upload Process",message:"Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over. This action cannot be undone."})]})};class she{constructor(t={}){this.chunkSize=t.chunkSize||1024*1024,this.maxConcurrentChunks=t.maxConcurrentChunks||3,this.onProgress=t.onProgress||(()=>{}),this.onChunk=t.onChunk||(()=>{})}async processFileStream(t){const n=t.stream().getReader(),r=[];let s=0,a=0;try{for(;;){const{done:u,value:h}=await n.read();if(u)break;r.push(h),s+=h.length,a+=h.length,this.onProgress({processed:a,total:t.size,percentage:a/t.size*100})}const i=new ArrayBuffer(s),o=new Uint8Array(i);let c=0;for(const u of r)o.set(u,c),c+=u.length;return i}finally{n.releaseLock()}}async processFilesParallel(t){const n=new ahe(this.maxConcurrentChunks),r=[],s=t.map(async(a,i)=>{await n.acquire();try{const o=await this.processFileStream(a);return r[i]={file:a,result:o,index:i},o}finally{n.release()}});return await Promise.all(s),r.filter(Boolean)}async uploadStream(t,n,r={}){const{onProgress:s,chunkSize:a=this.chunkSize}=r,i=t.stream().getReader(),o=[];let c=0;try{for(;;){const{done:u,value:h}=await i.read();if(u)break;o.push(h),c+=h.length,o.length>=a&&(await this.uploadChunk(o,n),o.length=0,s&&s({uploaded:c,total:t.size}))}o.length>0&&await this.uploadChunk(o,n)}finally{i.releaseLock()}}async uploadChunk(t,n){const r=new Blob(t),s=new FormData;s.append("chunk",r);const a=await fetch(n,{method:"POST",body:s});if(!a.ok)throw new Error(`Upload failed: ${a.status}`);return a.json()}}let ahe=class{constructor(e){this.max=e,this.current=0,this.queue=[]}async acquire(){return this.current<this.max?(this.current++,Promise.resolve()):new Promise(e=>{this.queue.push(e)})}release(){this.current--,this.queue.length>0&&(this.current++,this.queue.shift()())}};class ihe{constructor(t={}){this.maxSize=t.maxSize||100,this.maxMemory=t.maxMemory||100*1024*1024,this.ttl=t.ttl||1440*60*1e3,this.compression=t.compression!==!1,this.cache=new Map,this.indexes=new Map,this.accessOrder=[],this.stats={hits:0,misses:0,sets:0,deletes:0,compressions:0},this.cleanupInterval=setInterval(()=>{this.cleanup()},300*1e3)}generateKey(t){return typeof t=="string"?t:t instanceof File?`file_${t.name}_${t.size}_${t.lastModified}`:t instanceof ArrayBuffer?`buffer_${t.byteLength}`:JSON.stringify(t)}async compress(t){if(!this.compression)return t;try{if(typeof t=="string"){const n=new TextEncoder().encode(t),r=await this.compressUint8Array(n);return this.stats.compressions++,r}if(t instanceof ArrayBuffer){const n=new Uint8Array(t),r=await this.compressUint8Array(n);return this.stats.compressions++,r}return t}catch(n){return console.warn("Compression failed, using original data:",n),t}}async compressUint8Array(t){const n=new CompressionStream("gzip"),r=n.writable.getWriter(),s=n.readable.getReader();r.write(t),r.close();const a=[];for(;;){const{done:c,value:u}=await s.read();if(c)break;a.push(u)}const i=new Uint8Array(a.reduce((c,u)=>c+u.length,0));let o=0;for(const c of a)i.set(c,o),o+=c.length;return i.buffer}async decompress(t){if(!this.compression||!(t instanceof ArrayBuffer))return t;try{const n=new Uint8Array(t),r=new DecompressionStream("gzip"),s=r.writable.getWriter(),a=r.readable.getReader();s.write(n),s.close();const i=[];for(;;){const{done:u,value:h}=await a.read();if(u)break;i.push(h)}const o=new Uint8Array(i.reduce((u,h)=>u+h.length,0));let c=0;for(const u of i)o.set(u,c),c+=u.length;return new TextDecoder().decode(o)}catch(n){return console.warn("Decompression failed, returning original data:",n),t}}async set(t,n,r={}){const s=this.generateKey(t),a=r.ttl||this.ttl,i=await this.compress(n),o={value:i,timestamp:Date.now(),expiresAt:Date.now()+a,accessCount:0,lastAccessed:Date.now(),size:this.calculateSize(i),originalSize:this.calculateSize(n)};return this.shouldEvict(o.size)&&this.evict(),this.cache.set(s,o),this.updateAccessOrder(s),this.updateIndexes(s,n),this.stats.sets++,s}async get(t){const n=this.generateKey(t),r=this.cache.get(n);return r?Date.now()>r.expiresAt?(this.delete(n),this.stats.misses++,null):(r.accessCount++,r.lastAccessed=Date.now(),this.updateAccessOrder(n),this.stats.hits++,await this.decompress(r.value)):(this.stats.misses++,null)}delete(t){const n=this.generateKey(t);this.cache.get(n)&&(this.cache.delete(n),this.removeFromAccessOrder(n),this.removeFromIndexes(n),this.stats.deletes++)}has(t){const n=this.generateKey(t),r=this.cache.get(n);return r?Date.now()>r.expiresAt?(this.delete(n),!1):!0:!1}clear(){this.cache.clear(),this.indexes.clear(),this.accessOrder=[]}getStats(){const t=this.cache.size,n=this.getTotalMemory(),r=this.stats.hits/(this.stats.hits+this.stats.misses)||0;return{...this.stats,totalItems:t,totalMemory:n,hitRate:r*100,compressionRatio:this.getCompressionRatio()}}search(t){const n=[];for(const[r,s]of this.indexes)if(r.includes(t)||t.includes(r))for(const a of s){const i=this.cache.get(a);i&&Date.now()<=i.expiresAt&&n.push({key:a,entry:i})}return n}calculateSize(t){return typeof t=="string"?new TextEncoder().encode(t).length:t instanceof ArrayBuffer?t.byteLength:t instanceof File?t.size:JSON.stringify(t).length}shouldEvict(t){return this.getTotalMemory()+t>this.maxMemory||this.cache.size>=this.maxSize}getTotalMemory(){let t=0;for(const n of this.cache.values())t+=n.size;return t}getCompressionRatio(){let t=0,n=0;for(const r of this.cache.values())t+=r.originalSize,n+=r.size;return t>0?n/t*100:100}updateAccessOrder(t){this.removeFromAccessOrder(t),this.accessOrder.push(t)}removeFromAccessOrder(t){const n=this.accessOrder.indexOf(t);n>-1&&this.accessOrder.splice(n,1)}updateIndexes(t,n){if(typeof n=="string"){const a=n.toLowerCase().split(/\s+/);for(const i of a)i.length>2&&(this.indexes.has(i)||this.indexes.set(i,new Set),this.indexes.get(i).add(t))}const r=this.calculateSize(n),s=this.getSizeRange(r);this.indexes.has(s)||this.indexes.set(s,new Set),this.indexes.get(s).add(t)}removeFromIndexes(t){for(const n of this.indexes.values())n.delete(t)}getSizeRange(t){return t<1024?"small":t<1024*1024?"medium":t<10*1024*1024?"large":"huge"}evict(){for(;this.shouldEvict(0)&&this.accessOrder.length>0;){const t=this.accessOrder.shift();this.delete(t)}}cleanup(){const t=Date.now(),n=[];for(const[r,s]of this.cache.entries())t>s.expiresAt&&n.push(r);for(const r of n)this.delete(r);n.length>0&&console.log(`Cleaned up ${n.length} expired cache entries`)}destroy(){this.cleanupInterval&&clearInterval(this.cleanupInterval),this.clear()}}class ohe extends ihe{constructor(t={}){super({maxSize:t.maxSize||50,maxMemory:t.maxMemory||500*1024*1024,ttl:t.ttl||10080*60*1e3,compression:!0,...t})}async setFile(t,n={}){const r=await this.generateFileKey(t),s={file:t,metadata:{name:t.name,size:t.size,type:t.type,lastModified:t.lastModified,...n}};return this.set(r,s)}async getFile(t){return(await this.get(t))?.file||null}async generateFileKey(t){const n=await t.arrayBuffer(),r=await crypto.subtle.digest("SHA-256",n);return`file_${Array.from(new Uint8Array(r)).map(s=>s.toString(16).padStart(2,"0")).join("")}`}searchByType(t){const n=[];for(const[r,s]of this.cache.entries())s.value?.metadata?.type===t&&n.push({key:r,entry:s});return n}searchBySize(t,n){const r=[];for(const[s,a]of this.cache.entries()){const i=a.value?.metadata?.size;i>=t&&i<=n&&r.push({key:s,entry:a})}return r}}class lhe{constructor(){this.isMobile=this.detectMobile(),this.isLowEnd=this.detectLowEndDevice(),this.connectionSpeed=this.detectConnectionSpeed(),this.batteryLevel=null,this.batteryCharging=!1,this.initializeBatteryMonitoring(),this.initializeConnectionMonitoring()}detectMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768}detectLowEndDevice(){const t=navigator.deviceMemory||4,n=navigator.hardwareConcurrency||4,r=t<4||n<4;return console.log(` Device specs: ${t}GB RAM, ${n} cores, Low-end: ${r}`),r}detectConnectionSpeed(){if("connection"in navigator){const t=navigator.connection,n=t.effectiveType||"unknown",r=t.downlink||10;return console.log(` Connection: ${n}, ${r}Mbps`),n==="slow-2g"||n==="2g"||r<1?"slow":n==="3g"||r<5?"medium":"fast"}return"unknown"}async initializeBatteryMonitoring(){if("getBattery"in navigator)try{const t=await navigator.getBattery();this.batteryLevel=t.level,this.batteryCharging=t.charging,t.addEventListener("levelchange",()=>{this.batteryLevel=t.level}),t.addEventListener("chargingchange",()=>{this.batteryCharging=t.charging}),console.log(` Battery: ${(this.batteryLevel*100).toFixed(0)}%, Charging: ${this.batteryCharging}`)}catch(t){console.warn("Battery API not available:",t)}}initializeConnectionMonitoring(){"connection"in navigator&&navigator.connection.addEventListener("change",()=>{this.connectionSpeed=this.detectConnectionSpeed(),console.log(` Connection changed: ${this.connectionSpeed}`)})}getOptimalSettings(){const t={batchSize:25,maxConcurrentUploads:3,compressionLevel:"medium",imageQuality:.8,useWebWorker:!0,useStreaming:!1,cacheSize:50,retryAttempts:3,retryDelay:1e3};return this.isMobile&&(t.batchSize=10,t.maxConcurrentUploads=2,t.cacheSize=25,this.isLowEnd&&(t.batchSize=5,t.maxConcurrentUploads=1,t.useWebWorker=!1,t.cacheSize=10,t.retryAttempts=2),this.connectionSpeed==="slow"&&(t.batchSize=3,t.maxConcurrentUploads=1,t.compressionLevel="high",t.imageQuality=.6,t.retryDelay=2e3),this.batteryLevel!==null&&this.batteryLevel<.2&&!this.batteryCharging&&(t.batchSize=Math.max(2,t.batchSize/2),t.maxConcurrentUploads=1,t.useWebWorker=!1,console.log(" Low battery detected, reducing performance"))),console.log(" Optimal settings:",t),t}async optimizeImage(t,n=.8){return this.isMobile?new Promise(r=>{const s=document.createElement("canvas"),a=s.getContext("2d"),i=new Image;i.onload=()=>{const o=this.isLowEnd?800:1200,c=this.isLowEnd?600:900;let{width:u,height:h}=i;if(u>o||h>c){const f=Math.min(o/u,c/h);u*=f,h*=f}s.width=u,s.height=h,a.drawImage(i,0,0,u,h),s.toBlob(f=>{const p=new File([f],t.name,{type:t.type,lastModified:Date.now()});console.log(` Image optimized: ${t.size} -> ${p.size} bytes`),r(p)},t.type,n)},i.src=URL.createObjectURL(t)}):t}async optimizeFiles(t){if(!this.isMobile)return t;const n=this.getOptimalSettings(),r=[];for(let s=0;s<t.length;s++){const a=t[s];if(a.type.startsWith("image/")){const i=await this.optimizeImage(a,n.imageQuality);r.push(i)}else r.push(a)}return r}getRecommendations(){const t=[];return this.isMobile&&(t.push(" Mobile device detected - using optimized settings"),this.isLowEnd&&t.push(" Low-end device detected - reduced batch size and performance"),this.connectionSpeed==="slow"&&t.push(" Slow connection detected - increased compression and reduced batch size"),this.batteryLevel!==null&&this.batteryLevel<.2&&!this.batteryCharging&&t.push(" Low battery - consider charging or reducing upload size")),t}canUpload(){return this.batteryLevel!==null&&this.batteryLevel<.1&&!this.batteryCharging?{canUpload:!1,reason:"Battery too low (less than 10%)"}:this.connectionSpeed==="slow"&&this.isLowEnd?{canUpload:!0,reason:"Slow connection and low-end device - uploads may be slow"}:{canUpload:!0,reason:"Ready to upload"}}getDeviceInfo(){return{isMobile:this.isMobile,isLowEnd:this.isLowEnd,connectionSpeed:this.connectionSpeed,batteryLevel:this.batteryLevel,batteryCharging:this.batteryCharging,userAgent:navigator.userAgent,screenSize:`${window.innerWidth}x${window.innerHeight}`,memory:navigator.deviceMemory||"unknown",cores:navigator.hardwareConcurrency||"unknown"}}}const Kp=new lhe,che=({isVisible:e=!1,onClose:t})=>{const[n,r]=j.useState(null),[s,a]=j.useState(!1),[i,o]=j.useState(!0);if(j.useEffect(()=>{if(!e)return;const u=()=>{const h=os.getMetrics(),f=os.getPerformanceSummary();r({...h,summary:f})};if(u(),i){const h=setInterval(u,2e3);return()=>clearInterval(h)}},[e,i]),!e||!n)return null;const{summary:c}=n;return l.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!s&&l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-3 shadow-2xl",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vd,{size:16,className:"text-blue-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Performance"})]}),l.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(cx,{size:12,className:"text-green-400"}),l.jsxs("span",{className:"text-green-400",children:[c.uploads.successRate,"%"]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ux,{size:12,className:"text-purple-400"}),l.jsx("span",{className:"text-purple-400",children:c.cache.hitRate})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(mx,{size:12,className:"text-blue-400"}),l.jsxs("span",{className:"text-blue-400",children:[c.network.errorRate,"%"]})]})]}),l.jsx("button",{onClick:()=>a(!0),className:"text-xs text-zinc-400 hover:text-white transition-colors",children:"Expand"}),t&&l.jsx("button",{onClick:t,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:""})]})}),s&&l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-4 shadow-2xl w-80",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vd,{size:18,className:"text-blue-400"}),l.jsx("span",{className:"text-sm text-white font-semibold",children:"Performance Monitor"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>o(!i),className:`text-xs px-2 py-1 rounded ${i?"bg-green-600 text-white":"bg-zinc-700 text-zinc-300"}`,children:"Auto"}),l.jsx("button",{onClick:()=>a(!1),className:"text-xs text-zinc-400 hover:text-white transition-colors",children:"Collapse"}),t&&l.jsx("button",{onClick:t,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:""})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(cx,{size:14,className:"text-green-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Uploads"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Total:"}),l.jsx("span",{className:"text-white ml-1",children:c.uploads.total})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Success:"}),l.jsxs("span",{className:"text-green-400 ml-1",children:[c.uploads.successRate,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Speed:"}),l.jsx("span",{className:"text-blue-400 ml-1",children:c.uploads.averageSpeed})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Data:"}),l.jsx("span",{className:"text-purple-400 ml-1",children:c.uploads.totalData})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ux,{size:14,className:"text-purple-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Cache"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Hit Rate:"}),l.jsx("span",{className:"text-purple-400 ml-1",children:c.cache.hitRate})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Items:"}),l.jsx("span",{className:"text-white ml-1",children:c.cache.items})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Memory:"}),l.jsx("span",{className:"text-blue-400 ml-1",children:c.cache.memory})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(mx,{size:14,className:"text-blue-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Network"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Requests:"}),l.jsx("span",{className:"text-white ml-1",children:c.network.requests})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Errors:"}),l.jsxs("span",{className:"text-red-400 ml-1",children:[c.network.errorRate,"%"]})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Avg Response:"}),l.jsx("span",{className:"text-green-400 ml-1",children:c.network.averageResponseTime})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(d6,{size:14,className:"text-orange-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Memory"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Used:"}),l.jsx("span",{className:"text-orange-400 ml-1",children:c.memory.used})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Peak:"}),l.jsx("span",{className:"text-red-400 ml-1",children:c.memory.peak})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Available:"}),l.jsx("span",{className:"text-green-400 ml-1",children:c.memory.available})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(gm,{size:14,className:"text-yellow-400"}),l.jsx("span",{className:"text-xs text-white font-medium",children:"Duration"})]}),l.jsxs("div",{className:"text-xs",children:[l.jsx("span",{className:"text-zinc-400",children:"Total Time:"}),l.jsx("span",{className:"text-yellow-400 ml-1",children:c.duration})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>{const u=os.exportMetrics(),h=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),f=URL.createObjectURL(h),p=document.createElement("a");p.href=f,p.download=`performance-metrics-${new Date().toISOString().split("T")[0]}.json`,p.click(),URL.revokeObjectURL(f)},className:"flex-1 text-xs bg-blue-600 hover:bg-blue-700 text-white py-2 px-3 rounded transition-colors",children:"Export"}),l.jsx("button",{onClick:()=>{os.reset(),r(null)},className:"flex-1 text-xs bg-red-600 hover:bg-red-700 text-white py-2 px-3 rounded transition-colors",children:"Reset"})]})]})]})]})},uhe=({isVisible:e=!1,onClose:t})=>{const[n,r]=j.useState(null);if(j.useEffect(()=>{if(e){const o={features:Nn,flags:jn,supported:Object.keys(Nn).filter(c=>Nn[c]),enabled:Object.keys(jn).filter(c=>jn[c])};r(o)}},[e]),!e||!n)return null;const s=(o,c)=>o&&c?l.jsx(Ji,{size:16,className:"text-green-400"}):o&&!c?l.jsx(to,{size:16,className:"text-yellow-400"}):l.jsx(Zce,{size:16,className:"text-red-400"}),a=(o,c)=>o&&c?"Active":o&&!c?"Available":"Not Supported",i=(o,c)=>o&&c?"text-green-400":o&&!c?"text-yellow-400":"text-red-400";return l.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md border border-zinc-700/30 rounded-2xl p-4 shadow-2xl w-80",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(px,{size:18,className:"text-blue-400"}),l.jsx("span",{className:"text-sm text-white font-semibold",children:"Optimization Status"})]}),t&&l.jsx("button",{onClick:t,className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:""})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(d6,{size:14,className:"text-purple-400"}),l.jsx("span",{className:"text-xs text-white",children:"WebAssembly"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.webAssembly,jn.enableWasm),l.jsx("span",{className:`text-xs ${i(Nn.webAssembly,jn.enableWasm)}`,children:a(Nn.webAssembly,jn.enableWasm)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ux,{size:14,className:"text-blue-400"}),l.jsx("span",{className:"text-xs text-white",children:"Service Worker"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.serviceWorker,jn.enableServiceWorker),l.jsx("span",{className:`text-xs ${i(Nn.serviceWorker,jn.enableServiceWorker)}`,children:a(Nn.serviceWorker,jn.enableServiceWorker)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(px,{size:14,className:"text-green-400"}),l.jsx("span",{className:"text-xs text-white",children:"SharedArrayBuffer"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.sharedArrayBuffer,jn.enableSharedArrayBuffer),l.jsx("span",{className:`text-xs ${i(Nn.sharedArrayBuffer,jn.enableSharedArrayBuffer)}`,children:a(Nn.sharedArrayBuffer,jn.enableSharedArrayBuffer)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mx,{size:14,className:"text-orange-400"}),l.jsx("span",{className:"text-xs text-white",children:"WebTransport"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.webTransport,jn.enableWebTransport),l.jsx("span",{className:`text-xs ${i(Nn.webTransport,jn.enableWebTransport)}`,children:a(Nn.webTransport,jn.enableWebTransport)})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-800/30 rounded-xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(d6,{size:14,className:"text-cyan-400"}),l.jsx("span",{className:"text-xs text-white",children:"Compression"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[s(Nn.compressionStreams,jn.enableCompression),l.jsx("span",{className:`text-xs ${i(Nn.compressionStreams,jn.enableCompression)}`,children:a(Nn.compressionStreams,jn.enableCompression)})]})]})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-zinc-700",children:l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Supported"}),l.jsx("div",{className:"text-white font-medium",children:n.supported.length})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Enabled"}),l.jsx("div",{className:"text-white font-medium",children:n.enabled.length})]})]})}),l.jsxs("div",{className:"mt-3 text-xs text-zinc-400",children:[n.supported.length<3&&l.jsx("div",{className:"text-yellow-400 mb-1",children:" Consider updating your browser for better performance"}),n.enabled.length>0&&l.jsxs("div",{className:"text-green-400",children:[" ",n.enabled.length," optimizations active"]})]})]})})},dhe=()=>{try{const e=typeof window<"u",t=e&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),n=e&&String(window.location.port)==="5173";if(t&&n)return"";const r="http://localhost:3000";if(r&&typeof r=="string"&&r.trim()){const s=r.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(s))return s}}catch{}return""},S7=e=>{const t=dhe(),n=e.startsWith("/")?e:`/${e}`;return t?`${t}${n}`:n},Tf=new ohe({maxSize:100,maxMemory:500*1024*1024,ttl:10080*60*1e3,compression:!0}),hhe=new she({chunkSize:1024*1024,maxConcurrentChunks:5,onProgress:e=>{console.log("Stream progress:",e)}});let fa=null,fhe=0;const mhe=()=>{if(typeof Worker<"u"&&!fa)try{const e=`/workers/upload-worker.js?v=${Date.now()}`;fa=new Worker(e),fa.onmessage=phe,fa.onerror=ghe,console.log(" Web Worker initialized successfully with cache busting")}catch(e){console.warn("Web Worker not available, falling back to main thread:",e)}},phe=e=>{const{type:t,data:n,id:r}=e.data;if(!r)switch(t){case"CACHE_STATS":console.log(" Worker cache stats:",n);break;case"BATCH_PROGRESS":console.log(" Worker batch progress:",n);break;case"BATCH_COMPLETE":console.log(" Worker batch complete:",n);break;case"UPLOAD_COMPLETE":console.log(" Worker upload complete:",n);break;case"ERROR":console.error(" Worker error:",n);break}},ghe=e=>{console.error(" Web Worker error:",e)},yhe=async(e,t,n,r,s={})=>(console.log(" Starting uploadWithWorker..."),console.log(" Files count:",e.length),console.log(" Options:",s),fa?new Promise((a,i)=>{const o=++fhe;console.log(" Generated message ID:",o);const c=setTimeout(()=>{console.error(" Worker timeout after 5 minutes"),i(new Error("Worker timeout"))},3e5),u=f=>{console.log(" Worker message received:",f.data);const{type:p,data:g,id:b}=f.data;if(console.log(" Message details:",{type:p,id:b,messageId:o,match:b===o}),b===o)if(console.log(" Message ID matches, processing response..."),p==="UPLOAD_COMPLETE")console.log(" Worker completed successfully, resolving with data:",g),clearTimeout(c),fa.removeEventListener("message",u),a(g);else if(p==="ERROR"){console.error(" Worker error:",g);let y="Unknown worker error";typeof g=="string"?y=g:g&&g.error?y=g.error:g&&typeof g=="object"&&(y=JSON.stringify(g)),console.error(" Worker error details:",{data:g,errorMessage:y}),clearTimeout(c),fa.removeEventListener("message",u),i(new Error(y))}else console.log(" Progress message received:",p,g);else console.log(" Skipping message with different ID:",b)};fa.addEventListener("message",u);const h={type:"UPLOAD_FILES",data:{files:e,names:t,descriptions:n,allAttributes:r,options:s},id:o};console.log(" Sending message to worker:",h),fa.postMessage(h)}):(console.log(" Falling back to main thread processing"),yD(e,t,n,r))),yD=async(e,t,n,r)=>{console.log(" Using advanced cache and streaming...");const s=await Promise.all(e.map(async(u,h)=>{const f=await Tf.getFile(u);return f?(console.log(` Advanced cache hit for file ${h+1}`),os.recordCacheHit(),{cached:!0,data:f,index:h}):(os.recordCacheMiss(),{cached:!1,file:u,index:h})})),a=s.filter(u=>u.cached),i=s.filter(u=>!u.cached);console.log(` Advanced cache stats: ${a.length} cached, ${i.length} new files`);let o=[];if(i.length>0){const u=i.map(b=>b.file),h=i.map(b=>t[b.index]),f=i.map(b=>n[b.index]),p=i.map(b=>r[b.index]);if(u.some(b=>b.size>10*1024*1024))console.log(" Using streaming for large files..."),o=await bhe(u,h,f,p);else{console.log(" Using parallel processing for small files...");const b=[];for(let y=0;y<u.length;y++){const w=await bD(u[y],h[y],f[y],p[y]);b.push(w)}o={results:b}}const g=i.map((b,y)=>{const w=o.results[y];return w?{...w,index:b.index}:null}).filter(Boolean);for(let b=0;b<i.length;b++){const y=i[b].file,w=g[b];w&&await Tf.setFile(y,w)}o=g}const c=[];for(let u=0;u<e.length;u++){const h=a.find(p=>p.index===u),f=o.find(p=>p.index===u);h?c.push(h.data):f&&c.push(f)}return{success:!0,results:c}},bhe=async(e,t,n,r)=>{const s=[],a=new whe(3),i=e.map(async(o,c)=>{await a.acquire();try{console.log(` Processing large file ${c+1}/${e.length}: ${o.name}`);const u=await hhe.processFileStream(o),h=await bD(o,t[c],n[c],r[c]);return s[c]=h,h}finally{a.release()}});return await Promise.all(i),{results:s.filter(Boolean)}};class whe{constructor(t){this.max=t,this.current=0,this.queue=[]}async acquire(){return this.current<this.max?(this.current++,Promise.resolve()):new Promise(t=>{this.queue.push(t)})}release(){this.current--,this.queue.length>0&&(this.current++,this.queue.shift()())}}const bD=async(e,t,n,r,s=3)=>{for(let a=1;a<=s;a++)try{console.log(` Upload attempt ${a} for file:`,e.name,e.size,e.type);const i=new FormData;i.append("file",e),i.append("name",t),i.append("description",n||""),i.append("quantity","1"),r&&r.length>0&&i.append("attributes",JSON.stringify(r));const o=[S7("/api/pin-nft"),S7("/pin-nft")];let c=null;for(const u of o)try{const h=await fetch(u,{method:"POST",body:i});if(!h.ok){const f=await h.text();console.error(" NFT upload failed:",f),c=new Error(`NFT upload failed: ${h.status} - ${f}`);continue}return await h.json()}catch(h){c=h;continue}throw c||new Error("All endpoints failed")}catch(i){if(console.warn(`Upload attempt ${a} failed:`,i),a===s)throw i;await new Promise(o=>setTimeout(o,500*a))}},j7={Background:["Blue","Red","Green","Purple","Orange","Yellow","Pink","Black","White","Gradient"],Body:["Alien","Ape","Zombie","Robot","Human","Cat","Dog","Bear","Pig","Frog"],Eyes:["Blue","Green","Brown","Red","Yellow","Purple","Pink","Black","White","Laser"],Mouth:["Smile","Frown","Open","Closed","Tongue","Pipe","Cigar","None"],Hat:["Cap","Beanie","Fedora","Crown","Helmet","Bandana","None"],Clothing:["T-Shirt","Suit","Hoodie","Jacket","Dress","None"],Accessory:["Glasses","Earring","Necklace","Watch","Tattoo","None"],Rarity:["Common","Uncommon","Rare","Epic","Legendary","Mythic"],Type:["Character","Item","Weapon","Armor","Pet","Vehicle"],Element:["Fire","Water","Earth","Air","Lightning","Ice","Dark","Light"],Season:["Spring","Summer","Fall","Winter"],Mood:["Happy","Sad","Angry","Surprised","Calm","Excited"],Style:["Cartoon","Realistic","Pixel","Anime","Abstract","Minimalist"],Color:["Red","Blue","Green","Yellow","Purple","Orange","Pink","Black","White","Gold","Silver"],Pattern:["Stripes","Dots","Zigzag","Solid","Gradient","Camouflage","Geometric"],Material:["Metal","Wood","Plastic","Fabric","Glass","Stone","Leather"],Size:["Tiny","Small","Medium","Large","Huge","Massive"],Age:["Baby","Young","Adult","Elder","Ancient"],Gender:["Male","Female","Non-binary","Unknown"],Class:["Warrior","Mage","Archer","Rogue","Paladin","Druid","Monk"],Faction:["Alliance","Horde","Neutral","Chaos","Order","Nature"]},xhe=({trait_type:e,value:t,onChange:n,onRemove:r,index:s})=>{const[a,i]=j.useState(!1),[o,c]=j.useState(!1),[u,h]=j.useState([]),[f,p]=j.useState(()=>{const k=localStorage.getItem("recent_attributes");return k?JSON.parse(k):{}}),g=k=>{const S=j7[k]||[],T=f[k]||[];return[...new Set([...T,...S])]},b=(k,S)=>{if(!k||!S)return;const T={...f};T[k]||(T[k]=[]),T[k]=[S,...T[k].filter(P=>P!==S)].slice(0,10),p(T),localStorage.setItem("recent_attributes",JSON.stringify(T))},y=k=>{if(n("trait_type",k),k){const S=g(k);h(S),i(!0)}else i(!1)},w=k=>{y(k),i(!1)},v=k=>{n("value",k),k&&e&&b(e,k)},N=k=>{v(k),c(!1)},A=()=>{if(e){const k=g(e);h(k),c(!0)}},C=k=>{setTimeout(()=>{k==="trait"?i(!1):k==="value"&&c(!1)},150)};return l.jsxs("div",{className:"flex gap-2 relative",children:[l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",value:e,placeholder:"Trait (e.g., Background)",onChange:k=>y(k.target.value),onFocus:()=>{e&&i(!0)},onBlur:()=>C("trait"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),e&&l.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:l.jsx(kv,{size:16,className:"text-zinc-400"})}),a&&e&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:Object.keys(j7).filter(k=>k.toLowerCase().includes(e.toLowerCase())).map(k=>l.jsx("div",{onClick:()=>w(k),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white",children:k},k))})]}),l.jsxs("div",{className:"w-1/2 relative",children:[l.jsx("input",{type:"text",value:t,placeholder:"Value",onChange:k=>v(k.target.value),onFocus:A,onBlur:()=>C("value"),className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"}),o&&u.length>0&&l.jsx("div",{className:"absolute top-full left-0 right-0 bg-zinc-800 border border-zinc-600 rounded-lg mt-1 max-h-40 overflow-y-auto z-10",children:u.map(k=>l.jsxs("div",{onClick:()=>N(k),className:"px-3 py-2 hover:bg-zinc-700 cursor-pointer text-sm text-white flex items-center justify-between",children:[l.jsx("span",{children:k}),f[e]?.includes(k)&&l.jsx(KC,{size:14,className:"text-green-400"})]},k))})]}),l.jsx("button",{onClick:r,className:"px-2 py-2 text-red-400 hover:text-red-300 transition-colors",children:l.jsx(Jn,{size:16})})]})},wD=({collection:e,onSuccess:t})=>{const[n,r]=j.useState({name:"",description:""}),[s,a]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState(0),[h,f]=j.useState(""),[p,g]=j.useState([]),[b,y]=j.useState(!1),[w,v]=j.useState([]),[N,A]=j.useState(!1),C=j.useRef(null);Xr();const[k,S]=j.useState(1),T=25,P=1e4,[I,M]=j.useState({current:0,total:0,success:0,failed:0}),[W,z]=j.useState(!1),[B,O]=j.useState(!1),[F,G]=j.useState(!1),[K,$]=j.useState([]),[Z,ee]=j.useState(!1),[L,V]=j.useState(!1),Q=j.useRef(null);j.useEffect(()=>{console.log(" Loading collection info:",e),e&&r({name:e.name||"",description:e.description||""});const oe=(JSON.parse(localStorage.getItem(`collection_${e?.address}_nfts`))||[]).map(H=>{const ye=H.name?.match(/#(\d+)$/);return ye?parseInt(ye[1],10):null}).filter(H=>H!==null),he=oe.length?Math.max(...oe)+1:1;S(he),mhe(),os.start();const Ne=Kp.getRecommendations();$(Ne);const Re=k7.getOptimizationStats();console.log(" SafeOptimizer stats:",Re)},[e]),j.useEffect(()=>{if(s.length===0)S(1);else{const oe=s.map((he,Ne)=>({...he,name:`${n.name||"NFT"} #${Ne+1}`}));a(oe)}},[s.length,n.name]),j.useEffect(()=>{b&&setTimeout(()=>{try{Q.current?.focus(),Q.current?.scrollIntoView({block:"center",inline:"nearest"})}catch{}},0)},[b]);const Y=async(oe,he,Ne,Re)=>{console.log(" Using optimized upload with caching...");const H=await Promise.all(oe.map(async(fe,Ie)=>{const je=await Tf.getFile(fe);return je?(console.log(` Cache hit for file ${Ie+1}`),{cached:!0,data:je,index:Ie}):{cached:!1,file:fe,index:Ie}})),ye=H.filter(fe=>fe.cached),ce=H.filter(fe=>!fe.cached);console.log(` Cache stats: ${ye.length} cached, ${ce.length} new files`);let ne=[];if(ce.length>0){const fe=ce.map(ze=>ze.file),Ie=ce.map(ze=>he[ze.index]),je=ce.map(ze=>Ne[ze.index]),be=ce.map(ze=>Re[ze.index]),Be=await yD(fe,Ie,je,be),Me=ce.map((ze,we)=>{const _=Be.results[we];return _?{..._,index:ze.index}:null}).filter(Boolean);for(let ze=0;ze<ce.length;ze++){const we=ce[ze].file,_=Me[ze];_&&await Tf.setFile(we,_)}ne=Me}const se=[];for(let fe=0;fe<oe.length;fe++){const Ie=ye.find(be=>be.index===fe),je=ne.find(be=>be.index===fe);Ie?se.push(Ie.data):je&&se.push(je)}return{success:!0,results:se}},ae=async oe=>{oe.preventDefault();const he=Array.from(oe.dataTransfer?.files||oe.target.files).filter(Ne=>{const Re=Ne.type.startsWith("image/");return Re||console.warn("Skipping non-image file:",Ne.name),Re});if(he.length===0){alert("Please select only image files.");return}ee(!0);try{console.log(` Processing ${he.length} files...`);const Ne=[];for(let H=0;H<he.length;H++){const ye=he[H];console.log(` Optimizing file ${H+1}/${he.length}: ${ye.name}`);const ce=await k7.optimizeImage(ye);Ne.push(ce)}const Re=Ne.map((H,ye)=>{const ce=H.name.split(".").pop()||"png",ne=`${n.name||"NFT"}`,se=k+ye;return{file:H,name:`${ne} #${se}`,description:"",attributes:[{trait_type:"",value:""}],originalName:H.name,fileExtension:ce}});a([...s,...Re]),S(H=>H+he.length),console.log("Added images:",Re.map(H=>({name:H.name,originalName:H.originalName})))}catch(Ne){console.error("Error processing uploaded files:",Ne),alert("Error processing files: "+Ne.message)}finally{ee(!1)}};function ue(oe,he){const Ne=[];for(let Re=0;Re<oe.length;Re+=he)Ne.push(oe.slice(Re,Re+he));return Ne}const re=async()=>{if(!s.length||!n.name){alert("Please upload at least one image.");return}if(s.length>P){alert(`You can upload a maximum of ${P} NFTs per collection. Please reduce the number of images.`);return}const oe=s.length>100;z(oe);try{o(!0),u(0),f("Preparing upload..."),y(!0),g([]),v([]),A(!1),M({current:0,total:Math.ceil(s.length/T),success:0,failed:0});const he=oe?10:T,Ne=ue(s,he);let Re=[],H=[];if(oe&&Ne.length>3){console.log(" Using parallel batch processing for large upload..."),console.log(" Using sequential batch processing for large upload...");for(let ye=0;ye<Ne.length;ye++){const ce=Ne[ye],ne=ce.map(be=>be.file),se=ce.map(be=>be.name),fe=ce.map(be=>be.description||n.description),Ie=ce.map(be=>be.attributes);console.log(` Processing batch ${ye+1}/${Ne.length} (${ce.length} images)...`);const je=Math.round((ye+1)/Ne.length*80);u(je),f(`Uploading batch ${ye+1}/${Ne.length} (${ce.length} images)...`);try{const be=await yhe(ne,se,fe,Ie,{batchSize:he,batchDelay:oe?1e3:500,useStreaming:ne.some(D=>D.size>10485760),maxConcurrent:1});console.log(" Worker response:",be),console.log(" Response type:",typeof be),console.log(" Response keys:",Object.keys(be||{}));const Be=JSON.parse(localStorage.getItem(`collection_${e?.address}_nfts`)||"[]");console.log(" Processing worker response..."),console.log(" Full response:",be),console.log(" Response.results:",be.results),console.log(" Response.data?.results:",be.data?.results);const Me=be.results||[];if(console.log(" Final results array:",Me),console.log(" Results length:",Me.length),console.log(" Is array:",Array.isArray(Me)),Me.forEach((D,q)=>{console.log(` Result ${q}:`,D),console.log(` Result ${q} status:`,D.status||"success"),console.log(` Result ${q} metadataIpfs:`,D.metadataIpfs||(Array.isArray(D.metadataUrls)?D.metadataUrls[0]:void 0)),console.log(` Result ${q} imageIpfs:`,D.imageIpfs||D.imageUrl)}),!Array.isArray(Me))throw console.error(" Invalid response format:",be),new Error("Invalid server response format");const ze=await Promise.all(Me.map(async(D,q)=>{try{const le=D.status==="success"||D.success===!0,ge=D.metadataIpfs||Array.isArray(D.metadataUrls)&&D.metadataUrls.length>0;if(!le&&!ge)throw console.error(" Small upload result marked as failed:",D),new Error(`Server marked as failed: ${D.error||"Unknown error"}`);console.log(" Processing result:",D);const Ce=D.metadataIpfs||(Array.isArray(D.metadataUrls)?D.metadataUrls[0]:void 0),Se=D.imageIpfs||D.imageUrl;if(!Ce)throw console.error(" No metadata IPFS hash in result:",D),new Error("No metadata IPFS hash returned");let rt;if(Ce&&Se&&Ce===Se)rt={image:Se};else try{const ot=Dn(Ce);rt=await wx(ot)}catch(ot){console.warn(" Failed to fetch metadata JSON, falling back to image URL:",ot?.message),rt={image:Se||""}}if(!rt)throw new Error("Failed to fetch metadata from IPFS");const kt=se[q]||D.name||`${n.name} #${k+ye*he+q}`;return{id:Date.now()+ye*he+q,name:kt,description:fe[q]||"",image:rt.image?Dn(rt.image)[0]:"",price:0,status:"draft",type:"multiple",attributes:Ie[q]||[],tokenURI:Ce,failed:!1,originalIndex:ye*he+q,verified:!0}}catch(le){return console.error(`Error processing result ${q}:`,le),{name:se[q]||`${n.name} #${k+ye*he+q}`,index:ye*he+q,failed:!0,reason:le.message||"Unknown error",originalIndex:ye*he+q,verified:!1}}})),we=ze.filter(D=>!D.failed&&D.verified),_=ze.filter(D=>D.failed||!D.verified);we.length&&localStorage.setItem(`collection_${e?.address}_nfts`,JSON.stringify([...Be,...we])),M(D=>({...D,current:ye+1,success:D.success+we.length,failed:D.failed+_.length})),u(Math.round((ye+1)/Ne.length*80)),f(`Processing batch ${ye+1}/${Ne.length} results...`),await new Promise(D=>setTimeout(D,500)),f(`Completed batch ${ye+1}/${Ne.length} (${we.length} success, ${_.length} failed)`),Re=[...Re,...we],H=[...H,..._]}catch(be){console.error(`Batch ${ye+1} failed:`,be);const Be=ce.map((Me,ze)=>({name:Me.name,index:ye*he+ze,failed:!0,reason:be.message||"Batch upload failed"}));M(Me=>({...Me,current:ye+1,failed:Me.failed+ce.length})),H=[...H,...Be]}}}else{console.log(" Using sequential processing for small upload...");for(let ye=0;ye<Ne.length;ye++){const ce=Ne[ye],ne=ce.map(je=>je.file),se=ce.map(je=>je.name),fe=ce.map(je=>je.description||n.description),Ie=ce.map(je=>je.attributes);console.log(`Batch ${ye+1}/${Ne.length} (${ce.length} images)...`),f(`Uploading batch ${ye+1}/${Ne.length} (${ce.length} images)...`),u(Math.round(ye/Ne.length*80)),M(je=>({...je,current:ye+1}));try{const je=await Y(ne,se,fe,Ie),be=JSON.parse(localStorage.getItem(`collection_${e?.address}_nfts`)||"[]");console.log(" Processing small upload response:",je);const Be=je.results||[];if(!Array.isArray(Be))throw console.error(" Invalid response format:",je),new Error("Invalid server response format");f(`Processing batch ${ye+1}/${Ne.length} results...`);const Me=await Promise.all(Be.map(async(_,D)=>{try{const q=_.status==="success"||_.success===!0,le=_.metadataIpfs||Array.isArray(_.metadataUrls)&&_.metadataUrls.length>0;if(!q&&!le)throw console.error(" Result marked as failed:",_),new Error(`Server marked as failed: ${_.error||"Unknown error"}`);console.log(" Processing small upload result:",_);const ge=_.metadataIpfs||(Array.isArray(_.metadataUrls)?_.metadataUrls[0]:void 0),Ce=_.imageIpfs||_.imageUrl;if(!ge)throw console.error(" No metadata IPFS hash in result:",_),new Error("No metadata IPFS hash returned");let Se;if(/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(ge||""))Se={image:ge};else try{const kt=Dn(ge);Se=await wx(kt)}catch(kt){console.warn(" Failed to fetch metadata JSON, falling back to image URL:",kt?.message),Se={image:Ce||""}}if(!Se)throw new Error("Failed to fetch metadata from IPFS");if(!oe&&Se.image){const kt=Dn(Se.image);let ot=!1;for(const Ct of kt)try{let nt=await fetch(Ct,{method:"HEAD"});if(nt.ok||(nt=await fetch(Ct,{method:"GET"})),nt.ok){ot=!0;break}}catch{}if(!ot)throw new Error("Failed to verify image accessibility")}const rt=se[D]||_.name||`${n.name} #${k+D}`;return{id:Date.now()+D,name:rt,description:fe[D]||"",image:Se.image?Dn(Se.image)[0]:"",price:0,status:"draft",type:"multiple",attributes:Ie[D]||[],tokenURI:ge,failed:!1,originalIndex:D,verified:!0}}catch(q){return console.error(`Error processing result ${D}:`,q),{name:se[D]||`${n.name} #${k+D}`,index:D,failed:!0,reason:q.message||"Unknown error",originalIndex:D,verified:!1}}})),ze=Me.filter(_=>!_.failed&&_.verified),we=Me.filter(_=>_.failed||!_.verified);Re=[...Re,...ze],H=[...H,...we],M(_=>({..._,success:_.success+ze.length,failed:_.failed+we.length})),ze.length&&localStorage.setItem(`collection_${e?.address}_nfts`,JSON.stringify([...be,...ze])),oe&&ye<Ne.length-1&&(f(`Pausing between batches... (${ye+1}/${Ne.length})`),await new Promise(_=>setTimeout(_,1e3)))}catch(je){console.error(`Batch ${ye+1} failed:`,je);const be=ce.map((Be,Me)=>({name:Be.name,index:Me,failed:!0,reason:je.message||"Batch upload failed"}));H=[...H,...be],M(Be=>({...Be,failed:Be.failed+ce.length}))}}}console.log(" Finalizing upload process..."),console.log(" Final results:",{allResults:Re.length,allFailed:H.length}),f("Finalizing upload..."),u(90),console.log(" Setting results and failed arrays..."),g(Re),v(H),u(100),console.log(" Determining final status..."),Re.length&&H.length===0?(console.log(" All uploads successful!"),f(" Upload completed successfully!"),A(!0)):Re.length>0?(console.log(` Upload completed with ${H.length} failures`),f(` Upload completed with ${H.length} failures`)):(console.log(" All uploads failed"),f(" Upload failed")),console.log(" Upload process completed")}catch(he){console.error("Upload failed:",he),f(` Upload failed: ${he.message}`),alert("Upload failed: "+he.message)}finally{o(!1),z(!1)}},ie=()=>{const oe=w.map(he=>{const Ne=he.index??0,Re=s[Ne];return{...Re,name:he.name||Re.name,originalIndex:Ne}});a(oe),v([]),y(!1),console.log("Retrying failed uploads with preserved order:",oe.map((he,Ne)=>({newIndex:Ne,originalIndex:he.originalIndex,name:he.name})))},pe=()=>{const oe=Tf.getStats(),he=document.getElementById("cache-items"),Ne=document.getElementById("cache-memory"),Re=document.getElementById("cache-hitrate");he&&(he.textContent=oe.totalItems),Ne&&(Ne.textContent=`${(oe.totalMemory/1024/1024).toFixed(1)}MB`),Re&&(Re.textContent=`${oe.hitRate.toFixed(1)}%`),os.updateCacheStats(oe)};return j.useEffect(()=>{pe();const oe=setInterval(pe,5e3);return()=>{clearInterval(oe),os.stop()}},[]),l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Multiple NFT Upload"}),l.jsx("div",{className:"flex flex-col lg:flex-row gap-8",children:l.jsxs("div",{className:"w-full",children:[l.jsx("label",{className:"text-sm text-zinc-400 block mb-2",children:"Upload images *"}),l.jsxs("div",{className:`w-full min-h-[192px] bg-zinc-900 border border-zinc-600 rounded-xl p-2 cursor-pointer hover:ring-1 hover:ring-pink-500 transition-all duration-200 ${Z?"ring-2 ring-blue-500 bg-blue-900/20":""} ${i?"ring-2 ring-green-500 bg-green-900/20":""}`,onClick:()=>!Z&&!i&&C.current.click(),onDragOver:oe=>oe.preventDefault(),onDrop:!Z&&!i?ae:void 0,children:[l.jsx("div",{className:"flex flex-col justify-center items-center h-full min-h-[192px] gap-3",children:i?l.jsxs(l.Fragment,{children:[l.jsx(Zd,{className:"w-8 h-8 text-green-400 animate-spin"}),l.jsx("div",{className:"text-green-400 text-sm font-medium",children:"Uploading NFTs..."}),l.jsx("div",{className:"text-green-300 text-xs",children:"Please wait while we upload to IPFS"})]}):Z?l.jsxs(l.Fragment,{children:[l.jsx(Zd,{className:"w-8 h-8 text-blue-400 animate-spin"}),l.jsx("div",{className:"text-blue-400 text-sm font-medium",children:"Processing files..."}),l.jsx("div",{className:"text-blue-300 text-xs",children:"Please wait while we optimize your images"})]}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:fD,alt:"upload",className:"w-8 h-8 opacity-70"}),l.jsx("div",{className:"text-zinc-400 text-sm",children:"Drop images here or click to browse"})]})}),l.jsx("input",{ref:C,type:"file",accept:"image/*",multiple:!0,onChange:ae,disabled:Z||i,className:"hidden"})]})]})}),l.jsx("div",{className:"space-y-6 overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left text-zinc-400",children:[l.jsx("thead",{className:"text-xs uppercase bg-zinc-800 text-zinc-400",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"#"}),l.jsx("th",{className:"px-4 py-2",children:"Preview"}),l.jsx("th",{className:"px-4 py-2",children:"Name"}),l.jsx("th",{className:"px-4 py-2",children:"Description"}),l.jsx("th",{className:"px-4 py-2",children:"Attributes"}),l.jsx("th",{className:"px-4 py-2",children:"Remove"})]})}),l.jsx("tbody",{children:s.map((oe,he)=>l.jsxs("tr",{className:"border-b border-zinc-700",children:[l.jsx("td",{className:"px-4 py-2",children:he+1}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("img",{src:URL.createObjectURL(oe.file),alt:`preview-${he}`,className:"w-12 h-12 object-cover rounded"})}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("input",{type:"text",value:oe.name,onChange:Ne=>{const Re=[...s];Re[he].name=Ne.target.value,a(Re)},className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("input",{type:"text",value:oe.description,onChange:Ne=>{const Re=[...s];Re[he].description=Ne.target.value,a(Re)},className:"w-full p-2 rounded bg-zinc-900 border border-zinc-700 text-white text-sm"})}),l.jsxs("td",{className:"px-4 py-2 space-y-2",children:[oe.attributes.map((Ne,Re)=>l.jsx(xhe,{trait_type:Ne.trait_type,value:Ne.value,onChange:(H,ye)=>{const ce=[...s];ce[he].attributes[Re]={trait_type:H,value:ye},a(ce)},onRemove:()=>{const H=[...s];H[he].attributes.splice(Re,1),a(H)},index:Re},Re)),l.jsx("button",{onClick:()=>{const Ne=[...s];Ne[he].attributes.push({trait_type:"",value:""}),a(Ne)},className:"text-xs text-blue-400 hover:underline mt-1 flex items-center gap-1",children:l.jsx("span",{children:"+ Add Attribute"})})]}),l.jsx("td",{className:"px-4 py-2",children:l.jsx("button",{onClick:()=>{const Ne=[...s];Ne.splice(he,1),a(Ne)},className:"text-xs text-red-400 hover:underline",children:"Remove"})})]},he))})]})}),l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx("button",{onClick:re,disabled:i,className:"flex-1 py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:i?"Uploading...":"Publish NFTs"}),l.jsxs("button",{onClick:()=>O(!B),className:"px-4 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white text-sm font-semibold transition-all duration-200 shadow-md hover:shadow-lg",title:"Show performance statistics",children:[l.jsx(Vd,{size:16,className:"inline mr-1"}),"Stats"]}),l.jsxs("button",{onClick:()=>G(!F),className:"px-4 py-3 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-sm font-semibold transition-all duration-200 shadow-md hover:shadow-lg",title:"Show optimization status",children:[l.jsx(px,{size:16,className:"inline mr-1"}),"Optimizations"]})]}),s.length>50&&l.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-900/20 to-purple-900/20 border border-blue-500/30 rounded-2xl backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"font-semibold",children:"Advanced Performance Optimization Active"})]}),l.jsxs("p",{className:"text-sm text-blue-300 mb-3",children:["Large upload detected (",s.length," files). Using cutting-edge optimizations for maximum performance."]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[l.jsxs("div",{className:"bg-blue-900/30 p-3 rounded-xl border border-blue-500/20",children:[l.jsx("div",{className:"text-blue-400 font-medium",children:"Web Worker"}),l.jsx("div",{className:"text-blue-300",children:fa?" Active":" Fallback"})]}),l.jsxs("div",{className:"bg-purple-900/30 p-3 rounded-xl border border-purple-500/20",children:[l.jsx("div",{className:"text-purple-400 font-medium",children:"Streaming"}),l.jsx("div",{className:"text-purple-300",children:s.some(oe=>oe.file.size>10*1024*1024)?" Large Files":" Optimized"})]}),l.jsxs("div",{className:"bg-green-900/30 p-3 rounded-xl border border-green-500/20",children:[l.jsx("div",{className:"text-green-400 font-medium",children:"Advanced Cache"}),l.jsx("div",{className:"text-green-300",children:" Active"})]}),l.jsxs("div",{className:"bg-orange-900/30 p-3 rounded-xl border border-orange-500/20",children:[l.jsx("div",{className:"text-orange-400 font-medium",children:"Batch Size"}),l.jsxs("div",{className:"text-orange-300",children:[s.length>100?"10":"25"," files"]})]})]}),l.jsxs("div",{className:"mt-3 text-xs text-blue-400",children:[" Parallel processing: ",s.length>100?"Enabled":"Disabled"," Adaptive batching: Enabled  Compression: Enabled  Retry mechanism: Enabled"]})]}),K.length>0&&l.jsxs("div",{className:"p-6 bg-gradient-to-r from-yellow-900/20 to-orange-900/20 border border-yellow-500/30 rounded-2xl backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[l.jsx("span",{className:"text-lg",children:""}),l.jsx("span",{className:"font-semibold",children:"Mobile Optimization"})]}),l.jsx("div",{className:"space-y-1 text-sm text-yellow-300",children:K.map((oe,he)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:oe})]},he))}),l.jsxs("div",{className:"mt-3 text-xs text-yellow-400",children:["Device: ",Kp.getDeviceInfo().screenSize," | Connection: ",Kp.getDeviceInfo().connectionSpeed," | Battery: ",Kp.getDeviceInfo().batteryLevel!==null?`${(Kp.getDeviceInfo().batteryLevel*100).toFixed(0)}%`:"Unknown"]})]}),l.jsxs("div",{className:"p-6 bg-zinc-800/50 border border-zinc-700/30 rounded-2xl backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Cache Statistics"}),l.jsx("button",{onClick:async()=>{const oe=Tf.getStats();console.log(" Cache stats:",oe),alert(`Cache Stats:
Hits: ${oe.hits}
Misses: ${oe.misses}
Hit Rate: ${oe.hitRate.toFixed(1)}%
Compression: ${oe.compressionRatio.toFixed(1)}%`)},className:"text-xs text-blue-400 hover:text-blue-300",children:"View Stats"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Items"}),l.jsx("div",{className:"text-white font-medium",id:"cache-items",children:"-"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Memory"}),l.jsx("div",{className:"text-white font-medium",id:"cache-memory",children:"-"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-zinc-400",children:"Hit Rate"}),l.jsx("div",{className:"text-white font-medium",id:"cache-hitrate",children:"-"})]})]})]}),b&&uF.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[10000] p-4",children:l.jsx("div",{ref:Q,tabIndex:-1,className:"bg-black backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",autoFocus:!0,children:l.jsxs("div",{className:"relative z-10 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[c===100?l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center animate-pulse",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):l.jsx("div",{className:"mb-4",children:l.jsx(eE,{type:"uploading",size:"lg"})}),l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent mb-2",children:c===100?"NFTs Uploaded!":"Uploading NFTs..."}),l.jsx("p",{className:"text-zinc-400 text-sm",children:c===100?"Your NFTs have been successfully uploaded to IPFS":"Please wait while we process your NFTs"})]}),c<100&&l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-4 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative transition-all duration-700 ease-out",style:{width:`${c}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"text-2xl font-bold text-white mb-2",children:[c,"%"]}),l.jsx("p",{className:"text-sm text-zinc-400",children:h})]}),W&&l.jsxs("div",{className:"mb-6 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),l.jsx("span",{className:"text-sm font-semibold text-white",children:"Batch Progress"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:I.current}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Batch"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-green-400",children:I.success}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Success"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-bold text-red-400",children:I.failed}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Failed"})]})]}),l.jsx("div",{className:"w-full h-2 bg-zinc-700/50 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-300",style:{width:`${I.current/I.total*100}%`}})})]})]}),c===100&&l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-2xl p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h4",{className:"text-green-400 font-semibold mb-2",children:"Success!"}),l.jsxs("p",{className:"text-zinc-300 text-sm",children:[p.length," NFTs uploaded successfully",w.length>0&&`, ${w.length} failed`]})]}),l.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2 mb-6",children:[p.map((oe,he)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-900/20 border border-green-500/30 rounded-xl",children:[l.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx(KC,{size:16,className:"text-white"})}),l.jsx("span",{className:"text-sm text-green-400 font-medium",children:oe.name})]},he)),w.map((oe,he)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-900/20 border border-red-500/30 rounded-xl",children:[l.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:l.jsx(Jn,{size:16,className:"text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm text-red-400 font-medium",children:oe.name||`Unnamed #${he+1}`}),l.jsx("div",{className:"text-xs text-red-300",children:oe.reason||"failed"})]})]},`f-${he}`))]})]}),c===100&&l.jsxs("div",{className:"space-y-3",children:[w.length>0&&l.jsxs("button",{onClick:ie,className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-orange-500 to-red-500 text-white font-semibold hover:from-orange-600 hover:to-red-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-orange-500/25",children:["Retry Failed Uploads (",w.length,")"]}),N&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>{if(y(!1),t){const oe={type:"multiple",collection:e,nfts:p,failed:w,totalUploaded:p.length,totalFailed:w.length,timestamp:new Date().toISOString()};t(oe)}},className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-green-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),t?"Continue to Studio Dashboard":"Continue"]})]}),l.jsx("button",{onClick:()=>y(!1),className:"w-full py-3 px-6 rounded-2xl bg-zinc-700/50 hover:bg-zinc-600/50 text-white font-semibold transition-all duration-200 hover:scale-105",children:"Stay Here"})]})]}),l.jsx("button",{onClick:()=>{c<100?V(!0):y(!1)},className:"absolute top-4 right-4 text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:24})})]})})}),document.body),l.jsx(che,{isVisible:B,onClose:()=>O(!1)}),l.jsx(uhe,{isVisible:F,onClose:()=>G(!1)}),l.jsx(tE,{isVisible:L,onConfirm:()=>{if(V(!1),y(!1),o(!1),u(0),f(""),M({current:0,total:0,success:0,failed:0}),g([]),v([]),fa){try{fa.terminate()}catch{}fa=null}},onCancel:()=>V(!1),title:"Cancel Upload Process",message:"Are you sure you want to cancel this upload? All progress will be lost and you'll need to start over. This action cannot be undone."})]})},vhe=({collectionAddress:e,isReady:t})=>{const[n,r]=j.useState("single"),[s,a]=j.useState(null);j.useEffect(()=>{if(!e){a(null);return}try{const c=JSON.parse(localStorage.getItem(`collection_${e}`)||"null");if(c&&c.address){a(c);return}const u=JSON.parse(localStorage.getItem("dreava_collections")||"[]"),h=Array.isArray(u)?u.find(f=>f.address===e):null;if(h){a(h);return}a({address:e})}catch{a({address:e})}},[e]);const i=[{key:"single",label:"Single NFT"},{key:"multiple",label:"Multiple NFTs"}],o=()=>l.jsx("p",{className:"text-xs text-center text-zinc-500 mt-2",children:" Draft is not yet published. If you clear browser data, it may be lost."});return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex gap-4 text-sm font-medium border-b border-zinc-700 mb-4",children:i.map(({key:c,label:u})=>l.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 transition-colors ${n===c?"border-b-2 border-pink-500 text-pink-500":"text-zinc-400 hover:text-white"}`,children:u},c))}),n==="single"&&l.jsxs(l.Fragment,{children:[l.jsx(gD,{collection:s}),l.jsx(o,{})]}),n==="multiple"&&l.jsxs(l.Fragment,{children:[l.jsx(wD,{collection:s}),l.jsx(o,{})]})]})},Nhe="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",khe=["https://dream-rpc.somnia.network/","https://rpc.ankr.com/somnia_testnet"];async function _7(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t);try{const s=await e(n);return clearTimeout(r),s}catch(s){throw clearTimeout(r),s}}async function O4(e){for(const t of khe)try{const n=new In(t);return await e(n)}catch{}throw new Error("All RPC endpoints failed")}function xD(e){return`dreava_user_collections_${(e||"").toLowerCase()}`}function Che(e){try{const t=localStorage.getItem(xD(e));if(!t)return null;const n=JSON.parse(t);return!n||!Array.isArray(n.collections)||!n.ts?null:n}catch{return null}}function Ehe(e,t){try{const n={ts:Date.now(),collections:t};localStorage.setItem(xD(e),JSON.stringify(n))}catch{}}function I7(e,t){const n=new Map;for(const r of[...e||[],...t||[]]){if(!r||!r.address)continue;const s=r.address.toLowerCase();n.has(s)||n.set(s,r)}return Array.from(n.values())}const Ahe=async e=>{for(const t of e)try{const n=await fetch(t);if(n.ok)return await n.json()}catch{}throw new Error("Failed to fetch metadata")},She=({cover:e,firstNFTImage:t})=>{if(e){const n=Dn(e)[0]||dr;return l.jsx("img",{src:n,alt:"cover",className:"w-8 h-8 object-cover rounded-md border border-zinc-600",loading:"lazy",onError:r=>{console.warn(" Collection cover failed to load:",r.target.src),t&&t!==r.target.src?r.target.src=t:r.target.src=dr}})}return t?l.jsx("img",{src:t,alt:"NFT",className:"w-8 h-8 object-cover rounded-md border border-zinc-600",loading:"lazy",onError:n=>{console.warn(" Collection NFT image failed to load:",n.target.src),n.target.src=dr}}):l.jsx("img",{src:dr,alt:"logo",className:"w-8 h-8 object-cover rounded-md border border-zinc-600 opacity-50"})},b6=({selected:e,onSelect:t,showCreateButton:n=!0,onCreateNew:r})=>{const[s,a]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState("bottom"),h=Xr();j.useEffect(()=>{(async()=>{try{let b=null;if(window.ethereum)try{const S=await window.ethereum.request({method:"eth_accounts"});S&&S.length>0&&(b=S[0])}catch(S){console.warn("Could not get user address from wallet:",S)}if(!b){console.warn("No user address available, cannot load collections"),a([]);return}const y=Che(b),w=JSON.parse(localStorage.getItem("dreava_collections")||"[]");if(y&&Array.isArray(y.collections)){const S=I7(y.collections,w);a(S)}else w.length>0&&a(w);const v=await O4(async S=>await new Pt(Nhe,Mm,S).getUserCollections(b)),N=4,A=[];for(let S=0;S<v.length;S+=N){const T=v.slice(S,S+N).map(async I=>{const M={address:I,name:`${I.slice(0,6)}...${I.slice(-4)}`,cover:dr,description:""};try{const W=await _7(async F=>await O4(async G=>await new Pt(I,Rn,G).name({signal:F.signal})),5e3).catch(()=>M.name);let z=M.cover,B="";const O=await _7(async F=>await O4(async G=>await new Pt(I,Rn,G).contractURI({signal:F.signal})),5e3).catch(()=>"");if(O){const F=Dn(O);try{const G=await Ahe(F);G.image&&(z=Dn(G.image)[0]||z),G.description&&(B=String(G.description))}catch{}}return{address:I,name:W,cover:z||dr,description:B}}catch(W){return console.error(`Error processing contract ${I}:`,W),M}}),P=await Promise.all(T);A.push(...P)}const C=A.filter(S=>S!==null),k=I7(C,w);Ehe(b,k),a(k)}catch(b){console.error("Failed to load collections:",b)}})()},[]);const f=b=>{o(!1),t(b)},p=()=>{o(!1),r?r():h("/create-dreams")},g=()=>{if(!i){const b=document.querySelector("[data-collection-selector]");if(b){const y=b.getBoundingClientRect(),w=window.innerHeight-y.bottom,v=y.top;w<200&&v>w?u("top"):u("bottom")}}o(!i)};return l.jsxs("div",{className:"relative w-full max-w-sm",children:[l.jsxs("button",{onClick:g,className:"w-full flex justify-between items-center bg-zinc-900 border border-zinc-700 rounded-xl px-4 py-3 text-white text-sm font-medium hover:border-pink-500 transition","data-collection-selector":!0,children:[e?.name||"Select collection",l.jsx("span",{className:"ml-2 text-zinc-400",children:""})]}),i&&l.jsxs("div",{className:`absolute w-full bg-zinc-800 border border-zinc-700 rounded-xl shadow-lg z-50 overflow-hidden divide-y divide-zinc-700 max-h-48 overflow-y-auto ${c==="top"?"bottom-full mb-2":"top-full mt-2"}`,children:[n&&l.jsx("button",{onClick:p,className:"block w-full text-left px-4 py-3 text-pink-400 hover:bg-zinc-700 text-sm font-medium",children:"+ Create new collection"}),s.map((b,y)=>l.jsxs("button",{onClick:()=>f(b),className:"flex items-center gap-3 px-4 py-2 w-full hover:bg-zinc-700 text-sm text-white",children:[l.jsx(She,{cover:b.cover,firstNFTImage:b.firstNFTImage}),l.jsx("span",{className:"truncate max-w-[160px] font-medium",children:b.name})]},b.address+y))]})]})},jhe=()=>{const[e,t]=j.useState(null);return l.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-10 text-white space-y-8",children:[l.jsx("div",{className:"space-y-4",children:l.jsx(b6,{selected:e,onSelect:t})}),l.jsx("div",{className:`rounded-2xl transition-all p-6 border bg-zinc-900 border-zinc-800 shadow-lg ${e?"":"opacity-30 pointer-events-none select-none blur-sm"}`,children:l.jsx(vhe,{collectionAddress:e?.address,isReady:!!e})})]})},vD=typeof document<"u"?Ze.useLayoutEffect:()=>{};var R4;const _he=(R4=Ze.useInsertionEffect)!==null&&R4!==void 0?R4:vD;function Ihe(e){const t=j.useRef(null);return _he(()=>{t.current=e},[e]),j.useCallback((...n)=>{const r=t.current;return r?.(...n)},[])}const eu=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},wd=e=>e&&"window"in e&&e.window===e?e:eu(e).defaultView||window;function ND(e,t){return t&&e?e.contains(t):!1}const w6=(e=document)=>e.activeElement;function kD(e){return e.target}function CD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=CD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ED(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=CD(e))&&(r&&(r+=" "),r+=t);return r}function The(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function Phe(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function AD(e){let t=null;return()=>(t==null&&(t=e()),t)}const Ohe=AD(function(){return Phe(/^Mac/i)}),Rhe=AD(function(){return The(/Android/i)});function SD(){let e=j.useRef(new Map),t=j.useCallback((s,a,i,o)=>{let c=o?.once?(...u)=>{e.current.delete(i),i(...u)}:i;e.current.set(i,{type:a,eventTarget:s,fn:c,options:o}),s.addEventListener(a,c,o)},[]),n=j.useCallback((s,a,i,o)=>{var c;let u=((c=e.current.get(i))===null||c===void 0?void 0:c.fn)||i;s.removeEventListener(a,u,o),e.current.delete(i)},[]),r=j.useCallback(()=>{e.current.forEach((s,a)=>{n(s.eventTarget,s.type,a,s.options)})},[n]);return j.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Mhe(e){return e.mozInputSource===0&&e.isTrusted?!0:Rhe()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function jD(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function zhe(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function _D(e){let t=j.useRef({isFocused:!1,observer:null});vD(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Ihe(r=>{e?.(r)});return j.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,a=i=>{if(t.current.isFocused=!1,s.disabled){let o=jD(i);n(o)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let o=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Fhe=!1,Cy=null,x6=new Set,ig=new Map,Yd=!1,v6=!1;const Dhe={Tab:!0,Escape:!0};function nE(e,t){for(let n of x6)n(e,t)}function Bhe(e){return!(e.metaKey||!Ohe()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function vx(e){Yd=!0,Bhe(e)&&(Cy="keyboard",nE("keyboard",e))}function Gf(e){Cy="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Yd=!0,nE("pointer",e))}function ID(e){Mhe(e)&&(Yd=!0,Cy="virtual")}function TD(e){e.target===window||e.target===document||Fhe||!e.isTrusted||(!Yd&&!v6&&(Cy="virtual",nE("virtual",e)),Yd=!1,v6=!1)}function PD(){Yd=!1,v6=!0}function N6(e){if(typeof window>"u"||typeof document>"u"||ig.get(wd(e)))return;const t=wd(e),n=eu(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Yd=!0,r.apply(this,arguments)},n.addEventListener("keydown",vx,!0),n.addEventListener("keyup",vx,!0),n.addEventListener("click",ID,!0),t.addEventListener("focus",TD,!0),t.addEventListener("blur",PD,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Gf,!0),n.addEventListener("pointermove",Gf,!0),n.addEventListener("pointerup",Gf,!0)),t.addEventListener("beforeunload",()=>{OD(e)},{once:!0}),ig.set(t,{focus:r})}const OD=(e,t)=>{const n=wd(e),r=eu(e);t&&r.removeEventListener("DOMContentLoaded",t),ig.has(n)&&(n.HTMLElement.prototype.focus=ig.get(n).focus,r.removeEventListener("keydown",vx,!0),r.removeEventListener("keyup",vx,!0),r.removeEventListener("click",ID,!0),n.removeEventListener("focus",TD,!0),n.removeEventListener("blur",PD,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Gf,!0),r.removeEventListener("pointermove",Gf,!0),r.removeEventListener("pointerup",Gf,!0)),ig.delete(n))};function Lhe(e){const t=eu(e);let n;return t.readyState!=="loading"?N6(e):(n=()=>{N6(e)},t.addEventListener("DOMContentLoaded",n)),()=>OD(e,n)}typeof document<"u"&&Lhe();function RD(){return Cy!=="pointer"}const Uhe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $he(e,t,n){let r=eu(n?.target);const s=typeof window<"u"?wd(n?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?wd(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?wd(n?.target).HTMLElement:HTMLElement,o=typeof window<"u"?wd(n?.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof s&&!Uhe.has(r.activeElement.type)||r.activeElement instanceof a||r.activeElement instanceof i&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof o&&!Dhe[n.key])}function Hhe(e,t,n){N6(),j.useEffect(()=>{let r=(s,a)=>{$he(!!n?.isTextInput,s,a)&&e(RD())};return x6.add(r),()=>{x6.delete(r)}},t)}function Whe(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const a=j.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),s&&s(!1),!0},[r,s]),i=_D(a),o=j.useCallback(c=>{const u=eu(c.target),h=u?w6(u):w6();c.target===c.currentTarget&&h===kD(c.nativeEvent)&&(n&&n(c),s&&s(!0),i(c))},[s,n,i]);return{focusProps:{onFocus:!t&&(n||s||r)?o:void 0,onBlur:!t&&(r||s)?a:void 0}}}function Ghe(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,a=j.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:o}=SD(),c=j.useCallback(f=>{f.currentTarget.contains(f.target)&&a.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(a.current.isFocusWithin=!1,o(),n&&n(f),s&&s(!1))},[n,s,a,o]),u=_D(c),h=j.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const p=eu(f.target),g=w6(p);if(!a.current.isFocusWithin&&g===kD(f.nativeEvent)){r&&r(f),s&&s(!0),a.current.isFocusWithin=!0,u(f);let b=f.currentTarget;i(p,"focus",y=>{if(a.current.isFocusWithin&&!ND(b,y.target)){let w=new p.defaultView.FocusEvent("blur",{relatedTarget:y.target});zhe(w,b);let v=jD(w);c(v)}},{capture:!0})}},[r,s,u,i,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:c}}}let k6=!1,pw=0;function qhe(){k6=!0,setTimeout(()=>{k6=!1},50)}function T7(e){e.pointerType==="touch"&&qhe()}function Vhe(){if(!(typeof document>"u"))return pw===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",T7),pw++,()=>{pw--,!(pw>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",T7)}}function Khe(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[a,i]=j.useState(!1),o=j.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;j.useEffect(Vhe,[]);let{addGlobalListener:c,removeAllGlobalListeners:u}=SD(),{hoverProps:h,triggerHoverEnd:f}=j.useMemo(()=>{let p=(y,w)=>{if(o.pointerType=w,s||w==="touch"||o.isHovered||!y.currentTarget.contains(y.target))return;o.isHovered=!0;let v=y.currentTarget;o.target=v,c(eu(y.target),"pointerover",N=>{o.isHovered&&o.target&&!ND(o.target,N.target)&&g(N,N.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:v,pointerType:w}),n&&n(!0),i(!0)},g=(y,w)=>{let v=o.target;o.pointerType="",o.target=null,!(w==="touch"||!o.isHovered||!v)&&(o.isHovered=!1,u(),r&&r({type:"hoverend",target:v,pointerType:w}),n&&n(!1),i(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=y=>{k6&&y.pointerType==="mouse"||p(y,y.pointerType)},b.onPointerLeave=y=>{!s&&y.currentTarget.contains(y.target)&&g(y,y.pointerType)}),{hoverProps:b,triggerHoverEnd:g}},[t,n,r,s,o,c,u]);return j.useEffect(()=>{s&&f({currentTarget:o.target},o.pointerType)},[s]),{hoverProps:h,isHovered:a}}function Zhe(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=j.useRef({isFocused:!1,isFocusVisible:t||RD()}),[a,i]=j.useState(!1),[o,c]=j.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=j.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),h=j.useCallback(g=>{s.current.isFocused=g,i(g),u()},[u]);Hhe(g=>{s.current.isFocusVisible=g,u()},[],{isTextInput:n});let{focusProps:f}=Whe({isDisabled:r,onFocusChange:h}),{focusWithinProps:p}=Ghe({isDisabled:!r,onFocusWithinChange:h});return{isFocused:a,isFocusVisible:o,focusProps:r?p:f}}var Yhe=Object.defineProperty,Qhe=(e,t,n)=>t in e?Yhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,M4=(e,t,n)=>(Qhe(e,typeof t!="symbol"?t+"":t,n),n);let Jhe=class{constructor(){M4(this,"current",this.detect()),M4(this,"handoffState","pending"),M4(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},MD=new Jhe;function Xhe(e){var t,n;return MD.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function efe(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function zD(){let e=[],t={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),t.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return efe(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=zD();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function rE(){let[e]=j.useState(zD);return j.useEffect(()=>()=>e.dispose(),[e]),e}let sE=(e,t)=>{MD.isServer?j.useEffect(e,t):j.useLayoutEffect(e,t)};function tfe(e){let t=j.useRef(e);return sE(()=>{t.current=e},[e]),t}let gi=function(e){let t=tfe(e);return Ze.useCallback((...n)=>t.current(...n),[t])};function nfe(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function rfe(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function sfe({disabled:e=!1}={}){let t=j.useRef(null),[n,r]=j.useState(!1),s=rE(),a=gi(()=>{t.current=null,r(!1),s.dispose()}),i=gi(o=>{if(s.dispose(),t.current===null){t.current=o.currentTarget,r(!0);{let c=Xhe(o.currentTarget);s.addEventListener(c,"pointerup",a,!1),s.addEventListener(c,"pointermove",u=>{if(t.current){let h=nfe(u);r(rfe(h,t.current.getBoundingClientRect()))}},!1),s.addEventListener(c,"pointercancel",a,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:i,onPointerUp:a,onClick:a}}}let afe=j.createContext(void 0);function aE(){return j.useContext(afe)}function P7(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function FD(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,FD),r}var ife=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ife||{}),ofe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ofe||{});function Ey(){let e=cfe();return j.useCallback(t=>lfe({mergeRefs:e,...t}),[e])}function lfe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:a=!0,name:i,mergeRefs:o}){o=o??ufe;let c=DD(t,e);if(a)return gw(c,n,r,i,o);let u=s??0;if(u&2){let{static:h=!1,...f}=c;if(h)return gw(f,n,r,i,o)}if(u&1){let{unmount:h=!0,...f}=c;return FD(h?0:1,{0(){return null},1(){return gw({...f,hidden:!0,style:{display:"none"}},n,r,i,o)}})}return gw(c,n,r,i,o)}function gw(e,t={},n,r,s){let{as:a=n,children:i,refName:o="ref",...c}=z4(e,["unmount","static"]),u=e.ref!==void 0?{[o]:e.ref}:{},h=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let p=!1,g=[];for(let[b,y]of Object.entries(t))typeof y=="boolean"&&(p=!0),y===!0&&g.push(b.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(p){f["data-headlessui-state"]=g.join(" ");for(let b of g)f[`data-${b}`]=""}}if(a===j.Fragment&&(Object.keys(Qu(c)).length>0||Object.keys(Qu(f)).length>0))if(!j.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(Qu(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Qu(c)).concat(Object.keys(Qu(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=h.props,g=p?.className,b=typeof g=="function"?(...v)=>P7(g(...v),c.className):P7(g,c.className),y=b?{className:b}:{},w=DD(h.props,Qu(z4(c,["ref"])));for(let v in f)v in w&&delete f[v];return j.cloneElement(h,Object.assign({},w,f,u,{ref:s(hfe(h),u.ref)},y))}return j.createElement(a,Object.assign({},z4(c,["ref"]),a!==j.Fragment&&u,a!==j.Fragment&&f),h)}function cfe(){let e=j.useRef([]),t=j.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function ufe(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function DD(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var a;return(a=s?.preventDefault)==null?void 0:a.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...a){let i=n[r];for(let o of i){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;o(s,...a)}}});return t}function dfe(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let a=n[r];for(let i of a)i?.(...s)}});return t}function Cv(e){var t;return Object.assign(j.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Qu(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function z4(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function hfe(e){return Ze.version.split(".")[0]>="19"?e.props.ref:e.ref}function ffe(e,t,n){let[r,s]=j.useState(n),a=e!==void 0,i=j.useRef(a),o=j.useRef(!1),c=j.useRef(!1);return a&&!i.current&&!o.current?(o.current=!0,i.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&i.current&&!c.current&&(c.current=!0,i.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:r,gi(u=>(a||s(u),t?.(u)))]}function mfe(e){let[t]=j.useState(e);return t}function BD(e={},t=null,n=[]){for(let[r,s]of Object.entries(e))UD(n,LD(t,r),s);return n}function LD(e,t){return e?e+"["+t+"]":t}function UD(e,t,n){if(Array.isArray(n))for(let[r,s]of n.entries())UD(e,LD(t,r.toString()),s);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):BD(n,t,e)}function pfe(e){var t,n;let r=(t=e?.form)!=null?t:e.closest("form");if(r){for(let s of r.elements)if(s!==e&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(n=r.requestSubmit)==null||n.call(r)}}let gfe="span";var iE=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(iE||{});function yfe(e,t){var n;let{features:r=1,...s}=e,a={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ey()({ourProps:a,theirProps:s,slot:{},defaultTag:gfe,name:"Hidden"})}let $D=Cv(yfe),bfe=j.createContext(null);function wfe({children:e}){let t=j.useContext(bfe);if(!t)return Ze.createElement(Ze.Fragment,null,e);let{target:n}=t;return n?io.createPortal(Ze.createElement(Ze.Fragment,null,e),n):null}function xfe({data:e,form:t,disabled:n,onReset:r,overrides:s}){let[a,i]=j.useState(null),o=rE();return j.useEffect(()=>{if(r&&a)return o.addEventListener(a,"reset",r)},[a,t,r]),Ze.createElement(wfe,null,Ze.createElement(vfe,{setForm:i,formId:t}),BD(e).map(([c,u])=>Ze.createElement($D,{features:iE.Hidden,...Qu({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:c,value:u,...s})})))}function vfe({setForm:e,formId:t}){return j.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:Ze.createElement($D,{features:iE.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let Nfe=j.createContext(void 0);function HD(){return j.useContext(Nfe)}function kfe(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function WD(e){return kfe(e)&&"tagName"in e}function Ev(e){return WD(e)&&"accessKey"in e}function Cfe(e){return Ev(e)&&e.nodeName==="INPUT"}function C6(e){return Ev(e)&&e.nodeName==="LABEL"}function Efe(e){return Ev(e)&&e.nodeName==="FIELDSET"}function GD(e){return Ev(e)&&e.nodeName==="LEGEND"}function Afe(e){return WD(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Sfe(e){let t=e.parentElement,n=null;for(;t&&!Efe(t);)GD(t)&&(n=t),t=t.parentElement;let r=t?.getAttribute("disabled")==="";return r&&jfe(n)?!1:r}function jfe(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(GD(t))return!1;t=t.previousElementSibling}return!0}let _fe=Symbol();function oE(...e){let t=j.useRef(e);j.useEffect(()=>{t.current=e},[e]);let n=gi(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||r?.[_fe])?void 0:n}let Av=j.createContext(null);Av.displayName="DescriptionContext";function qD(){let e=j.useContext(Av);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,qD),t}return e}function Ife(){var e,t;return(t=(e=j.useContext(Av))==null?void 0:e.value)!=null?t:void 0}function Tfe(){let[e,t]=j.useState([]);return[e.length>0?e.join(" "):void 0,j.useMemo(()=>function(n){let r=gi(a=>(t(i=>[...i,a]),()=>t(i=>{let o=i.slice(),c=o.indexOf(a);return c!==-1&&o.splice(c,1),o}))),s=j.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ze.createElement(Av.Provider,{value:s},n.children)},[t])]}let Pfe="p";function Ofe(e,t){let n=j.useId(),r=aE(),{id:s=`headlessui-description-${n}`,...a}=e,i=qD(),o=oE(t);sE(()=>i.register(s),[s,i.register]);let c=r||!1,u=j.useMemo(()=>({...i.slot,disabled:c}),[i.slot,c]),h={ref:o,...i.props,id:s};return Ey()({ourProps:h,theirProps:a,slot:u,defaultTag:Pfe,name:i.name||"Description"})}let Rfe=Cv(Ofe),Mfe=Object.assign(Rfe,{});var E6=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(E6||{});let Sv=j.createContext(null);Sv.displayName="LabelContext";function VD(){let e=j.useContext(Sv);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,VD),t}return e}function KD(e){var t,n,r;let s=(n=(t=j.useContext(Sv))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...e].filter(Boolean).join(" "):s}function zfe({inherit:e=!1}={}){let t=KD(),[n,r]=j.useState([]),s=e?[t,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,j.useMemo(()=>function(a){let i=gi(c=>(r(u=>[...u,c]),()=>r(u=>{let h=u.slice(),f=h.indexOf(c);return f!==-1&&h.splice(f,1),h}))),o=j.useMemo(()=>({register:i,slot:a.slot,name:a.name,props:a.props,value:a.value}),[i,a.slot,a.name,a.props,a.value]);return Ze.createElement(Sv.Provider,{value:o},a.children)},[r])]}let Ffe="label";function Dfe(e,t){var n;let r=j.useId(),s=VD(),a=HD(),i=aE(),{id:o=`headlessui-label-${r}`,htmlFor:c=a??((n=s.props)==null?void 0:n.htmlFor),passive:u=!1,...h}=e,f=oE(t);sE(()=>s.register(o),[o,s.register]);let p=gi(w=>{let v=w.currentTarget;if(!(w.target!==w.currentTarget&&Afe(w.target))&&(C6(v)&&w.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(w),C6(v))){let N=document.getElementById(v.htmlFor);if(N){let A=N.getAttribute("disabled");if(A==="true"||A==="")return;let C=N.getAttribute("aria-disabled");if(C==="true"||C==="")return;(Cfe(N)&&(N.type==="file"||N.type==="radio"||N.type==="checkbox")||N.role==="radio"||N.role==="checkbox"||N.role==="switch")&&N.click(),N.focus({preventScroll:!0})}}}),g=i||!1,b=j.useMemo(()=>({...s.slot,disabled:g}),[s.slot,g]),y={ref:f,...s.props,id:o,htmlFor:c,onClick:p};return u&&("onClick"in y&&(delete y.htmlFor,delete y.onClick),"onClick"in h&&delete h.onClick),Ey()({ourProps:y,theirProps:h,slot:b,defaultTag:c?Ffe:"div",name:s.name||"Label"})}let Bfe=Cv(Dfe),Lfe=Object.assign(Bfe,{});function Ufe(e,t){return j.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function jv(){return typeof window<"u"}function zm(e){return ZD(e)?(e.nodeName||"").toLowerCase():"#document"}function ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function bo(e){var t;return(t=(ZD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ZD(e){return jv()?e instanceof Node||e instanceof ma(e).Node:!1}function Ai(e){return jv()?e instanceof Element||e instanceof ma(e).Element:!1}function go(e){return jv()?e instanceof HTMLElement||e instanceof ma(e).HTMLElement:!1}function O7(e){return!jv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ma(e).ShadowRoot}const $fe=new Set(["inline","contents"]);function Ay(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Si(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!$fe.has(s)}const Hfe=new Set(["table","td","th"]);function Wfe(e){return Hfe.has(zm(e))}const Gfe=[":popover-open",":modal"];function _v(e){return Gfe.some(t=>{try{return e.matches(t)}catch{return!1}})}const qfe=["transform","translate","scale","rotate","perspective"],Vfe=["transform","translate","scale","rotate","perspective","filter"],Kfe=["paint","layout","strict","content"];function lE(e){const t=cE(),n=Ai(e)?Si(e):e;return qfe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Vfe.some(r=>(n.willChange||"").includes(r))||Kfe.some(r=>(n.contain||"").includes(r))}function Zfe(e){let t=Kc(e);for(;go(t)&&!ym(t);){if(lE(t))return t;if(_v(t))return null;t=Kc(t)}return null}function cE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Yfe=new Set(["html","body","#document"]);function ym(e){return Yfe.has(zm(e))}function Si(e){return ma(e).getComputedStyle(e)}function Iv(e){return Ai(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kc(e){if(zm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||O7(e)&&e.host||bo(e);return O7(t)?t.host:t}function YD(e){const t=Kc(e);return ym(t)?e.ownerDocument?e.ownerDocument.body:e.body:go(t)&&Ay(t)?t:YD(t)}function Vg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=YD(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=ma(s);if(a){const o=A6(i);return t.concat(i,i.visualViewport||[],Ay(s)?s:[],o&&n?Vg(o):[])}return t.concat(s,Vg(s,[],n))}function A6(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Qfe=["top","right","bottom","left"],Zc=Math.min,da=Math.max,Nx=Math.round,yw=Math.floor,lo=e=>({x:e,y:e}),Jfe={left:"right",right:"left",bottom:"top",top:"bottom"},Xfe={start:"end",end:"start"};function S6(e,t,n){return da(e,Zc(t,n))}function gl(e,t){return typeof e=="function"?e(t):e}function yl(e){return e.split("-")[0]}function Fm(e){return e.split("-")[1]}function uE(e){return e==="x"?"y":"x"}function dE(e){return e==="y"?"height":"width"}const eme=new Set(["top","bottom"]);function no(e){return eme.has(yl(e))?"y":"x"}function hE(e){return uE(no(e))}function tme(e,t,n){n===void 0&&(n=!1);const r=Fm(e),s=hE(e),a=dE(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=kx(i)),[i,kx(i)]}function nme(e){const t=kx(e);return[j6(e),t,j6(t)]}function j6(e){return e.replace(/start|end/g,t=>Xfe[t])}const R7=["left","right"],M7=["right","left"],rme=["top","bottom"],sme=["bottom","top"];function ame(e,t,n){switch(e){case"top":case"bottom":return n?t?M7:R7:t?R7:M7;case"left":case"right":return t?rme:sme;default:return[]}}function ime(e,t,n,r){const s=Fm(e);let a=ame(yl(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(j6)))),a}function kx(e){return e.replace(/left|right|bottom|top/g,t=>Jfe[t])}function ome(e){return{top:0,right:0,bottom:0,left:0,...e}}function QD(e){return typeof e!="number"?ome(e):{top:e,right:e,bottom:e,left:e}}function Cx(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function z7(e,t,n){let{reference:r,floating:s}=e;const a=no(t),i=hE(t),o=dE(i),c=yl(t),u=a==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[o]/2-s[o]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Fm(t)){case"start":g[i]-=p*(n&&u?-1:1);break;case"end":g[i]+=p*(n&&u?-1:1);break}return g}const lme=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,o=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=z7(u,r,c),p=r,g={},b=0;for(let y=0;y<o.length;y++){const{name:w,fn:v}=o[y],{x:N,y:A,data:C,reset:k}=await v({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});h=N??h,f=A??f,g={...g,[w]:{...g[w],...C}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:h,y:f}=z7(u,p,c)),y=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:g}};async function Kg(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=gl(t,e),b=QD(g),y=o[p?f==="floating"?"reference":"floating":f],w=Cx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),A=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},C=Cx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:N,strategy:c}):v);return{top:(w.top-C.top+b.top)/A.y,bottom:(C.bottom-w.bottom+b.bottom)/A.y,left:(w.left-C.left+b.left)/A.x,right:(C.right-w.right+b.right)/A.x}}const cme=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:h=0}=gl(e,t)||{};if(u==null)return{};const f=QD(h),p={x:n,y:r},g=hE(s),b=dE(g),y=await i.getDimensions(u),w=g==="y",v=w?"top":"left",N=w?"bottom":"right",A=w?"clientHeight":"clientWidth",C=a.reference[b]+a.reference[g]-p[g]-a.floating[b],k=p[g]-a.reference[g],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=S?S[A]:0;(!T||!await(i.isElement==null?void 0:i.isElement(S)))&&(T=o.floating[A]||a.floating[b]);const P=C/2-k/2,I=T/2-y[b]/2-1,M=Zc(f[v],I),W=Zc(f[N],I),z=M,B=T-y[b]-W,O=T/2-y[b]/2+P,F=S6(z,O,B),G=!c.arrow&&Fm(s)!=null&&O!==F&&a.reference[b]/2-(O<z?M:W)-y[b]/2<0,K=G?O<z?O-z:O-B:0;return{[g]:p[g]+K,data:{[g]:F,centerOffset:O-F-K,...G&&{alignmentOffset:K}},reset:G}}}),ume=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=gl(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=yl(s),N=no(o),A=yl(o)===o,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(A||!y?[kx(o)]:nme(o)),S=b!=="none";!p&&S&&k.push(...ime(o,y,b,C));const T=[o,...k],P=await Kg(t,w),I=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&I.push(P[v]),f){const O=tme(s,i,C);I.push(P[O[0]],P[O[1]])}if(M=[...M,{placement:s,overflows:I}],!I.every(O=>O<=0)){var W,z;const O=(((W=a.flip)==null?void 0:W.index)||0)+1,F=T[O];if(F&&(!(f==="alignment"&&N!==no(F))||M.every(K=>no(K.placement)===N?K.overflows[0]>0:!0)))return{data:{index:O,overflows:M},reset:{placement:F}};let G=(z=M.filter(K=>K.overflows[0]<=0).sort((K,$)=>K.overflows[1]-$.overflows[1])[0])==null?void 0:z.placement;if(!G)switch(g){case"bestFit":{var B;const K=(B=M.filter($=>{if(S){const Z=no($.placement);return Z===N||Z==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Z=>Z>0).reduce((Z,ee)=>Z+ee,0)]).sort(($,Z)=>$[1]-Z[1])[0])==null?void 0:B[0];K&&(G=K);break}case"initialPlacement":G=o;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function F7(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function D7(e){return Qfe.some(t=>e[t]>=0)}const dme=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=gl(e,t);switch(r){case"referenceHidden":{const a=await Kg(t,{...s,elementContext:"reference"}),i=F7(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:D7(i)}}}case"escaped":{const a=await Kg(t,{...s,altBoundary:!0}),i=F7(a,n.floating);return{data:{escapedOffsets:i,escaped:D7(i)}}}default:return{}}}}},JD=new Set(["left","top"]);async function hme(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=yl(n),o=Fm(n),c=no(n)==="y",u=JD.has(i)?-1:1,h=a&&c?-1:1,f=gl(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof b=="number"&&(g=o==="end"?b*-1:b),c?{x:g*h,y:p*u}:{x:p*u,y:g*h}}const fme=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:o}=t,c=await hme(t,e);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},mme=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:w=>{let{x:v,y:N}=w;return{x:v,y:N}}},...c}=gl(e,t),u={x:n,y:r},h=await Kg(t,c),f=no(yl(s)),p=uE(f);let g=u[p],b=u[f];if(a){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",N=g+h[w],A=g-h[v];g=S6(N,g,A)}if(i){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",N=b+h[w],A=b-h[v];b=S6(N,b,A)}const y=o.fn({...t,[p]:g,[f]:b});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:a,[f]:i}}}}}},pme=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=gl(e,t),h={x:n,y:r},f=no(s),p=uE(f);let g=h[p],b=h[f];const y=gl(o,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const A=p==="y"?"height":"width",C=a.reference[p]-a.floating[A]+w.mainAxis,k=a.reference[p]+a.reference[A]-w.mainAxis;g<C?g=C:g>k&&(g=k)}if(u){var v,N;const A=p==="y"?"width":"height",C=JD.has(yl(s)),k=a.reference[f]-a.floating[A]+(C&&((v=i.offset)==null?void 0:v[f])||0)+(C?0:w.crossAxis),S=a.reference[f]+a.reference[A]+(C?0:((N=i.offset)==null?void 0:N[f])||0)-(C?w.crossAxis:0);b<k?b=k:b>S&&(b=S)}return{[p]:g,[f]:b}}}},gme=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:o}=t,{apply:c=()=>{},...u}=gl(e,t),h=await Kg(t,u),f=yl(s),p=Fm(s),g=no(s)==="y",{width:b,height:y}=a.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=p===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(v=f,w=p==="end"?"top":"bottom");const N=y-h.top-h.bottom,A=b-h.left-h.right,C=Zc(y-h[w],N),k=Zc(b-h[v],A),S=!t.middlewareData.shift;let T=C,P=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=N),S&&!p){const M=da(h.left,0),W=da(h.right,0),z=da(h.top,0),B=da(h.bottom,0);g?P=b-2*(M!==0||W!==0?M+W:da(h.left,h.right)):T=y-2*(z!==0||B!==0?z+B:da(h.top,h.bottom))}await c({...t,availableWidth:P,availableHeight:T});const I=await i.getDimensions(o.floating);return b!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function XD(e){const t=Si(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=go(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,o=Nx(n)!==a||Nx(r)!==i;return o&&(n=a,r=i),{width:n,height:r,$:o}}function fE(e){return Ai(e)?e:e.contextElement}function qf(e){const t=fE(e);if(!go(t))return lo(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=XD(t);let i=(a?Nx(n.width):n.width)/r,o=(a?Nx(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const yme=lo(0);function eB(e){const t=ma(e);return!cE()||!t.visualViewport?yme:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bme(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ma(e)?!1:t}function Qd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=fE(e);let i=lo(1);t&&(r?Ai(r)&&(i=qf(r)):i=qf(e));const o=bme(a,n,r)?eB(a):lo(0);let c=(s.left+o.x)/i.x,u=(s.top+o.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(a){const p=ma(a),g=r&&Ai(r)?ma(r):r;let b=p,y=A6(b);for(;y&&r&&g!==b;){const w=qf(y),v=y.getBoundingClientRect(),N=Si(y),A=v.left+(y.clientLeft+parseFloat(N.paddingLeft))*w.x,C=v.top+(y.clientTop+parseFloat(N.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,f*=w.y,c+=A,u+=C,b=ma(y),y=A6(b)}}return Cx({width:h,height:f,x:c,y:u})}function mE(e,t){const n=Iv(e).scrollLeft;return t?t.left+n:Qd(bo(e)).left+n}function tB(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:mE(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function wme(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=bo(r),o=t?_v(t.floating):!1;if(r===i||o&&a)return n;let c={scrollLeft:0,scrollTop:0},u=lo(1);const h=lo(0),f=go(r);if((f||!f&&!a)&&((zm(r)!=="body"||Ay(i))&&(c=Iv(r)),go(r))){const g=Qd(r);u=qf(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=i&&!f&&!a?tB(i,c,!0):lo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+p.x,y:n.y*u.y-c.scrollTop*u.y+h.y+p.y}}function xme(e){return Array.from(e.getClientRects())}function vme(e){const t=bo(e),n=Iv(e),r=e.ownerDocument.body,s=da(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=da(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+mE(e);const o=-n.scrollTop;return Si(r).direction==="rtl"&&(i+=da(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:o}}function Nme(e,t){const n=ma(e),r=bo(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,o=0,c=0;if(s){a=s.width,i=s.height;const u=cE();(!u||u&&t==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:o,y:c}}const kme=new Set(["absolute","fixed"]);function Cme(e,t){const n=Qd(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=go(e)?qf(e):lo(1),i=e.clientWidth*a.x,o=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:o,x:c,y:u}}function B7(e,t,n){let r;if(t==="viewport")r=Nme(e,n);else if(t==="document")r=vme(bo(e));else if(Ai(t))r=Cme(t,n);else{const s=eB(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Cx(r)}function nB(e,t){const n=Kc(e);return n===t||!Ai(n)||ym(n)?!1:Si(n).position==="fixed"||nB(n,t)}function Eme(e,t){const n=t.get(e);if(n)return n;let r=Vg(e,[],!1).filter(o=>Ai(o)&&zm(o)!=="body"),s=null;const a=Si(e).position==="fixed";let i=a?Kc(e):e;for(;Ai(i)&&!ym(i);){const o=Si(i),c=lE(i);!c&&o.position==="fixed"&&(s=null),(a?!c&&!s:!c&&o.position==="static"&&s&&kme.has(s.position)||Ay(i)&&!c&&nB(e,i))?r=r.filter(u=>u!==i):s=o,i=Kc(i)}return t.set(e,r),r}function Ame(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?_v(t)?[]:Eme(t,this._c):[].concat(n),r],i=a[0],o=a.reduce((c,u)=>{const h=B7(t,u,s);return c.top=da(h.top,c.top),c.right=Zc(h.right,c.right),c.bottom=Zc(h.bottom,c.bottom),c.left=da(h.left,c.left),c},B7(t,i,s));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function Sme(e){const{width:t,height:n}=XD(e);return{width:t,height:n}}function jme(e,t,n){const r=go(t),s=bo(t),a=n==="fixed",i=Qd(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=lo(0);function u(){c.x=mE(s)}if(r||!r&&!a)if((zm(t)!=="body"||Ay(s))&&(o=Iv(t)),r){const g=Qd(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();a&&!r&&s&&u();const h=s&&!r&&!a?tB(s,o):lo(0),f=i.left+o.scrollLeft-c.x-h.x,p=i.top+o.scrollTop-c.y-h.y;return{x:f,y:p,width:i.width,height:i.height}}function F4(e){return Si(e).position==="static"}function L7(e,t){if(!go(e)||Si(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return bo(e)===n&&(n=n.ownerDocument.body),n}function rB(e,t){const n=ma(e);if(_v(e))return n;if(!go(e)){let s=Kc(e);for(;s&&!ym(s);){if(Ai(s)&&!F4(s))return s;s=Kc(s)}return n}let r=L7(e,t);for(;r&&Wfe(r)&&F4(r);)r=L7(r,t);return r&&ym(r)&&F4(r)&&!lE(r)?n:r||Zfe(e)||n}const _me=async function(e){const t=this.getOffsetParent||rB,n=this.getDimensions,r=await n(e.floating);return{reference:jme(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ime(e){return Si(e).direction==="rtl"}const Tme={convertOffsetParentRelativeRectToViewportRelativeRect:wme,getDocumentElement:bo,getClippingRect:Ame,getOffsetParent:rB,getElementRects:_me,getClientRects:xme,getDimensions:Sme,getScale:qf,isElement:Ai,isRTL:Ime};function sB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pme(e,t){let n=null,r;const s=bo(e);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:h,top:f,width:p,height:g}=u;if(o||t(),!p||!g)return;const b=yw(f),y=yw(s.clientWidth-(h+p)),w=yw(s.clientHeight-(f+g)),v=yw(h),N={rootMargin:-b+"px "+-y+"px "+-w+"px "+-v+"px",threshold:da(0,Zc(1,c))||1};let A=!0;function C(k){const S=k[0].intersectionRatio;if(S!==c){if(!A)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!sB(u,e.getBoundingClientRect())&&i(),A=!1}try{n=new IntersectionObserver(C,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,N)}n.observe(e)}return i(!0),a}function Ome(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=fE(e),h=s||a?[...u?Vg(u):[],...Vg(t)]:[];h.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const f=u&&o?Pme(u,n):null;let p=-1,g=null;i&&(g=new ResizeObserver(v=>{let[N]=v;N&&N.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let b,y=c?Qd(e):null;c&&w();function w(){const v=Qd(e);y&&!sB(y,v)&&n(),y=v,b=requestAnimationFrame(w)}return n(),()=>{var v;h.forEach(N=>{s&&N.removeEventListener("scroll",n),a&&N.removeEventListener("resize",n)}),f?.(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const Rme=fme,Mme=mme,zme=ume,Fme=gme,Dme=dme,U7=cme,Bme=pme,Lme=(e,t,n)=>{const r=new Map,s={platform:Tme,...n},a={...s.platform,_c:r};return lme(e,t,{...s,platform:a})};var Ume=typeof document<"u",$me=function(){},p1=Ume?j.useLayoutEffect:$me;function Ex(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ex(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Ex(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function aB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $7(e,t){const n=aB(e);return Math.round(t*n)/n}function D4(e){const t=j.useRef(e);return p1(()=>{t.current=e}),t}function Hme(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[h,f]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=j.useState(r);Ex(p,r)||g(r);const[b,y]=j.useState(null),[w,v]=j.useState(null),N=j.useCallback($=>{$!==S.current&&(S.current=$,y($))},[]),A=j.useCallback($=>{$!==T.current&&(T.current=$,v($))},[]),C=a||b,k=i||w,S=j.useRef(null),T=j.useRef(null),P=j.useRef(h),I=c!=null,M=D4(c),W=D4(s),z=D4(u),B=j.useCallback(()=>{if(!S.current||!T.current)return;const $={placement:t,strategy:n,middleware:p};W.current&&($.platform=W.current),Lme(S.current,T.current,$).then(Z=>{const ee={...Z,isPositioned:z.current!==!1};O.current&&!Ex(P.current,ee)&&(P.current=ee,io.flushSync(()=>{f(ee)}))})},[p,t,n,W,z]);p1(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[u]);const O=j.useRef(!1);p1(()=>(O.current=!0,()=>{O.current=!1}),[]),p1(()=>{if(C&&(S.current=C),k&&(T.current=k),C&&k){if(M.current)return M.current(C,k,B);B()}},[C,k,B,M,I]);const F=j.useMemo(()=>({reference:S,floating:T,setReference:N,setFloating:A}),[N,A]),G=j.useMemo(()=>({reference:C,floating:k}),[C,k]),K=j.useMemo(()=>{const $={position:n,left:0,top:0};if(!G.floating)return $;const Z=$7(G.floating,h.x),ee=$7(G.floating,h.y);return o?{...$,transform:"translate("+Z+"px, "+ee+"px)",...aB(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Z,top:ee}},[n,o,G.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:B,refs:F,elements:G,floatingStyles:K}),[h,B,F,G,K])}const Wme=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?U7({element:r.current,padding:s}).fn(n):{}:r?U7({element:r,padding:s}).fn(n):{}}}},Gme=(e,t)=>({...Rme(e),options:[e,t]}),qme=(e,t)=>({...Mme(e),options:[e,t]}),Vme=(e,t)=>({...Bme(e),options:[e,t]}),Kme=(e,t)=>({...zme(e),options:[e,t]}),Zme=(e,t)=>({...Fme(e),options:[e,t]}),Yme=(e,t)=>({...Dme(e),options:[e,t]}),Qme=(e,t)=>({...Wme(e),options:[e,t]});let pE=j.createContext(null);pE.displayName="GroupContext";let Jme=j.Fragment;function Xme(e){var t;let[n,r]=j.useState(null),[s,a]=zfe(),[i,o]=Tfe(),c=j.useMemo(()=>({switch:n,setSwitch:r}),[n,r]),u={},h=e,f=Ey();return Ze.createElement(o,{name:"Switch.Description",value:i},Ze.createElement(a,{name:"Switch.Label",value:s,props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(p){n&&(C6(p.currentTarget)&&p.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},Ze.createElement(pE.Provider,{value:c},f({ourProps:u,theirProps:h,slot:{},defaultTag:Jme,name:"Switch.Group"}))))}let epe="button";function tpe(e,t){var n;let r=j.useId(),s=HD(),a=aE(),{id:i=s||`headlessui-switch-${r}`,disabled:o=a||!1,checked:c,defaultChecked:u,onChange:h,name:f,value:p,form:g,autoFocus:b=!1,...y}=e,w=j.useContext(pE),[v,N]=j.useState(null),A=j.useRef(null),C=oE(A,t,w===null?null:w.setSwitch,N),k=mfe(u),[S,T]=ffe(c,h,k??!1),P=rE(),[I,M]=j.useState(!1),W=gi(()=>{M(!0),T?.(!S),P.nextFrame(()=>{M(!1)})}),z=gi(re=>{if(Sfe(re.currentTarget))return re.preventDefault();re.preventDefault(),W()}),B=gi(re=>{re.key===E6.Space?(re.preventDefault(),W()):re.key===E6.Enter&&pfe(re.currentTarget)}),O=gi(re=>re.preventDefault()),F=KD(),G=Ife(),{isFocusVisible:K,focusProps:$}=Zhe({autoFocus:b}),{isHovered:Z,hoverProps:ee}=Khe({isDisabled:o}),{pressed:L,pressProps:V}=sfe({disabled:o}),Q=j.useMemo(()=>({checked:S,disabled:o,hover:Z,focus:K,active:L,autofocus:b,changing:I}),[S,Z,K,L,o,I,b]),Y=dfe({id:i,ref:C,role:"switch",type:Ufe(e,v),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":S,"aria-labelledby":F,"aria-describedby":G,disabled:o||void 0,autoFocus:b,onClick:z,onKeyUp:B,onKeyPress:O},$,ee,V),ae=j.useCallback(()=>{if(k!==void 0)return T?.(k)},[T,k]),ue=Ey();return Ze.createElement(Ze.Fragment,null,f!=null&&Ze.createElement(xfe,{disabled:o,data:{[f]:p||"on"},overrides:{type:"checkbox",checked:S},form:g,onReset:ae}),ue({ourProps:Y,theirProps:y,slot:Q,defaultTag:epe,name:"Switch"}))}let npe=Cv(tpe),rpe=Xme,spe=Lfe,ape=Mfe,ipe=Object.assign(npe,{Group:rpe,Label:spe,Description:ape});const iB=6048e5,ope=864e5,H7=Symbol.for("constructDateFrom");function Or(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&H7 in e?e[H7](t):e instanceof Date?new e.constructor(t):new Date(t)}function zn(e,t){return Or(t||e,e)}function oB(e,t,n){const r=zn(e,n?.in);return isNaN(t)?Or(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function lB(e,t,n){const r=zn(e,n?.in);if(isNaN(t))return Or(e,NaN);if(!t)return r;const s=r.getDate(),a=Or(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}let lpe={};function Sy(){return lpe}function bm(e,t){const n=Sy(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=zn(e,t?.in),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Zg(e,t){return bm(e,{...t,weekStartsOn:1})}function cB(e,t){const n=zn(e,t?.in),r=n.getFullYear(),s=Or(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Zg(s),i=Or(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Zg(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function W7(e){const t=zn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Dm(e,...t){const n=Or.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Yg(e,t){const n=zn(e,t?.in);return n.setHours(0,0,0,0),n}function uB(e,t,n){const[r,s]=Dm(n?.in,e,t),a=Yg(r),i=Yg(s),o=+a-W7(a),c=+i-W7(i);return Math.round((o-c)/ope)}function cpe(e,t){const n=cB(e,t),r=Or(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Zg(r)}function upe(e,t,n){return oB(e,t*7,n)}function dpe(e,t,n){return lB(e,t*12,n)}function hpe(e,t){let n,r=t?.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=Or.bind(null,s));const a=zn(s,r);(!n||n<a||isNaN(+a))&&(n=a)}),Or(r,n||NaN)}function fpe(e,t){let n,r=t?.in;return e.forEach(s=>{!r&&typeof s=="object"&&(r=Or.bind(null,s));const a=zn(s,r);(!n||n>a||isNaN(+a))&&(n=a)}),Or(r,n||NaN)}function mpe(e,t,n){const[r,s]=Dm(n?.in,e,t);return+Yg(r)==+Yg(s)}function dB(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ppe(e){return!(!dB(e)&&typeof e!="number"||isNaN(+zn(e)))}function gpe(e,t,n){const[r,s]=Dm(n?.in,e,t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function ype(e,t){const n=zn(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function bpe(e,t){const[n,r]=Dm(e,t.start,t.end);return{start:n,end:r}}function wpe(e,t){const{start:n,end:r}=bpe(t?.in,e);let s=+n>+r;const a=s?+n:+r,i=s?r:n;i.setHours(0,0,0,0),i.setDate(1);let o=1;const c=[];for(;+i<=a;)c.push(Or(n,i)),i.setMonth(i.getMonth()+o);return s?c.reverse():c}function xpe(e,t){const n=zn(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function vpe(e,t){const n=zn(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function hB(e,t){const n=zn(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function fB(e,t){const n=Sy(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=zn(e,t?.in),a=s.getDay(),i=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function Npe(e,t){return fB(e,{...t,weekStartsOn:1})}const kpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Cpe=(e,t,n)=>{let r;const s=kpe[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function B4(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Epe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ape={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Spe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jpe={date:B4({formats:Epe,defaultWidth:"full"}),time:B4({formats:Ape,defaultWidth:"full"}),dateTime:B4({formats:Spe,defaultWidth:"full"})},_pe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ipe=(e,t,n,r)=>_pe[e];function Zp(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Tpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ppe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ope={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fpe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Dpe={ordinalNumber:Fpe,era:Zp({values:Tpe,defaultWidth:"wide"}),quarter:Zp({values:Ppe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Zp({values:Ope,defaultWidth:"wide"}),day:Zp({values:Rpe,defaultWidth:"wide"}),dayPeriod:Zp({values:Mpe,defaultWidth:"wide",formattingValues:zpe,defaultFormattingWidth:"wide"})};function Yp(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?Lpe(o,f=>f.test(i)):Bpe(o,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}function Bpe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Lpe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Upe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const o=t.slice(s.length);return{value:i,rest:o}}}const $pe=/^(\d+)(th|st|nd|rd)?/i,Hpe=/\d+/i,Wpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Gpe={any:[/^b/i,/^(a|c)/i]},qpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vpe={any:[/1/i,/2/i,/3/i,/4/i]},Kpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ype={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e0e={ordinalNumber:Upe({matchPattern:$pe,parsePattern:Hpe,valueCallback:e=>parseInt(e,10)}),era:Yp({matchPatterns:Wpe,defaultMatchWidth:"wide",parsePatterns:Gpe,defaultParseWidth:"any"}),quarter:Yp({matchPatterns:qpe,defaultMatchWidth:"wide",parsePatterns:Vpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yp({matchPatterns:Kpe,defaultMatchWidth:"wide",parsePatterns:Zpe,defaultParseWidth:"any"}),day:Yp({matchPatterns:Ype,defaultMatchWidth:"wide",parsePatterns:Qpe,defaultParseWidth:"any"}),dayPeriod:Yp({matchPatterns:Jpe,defaultMatchWidth:"any",parsePatterns:Xpe,defaultParseWidth:"any"})},gE={code:"en-US",formatDistance:Cpe,formatLong:jpe,formatRelative:Ipe,localize:Dpe,match:e0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t0e(e,t){const n=zn(e,t?.in);return uB(n,hB(n))+1}function mB(e,t){const n=zn(e,t?.in),r=+Zg(n)-+cpe(n);return Math.round(r/iB)+1}function pB(e,t){const n=zn(e,t?.in),r=n.getFullYear(),s=Sy(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=Or(t?.in||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const o=bm(i,t),c=Or(t?.in||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=bm(c,t);return+n>=+o?r+1:+n>=+u?r:r-1}function n0e(e,t){const n=Sy(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=pB(e,t),a=Or(t?.in||e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),bm(a,t)}function gB(e,t){const n=zn(e,t?.in),r=+bm(n,t)-+n0e(n,t);return Math.round(r/iB)+1}function _n(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ac={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return _n(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_n(n+1,2)},d(e,t){return _n(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _n(e.getHours()%12||12,t.length)},H(e,t){return _n(e.getHours(),t.length)},m(e,t){return _n(e.getMinutes(),t.length)},s(e,t){return _n(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return _n(s,t.length)}},Vh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G7={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ac.y(e,t)},Y:function(e,t,n,r){const s=pB(e,r),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return _n(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):_n(a,t.length)},R:function(e,t){const n=cB(e);return _n(n,t.length)},u:function(e,t){const n=e.getFullYear();return _n(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return _n(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return _n(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ac.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return _n(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=gB(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):_n(s,t.length)},I:function(e,t,n){const r=mB(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):_n(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ac.d(e,t)},D:function(e,t,n){const r=t0e(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_n(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return _n(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return _n(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return _n(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Vh.noon:r===0?s=Vh.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Vh.evening:r>=12?s=Vh.afternoon:r>=4?s=Vh.morning:s=Vh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ac.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ac.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_n(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):_n(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ac.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ac.s(e,t)},S:function(e,t){return ac.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return V7(r);case"XXXX":case"XX":return Ju(r);case"XXXXX":case"XXX":default:return Ju(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return V7(r);case"xxxx":case"xx":return Ju(r);case"xxxxx":case"xxx":default:return Ju(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+q7(r,":");case"OOOO":default:return"GMT"+Ju(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+q7(r,":");case"zzzz":default:return"GMT"+Ju(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return _n(r,t.length)},T:function(e,t,n){return _n(+e,t.length)}};function q7(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+_n(a,2)}function V7(e,t){return e%60===0?(e>0?"-":"+")+_n(Math.abs(e)/60,2):Ju(e,t)}function Ju(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=_n(Math.trunc(r/60),2),a=_n(r%60,2);return n+s+t+a}const K7=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},r0e=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return K7(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",K7(r,t)).replace("{{time}}",yB(s,t))},s0e={p:yB,P:r0e},a0e=/^D+$/,i0e=/^Y+$/,o0e=["D","DD","YY","YYYY"];function l0e(e){return a0e.test(e)}function c0e(e){return i0e.test(e)}function u0e(e,t,n){const r=d0e(e,t,n);if(console.warn(r),o0e.includes(e))throw new RangeError(r)}function d0e(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m0e=/^'([^]*?)'?$/,p0e=/''/g,g0e=/[a-zA-Z]/;function y0e(e,t,n){const r=Sy(),s=n?.locale??r.locale??gE,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=zn(e,n?.in);if(!ppe(o))throw new RangeError("Invalid time value");let c=t.match(f0e).map(h=>{const f=h[0];if(f==="p"||f==="P"){const p=s0e[f];return p(h,s.formatLong)}return h}).join("").match(h0e).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const f=h[0];if(f==="'")return{isToken:!1,value:b0e(h)};if(G7[f])return{isToken:!0,value:h};if(f.match(g0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(h=>{if(!h.isToken)return h.value;const f=h.value;(!n?.useAdditionalWeekYearTokens&&c0e(f)||!n?.useAdditionalDayOfYearTokens&&l0e(f))&&u0e(f,t,String(e));const p=G7[f[0]];return p(o,f,s.localize,u)}).join("")}function b0e(e){const t=e.match(m0e);return t?t[1].replace(p0e,"'"):e}function w0e(e,t){const n=zn(e,t?.in),r=n.getFullYear(),s=n.getMonth(),a=Or(n,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function x0e(e,t){return zn(e,t?.in).getMonth()}function v0e(e,t){return zn(e,t?.in).getFullYear()}function N0e(e,t){return+zn(e)>+zn(t)}function k0e(e,t){return+zn(e)<+zn(t)}function C0e(e,t,n){const[r,s]=Dm(n?.in,e,t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function E0e(e,t,n){const[r,s]=Dm(n?.in,e,t);return r.getFullYear()===s.getFullYear()}function A0e(e,t,n){const r=zn(e,n?.in),s=r.getFullYear(),a=r.getDate(),i=Or(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=w0e(i);return r.setMonth(t,Math.min(a,o)),r}function S0e(e,t,n){const r=zn(e,n?.in);return isNaN(+r)?Or(e,NaN):(r.setFullYear(t),r)}const yE="-",j0e=e=>{const t=I0e(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(yE);return a[0]===""&&a.length!==1&&a.shift(),bB(a,t)||_0e(s)},getConflictingClassGroupIds:(s,a)=>{const i=n[s]||[];return a&&r[s]?[...i,...r[s]]:i}}},bB=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?bB(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(yE);return t.validators.find(({validator:i})=>i(a))?.classGroupId},Z7=/^\[(.+)\]$/,_0e=e=>{if(Z7.test(e)){const t=Z7.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},I0e=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)_6(n[s],r,s,t);return r},_6=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Y7(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(T0e(s)){_6(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{_6(i,Y7(t,a),n,r)})})},Y7=(e,t)=>{let n=e;return t.split(yE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},T0e=e=>e.isThemeGetter,P0e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},I6="!",T6=":",O0e=T6.length,R0e=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const a=[];let i=0,o=0,c=0,u;for(let b=0;b<s.length;b++){let y=s[b];if(i===0&&o===0){if(y===T6){a.push(s.slice(c,b)),c=b+O0e;continue}if(y==="/"){u=b;continue}}y==="["?i++:y==="]"?i--:y==="("?o++:y===")"&&o--}const h=a.length===0?s:s.substring(c),f=M0e(h),p=f!==h,g=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const s=t+T6,a=r;r=i=>i.startsWith(s)?a(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},M0e=e=>e.endsWith(I6)?e.substring(0,e.length-1):e.startsWith(I6)?e.substring(1):e,z0e=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const r=[];let s=[];return n.forEach(a=>{a[0]==="["||t[a]?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r}},F0e=e=>({cache:P0e(e.cacheSize),parseClassName:R0e(e),sortModifiers:z0e(e),...j0e(e)}),D0e=/\s+/,B0e=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=t,i=[],o=e.trim().split(D0e);let c="";for(let u=o.length-1;u>=0;u-=1){const h=o[u],{isExternal:f,modifiers:p,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:y}=n(h);if(f){c=h+(c.length>0?" "+c:c);continue}let w=!!y,v=r(w?b.substring(0,y):b);if(!v){if(!w){c=h+(c.length>0?" "+c:c);continue}if(v=r(b),!v){c=h+(c.length>0?" "+c:c);continue}w=!1}const N=a(p).join(":"),A=g?N+I6:N,C=A+v;if(i.includes(C))continue;i.push(C);const k=s(v,w);for(let S=0;S<k.length;++S){const T=k[S];i.push(A+T)}c=h+(c.length>0?" "+c:c)}return c};function L0e(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=wB(t))&&(r&&(r+=" "),r+=n);return r}const wB=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=wB(e[r]))&&(n&&(n+=" "),n+=t);return n};function U0e(e,...t){let n,r,s,a=i;function i(c){const u=t.reduce((h,f)=>f(h),e());return n=F0e(u),r=n.cache.get,s=n.cache.set,a=o,o(c)}function o(c){const u=r(c);if(u)return u;const h=B0e(c,n);return s(c,h),h}return function(){return a(L0e.apply(null,arguments))}}const Ir=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},xB=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vB=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$0e=/^\d+\/\d+$/,H0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,q0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kh=e=>$0e.test(e),rn=e=>!!e&&!Number.isNaN(Number(e)),ic=e=>!!e&&Number.isInteger(Number(e)),L4=e=>e.endsWith("%")&&rn(e.slice(0,-1)),Lo=e=>H0e.test(e),K0e=()=>!0,Z0e=e=>W0e.test(e)&&!G0e.test(e),NB=()=>!1,Y0e=e=>q0e.test(e),Q0e=e=>V0e.test(e),J0e=e=>!xt(e)&&!vt(e),X0e=e=>Bm(e,EB,NB),xt=e=>xB.test(e),Pu=e=>Bm(e,AB,Z0e),U4=e=>Bm(e,sge,rn),Q7=e=>Bm(e,kB,NB),ege=e=>Bm(e,CB,Q0e),bw=e=>Bm(e,SB,Y0e),vt=e=>vB.test(e),Qp=e=>Lm(e,AB),tge=e=>Lm(e,age),J7=e=>Lm(e,kB),nge=e=>Lm(e,EB),rge=e=>Lm(e,CB),ww=e=>Lm(e,SB,!0),Bm=(e,t,n)=>{const r=xB.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Lm=(e,t,n=!1)=>{const r=vB.exec(e);return r?r[1]?t(r[1]):n:!1},kB=e=>e==="position"||e==="percentage",CB=e=>e==="image"||e==="url",EB=e=>e==="length"||e==="size"||e==="bg-size",AB=e=>e==="length",sge=e=>e==="number",age=e=>e==="family-name",SB=e=>e==="shadow",ige=()=>{const e=Ir("color"),t=Ir("font"),n=Ir("text"),r=Ir("font-weight"),s=Ir("tracking"),a=Ir("leading"),i=Ir("breakpoint"),o=Ir("container"),c=Ir("spacing"),u=Ir("radius"),h=Ir("shadow"),f=Ir("inset-shadow"),p=Ir("text-shadow"),g=Ir("drop-shadow"),b=Ir("blur"),y=Ir("perspective"),w=Ir("aspect"),v=Ir("ease"),N=Ir("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...C(),vt,xt],S=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],P=()=>[vt,xt,c],I=()=>[Kh,"full","auto",...P()],M=()=>[ic,"none","subgrid",vt,xt],W=()=>["auto",{span:["full",ic,vt,xt]},ic,vt,xt],z=()=>[ic,"auto",vt,xt],B=()=>["auto","min","max","fr",vt,xt],O=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...P()],K=()=>[Kh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],$=()=>[e,vt,xt],Z=()=>[...C(),J7,Q7,{position:[vt,xt]}],ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",nge,X0e,{size:[vt,xt]}],V=()=>[L4,Qp,Pu],Q=()=>["","none","full",u,vt,xt],Y=()=>["",rn,Qp,Pu],ae=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[rn,L4,J7,Q7],ie=()=>["","none",b,vt,xt],pe=()=>["none",rn,vt,xt],oe=()=>["none",rn,vt,xt],he=()=>[rn,vt,xt],Ne=()=>[Kh,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Lo],breakpoint:[Lo],color:[K0e],container:[Lo],"drop-shadow":[Lo],ease:["in","out","in-out"],font:[J0e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Lo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Lo],shadow:[Lo],spacing:["px",rn],text:[Lo],"text-shadow":[Lo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Kh,xt,vt,w]}],container:["container"],columns:[{columns:[rn,xt,vt,o]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[ic,"auto",vt,xt]}],basis:[{basis:[Kh,"full","auto",o,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rn,Kh,"auto","initial","none",xt]}],grow:[{grow:["",rn,vt,xt]}],shrink:[{shrink:["",rn,vt,xt]}],order:[{order:[ic,"first","last","none",vt,xt]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...O(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...O()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":O()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[o,"screen",...K()]}],"min-w":[{"min-w":[o,"screen","none",...K()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",n,Qp,Pu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,vt,U4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",L4,xt]}],"font-family":[{font:[tge,xt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,vt,xt]}],"line-clamp":[{"line-clamp":[rn,"none",vt,U4]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",vt,xt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vt,xt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[rn,"from-font","auto",vt,Pu]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[rn,"auto",vt,xt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt,xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt,xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Z()}],"bg-repeat":[{bg:ee()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ic,vt,xt],radial:["",vt,xt],conic:[ic,vt,xt]},rge,ege]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:Q()}],"rounded-s":[{"rounded-s":Q()}],"rounded-e":[{"rounded-e":Q()}],"rounded-t":[{"rounded-t":Q()}],"rounded-r":[{"rounded-r":Q()}],"rounded-b":[{"rounded-b":Q()}],"rounded-l":[{"rounded-l":Q()}],"rounded-ss":[{"rounded-ss":Q()}],"rounded-se":[{"rounded-se":Q()}],"rounded-ee":[{"rounded-ee":Q()}],"rounded-es":[{"rounded-es":Q()}],"rounded-tl":[{"rounded-tl":Q()}],"rounded-tr":[{"rounded-tr":Q()}],"rounded-br":[{"rounded-br":Q()}],"rounded-bl":[{"rounded-bl":Q()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[rn,vt,xt]}],"outline-w":[{outline:["",rn,Qp,Pu]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",h,ww,bw]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",f,ww,bw]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[rn,Pu]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",p,ww,bw]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[rn,vt,xt]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rn]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[vt,xt]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[rn]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Z()}],"mask-repeat":[{mask:ee()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vt,xt]}],filter:[{filter:["","none",vt,xt]}],blur:[{blur:ie()}],brightness:[{brightness:[rn,vt,xt]}],contrast:[{contrast:[rn,vt,xt]}],"drop-shadow":[{"drop-shadow":["","none",g,ww,bw]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",rn,vt,xt]}],"hue-rotate":[{"hue-rotate":[rn,vt,xt]}],invert:[{invert:["",rn,vt,xt]}],saturate:[{saturate:[rn,vt,xt]}],sepia:[{sepia:["",rn,vt,xt]}],"backdrop-filter":[{"backdrop-filter":["","none",vt,xt]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[rn,vt,xt]}],"backdrop-contrast":[{"backdrop-contrast":[rn,vt,xt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rn,vt,xt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rn,vt,xt]}],"backdrop-invert":[{"backdrop-invert":["",rn,vt,xt]}],"backdrop-opacity":[{"backdrop-opacity":[rn,vt,xt]}],"backdrop-saturate":[{"backdrop-saturate":[rn,vt,xt]}],"backdrop-sepia":[{"backdrop-sepia":["",rn,vt,xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vt,xt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rn,"initial",vt,xt]}],ease:[{ease:["linear","initial",v,vt,xt]}],delay:[{delay:[rn,vt,xt]}],animate:[{animate:["none",N,vt,xt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,vt,xt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:pe()}],"rotate-x":[{"rotate-x":pe()}],"rotate-y":[{"rotate-y":pe()}],"rotate-z":[{"rotate-z":pe()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[vt,xt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt,xt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt,xt]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[rn,Qp,Pu,U4]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oge=U0e(ige);function pn(...e){return oge(ED(e))}function Bc(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function X7(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jB(...e){return t=>{let n=!1;const r=e.map(s=>{const a=X7(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():X7(e[s],null)}}}}function tu(...e){return j.useCallback(jB(...e),e)}function _B(e,t=[]){let n=[];function r(a,i){const o=j.createContext(i),c=n.length;n=[...n,i];const u=f=>{const{scope:p,children:g,...b}=f,y=p?.[e]?.[c]||o,w=j.useMemo(()=>b,Object.values(b));return l.jsx(y.Provider,{value:w,children:g})};u.displayName=a+"Provider";function h(f,p){const g=p?.[e]?.[c]||o,b=j.useContext(g);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,h]}const s=()=>{const a=n.map(i=>j.createContext(i));return function(i){const o=i?.[e]||a;return j.useMemo(()=>({[`__scope${e}`]:{...i,[e]:o}}),[i,o])}};return s.scopeName=e,[r,lge(s,...t)]}function lge(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(s){const a=r.reduce((i,{useScope:o,scopeName:c})=>{const u=o(s)[`__scope${c}`];return{...i,...u}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function bE(e){const t=uge(e),n=j.forwardRef((r,s)=>{const{children:a,...i}=r,o=j.Children.toArray(a),c=o.find(hge);if(c){const u=c.props.children,h=o.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:s,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return l.jsx(t,{...i,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var cge=bE("Slot");function uge(e){const t=j.forwardRef((n,r)=>{const{children:s,...a}=n;if(j.isValidElement(s)){const i=mge(s),o=fge(a,s.props);return s.type!==j.Fragment&&(o.ref=r?jB(r,i):i),j.cloneElement(s,o)}return j.Children.count(s)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dge=Symbol("radix.slottable");function hge(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dge}function fge(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...i)=>{const o=a(...i);return s(...i),o}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function mge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Cl=pge.reduce((e,t)=>{const n=bE(`Primitive.${t}`),r=j.forwardRef((s,a)=>{const{asChild:i,...o}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gge(e,t){e&&io.flushSync(()=>e.dispatchEvent(t))}function wm(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>t.current?.(...n),[])}function yge(e,t=globalThis?.document){const n=wm(e);j.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var bge="DismissableLayer",P6="dismissableLayer.update",wge="dismissableLayer.pointerDownOutside",xge="dismissableLayer.focusOutside",eT,IB=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TB=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:o,...c}=e,u=j.useContext(IB),[h,f]=j.useState(null),p=h?.ownerDocument??globalThis?.document,[,g]=j.useState({}),b=tu(t,T=>f(T)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(w),N=h?y.indexOf(h):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,C=N>=v,k=kge(T=>{const P=T.target,I=[...u.branches].some(M=>M.contains(P));!C||I||(s?.(T),i?.(T),T.defaultPrevented||o?.())},p),S=Cge(T=>{const P=T.target;[...u.branches].some(I=>I.contains(P))||(a?.(T),i?.(T),T.defaultPrevented||o?.())},p);return yge(T=>{N===u.layers.size-1&&(r?.(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},p),j.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eT=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),tT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=eT)}},[h,p,n,u]),j.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),tT())},[h,u]),j.useEffect(()=>{const T=()=>g({});return document.addEventListener(P6,T),()=>document.removeEventListener(P6,T)},[]),l.jsx(Cl.div,{...c,ref:b,style:{pointerEvents:A?C?"auto":"none":void 0,...e.style},onFocusCapture:Bc(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Bc(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Bc(e.onPointerDownCapture,k.onPointerDownCapture)})});TB.displayName=bge;var vge="DismissableLayerBranch",Nge=j.forwardRef((e,t)=>{const n=j.useContext(IB),r=j.useRef(null),s=tu(t,r);return j.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),l.jsx(Cl.div,{...e,ref:s})});Nge.displayName=vge;function kge(e,t=globalThis?.document){const n=wm(e),r=j.useRef(!1),s=j.useRef(()=>{});return j.useEffect(()=>{const a=o=>{if(o.target&&!r.current){let c=function(){PB(wge,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Cge(e,t=globalThis?.document){const n=wm(e),r=j.useRef(!1);return j.useEffect(()=>{const s=a=>{a.target&&!r.current&&PB(xge,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tT(){const e=new CustomEvent(P6);document.dispatchEvent(e)}function PB(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?gge(s,a):s.dispatchEvent(a)}var $4=0;function Ege(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nT()),document.body.insertAdjacentElement("beforeend",e[1]??nT()),$4++,()=>{$4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$4--}},[])}function nT(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var H4="focusScope.autoFocusOnMount",W4="focusScope.autoFocusOnUnmount",rT={bubbles:!1,cancelable:!0},Age="FocusScope",OB=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[o,c]=j.useState(null),u=wm(s),h=wm(a),f=j.useRef(null),p=tu(t,y=>c(y)),g=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let y=function(A){if(g.paused||!o)return;const C=A.target;o.contains(C)?f.current=C:xc(f.current,{select:!0})},w=function(A){if(g.paused||!o)return;const C=A.relatedTarget;C!==null&&(o.contains(C)||xc(f.current,{select:!0}))},v=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&xc(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(v);return o&&N.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[r,o,g.paused]),j.useEffect(()=>{if(o){aT.add(g);const y=document.activeElement;if(!o.contains(y)){const w=new CustomEvent(H4,rT);o.addEventListener(H4,u),o.dispatchEvent(w),w.defaultPrevented||(Sge(Pge(RB(o)),{select:!0}),document.activeElement===y&&xc(o))}return()=>{o.removeEventListener(H4,u),setTimeout(()=>{const w=new CustomEvent(W4,rT);o.addEventListener(W4,h),o.dispatchEvent(w),w.defaultPrevented||xc(y??document.body,{select:!0}),o.removeEventListener(W4,h),aT.remove(g)},0)}}},[o,u,h,g]);const b=j.useCallback(y=>{if(!n&&!r||g.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(w&&v){const N=y.currentTarget,[A,C]=jge(N);A&&C?!y.shiftKey&&v===C?(y.preventDefault(),n&&xc(A,{select:!0})):y.shiftKey&&v===A&&(y.preventDefault(),n&&xc(C,{select:!0})):v===N&&y.preventDefault()}},[n,r,g.paused]);return l.jsx(Cl.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});OB.displayName=Age;function Sge(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xc(r,{select:t}),document.activeElement!==n)return}function jge(e){const t=RB(e),n=sT(t,e),r=sT(t.reverse(),e);return[n,r]}function RB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sT(e,t){for(const n of e)if(!_ge(n,{upTo:t}))return n}function _ge(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ige(e){return e instanceof HTMLInputElement&&"select"in e}function xc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ige(e)&&t&&e.select()}}var aT=Tge();function Tge(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=iT(e,t),e.unshift(t)},remove(t){e=iT(e,t),e[0]?.resume()}}}function iT(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Pge(e){return e.filter(t=>t.tagName!=="A")}var Yc=globalThis?.document?j.useLayoutEffect:()=>{},Oge=kk[" useId ".trim().toString()]||(()=>{}),Rge=0;function Mge(e){const[t,n]=j.useState(Oge());return Yc(()=>{n(r=>r??String(Rge++))},[e]),e||(t?`radix-${t}`:"")}var zge="Arrow",MB=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return l.jsx(Cl.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});MB.displayName=zge;var Fge=MB;function Dge(e){const[t,n]=j.useState(void 0);return Yc(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var wE="Popper",[zB,FB]=_B(wE),[Bge,DB]=zB(wE),BB=e=>{const{__scopePopper:t,children:n}=e,[r,s]=j.useState(null);return l.jsx(Bge,{scope:t,anchor:r,onAnchorChange:s,children:n})};BB.displayName=wE;var LB="PopperAnchor",UB=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=DB(LB,n),i=j.useRef(null),o=tu(t,i);return j.useEffect(()=>{a.onAnchorChange(r?.current||i.current)}),r?null:l.jsx(Cl.div,{...s,ref:o})});UB.displayName=LB;var xE="PopperContent",[Lge,Uge]=zB(xE),$B=j.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:g="optimized",onPlaced:b,...y}=e,w=DB(xE,n),[v,N]=j.useState(null),A=tu(t,re=>N(re)),[C,k]=j.useState(null),S=Dge(C),T=S?.width??0,P=S?.height??0,I=r+(a!=="center"?"-"+a:""),M=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},W=Array.isArray(u)?u:[u],z=W.length>0,B={padding:M,boundary:W.filter(Hge),altBoundary:z},{refs:O,floatingStyles:F,placement:G,isPositioned:K,middlewareData:$}=Hme({strategy:"fixed",placement:I,whileElementsMounted:(...re)=>Ome(...re,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[Gme({mainAxis:s+P,alignmentAxis:i}),c&&qme({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Vme():void 0,...B}),c&&Kme({...B}),Zme({...B,apply:({elements:re,rects:ie,availableWidth:pe,availableHeight:oe})=>{const{width:he,height:Ne}=ie.reference,Re=re.floating.style;Re.setProperty("--radix-popper-available-width",`${pe}px`),Re.setProperty("--radix-popper-available-height",`${oe}px`),Re.setProperty("--radix-popper-anchor-width",`${he}px`),Re.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),C&&Qme({element:C,padding:o}),Wge({arrowWidth:T,arrowHeight:P}),p&&Yme({strategy:"referenceHidden",...B})]}),[Z,ee]=GB(G),L=wm(b);Yc(()=>{K&&L?.()},[K,L]);const V=$.arrow?.x,Q=$.arrow?.y,Y=$.arrow?.centerOffset!==0,[ae,ue]=j.useState();return Yc(()=>{v&&ue(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:K?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Lge,{scope:n,placedSide:Z,onArrowChange:k,arrowX:V,arrowY:Q,shouldHideArrow:Y,children:l.jsx(Cl.div,{"data-side":Z,"data-align":ee,...y,ref:A,style:{...y.style,animation:K?void 0:"none"}})})})});$B.displayName=xE;var HB="PopperArrow",$ge={top:"bottom",right:"left",bottom:"top",left:"right"},WB=j.forwardRef(function(e,t){const{__scopePopper:n,...r}=e,s=Uge(HB,n),a=$ge[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(Fge,{...r,ref:t,style:{...r.style,display:"block"}})})});WB.displayName=HB;function Hge(e){return e!==null}var Wge=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:s}=t,a=s.arrow?.centerOffset!==0,i=a?0:e.arrowWidth,o=a?0:e.arrowHeight,[c,u]=GB(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(s.arrow?.x??0)+i/2,p=(s.arrow?.y??0)+o/2;let g="",b="";return c==="bottom"?(g=a?h:`${f}px`,b=`${-o}px`):c==="top"?(g=a?h:`${f}px`,b=`${r.floating.height+o}px`):c==="right"?(g=`${-o}px`,b=a?h:`${p}px`):c==="left"&&(g=`${r.floating.width+o}px`,b=a?h:`${p}px`),{data:{x:g,y:b}}}});function GB(e){const[t,n="center"]=e.split("-");return[t,n]}var Gge=BB,qB=UB,qge=$B,Vge=WB,Kge="Portal",VB=j.forwardRef((e,t)=>{const{container:n,...r}=e,[s,a]=j.useState(!1);Yc(()=>a(!0),[]);const i=n||s&&globalThis?.document?.body;return i?uF.createPortal(l.jsx(Cl.div,{...r,ref:t}),i):null});VB.displayName=Kge;function Zge(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var vE=e=>{const{present:t,children:n}=e,r=Yge(t),s=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),a=tu(r.ref,Qge(s));return typeof n=="function"||r.isPresent?j.cloneElement(s,{ref:a}):null};vE.displayName="Presence";function Yge(e){const[t,n]=j.useState(),r=j.useRef(null),s=j.useRef(e),a=j.useRef("none"),i=e?"mounted":"unmounted",[o,c]=Zge(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=xw(r.current);a.current=o==="mounted"?u:"none"},[o]),Yc(()=>{const u=r.current,h=s.current;if(h!==e){const f=a.current,p=xw(u);e?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Yc(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=g=>{const b=xw(r.current).includes(g.animationName);if(g.target===t&&b&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=g=>{g.target===t&&(a.current=xw(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:j.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function xw(e){return e?.animationName||"none"}function Qge(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Jge=kk[" useInsertionEffect ".trim().toString()]||Yc;function Xge({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,a,i]=eye({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:s;{const h=j.useRef(e!==void 0);j.useEffect(()=>{const f=h.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const u=j.useCallback(h=>{if(o){const f=tye(h)?h(e):h;f!==e&&i.current?.(f)}else a(h)},[o,e,a,i]);return[c,u]}function eye({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),s=j.useRef(n),a=j.useRef(t);return Jge(()=>{a.current=t},[t]),j.useEffect(()=>{s.current!==n&&(a.current?.(n),s.current=n)},[n,s]),[n,r,a]}function tye(e){return typeof e=="function"}var nye=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Zh=new WeakMap,vw=new WeakMap,Nw={},G4=0,KB=function(e){return e&&(e.host||KB(e.parentNode))},rye=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=KB(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sye=function(e,t,n,r){var s=rye(t,Array.isArray(e)?e:[e]);Nw[n]||(Nw[n]=new WeakMap);var a=Nw[n],i=[],o=new Set,c=new Set(s),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(o.has(p))h(p);else try{var g=p.getAttribute(r),b=g!==null&&g!=="false",y=(Zh.get(p)||0)+1,w=(a.get(p)||0)+1;Zh.set(p,y),a.set(p,w),i.push(p),y===1&&b&&vw.set(p,!0),w===1&&p.setAttribute(n,"true"),b||p.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return h(t),o.clear(),G4++,function(){i.forEach(function(f){var p=Zh.get(f)-1,g=a.get(f)-1;Zh.set(f,p),a.set(f,g),p||(vw.has(f)||f.removeAttribute(r),vw.delete(f)),g||f.removeAttribute(n)}),G4--,G4||(Zh=new WeakMap,Zh=new WeakMap,vw=new WeakMap,Nw={})}},aye=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=nye(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),sye(r,s,n,"aria-hidden")):function(){return null}},O6=function(e,t){return O6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},O6(e,t)};function ZB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O6(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Da=function(){return Da=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Da.apply(this,arguments)};function Tv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function YB(e,t,n,r){var s=arguments.length,a=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a}function QB(e,t){return function(n,r){t(n,r,e)}}function JB(e,t,n,r,s,a){function i(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=r.kind,c=o==="getter"?"get":o==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f,p=!1,g=n.length-1;g>=0;g--){var b={};for(var y in r)b[y]=y==="access"?{}:r[y];for(var y in r.access)b.access[y]=r.access[y];b.addInitializer=function(v){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(v||null))};var w=(0,n[g])(o==="accessor"?{get:h.get,set:h.set}:h[c],b);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=i(w.get))&&(h.get=f),(f=i(w.set))&&(h.set=f),(f=i(w.init))&&s.unshift(f)}else(f=i(w))&&(o==="field"?s.unshift(f):h[c]=f)}u&&Object.defineProperty(u,r.name,h),p=!0}function XB(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function eL(e){return typeof e=="symbol"?e:"".concat(e)}function tL(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function nL(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rL(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(o,c)}u((r=r.apply(e,t||[])).next())})}function sL(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(u){return function(h){return c([u,h])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(h){u=[6,h],s=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Pv=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function aL(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Pv(t,e,n)}function Ax(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function NE(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],i;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(o){i={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function iL(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(NE(arguments[t]));return e}function oL(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var a=arguments[t],i=0,o=a.length;i<o;i++,s++)r[s]=a[i];return r}function kE(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function xm(e){return this instanceof xm?(this.v=e,this):new xm(e)}function lL(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,a=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(g){return function(b){return Promise.resolve(b).then(g,f)}}function o(g,b){r[g]&&(s[g]=function(y){return new Promise(function(w,v){a.push([g,y,w,v])>1||c(g,y)})},b&&(s[g]=b(s[g])))}function c(g,b){try{u(r[g](b))}catch(y){p(a[0][3],y)}}function u(g){g.value instanceof xm?Promise.resolve(g.value.v).then(h,f):p(a[0][2],g)}function h(g){c("next",g)}function f(g){c("throw",g)}function p(g,b){g(b),a.shift(),a.length&&c(a[0][0],a[0][1])}}function cL(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,a){t[s]=e[s]?function(i){return(n=!n)?{value:xm(e[s](i)),done:!1}:a?a(i):i}:a}}function uL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ax=="function"?Ax(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(i){return new Promise(function(o,c){i=e[a](i),s(o,c,i.done,i.value)})}}function s(a,i,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},i)}}function dL(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var iye=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},R6=function(e){return R6=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},R6(e)};function hL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=R6(e),r=0;r<n.length;r++)n[r]!=="default"&&Pv(t,e,n[r]);return iye(t,e),t}function fL(e){return e&&e.__esModule?e:{default:e}}function mL(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function pL(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function gL(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function yL(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var oye=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function bL(e){function t(a){e.error=e.hasError?new oye(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(s,function(i){return t(i),s()})}else r|=1}catch(i){t(i)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function wL(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,a,i){return r?t?".jsx":".js":s&&(!a||!i)?n:s+a+"."+i.toLowerCase()+"js"}):e}const lye={__extends:ZB,__assign:Da,__rest:Tv,__decorate:YB,__param:QB,__esDecorate:JB,__runInitializers:XB,__propKey:eL,__setFunctionName:tL,__metadata:nL,__awaiter:rL,__generator:sL,__createBinding:Pv,__exportStar:aL,__values:Ax,__read:NE,__spread:iL,__spreadArrays:oL,__spreadArray:kE,__await:xm,__asyncGenerator:lL,__asyncDelegator:cL,__asyncValues:uL,__makeTemplateObject:dL,__importStar:hL,__importDefault:fL,__classPrivateFieldGet:mL,__classPrivateFieldSet:pL,__classPrivateFieldIn:gL,__addDisposableResource:yL,__disposeResources:bL,__rewriteRelativeImportExtension:wL},vve=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:yL,get __assign(){return Da},__asyncDelegator:cL,__asyncGenerator:lL,__asyncValues:uL,__await:xm,__awaiter:rL,__classPrivateFieldGet:mL,__classPrivateFieldIn:gL,__classPrivateFieldSet:pL,__createBinding:Pv,__decorate:YB,__disposeResources:bL,__esDecorate:JB,__exportStar:aL,__extends:ZB,__generator:sL,__importDefault:fL,__importStar:hL,__makeTemplateObject:dL,__metadata:nL,__param:QB,__propKey:eL,__read:NE,__rest:Tv,__rewriteRelativeImportExtension:wL,__runInitializers:XB,__setFunctionName:tL,__spread:iL,__spreadArray:kE,__spreadArrays:oL,__values:Ax,default:lye},Symbol.toStringTag,{value:"Module"}));var g1="right-scroll-bar-position",y1="width-before-scroll-bar",cye="with-scroll-bars-hidden",uye="--removed-body-scroll-bar-size";function q4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function dye(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var hye=typeof window<"u"?j.useLayoutEffect:j.useEffect,oT=new WeakMap;function fye(e,t){var n=dye(null,function(r){return e.forEach(function(s){return q4(s,r)})});return hye(function(){var r=oT.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(o){a.has(o)||q4(o,null)}),a.forEach(function(o){s.has(o)||q4(o,i)})}oT.set(n,e)},[e]),n}function mye(e){return e}function pye(e,t){t===void 0&&(t=mye);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(o){return o!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(o){return a(o)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var o=n;n=[],o.forEach(a),i=n}var c=function(){var h=i;i=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function gye(e){e===void 0&&(e={});var t=pye(null);return t.options=Da({async:!0,ssr:!1},e),t}var xL=function(e){var t=e.sideCar,n=Tv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Da({},n))};xL.isSideCarExport=!0;function yye(e,t){return e.useMedium(t),xL}var vL=gye(),V4=function(){},Ov=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:V4,onWheelCapture:V4,onTouchMoveCapture:V4}),s=r[0],a=r[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,p=e.sideCar,g=e.noRelative,b=e.noIsolation,y=e.inert,w=e.allowPinchZoom,v=e.as,N=v===void 0?"div":v,A=e.gapMode,C=Tv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=p,S=fye([n,t]),T=Da(Da({},C),s);return j.createElement(j.Fragment,null,h&&j.createElement(k,{sideCar:vL,removeScrollBar:u,shards:f,noRelative:g,noIsolation:b,inert:y,setCallbacks:a,allowPinchZoom:!!w,lockRef:n,gapMode:A}),i?j.cloneElement(j.Children.only(o),Da(Da({},T),{ref:S})):j.createElement(N,Da({},T,{className:c,ref:S}),o))});Ov.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ov.classNames={fullWidth:y1,zeroRight:g1};var bye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wye(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bye();return t&&e.setAttribute("nonce",t),e}function xye(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vye(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Nye=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wye())&&(xye(t,n),vye(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kye=function(){var e=Nye();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},NL=function(){var e=kye(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Cye={left:0,top:0,right:0,gap:0},K4=function(e){return parseInt(e||"",10)||0},Eye=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[K4(n),K4(r),K4(s)]},Aye=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cye;var t=Eye(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Sye=NL(),Vf="data-scroll-locked",jye=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(cye,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Vf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(g1,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(y1,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(g1," .").concat(g1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(y1," .").concat(y1,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Vf,`] {
    `).concat(uye,": ").concat(o,`px;
  }
`)},lT=function(){var e=parseInt(document.body.getAttribute(Vf)||"0",10);return isFinite(e)?e:0},_ye=function(){j.useEffect(function(){return document.body.setAttribute(Vf,(lT()+1).toString()),function(){var e=lT()-1;e<=0?document.body.removeAttribute(Vf):document.body.setAttribute(Vf,e.toString())}},[])},Iye=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;_ye();var a=j.useMemo(function(){return Aye(s)},[s]);return j.createElement(Sye,{styles:jye(a,!t,s,n?"":"!important")})},M6=!1;if(typeof window<"u")try{var kw=Object.defineProperty({},"passive",{get:function(){return M6=!0,!0}});window.addEventListener("test",kw,kw),window.removeEventListener("test",kw,kw)}catch{M6=!1}var Yh=M6?{passive:!1}:!1,Tye=function(e){return e.tagName==="TEXTAREA"},kL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Tye(e)&&n[t]==="visible")},Pye=function(e){return kL(e,"overflowY")},Oye=function(e){return kL(e,"overflowX")},cT=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=CL(e,r);if(s){var a=EL(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Rye=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Mye=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},CL=function(e,t){return e==="v"?Pye(t):Oye(t)},EL=function(e,t){return e==="v"?Rye(t):Mye(t)},zye=function(e,t){return e==="h"&&t==="rtl"?-1:1},Fye=function(e,t,n,r,s){var a=zye(e,window.getComputedStyle(t).direction),i=a*r,o=n.target,c=t.contains(o),u=!1,h=i>0,f=0,p=0;do{if(!o)break;var g=EL(e,o),b=g[0],y=g[1],w=g[2],v=y-w-a*b;(b||v)&&CL(e,o)&&(f+=v,p+=b);var N=o.parentNode;o=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},Cw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uT=function(e){return[e.deltaX,e.deltaY]},dT=function(e){return e&&"current"in e?e.current:e},Dye=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bye=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lye=0,Qh=[];function Uye(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),s=j.useState(Lye++)[0],a=j.useState(NL)[0],i=j.useRef(e);j.useEffect(function(){i.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=kE([e.lockRef.current],(e.shards||[]).map(dT),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=j.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var v=Cw(y),N=n.current,A="deltaX"in y?y.deltaX:N[0]-v[0],C="deltaY"in y?y.deltaY:N[1]-v[1],k,S=y.target,T=Math.abs(A)>Math.abs(C)?"h":"v";if("touches"in y&&T==="h"&&S.type==="range")return!1;var P=cT(T,S);if(!P)return!0;if(P?k=T:(k=T==="v"?"h":"v",P=cT(T,S)),!P)return!1;if(!r.current&&"changedTouches"in y&&(A||C)&&(r.current=k),!k)return!0;var I=r.current||k;return Fye(I,w,y,I==="h"?A:C)},[]),c=j.useCallback(function(y){var w=y;if(!(!Qh.length||Qh[Qh.length-1]!==a)){var v="deltaY"in w?uT(w):Cw(w),N=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&Dye(k.delta,v)})[0];if(N&&N.should){w.cancelable&&w.preventDefault();return}if(!N){var A=(i.current.shards||[]).map(dT).filter(Boolean).filter(function(k){return k.contains(w.target)}),C=A.length>0?o(w,A[0]):!i.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),u=j.useCallback(function(y,w,v,N){var A={name:y,delta:w,target:v,should:N,shadowParent:$ye(v)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(C){return C!==A})},1)},[]),h=j.useCallback(function(y){n.current=Cw(y),r.current=void 0},[]),f=j.useCallback(function(y){u(y.type,uT(y),y.target,o(y,e.lockRef.current))},[]),p=j.useCallback(function(y){u(y.type,Cw(y),y.target,o(y,e.lockRef.current))},[]);j.useEffect(function(){return Qh.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Yh),document.addEventListener("touchmove",c,Yh),document.addEventListener("touchstart",h,Yh),function(){Qh=Qh.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Yh),document.removeEventListener("touchmove",c,Yh),document.removeEventListener("touchstart",h,Yh)}},[]);var g=e.removeScrollBar,b=e.inert;return j.createElement(j.Fragment,null,b?j.createElement(a,{styles:Bye(s)}):null,g?j.createElement(Iye,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function $ye(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Hye=yye(vL,Uye);var AL=j.forwardRef(function(e,t){return j.createElement(Ov,Da({},e,{ref:t,sideCar:Hye}))});AL.classNames=Ov.classNames;var Rv="Popover",[SL,Nve]=_B(Rv,[FB]),jy=FB(),[Wye,nu]=SL(Rv),jL=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,o=jy(t),c=j.useRef(null),[u,h]=j.useState(!1),[f,p]=Xge({prop:r,defaultProp:s??!1,onChange:a,caller:Rv});return l.jsx(Gge,{...o,children:l.jsx(Wye,{scope:t,contentId:Mge(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>h(!0),[]),onCustomAnchorRemove:j.useCallback(()=>h(!1),[]),modal:i,children:n})})};jL.displayName=Rv;var _L="PopoverAnchor",Gye=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=nu(_L,n),a=jy(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=s;return j.useEffect(()=>(i(),()=>o()),[i,o]),l.jsx(qB,{...a,...r,ref:t})});Gye.displayName=_L;var IL="PopoverTrigger",TL=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=nu(IL,n),a=jy(n),i=tu(t,s.triggerRef),o=l.jsx(Cl.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zL(s.open),...r,ref:i,onClick:Bc(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:l.jsx(qB,{asChild:!0,...a,children:o})});TL.displayName=IL;var CE="PopoverPortal",[qye,Vye]=SL(CE,{forceMount:void 0}),PL=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=nu(CE,t);return l.jsx(qye,{scope:t,forceMount:n,children:l.jsx(vE,{present:n||a.open,children:l.jsx(VB,{asChild:!0,container:s,children:r})})})};PL.displayName=CE;var vm="PopoverContent",OL=j.forwardRef((e,t)=>{const n=Vye(vm,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=nu(vm,e.__scopePopover);return l.jsx(vE,{present:r||a.open,children:a.modal?l.jsx(Zye,{...s,ref:t}):l.jsx(Yye,{...s,ref:t})})});OL.displayName=vm;var Kye=bE("PopoverContent.RemoveScroll"),Zye=j.forwardRef((e,t)=>{const n=nu(vm,e.__scopePopover),r=j.useRef(null),s=tu(t,r),a=j.useRef(!1);return j.useEffect(()=>{const i=r.current;if(i)return aye(i)},[]),l.jsx(AL,{as:Kye,allowPinchZoom:!0,children:l.jsx(RL,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Bc(e.onCloseAutoFocus,i=>{i.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Bc(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Bc(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Yye=j.forwardRef((e,t)=>{const n=nu(vm,e.__scopePopover),r=j.useRef(!1),s=j.useRef(!1);return l.jsx(RL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),RL=j.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...f}=e,p=nu(vm,n),g=jy(n);return Ege(),l.jsx(OB,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:l.jsx(TB,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:l.jsx(qge,{"data-state":zL(p.open),role:"dialog",id:p.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ML="PopoverClose",Qye=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=nu(ML,n);return l.jsx(Cl.button,{type:"button",...r,ref:t,onClick:Bc(e.onClick,()=>s.onOpenChange(!1))})});Qye.displayName=ML;var Jye="PopoverArrow",Xye=j.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=jy(n);return l.jsx(Vge,{...s,...r,ref:t})});Xye.displayName=Jye;function zL(e){return e?"open":"closed"}var ebe=jL,tbe=TL,nbe=PL,rbe=OL;function sbe({...e}){return l.jsx(ebe,{"data-slot":"popover",...e})}function abe({...e}){return l.jsx(tbe,{"data-slot":"popover-trigger",...e})}function ibe({className:e,align:t="center",sideOffset:n=4,...r}){return l.jsx(nbe,{children:l.jsx(rbe,{"data-slot":"popover-content",align:t,sideOffset:n,className:pn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function obe(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const hT={},V0={};function og(e,t){try{const n=(hT[e]||(hT[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return n in V0?V0[n]:fT(n,n.split(":"))}catch{if(e in V0)return V0[e];const n=e?.match(lbe);return n?fT(e,n.slice(1)):NaN}}const lbe=/([+-]\d\d):?(\d\d)?/;function fT(e,t){const n=+(t[0]||0),r=+(t[1]||0);return V0[e]=n>0?n*60+r:n*60-r}class ro extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(og(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),FL(this),z6(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ro(...n,t):new ro(Date.now(),t)}withTimeZone(t){return new ro(+this,t)}getTimezoneOffset(){return-og(this.timeZone,this)}setTime(t){return Date.prototype.setTime.apply(this,arguments),z6(this),+this}[Symbol.for("constructDateFrom")](t){return new ro(+new Date(t),this.timeZone)}}const mT=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!mT.test(e))return;const t=e.replace(mT,"$1UTC");ro.prototype[t]&&(e.startsWith("get")?ro.prototype[e]=function(){return this.internal[t]()}:(ro.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),cbe(this),+this},ro.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),z6(this),+this}))});function z6(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function cbe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),FL(e)}function FL(e){const t=og(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),s=-new Date(+n).getTimezoneOffset(),a=r-s,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const o=r-t;o&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+o);const c=og(e.timeZone,e),u=-new Date(+e).getTimezoneOffset()-c,h=c!==t,f=u-o;if(h&&f){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+f);const p=og(e.timeZone,e),g=c-p;g&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+g),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+g))}}class is extends ro{static tz(t,...n){return n.length?new is(...n,t):new is(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),s=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,s]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${s}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,s]=this.tzComponents();return`${t} GMT${n}${r}${s} (${obe(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),s=String(Math.abs(t)%60).padStart(2,"0");return[n,r,s]}withTimeZone(t){return new is(+this,t)}[Symbol.for("constructDateFrom")](t){return new is(+new Date(t),this.timeZone)}}var _t;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(_t||(_t={}));var sr;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(sr||(sr={}));var yi;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(yi||(yi={}));var la;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(la||(la={}));const pT=5,ube=4;function dbe(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,s=t.addDays(e,-r+1),a=t.addDays(s,pT*7-1);return t.getMonth(e)===t.getMonth(a)?pT:ube}function DL(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function hbe(e,t){const n=DL(e,t),r=dbe(e,t);return t.addDays(n,r*7-1)}class El{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?is.tz(this.options.timeZone):new this.Date,this.newDate=(r,s,a)=>this.overrides?.newDate?this.overrides.newDate(r,s,a):this.options.timeZone?new is(r,s,a,this.options.timeZone):new Date(r,s,a),this.addDays=(r,s)=>this.overrides?.addDays?this.overrides.addDays(r,s):oB(r,s),this.addMonths=(r,s)=>this.overrides?.addMonths?this.overrides.addMonths(r,s):lB(r,s),this.addWeeks=(r,s)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,s):upe(r,s),this.addYears=(r,s)=>this.overrides?.addYears?this.overrides.addYears(r,s):dpe(r,s),this.differenceInCalendarDays=(r,s)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):uB(r,s),this.differenceInCalendarMonths=(r,s)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):gpe(r,s),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):wpe(r),this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):hbe(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):Npe(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):ype(r),this.endOfWeek=(r,s)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,s):fB(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):vpe(r),this.format=(r,s,a)=>{const i=this.overrides?.format?this.overrides.format(r,s,this.options):y0e(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):mB(r),this.getMonth=(r,s)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):x0e(r,this.options),this.getYear=(r,s)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):v0e(r,this.options),this.getWeek=(r,s)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):gB(r,this.options),this.isAfter=(r,s)=>this.overrides?.isAfter?this.overrides.isAfter(r,s):N0e(r,s),this.isBefore=(r,s)=>this.overrides?.isBefore?this.overrides.isBefore(r,s):k0e(r,s),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):dB(r),this.isSameDay=(r,s)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,s):mpe(r,s),this.isSameMonth=(r,s)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,s):C0e(r,s),this.isSameYear=(r,s)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,s):E0e(r,s),this.max=r=>this.overrides?.max?this.overrides.max(r):hpe(r),this.min=r=>this.overrides?.min?this.overrides.min(r):fpe(r),this.setMonth=(r,s)=>this.overrides?.setMonth?this.overrides.setMonth(r,s):A0e(r,s),this.setYear=(r,s)=>this.overrides?.setYear?this.overrides.setYear(r,s):S0e(r,s),this.startOfBroadcastWeek=(r,s)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):DL(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):Yg(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):Zg(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):xpe(r),this.startOfWeek=(r,s)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):bm(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):hB(r),this.options={locale:gE,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let s=0;s<10;s++)r[s.toString()]=n.format(s);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}}const wo=new El;class BL{constructor(t,n,r=wo){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class fbe{constructor(t,n){this.date=t,this.weeks=n}}class mbe{constructor(t,n){this.days=n,this.weekNumber=t}}function sl(e,t,n=!1,r=wo){let{from:s,to:a}=e;const{differenceInCalendarDays:i,isSameDay:o}=r;return s&&a?(i(a,s)<0&&([s,a]=[a,s]),i(t,s)>=(n?1:0)&&i(a,t)>=(n?1:0)):!n&&a?o(a,t):!n&&s?o(s,t):!1}function LL(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function EE(e){return!!(e&&typeof e=="object"&&"from"in e)}function UL(e){return!!(e&&typeof e=="object"&&"after"in e)}function $L(e){return!!(e&&typeof e=="object"&&"before"in e)}function HL(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function WL(e,t){return Array.isArray(e)&&e.every(t.isDate)}function al(e,t,n=wo){const r=Array.isArray(t)?t:[t],{isSameDay:s,differenceInCalendarDays:a,isAfter:i}=n;return r.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return s(e,o);if(WL(o,n))return o.includes(e);if(EE(o))return sl(o,e,!1,n);if(HL(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(e.getDay()):o.dayOfWeek===e.getDay();if(LL(o)){const c=a(o.before,e),u=a(o.after,e),h=c>0,f=u<0;return i(o.before,o.after)?f&&h:h||f}return UL(o)?a(e,o.after)>0:$L(o)?a(o.before,e)>0:typeof o=="function"?o(e):!1})}function pbe(e,t,n,r,s){const{disabled:a,hidden:i,modifiers:o,showOutsideDays:c,broadcastCalendar:u,today:h}=t,{isSameDay:f,isSameMonth:p,startOfMonth:g,isBefore:b,endOfMonth:y,isAfter:w}=s,v=n&&g(n),N=r&&y(r),A={[sr.focused]:[],[sr.outside]:[],[sr.disabled]:[],[sr.hidden]:[],[sr.today]:[]},C={};for(const k of e){const{date:S,displayMonth:T}=k,P=!!(T&&!p(S,T)),I=!!(v&&b(S,v)),M=!!(N&&w(S,N)),W=!!(a&&al(S,a,s)),z=!!(i&&al(S,i,s))||I||M||!u&&!c&&P||u&&c===!1&&P,B=f(S,h??s.today());P&&A.outside.push(k),W&&A.disabled.push(k),z&&A.hidden.push(k),B&&A.today.push(k),o&&Object.keys(o).forEach(O=>{const F=o?.[O];F&&al(S,F,s)&&(C[O]?C[O].push(k):C[O]=[k])})}return k=>{const S={[sr.focused]:!1,[sr.disabled]:!1,[sr.hidden]:!1,[sr.outside]:!1,[sr.today]:!1},T={};for(const P in A){const I=A[P];S[P]=I.some(M=>M===k)}for(const P in C)T[P]=C[P].some(I=>I===k);return{...S,...T}}}function gbe(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[s])=>(n[s]?r.push(n[s]):t[sr[s]]?r.push(t[sr[s]]):t[yi[s]]&&r.push(t[yi[s]]),r),[t[_t.Day]])}function ybe(e){return Ze.createElement("button",{...e})}function bbe(e){return Ze.createElement("span",{...e})}function wbe(e){const{size:t=24,orientation:n="left",className:r}=e;return Ze.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Ze.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Ze.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Ze.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Ze.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function xbe(e){const{day:t,modifiers:n,...r}=e;return Ze.createElement("td",{...r})}function vbe(e){const{day:t,modifiers:n,...r}=e,s=Ze.useRef(null);return Ze.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),Ze.createElement("button",{ref:s,...r})}function Nbe(e){const{options:t,className:n,components:r,classNames:s,...a}=e,i=[s[_t.Dropdown],n].join(" "),o=t?.find(({value:c})=>c===a.value);return Ze.createElement("span",{"data-disabled":a.disabled,className:s[_t.DropdownRoot]},Ze.createElement(r.Select,{className:i,...a},t?.map(({value:c,label:u,disabled:h})=>Ze.createElement(r.Option,{key:c,value:c,disabled:h},u))),Ze.createElement("span",{className:s[_t.CaptionLabel],"aria-hidden":!0},o?.label,Ze.createElement(r.Chevron,{orientation:"down",size:18,className:s[_t.Chevron]})))}function kbe(e){return Ze.createElement("div",{...e})}function Cbe(e){return Ze.createElement("div",{...e})}function Ebe(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Ze.createElement("div",{...r},e.children)}function Abe(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Ze.createElement("div",{...r})}function Sbe(e){return Ze.createElement("table",{...e})}function jbe(e){return Ze.createElement("div",{...e})}const GL=j.createContext(void 0);function _y(){const e=j.useContext(GL);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function _be(e){const{components:t}=_y();return Ze.createElement(t.Dropdown,{...e})}function Ibe(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:s,...a}=e,{components:i,classNames:o,labels:{labelPrevious:c,labelNext:u}}=_y(),h=j.useCallback(p=>{s&&n?.(p)},[s,n]),f=j.useCallback(p=>{r&&t?.(p)},[r,t]);return Ze.createElement("nav",{...a},Ze.createElement(i.PreviousMonthButton,{type:"button",className:o[_t.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},Ze.createElement(i.Chevron,{disabled:r?void 0:!0,className:o[_t.Chevron],orientation:"left"})),Ze.createElement(i.NextMonthButton,{type:"button",className:o[_t.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":u(s),onClick:h},Ze.createElement(i.Chevron,{disabled:s?void 0:!0,orientation:"right",className:o[_t.Chevron]})))}function Tbe(e){const{components:t}=_y();return Ze.createElement(t.Button,{...e})}function Pbe(e){return Ze.createElement("option",{...e})}function Obe(e){const{components:t}=_y();return Ze.createElement(t.Button,{...e})}function Rbe(e){const{rootRef:t,...n}=e;return Ze.createElement("div",{...n,ref:t})}function Mbe(e){return Ze.createElement("select",{...e})}function zbe(e){const{week:t,...n}=e;return Ze.createElement("tr",{...n})}function Fbe(e){return Ze.createElement("th",{...e})}function Dbe(e){return Ze.createElement("thead",{"aria-hidden":!0},Ze.createElement("tr",{...e}))}function Bbe(e){const{week:t,...n}=e;return Ze.createElement("th",{...n})}function Lbe(e){return Ze.createElement("th",{...e})}function Ube(e){return Ze.createElement("tbody",{...e})}function $be(e){const{components:t}=_y();return Ze.createElement(t.Dropdown,{...e})}const Hbe=Object.freeze(Object.defineProperty({__proto__:null,Button:ybe,CaptionLabel:bbe,Chevron:wbe,Day:xbe,DayButton:vbe,Dropdown:Nbe,DropdownNav:kbe,Footer:Cbe,Month:Ebe,MonthCaption:Abe,MonthGrid:Sbe,Months:jbe,MonthsDropdown:_be,Nav:Ibe,NextMonthButton:Tbe,Option:Pbe,PreviousMonthButton:Obe,Root:Rbe,Select:Mbe,Week:zbe,WeekNumber:Bbe,WeekNumberHeader:Lbe,Weekday:Fbe,Weekdays:Dbe,Weeks:Ube,YearsDropdown:$be},Symbol.toStringTag,{value:"Module"}));function Wbe(e){return{...Hbe,...e}}function Gbe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function AE(){const e={};for(const t in _t)e[_t[t]]=`rdp-${_t[t]}`;for(const t in sr)e[sr[t]]=`rdp-${sr[t]}`;for(const t in yi)e[yi[t]]=`rdp-${yi[t]}`;for(const t in la)e[la[t]]=`rdp-${la[t]}`;return e}function qL(e,t,n){return(n??new El(t)).format(e,"LLLL y")}const qbe=qL;function Vbe(e,t,n){return(n??new El(t)).format(e,"d")}function Kbe(e,t=wo){return t.format(e,"LLLL")}function Zbe(e,t=wo){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function Ybe(){return""}function Qbe(e,t,n){return(n??new El(t)).format(e,"cccccc")}function VL(e,t=wo){return t.format(e,"yyyy")}const Jbe=VL,Xbe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:qL,formatDay:Vbe,formatMonthCaption:qbe,formatMonthDropdown:Kbe,formatWeekNumber:Zbe,formatWeekNumberHeader:Ybe,formatWeekdayName:Qbe,formatYearCaption:Jbe,formatYearDropdown:VL},Symbol.toStringTag,{value:"Module"}));function ewe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Xbe,...e}}function twe(e,t,n,r,s){const{startOfMonth:a,startOfYear:i,endOfYear:o,eachMonthOfInterval:c,getMonth:u}=s;return c({start:i(e),end:o(e)}).map(h=>{const f=r.formatMonthDropdown(h,s),p=u(h),g=t&&h<a(t)||n&&h>a(n)||!1;return{value:p,label:f,disabled:g}})}function nwe(e,t={},n={}){let r={...t?.[_t.Day]};return Object.entries(e).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...n?.[s]}}),r}function rwe(e,t,n){const r=e.today(),s=t?e.startOfISOWeek(r):e.startOfWeek(r),a=[];for(let i=0;i<7;i++){const o=e.addDays(s,i);a.push(o)}return a}function swe(e,t,n,r){if(!e||!t)return;const{startOfYear:s,endOfYear:a,addYears:i,getYear:o,isBefore:c,isSameYear:u}=r,h=s(e),f=a(t),p=[];let g=h;for(;c(g,f)||u(g,f);)p.push(g),g=i(g,1);return p.map(b=>{const y=n.formatYearDropdown(b,r);return{value:o(b),label:y,disabled:!1}})}function KL(e,t,n){return(n??new El(t)).format(e,"LLLL y")}const awe=KL;function iwe(e,t,n,r){let s=(r??new El(n)).format(e,"PPPP");return t?.today&&(s=`Today, ${s}`),s}function ZL(e,t,n,r){let s=(r??new El(n)).format(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s}const owe=ZL;function lwe(){return""}function cwe(e){return"Choose the Month"}function uwe(e){return"Go to the Next Month"}function dwe(e){return"Go to the Previous Month"}function hwe(e,t,n){return(n??new El(t)).format(e,"cccc")}function fwe(e,t){return`Week ${e}`}function mwe(e){return"Week Number"}function pwe(e){return"Choose the Year"}const gwe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:awe,labelDay:owe,labelDayButton:ZL,labelGrid:KL,labelGridcell:iwe,labelMonthDropdown:cwe,labelNav:lwe,labelNext:uwe,labelPrevious:dwe,labelWeekNumber:fwe,labelWeekNumberHeader:mwe,labelWeekday:hwe,labelYearDropdown:pwe},Symbol.toStringTag,{value:"Module"})),Iy=e=>e instanceof HTMLElement?e:null,Z4=e=>[...e.querySelectorAll("[data-animated-month]")??[]],ywe=e=>Iy(e.querySelector("[data-animated-month]")),Y4=e=>Iy(e.querySelector("[data-animated-caption]")),Q4=e=>Iy(e.querySelector("[data-animated-weeks]")),bwe=e=>Iy(e.querySelector("[data-animated-nav]")),wwe=e=>Iy(e.querySelector("[data-animated-weekdays]"));function xwe(e,t,{classNames:n,months:r,focused:s,dateLib:a}){const i=j.useRef(null),o=j.useRef(r),c=j.useRef(!1);j.useLayoutEffect(()=>{const u=o.current;if(o.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const h=a.isSameMonth(r[0].date,u[0].date),f=a.isAfter(r[0].date,u[0].date),p=f?n[la.caption_after_enter]:n[la.caption_before_enter],g=f?n[la.weeks_after_enter]:n[la.weeks_before_enter],b=i.current,y=e.current.cloneNode(!0);if(y instanceof HTMLElement?(Z4(y).forEach(N=>{if(!(N instanceof HTMLElement))return;const A=ywe(N);A&&N.contains(A)&&N.removeChild(A);const C=Y4(N);C&&C.classList.remove(p);const k=Q4(N);k&&k.classList.remove(g)}),i.current=y):i.current=null,c.current||h||s)return;const w=b instanceof HTMLElement?Z4(b):[],v=Z4(e.current);if(v&&v.every(N=>N instanceof HTMLElement)&&w&&w.every(N=>N instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const N=bwe(e.current);N&&(N.style.zIndex="1"),v.forEach((A,C)=>{const k=w[C];if(!k)return;A.style.position="relative",A.style.overflow="hidden";const S=Y4(A);S&&S.classList.add(p);const T=Q4(A);T&&T.classList.add(g);const P=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),N&&(N.style.zIndex=""),S&&S.classList.remove(p),T&&T.classList.remove(g),A.style.position="",A.style.overflow="",A.contains(k)&&A.removeChild(k)};k.style.pointerEvents="none",k.style.position="absolute",k.style.overflow="hidden",k.setAttribute("aria-hidden","true");const I=wwe(k);I&&(I.style.opacity="0");const M=Y4(k);M&&(M.classList.add(f?n[la.caption_before_exit]:n[la.caption_after_exit]),M.addEventListener("animationend",P));const W=Q4(k);W&&W.classList.add(f?n[la.weeks_before_exit]:n[la.weeks_after_exit]),A.insertBefore(k,A.firstChild)})}})}function vwe(e,t,n,r){const s=e[0],a=e[e.length-1],{ISOWeek:i,fixedWeeks:o,broadcastCalendar:c}=n??{},{addDays:u,differenceInCalendarDays:h,differenceInCalendarMonths:f,endOfBroadcastWeek:p,endOfISOWeek:g,endOfMonth:b,endOfWeek:y,isAfter:w,startOfBroadcastWeek:v,startOfISOWeek:N,startOfWeek:A}=r,C=c?v(s,r):i?N(s):A(s),k=c?p(a):i?g(b(a)):y(b(a)),S=h(k,C),T=f(a,s)+1,P=[];for(let M=0;M<=S;M++){const W=u(C,M);if(t&&w(W,t))break;P.push(W)}const I=(c?35:42)*T;if(o&&P.length<I){const M=I-P.length;for(let W=0;W<M;W++){const z=u(P[P.length-1],1);P.push(z)}}return P}function Nwe(e){const t=[];return e.reduce((n,r)=>{const s=r.weeks.reduce((a,i)=>[...a,...i.days],t);return[...n,...s]},t)}function kwe(e,t,n,r){const{numberOfMonths:s=1}=n,a=[];for(let i=0;i<s;i++){const o=r.addMonths(e,i);if(t&&o>t)break;a.push(o)}return a}function gT(e,t,n,r){const{month:s,defaultMonth:a,today:i=r.today(),numberOfMonths:o=1}=e;let c=s||a||i;const{differenceInCalendarMonths:u,addMonths:h,startOfMonth:f}=r;if(n&&u(n,c)<o-1){const p=-1*(o-1);c=h(n,p)}return t&&u(c,t)<0&&(c=t),f(c)}function Cwe(e,t,n,r){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:i,endOfMonth:o,endOfWeek:c,getISOWeek:u,getWeek:h,startOfBroadcastWeek:f,startOfISOWeek:p,startOfWeek:g}=r,b=e.reduce((y,w)=>{const v=n.broadcastCalendar?f(w,r):n.ISOWeek?p(w):g(w),N=n.broadcastCalendar?a(w):n.ISOWeek?i(o(w)):c(o(w)),A=t.filter(T=>T>=v&&T<=N),C=n.broadcastCalendar?35:42;if(n.fixedWeeks&&A.length<C){const T=t.filter(P=>{const I=C-A.length;return P>N&&P<=s(N,I)});A.push(...T)}const k=A.reduce((T,P)=>{const I=n.ISOWeek?u(P):h(P),M=T.find(z=>z.weekNumber===I),W=new BL(P,w,r);return M?M.days.push(W):T.push(new mbe(I,[W])),T},[]),S=new fbe(w,k);return y.push(S),y},[]);return n.reverseMonths?b.reverse():b}function Ewe(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:s,startOfDay:a,startOfMonth:i,endOfMonth:o,addYears:c,endOfYear:u,newDate:h,today:f}=t,{fromYear:p,toYear:g,fromMonth:b,toMonth:y}=e;!n&&b&&(n=b),!n&&p&&(n=t.newDate(p,0,1)),!r&&y&&(r=y),!r&&g&&(r=h(g,11,31));const w=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=i(n):p?n=h(p,0,1):!n&&w&&(n=s(c(e.today??f(),-100))),r?r=o(r):g?r=h(g,11,31):!r&&w&&(r=u(e.today??f())),[n&&a(n),r&&a(r)]}function Awe(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=n,{startOfMonth:i,addMonths:o,differenceInCalendarMonths:c}=r,u=s?a:1,h=i(e);if(!t||!(c(t,e)<a))return o(h,u)}function Swe(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=n,{startOfMonth:i,addMonths:o,differenceInCalendarMonths:c}=r,u=s?a??1:1,h=i(e);if(!t||!(c(h,t)<=0))return o(h,-u)}function jwe(e){const t=[];return e.reduce((n,r)=>[...n,...r.weeks],t)}function Mv(e,t){const[n,r]=j.useState(e);return[t===void 0?n:t,r]}function _we(e,t){const[n,r]=Ewe(e,t),{startOfMonth:s,endOfMonth:a}=t,i=gT(e,n,r,t),[o,c]=Mv(i,e.month?i:void 0);j.useEffect(()=>{const C=gT(e,n,r,t);c(C)},[e.timeZone]);const u=kwe(o,r,e,t),h=vwe(u,e.endMonth?a(e.endMonth):void 0,e,t),f=Cwe(u,h,e,t),p=jwe(f),g=Nwe(f),b=Swe(o,n,e,t),y=Awe(o,r,e,t),{disableNavigation:w,onMonthChange:v}=e,N=C=>p.some(k=>k.days.some(S=>S.isEqualTo(C))),A=C=>{if(w)return;let k=s(C);n&&k<s(n)&&(k=s(n)),r&&k>s(r)&&(k=s(r)),c(k),v?.(k)};return{months:f,weeks:p,days:g,navStart:n,navEnd:r,previousMonth:b,nextMonth:y,goToMonth:A,goToDay:C=>{N(C)||A(C.date)}}}var Ki;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Ki||(Ki={}));function yT(e){return!e[sr.disabled]&&!e[sr.hidden]&&!e[sr.outside]}function Iwe(e,t,n,r){let s,a=-1;for(const i of e){const o=t(i);yT(o)&&(o[sr.focused]&&a<Ki.FocusedModifier?(s=i,a=Ki.FocusedModifier):r?.isEqualTo(i)&&a<Ki.LastFocused?(s=i,a=Ki.LastFocused):n(i.date)&&a<Ki.Selected?(s=i,a=Ki.Selected):o[sr.today]&&a<Ki.Today&&(s=i,a=Ki.Today))}return s||(s=e.find(i=>yT(t(i)))),s}function Twe(e,t,n,r,s,a,i){const{ISOWeek:o,broadcastCalendar:c}=a,{addDays:u,addMonths:h,addWeeks:f,addYears:p,endOfBroadcastWeek:g,endOfISOWeek:b,endOfWeek:y,max:w,min:v,startOfBroadcastWeek:N,startOfISOWeek:A,startOfWeek:C}=i;let k={day:u,week:f,month:h,year:p,startOfWeek:S=>c?N(S,i):o?A(S):C(S),endOfWeek:S=>c?g(S):o?b(S):y(S)}[e](n,t==="after"?1:-1);return t==="before"&&r?k=w([r,k]):t==="after"&&s&&(k=v([s,k])),k}function YL(e,t,n,r,s,a,i,o=0){if(o>365)return;const c=Twe(e,t,n.date,r,s,a,i),u=!!(a.disabled&&al(c,a.disabled,i)),h=!!(a.hidden&&al(c,a.hidden,i)),f=c,p=new BL(c,f,i);return!u&&!h?p:YL(e,t,p,r,s,a,i,o+1)}function Pwe(e,t,n,r,s){const{autoFocus:a}=e,[i,o]=j.useState(),c=Iwe(t.days,n,r||(()=>!1),i),[u,h]=j.useState(a?c:void 0);return{isFocusTarget:f=>!!c?.isEqualTo(f),setFocused:h,focused:u,blur:()=>{o(u),h(void 0)},moveFocus:(f,p)=>{if(!u)return;const g=YL(f,p,u,t.navStart,t.navEnd,e,s);g&&(t.goToDay(g),h(g))}}}function Owe(e,t){const{selected:n,required:r,onSelect:s}=e,[a,i]=Mv(n,s?n:void 0),o=s?n:a,{isSameDay:c}=t,u=p=>o?.some(g=>c(g,p))??!1,{min:h,max:f}=e;return{selected:o,select:(p,g,b)=>{let y=[...o??[]];if(u(p)){if(o?.length===h||r&&o?.length===1)return;y=o?.filter(w=>!c(w,p))}else o?.length===f?y=[p]:y=[...y,p];return s||i(y),s?.(y,p,g,b),y},isSelected:u}}function Rwe(e,t,n=0,r=0,s=!1,a=wo){const{from:i,to:o}=t||{},{isSameDay:c,isAfter:u,isBefore:h}=a;let f;if(!i&&!o)f={from:e,to:n>0?void 0:e};else if(i&&!o)c(i,e)?s?f={from:i,to:void 0}:f=void 0:h(e,i)?f={from:e,to:i}:f={from:i,to:e};else if(i&&o)if(c(i,e)&&c(o,e))s?f={from:i,to:o}:f=void 0;else if(c(i,e))f={from:i,to:n>0?void 0:e};else if(c(o,e))f={from:e,to:n>0?void 0:e};else if(h(e,i))f={from:e,to:o};else if(u(e,i))f={from:i,to:e};else if(u(e,o))f={from:i,to:e};else throw new Error("Invalid range");if(f?.from&&f?.to){const p=a.differenceInCalendarDays(f.to,f.from);r>0&&p>r?f={from:e,to:void 0}:n>1&&p<n&&(f={from:e,to:void 0})}return f}function Mwe(e,t,n=wo){const r=Array.isArray(t)?t:[t];let s=e.from;const a=n.differenceInCalendarDays(e.to,e.from),i=Math.min(a,6);for(let o=0;o<=i;o++){if(r.includes(s.getDay()))return!0;s=n.addDays(s,1)}return!1}function bT(e,t,n=wo){return sl(e,t.from,!1,n)||sl(e,t.to,!1,n)||sl(t,e.from,!1,n)||sl(t,e.to,!1,n)}function zwe(e,t,n=wo){const r=Array.isArray(t)?t:[t];if(r.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?sl(e,a,!1,n):WL(a,n)?a.some(i=>sl(e,i,!1,n)):EE(a)?a.from&&a.to?bT(e,{from:a.from,to:a.to},n):!1:HL(a)?Mwe(e,a.dayOfWeek,n):LL(a)?n.isAfter(a.before,a.after)?bT(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):al(e.from,a,n)||al(e.to,a,n):UL(a)||$L(a)?al(e.from,a,n)||al(e.to,a,n):!1))return!0;const s=r.filter(a=>typeof a=="function");if(s.length){let a=e.from;const i=n.differenceInCalendarDays(e.to,e.from);for(let o=0;o<=i;o++){if(s.some(c=>c(a)))return!0;a=n.addDays(a,1)}}return!1}function Fwe(e,t){const{disabled:n,excludeDisabled:r,selected:s,required:a,onSelect:i}=e,[o,c]=Mv(s,i?s:void 0),u=i?s:o;return{selected:u,select:(h,f,p)=>{const{min:g,max:b}=e,y=h?Rwe(h,u,g,b,a,t):void 0;return r&&n&&y?.from&&y.to&&zwe({from:y.from,to:y.to},n,t)&&(y.from=h,y.to=void 0),i||c(y),i?.(y,h,f,p),y},isSelected:h=>u&&sl(u,h,!1,t)}}function Dwe(e,t){const{selected:n,required:r,onSelect:s}=e,[a,i]=Mv(n,s?n:void 0),o=s?n:a,{isSameDay:c}=t;return{selected:o,select:(u,h,f)=>{let p=u;return!r&&o&&o&&c(u,o)&&(p=void 0),s||i(p),s?.(p,u,h,f),p},isSelected:u=>o?c(o,u):!1}}function Bwe(e,t){const n=Dwe(e,t),r=Owe(e,t),s=Fwe(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return s;default:return}}function Lwe(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new is(t.today,t.timeZone)),t.month&&(t.month=new is(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new is(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new is(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new is(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new is(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(nt=>new is(nt,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new is(t.selected.from,t.timeZone):void 0,to:t.selected.to?new is(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:r,labels:s,dateLib:a,locale:i,classNames:o}=j.useMemo(()=>{const nt={...gE,...t.locale};return{dateLib:new El({locale:nt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Wbe(t.components),formatters:ewe(t.formatters),labels:{...gwe,...t.labels},locale:nt,classNames:{...AE(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:c,mode:u,navLayout:h,numberOfMonths:f=1,onDayBlur:p,onDayClick:g,onDayFocus:b,onDayKeyDown:y,onDayMouseEnter:w,onDayMouseLeave:v,onNextClick:N,onPrevClick:A,showWeekNumber:C,styles:k}=t,{formatCaption:S,formatDay:T,formatMonthDropdown:P,formatWeekNumber:I,formatWeekNumberHeader:M,formatWeekdayName:W,formatYearDropdown:z}=r,B=_we(t,a),{days:O,months:F,navStart:G,navEnd:K,previousMonth:$,nextMonth:Z,goToMonth:ee}=B,L=pbe(O,t,G,K,a),{isSelected:V,select:Q,selected:Y}=Bwe(t,a)??{},{blur:ae,focused:ue,isFocusTarget:re,moveFocus:ie,setFocused:pe}=Pwe(t,B,L,V??(()=>!1),a),{labelDayButton:oe,labelGridcell:he,labelGrid:Ne,labelMonthDropdown:Re,labelNav:H,labelPrevious:ye,labelNext:ce,labelWeekday:ne,labelWeekNumber:se,labelWeekNumberHeader:fe,labelYearDropdown:Ie}=s,je=j.useMemo(()=>rwe(a,t.ISOWeek),[a,t.ISOWeek]),be=u!==void 0||g!==void 0,Be=j.useCallback(()=>{$&&(ee($),A?.($))},[$,ee,A]),Me=j.useCallback(()=>{Z&&(ee(Z),N?.(Z))},[ee,Z,N]),ze=j.useCallback((nt,Kt)=>Wt=>{Wt.preventDefault(),Wt.stopPropagation(),pe(nt),Q?.(nt.date,Kt,Wt),g?.(nt.date,Kt,Wt)},[Q,g,pe]),we=j.useCallback((nt,Kt)=>Wt=>{pe(nt),b?.(nt.date,Kt,Wt)},[b,pe]),_=j.useCallback((nt,Kt)=>Wt=>{ae(),p?.(nt.date,Kt,Wt)},[ae,p]),D=j.useCallback((nt,Kt)=>Wt=>{const Bn={ArrowLeft:[Wt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Wt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Wt.shiftKey?"year":"week","after"],ArrowUp:[Wt.shiftKey?"year":"week","before"],PageUp:[Wt.shiftKey?"year":"month","before"],PageDown:[Wt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Bn[Wt.key]){Wt.preventDefault(),Wt.stopPropagation();const[En,Ur]=Bn[Wt.key];ie(En,Ur)}y?.(nt.date,Kt,Wt)},[ie,y,t.dir]),q=j.useCallback((nt,Kt)=>Wt=>{w?.(nt.date,Kt,Wt)},[w]),le=j.useCallback((nt,Kt)=>Wt=>{v?.(nt.date,Kt,Wt)},[v]),ge=j.useCallback(nt=>Kt=>{const Wt=Number(Kt.target.value),Bn=a.setMonth(a.startOfMonth(nt),Wt);ee(Bn)},[a,ee]),Ce=j.useCallback(nt=>Kt=>{const Wt=Number(Kt.target.value),Bn=a.setYear(a.startOfMonth(nt),Wt);ee(Bn)},[a,ee]),{className:Se,style:rt}=j.useMemo(()=>({className:[o[_t.Root],t.className].filter(Boolean).join(" "),style:{...k?.[_t.Root],...t.style}}),[o,t.className,t.style,k]),kt=Gbe(t),ot=j.useRef(null);xwe(ot,!!t.animate,{classNames:o,months:F,focused:ue,dateLib:a});const Ct={dayPickerProps:t,selected:Y,select:Q,isSelected:V,months:F,nextMonth:Z,previousMonth:$,goToMonth:ee,getModifiers:L,components:n,classNames:o,styles:k,labels:s,formatters:r};return Ze.createElement(GL.Provider,{value:Ct},Ze.createElement(n.Root,{rootRef:t.animate?ot:void 0,className:Se,style:rt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...kt},Ze.createElement(n.Months,{className:o[_t.Months],style:k?.[_t.Months]},!t.hideNavigation&&!h&&Ze.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[_t.Nav],style:k?.[_t.Nav],"aria-label":H(),onPreviousClick:Be,onNextClick:Me,previousMonth:$,nextMonth:Z}),F.map((nt,Kt)=>{const Wt=twe(nt.date,G,K,r,a),Bn=swe(G,K,r,a);return Ze.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:o[_t.Month],style:k?.[_t.Month],key:Kt,displayIndex:Kt,calendarMonth:nt},h==="around"&&!t.hideNavigation&&Kt===0&&Ze.createElement(n.PreviousMonthButton,{type:"button",className:o[_t.PreviousMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":ye($),onClick:Be,"data-animated-button":t.animate?"true":void 0},Ze.createElement(n.Chevron,{disabled:$?void 0:!0,className:o[_t.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Ze.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[_t.MonthCaption],style:k?.[_t.MonthCaption],calendarMonth:nt,displayIndex:Kt},c?.startsWith("dropdown")?Ze.createElement(n.DropdownNav,{className:o[_t.Dropdowns],style:k?.[_t.Dropdowns]},c==="dropdown"||c==="dropdown-months"?Ze.createElement(n.MonthsDropdown,{className:o[_t.MonthsDropdown],"aria-label":Re(),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:ge(nt.date),options:Wt,style:k?.[_t.Dropdown],value:a.getMonth(nt.date)}):Ze.createElement("span",null,P(nt.date,a)),c==="dropdown"||c==="dropdown-years"?Ze.createElement(n.YearsDropdown,{className:o[_t.YearsDropdown],"aria-label":Ie(a.options),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:Ce(nt.date),options:Bn,style:k?.[_t.Dropdown],value:a.getYear(nt.date)}):Ze.createElement("span",null,z(nt.date,a)),Ze.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},S(nt.date,a.options,a))):Ze.createElement(n.CaptionLabel,{className:o[_t.CaptionLabel],role:"status","aria-live":"polite"},S(nt.date,a.options,a))),h==="around"&&!t.hideNavigation&&Kt===f-1&&Ze.createElement(n.NextMonthButton,{type:"button",className:o[_t.NextMonthButton],tabIndex:Z?void 0:-1,"aria-disabled":Z?void 0:!0,"aria-label":ce(Z),onClick:Me,"data-animated-button":t.animate?"true":void 0},Ze.createElement(n.Chevron,{disabled:Z?void 0:!0,className:o[_t.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Kt===f-1&&h==="after"&&!t.hideNavigation&&Ze.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[_t.Nav],style:k?.[_t.Nav],"aria-label":H(),onPreviousClick:Be,onNextClick:Me,previousMonth:$,nextMonth:Z}),Ze.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":u==="multiple"||u==="range","aria-label":Ne(nt.date,a.options,a)||void 0,className:o[_t.MonthGrid],style:k?.[_t.MonthGrid]},!t.hideWeekdays&&Ze.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[_t.Weekdays],style:k?.[_t.Weekdays]},C&&Ze.createElement(n.WeekNumberHeader,{"aria-label":fe(a.options),className:o[_t.WeekNumberHeader],style:k?.[_t.WeekNumberHeader],scope:"col"},M()),je.map((En,Ur)=>Ze.createElement(n.Weekday,{"aria-label":ne(En,a.options,a),className:o[_t.Weekday],key:Ur,style:k?.[_t.Weekday],scope:"col"},W(En,a.options,a)))),Ze.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[_t.Weeks],style:k?.[_t.Weeks]},nt.weeks.map((En,Ur)=>Ze.createElement(n.Week,{className:o[_t.Week],key:En.weekNumber,style:k?.[_t.Week],week:En},C&&Ze.createElement(n.WeekNumber,{week:En,style:k?.[_t.WeekNumber],"aria-label":se(En.weekNumber,{locale:i}),className:o[_t.WeekNumber],scope:"row",role:"rowheader"},I(En.weekNumber,a)),En.days.map(Vn=>{const{date:$r}=Vn,on=L(Vn);if(on[sr.focused]=!on.hidden&&!!ue?.isEqualTo(Vn),on[yi.selected]=V?.($r)||on.selected,EE(Y)){const{from:Ar,to:ba}=Y;on[yi.range_start]=!!(Ar&&ba&&a.isSameDay($r,Ar)),on[yi.range_end]=!!(Ar&&ba&&a.isSameDay($r,ba)),on[yi.range_middle]=sl(Y,$r,!0,a)}const Al=nwe(on,k,t.modifiersStyles),es=gbe(on,o,t.modifiersClassNames),xo=!be&&!on.hidden?he($r,on,a.options,a):void 0;return Ze.createElement(n.Day,{key:`${a.format($r,"yyyy-MM-dd")}_${a.format(Vn.displayMonth,"yyyy-MM")}`,day:Vn,modifiers:on,className:es.join(" "),style:Al,role:"gridcell","aria-selected":on.selected||void 0,"aria-label":xo,"data-day":a.format($r,"yyyy-MM-dd"),"data-month":Vn.outside?a.format($r,"yyyy-MM"):void 0,"data-selected":on.selected||void 0,"data-disabled":on.disabled||void 0,"data-hidden":on.hidden||void 0,"data-outside":Vn.outside||void 0,"data-focused":on.focused||void 0,"data-today":on.today||void 0},!on.hidden&&be?Ze.createElement(n.DayButton,{className:o[_t.DayButton],style:k?.[_t.DayButton],type:"button",day:Vn,modifiers:on,disabled:on.disabled||void 0,tabIndex:re(Vn)?0:-1,"aria-label":oe($r,on,a.options,a),onClick:ze(Vn,on),onBlur:_(Vn,on),onFocus:we(Vn,on),onKeyDown:D(Vn,on),onMouseEnter:q(Vn,on),onMouseLeave:le(Vn,on)},T($r,a.options,a)):!on.hidden&&T(Vn.date,a.options,a))}))))))})),t.footer&&Ze.createElement(n.Footer,{className:o[_t.Footer],style:k?.[_t.Footer],role:"status","aria-live":"polite"},t.footer)))}const wT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xT=ED,Uwe=(e,t)=>n=>{var r;if(t?.variants==null)return xT(e,n?.class,n?.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const h=n?.[u],f=a?.[u];if(h===null)return null;const p=wT(h)||wT(f);return s[u][p]}),o=n&&Object.entries(n).reduce((u,h)=>{let[f,p]=h;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:p,...g}=h;return Object.entries(g).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...a,...o}[y]):{...a,...o}[y]===w})?[...u,f,p]:u},[]);return xT(e,i,c,n?.class,n?.className)},F6=Uwe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function $we({className:e,variant:t,size:n,asChild:r=!1,...s}){const a=r?cge:"button";return l.jsx(a,{"data-slot":"button",className:pn(F6({variant:t,size:n,className:e})),...s})}function Hwe({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:a,components:i,...o}){const c=AE();return l.jsx(Lwe,{showOutsideDays:n,className:pn("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:u=>u.toLocaleString("default",{month:"short"}),...a},classNames:{root:pn("w-fit",c.root),months:pn("flex gap-4 flex-col md:flex-row relative",c.months),month:pn("flex flex-col w-full gap-4",c.month),nav:pn("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",c.nav),button_previous:pn(F6({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_previous),button_next:pn(F6({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",c.button_next),month_caption:pn("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",c.month_caption),dropdowns:pn("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",c.dropdowns),dropdown_root:pn("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",c.dropdown_root),dropdown:pn("absolute inset-0 opacity-0",c.dropdown),caption_label:pn("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",c.caption_label),table:"w-full border-collapse",weekdays:pn("flex",c.weekdays),weekday:pn("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",c.weekday),week:pn("flex w-full mt-2",c.week),week_number_header:pn("select-none w-(--cell-size)",c.week_number_header),week_number:pn("text-[0.8rem] select-none text-muted-foreground",c.week_number),day:pn("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",c.day),range_start:pn("rounded-l-md bg-accent",c.range_start),range_middle:pn("rounded-none",c.range_middle),range_end:pn("rounded-r-md bg-accent",c.range_end),today:pn("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",c.today),outside:pn("text-muted-foreground aria-selected:text-muted-foreground",c.outside),disabled:pn("text-muted-foreground opacity-50",c.disabled),hidden:pn("invisible",c.hidden),...t},components:{Root:({className:u,rootRef:h,...f})=>l.jsx("div",{"data-slot":"calendar",ref:h,className:pn(u),...f}),Chevron:({className:u,orientation:h,...f})=>h==="left"?l.jsx(eD,{className:pn("size-4",u),...f}):h==="right"?l.jsx(tD,{className:pn("size-4",u),...f}):l.jsx(kv,{className:pn("size-4",u),...f}),DayButton:Wwe,WeekNumber:({children:u,...h})=>l.jsx("td",{...h,children:l.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:u})}),...i},...o})}function Wwe({className:e,day:t,modifiers:n,...r}){const s=AE(),a=j.useRef(null);return j.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),l.jsx($we,{ref:a,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:pn("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",s.day,e),...r})}const vT=({value:e,onChange:t,disabled:n=!1})=>{const[r,s]=j.useState("date"),[a,i]=j.useState(e?new Date(e):null);j.useEffect(()=>{e&&i(new Date(e))},[e]);const o=h=>{if(!h)return;const f=new Date(Date.UTC(h.getFullYear(),h.getMonth(),h.getDate(),a?.getUTCHours()||0,a?.getUTCMinutes()||0));i(f),s("time"),t(f.toISOString())},c=h=>{const{name:f,value:p}=h.target,g=a?new Date(a.getTime()):new Date;f==="hour"&&g.setUTCHours(Math.max(0,Math.min(23,Number(p)))),f==="minute"&&g.setUTCMinutes(Math.max(0,Math.min(59,Number(p)))),i(g),t(g.toISOString())},u=h=>{if(!h)return"";const f=h.getUTCHours().toString().padStart(2,"0"),p=h.getUTCMinutes().toString().padStart(2,"0"),g=h.getUTCDate().toString().padStart(2,"0"),b=(h.getUTCMonth()+1).toString().padStart(2,"0");return`${h.getUTCFullYear()}-${b}-${g} ${f}:${p}`};return l.jsxs(sbe,{children:[l.jsx(abe,{asChild:!0,children:l.jsxs("button",{className:pn("w-full flex justify-between items-center p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm",!e&&"text-zinc-500"),disabled:n,children:[e?u(new Date(e))+" UTC":"Pick date & time (UTC)",l.jsx(XF,{className:"ml-2 h-4 w-4 text-zinc-400"})]})}),l.jsxs(ibe,{className:"w-auto bg-zinc-900 border border-zinc-700 text-white",children:[r==="date"&&l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Hwe,{mode:"single",selected:a,onSelect:o,className:"bg-zinc-900"}),a&&l.jsx("button",{onClick:()=>s("time"),className:"mt-2 text-xs text-blue-400 hover:underline",children:"Set time for selected date"})]}),r==="time"&&l.jsxs("div",{className:"flex flex-col items-center px-2 py-2 gap-2",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"All times are in UTC"}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("label",{className:"text-xs",children:"Hour (UTC):"}),l.jsx("input",{type:"number",name:"hour",min:0,max:23,value:a?.getUTCHours()??0,onChange:c,className:"w-16 p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm"}),l.jsx("label",{className:"text-xs",children:"Minute:"}),l.jsx("input",{type:"number",name:"minute",min:0,max:59,value:a?.getUTCMinutes()??0,onChange:c,className:"w-16 p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm"})]}),l.jsx("button",{onClick:()=>s("date"),className:"mt-2 text-xs text-blue-400 hover:underline",children:" Back to date"})]})]})]})},QL=({collectionAddress:e,phases:t,onActivatePhase:n,onRemovePhase:r,nfts:s=[],saleStatus:a,onPauseSale:i,onResumeSale:o})=>{const[c,u]=j.useState({}),[h,f]=j.useState({}),[p,g]=j.useState({visible:!1,message:"",type:"success"}),[b,y]=j.useState({Whitelist:!1,FCFS:!1,Public:!0}),w=j.useRef({}),[v,N]=j.useState(s.length);j.useEffect(()=>{if(p.visible){const B=setTimeout(()=>g(O=>({...O,visible:!1})),3e3);return()=>clearTimeout(B)}},[p.visible]);const A=(B,O="success")=>{g({visible:!0,message:B,type:O})},C=["Whitelist","FCFS","Public"],k=B=>C[C.indexOf(B)-1]||null,S=B=>C[C.indexOf(B)+1]||null,T=(B,O)=>{let F=B[O]?.start?new Date(B[O].start):null,G=B[O]?.end?new Date(B[O].end):null;if(!F||!G)return B;const K=k(O);if(K&&B[K]?.end){const Z=new Date(B[K].end);F<Z&&(F=new Date(Z))}const $=S(O);if($&&B[$]?.start){const Z=new Date(B[$].start);G>Z&&(G=new Date(Z))}return G<=F&&(G=new Date(F.getTime()+3600*1e3)),B[O].start=new Date(Date.UTC(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate(),F.getUTCHours(),F.getUTCMinutes())).toISOString(),B[O].end=new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate(),G.getUTCHours(),G.getUTCMinutes())).toISOString(),B};j.useEffect(()=>{const B=()=>{const F=JSON.parse(localStorage.getItem(`phases_${e}`))||{},G=JSON.parse(localStorage.getItem(`collection_${e}_nfts`)||"[]").length;if(N(G),F.Public){const K=Object.entries(F).reduce(($,[Z,ee])=>Z==="Public"?$:$+(Number(ee.allocated)||0),0);F.Public.allocated=Math.max(0,G-K),F.Public.limit=1,localStorage.setItem(`phases_${e}`,JSON.stringify(F))}else{const K=new Date,$=new Date(K.getTime()+4320*60*1e3);F.Public={price:"0.1",limit:1,allocated:G,start:new Date(Date.UTC(K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate(),K.getUTCHours(),K.getUTCMinutes())).toISOString(),end:new Date(Date.UTC($.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes())).toISOString(),active:!0,isPublic:!0},localStorage.setItem(`phases_${e}`,JSON.stringify(F))}u(F),y({Whitelist:!!F.Whitelist,FCFS:!!F.FCFS,Public:!0})};window.addEventListener("storage",B);const O=setInterval(B,2e3);return()=>{window.removeEventListener("storage",B),clearInterval(O)}},[e]),j.useEffect(()=>{if(!e)return;const B=JSON.parse(localStorage.getItem(`collection_${e}_nfts`)||"[]");N(B.length);const O=JSON.parse(localStorage.getItem(`phases_${e}`))||{};if(O.Public){const F=Object.entries(O).reduce((G,[K,$])=>K==="Public"?G:G+(Number($.allocated)||0),0);O.Public.allocated=Math.max(0,B.length-F),O.Public.limit=1,localStorage.setItem(`phases_${e}`,JSON.stringify(O))}else{const F=new Date,G=new Date(F.getTime()+4320*60*1e3);O.Public={price:"0.1",limit:1,allocated:B.length,start:new Date(Date.UTC(F.getUTCFullYear(),F.getUTCMonth(),F.getUTCDate(),F.getUTCHours(),F.getUTCMinutes())).toISOString(),end:new Date(Date.UTC(G.getUTCFullYear(),G.getUTCMonth(),G.getUTCDate(),G.getUTCHours(),G.getUTCMinutes())).toISOString(),active:!0,isPublic:!0},localStorage.setItem(`phases_${e}`,JSON.stringify(O))}u(O),y({Whitelist:!!O.Whitelist,FCFS:!!O.FCFS,Public:!0})},[e]);const P=B=>{B!=="Public"&&y(O=>{const F={...O,[B]:!O[B]};if(F[B]&&!c[B]){const G=new Date,K=new Date(G.getTime()+3600*1e3),$=new Date(K.getTime()+3600*1e3),Z=Math.floor(v/3),ee={price:B==="Whitelist"?"0.05":"0.08",allocated:Z,start:new Date(Date.UTC(K.getUTCFullYear(),K.getUTCMonth(),K.getUTCDate(),K.getUTCHours(),K.getUTCMinutes())).toISOString(),end:new Date(Date.UTC($.getUTCFullYear(),$.getUTCMonth(),$.getUTCDate(),$.getUTCHours(),$.getUTCMinutes())).toISOString(),active:!1,isPublic:!1},L={...c,[B]:ee};if(L.Public){const V=Number(L.Public.allocated)||0;L.Public.allocated=Math.max(0,V-Z),L.Public.start="",L.Public.end=""}u(L),localStorage.setItem(`phases_${e}`,JSON.stringify(L)),A(`Added ${B} phase. Public phase dates have been reset for easier configuration.`,"success")}if(!F[B]&&c[B]){const G={...c},K=Number(c[B].allocated)||0;if(G.Public){const $=Number(G.Public.allocated)||0;G.Public.allocated=$+K}delete G[B],u(G),localStorage.setItem(`phases_${e}`,JSON.stringify(G))}return F})},I=j.useCallback(async(B,O)=>{w.current[B]&&clearTimeout(w.current[B]),w.current[B]=setTimeout(async()=>{try{await new Promise(G=>setTimeout(G,200));const F={...c,[B]:O};localStorage.setItem(`phases_${e}`,JSON.stringify(F))}catch(F){console.error(` Failed to auto-save ${B} phase:`,F),A(`Failed to save ${B} settings`,"error")}},300)},[c,e]),M=(B,O,F)=>{const G={},K=new Date(O).getTime(),$=new Date(F).getTime();return K>=$?(G[B]="Start time must be before end time",G):(Object.entries(c).forEach(([Z,ee])=>{if(Z===B||!ee.start||!ee.end)return;const L=new Date(ee.start).getTime(),V=new Date(ee.end).getTime();K<V&&$>L&&(G[B]=`Time overlaps with ${Z} phase`)}),G)},W=(B,O,F)=>{if(O==="allocated")if(B==="Public"){const K=Object.entries(c).reduce(($,[Z,ee])=>Z==="Public"?$:$+(Number(ee.allocated)||0),0);F=Math.max(0,v-K)}else{const K=Number(c[B]?.allocated)||0,$=Math.max(0,Number(F)||0),Z=$-K;if(c.Public){const ee=Number(c.Public.allocated)||0;c.Public.allocated=Math.max(0,ee-Z)}F=$}B==="Public"&&["price","limit","start","end"].includes(O)&&c[B]&&(c[B].userModified=!0);let G={...c,[B]:{...c[B],[O]:F}};if((O==="start"||O==="end")&&F){const K=G[B]||{},$=O==="start"?F:K.start,Z=O==="end"?F:K.end;if($&&Z){const ee=M(B,$,Z);ee[B]&&(G=T(G,B),A(ee[B],"error"))}}u(G),I(B,G[B])},z=(B,O,F)=>{const G={...c,[B]:{...c[B],active:O}};localStorage.setItem(`phases_${e}`,JSON.stringify(G)),u(G),I(B,G[B]),G[B],n&&n(F),A(`${B} phase ${O?"activated":"deactivated"}`,"success")};return l.jsxs("div",{className:"space-y-6",children:[a?.isInitialized&&l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${a.isPaused?"bg-red-500":"bg-green-500"}`}),l.jsxs("span",{className:"text-sm font-medium text-white",children:["Sale Status: ",a.isPaused?"Paused":"Active"]})]}),l.jsx("div",{className:"flex items-center gap-3",children:a.isPaused?l.jsxs("button",{onClick:o,disabled:a.isLoading,className:"flex items-center gap-2 px-4 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[a.isLoading?l.jsx(Zd,{className:"w-4 h-4 animate-spin"}):l.jsx(_ue,{className:"w-4 h-4"}),a.isLoading?"Resuming":"Resume Sale"]}):l.jsxs("button",{onClick:i,disabled:a.isLoading,className:"flex items-center gap-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[a.isLoading?l.jsx(Zd,{className:"w-4 h-4 animate-spin"}):l.jsx(Sue,{className:"w-4 h-4"}),a.isLoading?"Pausing":"Pause Sale"]})})]}),a.isPaused&&l.jsxs("div",{className:"mt-4 p-4 bg-yellow-900/20 border border-yellow-500/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 mb-2",children:[l.jsx(to,{size:16}),l.jsx("span",{className:"font-semibold",children:"Sale is Paused"})]}),l.jsx("p",{className:"text-sm text-yellow-300",children:"The sale is currently paused. Users cannot mint NFTs while the sale is paused. You can edit phase settings while paused, then resume the sale when ready."})]})]}),l.jsx("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Phases"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>P("Whitelist"),disabled:a?.isPaused,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${b.Whitelist?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"} ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:"Whitelist"}),l.jsx("button",{onClick:()=>P("FCFS"),disabled:a?.isPaused,className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${b.FCFS?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"} ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:"FCFS"})]}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Click to add/remove phases. Public phase is always available."})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm text-zinc-400",children:["Total NFTs (added): ",l.jsx("span",{className:"text-white font-bold",children:v})]}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Allocated to phases: ",l.jsx("span",{className:"text-white font-bold",children:Object.values(c).reduce((B,O)=>B+(Number(O.allocated)||0),0)})]}),l.jsxs("p",{className:"text-sm text-zinc-400",children:["Unallocated NFTs: ",l.jsx("span",{className:"text-white font-bold",children:v-Object.values(c).reduce((B,O)=>B+(Number(O.allocated)||0),0)})]})]})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(b).map(([B,O])=>{if(!O)return null;const F=c[B]||{};return l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-700",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h4",{className:"text-lg font-semibold text-white",children:[B," Phase"]}),B==="Public"&&l.jsxs("div",{className:"group relative",children:[l.jsxs("div",{className:"text-xs text-blue-400 bg-blue-500/10 px-2 py-1 rounded flex items-center gap-1 cursor-help",children:["Auto-configured",l.jsx(Gce,{className:"w-3 h-3 text-blue-400"})]}),l.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-lg shadow-xl text-xs text-zinc-300 w-64 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50",children:[l.jsx("div",{className:"font-semibold text-blue-400 mb-1",children:"Auto-configured Public Phase:"}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{children:" Price: 0.1 STT (default, editable)"}),l.jsx("div",{children:" Limit: 1 NFT per wallet (default, editable)"}),l.jsx("div",{children:" Start: Now (UTC) when you enter this menu (editable)"}),l.jsx("div",{children:" Duration: 3 days (editable)"}),l.jsx("div",{children:" Allocation: Automatically calculated based on other phases"})]})]})]})]}),l.jsxs("div",{className:"mb-1",children:[l.jsxs("label",{className:"text-xs mr-1",children:["Price (",l.jsx("img",{src:Ws,alt:"Somnia",className:"inline w-4 h-4 mx-1"})," STT)"]}),l.jsx("input",{type:"number",step:"0.001",min:"0",value:F.price||"",onChange:G=>W(B,"price",G.target.value),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,disabled:a?.isPaused})]}),l.jsxs("div",{className:"mb-1",children:[l.jsx("label",{className:"text-xs",children:"Limit per Wallet"}),l.jsx("input",{type:"number",min:0,value:F.limit||"",onChange:G=>W(B,"limit",Math.max(0,G.target.value)),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,disabled:a?.isPaused})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("label",{className:"text-xs w-12",children:"Start"}),l.jsx(vT,{value:F.start,onChange:G=>W(B,"start",G),disabled:a?.isPaused})]}),l.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[l.jsx("label",{className:"text-xs w-12",children:"End"}),l.jsx(vT,{value:F.end,onChange:G=>W(B,"end",G),disabled:a?.isPaused})]}),h[B]&&l.jsxs("div",{className:"mt-1 p-2 bg-yellow-900/20 border border-yellow-500/50 rounded text-xs text-yellow-400",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(to,{size:12}),l.jsx("span",{className:"font-semibold",children:"Time Warning"})]}),l.jsx("p",{className:"text-xs",children:h[B]}),l.jsxs("div",{className:"flex gap-2 mt-1",children:[l.jsx("button",{onClick:()=>{const G=(()=>{const K=k(B),$=K&&c[K]?.end?new Date(c[K].end):new Date,Z=new Date($),ee=new Date($.getTime()+3600*1e3);return{start:Z.toISOString(),end:ee.toISOString()}})();W(B,"start",G.start),W(B,"end",G.end)},className:"text-xs text-blue-400 hover:underline",children:"Suggest optimal time"}),l.jsx("button",{onClick:()=>f(G=>{const K={...G};return delete K[B],K}),className:"text-xs text-zinc-400 hover:underline",children:"Dismiss"})]})]})]}),l.jsxs("div",{className:"mb-1 mt-1",children:[l.jsx("label",{className:"text-xs",children:"Allocated NFTs"}),l.jsx("input",{type:"number",min:0,max:v,value:F.allocated||"",onChange:G=>W(B,"allocated",G.target.value),className:`w-full p-1 rounded bg-zinc-800 border border-zinc-600 text-white text-sm ${a?.isPaused||B==="Public"?"opacity-50 cursor-not-allowed":""}`,disabled:a?.isPaused||B==="Public",title:B==="Public"?"Public phase allocation is automatically calculated":""})]}),l.jsx("div",{className:"flex items-center justify-between mt-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-xs text-zinc-400",children:F.active?"Active":"Inactive"}),F.active&&l.jsx(Ji,{className:"w-3 h-3 text-green-400"})]}),l.jsx(ipe,{checked:F.active||!1,onChange:G=>z(B,G,B),disabled:a?.isPaused,className:`${F.active?"bg-green-500":"bg-zinc-600"} relative inline-flex h-5 w-10 items-center rounded-full transition-colors ${a?.isPaused?"opacity-50 cursor-not-allowed":""}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${F.active?"translate-x-5":"translate-x-1"}`})})]})})]},B)})}),p.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${p.type==="error"?"bg-red-800 text-white":p.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:p.message})})]})},Gwe=({collection:e})=>{const[t,n]=j.useState([]),[r,s]=j.useState([]),[a,i]=j.useState({visible:!1,message:"",type:"success"}),[o,c]=j.useState({isInitialized:!1,isPaused:!1,isLoading:!1});j.useEffect(()=>{if(a.visible){const v=setTimeout(()=>i(N=>({...N,visible:!1})),3e3);return()=>clearTimeout(v)}},[a.visible]);const u=(v,N="success")=>{i({visible:!0,message:v,type:N})},h=async()=>{if(e?.address)try{c(k=>({...k,isLoading:!0}));const v=new In("https://dream-rpc.somnia.network/"),N=new Pt(e.address,Rn,v);let A=!1,C=!1;try{typeof N.initialized=="function"&&(A=await N.initialized()),A&&typeof N.paused=="function"&&(C=await N.paused())}catch{console.log("Contract not fully initialized or pause function not available")}c({isInitialized:A,isPaused:C,isLoading:!1})}catch(v){console.error("Error checking sale status:",v),c(N=>({...N,isLoading:!1}))}},f=async()=>{if(e?.address)try{c(k=>({...k,isLoading:!0}));const v=await new wr(window.ethereum).getSigner(),N=new Pt(e.address,Rn,v),A=await N.owner(),C=await v.getAddress();if(A.toLowerCase()!==C.toLowerCase()){u("Only the collection owner can pause the sale","error");return}await(await N.pause()).wait(),u("Sale paused successfully!","success"),await h()}catch(v){console.error("Error pausing sale:",v),u(`Error pausing sale: ${v.message}`,"error")}finally{c(v=>({...v,isLoading:!1}))}},p=async()=>{if(e?.address)try{c(k=>({...k,isLoading:!0}));const v=await new wr(window.ethereum).getSigner(),N=new Pt(e.address,Rn,v),A=await N.owner(),C=await v.getAddress();if(A.toLowerCase()!==C.toLowerCase()){u("Only the collection owner can resume the sale","error");return}await(await N.unpause()).wait(),u("Sale resumed successfully!","success"),await h()}catch(v){console.error("Error resuming sale:",v),u(`Error resuming sale: ${v.message}`,"error")}finally{c(v=>({...v,isLoading:!1}))}},g=async()=>{if(e?.address)try{const v=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`))||[];s(v)}catch(v){console.error("Error loading NFTs:",v)}},b=async()=>{if(!e?.address){n([]);return}try{const v=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{},N=Object.entries(v).map(([A,C])=>({key:A,enumValue:A==="Whitelist"?1:A==="FCFS"?2:3,...C}));console.log(" Loaded phases for collection:",e.address,N),n(N)}catch(v){console.error("Error loading phases:",v),n([])}};j.useEffect(()=>{e?.address&&(g(),b(),h())},[e?.address]);const y=v=>{console.log("Removing phase:",v)},w=v=>{console.log("Activating phase:",v)};return e?l.jsxs("div",{className:"space-y-6 pb-24",children:[l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:l.jsx(QL,{collectionAddress:e.address,phases:t,onActivatePhase:w,onRemovePhase:y,nfts:r,saleStatus:o,onPauseSale:f,onResumeSale:p})}),a.visible&&l.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 ${a.type==="success"?"bg-green-500":a.type==="error"?"bg-red-500":"bg-yellow-500"} text-white`,children:a.message})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})};var Ew={},oc={},NT,kT;function qwe(){return kT||(kT=1,NT=function(e){for(var t=new Buffer(e.length),n=0,r=e.length-1;n<=r;++n,--r)t[n]=e[r],t[r]=e[n];return t}),NT}var D6={exports:{}};function K0(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var B6={exports:{}};const Vwe={},Kwe=Object.freeze(Object.defineProperty({__proto__:null,default:Vwe},Symbol.toStringTag,{value:"Module"})),Zwe=C9(Kwe);var Ywe=B6.exports,CT;function dn(){return CT||(CT=1,function(e,t){(function(n,r){e.exports=r()})(Ywe,function(){var n=n||function(r,s){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof K0=="function")try{a=Zwe}catch{}var i=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function N(){}return function(A){var C;return N.prototype=A,C=new N,N.prototype=null,C}}(),c={},u=c.lib={},h=u.Base=function(){return{extend:function(N){var A=o(this);return N&&A.mixIn(N),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var N=this.extend();return N.init.apply(N,arguments),N},init:function(){},mixIn:function(N){for(var A in N)N.hasOwnProperty(A)&&(this[A]=N[A]);N.hasOwnProperty("toString")&&(this.toString=N.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=u.WordArray=h.extend({init:function(N,A){N=this.words=N||[],A!=s?this.sigBytes=A:this.sigBytes=N.length*4},toString:function(N){return(N||g).stringify(this)},concat:function(N){var A=this.words,C=N.words,k=this.sigBytes,S=N.sigBytes;if(this.clamp(),k%4)for(var T=0;T<S;T++){var P=C[T>>>2]>>>24-T%4*8&255;A[k+T>>>2]|=P<<24-(k+T)%4*8}else for(var I=0;I<S;I+=4)A[k+I>>>2]=C[I>>>2];return this.sigBytes+=S,this},clamp:function(){var N=this.words,A=this.sigBytes;N[A>>>2]&=4294967295<<32-A%4*8,N.length=r.ceil(A/4)},clone:function(){var N=h.clone.call(this);return N.words=this.words.slice(0),N},random:function(N){for(var A=[],C=0;C<N;C+=4)A.push(i());return new f.init(A,N)}}),p=c.enc={},g=p.Hex={stringify:function(N){for(var A=N.words,C=N.sigBytes,k=[],S=0;S<C;S++){var T=A[S>>>2]>>>24-S%4*8&255;k.push((T>>>4).toString(16)),k.push((T&15).toString(16))}return k.join("")},parse:function(N){for(var A=N.length,C=[],k=0;k<A;k+=2)C[k>>>3]|=parseInt(N.substr(k,2),16)<<24-k%8*4;return new f.init(C,A/2)}},b=p.Latin1={stringify:function(N){for(var A=N.words,C=N.sigBytes,k=[],S=0;S<C;S++){var T=A[S>>>2]>>>24-S%4*8&255;k.push(String.fromCharCode(T))}return k.join("")},parse:function(N){for(var A=N.length,C=[],k=0;k<A;k++)C[k>>>2]|=(N.charCodeAt(k)&255)<<24-k%4*8;return new f.init(C,A)}},y=p.Utf8={stringify:function(N){try{return decodeURIComponent(escape(b.stringify(N)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(N){return b.parse(unescape(encodeURIComponent(N)))}},w=u.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(N){typeof N=="string"&&(N=y.parse(N)),this._data.concat(N),this._nDataBytes+=N.sigBytes},_process:function(N){var A,C=this._data,k=C.words,S=C.sigBytes,T=this.blockSize,P=T*4,I=S/P;N?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var M=I*T,W=r.min(M*4,S);if(M){for(var z=0;z<M;z+=T)this._doProcessBlock(k,z);A=k.splice(0,M),C.sigBytes-=W}return new f.init(A,W)},clone:function(){var N=h.clone.call(this);return N._data=this._data.clone(),N},_minBufferSize:0});u.Hasher=w.extend({cfg:h.extend(),init:function(N){this.cfg=this.cfg.extend(N),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(N){return this._append(N),this._process(),this},finalize:function(N){N&&this._append(N);var A=this._doFinalize();return A},blockSize:16,_createHelper:function(N){return function(A,C){return new N.init(C).finalize(A)}},_createHmacHelper:function(N){return function(A,C){return new v.HMAC.init(N,C).finalize(A)}}});var v=c.algo={};return c}(Math);return n})}(B6)),B6.exports}var Qwe=D6.exports,ET;function Ty(){return ET||(ET=1,function(e,t){(function(n,r){e.exports=r(dn())})(Qwe,function(n){return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.algo,u=[],h=[];(function(){function g(v){for(var N=r.sqrt(v),A=2;A<=N;A++)if(!(v%A))return!1;return!0}function b(v){return(v-(v|0))*4294967296|0}for(var y=2,w=0;w<64;)g(y)&&(w<8&&(u[w]=b(r.pow(y,1/2))),h[w]=b(r.pow(y,1/3)),w++),y++})();var f=[],p=c.SHA256=o.extend({_doReset:function(){this._hash=new i.init(u.slice(0))},_doProcessBlock:function(g,b){for(var y=this._hash.words,w=y[0],v=y[1],N=y[2],A=y[3],C=y[4],k=y[5],S=y[6],T=y[7],P=0;P<64;P++){if(P<16)f[P]=g[b+P]|0;else{var I=f[P-15],M=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,W=f[P-2],z=(W<<15|W>>>17)^(W<<13|W>>>19)^W>>>10;f[P]=M+f[P-7]+z+f[P-16]}var B=C&k^~C&S,O=w&v^w&N^v&N,F=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),G=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),K=T+G+B+h[P]+f[P],$=F+O;T=S,S=k,k=C,C=A+K|0,A=N,N=v,v=w,w=K+$|0}y[0]=y[0]+w|0,y[1]=y[1]+v|0,y[2]=y[2]+N|0,y[3]=y[3]+A|0,y[4]=y[4]+C|0,y[5]=y[5]+k|0,y[6]=y[6]+S|0,y[7]=y[7]+T|0},_doFinalize:function(){var g=this._data,b=g.words,y=this._nDataBytes*8,w=g.sigBytes*8;return b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=r.floor(y/4294967296),b[(w+64>>>9<<4)+15]=y,g.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});s.SHA256=o._createHelper(p),s.HmacSHA256=o._createHmacHelper(p)}(Math),n.SHA256})}(D6)),D6.exports}var L6={exports:{}},Jwe=L6.exports,AT;function JL(){return AT||(AT=1,function(e,t){(function(n,r){e.exports=r()})(Jwe,function(){function n(i,o){var c=o?"":"";return i?c+=" ":c+="",c}function r(i,o){var c=[];for(var u in i)i.hasOwnProperty(u)&&(o&&typeof i[u]=="function"||c.push(u));return c}function s(i,o,c,u,h,f,p){var g="",b=0,y,w,v=u.slice(0);if(v.push([o,c])&&u.length>0&&(u.forEach(function(A,C){C>0&&(g+=(A[1]?" ":"")+"  "),!w&&A[0]===o&&(w=!0)}),g+=n(i,c)+i,h&&(typeof o!="object"||o instanceof Date)&&(g+=": "+o),w&&(g+=" (circular ref.)"),p(g)),!w&&typeof o=="object"){var N=r(o,f);N.forEach(function(A){y=++b===N.length,s(A,o[A],y,v,h,f,p)})}}var a={};return a.asLines=function(i,o,c,u){var h=typeof c!="function"?c:!1;s(".",i,!1,[],o,h,u||c)},a.asTree=function(i,o,c){var u="";return s(".",i,!1,[],o,c,function(h){u+=h+`
`}),u},a})}(L6)),L6.exports}var lc={},U6={exports:{}},$6={exports:{}},Xwe=$6.exports,ST;function zv(){return ST||(ST=1,function(e,t){(function(n,r){e.exports=r(dn())})(Xwe,function(n){return function(r){var s=n,a=s.lib,i=a.Base,o=a.WordArray,c=s.x64={};c.Word=i.extend({init:function(u,h){this.high=u,this.low=h}}),c.WordArray=i.extend({init:function(u,h){u=this.words=u||[],h!=r?this.sigBytes=h:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,h=u.length,f=[],p=0;p<h;p++){var g=u[p];f.push(g.high),f.push(g.low)}return o.create(f,this.sigBytes)},clone:function(){for(var u=i.clone.call(this),h=u.words=this.words.slice(0),f=h.length,p=0;p<f;p++)h[p]=h[p].clone();return u}})}(),n})}($6)),$6.exports}var H6={exports:{}},e1e=H6.exports,jT;function t1e(){return jT||(jT=1,function(e,t){(function(n,r){e.exports=r(dn())})(e1e,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,s=r.lib,a=s.WordArray,i=a.init,o=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,h=[],f=0;f<u;f++)h[f>>>2]|=c[f]<<24-f%4*8;i.call(this,h,u)}else i.apply(this,arguments)};o.prototype=a}}(),n.lib.WordArray})}(H6)),H6.exports}var W6={exports:{}},n1e=W6.exports,_T;function r1e(){return _T||(_T=1,function(e,t){(function(n,r){e.exports=r(dn())})(n1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.enc;i.Utf16=i.Utf16BE={stringify:function(c){for(var u=c.words,h=c.sigBytes,f=[],p=0;p<h;p+=2){var g=u[p>>>2]>>>16-p%4*8&65535;f.push(String.fromCharCode(g))}return f.join("")},parse:function(c){for(var u=c.length,h=[],f=0;f<u;f++)h[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(h,u*2)}},i.Utf16LE={stringify:function(c){for(var u=c.words,h=c.sigBytes,f=[],p=0;p<h;p+=2){var g=o(u[p>>>2]>>>16-p%4*8&65535);f.push(String.fromCharCode(g))}return f.join("")},parse:function(c){for(var u=c.length,h=[],f=0;f<u;f++)h[f>>>1]|=o(c.charCodeAt(f)<<16-f%2*16);return a.create(h,u*2)}};function o(c){return c<<8&4278255360|c>>>8&16711935}}(),n.enc.Utf16})}(W6)),W6.exports}var G6={exports:{}},s1e=G6.exports,IT;function oh(){return IT||(IT=1,function(e,t){(function(n,r){e.exports=r(dn())})(s1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.enc;i.Base64={stringify:function(c){var u=c.words,h=c.sigBytes,f=this._map;c.clamp();for(var p=[],g=0;g<h;g+=3)for(var b=u[g>>>2]>>>24-g%4*8&255,y=u[g+1>>>2]>>>24-(g+1)%4*8&255,w=u[g+2>>>2]>>>24-(g+2)%4*8&255,v=b<<16|y<<8|w,N=0;N<4&&g+N*.75<h;N++)p.push(f.charAt(v>>>6*(3-N)&63));var A=f.charAt(64);if(A)for(;p.length%4;)p.push(A);return p.join("")},parse:function(c){var u=c.length,h=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var p=0;p<h.length;p++)f[h.charCodeAt(p)]=p}var g=h.charAt(64);if(g){var b=c.indexOf(g);b!==-1&&(u=b)}return o(c,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(c,u,h){for(var f=[],p=0,g=0;g<u;g++)if(g%4){var b=h[c.charCodeAt(g-1)]<<g%4*2,y=h[c.charCodeAt(g)]>>>6-g%4*2,w=b|y;f[p>>>2]|=w<<24-p%4*8,p++}return a.create(f,p)}}(),n.enc.Base64})}(G6)),G6.exports}var q6={exports:{}},a1e=q6.exports,TT;function i1e(){return TT||(TT=1,function(e,t){(function(n,r){e.exports=r(dn())})(a1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.enc;i.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var h=c.words,f=c.sigBytes,p=u?this._safe_map:this._map;c.clamp();for(var g=[],b=0;b<f;b+=3)for(var y=h[b>>>2]>>>24-b%4*8&255,w=h[b+1>>>2]>>>24-(b+1)%4*8&255,v=h[b+2>>>2]>>>24-(b+2)%4*8&255,N=y<<16|w<<8|v,A=0;A<4&&b+A*.75<f;A++)g.push(p.charAt(N>>>6*(3-A)&63));var C=p.charAt(64);if(C)for(;g.length%4;)g.push(C);return g.join("")},parse:function(c,u){u===void 0&&(u=!0);var h=c.length,f=u?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var g=0;g<f.length;g++)p[f.charCodeAt(g)]=g}var b=f.charAt(64);if(b){var y=c.indexOf(b);y!==-1&&(h=y)}return o(c,h,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(c,u,h){for(var f=[],p=0,g=0;g<u;g++)if(g%4){var b=h[c.charCodeAt(g-1)]<<g%4*2,y=h[c.charCodeAt(g)]>>>6-g%4*2,w=b|y;f[p>>>2]|=w<<24-p%4*8,p++}return a.create(f,p)}}(),n.enc.Base64url})}(q6)),q6.exports}var V6={exports:{}},o1e=V6.exports,PT;function lh(){return PT||(PT=1,function(e,t){(function(n,r){e.exports=r(dn())})(o1e,function(n){return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.algo,u=[];(function(){for(var y=0;y<64;y++)u[y]=r.abs(r.sin(y+1))*4294967296|0})();var h=c.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,w){for(var v=0;v<16;v++){var N=w+v,A=y[N];y[N]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var C=this._hash.words,k=y[w+0],S=y[w+1],T=y[w+2],P=y[w+3],I=y[w+4],M=y[w+5],W=y[w+6],z=y[w+7],B=y[w+8],O=y[w+9],F=y[w+10],G=y[w+11],K=y[w+12],$=y[w+13],Z=y[w+14],ee=y[w+15],L=C[0],V=C[1],Q=C[2],Y=C[3];L=f(L,V,Q,Y,k,7,u[0]),Y=f(Y,L,V,Q,S,12,u[1]),Q=f(Q,Y,L,V,T,17,u[2]),V=f(V,Q,Y,L,P,22,u[3]),L=f(L,V,Q,Y,I,7,u[4]),Y=f(Y,L,V,Q,M,12,u[5]),Q=f(Q,Y,L,V,W,17,u[6]),V=f(V,Q,Y,L,z,22,u[7]),L=f(L,V,Q,Y,B,7,u[8]),Y=f(Y,L,V,Q,O,12,u[9]),Q=f(Q,Y,L,V,F,17,u[10]),V=f(V,Q,Y,L,G,22,u[11]),L=f(L,V,Q,Y,K,7,u[12]),Y=f(Y,L,V,Q,$,12,u[13]),Q=f(Q,Y,L,V,Z,17,u[14]),V=f(V,Q,Y,L,ee,22,u[15]),L=p(L,V,Q,Y,S,5,u[16]),Y=p(Y,L,V,Q,W,9,u[17]),Q=p(Q,Y,L,V,G,14,u[18]),V=p(V,Q,Y,L,k,20,u[19]),L=p(L,V,Q,Y,M,5,u[20]),Y=p(Y,L,V,Q,F,9,u[21]),Q=p(Q,Y,L,V,ee,14,u[22]),V=p(V,Q,Y,L,I,20,u[23]),L=p(L,V,Q,Y,O,5,u[24]),Y=p(Y,L,V,Q,Z,9,u[25]),Q=p(Q,Y,L,V,P,14,u[26]),V=p(V,Q,Y,L,B,20,u[27]),L=p(L,V,Q,Y,$,5,u[28]),Y=p(Y,L,V,Q,T,9,u[29]),Q=p(Q,Y,L,V,z,14,u[30]),V=p(V,Q,Y,L,K,20,u[31]),L=g(L,V,Q,Y,M,4,u[32]),Y=g(Y,L,V,Q,B,11,u[33]),Q=g(Q,Y,L,V,G,16,u[34]),V=g(V,Q,Y,L,Z,23,u[35]),L=g(L,V,Q,Y,S,4,u[36]),Y=g(Y,L,V,Q,I,11,u[37]),Q=g(Q,Y,L,V,z,16,u[38]),V=g(V,Q,Y,L,F,23,u[39]),L=g(L,V,Q,Y,$,4,u[40]),Y=g(Y,L,V,Q,k,11,u[41]),Q=g(Q,Y,L,V,P,16,u[42]),V=g(V,Q,Y,L,W,23,u[43]),L=g(L,V,Q,Y,O,4,u[44]),Y=g(Y,L,V,Q,K,11,u[45]),Q=g(Q,Y,L,V,ee,16,u[46]),V=g(V,Q,Y,L,T,23,u[47]),L=b(L,V,Q,Y,k,6,u[48]),Y=b(Y,L,V,Q,z,10,u[49]),Q=b(Q,Y,L,V,Z,15,u[50]),V=b(V,Q,Y,L,M,21,u[51]),L=b(L,V,Q,Y,K,6,u[52]),Y=b(Y,L,V,Q,P,10,u[53]),Q=b(Q,Y,L,V,F,15,u[54]),V=b(V,Q,Y,L,S,21,u[55]),L=b(L,V,Q,Y,B,6,u[56]),Y=b(Y,L,V,Q,ee,10,u[57]),Q=b(Q,Y,L,V,W,15,u[58]),V=b(V,Q,Y,L,$,21,u[59]),L=b(L,V,Q,Y,I,6,u[60]),Y=b(Y,L,V,Q,G,10,u[61]),Q=b(Q,Y,L,V,T,15,u[62]),V=b(V,Q,Y,L,O,21,u[63]),C[0]=C[0]+L|0,C[1]=C[1]+V|0,C[2]=C[2]+Q|0,C[3]=C[3]+Y|0},_doFinalize:function(){var y=this._data,w=y.words,v=this._nDataBytes*8,N=y.sigBytes*8;w[N>>>5]|=128<<24-N%32;var A=r.floor(v/4294967296),C=v;w[(N+64>>>9<<4)+15]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w[(N+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,y.sigBytes=(w.length+1)*4,this._process();for(var k=this._hash,S=k.words,T=0;T<4;T++){var P=S[T];S[T]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return k},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});function f(y,w,v,N,A,C,k){var S=y+(w&v|~w&N)+A+k;return(S<<C|S>>>32-C)+w}function p(y,w,v,N,A,C,k){var S=y+(w&N|v&~N)+A+k;return(S<<C|S>>>32-C)+w}function g(y,w,v,N,A,C,k){var S=y+(w^v^N)+A+k;return(S<<C|S>>>32-C)+w}function b(y,w,v,N,A,C,k){var S=y+(v^(w|~N))+A+k;return(S<<C|S>>>32-C)+w}s.MD5=o._createHelper(h),s.HmacMD5=o._createHmacHelper(h)}(Math),n.MD5})}(V6)),V6.exports}var K6={exports:{}},l1e=K6.exports,OT;function XL(){return OT||(OT=1,function(e,t){(function(n,r){e.exports=r(dn())})(l1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=s.Hasher,o=r.algo,c=[],u=o.SHA1=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,f){for(var p=this._hash.words,g=p[0],b=p[1],y=p[2],w=p[3],v=p[4],N=0;N<80;N++){if(N<16)c[N]=h[f+N]|0;else{var A=c[N-3]^c[N-8]^c[N-14]^c[N-16];c[N]=A<<1|A>>>31}var C=(g<<5|g>>>27)+v+c[N];N<20?C+=(b&y|~b&w)+1518500249:N<40?C+=(b^y^w)+1859775393:N<60?C+=(b&y|b&w|y&w)-1894007588:C+=(b^y^w)-899497514,v=w,w=y,y=b<<30|b>>>2,b=g,g=C}p[0]=p[0]+g|0,p[1]=p[1]+b|0,p[2]=p[2]+y|0,p[3]=p[3]+w|0,p[4]=p[4]+v|0},_doFinalize:function(){var h=this._data,f=h.words,p=this._nDataBytes*8,g=h.sigBytes*8;return f[g>>>5]|=128<<24-g%32,f[(g+64>>>9<<4)+14]=Math.floor(p/4294967296),f[(g+64>>>9<<4)+15]=p,h.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA1=i._createHelper(u),r.HmacSHA1=i._createHmacHelper(u)}(),n.SHA1})}(K6)),K6.exports}var Z6={exports:{}},c1e=Z6.exports,RT;function u1e(){return RT||(RT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Ty())})(c1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=r.algo,o=i.SHA256,c=i.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=o._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=o._createHelper(c),r.HmacSHA224=o._createHmacHelper(c)}(),n.SHA224})}(Z6)),Z6.exports}var Y6={exports:{}},d1e=Y6.exports,MT;function eU(){return MT||(MT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),zv())})(d1e,function(n){return function(){var r=n,s=r.lib,a=s.Hasher,i=r.x64,o=i.Word,c=i.WordArray,u=r.algo;function h(){return o.create.apply(o,arguments)}var f=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],p=[];(function(){for(var b=0;b<80;b++)p[b]=h()})();var g=u.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(b,y){for(var w=this._hash.words,v=w[0],N=w[1],A=w[2],C=w[3],k=w[4],S=w[5],T=w[6],P=w[7],I=v.high,M=v.low,W=N.high,z=N.low,B=A.high,O=A.low,F=C.high,G=C.low,K=k.high,$=k.low,Z=S.high,ee=S.low,L=T.high,V=T.low,Q=P.high,Y=P.low,ae=I,ue=M,re=W,ie=z,pe=B,oe=O,he=F,Ne=G,Re=K,H=$,ye=Z,ce=ee,ne=L,se=V,fe=Q,Ie=Y,je=0;je<80;je++){var be,Be,Me=p[je];if(je<16)Be=Me.high=b[y+je*2]|0,be=Me.low=b[y+je*2+1]|0;else{var ze=p[je-15],we=ze.high,_=ze.low,D=(we>>>1|_<<31)^(we>>>8|_<<24)^we>>>7,q=(_>>>1|we<<31)^(_>>>8|we<<24)^(_>>>7|we<<25),le=p[je-2],ge=le.high,Ce=le.low,Se=(ge>>>19|Ce<<13)^(ge<<3|Ce>>>29)^ge>>>6,rt=(Ce>>>19|ge<<13)^(Ce<<3|ge>>>29)^(Ce>>>6|ge<<26),kt=p[je-7],ot=kt.high,Ct=kt.low,nt=p[je-16],Kt=nt.high,Wt=nt.low;be=q+Ct,Be=D+ot+(be>>>0<q>>>0?1:0),be=be+rt,Be=Be+Se+(be>>>0<rt>>>0?1:0),be=be+Wt,Be=Be+Kt+(be>>>0<Wt>>>0?1:0),Me.high=Be,Me.low=be}var Bn=Re&ye^~Re&ne,En=H&ce^~H&se,Ur=ae&re^ae&pe^re&pe,Vn=ue&ie^ue&oe^ie&oe,$r=(ae>>>28|ue<<4)^(ae<<30|ue>>>2)^(ae<<25|ue>>>7),on=(ue>>>28|ae<<4)^(ue<<30|ae>>>2)^(ue<<25|ae>>>7),Al=(Re>>>14|H<<18)^(Re>>>18|H<<14)^(Re<<23|H>>>9),es=(H>>>14|Re<<18)^(H>>>18|Re<<14)^(H<<23|Re>>>9),xo=f[je],Ar=xo.high,ba=xo.low,hr=Ie+es,wa=fe+Al+(hr>>>0<Ie>>>0?1:0),hr=hr+En,wa=wa+Bn+(hr>>>0<En>>>0?1:0),hr=hr+ba,wa=wa+Ar+(hr>>>0<ba>>>0?1:0),hr=hr+be,wa=wa+Be+(hr>>>0<be>>>0?1:0),Ii=on+Vn,_e=$r+Ur+(Ii>>>0<on>>>0?1:0);fe=ne,Ie=se,ne=ye,se=ce,ye=Re,ce=H,H=Ne+hr|0,Re=he+wa+(H>>>0<Ne>>>0?1:0)|0,he=pe,Ne=oe,pe=re,oe=ie,re=ae,ie=ue,ue=hr+Ii|0,ae=wa+_e+(ue>>>0<hr>>>0?1:0)|0}M=v.low=M+ue,v.high=I+ae+(M>>>0<ue>>>0?1:0),z=N.low=z+ie,N.high=W+re+(z>>>0<ie>>>0?1:0),O=A.low=O+oe,A.high=B+pe+(O>>>0<oe>>>0?1:0),G=C.low=G+Ne,C.high=F+he+(G>>>0<Ne>>>0?1:0),$=k.low=$+H,k.high=K+Re+($>>>0<H>>>0?1:0),ee=S.low=ee+ce,S.high=Z+ye+(ee>>>0<ce>>>0?1:0),V=T.low=V+se,T.high=L+ne+(V>>>0<se>>>0?1:0),Y=P.low=Y+Ie,P.high=Q+fe+(Y>>>0<Ie>>>0?1:0)},_doFinalize:function(){var b=this._data,y=b.words,w=this._nDataBytes*8,v=b.sigBytes*8;y[v>>>5]|=128<<24-v%32,y[(v+128>>>10<<5)+30]=Math.floor(w/4294967296),y[(v+128>>>10<<5)+31]=w,b.sigBytes=y.length*4,this._process();var N=this._hash.toX32();return N},clone:function(){var b=a.clone.call(this);return b._hash=this._hash.clone(),b},blockSize:1024/32});r.SHA512=a._createHelper(g),r.HmacSHA512=a._createHmacHelper(g)}(),n.SHA512})}(Y6)),Y6.exports}var Q6={exports:{}},h1e=Q6.exports,zT;function f1e(){return zT||(zT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),zv(),eU())})(h1e,function(n){return function(){var r=n,s=r.x64,a=s.Word,i=s.WordArray,o=r.algo,c=o.SHA512,u=o.SHA384=c.extend({_doReset:function(){this._hash=new i.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=16,h}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),n.SHA384})}(Q6)),Q6.exports}var J6={exports:{}},m1e=J6.exports,FT;function p1e(){return FT||(FT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),zv())})(m1e,function(n){return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.x64,u=c.Word,h=s.algo,f=[],p=[],g=[];(function(){for(var w=1,v=0,N=0;N<24;N++){f[w+5*v]=(N+1)*(N+2)/2%64;var A=v%5,C=(2*w+3*v)%5;w=A,v=C}for(var w=0;w<5;w++)for(var v=0;v<5;v++)p[w+5*v]=v+(2*w+3*v)%5*5;for(var k=1,S=0;S<24;S++){for(var T=0,P=0,I=0;I<7;I++){if(k&1){var M=(1<<I)-1;M<32?P^=1<<M:T^=1<<M-32}k&128?k=k<<1^113:k<<=1}g[S]=u.create(T,P)}})();var b=[];(function(){for(var w=0;w<25;w++)b[w]=u.create()})();var y=h.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],v=0;v<25;v++)w[v]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,v){for(var N=this._state,A=this.blockSize/2,C=0;C<A;C++){var k=w[v+2*C],S=w[v+2*C+1];k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var T=N[C];T.high^=S,T.low^=k}for(var P=0;P<24;P++){for(var I=0;I<5;I++){for(var M=0,W=0,z=0;z<5;z++){var T=N[I+5*z];M^=T.high,W^=T.low}var B=b[I];B.high=M,B.low=W}for(var I=0;I<5;I++)for(var O=b[(I+4)%5],F=b[(I+1)%5],G=F.high,K=F.low,M=O.high^(G<<1|K>>>31),W=O.low^(K<<1|G>>>31),z=0;z<5;z++){var T=N[I+5*z];T.high^=M,T.low^=W}for(var $=1;$<25;$++){var M,W,T=N[$],Z=T.high,ee=T.low,L=f[$];L<32?(M=Z<<L|ee>>>32-L,W=ee<<L|Z>>>32-L):(M=ee<<L-32|Z>>>64-L,W=Z<<L-32|ee>>>64-L);var V=b[p[$]];V.high=M,V.low=W}var Q=b[0],Y=N[0];Q.high=Y.high,Q.low=Y.low;for(var I=0;I<5;I++)for(var z=0;z<5;z++){var $=I+5*z,T=N[$],ae=b[$],ue=b[(I+1)%5+5*z],re=b[(I+2)%5+5*z];T.high=ae.high^~ue.high&re.high,T.low=ae.low^~ue.low&re.low}var T=N[0],ie=g[P];T.high^=ie.high,T.low^=ie.low}},_doFinalize:function(){var w=this._data,v=w.words;this._nDataBytes*8;var N=w.sigBytes*8,A=this.blockSize*32;v[N>>>5]|=1<<24-N%32,v[(r.ceil((N+1)/A)*A>>>5)-1]|=128,w.sigBytes=v.length*4,this._process();for(var C=this._state,k=this.cfg.outputLength/8,S=k/8,T=[],P=0;P<S;P++){var I=C[P],M=I.high,W=I.low;M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,W=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,T.push(W),T.push(M)}return new i.init(T,k)},clone:function(){for(var w=o.clone.call(this),v=w._state=this._state.slice(0),N=0;N<25;N++)v[N]=v[N].clone();return w}});s.SHA3=o._createHelper(y),s.HmacSHA3=o._createHmacHelper(y)}(Math),n.SHA3})}(J6)),J6.exports}var X6={exports:{}},g1e=X6.exports,DT;function y1e(){return DT||(DT=1,function(e,t){(function(n,r){e.exports=r(dn())})(g1e,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=n,a=s.lib,i=a.WordArray,o=a.Hasher,c=s.algo,u=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=i.create([0,1518500249,1859775393,2400959708,2840853838]),b=i.create([1352829926,1548603684,1836072691,2053994217,0]),y=c.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,T){for(var P=0;P<16;P++){var I=T+P,M=S[I];S[I]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var W=this._hash.words,z=g.words,B=b.words,O=u.words,F=h.words,G=f.words,K=p.words,$,Z,ee,L,V,Q,Y,ae,ue,re;Q=$=W[0],Y=Z=W[1],ae=ee=W[2],ue=L=W[3],re=V=W[4];for(var ie,P=0;P<80;P+=1)ie=$+S[T+O[P]]|0,P<16?ie+=w(Z,ee,L)+z[0]:P<32?ie+=v(Z,ee,L)+z[1]:P<48?ie+=N(Z,ee,L)+z[2]:P<64?ie+=A(Z,ee,L)+z[3]:ie+=C(Z,ee,L)+z[4],ie=ie|0,ie=k(ie,G[P]),ie=ie+V|0,$=V,V=L,L=k(ee,10),ee=Z,Z=ie,ie=Q+S[T+F[P]]|0,P<16?ie+=C(Y,ae,ue)+B[0]:P<32?ie+=A(Y,ae,ue)+B[1]:P<48?ie+=N(Y,ae,ue)+B[2]:P<64?ie+=v(Y,ae,ue)+B[3]:ie+=w(Y,ae,ue)+B[4],ie=ie|0,ie=k(ie,K[P]),ie=ie+re|0,Q=re,re=ue,ue=k(ae,10),ae=Y,Y=ie;ie=W[1]+ee+ue|0,W[1]=W[2]+L+re|0,W[2]=W[3]+V+Q|0,W[3]=W[4]+$+Y|0,W[4]=W[0]+Z+ae|0,W[0]=ie},_doFinalize:function(){var S=this._data,T=S.words,P=this._nDataBytes*8,I=S.sigBytes*8;T[I>>>5]|=128<<24-I%32,T[(I+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,S.sigBytes=(T.length+1)*4,this._process();for(var M=this._hash,W=M.words,z=0;z<5;z++){var B=W[z];W[z]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return M},clone:function(){var S=o.clone.call(this);return S._hash=this._hash.clone(),S}});function w(S,T,P){return S^T^P}function v(S,T,P){return S&T|~S&P}function N(S,T,P){return(S|~T)^P}function A(S,T,P){return S&P|T&~P}function C(S,T,P){return S^(T|~P)}function k(S,T){return S<<T|S>>>32-T}s.RIPEMD160=o._createHelper(y),s.HmacRIPEMD160=o._createHmacHelper(y)}(),n.RIPEMD160})}(X6)),X6.exports}var ek={exports:{}},b1e=ek.exports,BT;function SE(){return BT||(BT=1,function(e,t){(function(n,r){e.exports=r(dn())})(b1e,function(n){(function(){var r=n,s=r.lib,a=s.Base,i=r.enc,o=i.Utf8,c=r.algo;c.HMAC=a.extend({init:function(u,h){u=this._hasher=new u.init,typeof h=="string"&&(h=o.parse(h));var f=u.blockSize,p=f*4;h.sigBytes>p&&(h=u.finalize(h)),h.clamp();for(var g=this._oKey=h.clone(),b=this._iKey=h.clone(),y=g.words,w=b.words,v=0;v<f;v++)y[v]^=1549556828,w[v]^=909522486;g.sigBytes=b.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var h=this._hasher,f=h.finalize(u);h.reset();var p=h.finalize(this._oKey.clone().concat(f));return p}})})()})}(ek)),ek.exports}var tk={exports:{}},w1e=tk.exports,LT;function x1e(){return LT||(LT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Ty(),SE())})(w1e,function(n){return function(){var r=n,s=r.lib,a=s.Base,i=s.WordArray,o=r.algo,c=o.SHA256,u=o.HMAC,h=o.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,p){for(var g=this.cfg,b=u.create(g.hasher,f),y=i.create(),w=i.create([1]),v=y.words,N=w.words,A=g.keySize,C=g.iterations;v.length<A;){var k=b.update(p).finalize(w);b.reset();for(var S=k.words,T=S.length,P=k,I=1;I<C;I++){P=b.finalize(P),b.reset();for(var M=P.words,W=0;W<T;W++)S[W]^=M[W]}y.concat(k),N[0]++}return y.sigBytes=A*4,y}});r.PBKDF2=function(f,p,g){return h.create(g).compute(f,p)}}(),n.PBKDF2})}(tk)),tk.exports}var nk={exports:{}},v1e=nk.exports,UT;function ru(){return UT||(UT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),XL(),SE())})(v1e,function(n){return function(){var r=n,s=r.lib,a=s.Base,i=s.WordArray,o=r.algo,c=o.MD5,u=o.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var p,g=this.cfg,b=g.hasher.create(),y=i.create(),w=y.words,v=g.keySize,N=g.iterations;w.length<v;){p&&b.update(p),p=b.update(h).finalize(f),b.reset();for(var A=1;A<N;A++)p=b.finalize(p),b.reset();y.concat(p)}return y.sigBytes=v*4,y}});r.EvpKDF=function(h,f,p){return u.create(p).compute(h,f)}}(),n.EvpKDF})}(nk)),nk.exports}var rk={exports:{}},N1e=rk.exports,$T;function Lr(){return $T||($T=1,function(e,t){(function(n,r,s){e.exports=r(dn(),ru())})(N1e,function(n){n.lib.Cipher||function(r){var s=n,a=s.lib,i=a.Base,o=a.WordArray,c=a.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var h=u.Base64,f=s.algo,p=f.EvpKDF,g=a.Cipher=c.extend({cfg:i.extend(),createEncryptor:function(M,W){return this.create(this._ENC_XFORM_MODE,M,W)},createDecryptor:function(M,W){return this.create(this._DEC_XFORM_MODE,M,W)},init:function(M,W,z){this.cfg=this.cfg.extend(z),this._xformMode=M,this._key=W,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var W=this._doFinalize();return W},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function M(W){return typeof W=="string"?I:S}return function(W){return{encrypt:function(z,B,O){return M(B).encrypt(W,z,B,O)},decrypt:function(z,B,O){return M(B).decrypt(W,z,B,O)}}}}()});a.StreamCipher=g.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1});var b=s.mode={},y=a.BlockCipherMode=i.extend({createEncryptor:function(M,W){return this.Encryptor.create(M,W)},createDecryptor:function(M,W){return this.Decryptor.create(M,W)},init:function(M,W){this._cipher=M,this._iv=W}}),w=b.CBC=function(){var M=y.extend();M.Encryptor=M.extend({processBlock:function(z,B){var O=this._cipher,F=O.blockSize;W.call(this,z,B,F),O.encryptBlock(z,B),this._prevBlock=z.slice(B,B+F)}}),M.Decryptor=M.extend({processBlock:function(z,B){var O=this._cipher,F=O.blockSize,G=z.slice(B,B+F);O.decryptBlock(z,B),W.call(this,z,B,F),this._prevBlock=G}});function W(z,B,O){var F,G=this._iv;G?(F=G,this._iv=r):F=this._prevBlock;for(var K=0;K<O;K++)z[B+K]^=F[K]}return M}(),v=s.pad={},N=v.Pkcs7={pad:function(M,W){for(var z=W*4,B=z-M.sigBytes%z,O=B<<24|B<<16|B<<8|B,F=[],G=0;G<B;G+=4)F.push(O);var K=o.create(F,B);M.concat(K)},unpad:function(M){var W=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=W}};a.BlockCipher=g.extend({cfg:g.cfg.extend({mode:w,padding:N}),reset:function(){var M;g.reset.call(this);var W=this.cfg,z=W.iv,B=W.mode;this._xformMode==this._ENC_XFORM_MODE?M=B.createEncryptor:(M=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,z&&z.words):(this._mode=M.call(B,this,z&&z.words),this._mode.__creator=M)},_doProcessBlock:function(M,W){this._mode.processBlock(M,W)},_doFinalize:function(){var M,W=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(W.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),W.unpad(M)),M},blockSize:128/32});var A=a.CipherParams=i.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),C=s.format={},k=C.OpenSSL={stringify:function(M){var W,z=M.ciphertext,B=M.salt;return B?W=o.create([1398893684,1701076831]).concat(B).concat(z):W=z,W.toString(h)},parse:function(M){var W,z=h.parse(M),B=z.words;return B[0]==1398893684&&B[1]==1701076831&&(W=o.create(B.slice(2,4)),B.splice(0,4),z.sigBytes-=16),A.create({ciphertext:z,salt:W})}},S=a.SerializableCipher=i.extend({cfg:i.extend({format:k}),encrypt:function(M,W,z,B){B=this.cfg.extend(B);var O=M.createEncryptor(z,B),F=O.finalize(W),G=O.cfg;return A.create({ciphertext:F,key:z,iv:G.iv,algorithm:M,mode:G.mode,padding:G.padding,blockSize:M.blockSize,formatter:B.format})},decrypt:function(M,W,z,B){B=this.cfg.extend(B),W=this._parse(W,B.format);var O=M.createDecryptor(z,B).finalize(W.ciphertext);return O},_parse:function(M,W){return typeof M=="string"?W.parse(M,this):M}}),T=s.kdf={},P=T.OpenSSL={execute:function(M,W,z,B,O){if(B||(B=o.random(64/8)),O)var F=p.create({keySize:W+z,hasher:O}).compute(M,B);else var F=p.create({keySize:W+z}).compute(M,B);var G=o.create(F.words.slice(W),z*4);return F.sigBytes=W*4,A.create({key:F,iv:G,salt:B})}},I=a.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:P}),encrypt:function(M,W,z,B){B=this.cfg.extend(B);var O=B.kdf.execute(z,M.keySize,M.ivSize,B.salt,B.hasher);B.iv=O.iv;var F=S.encrypt.call(this,M,W,O.key,B);return F.mixIn(O),F},decrypt:function(M,W,z,B){B=this.cfg.extend(B),W=this._parse(W,B.format);var O=B.kdf.execute(z,M.keySize,M.ivSize,W.salt,B.hasher);B.iv=O.iv;var F=S.decrypt.call(this,M,W,O.key,B);return F}})}()})}(rk)),rk.exports}var sk={exports:{}},k1e=sk.exports,HT;function C1e(){return HT||(HT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(k1e,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize;s.call(this,a,i,c,o),this._prevBlock=a.slice(i,i+c)}}),r.Decryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize,u=a.slice(i,i+c);s.call(this,a,i,c,o),this._prevBlock=u}});function s(a,i,o,c){var u,h=this._iv;h?(u=h.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var f=0;f<o;f++)a[i+f]^=u[f]}return r}(),n.mode.CFB})}(sk)),sk.exports}var ak={exports:{}},E1e=ak.exports,WT;function A1e(){return WT||(WT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(E1e,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize,u=this._iv,h=this._counter;u&&(h=this._counter=u.slice(0),this._iv=void 0);var f=h.slice(0);o.encryptBlock(f,0),h[c-1]=h[c-1]+1|0;for(var p=0;p<c;p++)a[i+p]^=f[p]}});return r.Decryptor=s,r}(),n.mode.CTR})}(ak)),ak.exports}var ik={exports:{}},S1e=ik.exports,GT;function j1e(){return GT||(GT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(S1e,function(n){/** @preserve
* Counter block mode compatible with  Dr Brian Gladman fileenc.c
* derived from CryptoJS.mode.CTR
* Jan Hruby jhruby.web@gmail.com
*/return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function s(o){if((o>>24&255)===255){var c=o>>16&255,u=o>>8&255,h=o&255;c===255?(c=0,u===255?(u=0,h===255?h=0:++h):++u):++c,o=0,o+=c<<16,o+=u<<8,o+=h}else o+=1<<24;return o}function a(o){return(o[0]=s(o[0]))===0&&(o[1]=s(o[1])),o}var i=r.Encryptor=r.extend({processBlock:function(o,c){var u=this._cipher,h=u.blockSize,f=this._iv,p=this._counter;f&&(p=this._counter=f.slice(0),this._iv=void 0),a(p);var g=p.slice(0);u.encryptBlock(g,0);for(var b=0;b<h;b++)o[c+b]^=g[b]}});return r.Decryptor=i,r}(),n.mode.CTRGladman})}(ik)),ik.exports}var ok={exports:{}},_1e=ok.exports,qT;function I1e(){return qT||(qT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(_1e,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(a,i){var o=this._cipher,c=o.blockSize,u=this._iv,h=this._keystream;u&&(h=this._keystream=u.slice(0),this._iv=void 0),o.encryptBlock(h,0);for(var f=0;f<c;f++)a[i+f]^=h[f]}});return r.Decryptor=s,r}(),n.mode.OFB})}(ok)),ok.exports}var lk={exports:{}},T1e=lk.exports,VT;function P1e(){return VT||(VT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(T1e,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,a){this._cipher.encryptBlock(s,a)}}),r.Decryptor=r.extend({processBlock:function(s,a){this._cipher.decryptBlock(s,a)}}),r}(),n.mode.ECB})}(lk)),lk.exports}var ck={exports:{}},O1e=ck.exports,KT;function R1e(){return KT||(KT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(O1e,function(n){return n.pad.AnsiX923={pad:function(r,s){var a=r.sigBytes,i=s*4,o=i-a%i,c=a+o-1;r.clamp(),r.words[c>>>2]|=o<<24-c%4*8,r.sigBytes+=o},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Ansix923})}(ck)),ck.exports}var uk={exports:{}},M1e=uk.exports,ZT;function z1e(){return ZT||(ZT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(M1e,function(n){return n.pad.Iso10126={pad:function(r,s){var a=s*4,i=a-r.sigBytes%a;r.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Iso10126})}(uk)),uk.exports}var dk={exports:{}},F1e=dk.exports,YT;function D1e(){return YT||(YT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(F1e,function(n){return n.pad.Iso97971={pad:function(r,s){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,s)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(dk)),dk.exports}var hk={exports:{}},B1e=hk.exports,QT;function L1e(){return QT||(QT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(B1e,function(n){return n.pad.ZeroPadding={pad:function(r,s){var a=s*4;r.clamp(),r.sigBytes+=a-(r.sigBytes%a||a)},unpad:function(r){for(var s=r.words,a=r.sigBytes-1,a=r.sigBytes-1;a>=0;a--)if(s[a>>>2]>>>24-a%4*8&255){r.sigBytes=a+1;break}}},n.pad.ZeroPadding})}(hk)),hk.exports}var fk={exports:{}},U1e=fk.exports,JT;function $1e(){return JT||(JT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(U1e,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(fk)),fk.exports}var mk={exports:{}},H1e=mk.exports,XT;function W1e(){return XT||(XT=1,function(e,t){(function(n,r,s){e.exports=r(dn(),Lr())})(H1e,function(n){return function(r){var s=n,a=s.lib,i=a.CipherParams,o=s.enc,c=o.Hex,u=s.format;u.Hex={stringify:function(h){return h.ciphertext.toString(c)},parse:function(h){var f=c.parse(h);return i.create({ciphertext:f})}}}(),n.format.Hex})}(mk)),mk.exports}var pk={exports:{}},G1e=pk.exports,e9;function q1e(){return e9||(e9=1,function(e,t){(function(n,r,s){e.exports=r(dn(),oh(),lh(),ru(),Lr())})(G1e,function(n){return function(){var r=n,s=r.lib,a=s.BlockCipher,i=r.algo,o=[],c=[],u=[],h=[],f=[],p=[],g=[],b=[],y=[],w=[];(function(){for(var A=[],C=0;C<256;C++)C<128?A[C]=C<<1:A[C]=C<<1^283;for(var k=0,S=0,C=0;C<256;C++){var T=S^S<<1^S<<2^S<<3^S<<4;T=T>>>8^T&255^99,o[k]=T,c[T]=k;var P=A[k],I=A[P],M=A[I],W=A[T]*257^T*16843008;u[k]=W<<24|W>>>8,h[k]=W<<16|W>>>16,f[k]=W<<8|W>>>24,p[k]=W;var W=M*16843009^I*65537^P*257^k*16843008;g[T]=W<<24|W>>>8,b[T]=W<<16|W>>>16,y[T]=W<<8|W>>>24,w[T]=W,k?(k=P^A[A[A[M^P]]],S^=A[A[S]]):k=S=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],N=i.AES=a.extend({_doReset:function(){var A;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,k=C.words,S=C.sigBytes/4,T=this._nRounds=S+6,P=(T+1)*4,I=this._keySchedule=[],M=0;M<P;M++)M<S?I[M]=k[M]:(A=I[M-1],M%S?S>6&&M%S==4&&(A=o[A>>>24]<<24|o[A>>>16&255]<<16|o[A>>>8&255]<<8|o[A&255]):(A=A<<8|A>>>24,A=o[A>>>24]<<24|o[A>>>16&255]<<16|o[A>>>8&255]<<8|o[A&255],A^=v[M/S|0]<<24),I[M]=I[M-S]^A);for(var W=this._invKeySchedule=[],z=0;z<P;z++){var M=P-z;if(z%4)var A=I[M];else var A=I[M-4];z<4||M<=4?W[z]=A:W[z]=g[o[A>>>24]]^b[o[A>>>16&255]]^y[o[A>>>8&255]]^w[o[A&255]]}}},encryptBlock:function(A,C){this._doCryptBlock(A,C,this._keySchedule,u,h,f,p,o)},decryptBlock:function(A,C){var k=A[C+1];A[C+1]=A[C+3],A[C+3]=k,this._doCryptBlock(A,C,this._invKeySchedule,g,b,y,w,c);var k=A[C+1];A[C+1]=A[C+3],A[C+3]=k},_doCryptBlock:function(A,C,k,S,T,P,I,M){for(var W=this._nRounds,z=A[C]^k[0],B=A[C+1]^k[1],O=A[C+2]^k[2],F=A[C+3]^k[3],G=4,K=1;K<W;K++){var $=S[z>>>24]^T[B>>>16&255]^P[O>>>8&255]^I[F&255]^k[G++],Z=S[B>>>24]^T[O>>>16&255]^P[F>>>8&255]^I[z&255]^k[G++],ee=S[O>>>24]^T[F>>>16&255]^P[z>>>8&255]^I[B&255]^k[G++],L=S[F>>>24]^T[z>>>16&255]^P[B>>>8&255]^I[O&255]^k[G++];z=$,B=Z,O=ee,F=L}var $=(M[z>>>24]<<24|M[B>>>16&255]<<16|M[O>>>8&255]<<8|M[F&255])^k[G++],Z=(M[B>>>24]<<24|M[O>>>16&255]<<16|M[F>>>8&255]<<8|M[z&255])^k[G++],ee=(M[O>>>24]<<24|M[F>>>16&255]<<16|M[z>>>8&255]<<8|M[B&255])^k[G++],L=(M[F>>>24]<<24|M[z>>>16&255]<<16|M[B>>>8&255]<<8|M[O&255])^k[G++];A[C]=$,A[C+1]=Z,A[C+2]=ee,A[C+3]=L},keySize:256/32});r.AES=a._createHelper(N)}(),n.AES})}(pk)),pk.exports}var gk={exports:{}},V1e=gk.exports,t9;function K1e(){return t9||(t9=1,function(e,t){(function(n,r,s){e.exports=r(dn(),oh(),lh(),ru(),Lr())})(V1e,function(n){return function(){var r=n,s=r.lib,a=s.WordArray,i=s.BlockCipher,o=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=o.DES=i.extend({_doReset:function(){for(var v=this._key,N=v.words,A=[],C=0;C<56;C++){var k=c[C]-1;A[C]=N[k>>>5]>>>31-k%32&1}for(var S=this._subKeys=[],T=0;T<16;T++){for(var P=S[T]=[],I=h[T],C=0;C<24;C++)P[C/6|0]|=A[(u[C]-1+I)%28]<<31-C%6,P[4+(C/6|0)]|=A[28+(u[C+24]-1+I)%28]<<31-C%6;P[0]=P[0]<<1|P[0]>>>31;for(var C=1;C<7;C++)P[C]=P[C]>>>(C-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var M=this._invSubKeys=[],C=0;C<16;C++)M[C]=S[15-C]},encryptBlock:function(v,N){this._doCryptBlock(v,N,this._subKeys)},decryptBlock:function(v,N){this._doCryptBlock(v,N,this._invSubKeys)},_doCryptBlock:function(v,N,A){this._lBlock=v[N],this._rBlock=v[N+1],b.call(this,4,252645135),b.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),b.call(this,1,1431655765);for(var C=0;C<16;C++){for(var k=A[C],S=this._lBlock,T=this._rBlock,P=0,I=0;I<8;I++)P|=f[I][((T^k[I])&p[I])>>>0];this._lBlock=T,this._rBlock=S^P}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,b.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),b.call(this,16,65535),b.call(this,4,252645135),v[N]=this._lBlock,v[N+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function b(v,N){var A=(this._lBlock>>>v^this._rBlock)&N;this._rBlock^=A,this._lBlock^=A<<v}function y(v,N){var A=(this._rBlock>>>v^this._lBlock)&N;this._lBlock^=A,this._rBlock^=A<<v}r.DES=i._createHelper(g);var w=o.TripleDES=i.extend({_doReset:function(){var v=this._key,N=v.words;if(N.length!==2&&N.length!==4&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var A=N.slice(0,2),C=N.length<4?N.slice(0,2):N.slice(2,4),k=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=g.createEncryptor(a.create(A)),this._des2=g.createEncryptor(a.create(C)),this._des3=g.createEncryptor(a.create(k))},encryptBlock:function(v,N){this._des1.encryptBlock(v,N),this._des2.decryptBlock(v,N),this._des3.encryptBlock(v,N)},decryptBlock:function(v,N){this._des3.decryptBlock(v,N),this._des2.encryptBlock(v,N),this._des1.decryptBlock(v,N)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=i._createHelper(w)}(),n.TripleDES})}(gk)),gk.exports}var yk={exports:{}},Z1e=yk.exports,n9;function Y1e(){return n9||(n9=1,function(e,t){(function(n,r,s){e.exports=r(dn(),oh(),lh(),ru(),Lr())})(Z1e,function(n){return function(){var r=n,s=r.lib,a=s.StreamCipher,i=r.algo,o=i.RC4=a.extend({_doReset:function(){for(var h=this._key,f=h.words,p=h.sigBytes,g=this._S=[],b=0;b<256;b++)g[b]=b;for(var b=0,y=0;b<256;b++){var w=b%p,v=f[w>>>2]>>>24-w%4*8&255;y=(y+g[b]+v)%256;var N=g[b];g[b]=g[y],g[y]=N}this._i=this._j=0},_doProcessBlock:function(h,f){h[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var h=this._S,f=this._i,p=this._j,g=0,b=0;b<4;b++){f=(f+1)%256,p=(p+h[f])%256;var y=h[f];h[f]=h[p],h[p]=y,g|=h[(h[f]+h[p])%256]<<24-b*8}return this._i=f,this._j=p,g}r.RC4=a._createHelper(o);var u=i.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)c.call(this)}});r.RC4Drop=a._createHelper(u)}(),n.RC4})}(yk)),yk.exports}var bk={exports:{}},Q1e=bk.exports,r9;function J1e(){return r9||(r9=1,function(e,t){(function(n,r,s){e.exports=r(dn(),oh(),lh(),ru(),Lr())})(Q1e,function(n){return function(){var r=n,s=r.lib,a=s.StreamCipher,i=r.algo,o=[],c=[],u=[],h=i.Rabbit=a.extend({_doReset:function(){for(var p=this._key.words,g=this.cfg.iv,b=0;b<4;b++)p[b]=(p[b]<<8|p[b]>>>24)&16711935|(p[b]<<24|p[b]>>>8)&4278255360;var y=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],w=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var b=0;b<4;b++)f.call(this);for(var b=0;b<8;b++)w[b]^=y[b+4&7];if(g){var v=g.words,N=v[0],A=v[1],C=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S=C>>>16|k&4294901760,T=k<<16|C&65535;w[0]^=C,w[1]^=S,w[2]^=k,w[3]^=T,w[4]^=C,w[5]^=S,w[6]^=k,w[7]^=T;for(var b=0;b<4;b++)f.call(this)}},_doProcessBlock:function(p,g){var b=this._X;f.call(this),o[0]=b[0]^b[5]>>>16^b[3]<<16,o[1]=b[2]^b[7]>>>16^b[5]<<16,o[2]=b[4]^b[1]>>>16^b[7]<<16,o[3]=b[6]^b[3]>>>16^b[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,p[g+y]^=o[y]},blockSize:128/32,ivSize:64/32});function f(){for(var p=this._X,g=this._C,b=0;b<8;b++)c[b]=g[b];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<c[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<c[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<c[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<c[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<c[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<c[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<c[6]>>>0?1:0)|0,this._b=g[7]>>>0<c[7]>>>0?1:0;for(var b=0;b<8;b++){var y=p[b]+g[b],w=y&65535,v=y>>>16,N=((w*w>>>17)+w*v>>>15)+v*v,A=((y&4294901760)*y|0)+((y&65535)*y|0);u[b]=N^A}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=a._createHelper(h)}(),n.Rabbit})}(bk)),bk.exports}var wk={exports:{}},X1e=wk.exports,s9;function exe(){return s9||(s9=1,function(e,t){(function(n,r,s){e.exports=r(dn(),oh(),lh(),ru(),Lr())})(X1e,function(n){return function(){var r=n,s=r.lib,a=s.StreamCipher,i=r.algo,o=[],c=[],u=[],h=i.RabbitLegacy=a.extend({_doReset:function(){var p=this._key.words,g=this.cfg.iv,b=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],y=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var w=0;w<4;w++)f.call(this);for(var w=0;w<8;w++)y[w]^=b[w+4&7];if(g){var v=g.words,N=v[0],A=v[1],C=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,k=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,S=C>>>16|k&4294901760,T=k<<16|C&65535;y[0]^=C,y[1]^=S,y[2]^=k,y[3]^=T,y[4]^=C,y[5]^=S,y[6]^=k,y[7]^=T;for(var w=0;w<4;w++)f.call(this)}},_doProcessBlock:function(p,g){var b=this._X;f.call(this),o[0]=b[0]^b[5]>>>16^b[3]<<16,o[1]=b[2]^b[7]>>>16^b[5]<<16,o[2]=b[4]^b[1]>>>16^b[7]<<16,o[3]=b[6]^b[3]>>>16^b[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,p[g+y]^=o[y]},blockSize:128/32,ivSize:64/32});function f(){for(var p=this._X,g=this._C,b=0;b<8;b++)c[b]=g[b];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<c[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<c[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<c[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<c[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<c[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<c[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<c[6]>>>0?1:0)|0,this._b=g[7]>>>0<c[7]>>>0?1:0;for(var b=0;b<8;b++){var y=p[b]+g[b],w=y&65535,v=y>>>16,N=((w*w>>>17)+w*v>>>15)+v*v,A=((y&4294901760)*y|0)+((y&65535)*y|0);u[b]=N^A}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=a._createHelper(h)}(),n.RabbitLegacy})}(wk)),wk.exports}var xk={exports:{}},txe=xk.exports,a9;function nxe(){return a9||(a9=1,function(e,t){(function(n,r,s){e.exports=r(dn(),oh(),lh(),ru(),Lr())})(txe,function(n){return function(){var r=n,s=r.lib,a=s.BlockCipher,i=r.algo;const o=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function f(w,v){let N=v>>24&255,A=v>>16&255,C=v>>8&255,k=v&255,S=w.sbox[0][N]+w.sbox[1][A];return S=S^w.sbox[2][C],S=S+w.sbox[3][k],S}function p(w,v,N){let A=v,C=N,k;for(let S=0;S<o;++S)A=A^w.pbox[S],C=f(w,A)^C,k=A,A=C,C=k;return k=A,A=C,C=k,C=C^w.pbox[o],A=A^w.pbox[o+1],{left:A,right:C}}function g(w,v,N){let A=v,C=N,k;for(let S=o+1;S>1;--S)A=A^w.pbox[S],C=f(w,A)^C,k=A,A=C,C=k;return k=A,A=C,C=k,C=C^w.pbox[1],A=A^w.pbox[0],{left:A,right:C}}function b(w,v,N){for(let T=0;T<4;T++){w.sbox[T]=[];for(let P=0;P<256;P++)w.sbox[T][P]=u[T][P]}let A=0;for(let T=0;T<o+2;T++)w.pbox[T]=c[T]^v[A],A++,A>=N&&(A=0);let C=0,k=0,S=0;for(let T=0;T<o+2;T+=2)S=p(w,C,k),C=S.left,k=S.right,w.pbox[T]=C,w.pbox[T+1]=k;for(let T=0;T<4;T++)for(let P=0;P<256;P+=2)S=p(w,C,k),C=S.left,k=S.right,w.sbox[T][P]=C,w.sbox[T][P+1]=k;return!0}var y=i.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,v=w.words,N=w.sigBytes/4;b(h,v,N)}},encryptBlock:function(w,v){var N=p(h,w[v],w[v+1]);w[v]=N.left,w[v+1]=N.right},decryptBlock:function(w,v){var N=g(h,w[v],w[v+1]);w[v]=N.left,w[v+1]=N.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=a._createHelper(y)}(),n.Blowfish})}(xk)),xk.exports}var rxe=U6.exports,i9;function sxe(){return i9||(i9=1,function(e,t){(function(n,r,s){e.exports=r(dn(),zv(),t1e(),r1e(),oh(),i1e(),lh(),XL(),Ty(),u1e(),eU(),f1e(),p1e(),y1e(),SE(),x1e(),ru(),Lr(),C1e(),A1e(),j1e(),I1e(),P1e(),R1e(),z1e(),D1e(),L1e(),$1e(),W1e(),q1e(),K1e(),Y1e(),J1e(),exe(),nxe())})(rxe,function(n){return n})}(U6)),U6.exports}var o9;function Um(){if(o9)return lc;o9=1;var e=lc&&lc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(lc,"__esModule",{value:!0}),lc.Base=void 0;const t=bv(),n=e(sxe());let r=class Oa{print(){Oa.print(this)}bufferIndexOf(a,i,o=!1){if(o)return this.binarySearch(a,i,t.Buffer.compare);const c=(u,h)=>u.equals(h);return this.linearSearch(a,i,c)}static binarySearch(a,i,o){let c=0,u=a.length-1;for(;c<=u;){const h=Math.floor((c+u)/2),f=o(a[h],i);if(f===0){for(let p=h-1;p>=0;p--)if(o(a[p],i)!==0)return p+1;return 0}else f<0?c=h+1:u=h-1}return-1}binarySearch(a,i,o){return Oa.binarySearch(a,i,o)}static linearSearch(a,i,o){for(let c=0;c<a.length;c++)if(o(a[c],i))return c;return-1}linearSearch(a,i,o){return Oa.linearSearch(a,i,o)}static bufferify(a){if(!t.Buffer.isBuffer(a)){if(typeof a=="object"&&a.words)return t.Buffer.from(a.toString(n.default.enc.Hex),"hex");if(Oa.isHexString(a)){const i=a.replace("0x",""),o=i.length%2?"0"+i:i;return t.Buffer.from(o,"hex")}else{if(typeof a=="string")return t.Buffer.from(a);if(typeof a=="bigint"){const i=a.toString(16).length%2?"0"+a.toString(16):a.toString(16);return t.Buffer.from(i,"hex")}else{if(a instanceof Uint8Array)return t.Buffer.from(a.buffer,a.byteOffset,a.byteLength);if(typeof a=="number"){let i=a.toString();return i.length%2&&(i=`0${i}`),t.Buffer.from(i,"hex")}else if(ArrayBuffer.isView(a))return t.Buffer.from(a.buffer,a.byteOffset,a.byteLength)}}}return a}static bufferifyFn(a){if(typeof a!="function")throw new Error(`bufferifyFn expects a function, received: ${typeof a}`);return i=>{const o=a(i);if(t.Buffer.isBuffer(o))return o;if(Oa.isHexString(o)){const c=o.replace("0x",""),u=c.length%2?"0"+c:c;return t.Buffer.from(u,"hex")}if(typeof o=="string")return t.Buffer.from(o);if(typeof o=="bigint"){const c=o.toString(16).length%2?"0"+o.toString(16):o.toString(16);return t.Buffer.from(c,"hex")}return ArrayBuffer.isView(o)?t.Buffer.from(o.buffer,o.byteOffset,o.byteLength):t.Buffer.from(a(n.default.enc.Hex.parse(i.toString("hex"))).toString(n.default.enc.Hex),"hex")}}bigNumberify(a){return Oa.bigNumberify(a)}static bigNumberify(a){if(typeof a=="bigint")return a;if(typeof a=="string"){if(a.startsWith("0x")&&Oa.isHexString(a)){const i=a.replace("0x",""),o=i.length%2?"0"+i:i||"0";return BigInt("0x"+o)}return BigInt(a)}if(t.Buffer.isBuffer(a)){const i=a.toString("hex"),o=i.length%2?"0"+i:i||"0";return BigInt("0x"+o)}if(a instanceof Uint8Array){const i=t.Buffer.from(a).toString("hex"),o=i.length%2?"0"+i:i||"0";return BigInt("0x"+o)}if(typeof a=="number")return BigInt(a);throw new Error("cannot bigNumberify")}static isHexString(a){return typeof a=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(a)}static print(a){console.log(a.toString())}bufferToHex(a,i=!0){return Oa.bufferToHex(a,i)}static bufferToHex(a,i=!0){return`${i?"0x":""}${(a||t.Buffer.alloc(0)).toString("hex")}`}bufferify(a){return Oa.bufferify(a)}bufferifyFn(a){return Oa.bufferifyFn(a)}isHexString(a){return Oa.isHexString(a)}log2(a){return a===1?0:1+this.log2(a/2|0)}zip(a,i){return a.map((o,c)=>[o,i[c]])}static hexZeroPad(a,i){return"0x"+a.replace("0x","").padStart(i,"0")}bufferArrayIncludes(a,i){return a.some(o=>o.equals(i??t.Buffer.alloc(0)))}};return lc.Base=r,lc.default=r,lc}var l9;function axe(){if(l9)return oc;l9=1;var e=oc&&oc.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(oc,"__esModule",{value:!0}),oc.MerkleTree=void 0;const t=bv(),n=e(qwe()),r=e(Ty()),s=e(JL()),a=e(Um());let i=class ai extends a.default{constructor(c,u=r.default,h={}){if(super(),this.duplicateOdd=!1,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,h.complete){if(h.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(h.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!h.isBitcoinTree,this.hashLeaves=!!h.hashLeaves,this.sortLeaves=!!h.sortLeaves,this.sortPairs=!!h.sortPairs,this.complete=!!h.complete,h.fillDefaultHash)if(typeof h.fillDefaultHash=="function")this.fillDefaultHash=h.fillDefaultHash;else if(t.Buffer.isBuffer(h.fillDefaultHash)||typeof h.fillDefaultHash=="string")this.fillDefaultHash=(f,p)=>h.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');if(this.sort=!!h.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!h.duplicateOdd,h.concatenator?this.concatenator=h.concatenator:this.concatenator=t.Buffer.concat,typeof u!="function")throw new Error("hashFn must be a function");this.hashFn=this.bufferifyFn(u),this.processLeaves(c)}getOptions(){var c,u;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:(u=(c=this.fillDefaultHash)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:null,duplicateOdd:this.duplicateOdd}}processLeaves(c){if(this.hashLeaves&&(c=c.map(this.hashFn)),this.leaves=c.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(t.Buffer.compare)),this.fillDefaultHash)for(let u=this.leaves.length;u<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));u++)this.leaves.push(this.bufferify(this.fillDefaultHash(u,this.hashFn)));this.createHashes(this.leaves)}createHashes(c){for(this.layers=[c];c.length>1;){const u=this.layers.length;this.layers.push([]);const h=this.complete&&u===1&&!Number.isInteger(Math.log2(c.length))?2*c.length-Math.pow(2,Math.ceil(Math.log2(c.length))):c.length;for(let f=0;f<c.length;f+=2){if(f>=h){this.layers[u].push(...c.slice(h));break}else if(f+1===c.length&&c.length%2===1){const w=c[c.length-1];let v=w;if(this.isBitcoinTree){v=this.hashFn(this.concatenator([n.default(w),n.default(w)])),v=n.default(this.hashFn(v)),this.layers[u].push(v);continue}else if(!this.duplicateOdd){this.layers[u].push(c[f]);continue}}const p=c[f],g=f+1===c.length?p:c[f+1];let b=null;this.isBitcoinTree?b=[n.default(p),n.default(g)]:b=[p,g],this.sortPairs&&b.sort(t.Buffer.compare);let y=this.hashFn(this.concatenator(b));this.isBitcoinTree&&(y=n.default(this.hashFn(y))),this.layers[u].push(y)}c=this.layers[u]}}addLeaf(c,u=!1){u&&(c=this.hashFn(c)),this.processLeaves(this.leaves.concat(c))}addLeaves(c,u=!1){u&&(c=c.map(this.hashFn)),this.processLeaves(this.leaves.concat(c))}getLeaves(c){return Array.isArray(c)?(this.hashLeaves&&(c=c.map(this.hashFn),this.sortLeaves&&(c=c.sort(t.Buffer.compare))),this.leaves.filter(u=>this.bufferIndexOf(c,u,this.sortLeaves)!==-1)):this.leaves}removeLeaf(c){if(!this.isValidLeafIndex(c))throw new Error(`"${c}" is not a valid leaf index. Expected to be [0, ${this.getLeafCount()-1}]`);const u=this.leaves.splice(c,1);return this.processLeaves(this.leaves),u[0]}updateLeaf(c,u,h=!1){if(!this.isValidLeafIndex(c))throw new Error(`"${c}" is not a valid leaf index. Expected to be [0, ${this.getLeafCount()-1}]`);h&&(u=this.hashFn(u)),this.leaves[c]=u,this.processLeaves(this.leaves)}getLeaf(c){return c<0||c>this.leaves.length-1?t.Buffer.from([]):this.leaves[c]}getLeafIndex(c){c=this.bufferify(c);const u=this.getLeaves();for(let h=0;h<u.length;h++)if(u[h].equals(c))return h;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(c=>this.bufferToHex(c))}static marshalLeaves(c){return JSON.stringify(c.map(u=>ai.bufferToHex(u)),null,2)}static unmarshalLeaves(c){let u=null;if(typeof c=="string")u=JSON.parse(c);else if(c instanceof Object)u=c;else throw new Error("Expected type of string or object");if(!u)return[];if(!Array.isArray(u))throw new Error("Expected JSON string to be array");return u.map(ai.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((c,u)=>(Array.isArray(u)?c.push(u.map(h=>this.bufferToHex(h))):c.push(u),c),[])}getLayersFlat(){const c=this.layers.reduce((u,h)=>(Array.isArray(h)?u.unshift(...h):u.unshift(h),u),[]);return c.unshift(t.Buffer.from([0])),c}getHexLayersFlat(){return this.getLayersFlat().map(c=>this.bufferToHex(c))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?t.Buffer.from([]):this.layers[this.layers.length-1][0]||t.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(c,u){if(typeof c>"u")throw new Error("leaf is required");c=this.bufferify(c);const h=[];if(!Number.isInteger(u)){u=-1;for(let f=0;f<this.leaves.length;f++)t.Buffer.compare(c,this.leaves[f])===0&&(u=f)}if(u<=-1)return[];for(let f=0;f<this.layers.length;f++){const p=this.layers[f],g=u%2,b=g?u-1:this.isBitcoinTree&&u===p.length-1&&f<this.layers.length-1?u:u+1;b<p.length&&h.push({position:g?"left":"right",data:p[b]}),u=u/2|0}return h}getHexProof(c,u){return this.getProof(c,u).map(h=>this.bufferToHex(h.data))}getProofs(){const c=[],u=[];return this.getProofsDFS(this.layers.length-1,0,c,u),u}getProofsDFS(c,u,h,f){const p=u%2;if(c===-1){p||f.push([...h].reverse());return}if(u>=this.layers[c].length)return;const g=this.layers[c],b=p?u-1:u+1;let y=!1;b<g.length&&(y=!0,h.push({position:p?"left":"right",data:g[b]}));const w=u*2,v=u*2+1;this.getProofsDFS(c-1,w,h,f),this.getProofsDFS(c-1,v,h,f),y&&h.splice(h.length-1,1)}getHexProofs(){return this.getProofs().map(c=>this.bufferToHex(c.data))}getPositionalHexProof(c,u){return this.getProof(c,u).map(h=>[h.position==="left"?0:1,this.bufferToHex(h.data)])}static marshalProof(c){const u=c.map(h=>typeof h=="string"?h:t.Buffer.isBuffer(h)?ai.bufferToHex(h):{position:h.position,data:ai.bufferToHex(h.data)});return JSON.stringify(u,null,2)}static unmarshalProof(c){let u=null;if(typeof c=="string")u=JSON.parse(c);else if(c instanceof Object)u=c;else throw new Error("Expected type of string or object");if(!u)return[];if(!Array.isArray(u))throw new Error("Expected JSON string to be array");return u.map(h=>{if(typeof h=="string")return ai.bufferify(h);if(h instanceof Object)return{position:h.position,data:ai.bufferify(h.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(c){const u=c.getHexRoot(),h=c.leaves.map(g=>ai.bufferToHex(g)),f=c.getHexLayers(),p=c.getOptions();return JSON.stringify({options:p,root:u,layers:f,leaves:h},null,2)}static unmarshalTree(c,u=r.default,h={}){let f=null;if(typeof c=="string")f=JSON.parse(c);else if(c instanceof Object)f=c;else throw new Error("Expected type of string or object");if(!f)throw new Error("could not parse json");return h=Object.assign({},f.options||{},h),new ai(f.leaves,u,h)}getProofIndices(c,u){const h=Math.pow(2,u);let f=new Set;for(const w of c){let v=h+w;for(;v>1;)f.add(v^1),v=v/2|0}const p=c.map(w=>h+w),g=Array.from(f).sort((w,v)=>w-v).reverse();f=p.concat(g);const b=new Set,y=[];for(let w of f)if(!b.has(w))for(y.push(w);w>1&&(b.add(w),!!b.has(w^1));)w=w/2|0;return y.filter(w=>!c.includes(w-h))}getProofIndicesForUnevenTree(c,u){const h=Math.ceil(Math.log2(u)),f=[];for(let b=0;b<h;b++)u%2!==0&&f.push({index:b,leavesCount:u}),u=Math.ceil(u/2);const p=[];let g=c;for(let b=0;b<h;b++){let y=g.map(v=>v%2===0?v+1:v-1).filter(v=>!g.includes(v));const w=f.find(({index:v})=>v===b);w&&g.includes(w.leavesCount-1)&&(y=y.slice(0,-1)),p.push(y),g=[...new Set(g.map(v=>v%2===0?v/2:v%2===0?(v+1)/2:(v-1)/2))]}return p}getMultiProof(c,u){if(this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),u||(u=c,c=this.getLayersFlat()),this.isUnevenTree()&&u.every(Number.isInteger))return this.getMultiProofForUnevenTree(u);if(!u.every(Number.isInteger)){let h=u;this.sortPairs&&(h=h.sort(t.Buffer.compare));let f=h.map(y=>this.bufferIndexOf(this.leaves,y,this.sortLeaves)).sort((y,w)=>y===w?0:y>w?1:-1);if(!f.every(y=>y!==-1))throw new Error("Element does not exist in Merkle tree");const p=[],g=[];let b=[];for(let y=0;y<this.layers.length;y++){const w=this.layers[y];for(let v=0;v<f.length;v++){const N=f[v],A=this.getPairNode(w,N);p.push(w[N]),A&&g.push(A),b.push(N/2|0)}f=b.filter((v,N,A)=>A.indexOf(v)===N),b=[]}return g.filter(y=>!p.includes(y))}return this.getProofIndices(u,Math.log2(c.length/2|0)).map(h=>c[h])}getMultiProofForUnevenTree(c,u){u||(u=c,c=this.getLayers());let h=[],f=u;for(const p of c){const g=[];for(const y of f){if(y%2===0){const v=y+1;if(!f.includes(v)&&p[v]){g.push(p[v]);continue}}const w=y-1;if(!f.includes(w)&&p[w]){g.push(p[w]);continue}}h=h.concat(g);const b=new Set;for(const y of f){if(y%2===0){b.add(y/2);continue}if(y%2===0){b.add((y+1)/2);continue}b.add((y-1)/2)}f=Array.from(b)}return h}getHexMultiProof(c,u){return this.getMultiProof(c,u).map(h=>this.bufferToHex(h))}getProofFlags(c,u){if(!Array.isArray(c)||c.length<=0)throw new Error("Invalid Inputs!");let h;if(c.every(Number.isInteger)?h=[...c].sort((b,y)=>b===y?0:b>y?1:-1):h=c.map(b=>this.bufferIndexOf(this.leaves,b,this.sortLeaves)).sort((b,y)=>b===y?0:b>y?1:-1),!h.every(b=>b!==-1))throw new Error("Element does not exist in Merkle tree");const f=u.map(b=>this.bufferify(b)),p=[],g=[];for(let b=0;b<this.layers.length;b++){const y=this.layers[b];h=h.reduce((w,v)=>{if(!p.includes(y[v])){const N=this.getPairNode(y,v),A=this.bufferArrayIncludes(f,y[v])||this.bufferArrayIncludes(f,N);N&&g.push(!A),p.push(y[v]),p.push(N)}return w.push(v/2|0),w},[])}return g}verify(c,u,h){let f=this.bufferify(u);if(h=this.bufferify(h),!Array.isArray(c)||!u||!h)return!1;for(let p=0;p<c.length;p++){const g=c[p];let b=null,y=null;if(typeof g=="string")b=this.bufferify(g),y=!0;else if(Array.isArray(g))y=g[0]===0,b=this.bufferify(g[1]);else if(t.Buffer.isBuffer(g))b=g,y=!0;else if(g instanceof Object)b=this.bufferify(g.data),y=g.position==="left";else throw new Error("Expected node to be of type string or object");const w=[];this.isBitcoinTree?(w.push(n.default(f)),w[y?"unshift":"push"](n.default(b)),f=this.hashFn(this.concatenator(w)),f=n.default(this.hashFn(f))):this.sortPairs?t.Buffer.compare(f,b)===-1?(w.push(f,b),f=this.hashFn(this.concatenator(w))):(w.push(b,f),f=this.hashFn(this.concatenator(w))):(w.push(f),w[y?"unshift":"push"](b),f=this.hashFn(this.concatenator(w)))}return t.Buffer.compare(f,h)===0}verifyMultiProof(c,u,h,f,p){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(c,u,h,f,p);const g=Math.ceil(Math.log2(f));c=this.bufferify(c),h=h.map(v=>this.bufferify(v)),p=p.map(v=>this.bufferify(v));const b={};for(const[v,N]of this.zip(u,h))b[Math.pow(2,g)+v]=N;for(const[v,N]of this.zip(this.getProofIndices(u,g),p))b[v]=N;let y=Object.keys(b).map(v=>+v).sort((v,N)=>v-N);y=y.slice(0,y.length-1);let w=0;for(;w<y.length;){const v=y[w];if(v>=2&&{}.hasOwnProperty.call(b,v^1)){let N=[b[v-v%2],b[v-v%2+1]];this.sortPairs&&(N=N.sort(t.Buffer.compare));const A=N[1]?this.hashFn(this.concatenator(N)):N[0];b[v/2|0]=A,y.push(v/2|0)}w+=1}return!u.length||{}.hasOwnProperty.call(b,1)&&b[1].equals(c)}verifyMultiProofWithFlags(c,u,h,f){c=this.bufferify(c),u=u.map(this.bufferify),h=h.map(this.bufferify);const p=u.length,g=f.length,b=[];let y=0,w=0,v=0;for(let N=0;N<g;N++){const A=f[N]?y<p?u[y++]:b[w++]:h[v++],C=y<p?u[y++]:b[w++],k=[A,C].sort(t.Buffer.compare);b[N]=this.hashFn(this.concatenator(k))}return t.Buffer.compare(b[g-1],c)===0}verifyMultiProofForUnevenTree(c,u,h,f,p){c=this.bufferify(c),h=h.map(b=>this.bufferify(b)),p=p.map(b=>this.bufferify(b));const g=this.calculateRootForUnevenTree(u,h,f,p);return c.equals(g)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const c=this.getLayers().map(h=>h.map(f=>this.bufferToHex(f,!1))),u=[];for(let h=0;h<c.length;h++){const f=[];for(let p=0;p<c[h].length;p++){const g={[c[h][p]]:null};if(u.length){g[c[h][p]]={};const b=u.shift(),y=Object.keys(b)[0];if(g[c[h][p]][y]=b[y],u.length){const w=u.shift(),v=Object.keys(w)[0];g[c[h][p]][v]=w[v]}}f.push(g)}u.push(...f)}return u[0]}static verify(c,u,h,f=r.default,p={}){return new ai([],f,p).verify(c,u,h)}static getMultiProof(c,u){return new ai([]).getMultiProof(c,u)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(c,u){const h=u%2===0?u+1:u-1;return h<c.length?c[h]:null}toTreeString(){const c=this.getLayersAsObject();return s.default.asTree(c,!0)}toString(){return this.toTreeString()}isUnevenTree(c){const u=c?.length||this.getDepth();return!this.isPowOf2(u)}isPowOf2(c){return c&&!(c&c-1)}isValidLeafIndex(c){return c>=0&&c<this.getLeafCount()}calculateRootForUnevenTree(c,u,h,f){const p=this.zip(c,u).sort(([N],[A])=>N-A),g=p.map(([N])=>N),b=this.getProofIndicesForUnevenTree(g,h);let y=0;const w=[];for(let N=0;N<b.length;N++){const A=b[N],C=y;y+=A.length,w[N]=this.zip(A,f.slice(C,y))}const v=[p];for(let N=0;N<w.length;N++){const A=w[N].concat(v[N]).sort(([T],[P])=>T-P).map(([,T])=>T),C=v[N].map(([T])=>T),k=[...new Set(C.map(T=>T%2===0?T/2:T%2===0?(T+1)/2:(T-1)/2))],S=[];for(let T=0;T<k.length;T++){const P=k[T],I=A[T*2],M=A[T*2+1],W=M?this.hashFn(this.concatenator([I,M])):I;S.push([P,W])}v.push(S)}return v[v.length-1][0][1]}};return oc.MerkleTree=i,typeof window<"u"&&(window.MerkleTree=i),oc.default=i,oc}var cc={},c9;function ixe(){if(c9)return cc;c9=1;var e=cc&&cc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(cc,"__esModule",{value:!0}),cc.MerkleMountainRange=void 0;const t=bv(),n=e(Ty()),r=e(Um());let s=class extends r.default{constructor(a=n.default,i=[],o,c,u){super(),this.root=t.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},i=i.map(this.bufferify),this.hashFn=this.bufferifyFn(a),this.hashLeafFn=o,this.peakBaggingFn=c,this.hashBranchFn=u;for(const h of i)this.append(h)}append(a){a=this.bufferify(a);const i=this.hashFn(a),o=this.bufferToHex(i);(!this.data[o]||this.bufferToHex(this.hashFn(this.data[o]))!==o)&&(this.data[o]=a);const c=this.hashLeaf(this.size+1,i);this.hashes[this.size+1]=c,this.width+=1;const u=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const h=[];for(let f=0;f<u.length;f++)h[f]=this._getOrCreateNode(u[f]);this.root=this.peakBagging(this.width,h)}hashLeaf(a,i){return i=this.bufferify(i),this.hashLeafFn?this.bufferify(this.hashLeafFn(a,i)):this.hashFn(t.Buffer.concat([this.bufferify(a),i]))}hashBranch(a,i,o){return this.hashBranchFn?this.bufferify(this.hashBranchFn(a,i,o)):this.hashFn(t.Buffer.concat([this.bufferify(a),this.bufferify(i),this.bufferify(o)]))}getPeaks(){const a=this.getPeakIndexes(this.width),i=[];for(let o=0;o<a.length;o++)i[o]=this.hashes[a[o]];return i}getLeafIndex(a){return a%2===1?this.getSize(a):this.getSize(a-1)+1}getPeakIndexes(a){const i=this.numOfPeaks(a),o=[];let c=0,u=0;for(let h=255;h>0&&!((a&1<<h-1)!==0&&(u=u+(1<<h)-1,o[c++]=u,o.length>=i));h--);if(c!==o.length)throw new Error("invalid bit calculation");return o}numOfPeaks(a){let i=a,o=0;for(;i>0;)i%2===1&&o++,i=i>>1;return o}peakBagging(a,i){const o=this.getSize(a);if(this.numOfPeaks(a)!==i.length)throw new Error("received invalid number of peaks");return a===0&&!i.length?t.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(o,i)):this.hashFn(t.Buffer.concat([this.bufferify(o),...i.map(this.bufferify)]))}getSize(a){return(a<<1)-this.numOfPeaks(a)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(a){return this.hashes[a]}mountainHeight(a){let i=1;for(;1<<i<=a+i;)i++;return i-1}heightAt(a){let i=a,o=0,c=0;for(;i>o;)i-=(1<<c)-1,c=this.mountainHeight(i),o=(1<<c)-1;return c-(o-i)}isLeaf(a){return this.heightAt(a)===1}getChildren(a){const i=a-(1<<this.heightAt(a)-1),o=a-1;if(i===o)throw new Error("not a parent");return[i,o]}getMerkleProof(a){if(a>this.size)throw new Error("out of range");if(!this.isLeaf(a))throw new Error("not a leaf");const i=this.root,o=this.width,c=this.getPeakIndexes(this.width),u=[];let h=0;for(let y=0;y<c.length;y++)u[y]=this.hashes[c[y]],c[y]>=a&&h===0&&(h=c[y]);let f=0,p=0,g=this.heightAt(h);const b=[];for(;h!==a;)g--,[f,p]=this.getChildren(h),h=a<=f?f:p,b[g-1]=this.hashes[a<=f?p:f];return{root:i,width:o,peakBagging:u,siblings:b}}verify(a,i,o,c,u,h){if(c=this.bufferify(c),this.getSize(i)<o)throw new Error("index is out of range");if(!a.equals(this.peakBagging(i,u)))throw new Error("invalid root hash from the peaks");let f=0,p;const g=this.getPeakIndexes(i);for(let A=0;A<g.length;A++)if(g[A]>=o){p=u[A],f=g[A];break}if(!p)throw new Error("target not found");let b=h.length+1;const y=new Array(b);let w=0,v=0;for(;b>0&&(y[--b]=f,f!==o);)[w,v]=this.getChildren(f),f=o>w?v:w;let N;for(;b<y.length;)f=y[b],b===0?N=this.hashLeaf(f,this.hashFn(c)):f-1===y[b-1]?N=this.hashBranch(f,h[b-1],N):N=this.hashBranch(f,N,h[b-1]),b++;if(!N.equals(p))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(a,i){const o={};let c=0,u=0,h=i.length;for(let f=1;f<=32;f++)c=32-f,u=1<<f-1,(a&u)!==0?o[c]=i[--h]:o[c]=0;if(h!==0)throw new Error("invalid number of peaks");return o}peakMapToPeaks(a,i){const o=this.numOfPeaks(a),c=new Array(o);let u=0;for(let h=0;h<32;h++)i[h]!==0&&(c[u++]=i[h]);if(u!==o)throw new Error("invalid number of peaks");return c}peakUpdate(a,i,o){const c={},u=a+1;let h=this.getLeafIndex(u),f=this.hashLeaf(h,o),p=0,g=0,b=!1,y=!1,w=!1;for(let v=1;v<=32;v++)p=32-v,w?c[p]=i[p]:(g=1<<v-1,b=(a&g)!==0,y=(u&g)!==0,h++,b&&(f=this.hashBranch(h,i[p],f)),y?(b?c[p]=i[p]:c[p]=f,w=!0):c[p]=0);return c}rollUp(a,i,o,c){if(!a.equals(this.peakBagging(i,o)))throw new Error("invalid root hash from the peaks");let u=i,h=this.peaksToPeakMap(i,o);for(let f=0;f<c.length;f++)h=this.peakUpdate(u,h,c[f]),u++;return this.peakBagging(u,this.peakMapToPeaks(u,h))}_getOrCreateNode(a){if(a>this.size)throw new Error("out of range");if(!this.hashes[a]){const[i,o]=this.getChildren(a),c=this._getOrCreateNode(i),u=this._getOrCreateNode(o);this.hashes[a]=this.hashBranch(a,c,u)}return this.hashes[a]}};return cc.MerkleMountainRange=s,typeof window<"u"&&(window.MerkleMountainRange=s),cc.default=s,cc}var uc={},u9;function oxe(){if(u9)return uc;u9=1;var e=uc&&uc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(uc,"__esModule",{value:!0}),uc.IncrementalMerkleTree=void 0;const t=e(Um()),n=e(JL());let r=class extends t.default{constructor(s,a){if(super(),this.hashFn=s,a.depth&&(this.depth=a.depth),a.arity&&(this.arity=a.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const i=[];let o=a.zeroValue;if(this.zeroValue=o,this.zeroes=[],this.depth)for(let c=0;c<this.depth;c++)this.zeroes.push(o),i[c]=[],o=this.hashFn(Array(this.arity).fill(o));this.nodes=i,this.root=o}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(s){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let a=s,i=this.nodes[0].length;for(let o=0;o<this.depth;o+=1){const c=i%this.arity,u=i-c,h=u+this.arity,f=[];this.nodes[o][i]=a;for(let p=u;p<h;p+=1)p<this.nodes[o].length?f.push(this.nodes[o][p]):f.push(this.zeroes[o]);a=this.hashFn(f),i=Math.floor(i/this.arity)}this.root=a}delete(s){this.update(s,this.zeroValue)}update(s,a){if(s<0||s>=this.nodes[0].length)throw new Error("out of bounds");let i=a;for(let o=0;o<this.depth;o+=1){const c=s%this.arity,u=s-c,h=u+this.arity,f=[];this.nodes[o][s]=i;for(let p=u;p<h;p+=1)p<this.nodes[o].length?f.push(this.nodes[o][p]):f.push(this.zeroes[o]);i=this.hashFn(f),s=Math.floor(s/this.arity)}this.root=i}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(s){return this.nodes[0].indexOf(s)}getLeaves(){const s=this.copyList(this.nodes[0]),a=this.nodes[0].length;for(let i=a;i<this.getMaxLeaves();i++)s[i]=this.zeroValue;return s}copyList(s){return s.map(a=>BigInt(a))}getLayers(){const s=[];for(const a of this.nodes)s.push(this.copyList(a));if(s[0].length<this.getMaxLeaves()){let a=s[0].length;for(let i=a;i<this.getMaxLeaves();i++)s[0][i]=this.zeroValue;for(let i=0;i<this.depth;i++){const o=a%this.arity,c=a-o,u=c+this.arity;for(let h=c;h<u;h++)h>=s[i].length&&(s[i][h]=this.zeroes[i]);a=Math.floor(a/this.arity)}}return s.push([this.root]),s}getHexLayers(){return this.getLayers().reduce((s,a)=>(Array.isArray(a)?s.push(a.map(i=>this.bufferToHex(this.bufferify(i)))):s.push(a),s),[])}getLayersAsObject(){const s=this.getLayers().map(i=>i.map(o=>this.bufferToHex(this.bufferify(o),!1))),a=[];for(let i=0;i<s.length;i++){const o=[];for(let c=0;c<s[i].length;c++){const u={[s[i][c]]:null};if(a.length){u[s[i][c]]={};const h=a.shift(),f=Object.keys(h)[0];if(u[s[i][c]][f]=h[f],a.length){const p=a.shift(),g=Object.keys(p)[0];u[s[i][c]][g]=p[g]}}o.push(u)}a.push(...o)}return a[0]}computeRoot(){let s,a=this.nodes[0].length;for(let i=0;i<this.depth;i+=1){const o=a%this.arity,c=a-o,u=c+this.arity,h=[];for(let f=c;f<u;f+=1)f<this.nodes[i].length?h.push(this.nodes[i][f]):h.push(this.zeroes[i]);s=this.hashFn(h),a=Math.floor(a/this.arity)}return s}getProof(s){if(s<0||s>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const a=[],i=[],o=s;for(let c=0;c<this.depth;c+=1){const u=s%this.arity,h=s-u,f=h+this.arity;i[c]=u,a[c]=[];for(let p=h;p<f;p+=1)p!==s&&(p<this.nodes[c].length?a[c].push(this.nodes[c][p]):a[c].push(this.zeroes[c]));s=Math.floor(s/this.arity)}return{root:this.root,leaf:this.nodes[0][o],pathIndices:i,siblings:a}}verify(s){let a=s.leaf;for(let i=0;i<s.siblings.length;i+=1){const o=s.siblings[i].slice();o.splice(s.pathIndices[i],0,a),a=this.hashFn(o)}return s.root===a}toString(){return this.toTreeString()}toTreeString(){const s=this.getLayersAsObject();return n.default.asTree(s,!0)}};return uc.IncrementalMerkleTree=r,typeof window<"u"&&(window.IncrementalMerkleTree=r),uc.default=r,uc}var _a={},d9;function lxe(){if(d9)return _a;d9=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.MerkleSumTree=_a.ProofStep=_a.Leaf=_a.Bucket=void 0;const e=Um();class t{constructor(i,o){this.size=BigInt(i),this.hashed=o,this.parent=null,this.left=null,this.right=null}}_a.Bucket=t;class n{constructor(i,o,c){this.hashFn=i,this.rng=o.map(u=>BigInt(u)),this.data=c}getBucket(){let i;return this.data?i=this.hashFn(this.data):i=Buffer.alloc(32),new t(BigInt(this.rng[1])-BigInt(this.rng[0]),i)}}_a.Leaf=n;class r{constructor(i,o){this.bucket=i,this.right=o}}_a.ProofStep=r;let s=class tU extends e.Base{constructor(i,o){super(),this.leaves=i,this.hashFn=o,tU.checkConsecutive(i),this.buckets=[];for(const u of i)this.buckets.push(u.getBucket());let c=[];for(const u of this.buckets)c.push(u);for(;c.length!==1;){const u=[];for(;c.length;)if(c.length>=2){const h=c.shift(),f=c.shift(),p=h.size+f.size,g=this.hashFn(Buffer.concat([this.sizeToBuffer(h.size),this.bufferify(h.hashed),this.sizeToBuffer(f.size),this.bufferify(f.hashed)])),b=new t(p,g);f.parent=b,h.parent=f.parent,h.right=f,f.left=h,u.push(b)}else u.push(c.shift());c=u}this.root=c[0]}sizeToBuffer(i){const o=Buffer.alloc(8);return new DataView(o.buffer).setBigInt64(0,BigInt(i),!1),o}static checkConsecutive(i){let o=BigInt(0);for(const c of i){if(c.rng[0]!==o)throw new Error("leaf ranges are invalid");o=BigInt(c.rng[1])}}getProof(i){let o=this.buckets[Number(i)];const c=[];for(;o&&o.parent;){const u=!!o.right,h=o.right?o.right:o.left;o=o.parent,c.push(new r(h,u))}return c}sum(i){let o=BigInt(0);for(const c of i)o+=BigInt(c);return o}verifyProof(i,o,c){const u=[this.sum(c.filter(p=>!p.right).map(p=>p.bucket.size)),BigInt(i.size)-this.sum(c.filter(p=>p.right).map(p=>p.bucket.size))];if(!(u[0]===o.rng[0]&&u[1]===o.rng[1]))return!1;let h=o.getBucket(),f;for(const p of c)p.right?f=this.hashFn(Buffer.concat([this.sizeToBuffer(h.size),this.bufferify(h.hashed),this.sizeToBuffer(p.bucket.size),this.bufferify(p.bucket.hashed)])):f=this.hashFn(Buffer.concat([this.sizeToBuffer(p.bucket.size),this.bufferify(p.bucket.hashed),this.sizeToBuffer(h.size),this.bufferify(h.hashed)])),h=new t(BigInt(h.size)+BigInt(p.bucket.size),f);return h.size===i.size&&h.hashed.toString("hex")===i.hashed.toString("hex")}};return _a.MerkleSumTree=s,typeof window<"u"&&(window.MerkleSumTree=s),_a.default=s,_a}var Ou={},h9;function cxe(){if(h9)return Ou;h9=1;var e=Ou&&Ou.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.MerkleRadixTree=void 0;const t=e(Um());class n{constructor(a="",i=null,o){this.key=a,this.value=i,this.children=new Map,this.hashFn=o,this.hash=this.computeHash()}computeHash(){let a=this.hashFn("");a=Buffer.concat([a,t.default.bufferify(this.key),this.value!=null?t.default.bufferify(this.value):Buffer.alloc(0)]);for(const i of this.children.values())a=Buffer.concat([a,i.hash]);return this.hashFn(a)}updateHash(){this.hash=this.computeHash()}}let r=class extends t.default{constructor(s){super(),this.hashFn=this.bufferifyFn(s),this.root=new n("",null,this.hashFn)}insert(s,a){let i=this.root,o=0;for(;s.length>0;){const c=[...i.children.values()].find(u=>s.startsWith(u.key));if(!c){i.children.set(s,new n(s,a,this.hashFn)),i.updateHash();return}if(o=this.commonPrefixLength(s,c.key),o===c.key.length)i=c,s=s.slice(o);else{const u=s.slice(0,o),h=c.key.slice(o),f=new n(u,null,this.hashFn);if(i.children.delete(c.key),i.children.set(u,f),f.children.set(h,c),c.key=h,o<s.length){const p=s.slice(o);f.children.set(p,new n(p,a,this.hashFn))}else f.value=a;i.updateHash(),f.updateHash();return}}i.value=a,i.updateHash()}lookup(s){let a=this.root;for(;s.length>0;){const i=[...a.children.values()].find(c=>s.startsWith(c.key));if(!i)return null;const o=this.commonPrefixLength(s,i.key);if(o===i.key.length)a=i,s=s.slice(o);else return null}return a.value}commonPrefixLength(s,a){let i=0;for(;i<s.length&&i<a.length&&s[i]===a[i];)i++;return i}generateProof(s){let a=this.root;const i=[];for(;s.length>0;){const o=[];for(const h of a.children.values())h.key!==s&&o.push({key:h.key,hash:h.hash});i.push({key:a.key,hash:a.hash,siblings:o});const c=[...a.children.values()].find(h=>s.startsWith(h.key));if(!c)return null;const u=this.commonPrefixLength(s,c.key);if(u===c.key.length)a=c,s=s.slice(u);else return null}return i.push({key:a.key,hash:a.hash,siblings:[]}),i}verifyProof(s,a){if(!s||s.length===0)return!1;let i=s[s.length-1].hash;for(let o=s.length-2;o>=0;o--){const c=s[o];let u=Buffer.concat([this.hashFn(""),this.bufferify(c.key),i]);for(const h of c.siblings)u=Buffer.concat([u,h.hash]);i=this.hashFn(u)}return i.equals(a)}};return Ou.MerkleRadixTree=r,Ou}var f9={},m9;function uxe(){return m9||(m9=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UnifiedBinaryTree=e.InternalNode=e.StemNode=e.chunkifyCode=e.getTreeKeyForCodeChunk=e.getTreeKeyForStorageSlot=e.getTreeKeyForCodeHash=e.getTreeKeyForBasicData=e.getTreeKey=e.treeHash=e.oldStyleAddressToAddress32=e.push32=e.push1=e.pushOffset=e.MAIN_STORAGE_OFFSET=e.STEM_SUBTREE_WIDTH=e.CODE_OFFSET=e.HEADER_STORAGE_OFFSET=e.CODE_HASH_LEAF_KEY=e.BASIC_DATA_LEAF_KEY=void 0;const t=bv(),n=Um();e.BASIC_DATA_LEAF_KEY=0,e.CODE_HASH_LEAF_KEY=1,e.HEADER_STORAGE_OFFSET=64,e.CODE_OFFSET=128,e.STEM_SUBTREE_WIDTH=256,e.MAIN_STORAGE_OFFSET=256,e.pushOffset=95,e.push1=e.pushOffset+1,e.push32=e.pushOffset+32;function r(y){if(y.length!==20)throw new Error("Address must be 20 bytes.");return t.Buffer.concat([t.Buffer.alloc(12,0),y])}e.oldStyleAddressToAddress32=r;function s(y,w){return a(w)(y)}e.treeHash=s;function a(y){return n.Base.bufferifyFn(y)}function i(y,w,v,N){if(y.length!==32)throw new Error("Address must be 32 bytes.");const A=a(N),C=t.Buffer.alloc(32,0);C.writeUInt32LE(w,0);const k=A(t.Buffer.concat([y,C]),N).subarray(0,31);return t.Buffer.concat([k,t.Buffer.from([v])])}e.getTreeKey=i;function o(y,w){return i(y,0,e.BASIC_DATA_LEAF_KEY,w)}e.getTreeKeyForBasicData=o;function c(y,w){return i(y,0,e.CODE_HASH_LEAF_KEY,w)}e.getTreeKeyForCodeHash=c;function u(y,w,v){let N;return w<e.CODE_OFFSET-e.HEADER_STORAGE_OFFSET?N=e.HEADER_STORAGE_OFFSET+w:N=e.MAIN_STORAGE_OFFSET+w,i(y,Math.floor(N/e.STEM_SUBTREE_WIDTH),N%e.STEM_SUBTREE_WIDTH,v)}e.getTreeKeyForStorageSlot=u;function h(y,w,v){const N=e.CODE_OFFSET+w;return i(y,Math.floor(N/e.STEM_SUBTREE_WIDTH),N%e.STEM_SUBTREE_WIDTH,v)}e.getTreeKeyForCodeChunk=h;function f(y){const w=y.length%31;w!==0&&(y=t.Buffer.concat([y,t.Buffer.alloc(31-w,0)]));const v=new Array(y.length+32).fill(0);let N=0;for(;N<y.length;){const C=y[N];let k=0;C>=e.push1&&C<=e.push32&&(k=C-e.pushOffset),N+=1;for(let S=0;S<k;S++)v[N+S]=k-S;N+=k}const A=[];for(let C=0;C<y.length;C+=31){const k=Math.min(v[C],31),S=t.Buffer.concat([t.Buffer.from([k]),y.slice(C,C+31)]);A.push(S)}return A}e.chunkifyCode=f;class p{constructor(w){if(this.nodeType="stem",w.length!==31)throw new Error("Stem must be 31 bytes.");this.stem=w,this.values=new Array(256).fill(null)}setValue(w,v){if(v.length!==32)throw new Error("Value must be 32 bytes.");this.values[w]=v}}e.StemNode=p;class g{constructor(){this.left=null,this.right=null,this.nodeType="internal"}}e.InternalNode=g;class b{constructor(w){this.root=null,this.hashFn=n.Base.bufferifyFn(w)}insert(w,v){if(w.length!==32)throw new Error("Key must be 32 bytes.");if(v.length!==32)throw new Error("Value must be 32 bytes.");const N=w.slice(0,31),A=w[31];if(this.root===null){this.root=new p(N),this.root.setValue(A,v);return}this.root=this.insertRecursive(this.root,N,A,v,0)}insertRecursive(w,v,N,A,C){if(C>=248)throw new Error("Depth must be less than 248.");if(w===null){const S=new p(v);return S.setValue(N,A),S}const k=this.bytesToBits(v);if(w instanceof p){if(w.stem.equals(v))return w.setValue(N,A),w;const S=this.bytesToBits(w.stem);return this.splitLeaf(w,k,S,N,A,C)}else return k[C]===0?w.left=this.insertRecursive(w.left,v,N,A,C+1):w.right=this.insertRecursive(w.right,v,N,A,C+1),w}bytesToBits(w){const v=[];for(const N of w)for(let A=0;A<8;A++)v.push(N>>7-A&1);return v}bitsToBytes(w){if(w.length%8!==0)throw new Error("Number of bits must be a multiple of 8.");const v=[];for(let N=0;N<w.length;N+=8){let A=0;for(let C=0;C<8;C++)A|=w[N+C]<<7-C;v.push(A)}return t.Buffer.from(v)}hashData(w){const v=t.Buffer.alloc(64,0),N=t.Buffer.alloc(32,0);if(w===null||w.equals(v))return N;if(w.length!==32&&w.length!==64)throw new Error("Data must be 32 or 64 bytes.");return this.hashFn(w)}merkelize(){const w=v=>{const N=t.Buffer.alloc(32,0);if(v===null)return N;if(v instanceof g){const C=w(v.left),k=w(v.right);return this.hashData(t.Buffer.concat([C,k]))}const A=v.values.map(C=>this.hashData(C));for(;A.length>1;){const C=[];for(let k=0;k<A.length;k+=2)C.push(this.hashData(t.Buffer.concat([A[k],A[k+1]])));A.splice(0,A.length,...C)}return this.hashData(t.Buffer.concat([v.stem,t.Buffer.from([0]),A[0]]))};return w(this.root)}update(w,v){this.insert(w,v)}insertBatch(w){for(const{key:v,value:N}of w)this.insert(v,N)}serialize(){function w(N){return N?N instanceof p?{nodeType:"stem",stem:N.stem.toString("hex"),values:N.values.map(A=>A?A.toString("hex"):null)}:{nodeType:"internal",left:w(N.left),right:w(N.right)}:null}const v={root:w(this.root)};return t.Buffer.from(JSON.stringify(v),"utf8")}static deserialize(w,v){const N=JSON.parse(w.toString("utf8"));function A(k){if(k===null)return null;if(k.nodeType==="stem"){const S=new p(t.Buffer.from(k.stem,"hex"));return S.values=k.values.map(T=>T!==null?t.Buffer.from(T,"hex"):null),S}else if(k.nodeType==="internal"){const S=new g;return S.left=A(k.left),S.right=A(k.right),S}return null}const C=new b(v);return C.root=A(N.root),C}splitLeaf(w,v,N,A,C,k){if(v[k]===N[k]){const S=new g;return v[k]===0?S.left=this.splitLeaf(w,v,N,A,C,k+1):S.right=this.splitLeaf(w,v,N,A,C,k+1),S}else{const S=new g,T=v[k],P=this.bitsToBytes(v),I=new p(P);return I.setValue(A,C),T===0?(S.left=I,S.right=w):(S.right=I,S.left=w),S}}}e.UnifiedBinaryTree=b}(f9)),f9}var p9;function dxe(){return p9||(p9=1,function(e){var t=Ew&&Ew.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.MerkleTree=void 0;const n=t(axe());e.MerkleTree=n.default;var r=ixe();Object.defineProperty(e,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var s=oxe();Object.defineProperty(e,"IncrementalMerkleTree",{enumerable:!0,get:function(){return s.IncrementalMerkleTree}});var a=lxe();Object.defineProperty(e,"MerkleSumTree",{enumerable:!0,get:function(){return a.MerkleSumTree}});var i=cxe();Object.defineProperty(e,"MerkleRadixTree",{enumerable:!0,get:function(){return i.MerkleRadixTree}});var o=uxe();Object.defineProperty(e,"UnifiedBinaryTree",{enumerable:!0,get:function(){return o.UnifiedBinaryTree}}),e.default=n.default}(Ew)),Ew}var nU=dxe();const jE=e=>{try{return un(e.trim())}catch(t){return console.warn("Invalid address:",e,t),e.trim().toLowerCase()}},g9=e=>{const t=jE(e);return Gn(A2(["address"],[t]))},rU=e=>{console.log(" === GENERATE MERKLE DATA DEBUG ==="),console.log("Original addresses:",e);const t=e.map(jE);console.log("Normalized addresses:",t);const n=t.map(g9);console.log("Generated leaves:",n);const r=new nU.MerkleTree(n,Gn,{sortPairs:!0}),s=r.getHexRoot(),a={};return console.log("Generating proofs for each address:"),t.forEach(i=>{const o=g9(i),c=r.getHexProof(o);a[i]=c,console.log(`  ${i}:`,c)}),console.log("Final root:",s),console.log("Final proofs object:",a),console.log(" === END GENERATE MERKLE DATA DEBUG ==="),{root:s,proofs:a,tree:r}},hxe=e=>{try{return un(e),!0}catch{return!1}},fxe=e=>{const t=[],n=[];return e.forEach(r=>{hxe(r)?t.push(jE(r)):n.push(r)}),{valid:t,invalid:n}},mxe=({collection:e})=>{const[t,n]=j.useState("Whitelist"),[r,s]=j.useState([]),[a,i]=j.useState(""),[o,c]=j.useState([]),[u,h]=j.useState(0),[f,p]=j.useState({visible:!1,message:"",type:"success"});j.useEffect(()=>{if(f.visible){const k=setTimeout(()=>p(S=>({...S,visible:!1})),3e3);return()=>clearTimeout(k)}},[f.visible]);const g=(k,S="success")=>{p({visible:!0,message:k,type:S})};j.useEffect(()=>{if(!e?.address)return;const k=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{};h(k[t]?.allocated||0);const S=`${e.address}_${t}_whitelist`,T=JSON.parse(localStorage.getItem(S))||[];c(T)},[e?.address,t]);const b=k=>{const S=k.target.files[0];if(S){const T=new FileReader;T.onload=P=>{const I=P.target.result.split(/\r?\n/).filter(Boolean);s(I)},T.readAsText(S)}},y=k=>{const S=k.target.value.split(/\r?\n/).filter(Boolean);s(S)},w=()=>{const k=t==="Public",S=o.length+r.length,{valid:T,invalid:P}=fxe(r);if(P.length>0){g(` Invalid addresses found: ${P.join(", ")}`,"error");return}if(!k&&S>u){g(` Too many addresses! Allocated: ${u}, Already saved: ${o.length}, New: ${r.length}`,"error");return}const I=Array.from(new Set([...o,...T])),M=`${e.address}_${t}_whitelist`;localStorage.setItem(M,JSON.stringify(I)),c(I),s([]),g(` Saved ${I.length} addresses for ${t}`),v(I),!k&&I.length>0&&N(I)},v=k=>{if(k.length===0)return;const{root:S,proofs:T}=rU(k),P=`${e.address}_${t}_merkle_root`,I=`${e.address}_${t}_merkle_proofs`;localStorage.setItem(P,S),localStorage.setItem(I,JSON.stringify(T)),console.log(" Merkle root and proofs saved for",t)},N=async k=>{try{const S=await fetch("/api/whitelist/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({collection:e.address,phase:t,addresses:k})});if(S.ok){const T=await S.json(),P=`${e.address}_${t}_whitelist_ipfs`;localStorage.setItem(P,T.data.ipfsUrl),g(` Whitelist also saved to IPFS (${T.data.addressCount} addresses)`)}else g(" Local storage saved, but IPFS backup failed","warning")}catch(S){console.error(" Server save failed:",S),g(" Local storage saved, but IPFS backup failed","warning")}},A=k=>{const S=o.filter(P=>P!==k);c(S);const T=`${e.address}_${t}_whitelist`;localStorage.setItem(T,JSON.stringify(S)),g(` Removed ${k}`),v(S)},C=o.filter(k=>k.toLowerCase().includes(a.toLowerCase()));return e?l.jsxs("div",{className:"space-y-6 pb-24",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Phase"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>n("Whitelist"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t==="Whitelist"?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:"Whitelist"}),l.jsx("button",{onClick:()=>n("FCFS"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${t==="FCFS"?"bg-gradient-to-r from-blue-500 to-pink-500 text-white shadow-lg":"bg-zinc-700 hover:bg-zinc-600 text-white"}`,children:"FCFS"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-400",children:o.length}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Total Addresses"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsx("div",{className:"text-2xl font-bold text-green-400",children:u}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Allocated Slots"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsx("div",{className:"text-2xl font-bold text-pink-400",children:r.length}),l.jsx("div",{className:"text-sm text-zinc-400",children:"New Addresses"})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Add Addresses"}),l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg cursor-pointer transition-colors duration-200",children:[l.jsx(hx,{className:"w-4 h-4"}),"Upload CSV/TXT File",l.jsx("input",{type:"file",accept:".csv,.txt",onChange:b,className:"hidden"})]})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-2",children:"Manual Input (one address per line)"}),l.jsx("textarea",{value:r.join(`
`),onChange:y,placeholder:"0x1234...\\n0x5678...\\n0x9abc...",className:"w-full h-32 p-3 bg-zinc-900 border border-zinc-700 rounded-lg text-white placeholder-zinc-500 resize-none"})]}),l.jsx("button",{onClick:w,disabled:r.length===0,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Addresses"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Saved Addresses"}),l.jsx("input",{type:"text",placeholder:"Search addresses...",value:a,onChange:k=>i(k.target.value),className:"px-3 py-1 bg-zinc-900 border border-zinc-700 rounded-lg text-white placeholder-zinc-500 text-sm"})]}),l.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:C.map((k,S)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900 rounded-lg",children:[l.jsx("span",{className:"text-sm font-mono text-zinc-300",children:k}),l.jsx("button",{onClick:()=>A(k),className:"text-red-400 hover:text-red-300 transition-colors duration-200",children:l.jsx(Hue,{className:"w-4 h-4"})})]},S))})]}),f.visible&&l.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-lg shadow-lg z-50 ${f.type==="success"?"bg-green-500":f.type==="error"?"bg-red-500":"bg-yellow-500"} text-white`,children:f.message})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})},pxe=({imageUrl:e,onSave:t,onCancel:n,initialPosition:r="center center",initialFit:s="cover"})=>{const[a,i]=j.useState({x:50,y:50,width:100,height:100}),[o,c]=j.useState(!1),[u,h]=j.useState({x:0,y:0}),[f,p]=j.useState(1),[g,b]=j.useState(0),[y,w]=j.useState(s),[v,N]=j.useState({width:0,height:0}),[A,C]=j.useState([]),k=j.useRef(null),S=j.useRef(null),T=[{name:"Desktop Banner",width:1200,height:400,ratio:3,description:"  "},{name:"Mobile Banner",width:800,height:300,ratio:2.67,description:"  "},{name:"Wide Banner",width:1600,height:400,ratio:4,description:" "},{name:"Square Banner",width:800,height:800,ratio:1,description:" "}];j.useEffect(()=>{if(r){const[$,Z]=r.split(" "),ee=$==="left"?0:$==="right"?100:50,L=Z==="top"?0:Z==="bottom"?100:50;i(V=>({...V,x:ee,y:L}))}},[r]),j.useEffect(()=>{w(s)},[s]),j.useEffect(()=>{if(e){const $=new Image;$.onload=()=>{const Z={width:$.naturalWidth,height:$.naturalHeight};N(Z);const ee=Z.width/Z.height,L=[];T.forEach(V=>{const Q=Math.abs(ee-V.ratio);L.push({...V,score:Q,isOptimal:Q<.5})}),L.sort((V,Q)=>V.score-Q.score),C(L)},$.src=e}},[e]);const P=$=>{if(!k.current)return;const Z=k.current.getBoundingClientRect(),ee=($.clientX-Z.left)/Z.width*100,L=($.clientY-Z.top)/Z.height*100;c(!0),h({x:ee,y:L})},I=$=>{if(!o||!k.current)return;const Z=k.current.getBoundingClientRect(),ee=($.clientX-Z.left)/Z.width*100,L=($.clientY-Z.top)/Z.height*100,V=(ee-u.x)/f,Q=(L-u.y)/f;i(Y=>({...Y,x:Math.max(0,Math.min(100,Y.x+V)),y:Math.max(0,Math.min(100,Y.y+Q))})),h({x:ee,y:L})},M=()=>{c(!1)},W=()=>{p($=>Math.min(3,$+.1))},z=()=>{p($=>Math.max(.5,$-.1))},B=()=>{b($=>($+90)%360)},O=()=>{i({x:50,y:50,width:100,height:100}),p(1),b(0),w("cover")},F=()=>{if(v.width&&v.height){const $=v.width/v.height;$>3?(w("cover"),p(.8)):$<1?(w("cover"),p(1.2)):(w("cover"),p(1)),i({x:50,y:50,width:100,height:100}),b(0)}},G=()=>{const $=a.x<25?"left":a.x>75?"right":"center",Z=a.y<25?"top":a.y>75?"bottom":"center";return`${$} ${Z}`},K=()=>{const $=G();t({position:$,fit:y,cropArea:a,zoom:f,rotation:g,imageSize:v})};return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-6xl w-full max-h-[90vh] animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Banner Crop Editor"}),l.jsx("button",{onClick:n,className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:28})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(tde,{size:16}),l.jsx("span",{className:"text-sm",children:"Zoom In"})]}),l.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(rde,{size:16}),l.jsx("span",{className:"text-sm",children:"Zoom Out"})]}),l.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(Mue,{size:16}),l.jsx("span",{className:"text-sm",children:"Rotate"})]}),l.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg transition-colors",children:[l.jsx(Nue,{size:16}),l.jsx("span",{className:"text-sm",children:"Reset"})]}),l.jsx("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500/20 to-pink-500/20 hover:from-blue-500/30 hover:to-pink-500/30 rounded-lg transition-all duration-300",children:l.jsx("span",{className:"text-sm text-blue-400",children:"Auto Optimize"})})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-zinc-400",children:"Fit:"}),l.jsxs("select",{value:y,onChange:$=>w($.target.value),className:"bg-zinc-800 border border-zinc-600 rounded-lg px-3 py-1 text-sm",children:[l.jsx("option",{value:"cover",children:"Cover"}),l.jsx("option",{value:"contain",children:"Contain"})]})]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:["Zoom: ",Math.round(f*100),"%"]})]})]}),l.jsxs("div",{className:"flex gap-6",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{ref:k,className:"relative w-full h-96 bg-zinc-800 rounded-2xl overflow-hidden cursor-move",onMouseDown:P,onMouseMove:I,onMouseUp:M,onMouseLeave:M,children:[l.jsx("div",{className:"relative w-full h-full",style:{transform:`scale(${f})`,transformOrigin:"center center"},children:l.jsx("img",{ref:S,src:e,alt:"Banner",className:`w-full h-full object-${y} transition-all duration-300`,style:{transform:`rotate(${g}deg)`,objectPosition:`${a.x}% ${a.y}%`}})}),l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute inset-0 bg-black/30"}),l.jsx("div",{className:"absolute inset-0 border-2 border-white/50 border-dashed"})]}),l.jsx("div",{className:"absolute w-4 h-4 bg-pink-500 rounded-full border-2 border-white shadow-lg pointer-events-none",style:{left:`${a.x}%`,top:`${a.y}%`,transform:"translate(-50%, -50%)"}})]}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-sm text-zinc-400",children:["Drag to move the focus point  Use zoom to see more of the original image  Current position: ",l.jsx("span",{className:"text-pink-400 font-mono",children:G()})]})})]}),l.jsxs("div",{className:"w-80",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),l.jsx("div",{className:"w-full h-48 bg-zinc-800 rounded-2xl overflow-hidden",children:l.jsx("img",{src:e,alt:"Banner Preview",className:`w-full h-full object-${y}`,style:{objectPosition:`${a.x}% ${a.y}%`,transform:`scale(${f}) rotate(${g}deg)`,transformOrigin:"center center"}})}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Position"}),l.jsx("div",{className:"text-white font-mono",children:G()})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Fit"}),l.jsx("div",{className:"text-white capitalize",children:y})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Zoom"}),l.jsxs("div",{className:"text-white",children:[Math.round(f*100),"%"]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Image Size"}),l.jsxs("div",{className:"text-white",children:[v.width,"  ",v.height]})]}),A.length>0&&l.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-2",children:"Recommendations"}),l.jsx("div",{className:"space-y-2",children:A.slice(0,2).map(($,Z)=>l.jsxs("div",{className:`text-xs p-2 rounded ${$.isOptimal?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:[l.jsx("div",{className:"font-medium",children:$.name}),l.jsxs("div",{className:"text-xs opacity-75",children:[$.width,"  ",$.height]}),l.jsx("div",{className:"text-xs opacity-75",children:$.description})]},Z))})]})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6 pt-6 border-t border-zinc-700/30",children:[l.jsx("button",{onClick:n,className:"px-6 py-3 bg-zinc-700 hover:bg-zinc-600 text-white rounded-xl transition-colors",children:"Cancel"}),l.jsx("button",{onClick:K,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Save Banner Settings"})]})]})]})})},J4=new Map,gxe=300*1e3,yxe=({collection:e})=>{const[t,n]=j.useState({website:"",twitter:"",discord:""}),[r,s]=j.useState([]),[a,i]=j.useState(!1),[o,c]=j.useState(null),[u,h]=j.useState(!1),[f,p]=j.useState(!1),[g,b]=j.useState({visible:!1,message:"",type:"success"}),[y,w]=j.useState(null),[v,N]=j.useState(""),[A,C]=j.useState("center center"),[k,S]=j.useState("contain"),[T,P]=j.useState(1),[I,M]=j.useState(!1),[W,z]=j.useState(!1),[B,O]=j.useState(!1);j.useEffect(()=>{if(g.visible){const oe=setTimeout(()=>b(he=>({...he,visible:!1})),3e3);return()=>clearTimeout(oe)}},[g.visible]);const F=(oe,he="success")=>{b({visible:!0,message:oe,type:he})},G=oe=>{if(!oe)return"";if(typeof oe=="string")return oe;if(typeof oe=="object"){const he=oe.gatewayUrl||oe.url||oe.cid||"";return console.log(" Extracted banner URL from object:",he),he}return console.warn(" Invalid banner URL type:",typeof oe,oe),""},K=async()=>{if(e)try{const oe=localStorage.getItem(`collection_${e.address}_banner`);if(oe)try{const ce=JSON.parse(oe);typeof ce=="object"&&!ce.gatewayUrl&&!ce.url&&!ce.cid&&(console.log(" Cleaning up corrupted banner data"),localStorage.removeItem(`collection_${e.address}_banner`))}catch{}const he=localStorage.getItem(`collection_${e.address}_banner`);if(console.log(" Loading saved banner from localStorage:",he),he)try{const ce=JSON.parse(he),ne=G(ce);N(ne),console.log(" Set banner URL from localStorage (parsed):",ne)}catch{const ce=G(he);N(ce),console.log(" Set banner URL from localStorage (string):",ce)}const Ne=localStorage.getItem(`collection_${e.address}_banner_position`);console.log(" Loading saved banner position from localStorage:",Ne),Ne&&(C(Ne),console.log(" Set banner position from localStorage:",Ne));const Re=localStorage.getItem(`collection_${e.address}_banner_fit`);console.log(" Loading saved banner fit from localStorage:",Re),Re&&(S(Re),console.log(" Set banner fit from localStorage:",Re));const H=localStorage.getItem(`collection_${e.address}_banner_zoom`);console.log(" Loading saved banner zoom from localStorage:",H),H&&(P(parseFloat(H)),console.log(" Set banner zoom from localStorage:",H));const ye=JSON.parse(localStorage.getItem(`collection_${e.address}_social`)||"{}");n(ye)}catch(oe){console.error("Error loading collection data:",oe)}};j.useEffect(()=>{K(),$()},[e]);const $=async()=>{if(!e){console.log(" No collection provided to loadCollectionNFTs");return}console.log(" Starting loadCollectionNFTs for collection:",e.address);const oe=`${e.address}_preview`,he=J4.get(oe);if(he&&Date.now()-he.timestamp<gxe){console.log(" Using cached preview data"),s(he.data);return}try{i(!0),console.log(" Loading collection preview...");const Ne=`collection_${e.address}_nfts`;console.log(" Looking for NFTs in localStorage with key:",Ne);const Re=JSON.parse(localStorage.getItem(Ne)||"[]");console.log(" Found NFTs in localStorage:",Re.length,"NFTs"),console.log(" First few NFTs:",Re.slice(0,3));const H=localStorage.getItem(Ne);if(console.log(" Raw localStorage data:",H),console.log(" Raw data length:",H?H.length:0),Re.length>0){console.log(" Found NFTs in localStorage, processing images..."),console.log(" Sample NFT structure:",Re[0]);const ye=(await Promise.all(Re.map(async(ce,ne)=>{console.log(` Processing NFT ${ne+1}/${Re.length}:`,ce.name,"Image:",ce.image);try{if(ce.image?.startsWith("ipfs://"))return console.log(` Converting IPFS image for ${ce.name}`),{...ce,imageUrl:Dn(ce.image)[0],index:ne,name:ce.name||`${e.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${e.name}`};if(!ce.image&&ce.tokenURI){console.log(` Fetching metadata for ${ce.name} from tokenURI`);try{const se=Dn(ce.tokenURI),fe=await wx(se);return console.log(` Metadata fetched for ${ce.name}:`,fe.name),{...ce,imageUrl:fe.image?Dn(fe.image)[0]:e.cover||"/default-nft.png",index:ne,name:ce.name||`${e.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${e.name}`}}catch(se){return console.error(` Failed to fetch metadata for ${ce.name}:`,se.message),{...ce,imageUrl:e.cover||"/default-nft.png",index:ne,name:ce.name||`${e.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${e.name}`}}}return ce.image&&!ce.image.startsWith("ipfs://")?(console.log(` NFT ${ce.name} has direct image URL:`,ce.image),{...ce,imageUrl:ce.image,index:ne,name:ce.name||`${e.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${e.name}`}):(console.log(` Using fallback image for ${ce.name}`),{...ce,imageUrl:e.cover||"/default-nft.png",index:ne,name:ce.name||`${e.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${e.name}`})}catch(se){return console.error(` Error processing NFT ${ce.name}:`,se),{...ce,imageUrl:e.cover||"/default-nft.png",index:ne,name:ce.name||`${e.name} #${ne+1}`,description:ce.description||`NFT #${ne+1} from ${e.name}`}}}))).slice(0,20);console.log(" Final preview NFTs:",ye.length,"NFTs"),console.log(" Preview NFTs with imageUrl:",ye.map(ce=>({name:ce.name,imageUrl:ce.imageUrl}))),J4.set(oe,{data:ye,timestamp:Date.now()}),s(ye),console.log(" Preview loaded successfully:",ye.length,"NFTs")}else{console.log(" No NFTs found in localStorage"),console.log(" Checking if localStorage key exists but is empty...");const ye=Object.keys(localStorage),ce=ye.filter(se=>se.includes(e.address));console.log(" All localStorage keys for this collection:",ce);const ne=ye.filter(se=>se.includes("nfts"));console.log(" All NFT-related keys in localStorage:",ne),s([])}}catch(Ne){console.error(" Error loading collection preview:",Ne),F("Failed to load collection preview","error")}finally{i(!1)}};j.useEffect(()=>{e&&$()},[e]);const Z=async oe=>{const he=oe.target.files[0];if(!he)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(he.type)){F("Please select a valid image file (JPG, PNG, GIF, WebP)","error");return}const Ne=10*1024*1024;if(he.size>Ne){F("File size too large. Please select a file smaller than 10MB","error");return}try{i(!0),F("Uploading banner...","info"),console.log(" Uploading banner file:",he.name,he.size,he.type);const Re=await hD(he);console.log(" Banner uploaded successfully:",Re),console.log(" Upload result type:",typeof Re),console.log(" Upload result keys:",Object.keys(Re||{}));const H=Re.gatewayUrl||Re.url||Re.cid;if(console.log(" Extracted banner URL:",H),console.log(" Banner URL type:",typeof H),!H)throw console.error(" No URL in upload response:",Re),new Error("No URL returned from upload. Please try again.");const ye=G(H);N(ye),localStorage.setItem(`collection_${e.address}_banner`,ye),console.log(" Saved banner URL to localStorage:",ye),F("Banner uploaded successfully!","success")}catch(Re){console.error(" Error uploading banner:",Re),F(`Failed to upload banner: ${Re.message}`,"error")}finally{i(!1)}},ee=oe=>{C(oe),localStorage.setItem(`collection_${e.address}_banner_position`,oe),console.log(" Saved banner position:",oe)},L=oe=>{S(oe),localStorage.setItem(`collection_${e.address}_banner_fit`,oe),console.log(" Saved banner fit:",oe)},V=oe=>{P(oe),localStorage.setItem(`collection_${e.address}_banner_zoom`,oe.toString()),console.log(" Saved banner zoom:",oe)},Q=oe=>{C(oe.position),S(oe.fit),P(oe.zoom||1),localStorage.setItem(`collection_${e.address}_banner_position`,oe.position),localStorage.setItem(`collection_${e.address}_banner_fit`,oe.fit),localStorage.setItem(`collection_${e.address}_banner_zoom`,(oe.zoom||1).toString()),O(!1),F("Banner settings updated","success")},Y=(oe,he)=>{const Ne={...t,[oe]:he};n(Ne),localStorage.setItem(`collection_${e.address}_social`,JSON.stringify(Ne))},ae=G(v),ue=()=>{if(!e)return null;const oe=(ne,se)=>{try{const fe=JSON.parse(ne);return fe!==void 0?fe:se}catch{return se}},he=oe(localStorage.getItem(`collection_${e.address}_nfts`),[]),Ne=oe(localStorage.getItem(`phases_${e.address}`),{}),Re=he.length,H=Object.entries(Ne).map(([ne,se])=>({name:ne,price:se.price||"0",allocated:se.allocated||0,start:se.start,end:se.end,active:se.active!==!1})).reduce((ne,se)=>{const fe=parseFloat(se.price)||0,Ie=parseInt(se.allocated)||0;return ne+fe*Ie},0),ye=e.totalSupply||Re||0,ce={totalSupply:ye,totalMinted:0,totalRevenue:"0.0",maxSupply:ye,contractBalance:0,potentialRevenue:H.toFixed(2)};return console.log(" Preview stats (before launch):",ce),l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Sale Preview"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-3 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200 text-sm",title:"Refresh stats from blockchain",children:[l.jsx(dx,{className:"w-4 h-4"}),"Refresh Stats"]}),l.jsx("button",{onClick:()=>p(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:24})})]})]}),l.jsxs("div",{className:"p-6",children:[ae&&l.jsxs("div",{className:"w-full h-[300px] rounded-2xl overflow-hidden mb-8 relative",children:[l.jsx("img",{src:ae,alt:"Collection banner",className:`w-full h-full object-${k} transition-all duration-300`,style:{objectPosition:A,transform:`scale(${T||1})`,imageRendering:ae?.includes(".gif")?"auto":"optimizeQuality"},onError:ne=>{console.error("Failed to load banner in preview:",ae),ne.target&&(ne.target.style.display="none")}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent pointer-events-none"}),l.jsx("div",{className:"absolute bottom-4 left-4 text-white",children:l.jsxs("div",{className:"text-sm opacity-75",children:["Banner: ",k,"  ",A]})})]}),l.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[l.jsx("img",{src:e?.cover||e?.firstNFTImage||dr,alt:e?.name,className:"w-24 h-24 rounded-2xl object-cover border border-zinc-600/30",onError:ne=>{console.warn(" Collection cover failed to load:",ne.target.src),e?.firstNFTImage&&e.firstNFTImage!==ne.target.src?ne.target.src=e.firstNFTImage:ne.target.src=dr}}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("h2",{className:"text-3xl font-bold text-white",children:e?.name}),l.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full",children:"Real Data"})]}),l.jsx("p",{className:"text-zinc-400 text-lg mb-4",children:e?.description||"No description available"}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[t.website&&l.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:l.jsx(h6,{size:20})}),t.twitter&&l.jsx("a",{href:t.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:l.jsx(f7,{size:20})}),t.discord&&l.jsx("a",{href:t.discord,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})})})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsx("div",{className:"text-xl font-bold text-white",children:ce.maxSupply}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Max Supply"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsx("div",{className:"text-xl font-bold text-white",children:ce.totalMinted}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Minted"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsxs("div",{className:"text-xl font-bold text-white",children:[ce.totalRevenue," STT"]}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Revenue"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-4 shadow-2xl text-center",children:[l.jsxs("div",{className:"text-xl font-bold text-white",children:[ce.potentialRevenue," STT"]}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Potential"})]})]})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Mint Section"}),l.jsx("div",{className:"w-full h-3 bg-zinc-700 rounded-full mb-6 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative",style:{width:`${Math.max(0,Math.min(100,ce.totalMinted/Math.max(ce.maxSupply,1)*100))}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:ce.totalMinted}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Minted"})]}),l.jsx("div",{className:"text-zinc-400 text-xl",children:"/"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:ce.maxSupply}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Total"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Price"}),l.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-white",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-5 h-5"}),(()=>{const ne=["Whitelist","FCFS","Public"],se=new Date;for(const fe of ne){const Ie=Ne[fe];if(Ie&&Ie.price&&Ie.start&&Ie.end){const je=new Date(Ie.start),be=new Date(Ie.end);if(se>=je&&se<=be||se<je)return Ie.price}}return Object.values(Ne).find(fe=>fe.price)?.price||"0.1"})()," STT"]})]})]}),l.jsx("div",{className:"w-full py-4 bg-zinc-800/50 text-zinc-400 font-bold rounded-xl text-center",children:"Mint button will appear here after launch"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl mb-8",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Sale Phases"}),l.jsxs("div",{className:"space-y-3",children:[Object.entries(Ne).map(([ne,se])=>{const fe=new Date(se.start),Ie=new Date(se.end),je=new Date,be=je>=fe&&je<=Ie,Be=je>Ie;let Me="Upcoming",ze="text-zinc-400";return be?(Me="Active",ze="text-green-400"):Be&&(Me="Ended",ze="text-red-400"),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-900 rounded-xl",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-white",children:ne}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[se.price," STT  ",se.allocated," NFTs"]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[fe.toLocaleDateString()," - ",Ie.toLocaleDateString()]})]}),l.jsx("div",{className:`text-sm ${ze}`,children:Me})]},ne)}),Object.keys(Ne).length===0&&l.jsx("div",{className:"text-center text-zinc-400 py-4",children:"No phases configured yet"})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-2xl p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"NFT Preview"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.slice(0,6).map((ne,se)=>l.jsxs("div",{className:"bg-zinc-900 rounded-xl overflow-hidden",children:[l.jsx("img",{src:ne.imageUrl||ne.image||"/default-nft.png",alt:ne.name,className:"w-full h-24 object-cover",onError:fe=>{fe.target.src="/default-nft.png"}}),l.jsx("div",{className:"p-2",children:l.jsx("p",{className:"text-xs text-white truncate",children:ne.name})})]},ne.id||se)),r.length>6&&l.jsx("div",{className:"bg-zinc-900 rounded-xl flex items-center justify-center h-24",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-lg font-bold text-white",children:["+",r.length-6]}),l.jsx("div",{className:"text-xs text-zinc-400",children:"More"})]})})]})]})]})]})})},re=oe=>{const he=r.filter(H=>H.id!==oe.id);s(he);const Ne=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`)||"[]").filter(H=>H.id!==oe.id);localStorage.setItem(`collection_${e.address}_nfts`,JSON.stringify(Ne));const Re=`${e.address}_preview`;J4.delete(Re),F("NFT deleted successfully","success")},ie=()=>{$()},pe=async()=>{if(e?.address)try{F(" Refreshing stats from blockchain...","info");const oe=new wr(window.ethereum),he=new Pt(e.address,Rn,oe),Ne=await oe.getBalance(e.address),Re=em(Ne,18),[H,ye]=await Promise.all([he.totalSupply(),he.maxSupply()]),ce=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{},ne=Object.entries(ce).map(([Ie,je])=>({name:Ie,price:je.price||"0",allocated:je.allocated||0,start:je.start,end:je.end,active:je.active!==!1})),se=ne.reduce((Ie,je)=>{const be=parseFloat(je.price)||0,Be=parseInt(je.allocated)||0;return Ie+be*Be},0),fe={totalSupply:Number(ye),maxSupply:Number(ye),totalRevenue:parseFloat(Re).toFixed(3),potentialRevenue:se.toFixed(2),totalMints:Number(H),uniqueHolders:Math.floor(Number(H)*.8),averagePrice:Number(H)>0?(se/Number(H)).toFixed(2):"0",phases:ne,contractBalance:parseFloat(Re),contractOwner:"",canWithdraw:!1};localStorage.setItem(`collection_${e.address}_real_stats`,JSON.stringify(fe)),F(" Stats updated successfully!","success"),f&&(p(!1),setTimeout(()=>p(!0),100))}catch(oe){console.error("Error refreshing stats:",oe),F(" Failed to refresh stats","error")}};return e?l.jsxs("div",{className:"space-y-6 pb-24",children:[l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-6",children:[l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:e.cover||e.firstNFTImage||"/default-cover.png",alt:"Cover",className:"w-full h-full object-cover",onError:oe=>{console.warn(" Collection cover failed to load:",oe.target.src),e.firstNFTImage&&e.firstNFTImage!==oe.target.src?oe.target.src=e.firstNFTImage:oe.target.src="/default-cover.png"}})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e.name}),l.jsx("p",{className:"text-zinc-400 mb-4",children:e.description||"No description available"}),l.jsx("p",{className:"text-sm text-zinc-500 font-mono",children:e.address})]})]}),l.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold shadow-lg",children:[l.jsx(aue,{className:"w-5 h-5"}),"Preview Sale"]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Sale Banner"}),l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"w-64 h-32 rounded-xl overflow-hidden bg-zinc-900 border-2 border-dashed border-zinc-600 flex items-center justify-center cursor-pointer transition-all duration-200 hover:border-pink-500/50 hover:bg-zinc-800/50 relative",onDragOver:oe=>{oe.preventDefault(),oe.currentTarget.classList.add("border-pink-500","bg-zinc-800/50")},onDragLeave:oe=>{oe.preventDefault(),oe.currentTarget.classList.remove("border-pink-500","bg-zinc-800/50")},onDrop:oe=>{oe.preventDefault(),oe.currentTarget.classList.remove("border-pink-500","bg-zinc-800/50");const he=oe.dataTransfer.files;he.length>0&&Z({target:{files:[he[0]]}})},onClick:()=>!a&&document.getElementById("banner-upload").click(),children:[a&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-white",children:"Uploading..."})]})}),ae?l.jsx("img",{src:ae,alt:"Banner preview",className:`w-full h-full object-${k} transition-all duration-300`,style:{objectPosition:A,transform:`scale(${T})`,imageRendering:ae?.includes(".gif")?"auto":"optimizeQuality"},onError:oe=>{console.error("Failed to load banner image:",ae),oe.target&&(oe.target.style.display="none"),oe.target&&oe.target.nextSibling&&(oe.target.nextSibling.style.display="block")}}):null,!ae&&!a&&l.jsxs("div",{className:"text-center",children:[l.jsx(hx,{className:"w-8 h-8 text-zinc-400 mx-auto mb-2"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Upload banner"}),l.jsx("p",{className:"text-xs text-zinc-500",children:"Recommended: 1200x400px"}),l.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Supports: JPG, PNG, GIF, WebP"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("input",{type:"file",accept:"image/*,.gif,.webp",onChange:Z,className:"hidden",id:"banner-upload",disabled:a}),l.jsx("label",{htmlFor:"banner-upload",className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-opacity ${a?"bg-zinc-600 text-zinc-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-pink-500 text-white cursor-pointer hover:opacity-90"}`,children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading..."]}):l.jsxs(l.Fragment,{children:[l.jsx(hx,{className:"w-4 h-4"}),ae?"Change Banner":"Upload Banner"]})}),ae&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>M(!0),className:"ml-3 px-4 py-2 bg-gradient-to-r from-green-500/20 to-blue-500/20 text-green-400 rounded-lg hover:from-green-500/30 hover:to-blue-500/30 transition-all duration-300",children:"Quick Settings"}),l.jsx("button",{onClick:()=>O(!0),className:"ml-3 px-4 py-2 bg-gradient-to-r from-blue-500/20 to-pink-500/20 text-blue-400 rounded-lg hover:from-blue-500/30 hover:to-pink-500/30 transition-all duration-300",children:"Advanced Settings"}),l.jsx("button",{onClick:()=>{N(""),localStorage.removeItem(`collection_${e.address}_banner`),localStorage.removeItem(`collection_${e.address}_banner_position`)},className:"ml-3 px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors",children:"Remove"})]})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Social Links"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Website"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(h6,{className:"w-4 h-4 text-zinc-400"}),l.jsx("input",{type:"url",placeholder:"https://your-website.com",value:t.website,onChange:oe=>Y("website",oe.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Twitter/X"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(f7,{className:"w-4 h-4 text-zinc-400"}),l.jsx("input",{type:"url",placeholder:"https://twitter.com/username",value:t.twitter,onChange:oe=>Y("twitter",oe.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Discord"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})}),l.jsx("input",{type:"url",placeholder:"https://discord.gg/invite",value:t.discord,onChange:oe=>Y("discord",oe.target.value),className:"flex-1 p-2 rounded-lg bg-zinc-900 border border-zinc-600 text-white text-sm focus:outline-none focus:border-pink-500"})]})]})]}),l.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"These links will be displayed on your collection page. Leave empty to hide the icons."})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"NFT Preview"}),l.jsxs("button",{onClick:ie,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:[l.jsx(dx,{className:`w-4 h-4 ${a?"animate-spin":""}`}),"Refresh"]})]}),a?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-pink-500 border-t-transparent rounded-full mx-auto mb-4"}),l.jsx("p",{className:"text-zinc-400",children:"Loading NFT preview..."})]}):r.length>0?l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.slice(0,5).map((oe,he)=>l.jsxs("div",{className:"group relative bg-zinc-900 rounded-xl overflow-hidden cursor-pointer hover:scale-105 transition-all duration-200",onClick:()=>{c(oe),h(!0)},children:[l.jsx("img",{src:oe.imageUrl||oe.image||"/default-nft.png",alt:oe.name,className:"w-full h-32 object-cover",onError:Ne=>{Ne.target.src="/default-nft.png"}}),l.jsxs("div",{className:"p-3",children:[l.jsx("h5",{className:"text-sm font-semibold text-white truncate",children:oe.name}),l.jsx("p",{className:"text-xs text-zinc-400 truncate",children:oe.description})]}),l.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),re(oe.id)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center text-xs",children:""})]},oe.id||he)),r.length>5&&l.jsx("button",{onClick:()=>z(!0),className:"aspect-square rounded-xl border-2 border-dashed border-zinc-600/50 hover:border-pink-500/50 transition-all duration-300 flex items-center justify-center text-zinc-400 hover:text-zinc-300 bg-zinc-900/50 backdrop-blur-sm hover:scale-105 group",children:l.jsxs("div",{className:"text-center group-hover:scale-110 transition-transform duration-300",children:[l.jsx("div",{className:"text-sm font-semibold",children:"More"}),l.jsxs("div",{className:"text-xs",children:["+",r.length-5]})]})})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-zinc-400 mb-2",children:"No NFTs found in this collection"}),l.jsx("p",{className:"text-xs text-zinc-500",children:'Upload NFTs in the "Populate Collection" tab'})]})]})]}),f&&l.jsx(ue,{}),u&&o&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden animate-fadeIn",tabIndex:-1,autoFocus:!0,children:l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:o.imageUrl,alt:o.name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:o.name}),l.jsx("p",{className:"text-zinc-400 mb-4",children:o.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Token ID:"}),l.jsxs("span",{className:"text-white font-mono",children:["#",o.tokenId||o.id]})]}),o.attributes&&o.attributes.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Attributes:"}),l.jsx("div",{className:"mt-2 space-y-1",children:o.attributes.map((oe,he)=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:"text-zinc-400",children:[oe.trait_type,":"]}),l.jsx("span",{className:"text-white",children:oe.value})]},he))})]})]}),l.jsx("div",{className:"mt-6 flex gap-3",children:l.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:"Close"})})]})]})})})}),I&&ae&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-xl rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Banner Display Settings"}),l.jsx("button",{onClick:()=>M(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:24})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Preview"}),l.jsx("div",{className:"w-full h-64 rounded-xl overflow-hidden bg-zinc-800 border border-zinc-600",children:l.jsx("img",{src:ae,alt:"Banner preview",className:`w-full h-full object-${k} transition-all duration-300`,style:{objectPosition:A,transform:`scale(${T})`,imageRendering:ae?.includes(".gif")?"auto":"optimizeQuality"}})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Position Settings"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Display Position"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"top left",label:"Top Left"},{value:"top center",label:"Top Center"},{value:"top right",label:"Top Right"},{value:"center left",label:"Center Left"},{value:"center center",label:"Center Center"},{value:"center right",label:"Center Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom center",label:"Bottom Center"},{value:"bottom right",label:"Bottom Right"}].map(oe=>l.jsx("button",{onClick:()=>ee(oe.value),className:`p-3 rounded-lg border transition-all duration-200 ${A===oe.value?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:oe.label},oe.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Display Fit"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("button",{onClick:()=>L("cover"),className:`p-3 rounded-lg border transition-all duration-200 ${k==="cover"?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:"Cover (Fill)"}),l.jsx("button",{onClick:()=>L("contain"),className:`p-3 rounded-lg border transition-all duration-200 ${k==="contain"?"border-pink-500 bg-pink-500/20 text-pink-400":"border-zinc-600 bg-zinc-800/50 text-zinc-400 hover:border-zinc-500 hover:bg-zinc-700/50"}`,children:"Contain (Full)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Zoom Level"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:T,onChange:oe=>V(parseFloat(oe.target.value)),className:"w-full h-2 bg-zinc-700 rounded-lg appearance-none cursor-pointer slider"}),l.jsxs("div",{className:"flex justify-between text-xs text-zinc-400",children:[l.jsx("span",{children:"50%"}),l.jsxs("span",{children:[Math.round(T*100),"%"]}),l.jsx("span",{children:"200%"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Current Settings"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Position"}),l.jsx("code",{className:"text-pink-400 font-mono",children:A})]}),l.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Fit"}),l.jsx("code",{className:"text-pink-400 font-mono capitalize",children:k})]}),l.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg border border-zinc-600",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Zoom"}),l.jsxs("code",{className:"text-pink-400 font-mono",children:[Math.round(T*100),"%"]})]})]})]}),l.jsxs("div",{className:"pt-4 space-y-3",children:[l.jsx("button",{onClick:()=>{M(!1),O(!0)},className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Advanced Crop Editor"}),l.jsx("button",{onClick:()=>M(!1),className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-pink-500 text-white rounded-xl hover:opacity-90 transition-opacity font-semibold",children:"Save Settings"})]})]})]})]})]})})}),B&&ae&&l.jsx(pxe,{imageUrl:ae,onSave:Q,onCancel:()=>O(!1),initialPosition:A,initialFit:k}),W&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-[9997] p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-5xl w-full max-h-[85vh] animate-fadeIn border border-zinc-700/30",tabIndex:-1,autoFocus:!0,children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Collection Gallery"}),l.jsx("button",{onClick:()=>z(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:28})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-[65vh] overflow-y-auto",children:r.map((oe,he)=>l.jsxs("button",{onClick:()=>{c(oe),z(!1),h(!0)},className:"group",children:[l.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-zinc-700/30 group-hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm shadow-lg",children:[l.jsx("img",{src:oe.imageUrl||oe.image||"/default-nft.png",alt:oe.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:Ne=>{Ne.target.src="/default-nft.png"}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"mt-3 text-center",children:l.jsx("div",{className:"text-sm text-white font-medium truncate",children:oe.name})})]},oe.id||he))})]})})}),g.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-[10000] ${g.type==="error"?"bg-red-800 text-white":g.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:g.message})})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})},bxe=({collection:e})=>{const[t,n]=j.useState(!1),[r,s]=j.useState(!1),[a,i]=j.useState({visible:!1,message:"",txHash:""}),[o,c]=j.useState({totalSupply:0,maxSupply:0,totalRevenue:"0",potentialRevenue:"0",totalMints:0,uniqueHolders:0,averagePrice:"0",phases:[],contractBalance:0,contractOwner:"",canWithdraw:!1});j.useEffect(()=>{if(a.visible){const g=setTimeout(()=>i(b=>({...b,visible:!1})),5e3);return()=>clearTimeout(g)}},[a.visible]);const u=(g,b="")=>{i({visible:!0,message:g,txHash:b})},h=async()=>{if(e?.address)try{n(!0);const g=new wr(window.ethereum),b=new Pt(e.address,Rn,g),y=await g.getBalance(e.address),w=em(y,18);console.log(" Contract balance (rewards):",w,"STT");const v=JSON.parse(localStorage.getItem(`collection_${e.address}_nfts`)||"[]");console.log(" Uploaded NFTs count:",v.length);const N=JSON.parse(localStorage.getItem(`phases_${e.address}`))||{},A=Object.entries(N).map(([W,z])=>({name:W,price:z.price||"0",allocated:z.allocated||0,start:z.start,end:z.end,active:z.active!==!1}));console.log(" Phase stats:",A);const C=A.reduce((W,z)=>{const B=parseFloat(z.price)||0,O=parseInt(z.allocated)||0;return W+B*O},0);console.log(" Potential revenue from phases:",C);let k=null;try{const[W,z]=await Promise.all([b.totalSupply(),b.maxSupply()]);k={totalSupply:Number(W),maxSupply:Number(z),totalMinted:Number(W)},console.log(" Blockchain data:",k)}catch(W){console.log(" Blockchain data not available (sale might not have started):",W.message),k=null}const S=await b.owner(),T=await(await g.getSigner()).getAddress(),P=S.toLowerCase()===T.toLowerCase();console.log(" Contract owner:",S),console.log(" Current user:",T),console.log(" Can withdraw:",P);const I=k&&k.totalMinted>0,M={totalSupply:k?k.maxSupply:v.length,maxSupply:k?k.maxSupply:v.length,totalMinted:k?k.totalMinted:0,uploadedNFTs:v.length,totalRevenue:parseFloat(w).toFixed(3),potentialRevenue:C.toFixed(2),uniqueHolders:k?Math.floor(k.totalMinted*.8):0,averagePrice:v.length>0?(C/v.length).toFixed(2):"0",phases:A,contractBalance:parseFloat(w),contractOwner:S,canWithdraw:P,saleHasStarted:I};console.log(" Final stats:",M),console.log(" Sale has started:",I),c(M),localStorage.setItem(`collection_${e.address}_real_stats`,JSON.stringify(M))}catch(g){console.error("Error loading collection stats:",g),u("Failed to load collection statistics")}finally{n(!1)}};j.useEffect(()=>{e?.address&&h()},[e?.address]);const f=async()=>{if(e?.address)try{s(!0);const g=new wr(window.ethereum),b=await g.getSigner(),y=new Pt(e.address,Rn,b),w=await b.getAddress(),v=await y.owner();if(w.toLowerCase()!==v.toLowerCase()){u(" Only contract owner can withdraw rewards");return}const N=await g.getBalance(e.address);if(N===0n){u(" No rewards available to withdraw");return}console.log(" Withdrawing balance:",em(N,18),"STT");const A=await y.withdraw();u(" Withdrawing rewards..."),await A.wait(),u(" Rewards withdrawn successfully!",A.hash),h()}catch(g){console.error("Error withdrawing rewards:",g),g.message.includes("user rejected")?u(" Transaction was cancelled by user"):g.message.includes("insufficient funds")?u(" Insufficient gas fees for transaction"):g.message.includes("execution reverted")?u(" Transaction failed - check contract permissions"):u(` Failed to withdraw rewards: ${g.message}`)}finally{s(!1)}},p=g=>{if(!g)return"Not set";const b=new Date(g*1e3);return b.toLocaleDateString()+" "+b.toLocaleTimeString()};return e?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Vd,{className:"w-5 h-5 text-blue-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Uploaded NFTs"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":o.uploadedNFTs}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.saleHasStarted?" Sale Active":" Pre-sale"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(h7,{className:"w-5 h-5 text-green-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Available Rewards"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":`${o.totalRevenue} STT`}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.canWithdraw?" Can withdraw":" Not owner"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(fx,{className:"w-5 h-5 text-pink-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Total Mints"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":o.totalMinted}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:o.saleHasStarted?" From blockchain":" From uploads"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Xce,{className:"w-5 h-5 text-yellow-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Potential Revenue"})]}),l.jsx("div",{className:"text-2xl font-bold text-white",children:t?"...":`${o.potentialRevenue} STT`}),l.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"From configured phases"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:h,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200 disabled:opacity-50",children:[l.jsx(dx,{className:`w-4 h-4 ${t?"animate-spin":""}`}),"Refresh Stats"]})}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Phase Configuration"}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[o.phases?.length||0," phases configured"]})]}),o.phases&&o.phases.length>0?l.jsxs("div",{className:"space-y-4",children:[o.phases.map((g,b)=>{const y=Math.floor(Date.now()/1e3),w=g.active&&g.start<=y&&g.end>=y,v=g.start>y,N=g.end<y;return l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${w?"bg-green-500":v?"bg-yellow-500":"bg-gray-500"}`}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:g.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[p(g.start)," - ",p(g.end)]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-bold text-white",children:[g.price," STT"]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[g.allocated," NFTs"]}),l.jsxs("div",{className:"text-xs text-zinc-500",children:["Potential: ",(parseFloat(g.price)*g.allocated).toFixed(2)," STT"]}),l.jsx("div",{className:"text-xs mt-1",children:w?l.jsx("span",{className:"text-green-400",children:" Active"}):v?l.jsx("span",{className:"text-yellow-400",children:" Upcoming"}):N?l.jsx("span",{className:"text-gray-400",children:" Ended"}):l.jsx("span",{className:"text-gray-400",children:" Inactive"})})]})]},b)}),l.jsxs("div",{className:"mt-4 p-4 bg-zinc-900/50 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-zinc-400",children:"Total Potential Revenue:"}),l.jsxs("span",{className:"text-lg font-bold text-white",children:[o.potentialRevenue," STT"]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("span",{className:"text-sm text-zinc-400",children:"Sale Status:"}),l.jsx("span",{className:`text-sm font-medium ${o.saleHasStarted?"text-green-400":"text-yellow-400"}`,children:o.saleHasStarted?"Active":"Not Started"})]})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-zinc-400 mb-2",children:"No phases configured"}),l.jsx("p",{className:"text-xs text-zinc-500",children:'Configure phases in the "Phase Settings" tab to see potential revenue'})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:"Rewards & Withdrawals"}),l.jsx("button",{onClick:h,disabled:t,className:"px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:"Refresh"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-6 h-6"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:"Contract Balance (Rewards)"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Money earned from NFT mints"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold text-white",children:t?"...":`${o.totalRevenue} STT`}),l.jsx("div",{className:"text-xs text-zinc-500",children:o.canWithdraw?" Can withdraw":" Not owner"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(h7,{className:"w-6 h-6 text-blue-400"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:"Potential Revenue"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"From configured phases"})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-lg font-bold text-white",children:t?"...":`${o.potentialRevenue} STT`})})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-900 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fx,{className:"w-6 h-6 text-green-400"}),l.jsxs("div",{children:[l.jsx("h5",{className:"font-semibold text-white",children:"Total Mints"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"NFTs minted so far"})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"text-lg font-bold text-white",children:t?"...":`${o.totalMinted}/${o.maxSupply}`})})]}),l.jsxs("button",{onClick:f,disabled:r||t||parseFloat(o.totalRevenue)===0||!o.canWithdraw,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(cx,{className:"w-5 h-5"}),r?"Withdrawing...":"Withdraw Rewards"]}),l.jsxs("div",{className:"text-xs text-zinc-500 space-y-1",children:[l.jsx("p",{className:"text-center",children:o.canWithdraw?" You are the contract owner and can withdraw rewards":" Only collection owner can withdraw rewards"}),l.jsxs("p",{className:"text-center",children:["Contract Owner: ",o.contractOwner?`${o.contractOwner.substring(0,6)}...${o.contractOwner.substring(38)}`:"Loading..."]}),l.jsx("p",{className:"text-center",children:l.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${e.address}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View Contract on Explorer"})})]})]})]}),l.jsxs("div",{className:"bg-zinc-800/50 rounded-xl p-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Export Data"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:g=>{g.preventDefault(),g.stopPropagation();try{const b={collection:e.name,address:e.address,stats:o,timestamp:new Date().toISOString()},y=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),w=URL.createObjectURL(y),v=document.createElement("a");v.href=w,v.download=`${e.name}_stats.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(w),u(" Statistics exported successfully")}catch(b){console.error("Export error:",b),u(" Failed to export statistics")}},className:"flex items-center justify-center gap-2 px-4 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors duration-200",children:[l.jsx(cx,{className:"w-4 h-4"}),"Export JSON"]}),l.jsxs("button",{onClick:()=>{window.open(`https://shannon-explorer.somnia.network/address/${e.address}`,"_blank")},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors duration-200",children:[l.jsx(Kd,{className:"w-4 h-4"}),"View Contract"]})]})]}),a.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105",children:[l.jsx("p",{className:"text-sm mb-1",children:a.message}),a.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${a.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[l.jsx(Kd,{size:16}),"View Transaction"]})]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-zinc-400",children:"No collection selected"})})};var y9={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var b9;function wxe(){return b9||(b9=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,s,a){function i(u,h){if(!s[u]){if(!r[u]){var f=typeof K0=="function"&&K0;if(!h&&f)return f(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var g=s[u]={exports:{}};r[u][0].call(g.exports,function(b){var y=r[u][1][b];return i(y||b)},g,g.exports,n,r,s,a)}return s[u].exports}for(var o=typeof K0=="function"&&K0,c=0;c<a.length;c++)i(a[c]);return i}({1:[function(n,r,s){var a=n("./utils"),i=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,h,f,p,g,b,y,w=[],v=0,N=c.length,A=N,C=a.getTypeOf(c)!=="string";v<c.length;)A=N-v,f=C?(u=c[v++],h=v<N?c[v++]:0,v<N?c[v++]:0):(u=c.charCodeAt(v++),h=v<N?c.charCodeAt(v++):0,v<N?c.charCodeAt(v++):0),p=u>>2,g=(3&u)<<4|h>>4,b=1<A?(15&h)<<2|f>>6:64,y=2<A?63&f:64,w.push(o.charAt(p)+o.charAt(g)+o.charAt(b)+o.charAt(y));return w.join("")},s.decode=function(c){var u,h,f,p,g,b,y=0,w=0,v="data:";if(c.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var N,A=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&A--,c.charAt(c.length-2)===o.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=i.uint8array?new Uint8Array(0|A):new Array(0|A);y<c.length;)u=o.indexOf(c.charAt(y++))<<2|(p=o.indexOf(c.charAt(y++)))>>4,h=(15&p)<<4|(g=o.indexOf(c.charAt(y++)))>>2,f=(3&g)<<6|(b=o.indexOf(c.charAt(y++))),N[w++]=u,g!==64&&(N[w++]=h),b!==64&&(N[w++]=f);return N}},{"./support":30,"./utils":32}],2:[function(n,r,s){var a=n("./external"),i=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(h,f,p,g,b){this.compressedSize=h,this.uncompressedSize=f,this.crc32=p,this.compression=g,this.compressedContent=b}u.prototype={getContentWorker:function(){var h=new i(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new i(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,f,p){return h.pipe(new o).pipe(new c("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var a=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var a=n("./utils"),i=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();r.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,h,f,p){var g=i,b=p+f;u^=-1;for(var y=p;y<b;y++)u=u>>>8^g[255&(u^h[y])];return-1^u}(0|c,o,o.length,0):function(u,h,f,p){var g=i,b=p+f;u^=-1;for(var y=p;y<b;y++)u=u>>>8^g[255&(u^h.charCodeAt(y))];return-1^u}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function h(f,p){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}s.magic="\b\0",o.inherits(h,c),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},s.compressWorker=function(f){return new h("Deflate",f)},s.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function a(g,b){var y,w="";for(y=0;y<b;y++)w+=String.fromCharCode(255&g),g>>>=8;return w}function i(g,b,y,w,v,N){var A,C,k=g.file,S=g.compression,T=N!==u.utf8encode,P=o.transformTo("string",N(k.name)),I=o.transformTo("string",u.utf8encode(k.name)),M=k.comment,W=o.transformTo("string",N(M)),z=o.transformTo("string",u.utf8encode(M)),B=I.length!==k.name.length,O=z.length!==M.length,F="",G="",K="",$=k.dir,Z=k.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ee.crc32=g.crc32,ee.compressedSize=g.compressedSize,ee.uncompressedSize=g.uncompressedSize);var L=0;b&&(L|=8),T||!B&&!O||(L|=2048);var V=0,Q=0;$&&(V|=16),v==="UNIX"?(Q=798,V|=function(ae,ue){var re=ae;return ae||(re=ue?16893:33204),(65535&re)<<16}(k.unixPermissions,$)):(Q=20,V|=function(ae){return 63&(ae||0)}(k.dosPermissions)),A=Z.getUTCHours(),A<<=6,A|=Z.getUTCMinutes(),A<<=5,A|=Z.getUTCSeconds()/2,C=Z.getUTCFullYear()-1980,C<<=4,C|=Z.getUTCMonth()+1,C<<=5,C|=Z.getUTCDate(),B&&(G=a(1,1)+a(h(P),4)+I,F+="up"+a(G.length,2)+G),O&&(K=a(1,1)+a(h(W),4)+z,F+="uc"+a(K.length,2)+K);var Y="";return Y+=`
\0`,Y+=a(L,2),Y+=S.magic,Y+=a(A,2),Y+=a(C,2),Y+=a(ee.crc32,4),Y+=a(ee.compressedSize,4),Y+=a(ee.uncompressedSize,4),Y+=a(P.length,2),Y+=a(F.length,2),{fileRecord:f.LOCAL_FILE_HEADER+Y+P+F,dirRecord:f.CENTRAL_FILE_HEADER+a(Q,2)+Y+a(W.length,2)+"\0\0\0\0"+a(V,4)+a(w,4)+P+F+W}}var o=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),h=n("../crc32"),f=n("../signature");function p(g,b,y,w){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=w,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,c),p.prototype.push=function(g){var b=g.meta.percent||0,y=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,c.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-w-1))/y:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var y=i(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,y=i(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(w){return f.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-g,w=function(v,N,A,C,k){var S=o.transformTo("string",k(C));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(v,2)+a(v,2)+a(N,4)+a(A,4)+a(S.length,2)+S}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(y){b.processChunk(y)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(y){b.error(y)}),this},p.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var b=this._sources;if(!c.prototype.error.call(this,g))return!1;for(var y=0;y<b.length;y++)try{b[y].error(g)}catch{}return!0},p.prototype.lock=function(){c.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var a=n("../compressions"),i=n("./ZipFileWorker");s.generateWorker=function(o,c,u){var h=new i(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{o.forEach(function(p,g){f++;var b=function(N,A){var C=N||A,k=a[C];if(!k)throw new Error(C+" is not a valid compression method !");return k}(g.options.compression,c.compression),y=g.options.compressionOptions||c.compressionOptions||{},w=g.dir,v=g.date;g._compressWorker(b,y).withStreamInfo("file",{name:p,dir:w,date:v,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new a;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(i,o){return new a().loadAsync(i,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var a=n("./utils"),i=n("./external"),o=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function f(p){return new i.Promise(function(g,b){var y=p.decompressed.getContentWorker().pipe(new u);y.on("error",function(w){b(w)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(p,g){var b=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(p)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(y){var w=new c(g);return w.load(y),w}).then(function(y){var w=[i.Promise.resolve(y)],v=y.files;if(g.checkCRC32)for(var N=0;N<v.length;N++)w.push(f(v[N]));return i.Promise.all(w)}).then(function(y){for(var w=y.shift(),v=w.files,N=0;N<v.length;N++){var A=v[N],C=A.fileNameStr,k=a.resolve(A.fileNameStr);b.file(k,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:g.createFolders}),A.dir||(b.file(k).unsafeOriginalName=C)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var a=n("../utils"),i=n("../stream/GenericWorker");function o(c,u){i.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,i),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var a=n("readable-stream").Readable;function i(o,c,u){a.call(this,c),this._helper=o;var h=this;o.on("data",function(f,p){h.push(f)||h._helper.pause(),u&&u(p)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}n("../utils").inherits(i,a),i.prototype._read=function(){this._helper.resume()},r.exports=i},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,i);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,i)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var i=new Buffer(a);return i.fill(0),i},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,s){function a(k,S,T){var P,I=o.getTypeOf(S),M=o.extend(T||{},h);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(k=v(k)),M.createFolders&&(P=w(k))&&N.call(this,P,!0);var W=I==="string"&&M.binary===!1&&M.base64===!1;T&&T.binary!==void 0||(M.binary=!W),(S instanceof f&&S.uncompressedSize===0||M.dir||!S||S.length===0)&&(M.base64=!1,M.binary=!0,S="",M.compression="STORE",I="string");var z=null;z=S instanceof f||S instanceof c?S:b.isNode&&b.isStream(S)?new y(k,S):o.prepareContent(k,S,M.binary,M.optimizedBinaryString,M.base64);var B=new p(k,z,M);this.files[k]=B}var i=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),h=n("./defaults"),f=n("./compressedObject"),p=n("./zipObject"),g=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),w=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var S=k.lastIndexOf("/");return 0<S?k.substring(0,S):""},v=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},N=function(k,S){return S=S!==void 0?S:h.createFolders,k=v(k),this.files[k]||a.call(this,k,null,{dir:!0,createFolders:S}),this.files[k]};function A(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var S,T,P;for(S in this.files)P=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&k(T,P)},filter:function(k){var S=[];return this.forEach(function(T,P){k(T,P)&&S.push(P)}),S},file:function(k,S,T){if(arguments.length!==1)return k=this.root+k,a.call(this,k,S,T),this;if(A(k)){var P=k;return this.filter(function(M,W){return!W.dir&&P.test(M)})}var I=this.files[this.root+k];return I&&!I.dir?I:null},folder:function(k){if(!k)return this;if(A(k))return this.filter(function(I,M){return M.dir&&k.test(I)});var S=this.root+k,T=N.call(this,S),P=this.clone();return P.root=T.name,P},remove:function(k){k=this.root+k;var S=this.files[k];if(S||(k.slice(-1)!=="/"&&(k+="/"),S=this.files[k]),S&&!S.dir)delete this.files[k];else for(var T=this.filter(function(I,M){return M.name.slice(0,k.length)===k}),P=0;P<T.length;P++)delete this.files[T[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var S,T={};try{if((T=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");o.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var P=T.comment||this.comment||"";S=g.generateWorker(this,T,P)}catch(I){(S=new c("error")).error(I)}return new u(S,T.type||"string",T.mimeType)},generateAsync:function(k,S){return this.generateInternalStream(k).accumulate(S)},generateNodeStream:function(k,S){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(S)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var a=n("./DataReader");function i(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===c&&this.data[p+1]===u&&this.data[p+2]===h&&this.data[p+3]===f)return p-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.readData(4);return c===p[0]&&u===p[1]&&h===p[2]&&f===p[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var a=n("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=i},{"../utils":32}],19:[function(n,r,s){var a=n("./Uint8ArrayReader");function i(o){a.call(this,o)}n("../utils").inherits(i,a),i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var a=n("./DataReader");function i(o){a.call(this,o)}n("../utils").inherits(i,a),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var a=n("./ArrayReader");function i(o){a.call(this,o)}n("../utils").inherits(i,a),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var a=n("../utils"),i=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(f){var p=a.getTypeOf(f);return a.checkSupport(p),p!=="string"||i.uint8array?p==="nodebuffer"?new u(f):i.uint8array?new h(a.transformTo("uint8array",f)):new o(a.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var a=n("./GenericWorker"),i=n("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}i.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:i.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var a=n("./GenericWorker"),i=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=i(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var a=n("../utils"),i=n("./GenericWorker");function o(c){i.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,i),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}i.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var a=n("../utils"),i=n("./GenericWorker");function o(c){i.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=a.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}a.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function a(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var c=0;c<this._listeners[i].length;c++)this._listeners[i][c].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(c){o.processChunk(c)}),i.on("end",function(){o.end()}),i.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},r.exports=a},{}],29:[function(n,r,s){var a=n("../utils"),i=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),u=n("../support"),h=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(b,y){return new h.Promise(function(w,v){var N=[],A=b._internalType,C=b._outputType,k=b._mimeType;b.on("data",function(S,T){N.push(S),y&&y(T)}).on("error",function(S){N=[],v(S)}).on("end",function(){try{var S=function(T,P,I){switch(T){case"blob":return a.newBlob(a.transformTo("arraybuffer",P),I);case"base64":return c.encode(P);default:return a.transformTo(T,P)}}(C,function(T,P){var I,M=0,W=null,z=0;for(I=0;I<P.length;I++)z+=P[I].length;switch(T){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(W=new Uint8Array(z),I=0;I<P.length;I++)W.set(P[I],M),M+=P[I].length;return W;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+T+"'")}}(A,N),k);w(S)}catch(T){v(T)}N=[]}).resume()})}function g(b,y,w){var v=y;switch(y){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=y,this._mimeType=w,a.checkSupport(v),this._worker=b.pipe(new i(v)),b.lock()}catch(N){this._worker=new o("error"),this._worker.error(N)}}g.prototype={accumulate:function(b){return p(this,b)},on:function(b,y){var w=this;return b==="data"?this._worker.on(b,function(v){y.call(w,v.data,v.meta)}):this._worker.on(b,function(){a.delay(y,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var a=new ArrayBuffer(0);try{s.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(a),s.blob=i.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var a=n("./utils"),i=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function p(){c.call(this,"utf-8 encode")}s.utf8encode=function(g){return i.nodebuffer?o.newBufferFrom(g,"utf-8"):function(b){var y,w,v,N,A,C=b.length,k=0;for(N=0;N<C;N++)(64512&(w=b.charCodeAt(N)))==55296&&N+1<C&&(64512&(v=b.charCodeAt(N+1)))==56320&&(w=65536+(w-55296<<10)+(v-56320),N++),k+=w<128?1:w<2048?2:w<65536?3:4;for(y=i.uint8array?new Uint8Array(k):new Array(k),N=A=0;A<k;N++)(64512&(w=b.charCodeAt(N)))==55296&&N+1<C&&(64512&(v=b.charCodeAt(N+1)))==56320&&(w=65536+(w-55296<<10)+(v-56320),N++),w<128?y[A++]=w:(w<2048?y[A++]=192|w>>>6:(w<65536?y[A++]=224|w>>>12:(y[A++]=240|w>>>18,y[A++]=128|w>>>12&63),y[A++]=128|w>>>6&63),y[A++]=128|63&w);return y}(g)},s.utf8decode=function(g){return i.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):function(b){var y,w,v,N,A=b.length,C=new Array(2*A);for(y=w=0;y<A;)if((v=b[y++])<128)C[w++]=v;else if(4<(N=u[v]))C[w++]=65533,y+=N-1;else{for(v&=N===2?31:N===3?15:7;1<N&&y<A;)v=v<<6|63&b[y++],N--;1<N?C[w++]=65533:v<65536?C[w++]=v:(v-=65536,C[w++]=55296|v>>10&1023,C[w++]=56320|1023&v)}return C.length!==w&&(C.subarray?C=C.subarray(0,w):C.length=w),a.applyFromCharCode(C)}(g=a.transformTo(i.uint8array?"uint8array":"array",g))},a.inherits(f,c),f.prototype.processChunk=function(g){var b=a.transformTo(i.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=function(N,A){var C;for((A=A||N.length)>N.length&&(A=N.length),C=A-1;0<=C&&(192&N[C])==128;)C--;return C<0||C===0?A:C+u[N[C]]>A?C:A}(b),v=b;w!==b.length&&(i.uint8array?(v=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(v=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:s.utf8decode(v),meta:g.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,a.inherits(p,c),p.prototype.processChunk=function(g){this.push({data:s.utf8encode(g.data),meta:g.meta})},s.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var a=n("./support"),i=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function u(y){return y}function h(y,w){for(var v=0;v<y.length;++v)w[v]=255&y.charCodeAt(v);return w}n("setimmediate"),s.newBlob=function(y,w){s.checkSupport("blob");try{return new Blob([y],{type:w})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(y),v.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,w,v){var N=[],A=0,C=y.length;if(C<=v)return String.fromCharCode.apply(null,y);for(;A<C;)w==="array"||w==="nodebuffer"?N.push(String.fromCharCode.apply(null,y.slice(A,Math.min(A+v,C)))):N.push(String.fromCharCode.apply(null,y.subarray(A,Math.min(A+v,C)))),A+=v;return N.join("")},stringifyByChar:function(y){for(var w="",v=0;v<y.length;v++)w+=String.fromCharCode(y[v]);return w},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var w=65536,v=s.getTypeOf(y),N=!0;if(v==="uint8array"?N=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(N=f.applyCanBeUsed.nodebuffer),N)for(;1<w;)try{return f.stringifyByChunk(y,v,w)}catch{w=Math.floor(w/2)}return f.stringifyByChar(y)}function g(y,w){for(var v=0;v<y.length;v++)w[v]=y[v];return w}s.applyFromCharCode=p;var b={};b.string={string:u,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,o.allocBuffer(y.length))}},b.array={string:p,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},b.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return o.newBufferFrom(y)}},b.nodebuffer={string:p,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:u},s.transformTo=function(y,w){if(w=w||"",!y)return w;s.checkSupport(y);var v=s.getTypeOf(w);return b[v][y](w)},s.resolve=function(y){for(var w=y.split("/"),v=[],N=0;N<w.length;N++){var A=w[N];A==="."||A===""&&N!==0&&N!==w.length-1||(A===".."?v.pop():v.push(A))}return v.join("/")},s.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(y){var w,v,N="";for(v=0;v<(y||"").length;v++)N+="\\x"+((w=y.charCodeAt(v))<16?"0":"")+w.toString(16).toUpperCase();return N},s.delay=function(y,w,v){setImmediate(function(){y.apply(v||null,w||[])})},s.inherits=function(y,w){function v(){}v.prototype=w.prototype,y.prototype=new v},s.extend=function(){var y,w,v={};for(y=0;y<arguments.length;y++)for(w in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],w)&&v[w]===void 0&&(v[w]=arguments[y][w]);return v},s.prepareContent=function(y,w,v,N,A){return c.Promise.resolve(w).then(function(C){return a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new c.Promise(function(k,S){var T=new FileReader;T.onload=function(P){k(P.target.result)},T.onerror=function(P){S(P.target.error)},T.readAsArrayBuffer(C)}):C}).then(function(C){var k=s.getTypeOf(C);return k?(k==="arraybuffer"?C=s.transformTo("uint8array",C):k==="string"&&(A?C=i.decode(C):v&&N!==!0&&(C=function(S){return h(S,a.uint8array?new Uint8Array(S.length):new Array(S.length))}(C))),C):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var a=n("./reader/readerFor"),i=n("./utils"),o=n("./signature"),c=n("./zipEntry"),u=n("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(p)+", expected "+i.pretty(f)+")")}},isSignature:function(f,p){var g=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===p;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",g=i.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,g,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=p-g;if(0<b)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var a=n("./reader/readerFor"),i=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),h=n("./compressions"),f=n("./support");function p(g,b){this.options=g,this.loadOptions=b}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(w){for(var v in h)if(Object.prototype.hasOwnProperty.call(h,v)&&h[v].magic===w)return h[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,y,w,v=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<v;)b=g.readInt(2),y=g.readInt(2),w=g.readData(y),this.extraFields[b]={id:b,length:y,value:w};g.setIndex(v)},handleUTF8:function(){var g=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=i.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var v=i.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=a(g.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=a(g.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(g.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function a(b,y,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=y,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var i=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),h=n("./stream/GenericWorker");a.prototype={internalStream:function(b){var y=null,w="string";try{if(!b)throw new Error("No output type specified.");var v=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),y=this._decompressWorker();var N=!this._dataBinary;N&&!v&&(y=y.pipe(new c.Utf8EncodeWorker)),!N&&v&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(A){(y=new h("error")).error(A)}return new i(y,w,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(w,b,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<f.length;g++)a.prototype[f[g]]=p;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(a){var i,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,h=new c(b),f=a.document.createTextNode("");h.observe(f,{characterData:!0}),i=function(){f.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)i="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var p=new a.MessageChannel;p.port1.onmessage=b,i=function(){p.port2.postMessage(0)}}var g=[];function b(){var y,w;o=!0;for(var v=g.length;v;){for(w=g,g=[],y=-1;++y<v;)w[y]();v=g.length}o=!1}r.exports=function(y){g.push(y)!==1||o||i()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var a=n("immediate");function i(){}var o={},c=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,v!==i&&y(this,v)}function p(v,N,A){this.promise=v,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function g(v,N,A){a(function(){var C;try{C=N(A)}catch(k){return o.reject(v,k)}C===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,C)})}function b(v){var N=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof N=="function")return function(){N.apply(v,arguments)}}function y(v,N){var A=!1;function C(T){A||(A=!0,o.reject(v,T))}function k(T){A||(A=!0,o.resolve(v,T))}var S=w(function(){N(k,C)});S.status==="error"&&C(S.value)}function w(v,N){var A={};try{A.value=v(N),A.status="success"}catch(C){A.status="error",A.value=C}return A}(r.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var N=this.constructor;return this.then(function(A){return N.resolve(v()).then(function(){return A})},function(A){return N.resolve(v()).then(function(){throw A})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,N){if(typeof v!="function"&&this.state===u||typeof N!="function"&&this.state===c)return this;var A=new this.constructor(i);return this.state!==h?g(A,this.state===u?v:N,this.outcome):this.queue.push(new p(A,v,N)),A},p.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},p.prototype.otherCallFulfilled=function(v){g(this.promise,this.onFulfilled,v)},p.prototype.callRejected=function(v){o.reject(this.promise,v)},p.prototype.otherCallRejected=function(v){g(this.promise,this.onRejected,v)},o.resolve=function(v,N){var A=w(b,N);if(A.status==="error")return o.reject(v,A.value);var C=A.value;if(C)y(v,C);else{v.state=u,v.outcome=N;for(var k=-1,S=v.queue.length;++k<S;)v.queue[k].callFulfilled(N)}return v},o.reject=function(v,N){v.state=c,v.outcome=N;for(var A=-1,C=v.queue.length;++A<C;)v.queue[A].callRejected(N);return v},f.resolve=function(v){return v instanceof this?v:o.resolve(new this(i),v)},f.reject=function(v){var N=new this(i);return o.reject(N,v)},f.all=function(v){var N=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=v.length,C=!1;if(!A)return this.resolve([]);for(var k=new Array(A),S=0,T=-1,P=new this(i);++T<A;)I(v[T],T);return P;function I(M,W){N.resolve(M).then(function(z){k[W]=z,++S!==A||C||(C=!0,o.resolve(P,k))},function(z){C||(C=!0,o.reject(P,z))})}},f.race=function(v){var N=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=v.length,C=!1;if(!A)return this.resolve([]);for(var k=-1,S=new this(i);++k<A;)T=v[k],N.resolve(T).then(function(P){C||(C=!0,o.resolve(S,P))},function(P){C||(C=!0,o.reject(S,P))});var T;return S}},{immediate:36}],38:[function(n,r,s){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var a=n("./zlib/deflate"),i=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),h=Object.prototype.toString,f=0,p=-1,g=0,b=8;function y(v){if(!(this instanceof y))return new y(v);this.options=i.assign({level:p,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},v||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var A=a.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(A!==f)throw new Error(c[A]);if(N.header&&a.deflateSetHeader(this.strm,N.header),N.dictionary){var C;if(C=typeof N.dictionary=="string"?o.string2buf(N.dictionary):h.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(A=a.deflateSetDictionary(this.strm,C))!==f)throw new Error(c[A]);this._dict_set=!0}}function w(v,N){var A=new y(N);if(A.push(v,!0),A.err)throw A.msg||c[A.err];return A.result}y.prototype.push=function(v,N){var A,C,k=this.strm,S=this.options.chunkSize;if(this.ended)return!1;C=N===~~N?N:N===!0?4:0,typeof v=="string"?k.input=o.string2buf(v):h.call(v)==="[object ArrayBuffer]"?k.input=new Uint8Array(v):k.input=v,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new i.Buf8(S),k.next_out=0,k.avail_out=S),(A=a.deflate(k,C))!==1&&A!==f)return this.onEnd(A),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(k.output,k.next_out))):this.onData(i.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&A!==1);return C===4?(A=a.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===f):C!==2||(this.onEnd(f),!(k.avail_out=0))},y.prototype.onData=function(v){this.chunks.push(v)},y.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},s.Deflate=y,s.deflate=w,s.deflateRaw=function(v,N){return(N=N||{}).raw=!0,w(v,N)},s.gzip=function(v,N){return(N=N||{}).gzip=!0,w(v,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var a=n("./zlib/inflate"),i=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),h=n("./zlib/zstream"),f=n("./zlib/gzheader"),p=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},y||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||y&&y.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var v=a.inflateInit2(this.strm,w.windowBits);if(v!==c.Z_OK)throw new Error(u[v]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function b(y,w){var v=new g(w);if(v.push(y,!0),v.err)throw v.msg||u[v.err];return v.result}g.prototype.push=function(y,w){var v,N,A,C,k,S,T=this.strm,P=this.options.chunkSize,I=this.options.dictionary,M=!1;if(this.ended)return!1;N=w===~~w?w:w===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?T.input=o.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?T.input=new Uint8Array(y):T.input=y,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new i.Buf8(P),T.next_out=0,T.avail_out=P),(v=a.inflate(T,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(S=typeof I=="string"?o.string2buf(I):p.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,v=a.inflateSetDictionary(this.strm,S)),v===c.Z_BUF_ERROR&&M===!0&&(v=c.Z_OK,M=!1),v!==c.Z_STREAM_END&&v!==c.Z_OK)return this.onEnd(v),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&v!==c.Z_STREAM_END&&(T.avail_in!==0||N!==c.Z_FINISH&&N!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=o.utf8border(T.output,T.next_out),C=T.next_out-A,k=o.buf2string(T.output,A),T.next_out=C,T.avail_out=P-C,C&&i.arraySet(T.output,T.output,A,C,0),this.onData(k)):this.onData(i.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(M=!0)}while((0<T.avail_in||T.avail_out===0)&&v!==c.Z_STREAM_END);return v===c.Z_STREAM_END&&(N=c.Z_FINISH),N===c.Z_FINISH?(v=a.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c.Z_OK):N!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(T.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Inflate=g,s.inflate=b,s.inflateRaw=function(y,w){return(w=w||{}).raw=!0,b(y,w)},s.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var i={arraySet:function(c,u,h,f,p){if(u.subarray&&c.subarray)c.set(u.subarray(h,h+f),p);else for(var g=0;g<f;g++)c[p+g]=u[h+g]},flattenChunks:function(c){var u,h,f,p,g,b;for(u=f=0,h=c.length;u<h;u++)f+=c[u].length;for(b=new Uint8Array(f),u=p=0,h=c.length;u<h;u++)g=c[u],b.set(g,p),p+=g.length;return b}},o={arraySet:function(c,u,h,f,p){for(var g=0;g<f;g++)c[p+g]=u[h+g]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,i)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(a)},{}],42:[function(n,r,s){var a=n("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(f,p){if(p<65537&&(f.subarray&&o||!f.subarray&&i))return String.fromCharCode.apply(null,a.shrinkBuf(f,p));for(var g="",b=0;b<p;b++)g+=String.fromCharCode(f[b]);return g}c[254]=c[254]=1,s.string2buf=function(f){var p,g,b,y,w,v=f.length,N=0;for(y=0;y<v;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<v&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),N+=g<128?1:g<2048?2:g<65536?3:4;for(p=new a.Buf8(N),y=w=0;w<N;y++)(64512&(g=f.charCodeAt(y)))==55296&&y+1<v&&(64512&(b=f.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),y++),g<128?p[w++]=g:(g<2048?p[w++]=192|g>>>6:(g<65536?p[w++]=224|g>>>12:(p[w++]=240|g>>>18,p[w++]=128|g>>>12&63),p[w++]=128|g>>>6&63),p[w++]=128|63&g);return p},s.buf2binstring=function(f){return h(f,f.length)},s.binstring2buf=function(f){for(var p=new a.Buf8(f.length),g=0,b=p.length;g<b;g++)p[g]=f.charCodeAt(g);return p},s.buf2string=function(f,p){var g,b,y,w,v=p||f.length,N=new Array(2*v);for(g=b=0;g<v;)if((y=f[g++])<128)N[b++]=y;else if(4<(w=c[y]))N[b++]=65533,g+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&g<v;)y=y<<6|63&f[g++],w--;1<w?N[b++]=65533:y<65536?N[b++]=y:(y-=65536,N[b++]=55296|y>>10&1023,N[b++]=56320|1023&y)}return h(N,b)},s.utf8border=function(f,p){var g;for((p=p||f.length)>f.length&&(p=f.length),g=p-1;0<=g&&(192&f[g])==128;)g--;return g<0||g===0?p:g+c[f[g]]>p?g:p}},{"./common":41}],43:[function(n,r,s){r.exports=function(a,i,o,c){for(var u=65535&a|0,h=a>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;h=h+(u=u+i[c++]|0)|0,--f;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var a=function(){for(var i,o=[],c=0;c<256;c++){i=c;for(var u=0;u<8;u++)i=1&i?3988292384^i>>>1:i>>>1;o[c]=i}return o}();r.exports=function(i,o,c,u){var h=a,f=u+c;i^=-1;for(var p=u;p<f;p++)i=i>>>8^h[255&(i^o[p])];return-1^i}},{}],46:[function(n,r,s){var a,i=n("../utils/common"),o=n("./trees"),c=n("./adler32"),u=n("./crc32"),h=n("./messages"),f=0,p=4,g=0,b=-2,y=-1,w=4,v=2,N=8,A=9,C=286,k=30,S=19,T=2*C+1,P=15,I=3,M=258,W=M+I+1,z=42,B=113,O=1,F=2,G=3,K=4;function $(H,ye){return H.msg=h[ye],ye}function Z(H){return(H<<1)-(4<H?9:0)}function ee(H){for(var ye=H.length;0<=--ye;)H[ye]=0}function L(H){var ye=H.state,ce=ye.pending;ce>H.avail_out&&(ce=H.avail_out),ce!==0&&(i.arraySet(H.output,ye.pending_buf,ye.pending_out,ce,H.next_out),H.next_out+=ce,ye.pending_out+=ce,H.total_out+=ce,H.avail_out-=ce,ye.pending-=ce,ye.pending===0&&(ye.pending_out=0))}function V(H,ye){o._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,ye),H.block_start=H.strstart,L(H.strm)}function Q(H,ye){H.pending_buf[H.pending++]=ye}function Y(H,ye){H.pending_buf[H.pending++]=ye>>>8&255,H.pending_buf[H.pending++]=255&ye}function ae(H,ye){var ce,ne,se=H.max_chain_length,fe=H.strstart,Ie=H.prev_length,je=H.nice_match,be=H.strstart>H.w_size-W?H.strstart-(H.w_size-W):0,Be=H.window,Me=H.w_mask,ze=H.prev,we=H.strstart+M,_=Be[fe+Ie-1],D=Be[fe+Ie];H.prev_length>=H.good_match&&(se>>=2),je>H.lookahead&&(je=H.lookahead);do if(Be[(ce=ye)+Ie]===D&&Be[ce+Ie-1]===_&&Be[ce]===Be[fe]&&Be[++ce]===Be[fe+1]){fe+=2,ce++;do;while(Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&Be[++fe]===Be[++ce]&&fe<we);if(ne=M-(we-fe),fe=we-M,Ie<ne){if(H.match_start=ye,je<=(Ie=ne))break;_=Be[fe+Ie-1],D=Be[fe+Ie]}}while((ye=ze[ye&Me])>be&&--se!=0);return Ie<=H.lookahead?Ie:H.lookahead}function ue(H){var ye,ce,ne,se,fe,Ie,je,be,Be,Me,ze=H.w_size;do{if(se=H.window_size-H.lookahead-H.strstart,H.strstart>=ze+(ze-W)){for(i.arraySet(H.window,H.window,ze,ze,0),H.match_start-=ze,H.strstart-=ze,H.block_start-=ze,ye=ce=H.hash_size;ne=H.head[--ye],H.head[ye]=ze<=ne?ne-ze:0,--ce;);for(ye=ce=ze;ne=H.prev[--ye],H.prev[ye]=ze<=ne?ne-ze:0,--ce;);se+=ze}if(H.strm.avail_in===0)break;if(Ie=H.strm,je=H.window,be=H.strstart+H.lookahead,Be=se,Me=void 0,Me=Ie.avail_in,Be<Me&&(Me=Be),ce=Me===0?0:(Ie.avail_in-=Me,i.arraySet(je,Ie.input,Ie.next_in,Me,be),Ie.state.wrap===1?Ie.adler=c(Ie.adler,je,Me,be):Ie.state.wrap===2&&(Ie.adler=u(Ie.adler,je,Me,be)),Ie.next_in+=Me,Ie.total_in+=Me,Me),H.lookahead+=ce,H.lookahead+H.insert>=I)for(fe=H.strstart-H.insert,H.ins_h=H.window[fe],H.ins_h=(H.ins_h<<H.hash_shift^H.window[fe+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[fe+I-1])&H.hash_mask,H.prev[fe&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=fe,fe++,H.insert--,!(H.lookahead+H.insert<I)););}while(H.lookahead<W&&H.strm.avail_in!==0)}function re(H,ye){for(var ce,ne;;){if(H.lookahead<W){if(ue(H),H.lookahead<W&&ye===f)return O;if(H.lookahead===0)break}if(ce=0,H.lookahead>=I&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+I-1])&H.hash_mask,ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),ce!==0&&H.strstart-ce<=H.w_size-W&&(H.match_length=ae(H,ce)),H.match_length>=I)if(ne=o._tr_tally(H,H.strstart-H.match_start,H.match_length-I),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=I){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+I-1])&H.hash_mask,ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else ne=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(ne&&(V(H,!1),H.strm.avail_out===0))return O}return H.insert=H.strstart<I-1?H.strstart:I-1,ye===p?(V(H,!0),H.strm.avail_out===0?G:K):H.last_lit&&(V(H,!1),H.strm.avail_out===0)?O:F}function ie(H,ye){for(var ce,ne,se;;){if(H.lookahead<W){if(ue(H),H.lookahead<W&&ye===f)return O;if(H.lookahead===0)break}if(ce=0,H.lookahead>=I&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+I-1])&H.hash_mask,ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=I-1,ce!==0&&H.prev_length<H.max_lazy_match&&H.strstart-ce<=H.w_size-W&&(H.match_length=ae(H,ce),H.match_length<=5&&(H.strategy===1||H.match_length===I&&4096<H.strstart-H.match_start)&&(H.match_length=I-1)),H.prev_length>=I&&H.match_length<=H.prev_length){for(se=H.strstart+H.lookahead-I,ne=o._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-I),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=se&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+I-1])&H.hash_mask,ce=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=I-1,H.strstart++,ne&&(V(H,!1),H.strm.avail_out===0))return O}else if(H.match_available){if((ne=o._tr_tally(H,0,H.window[H.strstart-1]))&&V(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return O}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(ne=o._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<I-1?H.strstart:I-1,ye===p?(V(H,!0),H.strm.avail_out===0?G:K):H.last_lit&&(V(H,!1),H.strm.avail_out===0)?O:F}function pe(H,ye,ce,ne,se){this.good_length=H,this.max_lazy=ye,this.nice_length=ce,this.max_chain=ne,this.func=se}function oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*T),this.dyn_dtree=new i.Buf16(2*(2*k+1)),this.bl_tree=new i.Buf16(2*(2*S+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(P+1),this.heap=new i.Buf16(2*C+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*C+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function he(H){var ye;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=v,(ye=H.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?z:B,H.adler=ye.wrap===2?0:1,ye.last_flush=f,o._tr_init(ye),g):$(H,b)}function Ne(H){var ye=he(H);return ye===g&&function(ce){ce.window_size=2*ce.w_size,ee(ce.head),ce.max_lazy_match=a[ce.level].max_lazy,ce.good_match=a[ce.level].good_length,ce.nice_match=a[ce.level].nice_length,ce.max_chain_length=a[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=I-1,ce.match_available=0,ce.ins_h=0}(H.state),ye}function Re(H,ye,ce,ne,se,fe){if(!H)return b;var Ie=1;if(ye===y&&(ye=6),ne<0?(Ie=0,ne=-ne):15<ne&&(Ie=2,ne-=16),se<1||A<se||ce!==N||ne<8||15<ne||ye<0||9<ye||fe<0||w<fe)return $(H,b);ne===8&&(ne=9);var je=new oe;return(H.state=je).strm=H,je.wrap=Ie,je.gzhead=null,je.w_bits=ne,je.w_size=1<<je.w_bits,je.w_mask=je.w_size-1,je.hash_bits=se+7,je.hash_size=1<<je.hash_bits,je.hash_mask=je.hash_size-1,je.hash_shift=~~((je.hash_bits+I-1)/I),je.window=new i.Buf8(2*je.w_size),je.head=new i.Buf16(je.hash_size),je.prev=new i.Buf16(je.w_size),je.lit_bufsize=1<<se+6,je.pending_buf_size=4*je.lit_bufsize,je.pending_buf=new i.Buf8(je.pending_buf_size),je.d_buf=1*je.lit_bufsize,je.l_buf=3*je.lit_bufsize,je.level=ye,je.strategy=fe,je.method=ce,Ne(H)}a=[new pe(0,0,0,0,function(H,ye){var ce=65535;for(ce>H.pending_buf_size-5&&(ce=H.pending_buf_size-5);;){if(H.lookahead<=1){if(ue(H),H.lookahead===0&&ye===f)return O;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var ne=H.block_start+ce;if((H.strstart===0||H.strstart>=ne)&&(H.lookahead=H.strstart-ne,H.strstart=ne,V(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-W&&(V(H,!1),H.strm.avail_out===0))return O}return H.insert=0,ye===p?(V(H,!0),H.strm.avail_out===0?G:K):(H.strstart>H.block_start&&(V(H,!1),H.strm.avail_out),O)}),new pe(4,4,8,4,re),new pe(4,5,16,8,re),new pe(4,6,32,32,re),new pe(4,4,16,16,ie),new pe(8,16,32,32,ie),new pe(8,16,128,128,ie),new pe(8,32,128,256,ie),new pe(32,128,258,1024,ie),new pe(32,258,258,4096,ie)],s.deflateInit=function(H,ye){return Re(H,ye,N,15,8,0)},s.deflateInit2=Re,s.deflateReset=Ne,s.deflateResetKeep=he,s.deflateSetHeader=function(H,ye){return H&&H.state?H.state.wrap!==2?b:(H.state.gzhead=ye,g):b},s.deflate=function(H,ye){var ce,ne,se,fe;if(!H||!H.state||5<ye||ye<0)return H?$(H,b):b;if(ne=H.state,!H.output||!H.input&&H.avail_in!==0||ne.status===666&&ye!==p)return $(H,H.avail_out===0?-5:b);if(ne.strm=H,ce=ne.last_flush,ne.last_flush=ye,ne.status===z)if(ne.wrap===2)H.adler=0,Q(ne,31),Q(ne,139),Q(ne,8),ne.gzhead?(Q(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),Q(ne,255&ne.gzhead.time),Q(ne,ne.gzhead.time>>8&255),Q(ne,ne.gzhead.time>>16&255),Q(ne,ne.gzhead.time>>24&255),Q(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),Q(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(Q(ne,255&ne.gzhead.extra.length),Q(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(H.adler=u(H.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(Q(ne,0),Q(ne,0),Q(ne,0),Q(ne,0),Q(ne,0),Q(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),Q(ne,3),ne.status=B);else{var Ie=N+(ne.w_bits-8<<4)<<8;Ie|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(Ie|=32),Ie+=31-Ie%31,ne.status=B,Y(ne,Ie),ne.strstart!==0&&(Y(ne,H.adler>>>16),Y(ne,65535&H.adler)),H.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(se=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>se&&(H.adler=u(H.adler,ne.pending_buf,ne.pending-se,se)),L(H),se=ne.pending,ne.pending!==ne.pending_buf_size));)Q(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>se&&(H.adler=u(H.adler,ne.pending_buf,ne.pending-se,se)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){se=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>se&&(H.adler=u(H.adler,ne.pending_buf,ne.pending-se,se)),L(H),se=ne.pending,ne.pending===ne.pending_buf_size)){fe=1;break}fe=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,Q(ne,fe)}while(fe!==0);ne.gzhead.hcrc&&ne.pending>se&&(H.adler=u(H.adler,ne.pending_buf,ne.pending-se,se)),fe===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){se=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>se&&(H.adler=u(H.adler,ne.pending_buf,ne.pending-se,se)),L(H),se=ne.pending,ne.pending===ne.pending_buf_size)){fe=1;break}fe=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,Q(ne,fe)}while(fe!==0);ne.gzhead.hcrc&&ne.pending>se&&(H.adler=u(H.adler,ne.pending_buf,ne.pending-se,se)),fe===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&L(H),ne.pending+2<=ne.pending_buf_size&&(Q(ne,255&H.adler),Q(ne,H.adler>>8&255),H.adler=0,ne.status=B)):ne.status=B),ne.pending!==0){if(L(H),H.avail_out===0)return ne.last_flush=-1,g}else if(H.avail_in===0&&Z(ye)<=Z(ce)&&ye!==p)return $(H,-5);if(ne.status===666&&H.avail_in!==0)return $(H,-5);if(H.avail_in!==0||ne.lookahead!==0||ye!==f&&ne.status!==666){var je=ne.strategy===2?function(be,Be){for(var Me;;){if(be.lookahead===0&&(ue(be),be.lookahead===0)){if(Be===f)return O;break}if(be.match_length=0,Me=o._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++,Me&&(V(be,!1),be.strm.avail_out===0))return O}return be.insert=0,Be===p?(V(be,!0),be.strm.avail_out===0?G:K):be.last_lit&&(V(be,!1),be.strm.avail_out===0)?O:F}(ne,ye):ne.strategy===3?function(be,Be){for(var Me,ze,we,_,D=be.window;;){if(be.lookahead<=M){if(ue(be),be.lookahead<=M&&Be===f)return O;if(be.lookahead===0)break}if(be.match_length=0,be.lookahead>=I&&0<be.strstart&&(ze=D[we=be.strstart-1])===D[++we]&&ze===D[++we]&&ze===D[++we]){_=be.strstart+M;do;while(ze===D[++we]&&ze===D[++we]&&ze===D[++we]&&ze===D[++we]&&ze===D[++we]&&ze===D[++we]&&ze===D[++we]&&ze===D[++we]&&we<_);be.match_length=M-(_-we),be.match_length>be.lookahead&&(be.match_length=be.lookahead)}if(be.match_length>=I?(Me=o._tr_tally(be,1,be.match_length-I),be.lookahead-=be.match_length,be.strstart+=be.match_length,be.match_length=0):(Me=o._tr_tally(be,0,be.window[be.strstart]),be.lookahead--,be.strstart++),Me&&(V(be,!1),be.strm.avail_out===0))return O}return be.insert=0,Be===p?(V(be,!0),be.strm.avail_out===0?G:K):be.last_lit&&(V(be,!1),be.strm.avail_out===0)?O:F}(ne,ye):a[ne.level].func(ne,ye);if(je!==G&&je!==K||(ne.status=666),je===O||je===G)return H.avail_out===0&&(ne.last_flush=-1),g;if(je===F&&(ye===1?o._tr_align(ne):ye!==5&&(o._tr_stored_block(ne,0,0,!1),ye===3&&(ee(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),L(H),H.avail_out===0))return ne.last_flush=-1,g}return ye!==p?g:ne.wrap<=0?1:(ne.wrap===2?(Q(ne,255&H.adler),Q(ne,H.adler>>8&255),Q(ne,H.adler>>16&255),Q(ne,H.adler>>24&255),Q(ne,255&H.total_in),Q(ne,H.total_in>>8&255),Q(ne,H.total_in>>16&255),Q(ne,H.total_in>>24&255)):(Y(ne,H.adler>>>16),Y(ne,65535&H.adler)),L(H),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?g:1)},s.deflateEnd=function(H){var ye;return H&&H.state?(ye=H.state.status)!==z&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==B&&ye!==666?$(H,b):(H.state=null,ye===B?$(H,-3):g):b},s.deflateSetDictionary=function(H,ye){var ce,ne,se,fe,Ie,je,be,Be,Me=ye.length;if(!H||!H.state||(fe=(ce=H.state).wrap)===2||fe===1&&ce.status!==z||ce.lookahead)return b;for(fe===1&&(H.adler=c(H.adler,ye,Me,0)),ce.wrap=0,Me>=ce.w_size&&(fe===0&&(ee(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Be=new i.Buf8(ce.w_size),i.arraySet(Be,ye,Me-ce.w_size,ce.w_size,0),ye=Be,Me=ce.w_size),Ie=H.avail_in,je=H.next_in,be=H.input,H.avail_in=Me,H.next_in=0,H.input=ye,ue(ce);ce.lookahead>=I;){for(ne=ce.strstart,se=ce.lookahead-(I-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[ne+I-1])&ce.hash_mask,ce.prev[ne&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=ne,ne++,--se;);ce.strstart=ne,ce.lookahead=I-1,ue(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=I-1,ce.match_available=0,H.next_in=je,H.input=be,H.avail_in=Ie,ce.wrap=fe,g},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(a,i){var o,c,u,h,f,p,g,b,y,w,v,N,A,C,k,S,T,P,I,M,W,z,B,O,F;o=a.state,c=a.next_in,O=a.input,u=c+(a.avail_in-5),h=a.next_out,F=a.output,f=h-(i-a.avail_out),p=h+(a.avail_out-257),g=o.dmax,b=o.wsize,y=o.whave,w=o.wnext,v=o.window,N=o.hold,A=o.bits,C=o.lencode,k=o.distcode,S=(1<<o.lenbits)-1,T=(1<<o.distbits)-1;e:do{A<15&&(N+=O[c++]<<A,A+=8,N+=O[c++]<<A,A+=8),P=C[N&S];t:for(;;){if(N>>>=I=P>>>24,A-=I,(I=P>>>16&255)===0)F[h++]=65535&P;else{if(!(16&I)){if((64&I)==0){P=C[(65535&P)+(N&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}M=65535&P,(I&=15)&&(A<I&&(N+=O[c++]<<A,A+=8),M+=N&(1<<I)-1,N>>>=I,A-=I),A<15&&(N+=O[c++]<<A,A+=8,N+=O[c++]<<A,A+=8),P=k[N&T];n:for(;;){if(N>>>=I=P>>>24,A-=I,!(16&(I=P>>>16&255))){if((64&I)==0){P=k[(65535&P)+(N&(1<<I)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(W=65535&P,A<(I&=15)&&(N+=O[c++]<<A,(A+=8)<I&&(N+=O[c++]<<A,A+=8)),g<(W+=N&(1<<I)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(N>>>=I,A-=I,(I=h-f)<W){if(y<(I=W-I)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(B=v,(z=0)===w){if(z+=b-I,I<M){for(M-=I;F[h++]=v[z++],--I;);z=h-W,B=F}}else if(w<I){if(z+=b+w-I,(I-=w)<M){for(M-=I;F[h++]=v[z++],--I;);if(z=0,w<M){for(M-=I=w;F[h++]=v[z++],--I;);z=h-W,B=F}}}else if(z+=w-I,I<M){for(M-=I;F[h++]=v[z++],--I;);z=h-W,B=F}for(;2<M;)F[h++]=B[z++],F[h++]=B[z++],F[h++]=B[z++],M-=3;M&&(F[h++]=B[z++],1<M&&(F[h++]=B[z++]))}else{for(z=h-W;F[h++]=F[z++],F[h++]=F[z++],F[h++]=F[z++],2<(M-=3););M&&(F[h++]=F[z++],1<M&&(F[h++]=F[z++]))}break}}break}}while(c<u&&h<p);c-=M=A>>3,N&=(1<<(A-=M<<3))-1,a.next_in=c,a.next_out=h,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=h<p?p-h+257:257-(h-p),o.hold=N,o.bits=A}},{}],49:[function(n,r,s){var a=n("../utils/common"),i=n("./adler32"),o=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),h=1,f=2,p=0,g=-2,b=1,y=852,w=592;function v(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(z){var B;return z&&z.state?(B=z.state,z.total_in=z.total_out=B.total=0,z.msg="",B.wrap&&(z.adler=1&B.wrap),B.mode=b,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new a.Buf32(y),B.distcode=B.distdyn=new a.Buf32(w),B.sane=1,B.back=-1,p):g}function C(z){var B;return z&&z.state?((B=z.state).wsize=0,B.whave=0,B.wnext=0,A(z)):g}function k(z,B){var O,F;return z&&z.state?(F=z.state,B<0?(O=0,B=-B):(O=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?g:(F.window!==null&&F.wbits!==B&&(F.window=null),F.wrap=O,F.wbits=B,C(z))):g}function S(z,B){var O,F;return z?(F=new N,(z.state=F).window=null,(O=k(z,B))!==p&&(z.state=null),O):g}var T,P,I=!0;function M(z){if(I){var B;for(T=new a.Buf32(512),P=new a.Buf32(32),B=0;B<144;)z.lens[B++]=8;for(;B<256;)z.lens[B++]=9;for(;B<280;)z.lens[B++]=7;for(;B<288;)z.lens[B++]=8;for(u(h,z.lens,0,288,T,0,z.work,{bits:9}),B=0;B<32;)z.lens[B++]=5;u(f,z.lens,0,32,P,0,z.work,{bits:5}),I=!1}z.lencode=T,z.lenbits=9,z.distcode=P,z.distbits=5}function W(z,B,O,F){var G,K=z.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new a.Buf8(K.wsize)),F>=K.wsize?(a.arraySet(K.window,B,O-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(F<(G=K.wsize-K.wnext)&&(G=F),a.arraySet(K.window,B,O-F,G,K.wnext),(F-=G)?(a.arraySet(K.window,B,O-F,F,0),K.wnext=F,K.whave=K.wsize):(K.wnext+=G,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=G))),0}s.inflateReset=C,s.inflateReset2=k,s.inflateResetKeep=A,s.inflateInit=function(z){return S(z,15)},s.inflateInit2=S,s.inflate=function(z,B){var O,F,G,K,$,Z,ee,L,V,Q,Y,ae,ue,re,ie,pe,oe,he,Ne,Re,H,ye,ce,ne,se=0,fe=new a.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return g;(O=z.state).mode===12&&(O.mode=13),$=z.next_out,G=z.output,ee=z.avail_out,K=z.next_in,F=z.input,Z=z.avail_in,L=O.hold,V=O.bits,Q=Z,Y=ee,ye=p;e:for(;;)switch(O.mode){case b:if(O.wrap===0){O.mode=13;break}for(;V<16;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(2&O.wrap&&L===35615){fe[O.check=0]=255&L,fe[1]=L>>>8&255,O.check=o(O.check,fe,2,0),V=L=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&L)<<8)+(L>>8))%31){z.msg="incorrect header check",O.mode=30;break}if((15&L)!=8){z.msg="unknown compression method",O.mode=30;break}if(V-=4,H=8+(15&(L>>>=4)),O.wbits===0)O.wbits=H;else if(H>O.wbits){z.msg="invalid window size",O.mode=30;break}O.dmax=1<<H,z.adler=O.check=1,O.mode=512&L?10:12,V=L=0;break;case 2:for(;V<16;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(O.flags=L,(255&O.flags)!=8){z.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){z.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=L>>8&1),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=o(O.check,fe,2,0)),V=L=0,O.mode=3;case 3:for(;V<32;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}O.head&&(O.head.time=L),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,fe[2]=L>>>16&255,fe[3]=L>>>24&255,O.check=o(O.check,fe,4,0)),V=L=0,O.mode=4;case 4:for(;V<16;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}O.head&&(O.head.xflags=255&L,O.head.os=L>>8),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=o(O.check,fe,2,0)),V=L=0,O.mode=5;case 5:if(1024&O.flags){for(;V<16;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}O.length=L,O.head&&(O.head.extra_len=L),512&O.flags&&(fe[0]=255&L,fe[1]=L>>>8&255,O.check=o(O.check,fe,2,0)),V=L=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(Z<(ae=O.length)&&(ae=Z),ae&&(O.head&&(H=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),a.arraySet(O.head.extra,F,K,ae,H)),512&O.flags&&(O.check=o(O.check,F,ae,K)),Z-=ae,K+=ae,O.length-=ae),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(Z===0)break e;for(ae=0;H=F[K+ae++],O.head&&H&&O.length<65536&&(O.head.name+=String.fromCharCode(H)),H&&ae<Z;);if(512&O.flags&&(O.check=o(O.check,F,ae,K)),Z-=ae,K+=ae,H)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(Z===0)break e;for(ae=0;H=F[K+ae++],O.head&&H&&O.length<65536&&(O.head.comment+=String.fromCharCode(H)),H&&ae<Z;);if(512&O.flags&&(O.check=o(O.check,F,ae,K)),Z-=ae,K+=ae,H)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;V<16;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(L!==(65535&O.check)){z.msg="header crc mismatch",O.mode=30;break}V=L=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),z.adler=O.check=0,O.mode=12;break;case 10:for(;V<32;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}z.adler=O.check=v(L),V=L=0,O.mode=11;case 11:if(O.havedict===0)return z.next_out=$,z.avail_out=ee,z.next_in=K,z.avail_in=Z,O.hold=L,O.bits=V,2;z.adler=O.check=1,O.mode=12;case 12:if(B===5||B===6)break e;case 13:if(O.last){L>>>=7&V,V-=7&V,O.mode=27;break}for(;V<3;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}switch(O.last=1&L,V-=1,3&(L>>>=1)){case 0:O.mode=14;break;case 1:if(M(O),O.mode=20,B!==6)break;L>>>=2,V-=2;break e;case 2:O.mode=17;break;case 3:z.msg="invalid block type",O.mode=30}L>>>=2,V-=2;break;case 14:for(L>>>=7&V,V-=7&V;V<32;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if((65535&L)!=(L>>>16^65535)){z.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&L,V=L=0,O.mode=15,B===6)break e;case 15:O.mode=16;case 16:if(ae=O.length){if(Z<ae&&(ae=Z),ee<ae&&(ae=ee),ae===0)break e;a.arraySet(G,F,K,ae,$),Z-=ae,K+=ae,ee-=ae,$+=ae,O.length-=ae;break}O.mode=12;break;case 17:for(;V<14;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(O.nlen=257+(31&L),L>>>=5,V-=5,O.ndist=1+(31&L),L>>>=5,V-=5,O.ncode=4+(15&L),L>>>=4,V-=4,286<O.nlen||30<O.ndist){z.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;V<3;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}O.lens[Ie[O.have++]]=7&L,L>>>=3,V-=3}for(;O.have<19;)O.lens[Ie[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ce={bits:O.lenbits},ye=u(0,O.lens,0,19,O.lencode,0,O.work,ce),O.lenbits=ce.bits,ye){z.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;pe=(se=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,oe=65535&se,!((ie=se>>>24)<=V);){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(oe<16)L>>>=ie,V-=ie,O.lens[O.have++]=oe;else{if(oe===16){for(ne=ie+2;V<ne;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(L>>>=ie,V-=ie,O.have===0){z.msg="invalid bit length repeat",O.mode=30;break}H=O.lens[O.have-1],ae=3+(3&L),L>>>=2,V-=2}else if(oe===17){for(ne=ie+3;V<ne;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}V-=ie,H=0,ae=3+(7&(L>>>=ie)),L>>>=3,V-=3}else{for(ne=ie+7;V<ne;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}V-=ie,H=0,ae=11+(127&(L>>>=ie)),L>>>=7,V-=7}if(O.have+ae>O.nlen+O.ndist){z.msg="invalid bit length repeat",O.mode=30;break}for(;ae--;)O.lens[O.have++]=H}}if(O.mode===30)break;if(O.lens[256]===0){z.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ce={bits:O.lenbits},ye=u(h,O.lens,0,O.nlen,O.lencode,0,O.work,ce),O.lenbits=ce.bits,ye){z.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ce={bits:O.distbits},ye=u(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ce),O.distbits=ce.bits,ye){z.msg="invalid distances set",O.mode=30;break}if(O.mode=20,B===6)break e;case 20:O.mode=21;case 21:if(6<=Z&&258<=ee){z.next_out=$,z.avail_out=ee,z.next_in=K,z.avail_in=Z,O.hold=L,O.bits=V,c(z,Y),$=z.next_out,G=z.output,ee=z.avail_out,K=z.next_in,F=z.input,Z=z.avail_in,L=O.hold,V=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;pe=(se=O.lencode[L&(1<<O.lenbits)-1])>>>16&255,oe=65535&se,!((ie=se>>>24)<=V);){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(pe&&(240&pe)==0){for(he=ie,Ne=pe,Re=oe;pe=(se=O.lencode[Re+((L&(1<<he+Ne)-1)>>he)])>>>16&255,oe=65535&se,!(he+(ie=se>>>24)<=V);){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}L>>>=he,V-=he,O.back+=he}if(L>>>=ie,V-=ie,O.back+=ie,O.length=oe,pe===0){O.mode=26;break}if(32&pe){O.back=-1,O.mode=12;break}if(64&pe){z.msg="invalid literal/length code",O.mode=30;break}O.extra=15&pe,O.mode=22;case 22:if(O.extra){for(ne=O.extra;V<ne;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}O.length+=L&(1<<O.extra)-1,L>>>=O.extra,V-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;pe=(se=O.distcode[L&(1<<O.distbits)-1])>>>16&255,oe=65535&se,!((ie=se>>>24)<=V);){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if((240&pe)==0){for(he=ie,Ne=pe,Re=oe;pe=(se=O.distcode[Re+((L&(1<<he+Ne)-1)>>he)])>>>16&255,oe=65535&se,!(he+(ie=se>>>24)<=V);){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}L>>>=he,V-=he,O.back+=he}if(L>>>=ie,V-=ie,O.back+=ie,64&pe){z.msg="invalid distance code",O.mode=30;break}O.offset=oe,O.extra=15&pe,O.mode=24;case 24:if(O.extra){for(ne=O.extra;V<ne;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}O.offset+=L&(1<<O.extra)-1,L>>>=O.extra,V-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){z.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(ee===0)break e;if(ae=Y-ee,O.offset>ae){if((ae=O.offset-ae)>O.whave&&O.sane){z.msg="invalid distance too far back",O.mode=30;break}ue=ae>O.wnext?(ae-=O.wnext,O.wsize-ae):O.wnext-ae,ae>O.length&&(ae=O.length),re=O.window}else re=G,ue=$-O.offset,ae=O.length;for(ee<ae&&(ae=ee),ee-=ae,O.length-=ae;G[$++]=re[ue++],--ae;);O.length===0&&(O.mode=21);break;case 26:if(ee===0)break e;G[$++]=O.length,ee--,O.mode=21;break;case 27:if(O.wrap){for(;V<32;){if(Z===0)break e;Z--,L|=F[K++]<<V,V+=8}if(Y-=ee,z.total_out+=Y,O.total+=Y,Y&&(z.adler=O.check=O.flags?o(O.check,G,Y,$-Y):i(O.check,G,Y,$-Y)),Y=ee,(O.flags?L:v(L))!==O.check){z.msg="incorrect data check",O.mode=30;break}V=L=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;V<32;){if(Z===0)break e;Z--,L+=F[K++]<<V,V+=8}if(L!==(4294967295&O.total)){z.msg="incorrect length check",O.mode=30;break}V=L=0}O.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return g}return z.next_out=$,z.avail_out=ee,z.next_in=K,z.avail_in=Z,O.hold=L,O.bits=V,(O.wsize||Y!==z.avail_out&&O.mode<30&&(O.mode<27||B!==4))&&W(z,z.output,z.next_out,Y-z.avail_out)?(O.mode=31,-4):(Q-=z.avail_in,Y-=z.avail_out,z.total_in+=Q,z.total_out+=Y,O.total+=Y,O.wrap&&Y&&(z.adler=O.check=O.flags?o(O.check,G,Y,z.next_out-Y):i(O.check,G,Y,z.next_out-Y)),z.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(Q==0&&Y===0||B===4)&&ye===p&&(ye=-5),ye)},s.inflateEnd=function(z){if(!z||!z.state)return g;var B=z.state;return B.window&&(B.window=null),z.state=null,p},s.inflateGetHeader=function(z,B){var O;return z&&z.state?(2&(O=z.state).wrap)==0?g:((O.head=B).done=!1,p):g},s.inflateSetDictionary=function(z,B){var O,F=B.length;return z&&z.state?(O=z.state).wrap!==0&&O.mode!==11?g:O.mode===11&&i(1,B,F,0)!==O.check?-3:W(z,B,F,F)?(O.mode=31,-4):(O.havedict=1,p):g},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var a=n("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,f,p,g,b,y,w,v){var N,A,C,k,S,T,P,I,M,W=v.bits,z=0,B=0,O=0,F=0,G=0,K=0,$=0,Z=0,ee=0,L=0,V=null,Q=0,Y=new a.Buf16(16),ae=new a.Buf16(16),ue=null,re=0;for(z=0;z<=15;z++)Y[z]=0;for(B=0;B<g;B++)Y[f[p+B]]++;for(G=W,F=15;1<=F&&Y[F]===0;F--);if(F<G&&(G=F),F===0)return b[y++]=20971520,b[y++]=20971520,v.bits=1,0;for(O=1;O<F&&Y[O]===0;O++);for(G<O&&(G=O),z=Z=1;z<=15;z++)if(Z<<=1,(Z-=Y[z])<0)return-1;if(0<Z&&(h===0||F!==1))return-1;for(ae[1]=0,z=1;z<15;z++)ae[z+1]=ae[z]+Y[z];for(B=0;B<g;B++)f[p+B]!==0&&(w[ae[f[p+B]]++]=B);if(T=h===0?(V=ue=w,19):h===1?(V=i,Q-=257,ue=o,re-=257,256):(V=c,ue=u,-1),z=O,S=y,$=B=L=0,C=-1,k=(ee=1<<(K=G))-1,h===1&&852<ee||h===2&&592<ee)return 1;for(;;){for(P=z-$,M=w[B]<T?(I=0,w[B]):w[B]>T?(I=ue[re+w[B]],V[Q+w[B]]):(I=96,0),N=1<<z-$,O=A=1<<K;b[S+(L>>$)+(A-=N)]=P<<24|I<<16|M|0,A!==0;);for(N=1<<z-1;L&N;)N>>=1;if(N!==0?(L&=N-1,L+=N):L=0,B++,--Y[z]==0){if(z===F)break;z=f[p+w[B]]}if(G<z&&(L&k)!==C){for($===0&&($=G),S+=O,Z=1<<(K=z-$);K+$<F&&!((Z-=Y[K+$])<=0);)K++,Z<<=1;if(ee+=1<<K,h===1&&852<ee||h===2&&592<ee)return 1;b[C=L&k]=G<<24|K<<16|S-y|0}}return L!==0&&(b[S+L]=z-$<<24|64<<16|0),v.bits=G,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var a=n("../utils/common"),i=0,o=1;function c(se){for(var fe=se.length;0<=--fe;)se[fe]=0}var u=0,h=29,f=256,p=f+1+h,g=30,b=19,y=2*p+1,w=15,v=16,N=7,A=256,C=16,k=17,S=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(p+2));c(W);var z=new Array(2*g);c(z);var B=new Array(512);c(B);var O=new Array(256);c(O);var F=new Array(h);c(F);var G,K,$,Z=new Array(g);function ee(se,fe,Ie,je,be){this.static_tree=se,this.extra_bits=fe,this.extra_base=Ie,this.elems=je,this.max_length=be,this.has_stree=se&&se.length}function L(se,fe){this.dyn_tree=se,this.max_code=0,this.stat_desc=fe}function V(se){return se<256?B[se]:B[256+(se>>>7)]}function Q(se,fe){se.pending_buf[se.pending++]=255&fe,se.pending_buf[se.pending++]=fe>>>8&255}function Y(se,fe,Ie){se.bi_valid>v-Ie?(se.bi_buf|=fe<<se.bi_valid&65535,Q(se,se.bi_buf),se.bi_buf=fe>>v-se.bi_valid,se.bi_valid+=Ie-v):(se.bi_buf|=fe<<se.bi_valid&65535,se.bi_valid+=Ie)}function ae(se,fe,Ie){Y(se,Ie[2*fe],Ie[2*fe+1])}function ue(se,fe){for(var Ie=0;Ie|=1&se,se>>>=1,Ie<<=1,0<--fe;);return Ie>>>1}function re(se,fe,Ie){var je,be,Be=new Array(w+1),Me=0;for(je=1;je<=w;je++)Be[je]=Me=Me+Ie[je-1]<<1;for(be=0;be<=fe;be++){var ze=se[2*be+1];ze!==0&&(se[2*be]=ue(Be[ze]++,ze))}}function ie(se){var fe;for(fe=0;fe<p;fe++)se.dyn_ltree[2*fe]=0;for(fe=0;fe<g;fe++)se.dyn_dtree[2*fe]=0;for(fe=0;fe<b;fe++)se.bl_tree[2*fe]=0;se.dyn_ltree[2*A]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function pe(se){8<se.bi_valid?Q(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function oe(se,fe,Ie,je){var be=2*fe,Be=2*Ie;return se[be]<se[Be]||se[be]===se[Be]&&je[fe]<=je[Ie]}function he(se,fe,Ie){for(var je=se.heap[Ie],be=Ie<<1;be<=se.heap_len&&(be<se.heap_len&&oe(fe,se.heap[be+1],se.heap[be],se.depth)&&be++,!oe(fe,je,se.heap[be],se.depth));)se.heap[Ie]=se.heap[be],Ie=be,be<<=1;se.heap[Ie]=je}function Ne(se,fe,Ie){var je,be,Be,Me,ze=0;if(se.last_lit!==0)for(;je=se.pending_buf[se.d_buf+2*ze]<<8|se.pending_buf[se.d_buf+2*ze+1],be=se.pending_buf[se.l_buf+ze],ze++,je===0?ae(se,be,fe):(ae(se,(Be=O[be])+f+1,fe),(Me=T[Be])!==0&&Y(se,be-=F[Be],Me),ae(se,Be=V(--je),Ie),(Me=P[Be])!==0&&Y(se,je-=Z[Be],Me)),ze<se.last_lit;);ae(se,A,fe)}function Re(se,fe){var Ie,je,be,Be=fe.dyn_tree,Me=fe.stat_desc.static_tree,ze=fe.stat_desc.has_stree,we=fe.stat_desc.elems,_=-1;for(se.heap_len=0,se.heap_max=y,Ie=0;Ie<we;Ie++)Be[2*Ie]!==0?(se.heap[++se.heap_len]=_=Ie,se.depth[Ie]=0):Be[2*Ie+1]=0;for(;se.heap_len<2;)Be[2*(be=se.heap[++se.heap_len]=_<2?++_:0)]=1,se.depth[be]=0,se.opt_len--,ze&&(se.static_len-=Me[2*be+1]);for(fe.max_code=_,Ie=se.heap_len>>1;1<=Ie;Ie--)he(se,Be,Ie);for(be=we;Ie=se.heap[1],se.heap[1]=se.heap[se.heap_len--],he(se,Be,1),je=se.heap[1],se.heap[--se.heap_max]=Ie,se.heap[--se.heap_max]=je,Be[2*be]=Be[2*Ie]+Be[2*je],se.depth[be]=(se.depth[Ie]>=se.depth[je]?se.depth[Ie]:se.depth[je])+1,Be[2*Ie+1]=Be[2*je+1]=be,se.heap[1]=be++,he(se,Be,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],function(D,q){var le,ge,Ce,Se,rt,kt,ot=q.dyn_tree,Ct=q.max_code,nt=q.stat_desc.static_tree,Kt=q.stat_desc.has_stree,Wt=q.stat_desc.extra_bits,Bn=q.stat_desc.extra_base,En=q.stat_desc.max_length,Ur=0;for(Se=0;Se<=w;Se++)D.bl_count[Se]=0;for(ot[2*D.heap[D.heap_max]+1]=0,le=D.heap_max+1;le<y;le++)En<(Se=ot[2*ot[2*(ge=D.heap[le])+1]+1]+1)&&(Se=En,Ur++),ot[2*ge+1]=Se,Ct<ge||(D.bl_count[Se]++,rt=0,Bn<=ge&&(rt=Wt[ge-Bn]),kt=ot[2*ge],D.opt_len+=kt*(Se+rt),Kt&&(D.static_len+=kt*(nt[2*ge+1]+rt)));if(Ur!==0){do{for(Se=En-1;D.bl_count[Se]===0;)Se--;D.bl_count[Se]--,D.bl_count[Se+1]+=2,D.bl_count[En]--,Ur-=2}while(0<Ur);for(Se=En;Se!==0;Se--)for(ge=D.bl_count[Se];ge!==0;)Ct<(Ce=D.heap[--le])||(ot[2*Ce+1]!==Se&&(D.opt_len+=(Se-ot[2*Ce+1])*ot[2*Ce],ot[2*Ce+1]=Se),ge--)}}(se,fe),re(Be,_,se.bl_count)}function H(se,fe,Ie){var je,be,Be=-1,Me=fe[1],ze=0,we=7,_=4;for(Me===0&&(we=138,_=3),fe[2*(Ie+1)+1]=65535,je=0;je<=Ie;je++)be=Me,Me=fe[2*(je+1)+1],++ze<we&&be===Me||(ze<_?se.bl_tree[2*be]+=ze:be!==0?(be!==Be&&se.bl_tree[2*be]++,se.bl_tree[2*C]++):ze<=10?se.bl_tree[2*k]++:se.bl_tree[2*S]++,Be=be,_=(ze=0)===Me?(we=138,3):be===Me?(we=6,3):(we=7,4))}function ye(se,fe,Ie){var je,be,Be=-1,Me=fe[1],ze=0,we=7,_=4;for(Me===0&&(we=138,_=3),je=0;je<=Ie;je++)if(be=Me,Me=fe[2*(je+1)+1],!(++ze<we&&be===Me)){if(ze<_)for(;ae(se,be,se.bl_tree),--ze!=0;);else be!==0?(be!==Be&&(ae(se,be,se.bl_tree),ze--),ae(se,C,se.bl_tree),Y(se,ze-3,2)):ze<=10?(ae(se,k,se.bl_tree),Y(se,ze-3,3)):(ae(se,S,se.bl_tree),Y(se,ze-11,7));Be=be,_=(ze=0)===Me?(we=138,3):be===Me?(we=6,3):(we=7,4)}}c(Z);var ce=!1;function ne(se,fe,Ie,je){Y(se,(u<<1)+(je?1:0),3),function(be,Be,Me,ze){pe(be),Q(be,Me),Q(be,~Me),a.arraySet(be.pending_buf,be.window,Be,Me,be.pending),be.pending+=Me}(se,fe,Ie)}s._tr_init=function(se){ce||(function(){var fe,Ie,je,be,Be,Me=new Array(w+1);for(be=je=0;be<h-1;be++)for(F[be]=je,fe=0;fe<1<<T[be];fe++)O[je++]=be;for(O[je-1]=be,be=Be=0;be<16;be++)for(Z[be]=Be,fe=0;fe<1<<P[be];fe++)B[Be++]=be;for(Be>>=7;be<g;be++)for(Z[be]=Be<<7,fe=0;fe<1<<P[be]-7;fe++)B[256+Be++]=be;for(Ie=0;Ie<=w;Ie++)Me[Ie]=0;for(fe=0;fe<=143;)W[2*fe+1]=8,fe++,Me[8]++;for(;fe<=255;)W[2*fe+1]=9,fe++,Me[9]++;for(;fe<=279;)W[2*fe+1]=7,fe++,Me[7]++;for(;fe<=287;)W[2*fe+1]=8,fe++,Me[8]++;for(re(W,p+1,Me),fe=0;fe<g;fe++)z[2*fe+1]=5,z[2*fe]=ue(fe,5);G=new ee(W,T,f+1,p,w),K=new ee(z,P,0,g,w),$=new ee(new Array(0),I,0,b,N)}(),ce=!0),se.l_desc=new L(se.dyn_ltree,G),se.d_desc=new L(se.dyn_dtree,K),se.bl_desc=new L(se.bl_tree,$),se.bi_buf=0,se.bi_valid=0,ie(se)},s._tr_stored_block=ne,s._tr_flush_block=function(se,fe,Ie,je){var be,Be,Me=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=function(ze){var we,_=4093624447;for(we=0;we<=31;we++,_>>>=1)if(1&_&&ze.dyn_ltree[2*we]!==0)return i;if(ze.dyn_ltree[18]!==0||ze.dyn_ltree[20]!==0||ze.dyn_ltree[26]!==0)return o;for(we=32;we<f;we++)if(ze.dyn_ltree[2*we]!==0)return o;return i}(se)),Re(se,se.l_desc),Re(se,se.d_desc),Me=function(ze){var we;for(H(ze,ze.dyn_ltree,ze.l_desc.max_code),H(ze,ze.dyn_dtree,ze.d_desc.max_code),Re(ze,ze.bl_desc),we=b-1;3<=we&&ze.bl_tree[2*M[we]+1]===0;we--);return ze.opt_len+=3*(we+1)+5+5+4,we}(se),be=se.opt_len+3+7>>>3,(Be=se.static_len+3+7>>>3)<=be&&(be=Be)):be=Be=Ie+5,Ie+4<=be&&fe!==-1?ne(se,fe,Ie,je):se.strategy===4||Be===be?(Y(se,2+(je?1:0),3),Ne(se,W,z)):(Y(se,4+(je?1:0),3),function(ze,we,_,D){var q;for(Y(ze,we-257,5),Y(ze,_-1,5),Y(ze,D-4,4),q=0;q<D;q++)Y(ze,ze.bl_tree[2*M[q]+1],3);ye(ze,ze.dyn_ltree,we-1),ye(ze,ze.dyn_dtree,_-1)}(se,se.l_desc.max_code+1,se.d_desc.max_code+1,Me+1),Ne(se,se.dyn_ltree,se.dyn_dtree)),ie(se),je&&pe(se)},s._tr_tally=function(se,fe,Ie){return se.pending_buf[se.d_buf+2*se.last_lit]=fe>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&fe,se.pending_buf[se.l_buf+se.last_lit]=255&Ie,se.last_lit++,fe===0?se.dyn_ltree[2*Ie]++:(se.matches++,fe--,se.dyn_ltree[2*(O[Ie]+f+1)]++,se.dyn_dtree[2*V(fe)]++),se.last_lit===se.lit_bufsize-1},s._tr_align=function(se){Y(se,2,3),ae(se,A,W),function(fe){fe.bi_valid===16?(Q(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)}(se)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(a){(function(i,o){if(!i.setImmediate){var c,u,h,f,p=1,g={},b=!1,y=i.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(i);w=w&&w.setTimeout?w:i,c={}.toString.call(i.process)==="[object process]"?function(C){process.nextTick(function(){N(C)})}:function(){if(i.postMessage&&!i.importScripts){var C=!0,k=i.onmessage;return i.onmessage=function(){C=!1},i.postMessage("","*"),i.onmessage=k,C}}()?(f="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",A,!1):i.attachEvent("onmessage",A),function(C){i.postMessage(f+C,"*")}):i.MessageChannel?((h=new MessageChannel).port1.onmessage=function(C){N(C.data)},function(C){h.port2.postMessage(C)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(C){var k=y.createElement("script");k.onreadystatechange=function(){N(C),k.onreadystatechange=null,u.removeChild(k),k=null},u.appendChild(k)}):function(C){setTimeout(N,0,C)},w.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),S=0;S<k.length;S++)k[S]=arguments[S+1];var T={callback:C,args:k};return g[p]=T,c(p),p++},w.clearImmediate=v}function v(C){delete g[C]}function N(C){if(b)setTimeout(N,0,C);else{var k=g[C];if(k){b=!0;try{(function(S){var T=S.callback,P=S.args;switch(P.length){case 0:T();break;case 1:T(P[0]);break;case 2:T(P[0],P[1]);break;case 3:T(P[0],P[1],P[2]);break;default:T.apply(o,P)}})(k)}finally{v(C),b=!1}}}}function A(C){C.source===i&&typeof C.data=="string"&&C.data.indexOf(f)===0&&N(+C.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(y9)),y9.exports}var xxe=wxe();const vxe=Nm(xxe),_E=({collection:e})=>{const[t,n]=j.useState({metadataReady:!1,bannerReady:!1,nftsReady:!1,phasesReady:!1,whitelistReady:!1,allReady:!1}),[r,s]=j.useState(!1),[a,i]=j.useState(!1),[o,c]=j.useState(0),[u,h]=j.useState(!1),[f,p]=j.useState({visible:!1,message:"",txHash:""}),[g,b]=j.useState(""),[y,w]=j.useState(!1),[v,N]=j.useState(!1),[A,C]=j.useState(!1),[k,S]=j.useState(!1),[T,P]=j.useState(!1),I=j.useRef(null),M=Xr(),{switchNetwork:W}=yo();j.useEffect(()=>{if(f.visible){const Q=setTimeout(()=>p(Y=>({...Y,visible:!1})),5e3);return()=>clearTimeout(Q)}},[f.visible]),j.useEffect(()=>{if(r){const Q=document.querySelector('[data-modal="launch-checklist"]');Q&&Q.focus()}},[r]),j.useEffect(()=>{const Q=Y=>{Y.key==="Escape"&&r&&s(!1)};if(r)return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]);const z=(Q,Y="")=>{p({visible:!0,message:Q,txHash:Y})},B=(Q,Y)=>{try{const ae=JSON.parse(Q);return ae!==void 0?ae:Y}catch{return Y}},O=async(Q,Y,ae)=>{const ue=Y.length;let re=0,ie=!0;Object.values(ae).forEach(Re=>{re+=Number(Re.allocated)||0}),re!==ue&&(ie=!1);let pe=!0;["Whitelist","FCFS"].forEach(Re=>{const H=ae[Re];if(H&&Number(H.allocated)>0){const ye=B(localStorage.getItem(`${Q.address}_${Re}_whitelist`),[]);(!Array.isArray(ye)||ye.length<Number(H.allocated))&&(pe=!1)}});const oe=localStorage.getItem(`collection_${Q.address}_banner`);let he=!!(Q.metadata||Q.metadataContent);const Ne=localStorage.getItem(`collection_${Q.address}_metadata`);Ne&&(he=!0,console.log(" Found metadata in localStorage"));try{const Re=new In("https://dream-rpc.somnia.network/"),H=new Pt(Q.address,Rn,Re),ye=await H.contractURI();ye&&ye!==""&&(he=!0,console.log(" Found contractURI in blockchain:",ye));const ce=await H.baseTokenURI();ce&&ce!==""&&(he=!0,console.log(" Found baseTokenURI in blockchain:",ce))}catch(Re){console.log("Could not check blockchain metadata:",Re.message)}return console.log(" Metadata check result:",{hasMetadata:he,hasLocalMetadata:!!Q.metadata,hasMetadataContent:!!Q.metadataContent,hasLocalStorageMetadata:!!Ne}),{metadataReady:he,bannerReady:!!oe,nftsReady:Array.isArray(Y)&&Y.length>0,phasesReady:ae&&Object.keys(ae).length>0&&ie,whitelistReady:pe}},F=async(Q,Y)=>{try{const ae=new In("https://dream-rpc.somnia.network/"),ue=new Pt(Q.address,Rn,ae);let re=!1,ie=0,pe=!1;try{const oe=await ue.baseTokenURI();if(re=oe&&oe!=="",re){ie=await ue.totalSupply();const he=Math.floor(Date.now()/1e3);Y&&Object.keys(Y).length>0&&(pe=Object.values(Y).some(Ne=>{if(!Ne.start||!Ne.end)return!1;const Re=Math.floor(new Date(Ne.start).getTime()/1e3),H=Math.floor(new Date(Ne.end).getTime()/1e3);return he>=Re&&he<=H}));try{if(typeof ue.isSaleActive=="function"){const Ne=await ue.isSaleActive();pe=pe||Ne}}catch(Ne){console.log("Could not check isSaleActive:",Ne.message)}try{await ue.revealed()&&ie>0&&pe?pe=!0:pe=!1}catch(Ne){console.log("Could not check revealed status:",Ne.message)}}}catch(oe){console.log("Error checking blockchain status:",oe.message)}return console.log(" Blockchain status check result:",{address:Q.address,isInitialized:re,totalMinted:Number(ie),hasActivePhase:pe,phasesCount:Y?Object.keys(Y).length:0,currentPath:window.location.pathname}),{isInitialized:re,totalMinted:Number(ie),isSaleActive:pe,canResume:re&&!pe}}catch(ae){return console.error("Error checking blockchain status:",ae),{isInitialized:!1,totalMinted:0,isSaleActive:!1,canResume:!1}}},G=async Q=>{try{const Y=new In("https://dream-rpc.somnia.network/"),ae=new Pt(Q.address,Rn,Y),ue=await ae.baseTokenURI(),re=await ae.maxSupply(),ie=await ae.contractURI();let pe=0;try{typeof ae.getPhasesCount=="function"?pe=await ae.getPhasesCount():pe=0}catch(ye){console.log("Could not get phases count from contract:",ye.message),pe=0}const oe=B(localStorage.getItem(`phases_${Q.address}`),{}),he=Object.values(oe).filter(ye=>ye.active).length,Ne=[];ue||Ne.push("Set baseURI"),(!re||re===0)&&Ne.push("Set maxSupply"),ie||Ne.push("Set contractURI"),Number(pe)<he&&Ne.push(`Add ${he-Number(pe)} phases`);const Re=Ne.length>0,H=ue||re>0||ie;return{canResume:Re||H,resumeSteps:Ne}}catch(Y){return console.log("Error checking resume mode:",Y.message),{canResume:!1,resumeSteps:[]}}},K=async()=>{N(!0);try{const Q=B(localStorage.getItem(`collection_${e.address}`),null)||e,Y=B(localStorage.getItem(`collection_${Q.address}_nfts`),[]),ae=B(localStorage.getItem(`phases_${Q.address}`),{}),ue=await O(Q,Y,ae),re=await F(Q,ae);if(console.log(" Sale active check:",{isSaleActive:re.isSaleActive,currentPath:window.location.pathname,isInDashboard:window.location.pathname==="/dashboard"||window.location.pathname==="/create-dreams"}),re.isSaleActive){const oe=window.location.pathname;if(oe==="/dashboard"||oe==="/create-dreams"){C(!0);return}else{C(!0),z(" Sale is already active! Redirecting to collection page..."),setTimeout(()=>M(`/launchpad/collection/${Q.address}`),2e3);return}}re.isInitialized&&!re.isSaleActive&&console.log(" Collection is initialized but sale is not active - showing resume button");let ie={canResume:!1,resumeSteps:[]};re.isInitialized&&(ie=await G(Q));const pe={...ue,blockchainStatus:re,resumeInfo:ie};return pe.canLaunch=!re.isInitialized&&Object.values(ue).every(Boolean),pe.allReady=pe.canLaunch||re.isInitialized&&ie.canResume||re.isInitialized&&!re.isSaleActive||ie.canResume,console.log(" Final checks result:",{address:Q.address,canLaunch:pe.canLaunch,isInitialized:re.isInitialized,canResume:ie.canResume,isSaleActive:re.isSaleActive,allReady:pe.allReady,basicChecks:Object.values(ue),resumeSteps:ie.resumeSteps}),console.log(" Button visibility logic:",{canLaunch:pe.canLaunch,isInitializedAndCanResume:re.isInitialized&&ie.canResume,isInitializedAndNotActive:re.isInitialized&&!re.isSaleActive,resumeInfoCanResume:ie.canResume,finalAllReady:pe.allReady}),n(pe),pe}finally{N(!1)}},$=async(Q,Y,ae=3)=>{for(let ue=0;ue<ae;ue++)try{if(y)throw new Error("Operation cancelled");return await fetch(Q,Y)}catch(re){if(ue===ae-1)throw re;await new Promise(ie=>setTimeout(ie,1e3*(ue+1)))}},Z=()=>{try{const Q=typeof window<"u",Y=Q&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),ae=Q&&String(window.location.port)==="5173";if(Y&&ae)return"";const ue="http://localhost:3000";if(ue&&typeof ue=="string"&&ue.trim()){const re=ue.trim().replace(/\/$/,"");if(/^https?:\/\//i.test(re))return re}}catch{}return""},ee=Q=>{const Y=Z(),ae=Q.startsWith("/")?Q:`/${Q}`;return Y?`${Y}${ae}`:ae},L=()=>{i(!1),c(0),b(""),w(!1),I.current&&(I.current.abort(),I.current=null)},V=async()=>{let Q=null;try{i(!0),c(10),b("Checking collection data..."),I.current=new AbortController;const Y=B(localStorage.getItem(`collection_${e.address}`),null)||e;if(!Y||!Y.address)throw new Error("Invalid collection data: missing address");if(!fee(Y.address))throw new Error(`Invalid contract address: ${Y.address}`);try{(await(async()=>{try{return await W?.(nl)}catch{return{success:!1}}})())?.success||await _d()}catch{z(" Please switch to Somnia Testnet to launch the sale"),L();return}const ae=await new wr(window.ethereum).getSigner(),ue=new Pt(Y.address,[...Rn,"function setAdmin(address user, bool enabled) external","function isAdmin(address user) view returns (bool)","function owner() view returns (address)"],ae);if(!ue)throw new Error("Failed to initialize contract");let re=!1;try{const Me=await ue.baseTokenURI();if(Me&&Me!=="")if((await G(Y)).canResume)re=!0,z(" Resume mode: continuing from where you left off...");else throw new Error("Collection already fully launched")}catch(Me){console.log("Contract not initialized or error checking status:",Me.message)}const ie=B(localStorage.getItem(`collection_${Y.address}_nfts`),[]);if(!Array.isArray(ie)||ie.length===0)throw new Error("No NFTs found in collection");for(const Me of ie)if(!Me.image)throw new Error(`NFT ${Me.name} has no image URL`);if(!re){c(20),b("Generating metadata zip..."),Q=new vxe,ie.forEach((Ce,Se)=>{const rt={name:String(Ce.name||`NFT #${Se+1}`),description:String(Ce.description||""),image:String(Ce.image),attributes:Array.isArray(Ce.attributes)?Ce.attributes.map(kt=>({trait_type:String(kt.trait_type||""),value:String(kt.value||"")})):[]};if(!rt.image)throw new Error(`NFT ${Se+1} has no image URL`);if(!rt.image.startsWith("ipfs://")&&!rt.image.startsWith("http"))throw new Error(`Invalid image URL format for NFT ${Se+1}: ${rt.image}`);Q.file(`${Se}.json`,JSON.stringify(rt,null,2))});const Me=await Q.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}});if(Me.size>100*1024*1024)throw new Error("Metadata folder is too large (max 100MB)");c(30),b("Uploading metadata folder to IPFS...");const ze=new FormData;ze.append("folder",Me,"metadata.zip");const we=await $(ee("/api/upload-metadata-folder"),{method:"POST",body:ze,signal:I.current.signal});if(!we.ok){const Ce=await we.json();throw new Error(Ce.error||"Metadata folder upload failed")}const _=await we.json();if(!_.cid)throw new Error("No CID returned from server");const D=_.url;if(!D.startsWith("ipfs://"))throw new Error("Invalid baseURI format");c(40),b("Setting baseURI in contract...");const q=await ue.setBaseURI(D);z(" Setting baseURI...",q.hash),await q.wait();const le=ie.length,ge=await ue.setMaxSupply(le);z(" Setting maxSupply...",ge.hash),c(45),b("Setting maxSupply in contract..."),await ge.wait()}c(50),b("Adding phases to contract...");const pe=B(localStorage.getItem(`phases_${Y.address}`),{});if(!pe||Object.keys(pe).length===0)throw new Error("No phases found");const oe=Object.keys(pe);let he=0;for(const Me of oe){const ze=pe[Me];if(!ze||ze.active===!1)continue;const we=Me==="Public";let _="0x"+"0".repeat(64);if(!we){const Ce=B(localStorage.getItem(`${Y.address}_${Me}_whitelist`),[]);if(Ce.length>0){const Se=Ce.map(Ct=>{try{return un(Ct.trim())}catch{return Ct.trim().toLowerCase()}}),rt=Se.map(Ct=>Gn(A2(["address"],[Ct]))),kt=new nU.MerkleTree(rt,Gn,{sortPairs:!0});_=kt.getHexRoot();const ot={};Se.forEach(Ct=>{const nt=Gn(A2(["address"],[Ct]));let Kt=kt.getHexProof(nt);Kt.length===0&&Se.length===1&&(Kt=[]),ot[Ct]=Kt}),localStorage.setItem(`${Y.address}_${Me}_whitelist_proofs`,JSON.stringify(ot)),localStorage.setItem(`${Y.address}_${Me}_whitelist_root`,_)}}const D=Math.floor(new Date(ze.start).getTime()/1e3),q=Math.floor(new Date(ze.end).getTime()/1e3),le=nv(ze.price||"0",18),ge=Number(ze.limit)||0;try{const Ce=await ue.addPhase(D,q,le,ge,_,we);z(` Adding phase ${Me}...`,Ce.hash),c(50+Math.floor(10*(he+1)/oe.length)),await Ce.wait()}catch(Ce){throw console.error("Phase addition failed:",Ce),z(` Error adding phase ${Me}: ${Ce.message}`),Ce}he++}c(65),b("Uploading collection metadata to IPFS...");const Ne=B(localStorage.getItem(`collection_${Y.address}`),null);console.log(" Loading metadata - collectionData:",Ne);const Re=B(localStorage.getItem("dreava_collections"),[]),H=Re&&Array.isArray(Re)?Re.find(Me=>Me.address===Y.address):null,ye=B(localStorage.getItem(`collection_${Y.address}_social`),{})||{},ce=typeof window<"u"?window.localStorage.getItem(`collection_${Y.address}_banner`):"",ne={...H,...Ne,...Y};console.log(" Loading metadata - meta:",ne);const se={name:ne.name||Y.name||"Untitled Collection",description:ne.description||Y.description||"A unique NFT collection",image:ne.image||Y.image||ne.cover||Y.cover||"",banner:ce||ne.banner||Y.banner||"",external_link:ne.external_link||ye.website||"",website:ye.website||void 0,twitter:ye.twitter||void 0,discord:ye.discord||void 0,royaltyRecipient:ne.royaltyRecipient||"",royaltyPercent:ne.royaltyPercent||0,nfts:Array.isArray(ie)?ie.map((Me,ze)=>({name:Me.name||`NFT #${ze+1}`,tokenURI:`${Y.metadata||Y.baseTokenURI||"ipfs://cid"}/${ze}`,image:Me.image||Me.image_url||""})):[],phases:pe&&typeof pe=="object"?Object.entries(pe).reduce((Me,[ze,we])=>(!we||!we.active||(Me[ze]={price:we.price,limit:we.limit,start:Math.floor(new Date(we.start).getTime()/1e3),end:Math.floor(new Date(we.end).getTime()/1e3),allocated:we.allocated,isPublic:ze==="Public"}),Me),{}):{}};console.log(" Uploading metadata to server..."),console.log(" Metadata to upload:",se);let fe;try{fe=await fetch("/api/upload-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:se})}),console.log(" Fetch completed, status:",fe.status)}catch(Me){throw console.error(" Fetch error:",Me),Me}if(console.log(" Upload response status:",fe.status),!fe.ok){const Me=await fe.text();throw console.error(" Upload failed:",Me),new Error(`Metadata upload failed: ${fe.status} ${Me}`)}const Ie=await fe.json();console.log(" Upload response data:",Ie);const je=Ie.url||(Ie.cid?`ipfs://${Ie.cid}`:null);if(!je)throw new Error("No IPFS URI returned from server");c(80),b("Updating contractURI in contract...");const be=await ue.setContractURI(je);z(" Updating contractURI...",be.hash),await be.wait(),c(90),b("Revealing collection...");try{const Me=await ae.getAddress(),ze=await ue.isAdmin(Me),we=await ue.owner();if(!ze&&Me.toLowerCase()!==we.toLowerCase())if(Me.toLowerCase()===we.toLowerCase())await(await ue.setAdmin(Me,!0)).wait();else throw new Error("User does not have admin permissions on this contract");const _=await ue.setRevealed(!0);if(z(" Revealing collection...",_.hash),await _.wait(),!await ue.revealed())throw new Error("Reveal transaction succeeded but revealed status is still false")}catch(Me){console.error("Error revealing collection:",Me),Me.message&&Me.message.includes("Not admin")?z(" Permission denied: You are not an admin of this contract"):z(" Error revealing collection: "+(Me.message||Me))}c(100),b("Launch complete!"),h(!0);const Be=await ue.revealed();z(Be?" Collection launched and revealed! Redirecting to collection page...":" Collection launched! Redirecting to collection page...",be.hash),setTimeout(()=>M(`/launchpad/collection/${Y.address}`),3e3)}catch(Y){console.error(" Launch error:",Y),z(` Launch error: ${Y.message}`),L()}finally{Q=null}};return j.useEffect(()=>()=>{L()},[]),j.useEffect(()=>{e?.address&&K()},[e?.address]),A?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 rounded text-sm font-semibold transition shadow-md flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-500 hover:opacity-90",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),"Share"]}),k&&io.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Collection"}),l.jsx("button",{onClick:()=>S(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsx("img",{src:e.cover||e.firstNFTImage||e.image||"/default-cover.png",alt:e.name,className:"w-16 h-16 rounded-xl object-cover border border-zinc-600/30",onError:Q=>{console.warn(" Collection cover failed to load:",Q.target.src),e.firstNFTImage&&e.firstNFTImage!==Q.target.src?Q.target.src=e.firstNFTImage:Q.target.src="/default-cover.png"}}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:e.name}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Collection is live! "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Collection Link"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"text",value:`${window.location.origin}/launchpad/collection/${e.address}`,readOnly:!0,className:"flex-1 p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl text-white text-sm focus:outline-none focus:border-pink-500/50 transition-colors truncate",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/launchpad/collection/${e.address}`),P(!0),setTimeout(()=>P(!1),2e3)},className:`px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 flex-shrink-0 ${T?"bg-green-600 text-white":"bg-zinc-700/50 hover:bg-zinc-600/50 text-white"}`,children:T?"Copied!":"Copy"})]}),l.jsx("div",{className:"mt-2",children:l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"text-xs text-zinc-400 cursor-pointer hover:text-zinc-300 transition-colors",children:"Show full URL"}),l.jsx("div",{className:"mt-2 p-2 bg-zinc-800/20 rounded-lg border border-zinc-700/30",children:l.jsx("p",{className:"text-xs text-zinc-300 break-all",children:`${window.location.origin}/launchpad/collection/${e.address}`})})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Share on Twitter"}),l.jsx("div",{className:"bg-zinc-800/30 rounded-2xl p-4 border border-zinc-700/30 mb-4",children:l.jsxs("p",{className:"text-sm text-zinc-300 mb-3",children:['"I just launched my NFT collection "',e.name,'" on Dreava Art! ',l.jsx("br",{}),l.jsx("br",{}),"Check it out: ",l.jsx("span",{className:"break-all text-blue-400",children:`${window.location.origin}/launchpad/collection/${e.address}`}),l.jsx("br",{}),l.jsx("br",{}),`Try it yourself, it's really simple! "`]})}),l.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`I just launched my NFT collection "${e.name}" on Dreava Art! 

Check it out: ${window.location.origin}/launchpad/collection/${e.address}

Try it yourself, it's really simple! `)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-blue-500/25 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Tweet"]})]})]})]})}),document.body)]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>K().then(()=>s(!0)),disabled:v,className:`px-4 py-2 rounded text-sm font-semibold transition shadow-md flex items-center gap-2 ${v?"bg-zinc-600 text-zinc-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90"}`,children:v?l.jsxs(l.Fragment,{children:[l.jsx(Zd,{className:"animate-spin",size:16}),"Checking..."]}):"Launch Sale"}),r&&io.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex justify-center items-center z-[999999] p-4",children:l.jsxs("div",{className:"bg-gradient-to-br from-zinc-900/95 to-zinc-800/95 backdrop-blur-xl rounded-3xl shadow-2xl max-w-lg w-full animate-fadeIn border border-zinc-700/50 relative overflow-hidden transform transition-all duration-300 hover:scale-[1.02]",tabIndex:-1,autoFocus:!0,"data-modal":"launch-checklist",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 animate-pulse"}),l.jsxs("div",{className:"relative z-10 p-6",children:[l.jsx("button",{className:"absolute top-3 right-3 text-zinc-400 hover:text-red-400 transition-all duration-200 hover:scale-110",onClick:()=>s(!1),children:l.jsx(Jn,{size:18})}),u?l.jsxs("div",{className:"text-center py-6",children:[l.jsx(Eue,{size:56,className:"text-pink-500 animate-bounce mx-auto mb-3"}),l.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-green-400 to-lime-400 bg-clip-text text-transparent",children:" Sale Launched!"}),l.jsx("p",{className:"text-base text-zinc-300 mb-5",children:"Your collection has been successfully launched and is now available for minting!"}),l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsx("button",{onClick:()=>M("/launchpad"),className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white font-semibold transition-all duration-300",children:"Go to Launchpad"}),l.jsx("button",{onClick:()=>s(!1),className:"px-5 py-2.5 rounded-xl bg-zinc-700 hover:bg-zinc-600 text-white font-semibold transition-all duration-300",children:"Close"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-[#FF0080] to-[#00A3FF] bg-clip-text text-transparent",children:"Launch Checklist"}),l.jsxs("button",{onClick:K,disabled:v,className:"flex items-center gap-2 px-2.5 py-1.5 bg-zinc-700 hover:bg-zinc-600 rounded-lg transition-colors text-xs",title:"Refresh status",children:[v?l.jsx(Zd,{className:"animate-spin",size:12}):l.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),v?"Checking...":"Refresh"]})]}),l.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-4",children:[l.jsx("div",{className:`${t.metadataReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[t.metadataReady?l.jsx(Ji,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Metadata"}),l.jsx("p",{className:"text-xs opacity-80",children:t.metadataReady?"Collection metadata ready":"Missing collection metadata"})]})]})}),l.jsx("div",{className:`${t.bannerReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[t.bannerReady?l.jsx(Ji,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Banner"}),l.jsx("p",{className:"text-xs opacity-80",children:t.bannerReady?"Banner image ready":"Missing banner image"})]})]})}),l.jsx("div",{className:`${t.nftsReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[t.nftsReady?l.jsx(Ji,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"NFTs"}),l.jsx("p",{className:"text-xs opacity-80",children:t.nftsReady?"NFTs uploaded and ready":"No NFTs found in collection"})]})]})}),l.jsx("div",{className:`${t.phasesReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[t.phasesReady?l.jsx(Ji,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Phases"}),l.jsx("p",{className:"text-xs opacity-80",children:t.phasesReady?"Sale phases configured":"Missing or incomplete phase configuration"})]})]})}),l.jsx("div",{className:`${t.whitelistReady?"bg-green-900/20 border-green-500/50 text-green-300":"bg-red-900/20 border-red-500/50 text-red-300"} p-3 rounded-xl border transition-all`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[t.whitelistReady?l.jsx(Ji,{className:"text-green-400",size:18}):l.jsx("div",{className:"w-4.5 h-4.5 rounded-full border-2 border-red-400"}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-sm",children:"Whitelist"}),l.jsx("p",{className:"text-xs opacity-80",children:t.whitelistReady?"Whitelist addresses ready":"Missing whitelist addresses for private phases"})]})]})})]}),a&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs font-medium text-zinc-300",children:"Launch Progress"}),l.jsxs("span",{className:"text-xs text-zinc-400",children:[o,"%"]})]}),l.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 overflow-hidden",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-2 transition-all duration-500 ease-out",style:{width:`${o}%`}})}),l.jsx("p",{className:"text-xs text-zinc-400 mt-2",children:g})]}),l.jsxs("div",{className:"flex gap-2",children:[t.allReady&&!a&&l.jsxs("button",{onClick:V,disabled:a,className:"flex-1 py-2.5 px-4 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 hover:opacity-90 text-white text-sm font-semibold transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Ji,{size:16}),t.blockchainStatus?.isInitialized?"Resume Launch":"Confirm Launch"]}),l.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2.5 rounded-xl bg-zinc-700 hover:bg-zinc-600 text-white text-sm font-semibold transition-all duration-300",children:"Close"})]}),t.resumeInfo?.canResume&&l.jsxs("div",{className:"mt-3 p-3 bg-blue-900/20 border border-blue-500/50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(to,{className:"text-blue-400",size:14}),l.jsx("h4",{className:"font-semibold text-blue-300 text-sm",children:"Resume Mode"})]}),l.jsx("p",{className:"text-xs text-blue-200 mb-2",children:"Collection is partially initialized. You can resume from where you left off."}),l.jsxs("div",{className:"text-xs text-blue-300",children:[l.jsx("p",{children:"Steps to complete:"}),l.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:t.resumeInfo.resumeSteps.map((Q,Y)=>l.jsx("li",{children:Q},Y))})]})]}),!t.allReady&&l.jsx("div",{className:"mt-3 p-3 bg-red-900/20 border border-red-500/50 rounded-xl",children:l.jsx("p",{className:"text-xs text-red-300",children:"Please complete all checklist items before launching the sale."})})]})]})]})}),document.body),f.visible&&io.createPortal(l.jsxs("div",{className:"fixed bottom-6 right-6 bg-zinc-800 text-white p-4 rounded-xl shadow-2xl max-w-sm animate-fadeIn border border-zinc-700/50 backdrop-blur-xl z-[999999]",children:[l.jsx("p",{className:"text-sm mb-2",children:f.message}),f.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${f.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-2 text-sm",children:[l.jsx(Kd,{size:16}),"View Transaction"]})]}),document.body)]})},Nxe=({collection:e})=>{const[t,n]=j.useState(0),r=[{id:0,name:"Phase Settings",icon:Due},{id:1,name:"Manage WLs",icon:fx},{id:2,name:"View Collection",icon:f6},{id:3,name:"Stats",icon:Vd}];return e?e.address?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 shadow-2xl",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("img",{src:e.cover||e.firstNFTImage||dr,alt:"cover",className:"w-24 h-24 object-cover rounded-xl border border-zinc-700",onError:s=>{console.warn(" Collection cover failed to load:",s.target.src),e.firstNFTImage&&e.firstNFTImage!==s.target.src?s.target.src=e.firstNFTImage:s.target.src=dr}}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:e.name||"Unnamed Collection"}),l.jsx("p",{className:"text-zinc-400 text-sm",children:e.address})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-zinc-700/50 rounded-lg",children:[l.jsx(Oue,{className:"w-4 h-4 text-zinc-400"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Ready to launch?"})]}),l.jsx(_E,{collection:e})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 shadow-2xl overflow-hidden",children:[l.jsx("div",{className:"flex border-b border-zinc-700",children:r.map(s=>{const a=s.icon;return l.jsxs("button",{onClick:()=>n(s.id),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${t===s.id?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[l.jsx(a,{className:"w-5 h-5"}),l.jsx("span",{children:s.name})]},s.id)})}),l.jsxs("div",{className:"p-6",children:[t===0&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(Gwe,{collection:e})}),t===1&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(mxe,{collection:e})}),t===2&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(yxe,{collection:e})}),t===3&&l.jsx("div",{className:"animate-fadeIn",children:l.jsx(bxe,{collection:e})})]})]})]}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-zinc-400",children:"Invalid collection data"})}):l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-zinc-400",children:"Please select a collection to manage"})})},kxe=()=>{const[e,t]=j.useState(0),[n,r]=j.useState(null),[s,a]=j.useState(0),[i,o]=j.useState(null),[c,u]=j.useState(null),h=[{id:0,name:"Collection Identity"},{id:1,name:"Populate Collection"},{id:2,name:"Studio Dashboard"}],f=w=>{t(w),w===1&&(r(null),a(0))},p=w=>{if(console.log(" Selected collection:",w),!w||!w.address){console.error("Invalid collection selected:",w);return}r(w),u(null)},g=()=>{t(0),r(null)},b=w=>{if(console.log(" Collection created successfully:",w),!w){console.error(" No collection data received");return}try{const v=JSON.parse(localStorage.getItem("dreava_collections")||"[]");v.some(N=>N&&N.address&&N.address.toLowerCase()===w.address.toLowerCase())||localStorage.setItem("dreava_collections",JSON.stringify([w,...v]))}catch{}try{window.ethereum&&window.ethereum.request({method:"eth_accounts"}).then(v=>{const N=v&&v[0];if(N){const A=`dreava_user_collections_${N.toLowerCase()}`,C=localStorage.getItem(A),k=C?JSON.parse(C):{ts:Date.now(),collections:[]},S=Array.isArray(k.collections)?k.collections:[],T=new Map(S.map(P=>[P.address?.toLowerCase(),P]));T.set(w.address.toLowerCase(),w),localStorage.setItem(A,JSON.stringify({ts:Date.now(),collections:Array.from(T.values())}))}}).catch(()=>{})}catch{}setTimeout(()=>{o(w),r(w),t(1),console.log(" Switched to Populate Collection tab with selected collection:",w.name)},300)},y=w=>{console.log(" NFT upload successful:",w),w&&(w.type==="single"?console.log(` Single NFT "${w.nft.name}" uploaded successfully`):w.type==="multiple"&&console.log(` ${w.totalUploaded} NFTs uploaded successfully, ${w.totalFailed} failed`)),setTimeout(()=>{t(2),u(w)},300)};return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Rm,{}),l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] bg-clip-text text-transparent",children:"Create Your Dreams"}),l.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Build, populate, and manage your NFT collections"})]})})})}),l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsx("div",{className:"flex",children:h.map(w=>l.jsx("button",{onClick:()=>f(w.id),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 ${e===w.id?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:w.name},w.id))})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 pb-24 relative z-10",children:l.jsxs("div",{className:"animate-fadeIn",children:[e===0&&l.jsx("div",{children:l.jsx(mD,{onSuccess:b})}),e===1&&l.jsx("div",{className:"max-w-4xl mx-auto",children:n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-zinc-700/30 bg-zinc-800 flex-shrink-0",children:[n.cover||n.image||n.banner?l.jsx("img",{src:n.cover||n.image||n.banner,alt:n.name,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:n.cover||n.image||n.banner?"none":"flex"},children:l.jsx("div",{className:"w-8 h-8 bg-zinc-600 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Populate Collection"}),l.jsxs("p",{className:"text-zinc-400",children:["Selected: ",n.name,i&&i.address===n.address&&l.jsx("span",{className:"ml-2 text-green-400 text-sm",children:" Newly Created"})]})]})]}),l.jsx("button",{onClick:()=>r(null),className:"text-zinc-400 hover:text-white transition-colors",children:"Change Collection"})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:[l.jsxs("div",{className:"flex border-b border-zinc-700 mb-6",children:[l.jsxs("button",{onClick:()=>a(0),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${s===0?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),l.jsx("span",{children:"Single NFT"})]}),l.jsxs("button",{onClick:()=>a(1),className:`flex-1 flex items-center justify-center gap-2 py-4 px-6 font-medium transition-all duration-200 ${s===1?"text-white border-b-2 border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[l.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),l.jsx("span",{children:"Multiple NFTs"})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"animate-fadeIn",children:[s===0&&l.jsx(gD,{collection:n,onSuccess:y}),s===1&&l.jsx(wD,{collection:n,onSuccess:y})]})})]})]}):l.jsxs("div",{className:"py-12",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Populate Collection"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Select a collection to add NFTs"}),l.jsx(b6,{onSelect:p,showCreateButton:!0,onCreateNew:g})]})}),e===2&&l.jsx("div",{className:"max-w-4xl mx-auto",children:n?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-zinc-700/30 bg-zinc-800 flex-shrink-0",children:[n.cover||n.image||n.banner?l.jsx("img",{src:n.cover||n.image||n.banner,alt:n.name,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:n.cover||n.image||n.banner?"none":"flex"},children:l.jsx("div",{className:"w-8 h-8 bg-zinc-600 rounded-lg flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 00-2-2V6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Studio Dashboard"}),l.jsxs("p",{className:"text-zinc-400",children:["Selected: ",n.name,c&&c.collection&&c.collection.address===n.address&&l.jsxs("span",{className:"ml-2 text-green-400 text-sm",children:[" Recently Uploaded ",c.type==="single"?"NFT":`${c.totalUploaded} NFTs`]})]})]})]}),l.jsx("button",{onClick:()=>r(null),className:"text-zinc-400 hover:text-white transition-colors",children:"Change Collection"})]}),l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-8 shadow-2xl",children:l.jsx(Nxe,{collection:n})})]}):l.jsxs("div",{className:"py-12",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Studio Dashboard"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Select a collection to manage"}),l.jsx(b6,{onSelect:p,showCreateButton:!0,onCreateNew:g})]})})]})})]})},Cxe=()=>l.jsxs("div",{className:"relative min-h-screen bg-[#0d0d0d] text-white font-sans pt-20 px-6 overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none select-none z-0"}),l.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto text-center",children:[l.jsx("h1",{className:"text-[50px] md:text-[60px] font-bold bg-gradient-to-r from-[#FF0080] via-[#367aff] to-[#00A3FF] bg-clip-text text-transparent mb-6",children:"Welcome to the Dreava Launchpad"}),l.jsx("p",{className:"text-lg md:text-xl text-zinc-400 mb-12",children:"We're not just building a marketplace  we're building a movement. Here, NFTs unlock worlds, ideas, and the next chapter of the digital revolution."}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-left",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Beyond Art & Collectibles"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Each collection is a living ecosystem, where holders gain access to real utility, exclusive spaces, and transformative opportunities."})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fuelled by Purpose"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"Our token isn't for speculation. It's the engine of governance, rewards, and platform growth  designed for those who build and believe."})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 border border-zinc-700 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"A Community That Leads"}),l.jsx("p",{className:"text-sm text-zinc-400",children:"OG holders form the core circle, influencing the direction of Dreava and opening doors for emerging creators and projects."})]})]}),l.jsx("div",{className:"mt-12 pb-24 md:pb-0",children:l.jsx(ha,{to:"/active-sales",className:"inline-block px-8 py-4 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold shadow-md hover:opacity-90 transition transform active:scale-95",children:"Enter the World of Possibilities"})})]})]}),Exe=()=>l.jsx("main",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:l.jsx("h1",{className:"text-4xl font-bold",children:"Marketplace  Coming Soon "})}),Axe="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20width='100%25'%20height='100%25'%20viewBox='0%200%2059%2052'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xml:space='preserve'%20xmlns:serif='http://www.serif.com/'%20style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3e%3cg%20transform='matrix(1,0,0,1,-3025.41,-4174.8)'%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,2101.56,3817.07)'%3e%3cg%20transform='matrix(0.0662647,0,0,0.954192,909.302,337.43)'%3e%3cg%3e%3cpath%20d='M1151.78,37.052C1151.78,29.535%201064.12,23.433%20956.144,23.433L461.607,23.433C353.633,23.433%20265.972,29.535%20265.972,37.052L265.972,64.289C265.972,71.806%20353.633,77.908%20461.607,77.908L956.144,77.908C1064.12,77.908%201151.78,71.806%201151.78,64.289L1151.78,37.052Z'%20style='fill:rgb(39,39,42);'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%20transform='matrix(0.996682,0,0,0.994293,2101.56,3807.07)'%3e%3cg%20id='drag-drop-svgrepo-com.svg'%20transform='matrix(0.0510569,0,0,0.0511795,956.276,395.837)'%3e%3cg%20transform='matrix(1,0,0,1,-400,-400)'%3e%3cg%3e%3crect%20x='0'%20y='0'%20width='800'%20height='800'%20style='fill:none;fill-rule:nonzero;'/%3e%3cpath%20d='M533.333,433.333L765.467,568.733L666.367,597.067L737.2,719.767L679.467,753.1L608.633,630.433L534.533,702.1L533.333,433.333ZM466.667,200L533.333,200L533.333,266.667L700,266.667C718.286,266.667%20733.333,281.714%20733.333,300L733.333,433.333L666.667,433.333L666.667,333.333L333.333,333.333L333.333,666.667L466.667,666.667L466.667,733.333L300,733.333C281.714,733.333%20266.667,718.286%20266.667,700L266.667,533.333L200,533.333L200,466.667L266.667,466.667L266.667,300C266.667,281.714%20281.714,266.667%20300,266.667L466.667,266.667L466.667,200ZM133.333,466.667L133.333,533.333L66.667,533.333L66.667,466.667L133.333,466.667ZM133.333,333.333L133.333,400L66.667,400L66.667,333.333L133.333,333.333ZM133.333,200L133.333,266.667L66.667,266.667L66.667,200L133.333,200ZM133.333,66.667L133.333,133.333L66.667,133.333L66.667,66.667L133.333,66.667ZM266.667,66.667L266.667,133.333L200,133.333L200,66.667L266.667,66.667ZM400,66.667L400,133.333L333.333,133.333L333.333,66.667L400,66.667ZM533.333,66.667L533.333,133.333L466.667,133.333L466.667,66.667L533.333,66.667Z'%20style='fill:white;fill-rule:nonzero;'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Sxe="/assets/UploadJson-DUhld9f3.svg",jxe=()=>{const[e,t]=j.useState(null),[n,r]=j.useState([]),[s,a]=j.useState(""),[i,o]=j.useState(!1),c=async f=>{if(f){t(f);try{const p=await f.text(),g=JSON.parse(p);if(!Array.isArray(g))throw new Error("Invalid JSON: expected an array of NFT metadata");r(g)}catch(p){console.error(p),a(" Failed to parse JSON")}}},u=async()=>{try{if(!window.ethereum)throw new Error("Wallet not detected");const f=await new wr(window.ethereum).getSigner();for(const p of n){a(`Uploading metadata: ${p.name||"Untitled"}`);const g=await fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJmMDQxYjk4My0zODk3LTQzOWEtOThhYi0wMTdmN2MyZjIwYzMiLCJlbWFpbCI6ImJ1bGF2aW5hZnJlZWxhbmNlQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJwaW5fcG9saWN5Ijp7InJlZ2lvbnMiOlt7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6IkZSQTEifSx7ImRlc2lyZWRSZXBsaWNhdGlvbkNvdW50IjoxLCJpZCI6Ik5ZQzEifV0sInZlcnNpb24iOjF9LCJtZmFfZW5hYmxlZCI6ZmFsc2UsInN0YXR1cyI6IkFDVElWRSJ9LCJhdXRoZW50aWNhdGlvblR5cGUiOiJzY29wZWRLZXkiLCJzY29wZWRLZXlLZXkiOiJiYTg2ZDQzOThjOGY5MWY5Mjg2YiIsInNjb3BlZEtleVNlY3JldCI6ImJmMGJhOThkOTU4MzY1NTBjZWU0OGNjNjM0ZjBkZGVlMWFmODJlNTZhMjJkNWI3YTVlMGJhZmUwZTkxNmYyNDkiLCJleHAiOjE3NzkzODkyNDl9.tM3vC2lxATC_UWUISCQN8vDdMfms0HuCpmcZTaqC2Hg"},body:JSON.stringify(p)}),{IpfsHash:b}=await g.json(),y=`ipfs://${b}`;await(await new Pt(p.contractAddress,Rn,f).mintPublic(await f.getAddress(),y)).wait()}a(" All NFTs minted")}catch(f){console.error(f),a(` Error: ${f.message}`)}},h=f=>{f.preventDefault(),o(!1);const p=f.dataTransfer.files[0];p&&p.type==="application/json"&&c(p)};return l.jsx("div",{className:"w-[780px] mx-auto text-white font-sans",children:l.jsxs("div",{className:"border border-zinc-700 bg-zinc-900 rounded-2xl p-8",children:[l.jsx("h2",{className:"text-[28px] font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-[6px]",children:"Pro Upload (JSON)"}),l.jsx("p",{className:"text-zinc-400 mb-[16px] text-sm leading-snug",children:"Upload your structured NFT metadata using a JSON file for advanced batch minting."}),!e&&l.jsxs("div",{onDragOver:f=>{f.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:h,className:`border border-dashed rounded-xl p-8 text-center mb-8 transition-colors duration-150 ${i?"border-pink-500 bg-zinc-800":"border-zinc-700 bg-zinc-900"}`,children:[l.jsx("img",{src:Axe,alt:"Upload Icon",className:"mx-auto mb-6 w-10 h-10"}),l.jsx("p",{className:"text-sm font-medium mb-1 text-white",children:"Drag & drop your JSON file here"}),l.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"or use the button below to upload"}),l.jsxs("ul",{className:"text-xs text-left mx-auto max-w-md text-zinc-500 space-y-1 mb-6",children:[l.jsxs("li",{children:[" Format: ",l.jsx("code",{children:".json"})]}),l.jsx("li",{children:" Must be an array of metadata objects"}),l.jsx("li",{children:" Recommended: IPFS image links"}),l.jsx("li",{children:" Max file size: 5MB"}),l.jsxs("li",{children:[" Each object must include a ",l.jsx("code",{children:"contractAddress"})]})]}),l.jsxs("label",{className:"inline-block cursor-pointer",children:[l.jsx("img",{src:Sxe,alt:"Upload JSON",className:"w-[160px]"}),l.jsx("input",{type:"file",accept:"application/json",onChange:f=>c(f.target.files[0]),className:"hidden"})]})]}),n.length>0&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-zinc-300",children:["Detected ",n.length," NFTs from JSON"]}),l.jsx("button",{onClick:u,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm shadow-md active:scale-95 transition",children:"Mint All from JSON"})]}),s&&l.jsx("p",{className:"text-sm text-center text-zinc-400 mt-6",children:s})]})})},_xe="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",Ixe=async e=>{for(const t of e)try{const n=await fetch(t);if(n.ok)return await n.json()}catch{}throw new Error("All IPFS gateways failed")},Txe=()=>{const[e,t]=j.useState([]),n=Xr();j.useEffect(()=>{(async()=>{try{const s=new wr(window.ethereum),a=await(await s.getSigner()).getAddress(),i=await new Pt(_xe,Mm,s).getUserCollections(a),o=(await Promise.all(i.map(async c=>{try{const u=new Pt(c,Rn,s);if((await u.owner()).toLowerCase()!==a.toLowerCase())return console.warn(`Skipping ${c} because owner mismatch`),null;const h=await u.name();let f="",p="";try{p=await u.contractURI(),console.log(`Contract ${c} returned contractURI: '${p}'`)}catch(g){console.warn(`No contractURI() on contract ${c}:`,g)}if(p&&p!==""){const g=Dn(p);try{const b=await Ixe(g);b.image?f=Dn(b.image)[0]:console.warn(`No image field in metadata for ${c}`)}catch(b){console.warn(`Failed to fetch metadata JSON for ${c}:`,b)}}else console.warn(`Metadata URI is empty for contract ${c}`);return{address:c,name:h,cover:f||dr,createdAt:"-",views:Math.floor(Math.random()*500),revenue:(Math.random()*10).toFixed(2)}}catch(u){return console.error(`Error processing contract ${c}:`,u),null}}))).filter(c=>c!==null);t(o)}catch(s){console.error("Failed to load collections:",s)}})()},[]);const r=s=>{n(`/manage/${s}`)};return l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12 text-white font-sans relative z-10",children:[l.jsxs("div",{className:"mb-12 text-center",children:[l.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-[#FF0080] via-[#367aff] to-[#00A3FF] bg-clip-text text-transparent mb-3",children:"My Studio"}),l.jsx("p",{className:"text-zinc-400 mt-2 max-w-2xl mx-auto text-base",children:"Welcome, Creator. Here, you are more than an artist  you are a storyteller, a world-builder, a gatekeeper to dreams."})]}),e.length===0?l.jsxs("div",{className:"text-center text-zinc-500",children:[l.jsx("p",{className:"mb-4",children:"You haven't created any collections yet."}),l.jsx(ha,{to:"/explore#create",className:"inline-block px-8 py-3 rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold shadow-md hover:opacity-90 transition",children:"Create Your First Collection"})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((s,a)=>l.jsx("div",{className:"relative h-[420px] rounded-2xl shadow-lg hover:scale-105 transform transition duration-300 overflow-hidden border border-zinc-700",style:{backgroundImage:`url(${s.cover||s.firstNFTImage||"/default-cover.png"})`,backgroundSize:"cover",backgroundPosition:"center"},children:l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent p-4 flex flex-col justify-end",children:[l.jsx("h3",{className:"text-lg font-semibold mb-1 truncate",title:s.name,children:s.name}),l.jsxs("p",{className:"text-zinc-400 text-xs mb-2",children:["Created on ",s.createdAt||"Unknown"]}),l.jsxs("div",{className:"text-xs text-zinc-400 mb-3 space-y-1",children:[l.jsxs("p",{children:["Views: ",l.jsx("span",{className:"text-white font-medium",children:s.views})]}),l.jsxs("p",{children:["Revenue: ",l.jsxs("span",{className:"text-white font-medium",children:[" ",s.revenue]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>r(s.address),className:"flex-1 py-2 text-sm rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition relative group",children:["Manage",l.jsx("span",{className:"absolute left-1/2 transform -translate-x-1/2 -bottom-8 bg-zinc-700 text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition",children:"Set prices, phases, analytics"})]}),l.jsx("div",{className:"flex-1",children:l.jsx(_E,{collection:s})})]})]})},a))})]})},Pxe=({text:e,maxLines:t=1,className:n=""})=>{const[r,s]=j.useState(!1),a=j.useRef(null);if(j.useEffect(()=>{const o=c=>{r&&a.current&&!a.current.contains(c.target)&&s(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[r]),!e)return null;const i=t===1?50:100;return e.length>i?l.jsxs("div",{className:"relative",ref:a,children:[l.jsxs("div",{className:`${n} flex items-start`,children:[l.jsx("span",{className:"flex-1 truncate",children:e.substring(0,i)}),l.jsx("button",{onClick:o=>{o.stopPropagation(),s(!r)},className:"ml-1 text-blue-400 hover:text-blue-300 cursor-pointer flex-shrink-0",children:"..."})]}),r&&l.jsx("div",{className:"absolute bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg z-50 backdrop-blur-sm",style:{top:"-10px",right:"0px",width:"280px",maxHeight:"150px",overflow:"auto"},children:l.jsx("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap break-words",children:e})})]}):l.jsx("div",{className:n,children:e})},Aw=({activeTab:e,setActiveTab:t})=>l.jsx("div",{className:"bg-zinc-900 border-b border-zinc-800 relative z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-6",children:l.jsxs("div",{className:"flex",children:[l.jsx("button",{onClick:()=>t("completed"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${e==="completed"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Completed Sales"}),l.jsx("button",{onClick:()=>t("active"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${e==="active"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Active Sales"}),l.jsx("button",{onClick:()=>t("upcoming"),className:`py-4 px-6 font-medium transition-all duration-200 border-b-2 cursor-pointer ${e==="upcoming"?"text-white border-pink-500 bg-gradient-to-r from-pink-500/10 to-blue-500/10":"text-zinc-400 border-transparent hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:"Upcoming Sales"})]})})}),w9=({portalVideo:e,portalHoverVideo:t})=>{const{collections:n,loading:r,error:s}=JC(),[a,i]=j.useState(0),[o,c]=j.useState("active"),[u,h]=j.useState({}),[f,p]=j.useState(!1);j.useMemo(()=>window.innerWidth<768,[]),j.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]);const g=j.useMemo(()=>{if(!n||n.length===0)return[];const I=[];return n.slice(0,10).forEach(M=>{M.cover&&I.push(M.cover),M.bannerImage&&I.push(M.bannerImage),M.firstNFTImage&&I.push(M.firstNFTImage)}),[...new Set(I)]},[n]),b=Math.floor(Date.now()/1e3),y=Math.floor(new Date("2025-06-29T00:00:00Z").getTime()/1e3),w=I=>{const M=I.phases||{},W=Object.values(M).length>0&&Object.values(M).every(z=>Number(z.end)<b);return I.soldOut||W},v=I=>I&&Object.values(I).some(M=>Number(M.start)<=b&&b<=Number(M.end)),N=I=>I&&Object.values(I).some(M=>Number(M.start)>b),A=I=>I.phases||I.metadata?.phases||{},C=I=>{const M=A(I);return!M||Object.values(M).length===0?0:Math.max(...Object.values(M).map(W=>Number(W.end)))},k=n.filter(I=>{const M=A(I);if(o==="completed")return w(I)&&C(I)>=y;if(o==="active")return v(M)&&!w(I);if(o==="upcoming"){const W=N(M),z=v(M);return W&&!z&&!w(I)}return!1});if(j.useEffect(()=>{i(0)},[o,k.length]),r)return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Aw,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:l.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:l.jsx(Id,{message:"Loading active sales",showLogo:!0,size:"default",showProgress:!1,showDots:!1})})})]});if(s)return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Aw,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[l.jsx(Id,{message:`Error loading collections: ${s}`,showLogo:!0,size:"default",showProgress:!1,showDots:!1}),l.jsx("p",{className:"text-zinc-400 text-sm mt-4",children:"The indexer may not be running yet."})]})})]});if(k.length===0){const I=()=>o==="active"?"No active sales at the moment":o==="upcoming"?"No upcoming sales at the moment":"No completed sales yet";return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Aw,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8 relative z-10",children:l.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:l.jsx(Id,{message:I(),showLogo:!0,size:"default",showProgress:!1,showDots:!1})})})]})}const S=()=>{i(I=>{const M=I-3;return M<0?Math.max(0,k.length-3):M})},T=()=>{i(I=>{const M=I+3;return M>=k.length?0:M})},P=k.slice(a,a+3);return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Aw,{activeTab:o,setActiveTab:c}),l.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:l.jsxs("div",{className:"animate-fadeIn",children:[l.jsx(XC,{onMetrics:h,showUI:!1}),g.length>0&&l.jsx(xx,{images:g,priority:!0,onComplete:()=>p(!0),onProgress:(I,M)=>{I===M&&p(!0)}}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-4",children:[o==="active"&&"Active Sales",o==="upcoming"&&"Upcoming Sales",o==="completed"&&"Completed Sales"]}),l.jsxs("p",{className:"text-zinc-400 text-lg",children:[o==="active"&&"Discover and mint from the latest NFT collections",o==="upcoming"&&"Get ready for these exciting upcoming launches",o==="completed"&&"Explore completed sales and their achievements"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:P.map((I,M)=>l.jsx(Oxe,{collection:I,portalVideo:e,portalHoverVideo:t,isSaleEnded:w,getPhases:A,now:b,isUpcoming:o==="upcoming"},I.address))}),k.length>3&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:S,className:"absolute top-1/2 left-[-20px] transform -translate-y-1/2 bg-zinc-800 bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-10",children:l.jsx("img",{src:YC,alt:"Previous",className:"w-6 h-6 opacity-80 hover:opacity-100"})}),l.jsx("button",{onClick:T,className:"absolute top-1/2 right-[-20px] transform -translate-y-1/2 bg-zinc-800 bg-opacity-60 hover:bg-opacity-80 rounded-full p-2 z-10",children:l.jsx("img",{src:QC,alt:"Next",className:"w-6 h-6 opacity-80 hover:opacity-100"})})]}),k.length>3&&l.jsx("div",{className:"flex justify-center mt-8",children:l.jsx("div",{className:"flex gap-2",children:Array.from({length:Math.ceil(k.length/3)}).map((I,M)=>l.jsx("button",{onClick:()=>i(M*3),className:`w-3 h-3 rounded-full transition-all duration-200 ${Math.floor(a/3)===M?"bg-gradient-to-r from-blue-500 to-pink-500":"bg-zinc-600 hover:bg-zinc-500"}`},M))})})]})]})})]})},Oxe=({collection:e,portalVideo:t,portalHoverVideo:n,isSaleEnded:r,getPhases:s,now:a,isUpcoming:i=!1})=>{const o=Xr(),[c,u]=j.useState(!1),[h,f]=j.useState(!1),p=s(e),g=Object.entries(p).find(([,S])=>{const T=Number(S.start),P=Number(S.end);return T<=a&&a<=P}),b=Object.values(p).filter(S=>Number(S.start)>a),y=b.length>0?b.reduce((S,T)=>{const P=Number(S.start),I=Number(T.start);return P<I?S:T}):null,w=()=>{h||u(!0)},v=()=>{u(!1)},N=()=>{f(!0)};j.useEffect(()=>{f(!1),u(!1)},[e]);const A=e.description||e.metadata?.description||"No description provided.",C=g?g[1].price:"0",k=r(e);return l.jsxs("div",{className:"bg-[#111] p-4 rounded-2xl text-white shadow-lg border border-zinc-800/50 h-[480px] flex flex-col cursor-pointer hover:scale-105 transition-all duration-300",onMouseEnter:w,onMouseLeave:v,onClick:()=>o(`/launchpad/collection/${e.address}`),children:[l.jsxs("div",{className:"relative mb-4 flex-shrink-0 h-64 overflow-hidden rounded-xl",children:[l.jsx("video",{src:t,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),c&&!h&&l.jsx("video",{src:n,autoPlay:!0,muted:!0,playsInline:!0,onEnded:N,className:"absolute inset-0 w-full h-full object-cover"}),h&&l.jsx("img",{src:e.cover||e.firstNFTImage||dr,alt:e.name,className:"absolute inset-0 w-full h-full object-contain bg-zinc-900 transition-opacity duration-700",style:{objectFit:"contain",objectPosition:"center"},onError:S=>{e.firstNFTImage&&e.firstNFTImage!==S.currentTarget.src?S.currentTarget.src=e.firstNFTImage:S.currentTarget.src=dr}}),l.jsx("div",{className:"absolute top-3 right-3",children:r(e)?l.jsx("span",{className:"px-2 py-1 bg-red-500/80 text-white text-xs rounded-full",children:"Ended"}):g?l.jsxs("span",{className:"px-2 py-1 bg-green-500/80 text-white text-xs rounded-full flex items-center gap-1",children:[l.jsx(m6,{size:12}),"Active"]}):y?l.jsx("span",{className:"px-2 py-1 bg-yellow-500/80 text-white text-xs rounded-full",children:"Upcoming"}):l.jsx("span",{className:"px-2 py-1 bg-zinc-500/80 text-white text-xs rounded-full",children:"Paused"})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent mb-2",children:e.name}),l.jsx("div",{className:"mb-3 flex-1",children:l.jsx(Pxe,{text:A,maxLines:1,className:"text-sm text-zinc-400"})}),l.jsxs("div",{className:"flex justify-between text-sm text-zinc-300 mb-2",children:[!i&&(g||k)?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(fx,{size:12}),e.minted||0," / ",e.totalSupply||0]}):l.jsx("span",{}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-3 h-3"}),C," STT"]})]}),l.jsx("div",{className:"mb-3",children:r(e)?l.jsx("span",{className:"text-red-400 text-xs font-medium",children:"Sale ended"}):g?l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx(gm,{size:12,className:"text-pink-400"}),l.jsx("span",{className:"text-pink-400",children:"Ends in:"}),l.jsx(qg,{date:Number(g[1].end)*1e3,renderer:({days:S,hours:T,minutes:P,seconds:I})=>l.jsxs("span",{className:"text-white font-mono",children:[S>0?`${S}d `:"",T,"h ",P,"m ",I,"s"]})})]}):y?l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx(gm,{size:12,className:"text-yellow-400"}),l.jsx("span",{className:"text-yellow-400",children:"Starts in:"}),l.jsx(qg,{date:Number(y.start)*1e3,renderer:({days:S,hours:T,minutes:P,seconds:I})=>l.jsxs("span",{className:"text-white font-mono",children:[S>0?`${S}d `:"",T,"h ",P,"m ",I,"s"]})})]}):l.jsx("span",{className:"text-zinc-400 text-xs",children:"No active phase"})}),l.jsxs("button",{className:"w-full py-2.5 bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white rounded-xl font-semibold transition-all duration-200 flex items-center justify-center gap-2 text-sm",children:[l.jsx("span",{children:"Enter Portal"}),l.jsx(lx,{size:14})]})]})]})},Rxe=({collection:e})=>{const[t,n]=j.useState(""),[r,s]=j.useState(""),[a,i]=j.useState(0),[o,c]=j.useState(""),[u,h]=j.useState(""),[f,p]=j.useState(null),[g,b]=j.useState(!1),[y,w]=j.useState(""),[v,N]=j.useState(0),[A,C]=j.useState(!1);j.useEffect(()=>{(async()=>{n(e.description||""),s(e.external_link||""),i(e.royaltyPercent||0),c(e.royaltyRecipient||"");let P=!1;e.image&&e.image.trim()!==""&&(h(Dn(e.image)[0]),P=!0);try{const I=new wr(window.ethereum),M=await new Pt(e.address,["function contractURI() public view returns (string)"],I).contractURI();if(!M)return;const W=Dn(M)[0],z=await fetch(W);if(!z.ok)throw new Error(`HTTP ${z.status}`);const B=await z.json();!e.description&&B.description&&n(B.description),!e.external_link&&B.external_link&&s(B.external_link),!e.royaltyPercent&&B.royaltyPercent&&i(B.royaltyPercent),!e.royaltyRecipient&&B.royaltyRecipient&&c(B.royaltyRecipient),!P&&B.image&&h(Dn(B.image)[0])}catch(I){console.warn("Could not load image or metadata from contractURI:",I)}})()},[e]);const k=P=>{const I=P.target.files[0];I&&(p(I),h(URL.createObjectURL(I)))},S=async P=>{const I=new FormData;return I.append("file",P),(await(await fetch("/api/pin-file",{method:"POST",body:I})).json()).ipfsUri},T=async()=>{try{b(!0),C(!0),w("Uploading cover image..."),N(20);let P="";f?P=await S(f):u?P=u:e.image?P=e.image:P="",w("Uploading metadata..."),N(50);const I={name:e.name,description:t,image:P,external_link:r,royaltyRecipient:o,royaltyPercent:a},M=await fetch("/api/pin-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:I})});if(!M.ok)throw new Error(`Server error: ${M.status}`);const W=(await M.json()).ipfsUri;w("Signing transaction..."),N(75);const z=await new wr(window.ethereum).getSigner();await(await new Pt(e.address,["function setContractURI(string uri) external"],z).setContractURI(W)).wait();const B=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).map(O=>O.address===e.address?{...O,image:P}:O);localStorage.setItem("dreava_collections",JSON.stringify(B)),w(" Metadata updated successfully!"),N(100)}catch(P){console.error("Error updating metadata:",P),w(` Error: ${P.message}`),N(0)}finally{b(!1)}};return l.jsxs("div",{className:"w-full mx-auto text-white pt-[8px] font-sans",children:[l.jsx("h2",{className:"text-[24px] font-bold bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent leading-none mb-[6px]",children:"Edit Collection Metadata"}),l.jsxs("div",{className:"mb-[20px] flex gap-[24px] items-start",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"text-[13px] font-medium mb-[6px] text-white",children:"Cover Image"}),l.jsxs("label",{htmlFor:"cover-upload",className:"w-[160px] h-[144px] bg-zinc-900 border border-zinc-600 rounded-xl flex-shrink-0 flex items-center justify-center cursor-pointer overflow-hidden",children:[u?l.jsx("img",{src:u||e.firstNFTImage||dr,alt:"preview",className:"w-full h-full object-cover",onError:P=>{console.warn(" Cover preview failed to load:",P.target.src),e.firstNFTImage&&e.firstNFTImage!==P.target.src?P.target.src=e.firstNFTImage:P.target.src=dr}}):l.jsx("img",{src:"/src/assets/upload-icon.svg",alt:"icon",className:"w-8 h-8 opacity-70"}),l.jsx("input",{id:"cover-upload",type:"file",accept:"image/*",onChange:k,className:"hidden"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Description"}),l.jsx("textarea",{value:t,onChange:P=>n(P.target.value),className:"w-full p-3 rounded-xl bg-zinc-800 border border-zinc-600 text-white h-[144px] placeholder:text-zinc-500 text-sm"})]})]}),l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Website"}),l.jsx("input",{type:"text",value:r,onChange:P=>s(P.target.value),placeholder:"https://yourwebsite.com",className:"w-full p-3 mb-[16px] rounded-xl bg-zinc-800 border border-zinc-600 text-white placeholder:text-zinc-500 text-sm"}),l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Royalty Recipient"}),l.jsx("input",{type:"text",value:o,onChange:P=>c(P.target.value),className:"w-full p-3 mb-[12px] rounded-xl bg-zinc-800 border border-zinc-600 text-white text-sm"}),l.jsx("label",{className:"text-[13px] font-medium mb-[4px] block text-white",children:"Royalty Percent (%)"}),l.jsx("input",{type:"number",min:0,max:100,value:a,onChange:P=>i(parseFloat(P.target.value)),className:"w-full p-3 mb-[20px] rounded-xl bg-zinc-800 border border-zinc-600 text-white text-sm"}),l.jsx("button",{onClick:T,disabled:g,className:"w-full py-[12px] mb-[24px] rounded-xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm transition-transform active:scale-95 shadow-md",children:g?"Saving...":"Save Metadata"}),A&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-[9997]",children:l.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-lg w-full text-center relative animate-fadeIn",tabIndex:-1,autoFocus:!0,children:[l.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>C(!1),children:l.jsx(Jn,{size:20})}),l.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent",children:"Update Progress"}),l.jsxs("div",{className:"w-full bg-zinc-700 rounded-full h-5 mb-4 relative",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-5 rounded-full transition-all duration-500",style:{width:`${v}%`}}),l.jsxs("span",{className:"absolute inset-0 flex justify-center items-center text-sm text-white font-semibold",children:[v,"%"]})]}),l.jsx("p",{className:"text-sm text-white mb-2",children:y}),l.jsx("button",{onClick:()=>C(!1),className:"w-full mt-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Close"})]})})]})},Mxe=({onClick:e,...t})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1298 321",className:"w-full h-full select-none",...t,children:[l.jsx("path",{fill:"#18181B",stroke:"#fff",strokeWidth:"0.21",d:"M3700.67 5315.2c0-4.89-9.98-8.86-22.27-8.86H2427.64c-12.29 0-22.27 3.97-22.27 8.86v108.87c0 4.89 9.98 8.86 22.27 8.86H3678.4c12.29 0 22.27-3.97 22.27-8.86z",transform:"matrix(1 0 0 2.51285 -2404.344 -13332.957)"}),l.jsxs("g",{onClick:e,style:{cursor:"pointer"},children:[l.jsx("path",{fill:"url(#_Linear1)",d:"M1151.78 37.052c0-7.517-22.03-13.619-49.17-13.619H315.136c-27.134 0-49.164 6.102-49.164 13.619v27.237c0 7.517 22.03 13.619 49.164 13.619h787.474c27.14 0 49.17-6.102 49.17-13.619z",transform:"matrix(.19462 0 0 .7026 509.37 217.825)"}),l.jsx("path",{fill:"#fff",d:`M580.64 243.342c0 .614.012 12.652.012 13.856 0 .695.56 1.256 1.25 1.256s1.249-.56 1.249-1.256l-.011-13.856a1.25 1.25 0 0 0-2.5 0
           M571.246 255.048l.011 8.38c0 .69.56 1.252 1.25 1.252s1.249-.561 1.249-1.253l-.011-8.379c0-.692-.56-1.252-1.25-1.252s-1.25.56-1.25 1.252
           M589.813 255.048c0 .371.012 7.651.012 8.38 0 .69.559 1.252 1.25 1.252.69 0 1.249-.561 1.249-1.253 0-.728-.012-8.008-.012-8.379 0-.692-.559-1.252-1.25-1.252-.69 0-1.249.56-1.249 1.252`}),l.jsx("path",{fill:"#fff",d:`m591.037 262.378-18.422.011a1.249 1.249 0 1 0 0 2.5c1.6 0 17.607-.012 18.422-.012a1.249 1.249 0 1 0 0-2.499
           M581.062 243.84c.576.577 5.494 5.179 5.72 5.396.491.485 1.285.471 1.77-.02a1.253 1.253 0 0 0-.028-1.771c-.218-.211-5.115-4.792-5.684-5.361a1.24 1.24 0 0 0-1.764-.007 1.245 1.245 0 0 0-.014 1.763`}),l.jsx("path",{fill:"#fff",d:"M581.026 242.084c-.57.569-5.466 5.15-5.684 5.36a1.253 1.253 0 0 0-.028 1.771 1.253 1.253 0 0 0 1.77.021c.225-.217 5.143-4.82 5.72-5.396a1.245 1.245 0 0 0-.015-1.763 1.24 1.24 0 0 0-1.763.007"}),l.jsxs("text",{x:"89.146",y:"37.587",fill:"#fff",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"20.831",fontWeight:"700",transform:"matrix(.87238 0 0 .87238 523.736 227.42)",style:{userSelect:"none",pointerEvents:"none"},children:["Uplo",l.jsx("tspan",{x:"135.802px 147.113px",y:"37.587px 37.587px",children:"ad"})," image"]})]}),l.jsx("text",{x:"89.146",y:"37.587",fill:"url(#_Linear2)",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"17.828",fontWeight:"700",transform:"translate(-21.81 6.162)scale(2.16747)",children:"Youre reading this headline  so will everyone else!"}),l.jsx("text",{x:"89.146",y:"37.587",fill:"#fff",fontFamily:"'MalgunGothicBold', 'Malgun Gothic', sans-serif",fontSize:"17.828",fontWeight:"700",transform:"matrix(1.33415 0 0 1.33415 132.84 96.885)",children:"This is your one and only chance to make a dazzling first impression!"}),l.jsx("text",{x:"89.146",y:"37.587",fill:"#fff",fillOpacity:"0.5",fontFamily:"'MalgunGothic', 'Malgun Gothic', sans-serif",fontSize:"9.637",transform:"translate(186.088 127.78)scale(1.45279)",children:"Recommended: 1200x400px, JPG or PNG. Choose a bold, eye-catching visual that represents your story."}),l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"_Linear1",x1:"0",x2:"1",y1:"0",y2:"0",gradientTransform:"matrix(885.808 0 0 54.4748 265.972 50.67)",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{offset:"0",stopColor:"#45B4EF"}),l.jsx("stop",{offset:"0.5",stopColor:"#572BF6"}),l.jsx("stop",{offset:"1",stopColor:"#D11399"})]}),l.jsxs("linearGradient",{id:"_Linear2",x1:"0",x2:"1",y1:"0",y2:"0",gradientTransform:"matrix(130.74 0 0 13.7626 89.86 30.933)",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{offset:"0",stopColor:"#45B4EF"}),l.jsx("stop",{offset:"0.19",stopColor:"#572BF6"}),l.jsx("stop",{offset:"0.62",stopColor:"#B01AB2"}),l.jsx("stop",{offset:"1",stopColor:"#D11399"})]})]})]}),zxe=({imageUrl:e,onUpload:t,onRemove:n})=>{const r=j.useRef(null),s=o=>{const c=o.target.files[0];c&&t(c)},a=o=>{o.preventDefault();const c=o.dataTransfer.files[0];c&&t(c)},i=()=>{r.current?.click()};return l.jsx("div",{className:"relative h-[320px] w-full rounded-2xl overflow-hidden shadow-lg mb-8 group",onDrop:a,onDragOver:o=>o.preventDefault(),children:e?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:e,alt:"Banner",className:"w-full h-full object-cover"}),l.jsx("button",{onClick:n,className:"absolute top-2 right-2 z-10 bg-zinc-800 hover:bg-red-600 text-white rounded-full p-1 transition",title:"Delete banner",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 z-0",onClick:i,children:l.jsx(Mxe,{className:"w-full h-full cursor-pointer select-none"})}),l.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:s,className:"hidden"})]})})},Fxe=()=>{const{address:e}=gy(),t=Xr(),[n,r]=j.useState(null),[s,a]=j.useState(null);j.useEffect(()=>{(async()=>{const p=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(g=>g.address===e);if(p){r(p),p.banner&&a(p.banner);try{const g=new wr(window.ethereum),b=await new Pt(e,["function contractURI() public view returns (string)"],g).contractURI();if(b&&b.startsWith("ipfs://")){const y=Dn(b),w=await(await fetch(y[0])).json();r(v=>({...v,description:w.description||"",seller_fee_basis_points:w.seller_fee_basis_points||0,fee_recipient:w.fee_recipient||"",banner:v.banner||""}))}}catch(g){console.error("Failed to fetch contract metadata:",g)}}})()},[e]);const i=p=>{const g=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).map(b=>b.address===e?{...b,banner:p}:b);localStorage.setItem("dreava_collections",JSON.stringify(g)),r(b=>({...b,banner:p}))},o=async p=>{if(p)try{const g=new FormData;g.append("file",p);const b=await fetch("/api/pin-file",{method:"POST",body:g});if(!b.ok)throw new Error(`Upload failed: ${b.status}`);const y=await b.json();if(y.gatewayUrl)a(y.gatewayUrl),i(y.gatewayUrl);else throw new Error("No URL returned from server")}catch(g){console.error("Banner upload error:",g),alert("Failed to upload banner. Please try again.")}},c=()=>{window.confirm("Are you sure you want to delete the banner?")&&(a(null),i(null))},u=()=>t(`/edit-nfts/${e}`),h=()=>t(`/edit-phases/${e}`),f=()=>t(`/manage-wls/${e}`);return n?l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12 text-white font-sans",children:[l.jsx(zxe,{imageUrl:s,onUpload:o,onRemove:c}),l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-16 h-16 rounded-xl object-cover border border-zinc-600/30",onError:p=>{console.warn(" Collection cover failed to load:",p.target.src),n.firstNFTImage&&n.firstNFTImage!==p.target.src?p.target.src=n.firstNFTImage:p.target.src="/default-cover.png"}}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-white",children:n.name}),l.jsx("p",{className:"text-zinc-400",children:n.address})]})]}),l.jsx(Rxe,{collection:n}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-10",children:[l.jsx("button",{onClick:h,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"Edit Phases"}),l.jsx("button",{onClick:f,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"Manage WLs"}),l.jsx("button",{onClick:u,className:"w-full py-3 rounded-lg bg-zinc-800 border border-zinc-600 hover:bg-zinc-700 transition",children:"View NFTs"}),l.jsx(_E,{collection:n})]})]}):l.jsx("div",{className:"text-center text-zinc-400 mt-20",children:"Collection not found."})},x9=[{key:"Whitelist",enumValue:1},{key:"FCFS",enumValue:2},{key:"Public",enumValue:3}],Dxe=["Public"],Bxe=async e=>{for(const t of e)try{const n=await fetch(t);if(n.ok)return await n.json()}catch{}throw new Error("All IPFS gateways failed")},Lxe=()=>{const{address:e}=gy(),t=Xr(),[n,r]=j.useState([]),[s,a]=j.useState([]),[i,o]=j.useState(!1),[c,u]=j.useState(""),[h,f]=j.useState({visible:!1,message:"",type:"success"}),[p,g]=j.useState(!1),[b,y]=j.useState(!1);j.useEffect(()=>{if(h.visible){const I=setTimeout(()=>f(M=>({...M,visible:!1})),3e3);return()=>clearTimeout(I)}},[h.visible]);const w=(I,M="success")=>{f({visible:!0,message:I,type:M})},v=async()=>{if(e)try{const I=new In("https://dream-rpc.somnia.network/"),M=new Pt(e,Rn,I);let W=!1;try{typeof M.initialized=="function"&&(W=await M.initialized())}catch{console.log("Contract not initialized yet")}g(W),console.log("Collection launch status:",W)}catch(I){console.error("Error checking collection status:",I)}},N=async()=>{if(e)try{y(!0);const I=await new wr(window.ethereum).getSigner(),M=new Pt(e,Rn,I),W=await I.getAddress(),z=await M.isAdmin(W),B=await M.owner();if(!z&&W.toLowerCase()!==B.toLowerCase()){w(" You do not have permission to stop this sale","error");return}const O=JSON.parse(localStorage.getItem(`phases_${e}`))||{},F={};Object.keys(O).forEach(G=>{F[G]={...O[G],active:!1}}),localStorage.setItem(`phases_${e}`,JSON.stringify(F)),w(" Sale stopped successfully! All phases are now inactive.","success"),g(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(I){console.error("Error stopping sale:",I),w(` Error stopping sale: ${I.message}`,"error")}finally{y(!1)}};j.useEffect(()=>{const I=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(W=>W.address===e);I&&u(I.name);const M=JSON.parse(localStorage.getItem(`collection_${e}_phases`))||[];M.some(W=>W.key==="Public")||(M.push({key:"Public",enumValue:3}),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(M))),r(M),(async()=>{const W=JSON.parse(localStorage.getItem(`collection_${e}_nfts`))||[],z=await Promise.all(W.map(async(O,F)=>{let G={...O,id:O.id??`nft-${F}`};if(G.image?.startsWith("ipfs://")&&(G.image=Dn(G.image)[0]),!G.image&&G.tokenURI)try{const K=Dn(G.tokenURI),$=await Bxe(K);G.image=$.image?Dn($.image)[0]:G.image}catch{}return G})),B=Array.from(new Map(z.map(O=>[O.id,O])).values());a(B),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(B))})(),v()},[e]);const A=I=>{const M=[...n,I];r(M),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(M)),o(!1),w(` Phase "${I.key}" added.`)},C=I=>{if(Dxe.includes(I)){w(` Cannot remove required phase "${I}"`,"error");return}const M=n.filter(W=>W.key!==I);r(M),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(M)),w(` Phase "${I}" removed.`,"info")},k=I=>{const M=JSON.parse(localStorage.getItem(`phases_${e}`))||{};console.log("Current saved phases:",M);const W=x9.find(O=>O.enumValue===I)?.key;if(!W)return;const z=M[W]?.active;z&&Object.keys(M).forEach(O=>{O!==W&&M[O]?.active&&(M[O].active=!1,console.log(`Deactivating phase ${O} to activate ${W}`))});const B=n.map(O=>O.key===W?{...O,active:M[W]?.active||!1}:O);console.log("Updated phases:",B),console.log("Phase settings:",M),r(B),localStorage.setItem(`collection_${e}_phases`,JSON.stringify(B)),localStorage.setItem(`phases_${e}`,JSON.stringify(M)),w(` Phase ${W} ${z?"activated":"deactivated"}!`)},S=()=>[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}].filter(I=>n.some(M=>M.key===I.key)).map(I=>n.find(M=>M.key===I.key)).filter(Boolean),T=x9.filter(I=>!n.some(M=>M.key===I.key)),P=S();return l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 text-white font-sans",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm",children:" Back"}),l.jsxs("div",{className:"flex gap-2",children:[p&&l.jsx("button",{onClick:N,disabled:b,className:"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-sm flex items-center gap-2",children:b?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Stopping..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Vce,{size:16}),"Stop Sale"]})}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>o(!i),className:"px-4 py-2 rounded bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-sm",disabled:T.length===0||p,children:"+ Add Phase"}),i&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-zinc-800 border border-zinc-600 rounded shadow-lg z-10",children:T.length===0?l.jsx("div",{className:"px-4 py-2 text-sm text-zinc-400",children:"All phases added"}):T.map(I=>l.jsx("button",{onClick:()=>A(I),className:"w-full text-left px-4 py-2 hover:bg-zinc-700 text-sm",children:I.key},I.key))})]})]})]}),l.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-pink-500 to-blue-500 bg-clip-text text-transparent",children:["Configure Phases for ",c||"Your Collection"]}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Set prices, limits, and timings for each sale phase. Public phase is required. Only one phase can be active at a time."}),P.length===0?l.jsx("p",{className:"text-zinc-400",children:"No phases configured. Public phase will be added automatically."}):l.jsx(QL,{collectionAddress:e,phases:P,onActivatePhase:k,onRemovePhase:C,nfts:s,isCollectionLaunched:p}),h.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${h.type==="error"?"bg-red-800 text-white":h.type==="info"?"bg-blue-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:h.message})})]})},Uxe=()=>{const{address:e}=gy(),t=Xr(),[n,r]=j.useState("Whitelist"),[s,a]=j.useState([]),[i,o]=j.useState(""),[c,u]=j.useState([]),[h,f]=j.useState(0),[p,g]=j.useState({visible:!1,message:"",type:"success"});j.useEffect(()=>{if(p.visible){const C=setTimeout(()=>g(k=>({...k,visible:!1})),3e3);return()=>clearTimeout(C)}},[p.visible]);const b=(C,k="success")=>{g({visible:!0,message:C,type:k})};j.useEffect(()=>{const C=JSON.parse(localStorage.getItem(`phases_${e}`))||{};f(C[n]?.allocated||0);const k=`${e}_${n}_whitelist`,S=JSON.parse(localStorage.getItem(k))||[];u(S)},[e,n]);const y=C=>{const k=C.target.files[0];if(k){const S=new FileReader;S.onload=T=>{const P=T.target.result.split(/\r?\n/).filter(Boolean);a(P)},S.readAsText(k)}},w=C=>{const k=C.target.value;console.log(" === MANUAL INPUT DEBUG ==="),console.log("Raw text:",k),console.log("Text length:",k.length),console.log("Text char codes:",Array.from(k).map(P=>P.charCodeAt(0)));const S=k.split(/\r?\n/).filter(Boolean);console.log("Split lines:",S),console.log("Lines count:",S.length),console.log("Each line:",S.map((P,I)=>({index:I,line:P,length:P.length,trimmed:P.trim()})));const T=S.map(P=>P.trim()).filter(P=>P.length>0).filter(P=>{try{return getAddress(P),!0}catch(I){return console.warn("Invalid Ethereum address:",P,I.message),!1}});console.log("Cleaned and validated lines:",T),console.log(" === END MANUAL INPUT DEBUG ==="),a(T)},v=C=>{if(n==="Public"||C.length===0)return;console.log(" === MERKLE DEBUG ==="),console.log("Input addresses:",C),console.log("Phase:",n);const{root:k,proofs:S}=rU(C);console.log("Generated root:",k),console.log("Generated proofs for each address:"),Object.entries(S).forEach(([I,M])=>{console.log(`  ${I}:`,M)});const T=`${e}_${n}_whitelist_proofs`,P=`${e}_${n}_whitelist_root`;localStorage.setItem(T,JSON.stringify(S)),localStorage.setItem(P,k),console.log("Merkle root:",k),console.log("Merkle proofs regenerated:",S),console.log(" === END MERKLE DEBUG ===")},N=()=>{const C=n==="Public",k=c.length+s.length;console.log(" === SAVE DEBUG ==="),console.log("Phase:",n),console.log("Is public phase:",C),console.log("Allocated slots:",h),console.log("Saved addresses count:",c.length),console.log("New addresses count:",s.length),console.log("Total addresses:",k),console.log("New addresses:",s),console.log("Saved addresses:",c);const S=s.filter(I=>{try{return getAddress(I),!1}catch{return!0}});if(S.length>0){b(` Invalid addresses found: ${S.join(", ")}`,"error");return}if(!C&&k>h){b(` Too many addresses! Allocated: ${h}, Already saved: ${c.length}, New: ${s.length}`,"error");return}const T=Array.from(new Set([...c,...s]));console.log("Combined addresses (unique):",T),console.log("Combined count:",T.length);const P=`${e}_${n}_whitelist`;localStorage.setItem(P,JSON.stringify(T)),u(T),a([]),b(` Saved ${T.length} addresses for ${n}`),v(T),console.log(" === END SAVE DEBUG ===")},A=c.filter(C=>C.includes(i));return l.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-8 pb-24 text-white font-sans",children:[l.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm mb-4",children:" Back"}),l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Manage Whitelists"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium text-white",children:"Select Phase"}),l.jsxs("select",{value:n,onChange:C=>r(C.target.value),className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors text-white",children:[l.jsx("option",{value:"Whitelist",children:"Whitelist"}),l.jsx("option",{value:"FCFS",children:"FCFS"})]})]}),l.jsxs("div",{className:"mb-6 p-4 bg-zinc-900 rounded-lg border border-zinc-700",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Phase Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Allocated Slots"}),l.jsx("div",{className:"text-xl font-bold text-blue-400",children:n==="Public"?"":h})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Saved Addresses"}),l.jsx("div",{className:"text-xl font-bold text-green-400",children:c.length})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Remaining Slots"}),l.jsx("div",{className:"text-xl font-bold text-pink-400",children:n==="Public"?"":Math.max(h-c.length,0)})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Upload Addresses"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Upload Addresses"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"file",accept:".csv,.txt",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"file-upload"}),l.jsxs("label",{htmlFor:"file-upload",className:"flex items-center justify-center w-full h-12 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:opacity-90 text-white font-semibold text-sm cursor-pointer transition-all duration-200 border border-transparent hover:border-white/20",children:[l.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),"Upload .CSV/.TXT"]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Or Paste Addresses"}),l.jsx("textarea",{rows:6,placeholder:"Paste addresses (one per line)",onChange:w,className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors"})]}),l.jsx("button",{onClick:N,className:"w-full py-3 rounded-lg bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-white font-semibold transition-all duration-200",children:"Save List"})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"Saved Addresses"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Search Addresses"}),l.jsx("input",{type:"text",placeholder:"Search address",value:i,onChange:C=>o(C.target.value),className:"w-full p-3 rounded-lg bg-zinc-800 border border-zinc-600 focus:border-blue-500 focus:outline-none transition-colors text-sm"})]}),l.jsx("div",{className:"bg-zinc-900 rounded-lg border border-zinc-700 max-h-64 overflow-y-auto",children:A.length===0?l.jsx("div",{className:"p-4 text-center text-zinc-500 text-sm",children:"No matching addresses"}):l.jsx("ul",{className:"text-sm",children:A.map((C,k)=>l.jsxs("li",{className:"flex justify-between items-center border-b border-zinc-700 py-3 px-4 hover:bg-zinc-800 transition-colors",children:[l.jsx("span",{className:"font-mono text-xs",children:C}),l.jsx("button",{onClick:()=>{const S=c.filter(T=>T!==C);u(S),localStorage.setItem(`${e}_${n}_whitelist`,JSON.stringify(S)),v(S),b(` Removed address: ${C}`)},className:"text-xs text-red-400 hover:text-red-300 hover:underline transition-colors",children:"Remove"})]},k))})})]})]}),p.visible&&l.jsx("div",{className:`fixed bottom-24 right-4 p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 z-50 ${p.type==="error"?"bg-red-800 text-white":"bg-zinc-800 text-white"}`,children:l.jsx("p",{className:"text-sm",children:p.message})})]})},$xe=()=>{const{address:e}=gy(),t=Xr(),[n,r]=j.useState([]),[s,a]=j.useState({}),[i,o]=j.useState([]),[c,u]=j.useState("all"),[h,f]=j.useState("auto"),[p,g]=j.useState({totalSupply:0,minted:0,remaining:0,revenue:"0 STT",phaseBreakdown:[],blockchainStats:null}),[b,y]=j.useState(!1),[w,v]=j.useState(!0),[N,A]=j.useState(!1),[C,k]=j.useState(!1),[S,T]=j.useState(null),[P,I]=j.useState(!1),[M,W]=j.useState(null),z=(Q,Y)=>{if(!Q.length||!Y)return Q;console.log(" Starting auto-distribution with:",{totalNFTs:Q.length,phases:Object.keys(Y),phaseAllocations:Object.entries(Y).map(([ie,pe])=>({key:ie,allocated:pe.allocated||0,active:pe.active}))});let ae=0;const ue=[...Q],re=["Whitelist","FCFS","Public"];for(const ie of re){const pe=Y[ie];if(!pe||!pe.active){console.log(` Skipping ${ie} - not active or not found`);continue}const oe=pe.allocated||0;console.log(` Processing ${ie}: allocated ${oe} NFTs, starting from index ${ae}`);for(let he=0;he<oe&&ae<ue.length;he++){const Ne=ue[ae];Ne&&(ue[ae]={...Ne,phaseKey:ie,price:pe.price||0,distributionType:"auto",originalIndex:ae},console.log(` Assigned NFT ${ae} (${Ne.name}) to ${ie} phase`)),ae++}}for(let ie=ae;ie<ue.length;ie++){const pe=ue[ie];pe&&(ue[ie]={...pe,phaseKey:"unassigned",price:0,distributionType:"auto",originalIndex:ie},console.log(` NFT ${ie} (${pe.name}) marked as unassigned`))}return console.log(" Auto-distribution complete. Summary:",{totalProcessed:ue.length,byPhase:Object.entries(Y).reduce((ie,[pe,oe])=>(ie[pe]=ue.filter(he=>he.phaseKey===pe).length,ie),{}),unassigned:ue.filter(ie=>ie.phaseKey==="unassigned").length}),ue},B=(Q,Y)=>{const ae=Object.values(Y).reduce((ie,pe)=>ie+(pe.allocated||0),0),ue=Q.length,re=Q.filter(ie=>ie.phaseKey!=="unassigned").length;return console.log(" Distribution validation:",{totalNFTs:ue,totalAllocated:ae,assignedNFTs:re,unassigned:ue-re,phases:Object.entries(Y).map(([ie,pe])=>({key:ie,allocated:pe.allocated||0,actual:Q.filter(oe=>oe.phaseKey===ie).length}))}),ae!==re&&(console.warn(" Distribution mismatch detected!"),console.warn(`Expected ${ae} assigned NFTs, but found ${re}`)),{isValid:ae===re,totalNFTs:ue,totalAllocated:ae,assignedNFTs:re,unassigned:ue-re}},O=async(Q,Y)=>{const ae=Q.length,ue=await L(),re=ue?ue.totalSupply:0,ie=ae-re,pe=ue?ue.currentPhase:0,oe=await V(),he=Object.entries(Y).map(([H,ye])=>{const ce=Q.filter(se=>se.phaseKey===H),ne=ce.length*(ye.price||0);return{name:H,allocated:ye.allocated||0,actual:ce.length,price:ye.price||0,revenue:ne,percentage:ae>0?ce.length/ae*100:0}}),Ne=he.reduce((H,ye)=>H+ye.revenue,0),Re=B(Q,Y);return{totalSupply:ae,minted:re,remaining:ie,currentPhase:pe,revenue:`${Ne} STT`,phaseBreakdown:he,validation:Re,blockchainStats:ue,profitData:oe}},F=Q=>{switch(Q){case"Whitelist":return"border-blue-500 bg-blue-50";case"FCFS":return"border-purple-500 bg-purple-50";case"Public":return"border-pink-500 bg-pink-50";default:return"border-gray-300 bg-gray-50"}},G=Q=>{if(!Q)return[];if(Q.startsWith("ipfs://")){const Y=Q.replace("ipfs://","");return[`https://gateway.pinata.cloud/ipfs/${Y}`,`https://ipfs.io/ipfs/${Y}`,`https://cloudflare-ipfs.com/ipfs/${Y}`]}return[Q]},K=async Q=>{for(const Y of Q)try{const ae=await fetch(Y);if(ae.ok)return await ae.json()}catch{}throw new Error("All IPFS gateways failed")};j.useEffect(()=>{(async()=>{console.log(" Fetching NFTs for collection:",e);const Y=JSON.parse(localStorage.getItem(`collection_${e}_nfts`))||[];if(console.log(" Found stored NFTs:",Y.length),Y.length===0){console.log(" No NFTs found in localStorage for collection:",e),r([]);return}console.log(" Processing NFT images...");const ae=await Promise.all(Y.map(async(ue,re)=>{console.log(` Processing NFT ${re+1}/${Y.length}:`,ue.name);try{if(ue.image?.startsWith("ipfs://"))return console.log(` Converting IPFS image for ${ue.name}`),{...ue,image:G(ue.image)[0]};if(!ue.image&&ue.tokenURI){console.log(` Fetching metadata for ${ue.name} from tokenURI`);try{const ie=G(ue.tokenURI),pe=await K(ie);return console.log(` Metadata fetched for ${ue.name}:`,pe.name),{...ue,image:pe.image?G(pe.image)[0]:ue.image}}catch(ie){return console.error(` Failed to fetch metadata for ${ue.name}:`,ie.message),ue}}return console.log(` NFT ${ue.name} processed successfully`),ue}catch(ie){return console.error(` Error processing NFT ${ue.name}:`,ie),ue}}));console.log(" All NFTs processed. Setting state with:",ae.length,"NFTs"),r(ae),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(ae))})();const Q=JSON.parse(localStorage.getItem(`phases_${e}`))||{};console.log(" Found phases:",Q),a(Q),ee()},[e]),j.useEffect(()=>{(async()=>{if(n.length>0&&Object.keys(s).length>0){console.log(" Auto-distributing NFTs based on phases...");const Q=z(n,s);r(Q),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(Q));const Y=await O(Q,s);g(Y)}})()},[s,e]);const $=Q=>{const Y=n.filter((ae,ue)=>ue!==Q);r(Y),localStorage.setItem(`collection_${e}_nfts`,JSON.stringify(Y)),I(!1),W(null)},Z=()=>{t(`/preview/${e}`)},ee=async()=>{try{v(!0);const Q=new wr(window.ethereum),Y=new Pt(e,["function contractURI() public view returns (string)","function baseTokenURI() public view returns (string)","function maxSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function phases(uint256) public view returns (tuple(uint256,uint256,uint256,uint256,bytes32,bool))"],Q),ae=await Y.contractURI(),ue=await Y.baseTokenURI(),re=await Y.maxSupply(),ie=ae&&ae!==""&&ue&&ue!=="";return console.log(" Collection launch status check:",{address:e,contractURI:ae||"empty",baseTokenURI:ue||"empty",maxSupply:re.toString(),isLaunched:ie}),y(ie),ie}catch(Q){return console.error(" Error checking collection launch status:",Q),y(!1),!1}finally{v(!1)}},L=async()=>{try{const Q=new wr(window.ethereum),Y=new Pt(e,["function totalSupply() public view returns (uint256)","function maxSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function mintedPerWallet(address, uint256) public view returns (uint256)","function currentPhase() public view returns (uint256)","function owner() public view returns (address)","function balanceOf(address) public view returns (uint256)"],Q),ae=await Y.totalSupply(),ue=await Y.maxSupply(),re=3,ie=[];let pe=-1;const oe=Math.floor(Date.now()/1e3);for(let he=0;he<re;he++)try{const Ne=await Y.phases(he),Re={phaseId:he,start:Number(Ne.start),end:Number(Ne.end),price:em(Ne.price,18),maxPerWallet:Number(Ne.maxPerWallet),isPublic:Ne.isPublic,merkleRoot:Ne.merkleRoot,isActive:oe>=Number(Ne.start)&&oe<=Number(Ne.end)};ie.push(Re),Re.isActive&&(pe=he)}catch{console.log(`Phase ${he} not found or not accessible`)}if(pe===-1){for(let he=0;he<ie.length;he++)if(oe<ie[he].start){pe=he;break}}return console.log(" Blockchain stats fetched:",{totalSupply:ae.toString(),maxSupply:ue.toString(),currentActivePhase:pe,currentTime:oe,phaseStats:ie.map(he=>({phaseId:he.phaseId,start:new Date(he.start*1e3).toISOString(),end:new Date(he.end*1e3).toISOString(),isActive:he.isActive,price:he.price}))}),{totalSupply:Number(ae),maxSupply:Number(ue),remaining:Number(ue)-Number(ae),currentPhase:pe,phaseStats:ie}}catch(Q){return console.error(" Error fetching blockchain stats:",Q),null}},V=async()=>{try{const Q=new wr(window.ethereum),Y=new Pt(e,["function totalSupply() public view returns (uint256)","function phases(uint256) public view returns (uint256 start, uint256 end, uint256 price, uint256 maxPerWallet, bytes32 merkleRoot, bool isPublic)","function mintedPerWallet(address, uint256) public view returns (uint256)"],Q),ae=await Y.totalSupply(),ue=Number(ae);if(ue===0)return{totalProfit:0,profitInSTT:"0 STT",profitInUSD:"$0",averagePrice:0};const re=[],ie=3;for(let Ne=0;Ne<ie;Ne++)try{const Re=await Y.phases(Ne);re.push({phaseId:Ne,price:em(Re.price,18)})}catch{console.log(`Phase ${Ne} not accessible`)}const pe=re.length>0?re.reduce((Ne,Re)=>Ne+parseFloat(Re.price),0)/re.length:0,oe=ue*pe,he=oe*.1;return console.log(" Profit calculation:",{mintedCount:ue,averagePrice:pe,totalProfit:oe,profitInUSD:he,phasePrices:re}),{totalProfit:oe,profitInSTT:`${oe.toFixed(2)} STT`,profitInUSD:`$${he.toFixed(2)}`,averagePrice:pe,mintedCount:ue}}catch(Q){return console.error(" Error calculating profit:",Q),{totalProfit:0,profitInSTT:"0 STT",profitInUSD:"$0",averagePrice:0,mintedCount:0}}};return l.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8 pb-24",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-sm",children:"Back"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:async()=>{const Q=await O(n,s);g(Q)},className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-sm",children:"Reveal"}),l.jsx("button",{onClick:Z,className:"px-4 py-2 rounded bg-gradient-to-r from-blue-500 to-pink-500 hover:opacity-90 text-sm",children:"Preview Storefront"})]})]}),w?l.jsx("div",{className:"mb-6 p-4 bg-zinc-900 rounded-lg border border-zinc-700",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"}),l.jsx("span",{className:"text-sm text-zinc-400",children:"Checking collection status..."})]})}):b?l.jsxs("div",{className:"mb-6 p-4 bg-yellow-900/20 rounded-lg border border-yellow-500",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-yellow-400 text-lg",children:""}),l.jsx("span",{className:"text-yellow-400 font-semibold",children:"Collection Already Launched"})]}),l.jsxs("div",{className:"text-sm text-yellow-300",children:[l.jsx("p",{children:"This collection has been launched and is now live. NFT distribution cannot be changed as it affects the minting process."}),l.jsx("p",{className:"mt-2",children:" NFT phases are locked to prevent minting conflicts"}),l.jsx("p",{children:" Only viewing and analytics are available"}),l.jsx("p",{children:" To make changes, you would need to create a new collection"})]})]}):l.jsxs("div",{className:"mb-6 p-4 bg-blue-900/20 rounded-lg border border-blue-500",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-blue-400 text-lg",children:""}),l.jsx("span",{className:"text-blue-400 font-semibold",children:"Collection Not Launched"})]}),l.jsxs("div",{className:"text-sm text-blue-300",children:[l.jsx("p",{children:"You can still configure NFT distribution and phases before launching the collection."}),l.jsx("p",{className:"mt-2",children:" NFT distribution is automatically updated when you change phase settings"}),l.jsx("p",{children:" Edit individual NFT metadata (name, description, image)"}),l.jsx("p",{children:" Configure phase settings (prices, allocations, timing)"}),l.jsx("p",{children:" Once launched, NFT distribution becomes locked"})]})]}),l.jsxs("div",{className:`mb-6 rounded-lg border ${N?"bg-purple-900/10 border-purple-500 shadow-purple-500/20":"bg-zinc-800 border-zinc-600"}`,children:[l.jsx("div",{onClick:()=>A(!N),className:`p-4 border-b border-zinc-700/50 cursor-pointer transition-all duration-200 hover:scale-[1.01] hover:shadow-lg ${N?"hover:bg-purple-900/20":"hover:bg-zinc-700 hover:border-zinc-500"}`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{className:"flex gap-6 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Total NFTs:"}),l.jsx("span",{className:"text-white font-semibold ml-1",children:n.length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Assigned:"}),l.jsx("span",{className:"text-green-400 font-semibold ml-1",children:n.filter(Q=>Q.phaseKey!=="unassigned").length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-zinc-400",children:"Unassigned:"}),l.jsx("span",{className:"text-red-400 font-semibold ml-1",children:n.filter(Q=>Q.phaseKey==="unassigned").length})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"text-zinc-400",children:"Status:"}),p.validation?.isValid?l.jsx("span",{className:"text-green-400 text-xs",children:" Complete"}):l.jsx("span",{className:"text-yellow-400 text-xs",children:" Incomplete"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-xs text-zinc-500",children:N?"Click to hide detailed analytics":"Click to show detailed analytics"}),l.jsx("span",{className:`text-xs transition-transform duration-200 ${N?"rotate-180":""}`,children:""})]})]})}),N&&l.jsxs("div",{className:"p-4 animate-slideDown",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Detailed Analytics"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-zinc-500",children:p.blockchainStats?" Live blockchain data":" Local data"}),l.jsxs("span",{className:"text-xs text-zinc-400",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),p.validation&&l.jsxs("div",{className:`mb-4 p-3 rounded-lg border ${p.validation.isValid?"bg-green-900/20 border-green-500":"bg-red-900/20 border-red-500"}`,children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsxs("span",{className:`text-sm font-semibold ${p.validation.isValid?"text-green-400":"text-red-400"}`,children:[p.validation.isValid?"":""," Distribution Status"]})}),l.jsxs("div",{className:"text-xs text-zinc-400",children:[l.jsxs("div",{children:["Total NFTs: ",p.validation.totalNFTs]}),l.jsxs("div",{children:["Allocated: ",p.validation.assignedNFTs]}),l.jsxs("div",{children:["Unassigned: ",p.validation.unassigned]}),!p.validation.isValid&&l.jsx("div",{className:"text-red-400 mt-1",children:" Distribution mismatch! Some NFTs are not properly assigned to phases."})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Collection Quality Score:"}),(()=>{const Q=n.length,Y=n.filter(pe=>pe.description).length,ae=n.filter(pe=>pe.attributes?.length>0).length,ue=n.filter(pe=>pe.phaseKey&&pe.phaseKey!=="unassigned").length,re=Math.round((Y/Q*.3+ae/Q*.4+ue/Q*.3)*100),ie=pe=>pe>=80?"text-green-400":pe>=60?"text-yellow-400":"text-red-400";return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`text-sm font-semibold ${ie(re)}`,children:[re,"/100"]}),l.jsx("div",{className:"flex-1 bg-zinc-700 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${re>=80?"bg-green-500":re>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${re}%`}})}),l.jsx("span",{className:"text-xs text-zinc-500",children:re>=80?"Excellent":re>=60?"Good":"Needs Work"})]})})()]}),p.blockchainStats?.phaseStats&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:[l.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Blockchain Phase Status:"}),p.blockchainStats.phaseStats.map((Q,Y)=>l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsxs("span",{className:`font-semibold ${Q.isActive?"text-green-400":"text-zinc-500"}`,children:["Phase ",Q.phaseId," (",Y===0?"Whitelist":Y===1?"FCFS":"Public","):"]}),l.jsxs("span",{className:"ml-2",children:[Q.isActive?" Active":" Inactive"," | Price: ",Q.price," STT |",new Date(Q.start*1e3).toLocaleDateString()," - ",new Date(Q.end*1e3).toLocaleDateString()]})]},Y))]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm mb-4",children:[l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Total Supply"}),l.jsx("div",{className:"text-xl font-bold text-blue-400",children:p.totalSupply}),l.jsxs("div",{className:"text-xs text-zinc-500",children:["Max: ",p.blockchainStats?.maxSupply||"N/A"]})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Minted"}),l.jsx("div",{className:"text-xl font-bold text-green-400",children:p.minted}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[p.totalSupply>0?(p.minted/p.totalSupply*100).toFixed(1):0,"% sold"]})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Remaining"}),l.jsx("div",{className:"text-xl font-bold text-pink-400",children:p.remaining}),l.jsx("div",{className:"text-xs text-zinc-500",children:"Available to mint"})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Current Phase"}),l.jsx("div",{className:"text-xl font-bold text-yellow-400",children:p.currentPhase===0?"Whitelist":p.currentPhase===1?"FCFS":p.currentPhase===2?"Public":p.currentPhase===-1?"None":"N/A"}),l.jsx("div",{className:"text-xs text-zinc-500",children:p.currentPhase>=0?`Phase ${p.currentPhase}`:"No active phase"})]}),l.jsxs("div",{className:"text-center p-3 bg-zinc-800 rounded-lg",children:[l.jsx("div",{className:"text-zinc-400 mb-1",children:"Total Profit"}),l.jsx("div",{className:"text-xl font-bold text-emerald-400",children:p.profitData?.profitInSTT||"0 STT"}),l.jsx("div",{className:"text-xs text-zinc-500",children:p.profitData?.profitInUSD||"$0"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-md font-semibold mb-2 text-white",children:"Phase Distribution"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:p.phaseBreakdown.map(Q=>l.jsxs("div",{className:"p-3 bg-zinc-800 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("span",{className:"font-semibold text-white",children:Q.name}),l.jsxs("span",{className:"text-sm text-zinc-400",children:[Q.percentage.toFixed(1),"%"]})]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[Q.actual," / ",Q.allocated," NFTs"]}),l.jsxs("div",{className:"text-sm text-zinc-400",children:[Q.price," STT each"]}),l.jsxs("div",{className:"text-sm text-green-400 font-semibold",children:[Q.revenue," STT total"]})]},Q.name))})]})]})]}),l.jsxs("div",{className:"mb-4 flex gap-4",children:[l.jsxs("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded ${c==="all"?"bg-zinc-700":"bg-zinc-800"} text-sm`,children:["All (",n.length,")"]}),l.jsxs("button",{onClick:()=>u("Whitelist"),className:`px-4 py-2 rounded ${c==="Whitelist"?"bg-blue-600":"bg-zinc-800"} text-sm`,children:["Whitelist (",n.filter(Q=>Q.phaseKey==="Whitelist").length,")"]}),l.jsxs("button",{onClick:()=>u("FCFS"),className:`px-4 py-2 rounded ${c==="FCFS"?"bg-purple-600":"bg-zinc-800"} text-sm`,children:["FCFS (",n.filter(Q=>Q.phaseKey==="FCFS").length,")"]}),l.jsxs("button",{onClick:()=>u("Public"),className:`px-4 py-2 rounded ${c==="Public"?"bg-pink-600":"bg-zinc-800"} text-sm`,children:["Public (",n.filter(Q=>Q.phaseKey==="Public").length,")"]}),l.jsxs("button",{onClick:()=>u("unassigned"),className:`px-4 py-2 rounded ${c==="unassigned"?"bg-gray-600":"bg-zinc-800"} text-sm`,children:["Unassigned (",n.filter(Q=>Q.phaseKey==="unassigned").length,")"]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map((Q,Y)=>c!=="all"&&Q.phaseKey!==c?null:l.jsxs("div",{className:`relative bg-zinc-900 rounded-xl border-2 p-3 ${F(Q.phaseKey)}`,children:[l.jsx("img",{src:Q.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:Q.name,className:"rounded mb-2 w-full h-40 object-cover"}),l.jsx("h3",{className:"text-sm font-semibold mb-1",children:Q.name}),l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsx("span",{className:"font-semibold",children:"Phase:"})," ",Q.phaseKey||"Unassigned"]}),l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsx("span",{className:"font-semibold",children:"Price:"})," ",Q.price||0," STT"]}),l.jsxs("div",{className:"text-xs text-zinc-400 mb-1",children:[l.jsx("span",{className:"font-semibold",children:"Type:"})," ",Q.distributionType||"auto"]}),l.jsxs("div",{className:"text-xs text-zinc-500 mb-2",children:[l.jsx("span",{className:"font-semibold",children:"Index:"})," ",Y]})]}),l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{onClick:()=>{T(Q),k(!0)},className:"px-2 py-1 rounded text-xs bg-blue-600 hover:bg-blue-500 text-white",title:"View NFT details",children:"Details"}),l.jsx("button",{onClick:()=>{W({nft:Q,index:Y}),I(!0)},disabled:b,className:`px-2 py-1 rounded text-xs text-white ${b?"bg-zinc-700 text-zinc-400 cursor-not-allowed":"bg-red-600 hover:bg-red-500"}`,title:"Delete NFT from collection",children:"Delete"})]})})]},Q.id))}),C&&S&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-md w-full text-center animate-fadeIn relative",children:[l.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>k(!1),children:""}),l.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-[#FF0080] to-[#00A3FF] bg-clip-text text-transparent",children:"NFT Details"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("img",{src:S.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:S.name,className:"w-32 h-32 object-cover rounded-lg mx-auto mb-3"}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:S.name})]}),l.jsxs("div",{className:"text-left text-sm space-y-2 mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Phase:"}),l.jsx("span",{className:"text-white font-medium",children:S.phaseKey||"Unassigned"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Price:"}),l.jsxs("span",{className:"text-white font-medium",children:[S.price||0," STT"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-zinc-400",children:"Distribution:"}),l.jsx("span",{className:"text-white font-medium",children:S.distributionType||"auto"})]}),S.description&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[l.jsx("span",{className:"text-zinc-400 block mb-1",children:"Description:"}),l.jsx("span",{className:"text-white text-sm",children:S.description})]}),S.attributes&&S.attributes.length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[l.jsxs("span",{className:"text-zinc-400 block mb-2",children:["Attributes (",S.attributes.length,"):"]}),l.jsx("div",{className:"space-y-1",children:S.attributes.map((Q,Y)=>l.jsxs("div",{className:"flex justify-between text-xs",children:[l.jsxs("span",{className:"text-zinc-400",children:[Q.trait_type,":"]}),l.jsx("span",{className:"text-white",children:Q.value})]},Y))})]})]}),l.jsx("button",{onClick:()=>k(!1),className:"w-full py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Close"})]})}),P&&M&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50",children:l.jsxs("div",{className:"bg-zinc-900 p-6 rounded-xl shadow-lg max-w-md w-full text-center animate-fadeIn relative",children:[l.jsx("button",{className:"absolute top-2 right-2 text-zinc-400 hover:text-red-400",onClick:()=>{I(!1),W(null)},children:""}),l.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:" Delete NFT"}),l.jsxs("div",{className:"mb-4",children:[l.jsx("img",{src:M.nft.image?.replace("ipfs://","https://ipfs.io/ipfs/"),alt:M.nft.name,className:"w-24 h-24 object-cover rounded-lg mx-auto mb-3"}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:M.nft.name})]}),l.jsxs("div",{className:"text-center text-sm space-y-2 mb-6",children:[l.jsx("p",{className:"text-zinc-300",children:"Are you sure you want to delete this NFT from your collection?"}),l.jsx("p",{className:"text-red-400 text-xs",children:"This action cannot be undone. The NFT will be permanently removed."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{I(!1),W(null)},className:"flex-1 py-2 rounded bg-zinc-700 hover:bg-zinc-600 text-white text-sm",children:"Cancel"}),l.jsx("button",{onClick:()=>$(M.index),className:"flex-1 py-2 rounded bg-red-600 hover:bg-red-500 text-white text-sm font-medium",children:"Delete NFT"})]})]})})]})};j.lazy(()=>ol(()=>vd(()=>xd(()=>import("./VirtualList-CkN222eY-fTBMFPK0-B-c2r3vV.js"),__vite__mapDeps([2,1])),jx([2,1])),gv([3,1,2])));const v9=e=>{const t=Number(e);return!isFinite(t)||t===0?"0":t>=1?t.toLocaleString(void 0,{maximumFractionDigits:2}):t>=.1?t.toLocaleString(void 0,{maximumFractionDigits:3}):t>=.01?t.toLocaleString(void 0,{maximumFractionDigits:4}):t.toLocaleString(void 0,{maximumFractionDigits:6})},Hxe=e=>{if(e==null)return"0";if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="bigint")return e.toString();try{return String(e)}catch{return"0"}},Wxe="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09";let lg=[],X4=!1;const Gxe=async()=>{if(!(X4||lg.length===0)){for(X4=!0;lg.length>0;){const e=lg.splice(0,5);try{await Promise.allSettled(e.map(t=>t()))}catch(t){console.error("Batch request error:",t)}await new Promise(t=>setTimeout(t,100))}X4=!1}},sU=e=>new Promise((t,n)=>{lg.push(async()=>{try{const r=await e();t(r)}catch(r){n(r)}}),Gxe()}),Sx=new Map,qxe=600*1e3,Vxe=async e=>{try{if(!e||!window.ethereum)return!1;const t=`factory_collections_${Date.now()}`,n=Sx.get(t);return n&&Date.now()-n.timestamp<qxe?n.collections.includes(e.toLowerCase()):await sU(async()=>{const r=new In("https://dream-rpc.somnia.network/"),s=await new Pt(Wxe,Mm,r).getAllCollections();return Sx.set(t,{collections:s.map(a=>a.toLowerCase()),timestamp:Date.now()}),s.map(a=>a.toLowerCase()).includes(e.toLowerCase())})}catch(t){return console.error(" Error checking factory collection:",t),!1}},cg=new Map,Kxe=1800*1e3,Zxe=async(e,t)=>{try{const n=`${t}_${e.id}_image`,r=cg.get(n);if(r&&Date.now()-r.timestamp<Kxe)return r.url;const s=await Vxe(t);if(s&&t&&e.id)try{const i=await sU(async()=>{const o=new In("https://dream-rpc.somnia.network/"),c=new Pt(t,["function tokenURI(uint256 tokenId) view returns (string)","function ownerOf(uint256 tokenId) view returns (address)"],o),u=typeof e.id=="string"?parseInt(e.id,10):e.id;try{if(await c.ownerOf(u)===eh)return console.log(`Token ${u} doesn't exist yet`),null}catch(f){return console.log(`Token ${u} doesn't exist yet:`,f.message),null}const h=await c.tokenURI(u);if(h){let f=h;h.startsWith("ipfs://")&&(f=h.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"));const p=await Promise.race([fetch(f),new Promise((g,b)=>setTimeout(()=>b(new Error("Metadata fetch timeout")),2e3))]);if(p.ok){const g=await p.json();if(g.image){let b=g.image;return b.startsWith("ipfs://")&&(b=b.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/")),cg.set(n,{url:b,timestamp:Date.now()}),b}}}return null});if(i)return i}catch(i){console.error("Error fetching factory NFT image:",i)}let a=e.image||e.image_url||e.media_url||"";return!a&&e.metadata?.image&&(a=e.metadata.image),a?(a.startsWith("ipfs://")&&(s?a=a.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"):a=a.replace("ipfs://","https://ipfs.io/ipfs/")),cg.set(n,{url:a,timestamp:Date.now()}),a):null}catch(n){return console.error("Error getting NFT image URL:",n),null}},Yxe=()=>{const{address:e}=gy(),t=Xr(),[n,r]=j.useState(null),[s,a]=j.useState(!0),[i,o]=j.useState({visible:!1,message:"",txHash:""}),{address:c,isConnected:u}=yo(),h=async _e=>{if(!window.ethereum)throw new Error("Wallet not connected");const He=await new wr(window.ethereum).getSigner(),Xe=new Pt(_e.address,_e.abi,He),Je={..._e.value>0?{value:_e.value}:{},..._e.gasSettings||{}};return(await Xe[_e.functionName](..._e.args,Je)).hash},[f,p]=j.useState(null),[g,b]=j.useState(0),[y,w]=j.useState([]),[v,N]=j.useState({isWhitelisted:!1}),[A,C]=j.useState(!1),[k,S]=j.useState(null),[T,P]=j.useState(null),[I,M]=j.useState(0),[W,z]=j.useState(!1),[B,O]=j.useState({}),[F,G]=j.useState(!1),K=j.useMemo(()=>window.innerWidth<768,[]),$=j.useMemo(()=>window.innerWidth>=768&&window.innerWidth<1024,[]),[Z,ee]=j.useState(!1),[L,V]=j.useState(1),[Q,Y]=j.useState("0"),[ae,ue]=j.useState(!1),[re,ie]=j.useState(!1),[pe,oe]=j.useState(!1),[he,Ne]=j.useState(null),[Re,H]=j.useState(!1),[ye,ce]=j.useState(!1),[ne,se]=j.useState(!1),[fe,Ie]=j.useState([]),[je,be]=j.useState(!1),[Be,Me]=j.useState({website:"",twitter:"",discord:""}),[ze,we]=j.useState(new Map),_=j.useMemo(()=>{if(!n)return[];const _e=[];return n.cover&&_e.push(n.cover),n.bannerImage&&_e.push(n.bannerImage),n.banner&&_e.push(n.banner),[...new Set(_e)]},[n]),D=j.useMemo(()=>!fe||fe.length===0?[]:fe.slice(0,6).map(_e=>_e.image).filter(Boolean),[fe]),q=j.useMemo(()=>n&&n.totalSupply?Math.min(100,Math.round(g/n.totalSupply*100)):0,[n,g]);j.useMemo(()=>n&&n.phases?Object.entries(n.phases):[],[n,n?.phases]);const le=j.useMemo(()=>Hxe(T||(f&&f[1]?f[1].price:"0")),[T,f]),ge=j.useMemo(()=>v9(le),[le]),Ce=async()=>{if(n?.address)try{let _e={};n.external_link&&(_e.website=n.external_link),n.metadata&&(n.metadata.website&&(_e.website=n.metadata.website),n.metadata.twitter&&(_e.twitter=n.metadata.twitter),n.metadata.discord&&(_e.discord=n.metadata.discord),n.metadata.external_link&&!_e.website&&(_e.website=n.metadata.external_link));const He=JSON.parse(localStorage.getItem(`collection_${n.address}_social`)||"{}"),Xe={...He,..._e};console.log(" Loading social links:",{fromMetadata:_e,fromLocalStorage:He,combined:Xe}),Me(Xe)}catch(_e){console.error("Error loading social links:",_e)}};j.useEffect(()=>{n?.address&&Ce()},[n?.address]);const Se=async()=>{if(!n)return;const _e=`${n.address}_preview`,He=ze.get(_e);if(He&&Date.now()-He.timestamp<300*1e3){console.log(" Using cached preview data"),Ie(He.data);return}try{be(!0),console.log(" Loading collection preview...");const Xe=(Ue=20)=>{const qe=[];for(let st=0;st<Ue;st++)qe.push({id:st,tokenId:st,name:`${n.name} #${st+1}`,description:`NFT #${st+1} from ${n.name}`,image:n.cover,isPlaceholder:!0});return qe},Je=Xe(20);Ie(Je),console.log(" Showing placeholder NFTs instantly");try{if(n.metadata&&n.metadata.nfts){console.log(" Found NFTs in metadata, loading images in background...");const Ue=async(Le,hn)=>{try{const vr=`nft_image_${Le.tokenId||Le.id||hn}`,Ti=ze.get(vr);if(Ti&&Date.now()-Ti.timestamp<600*1e3)return console.log(" Using cached NFT image:",vr),{...Le,id:Le.tokenId||Le.id||hn,image:Ti.data,name:Le.name||`${n.name} #${Le.tokenId||Le.id||hn+1}`,description:Le.description||`NFT #${Le.tokenId||Le.id||hn+1} from ${n.name}`,isPlaceholder:!1};const ch=await Promise.race([Zxe(Le,n.address),new Promise(($m,Py)=>setTimeout(()=>Py(new Error("Image load timeout")),1500))]);return ch&&we($m=>new Map($m.set(vr,{data:ch,timestamp:Date.now()}))),{...Le,id:Le.tokenId||Le.id||hn,image:ch||n.cover,name:Le.name||`${n.name} #${Le.tokenId||Le.id||hn+1}`,description:Le.description||`NFT #${Le.tokenId||Le.id||hn+1} from ${n.name}`,isPlaceholder:!1}}catch(vr){return console.warn(`Failed to load image for NFT ${hn}:`,vr),{...Le,id:Le.tokenId||Le.id||hn,image:n.cover,name:Le.name||`${n.name} #${Le.tokenId||Le.id||hn+1}`,description:Le.description||`NFT #${Le.tokenId||Le.id||hn+1} from ${n.name}`,isPlaceholder:!1}}},qe=n.metadata.nfts.slice(0,20).map((Le,hn)=>Ue(Le,hn).catch(vr=>(console.warn(`Failed to load NFT ${hn}:`,vr),{...Le,id:Le.tokenId||Le.id||hn,image:n.cover,name:Le.name||`${n.name} #${Le.tokenId||Le.id||hn+1}`,description:Le.description||`NFT #${Le.tokenId||Le.id||hn+1} from ${n.name}`,isPlaceholder:!1}))),st=(await Promise.allSettled(qe)).filter(Le=>Le.status==="fulfilled").map(Le=>Le.value);Ie(st),console.log(" All NFT images loaded"),we(Le=>new Map(Le.set(_e,{data:st,timestamp:Date.now()}))),be(!1);return}}catch(Ue){console.warn(" Failed to load real images, keeping placeholders:",Ue)}console.log(" Using placeholder NFTs as fallback"),Ie(Je),we(Ue=>new Map(Ue.set(_e,{data:Je,timestamp:Date.now()}))),be(!1);return}catch(Xe){console.error("Error loading collection NFTs:",Xe),Ie([])}finally{be(!1)}},rt=()=>{we(new Map),Ie([]),Se()},kt=()=>{we(new Map),cg.clear(),Sx.clear(),lg=[],Ie([]),console.log(" All caches cleared")};j.useEffect(()=>{const _e=setInterval(()=>{(cg.size>1e3||Sx.size>100)&&(console.warn(" High cache usage detected, clearing old entries..."),kt())},6e4);return()=>clearInterval(_e)},[]),j.useEffect(()=>{n&&Se()},[n]),j.useEffect(()=>{u&&ae&&ue(!1)},[u,ae]),j.useEffect(()=>{if(i.visible){const _e=setTimeout(()=>o(He=>({...He,visible:!1})),5e3);return()=>clearTimeout(_e)}},[i.visible]);const ot=(_e,He="")=>{o({visible:!0,message:_e,txHash:He})};j.useEffect(()=>{if(f&&f[1]){const _e=T||f[1].price||"0",He=(parseFloat(_e)*L).toFixed(4);Y(He)}},[L,f,T]);const Ct=()=>{if(!u){ue(!0);return}if(!f){ot(" No active phase at the moment.");return}if(!f[1]||!f[1].isPublic&&!v?.isWhitelisted){ot(" You are not whitelisted for this phase.");return}if(W){ot(" Collection is sold out!");return}if(es>0&&I>=es){ot(" You have reached the wallet limit for this phase.");return}V(1),ee(!0)},nt=()=>{ee(!1),V(1),ue(!1)},Kt=_e=>{if(!f||!f[1])return;const He=f[1].maxPerWallet||0,Xe=He>0?He-I:999,Je=Math.min(Xe,10);_e>=1&&_e<=Je&&V(_e)},Wt=()=>{if(!f||!f[1])return 1;const _e=f[1].maxPerWallet||0,He=_e>0?_e-I:999;return Math.min(He,10)},Bn=async()=>{if(!(!f||!u)){try{(await(async()=>{try{return await switchNetwork?.(50312)}catch{return{success:!1}}})())?.success||await _d()}catch{ot(" Please switch to Somnia Testnet to mint.");return}try{ie(!0);const _e=await En(L);_e.success?(ot(" Mint successful!",_e.txHash),nt()):ot(` Mint failed: ${_e.error}`)}catch(_e){console.error(" Mint failed with exception:",_e),ot(" Mint failed. Please try again.")}finally{ie(!1)}}},En=async(_e=1)=>{if(!u)return{success:!1,error:"Please connect your wallet first!"};try{(await(async()=>{try{return await switchNetwork?.(50312)}catch{return{success:!1}}})())?.success||await _d()}catch{return{success:!1,error:"Please switch to Somnia Testnet to mint."}}if(!n)return{success:!1,error:"No collection loaded."};if(!f||!f[1])return{success:!1,error:"No active phase."};const[He,Xe]=f;if(!Xe||!Xe.isPublic&&!v?.isWhitelisted)return{success:!1,error:"You are not whitelisted for this phase."};if(W)return{success:!1,error:"Collection is sold out!"};if(I+_e>Xe.maxPerWallet&&Xe.maxPerWallet>0)return{success:!1,error:"You would exceed the wallet limit for this phase!"};let Je;if(T&&!isNaN(T)?(Je=Mw((parseFloat(T)*_e).toString()),console.log(" Using price from contract:",T,"STT")):Xe.price&&!isNaN(Xe.price)?(Je=Mw((parseFloat(Xe.price)*_e).toString()),console.log(" Using price from UI:",Xe.price,"STT")):(Je=Mw("0"),console.log(" Free mint detected")),Je===void 0)return{success:!1,error:"Could not determine mint price. Please refresh the page."};let Ue=y||[];Xe.isPublic&&(Ue=[]);try{const qe=await h({chainId:50312,address:n.address,abi:Rn,functionName:"mint",args:[_e,Ue],...Je>0?{value:Je}:{}});console.log(" Mint transaction sent:",qe);const st=new In("https://dream-rpc.somnia.network/");let Le=null,hn=3;for(;hn>0&&!Le;)try{Le=await st.waitForTransaction(qe,1,3e4);break}catch(vr){if(console.warn(`Transaction confirmation attempt ${4-hn} failed:`,vr),hn--,hn>0)await new Promise(Ti=>setTimeout(Ti,2e3));else try{Le=await st.getTransactionReceipt(qe)}catch{throw vr}}return Le.status===1?(ot(" Mint successful!",qe),b(vr=>vr+_e),M(vr=>vr+_e),setTimeout(async()=>{await Promise.all([Vn(),Ur()])},2e3),{success:!0,txHash:qe}):{success:!1,error:"Mint transaction failed on-chain"}}catch(qe){return console.error(" Mint Error:",qe),console.error(" Error details:",{message:qe.message,code:qe.code,data:qe.data,stack:qe.stack}),qe.message&&qe.message.includes("Not whitelisted")?{success:!1,error:"Not whitelisted for this phase"}:qe.message&&qe.message.includes("Wrong price")?{success:!1,error:"Wrong price. Please refresh the page."}:qe.message&&qe.message.includes("Phase not active")?{success:!1,error:"Phase is not active"}:qe.message&&qe.message.includes("insufficient funds")?{success:!1,error:"Insufficient funds for minting"}:qe.message&&qe.message.includes("user rejected")?{success:!1,error:"Transaction was rejected by user"}:{success:!1,error:`Mint failed: ${qe.message}`}}},Ur=async()=>{if(!(!c||!n||!f||!f[1]))try{const _e=new In("https://dream-rpc.somnia.network/"),He=new Pt(n.address,Rn,_e),[Xe,Je]=f;console.log(" Checking wallet limit for:",{user:c,collection:n.address,phase:Xe,phaseName:Je.name});let Ue=null,qe=0;try{typeof He.phases=="function"?(Ue=await He.phases(Xe),qe=Number(Ue.maxPerWallet),console.log(" Got phase data from contract:",{start:Number(Ue.start),end:Number(Ue.end),price:e4(Ue.price),maxPerWallet:qe,merkleRoot:Ue.merkleRoot})):console.log(" phases function not available in contract")}catch(st){console.warn(" Could not get phase data from contract:",st.message)}if(!Ue||qe===0){console.log(" Falling back to localStorage data");const st=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),Le=Object.entries(st)[Xe];Le&&(qe=Number(Le[1].limit)||0,console.log(" Using localStorage limit:",qe))}if(console.log(" Final wallet limit:",qe),qe===0){console.log(" Wallet limit is 0, treating as unlimited"),M(0);return}try{if(typeof He.mintedPerWallet=="function"){const st=await He.mintedPerWallet(c,Xe);console.log(" mintedPerWallet function exists, result:",Number(st)),M(Number(st));return}else console.log(" mintedPerWallet function not available in contract")}catch(st){console.warn(" mintedPerWallet function failed:",st)}try{const st=await He.balanceOf(c);console.log(" Using balanceOf as fallback:",Number(st)),Number(st)>qe&&qe>0&&(console.warn(" WARNING: User balance exceeds wallet limit! This suggests:"),console.warn("   - User minted in multiple phases"),console.warn("   - Or limit was changed after mint"),console.warn("   - Or we are checking wrong phase")),M(Number(st));return}catch(st){console.warn(" balanceOf function also failed:",st)}console.log(" Could not determine wallet limit, assuming unlimited"),M(0)}catch(_e){console.error(" Could not check wallet limit:",_e),M(0)}},Vn=async()=>{if(n)try{const _e=new In("https://dream-rpc.somnia.network/"),He=new Pt(n.address,Rn,_e),Xe=await He.totalSupply(),Je=await He.maxSupply(),Ue=Number(Xe)>=Number(Je);z(Ue),console.log(" Sold out check:",{totalSupply:Number(Xe),maxSupply:Number(Je),soldOut:Ue})}catch(_e){console.warn(" Could not check sold out status:",_e),z(!1)}},$r=async()=>{if(n)try{const _e=new In("https://dream-rpc.somnia.network/"),He=new Pt(n.address,Rn,_e);console.log(" Analyzing contract functions for:",n.address);const Xe=["mintedPerWallet","balanceOf","totalSupply","maxSupply","currentPhase","phases"];for(const Je of Xe)try{if(Je==="mintedPerWallet"&&f&&f[1]){const[Ue]=f;await He.mintedPerWallet(c,Ue),console.log(` ${Je} function exists`)}else if(Je==="balanceOf"&&c)await He.balanceOf(c),console.log(` ${Je} function exists`);else if(Je==="totalSupply")await He.totalSupply(),console.log(` ${Je} function exists`);else if(Je==="maxSupply")await He.maxSupply(),console.log(` ${Je} function exists`);else if(Je==="currentPhase")await He.currentPhase(),console.log(` ${Je} function exists`);else if(Je==="phases"&&f&&f[1]){const[Ue]=f;await He.phases(Ue),console.log(` ${Je} function exists`)}}catch(Ue){console.log(` ${Je} function not available:`,Ue.message)}}catch(_e){console.error(" Failed to analyze contract:",_e)}};j.useEffect(()=>{n&&c&&$r()},[n,c]);const on=async()=>{if(n)try{const _e=new In("https://dream-rpc.somnia.network/"),He=new Pt(n.address,Rn,_e);console.log(" Checking phase history for:",n.address);const Xe=await He.currentPhase();console.log(" Current phase from contract:",Number(Xe));const Je=n.phases?Object.entries(n.phases):[];console.log(" All phases from metadata:",Je.length);for(let Ue=0;Ue<Je.length;Ue++)try{const[qe,st]=Je[Ue];console.log(` Phase ${Ue}: ${qe}`,{start:new Date(Number(st.start)*1e3).toLocaleString(),end:new Date(Number(st.end)*1e3).toLocaleString(),maxPerWallet:st.maxPerWallet,limit:st.limit,price:st.price,isPublic:st.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"});try{const Le=await He.mintedPerWallet(c,Ue);console.log(`   User minted in phase ${Ue}:`,Number(Le))}catch(Le){console.log(`   Could not check user minted in phase ${Ue}:`,Le.message)}try{const Le=await He.phases(Ue);console.log(`   Contract phase ${Ue} data:`,{start:Number(Le.start),end:Number(Le.end),price:e4(Le.price),maxPerWallet:Number(Le.maxPerWallet),merkleRoot:Le.merkleRoot,isPublic:Le.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"})}catch(Le){console.log(`   Could not get contract phase ${Ue} data:`,Le.message)}}catch(qe){console.log(`   Could not get phase ${Ue} data:`,qe.message)}try{const Ue=await He.balanceOf(c);console.log(" Total user balance:",Number(Ue));try{const qe=await He.balanceOf(c);console.log(" User owns",Number(qe),"tokens");for(let st=0;st<Math.min(Number(qe),5);st++)try{const Le=await He.tokenOfOwnerByIndex(c,st);console.log(`   Token ${st}: ID ${Number(Le)}`)}catch(Le){console.log(`   Could not get token ${st}:`,Le.message)}}catch(qe){console.log("Could not get token details:",qe.message)}}catch(Ue){console.log("Could not get user balance:",Ue.message)}}catch(_e){console.error(" Failed to check phase history:",_e)}};j.useEffect(()=>{n&&c&&on()},[n,c]),j.useEffect(()=>{(async()=>{try{if(console.log(" Loading collection for address:",e),!e){console.error(" No address provided"),a(!1);return}const _e=new In("https://dream-rpc.somnia.network/");try{if(await _e.getCode(e)==="0x")throw new Error("No contract deployed at this address");console.log(" Contract exists at address")}catch(Le){throw console.error(" Contract check failed:",Le),new Error("Invalid contract address")}const He=new Pt(e,Rn,_e);console.log(" Contract initialized, fetching data...");let Xe="Unknown Collection";try{Xe=await He.name(),console.log(" Collection name:",Xe)}catch(Le){console.warn(" Failed to get name from contract:",Le)}let Je="";try{Je=await He.contractURI(),console.log(" Metadata URI:",Je)}catch(Le){console.warn(" Failed to get contractURI:",Le)}let Ue={};if(Je&&Je!=="")try{const Le=Dn(Je);console.log(" IPFS URLs:",Le),Ue=await wx(Le),console.log(" Fetched metadata:",Ue)}catch(Le){console.error(" Failed to fetch metadata:",Le),Ue={}}else console.log(" No metadata URI found");let qe=0;try{qe=await He.maxSupply(),console.log(" Max supply:",qe)}catch(Le){console.warn(" Failed to get maxSupply:",Le)}const st={address:e,name:Xe,cover:Ue.image?Dn(Ue.image)[0]:dr,description:Ue.description||"No description provided.",phases:Ue.phases||{},totalSupply:Number(qe),minted:Ue.minted||0,banner:Ue.banner?Dn(Ue.banner)[0]:null,bannerPosition:"center center",bannerFit:"cover",external_link:Ue.external_link||"",metadata:Ue};try{const Le=localStorage.getItem(`collection_${e}_banner`);Le&&(st.banner=Le)}catch{}r(st)}catch(_e){console.error(" Failed to load collection:",_e),console.error(" Error details:",{message:_e.message,code:_e.code,data:_e.data});try{const He=(JSON.parse(localStorage.getItem("dreava_collections"))||[]).find(Xe=>Xe.address===e);if(He){const Xe=localStorage.getItem(`collection_${e}_banner`),Je=localStorage.getItem(`collection_${e}_banner_position`)||"center center",Ue=localStorage.getItem(`collection_${e}_banner_fit`)||"cover",qe={address:e,name:He.name||"Unknown Collection",cover:He.cover||dr,description:He.description||"No description provided.",phases:He.phases||{},totalSupply:He.totalSupply||0,minted:He.minted||0,banner:Xe||null,bannerPosition:Je,bannerFit:Ue,external_link:He.external_link||""};r(qe)}else console.error(" Collection not found in localStorage either")}catch(He){console.error(" Failed to load from localStorage:",He)}}finally{a(!1)}})(),Ce()},[e]),j.useEffect(()=>{if(!n)return;const _e=async()=>{try{const Xe=new In("https://dream-rpc.somnia.network/"),Je=new Pt(e,Rn,Xe);let Ue=0;try{Ue=await Je.currentPhase(),S(Number(Ue)),console.log(" Current phase from contract:",Ue)}catch(qe){console.warn(" Failed to get currentPhase:",qe),S(0)}if(Ue>0)try{const qe=await Je.phases(Ue-1),st=e4(qe.price);P(st),console.log(" Price from contract:",st)}catch(qe){console.warn(" Failed to get phase price:",qe),P(null)}else P(null);try{const qe=await Je.totalSupply();b(Number(qe)),console.log(" Total minted from contract:",qe)}catch(qe){console.warn(" Failed to get totalSupply:",qe)}}catch(Xe){console.error(" Failed to get contract data:",Xe)}};_e();const He=setInterval(_e,3e4);return()=>clearInterval(He)},[n,e]),j.useEffect(()=>{if(!n||!c)return;const _e=async()=>{await Promise.all([Ur(),Vn()])};_e();const He=setInterval(_e,3e4);return()=>clearInterval(He)},[n,c,f]),j.useEffect(()=>{if(!n)return;const _e=()=>{const Xe=Math.floor(Date.now()/1e3),Je=n.phases?Object.entries(n.phases):[];let Ue=null,qe=null;if(Je.forEach(([st,Le],hn)=>{const vr=Number(Le.start),Ti=Number(Le.end);vr<=Xe&&Xe<=Ti&&(Ue=Le,qe=hn)}),Ue){const st=Ue.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||Ue.isPublic,Le={name:Ue.name||`Phase ${qe}`,start:Number(Ue.start),end:Number(Ue.end),price:Ue.price,maxPerWallet:Ar&&Ar[qe]||Ue.maxPerWallet||1,merkleRoot:Ue.merkleRoot,isPublic:st};p([qe,Le])}else p(null)};_e();const He=setInterval(_e,3e4);return()=>clearInterval(He)},[n]),j.useEffect(()=>{if(!f||!c||!n){N({isWhitelisted:!1}),w([]);return}const[_e,He]=f;if(He.isPublic){N({isWhitelisted:!0}),w([]);return}(async()=>{try{C(!0);let Xe=n.phases?Object.entries(n.phases):[];const Je=Xe[_e]?Xe[_e][0]:"Whitelist";console.log(" Checking whitelist for:",{address:c,collection:n.address,phase:Je});const Ue=await fetch(`/api/whitelist/check?collection=${n.address}&phase=${Je}`);if(Ue.ok){const qe=await Ue.json();if(console.log(" Whitelist check result:",qe),qe.exists){const st=await fetch("/api/whitelist/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:c,collection:n.address,phase:Je})});if(console.log(" Whitelist verify response status:",st.status),st.ok){const Le=await st.json();console.log(" Whitelist verify response data:",Le),Le.isWhitelisted&&Le.proof&&Array.isArray(Le.proof)?(console.log(" User is whitelisted, proof:",Le.proof),w(Le.proof),N({isWhitelisted:!0})):(console.log(" User is not whitelisted or no proof"),w([]),N({isWhitelisted:!1}))}else console.log(" Whitelist verify request failed"),w([]),N({isWhitelisted:!1})}else console.log(" Whitelist does not exist for this phase"),w([]),N({isWhitelisted:!1})}else console.log(" Whitelist check request failed"),w([]),N({isWhitelisted:!1})}catch(Xe){console.error("Error fetching whitelist proof:",Xe),w([]),N({isWhitelisted:!1})}finally{C(!1)}})()},[f?.[0],f?.[1]?.name,c,n?.address]);const Al=async()=>{if(!n||!f||!f[1])return 0;try{const _e=new In("https://dream-rpc.somnia.network/"),He=new Pt(n.address,Rn,_e),[Xe]=f;try{if(typeof He.phases=="function"){const qe=await He.phases(Xe),st=Number(qe.maxPerWallet);if(st>0)return st}}catch(qe){console.warn("Could not get phase data from contract:",qe.message)}const Je=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),Ue=Object.entries(Je)[Xe];return Ue&&Number(Ue[1].limit)||0}catch(_e){return console.error("Error getting wallet limit:",_e),0}},[es,xo]=j.useState(0),[Ar,ba]=j.useState({});j.useEffect(()=>{n&&f&&f[1]&&Al().then(xo)},[n,f]);const hr=async()=>{if(n)try{const _e=new In("https://dream-rpc.somnia.network/"),He=new Pt(n.address,Rn,_e),Xe={},Je=n.phases?Object.entries(n.phases):[];for(let Ue=0;Ue<Je.length;Ue++)try{if(typeof He.phases=="function"){const qe=await He.phases(Ue),st=Number(qe.maxPerWallet);Xe[Ue]=st,console.log(`Phase ${Ue} wallet limit from contract:`,st)}}catch(qe){console.warn(`Could not get phase ${Ue} limit from contract:`,qe.message);const st=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}"),Le=Object.entries(st);Le[Ue]&&(Xe[Ue]=Number(Le[Ue][1].limit)||0)}ba(Xe)}catch(_e){console.error("Error fetching contract phase limits:",_e)}};j.useEffect(()=>{n&&hr()},[n]),j.useEffect(()=>{n&&Ar&&Object.keys(Ar).length>0&&(()=>{const _e=Math.floor(Date.now()/1e3),He=n.phases?Object.entries(n.phases):[];let Xe=null,Je=null;if(He.forEach(([Ue,qe],st)=>{const Le=Number(qe.start),hn=Number(qe.end);Le<=_e&&_e<=hn&&(Xe=qe,Je=st)}),Xe){const Ue=Xe.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||Xe.isPublic,qe={name:Xe.name||`Phase ${Je}`,start:Number(Xe.start),end:Number(Xe.end),price:Xe.price,maxPerWallet:Ar[Je]||Xe.maxPerWallet||1,merkleRoot:Xe.merkleRoot,isPublic:Ue};p([Je,qe])}})()},[n,Ar]);const wa=()=>{if(!n||!n.phases)return[];const _e=Object.entries(n.phases),He=Math.floor(Date.now()/1e3),Xe=[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}],Je=new Map;return _e.forEach(([Ue,qe],st)=>{Je.set(Ue,{...qe,originalIndex:st,name:Ue})}),Xe.filter(Ue=>Je.has(Ue.key)).map(Ue=>{const qe=Je.get(Ue.key),st=Number(qe.start),Le=Number(qe.end),hn=st<=He&&He<=Le,vr=qe.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||qe.isPublic;return{...qe,name:Ue.key,originalIndex:qe.originalIndex,isActive:hn,isPublic:vr,priority:Ue.priority}}).sort((Ue,qe)=>Ue.priority-qe.priority)},Ii=()=>{if(n)try{console.log(" Checking localStorage phase data for:",n.address);const _e=JSON.parse(localStorage.getItem(`phases_${n.address}`)||"{}");console.log(" Phases from localStorage:",_e),Object.entries(_e).forEach(([Xe,Je])=>{console.log(` Phase "${Xe}" from localStorage:`,{start:Je.start,end:Je.end,price:Je.price,limit:Je.limit,maxPerWallet:Je.maxPerWallet,allocated:Je.allocated,active:Je.active}),(!Je.limit||Je.limit===0)&&(console.warn(` WARNING: Phase "${Xe}" has no limit or limit is 0!`),console.warn("   This means unlimited minting per wallet."))});const He=JSON.parse(localStorage.getItem(`collection_${n.address}`)||"{}");console.log(" Collection data from localStorage:",He)}catch(_e){console.error(" Failed to check localStorage phases:",_e)}};return j.useEffect(()=>{n&&Ii()},[n]),j.useEffect(()=>{if(n&&n.name){document.title=`${n.name} - Dreava Launchpad`;const _e=document.querySelector('meta[name="description"]');_e&&_e.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const He=document.querySelector('meta[property="og:title"]');He&&He.setAttribute("content",`${n.name} - Dreava Launchpad`);const Xe=document.querySelector('meta[property="og:description"]');Xe&&Xe.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const Je=document.querySelector('meta[property="og:image"]');Je&&n.banner&&(Je.setAttribute("content",n.banner),console.log(" Set OG image to:",n.banner));const Ue=document.querySelector('meta[property="og:url"]');Ue&&Ue.setAttribute("content",window.location.href);const qe=document.querySelector('meta[property="twitter:title"]');qe&&qe.setAttribute("content",`${n.name} - Dreava Launchpad`);const st=document.querySelector('meta[property="twitter:description"]');st&&st.setAttribute("content",n.description||`Check out ${n.name} NFT collection on Dreava Launchpad`);const Le=document.querySelector('meta[property="twitter:image"]');Le&&n.banner&&(Le.setAttribute("content",n.banner),console.log(" Set Twitter image to:",n.banner));const hn=document.querySelector('meta[property="twitter:url"]');hn&&hn.setAttribute("content",window.location.href)}return()=>{document.title="Dreava Launchpad";const _e=document.querySelector('meta[name="description"]');_e&&_e.setAttribute("content","Dreava Launchpad - NFT Launchpad Platform")}},[n]),s?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:l.jsx(Id,{message:"Loading collection",showLogo:!0,size:"large",showProgress:!1,showDots:!1})}):n?l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx(Rm,{}),l.jsxs("div",{className:"relative h-[400px] w-full overflow-hidden shadow-2xl border-b border-zinc-700/30 bg-zinc-900/80 backdrop-blur-sm z-10",children:[(()=>{const _e=localStorage.getItem(`collection_${n.address}_banner`),He=n.metadata?.banner?Dn(n.metadata.banner)[0]:null,Xe=n.banner?n.banner.startsWith("ipfs://")?Dn(n.banner)[0]:n.banner:null,Je=_e||He||Xe||null,Ue=localStorage.getItem(`collection_${n.address}_banner_position`)||"center center",qe=localStorage.getItem(`collection_${n.address}_banner_fit`)||"cover";return console.log(" CollectionMintPage Banner debug:",{bannerLocal:_e,bannerMeta:He,bannerApi:Xe,resolvedBanner:Je,collectionCover:n.cover,collectionBannerImage:n.bannerImage}),Je?l.jsx("img",{src:Je,alt:"banner",className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:Ue,objectFit:qe},onError:st=>{console.warn(" Banner image failed to load:",Je),st.target.style.display="none";const Le=st.target.nextElementSibling;Le&&(Le.style.display="flex")}}):null})(),l.jsxs("div",{className:`flex items-center justify-center h-full w-full ${n.banner?"hidden":""}`,style:{display:n.banner?"none":"flex"},children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-800 via-zinc-900 to-black"}),l.jsxs("div",{className:"relative z-10 text-center text-white",children:[l.jsx("div",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent",children:n.name}),l.jsx("div",{className:"text-xl text-zinc-300 mb-2",children:n.description?n.description.slice(0,100)+"...":"Amazing NFT Collection"}),l.jsx("div",{className:"text-zinc-400",children:"Discover and mint unique NFTs"})]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/60 via-zinc-900/20 to-transparent"}),l.jsx("button",{onClick:()=>t(-1),className:"absolute top-6 left-6 px-4 py-2 rounded-xl bg-black/40 backdrop-blur-sm border border-white/20 text-white hover:bg-black/60 hover:border-white/30 transition-all duration-300 hover:scale-105 z-20",children:" Back"})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6 pb-24 relative z-10",children:[l.jsx(XC,{onMetrics:O,showUI:!1}),_.length>0&&l.jsx(xx,{images:_,priority:!0,onComplete:()=>G(!0),onProgress:(_e,He)=>{_e===He&&G(!0)}}),D.length>0&&l.jsx(xx,{images:D,priority:!1,onComplete:()=>console.log("NFT preview images preloaded"),onProgress:(_e,He)=>{console.log(`NFT preview: ${_e}/${He} images loaded`)}}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:l.jsxs("div",{className:"flex items-start gap-6",children:[l.jsx("div",{className:"w-24 h-24 rounded-2xl border-2 border-zinc-700/50 shadow-xl overflow-hidden bg-zinc-900/80 backdrop-blur-sm flex-shrink-0",children:l.jsx(jd,{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:"cover",className:"w-full h-full object-cover",priority:!0,sizes:"96px",onError:_e=>{console.warn(" Cover image failed to load:",n.cover),n.firstNFTImage&&n.firstNFTImage!==_e.target.src?_e.target.src=n.firstNFTImage:_e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTYiIGhlaWdodD0iOTYiIHZpZXdCb3g9IjAgMCA5NiA5NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9Ijk2IiBoZWlnaHQ9Ijk2IiBmaWxsPSIjMzM0MTU1Ii8+CjxjaXJjbGUgY3g9IjQ4IiBjeT0iNDgiIHI9IjI0IiBmaWxsPSIjNjY3MzgwIi8+Cjwvc3ZnPgo="}})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-white truncate",children:n.name}),l.jsx(Ji,{className:"w-6 h-6 text-green-400 flex-shrink-0"})]}),l.jsx("p",{className:"text-zinc-300 text-sm mb-4 leading-relaxed",children:n.description}),l.jsxs("div",{className:"flex items-center gap-3",children:[Be.website&&l.jsx("a",{href:Be.website,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx(h6,{className:"w-4 h-4 text-zinc-400"})}),Be.twitter&&l.jsx("a",{href:Be.twitter,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),Be.discord&&l.jsx("a",{href:Be.discord,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.019 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1568 2.4189Z"})})}),l.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${n.address}`,target:"_blank",rel:"noopener noreferrer",className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",children:l.jsx(Kd,{className:"w-4 h-4 text-zinc-400"})}),l.jsx("button",{onClick:()=>ce(!0),className:"w-8 h-8 rounded-lg bg-zinc-800/50 hover:bg-zinc-700/50 transition-all duration-200 hover:scale-110 flex items-center justify-center",title:"Share collection",children:l.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})]})]})]})}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:g}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Minted"})]}),l.jsx("div",{className:"text-zinc-400 text-xl",children:"/"}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-white",children:n.totalSupply}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Total"})]})]}),f&&l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:"Price"}),l.jsxs("div",{className:"flex items-center gap-2 text-xl font-bold text-white whitespace-nowrap",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-5 h-5"})," ",ge," STT"]})]})]}),l.jsx("div",{className:"w-full h-3 bg-zinc-800/50 rounded-full mb-6 overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500 relative",style:{width:`${q}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),W?l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-red-500 via-pink-500 to-red-600 bg-clip-text text-transparent mb-2",children:"SOLD OUT!"}),l.jsx("div",{className:"text-zinc-400 text-sm",children:"All NFTs have been minted"})]}):f&&f[1]?l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(gm,{className:"w-4 h-4 text-pink-400 animate-pulse"}),l.jsx("span",{className:"text-base font-semibold text-white",children:l.jsx(qg,{date:Number(f[1].end)*1e3,renderer:({days:_e,hours:He,minutes:Xe,seconds:Je})=>l.jsxs("span",{children:[_e>0?`${_e}d `:"",He,"h ",Xe,"m ",Je,"s"]})})})]}),l.jsx("div",{className:"text-zinc-400 text-sm",children:"Time remaining"})]}):l.jsx("div",{className:"text-center mb-6",children:l.jsx("div",{className:"text-base font-semibold text-zinc-400",children:"No active phase at the moment"})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("button",{onClick:Ct,disabled:!f||A||W||es>0&&I>=es||!f?.[1]?.isPublic&&!v?.isWhitelisted,className:`w-full px-8 py-4 rounded-2xl text-white font-bold text-lg shadow-2xl transition-all duration-300 active:scale-95 relative overflow-hidden group ${W||es>0&&I>=es||!f||A||!f?.[1]?.isPublic&&!v?.isWhitelisted?"bg-zinc-700 text-zinc-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:from-[#0095E6] hover:to-[#E61CC7] hover:shadow-pink-500/25 hover:scale-105"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:A?"Checking whitelist...":W?"Sold Out":es>0&&I>=es?"Wallet Limit Reached":f&&f[1]?`Mint for ${ge} STT`:"Mint Now"})]}),!v?.isWhitelisted&&!A&&!f?.[1]?.isPublic&&l.jsx("div",{className:"mt-3 text-red-400 text-sm",children:"You are not whitelisted for this phase"}),v?.isWhitelisted&&!A&&!f?.[1]?.isPublic&&l.jsx("div",{className:"mt-3 text-green-400 text-sm",children:" You are whitelisted for this phase!"}),A&&l.jsx("div",{className:"mt-3",children:l.jsx(Id,{message:"Verifying whitelist",showLogo:!1,size:"small",showProgress:!1,showDots:!1})})]})]}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6",children:[l.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Phases"}),(()=>{const _e=wa();return _e.length===0?l.jsx("div",{className:"text-center text-zinc-400 text-sm",children:"No phases defined"}):l.jsx("div",{className:"space-y-3",children:_e.map((He,Xe)=>{const Je=f&&f[1]&&f[0]===He.originalIndex;He.isActive;const Ue=Ar[He.originalIndex]??0;return l.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-300 ${Je?"bg-gradient-to-r from-green-900/20 to-emerald-900/20 border-green-500/50":"bg-zinc-800/30 border-zinc-700/50"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${Je?"bg-green-500 animate-pulse":"bg-zinc-500"}`}),l.jsx("div",{className:"font-semibold text-white text-sm",children:He.name})]}),Je&&l.jsx("span",{className:"text-xs bg-green-600 px-2 py-1 rounded-full text-white",children:"LIVE"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 text-white whitespace-nowrap",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-4 h-4"})," ",v9(He.price)," STT"]}),l.jsxs("div",{className:"text-zinc-400",children:[Ue===0?"":Ue," per wallet"]})]}),l.jsxs("div",{className:"text-xs text-zinc-400 mt-1",children:[new Date(Number(He.start)*1e3).toLocaleDateString()," - ",new Date(Number(He.end)*1e3).toLocaleDateString()]})]},Xe)})})})()]})]}),l.jsx("div",{className:"lg:col-span-1",children:fe.length>0&&l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-sm rounded-3xl border border-zinc-700/30 p-6 lg:sticky lg:top-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-bold text-white",children:"Collection Preview"}),l.jsx("button",{onClick:rt,className:"text-zinc-400 hover:text-white transition-colors",title:"Refresh preview",children:""})]}),je&&l.jsx(Id,{message:"Loading preview",showLogo:!1,size:"small",showProgress:!1,showDots:!1}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[fe.slice(0,5).map((_e,He)=>l.jsxs("button",{onClick:()=>{Ne(_e),oe(!0)},className:"group",children:[l.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm relative",children:[l.jsx(jd,{src:_e.image,alt:_e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:He<3,sizes:K?"50vw":"25vw",onError:Xe=>{console.warn(" NFT preview image failed to load:",_e.image),Xe.target.src=n.cover}}),_e.isPlaceholder&&l.jsx("div",{className:"absolute inset-0 bg-zinc-800/80 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-6 h-6 border-2 border-zinc-600 border-t-pink-500 rounded-full animate-spin mx-auto mb-2"}),l.jsx("div",{className:"text-xs text-zinc-400",children:"Loading..."})]})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"mt-1 text-center",children:l.jsx("div",{className:"text-xs text-white font-medium truncate"})})]},He)),fe.length>5&&l.jsx("button",{onClick:()=>H(!0),className:"aspect-square rounded-lg border-2 border-dashed border-zinc-600/50 hover:border-pink-500/50 transition-all duration-300 flex items-center justify-center text-zinc-400 hover:text-zinc-300 bg-zinc-900/50 backdrop-blur-sm hover:scale-105 group",children:l.jsxs("div",{className:"text-center group-hover:scale-110 transition-transform duration-300",children:[l.jsx("div",{className:"text-sm font-semibold",children:"More"}),l.jsxs("div",{className:"text-xs",children:["+",fe.length-5]})]})})]})]})})]})]}),Z&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-t-3xl sm:rounded-3xl shadow-2xl w-full sm:max-w-lg sm:w-full animate-fadeIn border border-zinc-700/30 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Mint NFT"}),l.jsx("button",{onClick:nt,className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:24})})]}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsx("div",{className:"relative mb-4 sm:mb-6 flex-shrink-0 h-40 sm:h-56",children:l.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-full h-full object-cover rounded-xl",onError:_e=>{console.warn(" Collection cover failed to load:",_e.target.src),n.firstNFTImage&&n.firstNFTImage!==_e.target.src?_e.target.src=n.firstNFTImage:_e.target.src="/default-cover.png"}})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:n.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[g," / ",n.totalSupply," minted"]})]})]}),l.jsxs("div",{className:"mb-4 sm:mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Quantity"}),l.jsxs("div",{className:"flex items-center justify-between bg-zinc-800/30 rounded-2xl p-3 sm:p-4 border border-zinc-700/30",children:[l.jsx("button",{onClick:()=>Kt(L-1),disabled:L<=1,className:"w-12 h-12 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-200 hover:scale-105",children:l.jsx(nD,{size:20})}),l.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white px-4 sm:px-6",children:L}),l.jsx("button",{onClick:()=>Kt(L+1),disabled:L>=Wt(),className:"w-12 h-12 rounded-xl bg-zinc-700/50 hover:bg-zinc-600/50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-all duration-200 hover:scale-105",children:l.jsx(rD,{size:20})})]}),l.jsxs("p",{className:"text-xs text-zinc-400 mt-2",children:["Max: ",Wt()," per transaction"]})]}),l.jsxs("div",{className:"bg-zinc-800/30 rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 border border-zinc-700/30",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:"text-zinc-400",children:"Price per NFT:"}),l.jsx("div",{className:"flex items-center gap-2 min-w-0",children:l.jsxs("span",{className:"font-semibold text-white whitespace-nowrap flex items-center gap-1",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-5 h-5 flex-shrink-0"})," ",ge," STT"]})})]}),l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("span",{className:"text-zinc-400",children:"Quantity:"}),l.jsx("span",{className:"text-white",children:L})]}),l.jsx("div",{className:"border-t border-zinc-700/30 pt-3",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),l.jsx("div",{className:"flex items-center gap-2 min-w-0",children:l.jsxs("span",{className:"text-xl font-bold text-white whitespace-nowrap flex items-center gap-1",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-6 h-6 flex-shrink-0"})," ",Q," STT"]})})]})})]}),l.jsxs("button",{onClick:Bn,disabled:re,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 sm:hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group sticky bottom-0",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:re?" Processing...":`Mint ${L} NFT${L>1?"s":""}`})]})]})]})}),ae&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl animate-pulse",children:l.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Connect Wallet"}),l.jsx("p",{className:"text-zinc-400 mb-8 text-lg",children:"Please connect your wallet to mint NFTs from this collection"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:()=>ue(!1),className:"flex-1 py-3 px-6 rounded-2xl bg-zinc-700/50 text-white hover:bg-zinc-600/50 transition-all duration-200 hover:scale-105",children:"Cancel"}),l.jsxs("button",{onClick:()=>{ue(!1);const _e=document.querySelector("[data-wallet-connect]");_e&&_e.click()},className:"flex-1 py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold hover:from-[#0095E6] hover:to-[#E61CC7] transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-pink-500/25 relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),l.jsx("span",{className:"relative z-10",children:"Connect Wallet"})]})]})]})})}),pe&&he&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-3xl w-full animate-fadeIn border border-zinc-700/30",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:he.name}),l.jsx("button",{onClick:()=>{oe(!1),Ne(null)},className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:28})})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"rounded-2xl overflow-hidden border border-zinc-700/30 shadow-2xl",children:l.jsx("img",{src:he.image,alt:he.name,className:"w-full rounded-2xl object-cover hover:scale-105 transition-transform duration-500",onError:_e=>{_e.target.src=n.cover}})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-xl font-semibold text-white mb-3",children:he.name}),l.jsx("p",{className:"text-zinc-300 text-base mb-6",children:he.description||`NFT from ${n.name} collection`}),he.attributes&&he.attributes.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-semibold text-zinc-300 mb-4",children:"Attributes"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:he.attributes.map((_e,He)=>l.jsxs("div",{className:"bg-zinc-800/30 rounded-xl p-3 border border-zinc-700/30 hover:border-pink-500/50 transition-all duration-200 hover:scale-105",children:[l.jsx("div",{className:"text-sm text-zinc-400 mb-1",children:_e.trait_type}),l.jsx("div",{className:"text-base text-white font-semibold",children:_e.value})]},He))})]})]})]})]})})}),Re&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-5xl w-full max-h-[85vh] animate-fadeIn border border-zinc-700/30",children:l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-2xl font-bold text-white",children:"Collection Gallery"}),l.jsx("button",{onClick:()=>H(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:28})})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 max-h-[65vh] overflow-y-auto",children:fe.map((_e,He)=>l.jsxs("button",{onClick:()=>{Ne(_e),H(!1),oe(!0)},className:"group",children:[l.jsxs("div",{className:"aspect-square rounded-2xl overflow-hidden border border-zinc-700/30 group-hover:border-pink-500/50 transition-all duration-300 hover:scale-105 bg-zinc-900/50 backdrop-blur-sm shadow-lg relative",children:[l.jsx(jd,{src:_e.image,alt:_e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",priority:He<12,sizes:K?"50vw":$?"25vw":"16vw",onError:Xe=>{console.warn(" More NFTs modal image failed to load:",_e.image),Xe.target.src=n.cover}}),_e.isPlaceholder&&l.jsx("div",{className:"absolute inset-0 bg-zinc-800/80 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-2 border-zinc-600 border-t-pink-500 rounded-full animate-spin mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-zinc-400",children:"Loading..."})]})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-zinc-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsx("div",{className:"mt-3 text-center",children:l.jsx("div",{className:"text-sm text-white font-medium truncate",children:_e.name})})]},He))})]})})}),i.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-900/95 backdrop-blur-md text-white p-4 rounded-xl shadow-2xl max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90 border border-zinc-700/50 hover:border-pink-500/50 transition-all duration-300 hover:scale-105 z-50",children:[l.jsx("p",{className:"text-sm mb-1",children:i.message}),i.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${i.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm hover:text-pink-400 transition-colors duration-200",children:[l.jsx(Kd,{size:16}),"View Transaction"]})]}),ye&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-md rounded-3xl shadow-2xl max-w-md w-full animate-fadeIn border border-zinc-700/30",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700/30",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Collection"}),l.jsx("button",{onClick:()=>ce(!1),className:"text-zinc-400 hover:text-white transition-all duration-200 hover:scale-110",children:l.jsx(Jn,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4 p-4 bg-zinc-800/30 rounded-2xl border border-zinc-700/30",children:[l.jsx("div",{className:"relative mb-6 flex-shrink-0 h-56",children:l.jsx("img",{src:n.cover||n.firstNFTImage||"/default-cover.png",alt:n.name,className:"w-full h-full object-cover rounded-xl",onError:_e=>{console.warn(" Collection cover failed to load:",_e.target.src),n.firstNFTImage&&n.firstNFTImage!==_e.target.src?_e.target.src=n.firstNFTImage:_e.target.src="/default-cover.png"}})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:n.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[g," / ",n.totalSupply," minted"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Collection Link"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"text",value:window.location.href,readOnly:!0,className:"flex-1 p-3 bg-zinc-800/30 border border-zinc-700/30 rounded-xl text-white text-sm focus:outline-none focus:border-pink-500/50 transition-colors truncate",style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),se(!0),setTimeout(()=>se(!1),2e3)},className:`px-4 py-3 rounded-xl font-semibold transition-all duration-200 hover:scale-105 flex-shrink-0 ${ne?"bg-green-600 text-white":"bg-zinc-700/50 hover:bg-zinc-600/50 text-white"}`,children:ne?"Copied!":"Copy"})]}),l.jsx("div",{className:"mt-2",children:l.jsxs("details",{className:"group",children:[l.jsx("summary",{className:"text-xs text-zinc-400 cursor-pointer hover:text-zinc-300 transition-colors",children:"Show full URL"}),l.jsx("div",{className:"mt-2 p-2 bg-zinc-800/20 rounded-lg border border-zinc-700/30",children:l.jsx("p",{className:"text-xs text-zinc-300 break-all",children:window.location.href})})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Share on Twitter"}),l.jsx("div",{className:"bg-zinc-800/30 rounded-2xl p-4 border border-zinc-700/30 mb-4",children:l.jsxs("p",{className:"text-sm text-zinc-300 mb-3",children:['"I just created my NFT collection "',n.name,'" on Dreava Art! ',l.jsx("br",{}),l.jsx("br",{}),"Check it out: ",l.jsx("span",{className:"break-all text-blue-400",children:window.location.href}),l.jsx("br",{}),l.jsx("br",{}),`Try it yourself, it's really simple! "`]})}),l.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${encodeURIComponent(`I just created my NFT collection "${n.name}" on Dreava Art! 

Check it out: ${window.location.href}

Try it yourself, it's really simple! `)}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-3 px-6 rounded-2xl bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-300 hover:scale-105 shadow-2xl hover:shadow-blue-500/25 flex items-center justify-center gap-2",children:[l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Tweet"]})]})]})]})})]}):l.jsx("div",{className:"text-center text-zinc-400 mt-20",children:"Collection not found."})},ug="0xb7C9318Ac06AA59fE3cDD8342769361bB0Cc3d09",Qxe=async e=>{try{const t=await fetch(e,{method:"HEAD"});if(t.ok)return(t.headers.get("Content-Type")||"").toLowerCase()}catch{}return""},Jxe=async e=>{try{console.log(" === getImageUrl DEBUG START ==="),console.log("NFT:",e.id,e.collectionName);let t=e.image||e.image_url||e.media_url||"";console.log("Direct image URL:",t);const n=e.contractAddress||e.token?.address,r=await vk(n)||e.isFactoryNFT;console.log("Is Factory NFT:",r),console.log("Contract Address:",n);const s=typeof e.id=="string"?parseInt(e.id,10):e.id;if(r&&n&&s!==void 0&&s!==null)try{const a=new In("https://dream-rpc.somnia.network/"),i=await new Pt(n,["function contractURI() view returns (string)"],a).contractURI();if(i&&typeof i=="string"){const o=Pf(i,!0);let c=null;for(const u of o)try{const h=await fetch(u);if(h.ok){c=await h.json();break}}catch{}if(c){if(Array.isArray(c.nfts)){const h=c.nfts.find(p=>{const g=p?.tokenURI||p?.tokenUri;return typeof g!="string"?!1:g.replace(/\.json$/i,"").endsWith(`/${s}`)}),f=h?.image||h?.image_url;if(f){const p=f.startsWith("ipfs://")?Xu(f,!0):f;return console.log(" contractURI.nfts image:",p),p}}const u=c.image||c.banner||c.image_url;if(u){const h=u.startsWith("ipfs://")?Xu(u,!0):u;console.log(" contractURI collection image/banner:",h),t=t||h}}}}catch(a){console.warn("contractURI image resolution failed:",a.message)}if(!t&&r&&n&&e.id!==void 0&&e.id!==null){console.log(" Factory NFT detected, fetching token metadata from contract...");try{const a=new In("https://dream-rpc.somnia.network/"),i=new Pt(n,["function tokenURI(uint256 tokenId) view returns (string)"],a),o=s;console.log("Calling tokenURI with tokenId:",o);const c=await i.tokenURI(o);if(console.log("Contract tokenURI result:",c),c){const u=Pf(c,!0);try{let f=null;for(const p of u)try{const g=await fetch(p);if(g.ok){f=await g.json();break}}catch{}if(!f&&!/\.json$/i.test(c)){const p=Pf(c+".json",!0);for(const g of p)try{const b=await fetch(g);if(b.ok){f=await b.json();break}}catch{}}if(f){console.log(" Token metadata fetched:",f);let p=f.image||f.animation_url||f.image_url;if(p&&p.startsWith("ipfs://")&&(p=Xu(p,!0)),p)return console.log(" Using token metadata media URL:",p),p}}catch(f){console.error(" Error fetching token metadata:",f)}let h=Xu(c,!0);if(/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(h))return h;{const f=[h+".gif",h+".png",h+".webp",h+".jpg",h];for(const p of f)try{if((await fetch(p,{method:"HEAD"})).ok)return p}catch{}for(const p of f)try{if((await fetch(p)).ok)return p}catch{}}}}catch(a){console.error(" Error fetching tokenURI from contract:",a)}}if(!t&&r&&n&&s!==void 0&&s!==null)try{const a=new In("https://dream-rpc.somnia.network/"),i=await new Pt(n,["function baseTokenURI() view returns (string)"],a).baseTokenURI();if(i&&typeof i=="string"){const o=Xu(i.endsWith("/")?i:i+"/",!0)+String(s),c=[o+".gif",o+".png",o+".webp",o+".jpg"];for(const u of c)try{if((await fetch(u,{method:"HEAD"})).ok)return console.log(" baseTokenURI image:",u),u}catch{}for(const u of c)try{if((await fetch(u)).ok)return console.log(" baseTokenURI image (GET):",u),u}catch{}}}catch(a){console.warn("baseTokenURI probing failed:",a.message)}if(!t&&e.metadata?.image&&(t=e.metadata.image,console.log("Using metadata image:",t)),!t&&e.token_instances&&e.token_instances.length>0){const a=e.token_instances[0];a.image?(t=a.image,console.log("Using token instance image:",t)):a.image_url&&(t=a.image_url,console.log("Using token instance image_url:",t))}if(!t&&e.token?.image?(t=e.token.image,console.log("Using token image:",t)):!t&&e.token?.image_url&&(t=e.token.image_url,console.log("Using token image_url:",t)),t){if(console.log("Processing image URL:",t),t.startsWith("ipfs://")){const a=Pf(t,r);try{t=(await nve(a,{method:"HEAD"})).url}catch{t=Xu(t,r)}}if(r&&!/\.(png|jpg|jpeg|gif|webp|svg|mp4|webm)$/i.test(t))try{if(!await Qxe(t)){const a=[".gif",".png",".webp",".jpg"];for(const i of a){const o=t+i;try{if((await fetch(o,{method:"HEAD"})).ok){t=o;break}}catch{}}}}catch{}return console.log(" Final image URL:",t),t}return console.log(" No image URL found"),console.log(" === getImageUrl DEBUG END ==="),null}catch(t){return console.error(" Error getting image URL:",t),null}},Xxe=({nft:e})=>{console.log(" NFTMedia component called for:",e.id,e.collectionName);const[t,n]=j.useState(null),[r,s]=j.useState(!0),[a,i]=j.useState(null);return j.useEffect(()=>{(async()=>{console.log(" NFTMedia loadImage started for:",e.id,e.collectionName);try{s(!0),i(null),console.log(" Calling getImageUrl for:",e.id);const o=await Jxe(e);if(console.log(" getImageUrl returned:",o),o){console.log(" Setting image URL:",o),n(o);const c=new Image;c.onload=()=>{console.log(" Image loaded successfully:",o)},c.onerror=()=>{console.error(" Image failed to load:",o),i("Image failed to load")},c.src=o}else console.log(" No image URL found"),i("Image not found")}catch(o){console.error(" Error loading image:",o),i("Failed to load image")}finally{s(!1)}})()},[e]),r?l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a||!t?l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-zinc-700",children:l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:dr,alt:"Logo",className:"w-16 h-16 mx-auto mb-2"}),l.jsx("div",{className:"text-sm text-zinc-300",children:"No Image"}),a&&l.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:a})]})}):/\.(mp4|webm|mov|avi|mkv)(\?|$)/i.test(t||"")?l.jsx("video",{src:t,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onError:()=>i("Failed to load video")}):l.jsx("img",{src:t,alt:e.metadata?.name||e.name||`NFT #${e.id}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onLoad:()=>console.log(" Image loaded in component:",t),onError:o=>{console.error(" Image error in component:",t),o.target.style.display="none",i("Failed to load image")}})},eve=({nft:e})=>{try{const[t,n]=j.useState(null),[r,s]=j.useState(!1),[a,i]=j.useState(e.collectionName||e.collection?.name||e.contractName||"Unknown Collection"),[o,c]=j.useState(!1);j.useEffect(()=>{(async()=>{const f=e.token?.address,p=await vk(f);if(c(p||e.isFactoryNFT),p||e.isFactoryNFT){const g=e.collectionName||e.token?.name||"Unknown Collection";i(g)}})()},[e]);const u=async()=>{if(!e.token?.address||!e.id)return null;try{s(!0);const f=new In("https://dream-rpc.somnia.network/"),p=new Pt(e.token.address,["function tokenURI(uint256 tokenId) view returns (string)"],f),g=typeof e.id=="string"?parseInt(e.id,10):e.id,b=await p.tokenURI(g);if(b&&b.includes("/")){const y=b.lastIndexOf("/"),w=b.substring(0,y+1);return console.log("Extracted baseURI:",w),w}return b}catch(f){return console.error("Error getting baseURI:",f),null}finally{s(!1)}},h=f=>f.startsWith("ipfs://")?`https://gateway.lighthouse.storage/ipfs/${f.replace("ipfs://","")}`:f;return j.useEffect(()=>{e.token?.address&&e.id&&u().then(f=>{n(f),console.log("Loaded baseURI for NFT",e.id,":",f),console.log("Is Factory NFT (by address):",o?"yes":"no")})},[e.token?.address,e.id]),l.jsxs("div",{className:"group relative bg-zinc-900 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-zinc-800",children:[l.jsxs("div",{className:"relative w-full aspect-square",children:[l.jsx(Xxe,{nft:e}),o&&l.jsx("div",{className:"absolute bottom-3 left-3",style:{zIndex:30},children:l.jsx("span",{className:"px-3 py-1 text-xs font-bold rounded-full bg-blue-500 text-white shadow-lg",children:"dreava.art"})})]}),l.jsxs("div",{className:"p-4 bg-zinc-900",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-500 text-white",children:a}),l.jsxs("span",{className:"text-xs text-zinc-400 font-medium",children:["#",e.id]})]}),l.jsx("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-1",children:e.metadata?.name||e.name||e.title||`NFT #${e.id}`}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-zinc-400 mb-3",children:[l.jsx("span",{className:"font-medium",children:e.tokenType||"ERC-721"}),e.value&&e.value!=="1"&&l.jsxs("span",{className:"bg-zinc-800 px-2 py-1 rounded text-xs font-medium text-zinc-300",children:["x",e.value]})]}),e.description&&l.jsx("p",{className:"text-xs text-zinc-500 line-clamp-2 mb-3",children:e.description}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-800",children:[l.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-500 text-white",children:"Owned"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",onClick:async()=>{console.log(" === NFT DEBUG INFO ==="),console.log("NFT ID:",e.id),console.log("NFT Name:",e.name||e.metadata?.name),console.log("Collection Name:",e.collectionName),console.log("Collection Address:",e.token?.address),console.log("Contract Address:",e.contractAddress),console.log("Token URI:",e.token_uri||e.tokenURI),console.log("Is Factory NFT (from API):",e.isFactoryNFT),console.log("Factory Address:",ug);const f=e.contractAddress||e.token?.address,p=await vk(f);if(console.log("Is Factory NFT (from factory check):",p),p&&f){console.log(" === TESTING EXISTING MYNFTS LOGIC ===");try{const g=new In("https://dream-rpc.somnia.network/"),b=new Pt(f,["function tokenURI(uint256 tokenId) view returns (string)","function baseTokenURI() view returns (string)"],g),y=await b.baseTokenURI();console.log("Contract baseTokenURI:",y);const w=typeof e.id=="string"?parseInt(e.id,10):e.id;console.log("Calling tokenURI with tokenId:",w);const v=await b.tokenURI(w);if(console.log("TokenURI result:",v),v&&v.includes("/")){const N=v.lastIndexOf("/"),A=v.substring(0,N+1);console.log("Extracted baseURI:",A);let C=A+w+".png";console.log("Built image URL:",C),C.startsWith("ipfs://")&&(C=C.replace("ipfs://","https://gateway.lighthouse.storage/ipfs/"),console.log("Converted IPFS URL:",C)),console.log(" Existing MyNFTs logic image URL:",C)}else console.log(" No baseURI extracted from tokenURI"),console.log(" This suggests the contract baseURI is not set correctly")}catch(g){console.error(" Error testing existing MyNFTs logic:",g)}console.log(" === END TESTING EXISTING MYNFTS LOGIC ===")}if(p&&f){console.log(" === TESTING WORKING FACTORY LOGIC ===");try{const g=new In("https://dream-rpc.somnia.network/"),b=new Pt(f,["function contractURI() view returns (string)","function tokenURI(uint256 tokenId) view returns (string)"],g),y=await b.contractURI();if(console.log("Contract URI:",y),y&&y!==""){let N=[y];y.startsWith("ipfs://")&&(N=[`https://gateway.lighthouse.storage/ipfs/${y.replace("ipfs://","")}`]),console.log("Metadata URLs:",N);let A=null;for(const C of N)try{const k=await fetch(C);if(k.ok){A=await k.json(),console.log(" Metadata fetched:",A);break}}catch(k){console.warn(" Failed to fetch from:",C,k.message)}if(A&&A.image){let C=A.image;C.startsWith("ipfs://")&&(C=`https://gateway.lighthouse.storage/ipfs/${C.replace("ipfs://","")}`),console.log(" Working logic image URL:",C)}else console.log(" No image in metadata")}else console.log(" Empty contractURI");console.log(" Testing tokenURI for token ID:",e.id);const w=typeof e.id=="string"?parseInt(e.id,10):e.id,v=await b.tokenURI(w);if(console.log("Token URI:",v),v&&v!==""){let N=[v];v.startsWith("ipfs://")&&(N=[`https://gateway.lighthouse.storage/ipfs/${v.replace("ipfs://","")}`]),console.log("Token metadata URLs:",N);let A=null;for(const C of N)try{const k=await fetch(C);if(k.ok){A=await k.json(),console.log(" Token metadata fetched:",A);break}}catch(k){console.warn(" Failed to fetch token metadata from:",C,k.message)}if(A&&A.image){let C=A.image;C.startsWith("ipfs://")&&(C=`https://gateway.lighthouse.storage/ipfs/${C.replace("ipfs://","")}`),console.log(" Token image URL:",C)}else console.log(" No image in token metadata")}}catch(g){console.error(" Error testing factory logic:",g)}console.log(" === END TESTING WORKING FACTORY LOGIC ===")}try{const g=new In("https://dream-rpc.somnia.network/"),b=new Pt(e.token?.address,["function baseTokenURI() view returns (string)","function revealed() view returns (bool)","function tokenURI(uint256) view returns (string)","function ownerOf(uint256) view returns (address)"],g),y=typeof e.id=="string"?parseInt(e.id,10):e.id,w=await b.baseTokenURI();console.log("baseTokenURI():",w);const v=await b.revealed();console.log("revealed():",v);const N=await b.tokenURI(y);console.log(`tokenURI(${y}):`,N);const A=await b.ownerOf(y);console.log(`ownerOf(${y}):`,A)}catch(g){console.error("Error analyzing NFT contract state:",g)}console.log("Full NFT Data:",e),console.log("Token Data:",e.token),console.log("Metadata:",e.metadata),console.log(" === END NFT DEBUG ===")},title:"Debug NFT",children:l.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-zinc-400",children:[l.jsx("circle",{cx:"12",cy:"12",r:"3"}),l.jsx("path",{d:"M12 1v6m0 6v6"}),l.jsx("path",{d:"M21 12h-6m-6 0H3"})]})}),l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx(fue,{size:14,className:"text-zinc-400"})}),l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx(Lue,{size:14,className:"text-zinc-400"})}),l.jsx("button",{className:"p-1.5 rounded-full bg-zinc-800 hover:bg-zinc-700 transition-colors",children:l.jsx(nue,{size:14,className:"text-zinc-400"})})]})]})]})]})}catch(t){return console.error("Error in NFTCard:",t),l.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-gray-200 shadow-sm",children:[l.jsx("div",{className:"text-red-500 font-medium",children:"Error rendering NFT card"}),l.jsxs("div",{className:"text-gray-500 text-sm",children:["ID: ",e?.id||"unknown"]})]})}},vk=async e=>{try{if(!e)return!1;const t=new In("https://dream-rpc.somnia.network/"),n=await new Pt(ug,Mm,t).getAllCollections(),r=n.map(s=>s.toLowerCase()).includes(e.toLowerCase());return console.log(" Factory check for",e,":",{allCollections:n,isFactoryNFT:r}),r}catch(t){return console.error(" Error checking factory collection:",t),!1}},tve=()=>{const{address:e,isConnected:t}=yo(),[n,r]=j.useState([]),[s,a]=j.useState(!0),[i,o]=j.useState(null),[c,u]=j.useState(""),[h,f]=j.useState("all"),[p,g]=j.useState("newest"),[b,y]=j.useState("grid"),[w,v]=j.useState(!1);j.useEffect(()=>{const C=new URLSearchParams(window.location.search),k=C.get("nftId"),S=C.get("contract"),T=C.get("nftName"),P=C.get("collection");if(k||S||T||P){console.log(" Auto-search params from URL:",{nftId:k,contract:S,nftName:T,collection:P}),T&&u(T),P&&P!=="all"&&f(P);const I=window.location.pathname;window.history.replaceState({},"",I)}},[]);const N=["all",...new Set(n.map(C=>C.collectionName).filter(Boolean))],A=n.filter(C=>{const k=c===""||C.metadata?.name?.toLowerCase().includes(c.toLowerCase())||C.collectionName?.toLowerCase().includes(c.toLowerCase()),S=h==="all"||C.collectionName===h;return k&&S}).sort((C,k)=>{switch(p){case"newest":return new Date(k.created_at||0)-new Date(C.created_at||0);case"oldest":return new Date(C.created_at||0)-new Date(k.created_at||0);case"name":return(C.metadata?.name||"").localeCompare(k.metadata?.name||"");case"collection":return(C.collectionName||"").localeCompare(k.collectionName||"");default:return 0}});return j.useEffect(()=>{e&&(async()=>{if(e)try{a(!0),o(null),console.log("Fetching NFTs for address:",e);const C=await(async(P,I=3)=>{for(let M=0;M<I;M++)try{const W=await fetch(P);if(W.ok)return W;if(W.status===503){console.log(`API returned 503, retrying in ${(M+1)*2} seconds... (attempt ${M+1}/${I})`),await new Promise(z=>setTimeout(z,(M+1)*2e3));continue}throw new Error(`HTTP ${W.status}: ${W.statusText}`)}catch(W){if(M===I-1)throw W;console.log(`Fetch attempt ${M+1} failed, retrying...`),await new Promise(z=>setTimeout(z,1e3))}})(`https://somnia.w3us.site/api/v2/addresses/${e}/nft/collections?type=ERC-721%2CERC-404%2CERC-1155`);if(!C)throw new Error("API server is completely unavailable");const k=await C.json();if(console.log("API Response:",k),!k.items||!Array.isArray(k.items))throw new Error("Invalid API response format");let S=k.items.flatMap(P=>!P.token_instances||!Array.isArray(P.token_instances)?[]:P.token_instances.map(I=>({...I,id:I.id,collectionName:P.token?.name||"Unknown",collectionSymbol:P.token?.symbol||"",tokenType:P.token?.type||"ERC-721",token:P.token||{},isFactoryNFT:P.token?.address?.toLowerCase()===ug.toLowerCase()})));if(!S||S.length===0)try{const P=await fetch(`https://somnia.w3us.site/api/v2/addresses/${e}/nft/tokens?type=ERC-721%2CERC-404%2CERC-1155`);if(P.ok){const I=await P.json();Array.isArray(I.items)&&(S=I.items.map(M=>({...M,id:M.id,collectionName:M.token?.name||"Unknown",collectionSymbol:M.token?.symbol||"",tokenType:M.token?.type||"ERC-721",token:M.token||{},isFactoryNFT:M.token?.address?.toLowerCase()===ug.toLowerCase()})))}}catch(P){console.warn("Fallback token fetch failed:",P.message)}const T=S.filter(Boolean).filter((P,I,M)=>I===M.findIndex(W=>String(W.id)===String(P.id)&&(W.token?.address||W.contractAddress||"").toLowerCase()===(P.token?.address||P.contractAddress||"").toLowerCase()));console.log("All NFTs (merged):",T.length),r(T),(async()=>{try{const P=new In("https://dream-rpc.somnia.network/"),I=await new Pt(ug,Mm,P).getAllCollections();let M=I;if(I.length>250){const z=I.slice(0,50),B=I.slice(-200),O=new Set;M=[...z,...B].filter(F=>{const G=F.toLowerCase();return O.has(G)?!1:(O.add(G),!0)})}const W=[];for(const z of M)try{const B=new Pt(z,["function tokenURI(uint256 tokenId) view returns (string)","function balanceOf(address owner) view returns (uint256)","function tokenOfOwnerByIndex(address owner, uint256 index) view returns (uint256)","function contractURI() view returns (string)","function ownerOf(uint256 tokenId) view returns (address)"],P);let O=0;try{O=Number(await B.balanceOf(e))}catch{O=0}if(!O||O<=0)continue;const F=[];for(let G=0;G<Math.min(O,10);G++)try{const K=await B.tokenOfOwnerByIndex(e,G);F.push(Number(K))}catch{}if(F.length===0)try{let G=200;try{const K=new Pt(z,["function totalSupply() view returns (uint256)","function nextTokenId() view returns (uint256)","function currentIndex() view returns (uint256)"],P);try{const $=await K.totalSupply();$&&(G=Math.min(1e3,Number($)))}catch{}try{const $=await K.nextTokenId();$&&(G=Math.min(1e3,Math.max(G,Number($))))}catch{}try{const $=await K.currentIndex();$&&(G=Math.min(1e3,Math.max(G,Number($))))}catch{}}catch{}for(let K=0;K<G&&F.length<O&&F.length<20;K++)try{const $=await B.ownerOf(K);$&&$.toLowerCase()===e.toLowerCase()&&F.push(K)}catch{}}catch{}if(F.length===0)try{const G=await B.contractURI();if(G&&typeof G=="string"){const K=Pf(G,!0);let $=null;for(const ee of K)try{const L=await fetch(ee);if(L.ok){$=await L.json();break}}catch{}const Z=Array.isArray($?.nfts)?$.nfts:[];for(let ee=0;ee<Math.min(Z.length,50)&&F.length<20;ee++){const L=Z[ee],V=L?.tokenURI||L?.tokenUri||"";if(typeof V=="string"&&V.includes("/")){const Q=V.substring(V.lastIndexOf("/")+1).replace(/\.json$/i,""),Y=Number(Q);if(!Number.isNaN(Y))try{const ae=await B.ownerOf(Y);ae&&ae.toLowerCase()===e.toLowerCase()&&F.push(Y)}catch{}}}}}catch{}for(const G of F)try{const K=await B.tokenURI(G),$=Pf(K,!0);let Z=null;for(const Y of $)try{if((await fetch(Y,{method:"HEAD"})).ok){Z=Y;break}}catch{}if(!Z)for(const Y of $)try{if((await fetch(Y)).ok){Z=Y;break}}catch{}if(!Z)continue;let ee=null;try{const Y=await fetch(Z);Y.ok&&(ee=await Y.json())}catch{}const L=ee?.image||ee?.animation_url||ee?.image_url,V=L?Xu(L,!0):null,Q={id:G,metadata:ee||{},collectionName:"Factory Collection",tokenType:"ERC-721",token:{address:z,name:"Factory Collection",type:"ERC-721"},isFactoryNFT:!0};V&&(Q.metadata.image=V),W.push(Q)}catch{}}catch{}W.length&&r(z=>[...z,...W].filter((B,O,F)=>O===F.findIndex(G=>String(G.id)===String(B.id)&&(G.token?.address||G.contractAddress||"").toLowerCase()===(B.token?.address||B.contractAddress||"").toLowerCase())))}catch(P){console.warn("Background factory fallback failed:",P.message)}})()}catch(C){console.error("Error fetching NFTs:",C),C.message.includes("503")?o("NFT API server is temporarily unavailable. Please try again in a few minutes."):C.message.includes("Failed to fetch")||C.message.includes("completely unavailable")?o("NFT API server is currently down. Please try again later."):C.message.includes("Cannot read properties of undefined")?o("NFT API server is not responding. Please try again in a few minutes."):o(`Failed to load NFTs: ${C.message}`),r([])}finally{a(!1)}})()},[e]),t?s?l.jsx("div",{className:"min-h-screen bg-zinc-950 p-6",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-zinc-800 rounded-lg mb-8 w-48"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(10)].map((C,k)=>l.jsx("div",{className:"bg-zinc-900 rounded-2xl h-80"},k))})]})})}):i?l.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Unable to Load NFTs"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:i}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200",children:"Try Again"}),l.jsxs("div",{className:"text-xs text-zinc-500",children:[l.jsx("p",{children:"If the problem persists, the NFT API server might be temporarily down."}),l.jsx("p",{className:"mt-1",children:"You can check your NFTs directly on the blockchain explorer."})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-zinc-950",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-6 pb-28",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My NFT Collection"}),l.jsxs("p",{className:"text-zinc-400",children:[A.length," NFT",A.length!==1?"s":""," in your collection"]})]}),l.jsxs("div",{className:"mb-6 space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(h1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-zinc-400",size:20}),l.jsx("input",{type:"text",placeholder:"Search NFTs or collections...",value:c,onChange:C=>u(C.target.value),className:"w-full pl-10 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsx("select",{value:h,onChange:C=>f(C.target.value),className:"px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",children:N.map(C=>l.jsx("option",{value:C,children:C==="all"?"All Collections":C},C))}),l.jsxs("select",{value:p,onChange:C=>g(C.target.value),className:"px-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",children:[l.jsx("option",{value:"newest",children:"Newest First"}),l.jsx("option",{value:"oldest",children:"Oldest First"}),l.jsx("option",{value:"name",children:"Name A-Z"}),l.jsx("option",{value:"collection",children:"Collection A-Z"})]}),l.jsxs("div",{className:"flex bg-zinc-900 border border-zinc-800 rounded-lg p-1 shadow-sm",children:[l.jsx("button",{onClick:()=>y("grid"),className:`p-2 rounded-md transition-colors ${b==="grid"?"bg-blue-500 text-white shadow-sm":"text-zinc-400 hover:text-white hover:bg-zinc-800"}`,children:l.jsx(uue,{size:16})}),l.jsx("button",{onClick:()=>y("list"),className:`p-2 rounded-md transition-colors ${b==="list"?"bg-blue-500 text-white shadow-sm":"text-zinc-400 hover:text-white hover:bg-zinc-800"}`,children:l.jsx(gue,{size:16})})]})]})]}),A.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-zinc-800 to-zinc-700 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-12 h-12 bg-zinc-600 rounded-full opacity-50"})}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No NFTs Found"}),l.jsx("p",{className:"text-zinc-400",children:c||h!=="all"?"Try adjusting your filters":"You don't have any NFTs yet"})]}):l.jsx("div",{className:`grid gap-6 ${b==="grid"?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5":"grid-cols-1"}`,children:A.map((C,k)=>{try{return l.jsx(eve,{nft:C},`${C.token?.address}-${C.id}-${k}`)}catch(S){return console.error("Error rendering NFT card:",S,C),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 border border-zinc-800 shadow-sm",children:[l.jsx("div",{className:"text-red-500 font-medium",children:"Error rendering NFT"}),l.jsxs("div",{className:"text-zinc-500 text-sm",children:["ID: ",C.id]})]},`error-${k}`)}})})]})}):l.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-12 h-12 bg-white rounded-full"})}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Connect Your Wallet"}),l.jsx("p",{className:"text-zinc-400",children:"Connect your wallet to view your NFT collection"})]})})},Xu=(e,t)=>{if(typeof e!="string")return e;if(e.startsWith("ipfs://")){const n=e.replace("ipfs://","");return t?`https://gateway.lighthouse.storage/ipfs/${n}`:`https://ipfs.io/ipfs/${n}`}return e},Pf=(e,t)=>{if(typeof e!="string")return[e];if(e.startsWith("ipfs://")){const n=e.replace("ipfs://","");return[t?`https://gateway.lighthouse.storage/ipfs/${n}`:`https://ipfs.io/ipfs/${n}`,`https://gateway.lighthouse.storage/ipfs/${n}`,`https://cloudflare-ipfs.com/ipfs/${n}`,`https://ipfs.io/ipfs/${n}`]}return[e]},nve=async(e,t)=>{for(const n of e)try{const r=await fetch(n,t);if(r.ok)return r}catch{}throw new Error("All gateways failed")},rve="/assets/somniaquest-CJkHo6hu.png",sve=({text:e,maxLines:t=3,className:n=""})=>{const[r,s]=j.useState(!1),[a,i]=j.useState(!1),[o,c]=j.useState(e),u=j.useRef(null),h=j.useRef(null);j.useEffect(()=>{if(u.current){const p=parseInt(window.getComputedStyle(u.current).lineHeight)*t;i(u.current.scrollHeight>p)}},[e,t]),j.useEffect(()=>{const p=g=>{r&&!h.current?.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const f=(p,g)=>{const b=p.split(" "),y=document.createElement("p");y.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 16px;
      line-height: 1.5;
      width: calc(100% - 32px);
      max-width: calc(100% - 32px);
    `,document.body.appendChild(y);const w=parseInt(window.getComputedStyle(y).lineHeight)*g;let v=p;for(let N=b.length;N>0;N--){const A=b.slice(0,N).join(" ");if(y.textContent=A,y.scrollHeight<=w){v=A;break}}return document.body.removeChild(y),v};return j.useEffect(()=>{c(a?f(e,t):e)},[e,a,t]),a?l.jsxs("div",{className:"relative h-[72px]",children:[l.jsx("div",{className:"overflow-hidden h-full",children:l.jsx("p",{className:n,style:{width:"calc(100% - 32px)"},children:o})}),l.jsx("button",{ref:h,onClick:()=>s(!r),className:"absolute bottom-0 right-0 bg-zinc-800 hover:bg-zinc-700 rounded-full w-6 h-6 flex items-center justify-center text-xs transition-colors z-10",title:"Show full text",children:""}),r&&l.jsx("div",{className:"fixed bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg max-w-xs z-50",style:{top:h.current?h.current.getBoundingClientRect().bottom+5:0,left:h.current?h.current.getBoundingClientRect().left-200:0},children:l.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:e})})]}):l.jsx("p",{ref:u,className:n,children:e})},ave=({text:e,maxLines:t=3,onClick:n})=>{const[r,s]=j.useState(!1),[a,i]=j.useState(!1),[o,c]=j.useState(e),u=j.useRef(null),h=j.useRef(null);j.useEffect(()=>{if(u.current){const p=parseInt(window.getComputedStyle(u.current).lineHeight)*t;i(u.current.scrollHeight>p)}},[e,t]),j.useEffect(()=>{const p=g=>{r&&!h.current?.contains(g.target)&&s(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const f=(p,g)=>{const b=p.split(" "),y=document.createElement("h3");y.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-size: 24px;
      line-height: 1.5;
      font-weight: bold;
      width: calc(100% - 32px);
    `,document.body.appendChild(y);const w=parseInt(window.getComputedStyle(y).lineHeight)*g;let v=p;for(let N=b.length;N>0;N--){const A=b.slice(0,N).join(" ");if(y.textContent=A,y.scrollHeight<=w){v=A;break}}return document.body.removeChild(y),v};return j.useEffect(()=>{c(a?f(e,t):e)},[e,a,t]),l.jsxs("div",{className:"relative h-[72px]",children:[l.jsx("div",{className:"overflow-hidden h-full",children:l.jsx("h3",{ref:u,onClick:n,className:"text-2xl font-bold text-white cursor-pointer hover:text-blue-400 transition-colors",style:a?{width:"calc(100% - 32px)"}:{},children:a?o:e})}),a&&l.jsx("button",{ref:h,onClick:p=>{p.stopPropagation(),s(!r)},className:"absolute bottom-0 right-0 bg-zinc-800 hover:bg-zinc-700 rounded-full w-6 h-6 flex items-center justify-center text-xs transition-colors z-10",title:"Show full title",children:""}),r&&l.jsx("div",{className:"fixed bg-zinc-900 border border-zinc-700 rounded-lg p-3 shadow-lg max-w-xs z-50",style:{top:h.current?h.current.getBoundingClientRect().bottom+5:0,left:h.current?h.current.getBoundingClientRect().left-200:0},children:l.jsx("h3",{className:"text-white text-lg font-bold",children:e})})]})},ive=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(0),[s,a]=j.useState(!1),[i,o]=j.useState(null),[c,u]=j.useState([]),[h,f]=j.useState(!1),[p,g]=j.useState(!1),[b,y]=j.useState(0),[w,v]=j.useState({totalRequests:0,successfulMints:0,failedMints:0,queueLength:0,averageProcessingTime:0}),[N,A]=j.useState({}),[C,k]=j.useState({}),[S,T]=j.useState(!1),[P,I]=j.useState(!1),[M,W]=j.useState(null),[z,B]=j.useState(1),[O,F]=j.useState("0"),[G,K]=j.useState(!1),[$,Z]=j.useState({visible:!1,message:"",txHash:""}),[ee,L]=j.useState(0),V=Xr(),{address:Q,isConnected:Y,switchNetwork:ae}=yo(),{collections:ue,loading:re,error:ie,refetch:pe}=JC(),oe=async we=>{if(!window.ethereum)throw new Error("Wallet not connected");try{(await(async()=>{try{return await ae?.(nl)}catch{return{success:!1}}})())?.success||await _d()}catch{throw new Error("Please switch to Somnia Testnet")}const _=await new wr(window.ethereum).getSigner(),D=new Pt(we.address,we.abi,_),q={...we.value>0?{value:we.value}:{},...we.gasSettings||{}};return(await D[we.functionName](...we.args,q)).hash},he={BASE_GAS_LIMIT:3e5,MAX_GAS_LIMIT:5e5,GAS_LIMIT:3e6,MAX_GAS_PRICE_GWEI:50,WARNING_GAS_PRICE_GWEI:20,PRICE_MULTIPLIER:1.2,RETRY_ATTEMPTS:5,RETRY_DELAY:1e3},Ne=j.useMemo(()=>!ue||ue.length===0?[]:ue.map(we=>{const _=(Se=>Se.phases||Se.metadata?.phases||{})(we),D=Math.floor(Date.now()/1e3),q=[{key:"Whitelist",priority:1},{key:"FCFS",priority:2},{key:"Public",priority:3}],le=new Map;Object.entries(_).forEach(([Se,rt])=>{le.set(Se,{...rt,name:Se})});const ge=q.filter(Se=>le.has(Se.key)).map(Se=>{const rt=le.get(Se.key),kt=Number(rt.start),ot=Number(rt.end),Ct=kt<=D&&D<=ot,nt=rt.merkleRoot==="0x0000000000000000000000000000000000000000000000000000000000000000"||rt.isPublic;return{...rt,name:Se.key,isActive:Ct,isPublic:nt,priority:Se.priority}}).sort((Se,rt)=>Se.priority-rt.priority),Ce=ge.find(Se=>Se.isActive);return{...we,maxSupply:we.totalSupply||we.maxSupply||0,minted:we.minted||0,activePhase:Ce?{name:Ce.name,start:Number(Ce.start),end:Number(Ce.end),price:Ce.price,maxPerWallet:Number(Ce.maxPerWallet)||1,merkleRoot:Ce.merkleRoot,isPublic:Ce.isPublic}:null,sortedPhases:ge}}),[ue]);j.useEffect(()=>{if($.visible){const we=setTimeout(()=>Z(_=>({..._,visible:!1})),5e3);return()=>clearTimeout(we)}},[$.visible]);const Re=(we,_="")=>{Z({visible:!0,message:we,txHash:_})},H=async we=>{try{t(_=>_.map(D=>D.address===we?{...D,minted:D.minted+1}:D)),k(_=>({..._,[we]:(_[we]||0)+1})),console.log(" Collection data updated locally for:",we),setTimeout(()=>{pe(),ye()},1e3)}catch(_){console.error(" Failed to update collection data:",_)}};j.useEffect(()=>{t(Ne)},[Ne]),j.useEffect(()=>{s&&i&&Ne.length>0&&ye()},[s,i,Ne]),j.useEffect(()=>()=>{u([]),f(!1),g(!1)},[]),j.useEffect(()=>{a(Y),o(Q)},[Y,Q]),j.useEffect(()=>{if(M&&M.activePhase){const we=M.activePhase.price||"0",_=(parseFloat(we)*z).toFixed(4);F(_)}},[z,M]);const ye=async()=>{if(!(!i||!s))try{const we=new In("https://dream-rpc.somnia.network/"),_={};console.log(" Checking wallet limits for user:",i);for(const q of Ne)if(q.activePhase)try{const le=new Pt(q.address,Rn,we),ge=q.phases||q.metadata?.phases||{},Ce=Object.entries(ge).findIndex(([,Se])=>{const rt=Number(Se.start),kt=Number(Se.end),ot=Math.floor(Date.now()/1e3);return rt<=ot&&ot<=kt});if(console.log(` Collection ${q.name} (${q.address}):`,{activePhaseIndex:Ce,maxPerWallet:q.activePhase.maxPerWallet}),Ce>=0)try{const Se=await le.mintedPerPhase(Ce,i);console.log(` mintedPerPhase exists for ${q.name}:`,Number(Se)),_[q.address]=Number(Se)}catch(Se){console.warn(` mintedPerPhase failed for ${q.name}:`,Se);try{const rt=await le.balanceOf(i);console.log(` Fallback balanceOf for ${q.name}:`,Number(rt)),_[q.address]=Number(rt)}catch(rt){console.warn(` balanceOf also failed for ${q.name}:`,rt),_[q.address]=0}}else console.log(` No active phase found for ${q.name}`),_[q.address]=0}catch(le){console.warn(` Could not check wallet limit for ${q.address}:`,le),_[q.address]=0}console.log(" Final user minted counts:",_),k(_);const D=Object.entries(_).some(([q,le])=>{const ge=Ne.find(Se=>Se.address===q);if(!ge||!ge.activePhase)return!1;const Ce=ge.activePhase.maxPerWallet||0;return Ce>0&&le>=Ce});T(D)}catch(we){console.error(" Failed to check wallet limits:",we)}},ce=we=>{if(!s){K(!0);return}W(we),B(1),I(!0)},ne=()=>{I(!1),W(null),B(1),K(!1)},se=we=>{if(!M)return;const _=M.activePhase?.maxPerWallet||0,D=C[M.address]||0,q=_>0?_-D:999,le=Math.min(q,10);we>=1&&we<=le&&B(we)},fe=we=>{if(!we||!we.activePhase)return 1;const _=we.activePhase.maxPerWallet||0,D=C[we.address]||0,q=_>0?_-D:999;return Math.min(q,10)},Ie=async()=>{if(!(!M||!s))try{g(!0);const we=await je(M,z);we.success?(Re(" Mint successful!",we.txHash),await H(M.address),ne()):Re(" Mint failed. Please try again.")}catch(we){console.error(" Mint failed:",we),Re(" Mint failed. Please try again.")}finally{g(!1)}},je=async(we,_=1)=>{if(!we||!we.activePhase)return{success:!1,error:"No active phase"};if(!s||!i)return{success:!1,error:"Wallet not connected"};const D=3;let q=null;for(let le=1;le<=D;le++)try{console.log(` Mint attempt ${le}/${D} for ${we.name}`),console.log(" Collection details:",{address:we.address,activePhase:we.activePhase,price:we.activePhase.price,isPublic:we.activePhase.isPublic});const ge=await be(le);console.log(" Gas settings:",ge);const Ce=we.activePhase.price||"0",Se=Mw((parseFloat(Ce)*_).toString());console.log(" Price calculation:",{price:Ce,quantity:_,value:Se.toString()});let rt=[];if(!we.activePhase.isPublic){const Kt=Object.keys(we.phases||{}).find(Wt=>{const Bn=we.phases[Wt];return Bn&&Number(Bn.start)<=Math.floor(Date.now()/1e3)&&Math.floor(Date.now()/1e3)<=Number(Bn.end)});if(Kt){const Wt=`${we.address}_${Kt}_whitelist_proofs`;rt=JSON.parse(localStorage.getItem(Wt)||"{}")[i]||[],console.log(" Whitelist proof:",rt)}}console.log(" Transaction parameters:",{address:we.address,functionName:"mint",args:[_,rt],value:Se.toString(),gasSettings:ge});const kt=await oe({chainId:50312,address:we.address,abi:Rn,functionName:"mint",args:[_,rt],...Se>0?{value:Se}:{},...ge});console.log(" Mint transaction sent:",kt);const ot=new In("https://dream-rpc.somnia.network/");let Ct=null,nt=3;for(;nt>0&&!Ct;)try{Ct=await ot.waitForTransaction(kt,1,3e4);break}catch(Kt){if(console.warn(`Transaction confirmation attempt ${4-nt} failed:`,Kt),nt--,nt>0)await new Promise(Wt=>setTimeout(Wt,2e3));else try{Ct=await ot.getTransactionReceipt(kt)}catch{throw Kt}}if(Ct.status===1){console.log(" Mint successful!");try{await fetch("/api/quest/record-action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:i,actionType:"nft_minted",data:{collectionAddress:we.address,collectionName:we.name,quantity:_,txHash:kt,price:we.activePhase?.price||"0"}})})}catch(Kt){console.warn(" Failed to record quest action:",Kt)}return{success:!0,txHash:kt}}else throw new Error("Transaction failed on-chain")}catch(ge){if(console.error(` Mint attempt ${le} failed:`,ge),console.error(" Error details:",{message:ge.message,code:ge.code,data:ge.data,transaction:ge.transaction}),q=ge,le<D){const Ce=le*1e3;console.log(` Waiting ${Ce}ms before retry...`),await new Promise(Se=>setTimeout(Se,Ce))}}return console.error(" All mint attempts failed"),{success:!1,error:q?.message||"Mint failed"}},be=async(we=1)=>{try{const _=await new In("https://dream-rpc.somnia.network/").getFeeData(),D=c.length;let q=he.PRICE_MULTIPLIER;if(D>100?q*=1.5:D>50?q*=1.3:D>20&&(q*=1.2),q*=1+(we-1)*.2,_.maxFeePerGas&&_.maxPriorityFeePerGas){const le=Number(_.maxFeePerGas),ge=Number(_.maxPriorityFeePerGas);return{maxFeePerGas:Math.ceil(le*q),maxPriorityFeePerGas:Math.ceil(ge*q),gasLimit:he.GAS_LIMIT}}else{const le=Number(_.gasPrice),ge=Math.ceil(le*q),Ce=nv(he.MAX_GAS_PRICE_GWEI.toString(),"gwei");return{gasPrice:Math.min(ge,Number(Ce)),gasLimit:he.GAS_LIMIT}}}catch(_){return console.error(" Error getting gas settings:",_),{gasLimit:he.GAS_LIMIT}}},Be=we=>{const _=Date.now(),D=we-_;if(D<=0)return"Ended";const q=Math.floor(D/(1e3*60*60*24)),le=Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),ge=Math.floor(D%(1e3*60*60)/(1e3*60)),Ce=Math.floor(D%(1e3*60)/1e3);return`${q}d ${le}h ${ge}m ${Ce}s`},Me=()=>{L(we=>(we+1)%e.length)},ze=()=>{L(we=>(we-1+e.length)%e.length)};return re?l.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-[#42C9EE] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-zinc-400",children:"Loading Quest Collections..."})]})}):ie?l.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-red-400 mb-4",children:["Error loading collections: ",ie]}),l.jsx("button",{onClick:()=>pe(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Retry"})]})}):l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx("div",{className:"relative py-8",children:l.jsxs("div",{className:"relative bg-black border border-white/20 rounded-2xl p-8 mx-auto max-w-5xl",children:[l.jsx("img",{src:rve,alt:"Bird with Trophy",className:"absolute -left-8 -bottom-20 w-30 md:w-36"}),l.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-500 via-pink-500 to-purple-500 mb-6",children:"Somnia Quest"}),l.jsxs("p",{className:"text-base md:text-lg text-white leading-relaxed max-w-xl mx-auto",children:["Animate your unique PFP, turn it into an NFT, and earn rewards!",l.jsx("br",{}),"Be creative. The more people mint your NFT, the higher your chances.",l.jsx("br",{}),"Winners with the most mints will receive USDC rewards, karma points from dreava.art."]}),l.jsx(ha,{to:"/explore#create",className:"mt-6 inline-block py-[10px] px-6 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold text-sm transition-transform active:scale-95 shadow-md",children:"Create collection"})]})]})}),l.jsxs("div",{className:"mx-auto max-w-5xl pb-20 mt-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:ze,className:"absolute -left-12 top-1/2 transform -translate-y-1/2 z-10 bg-black/50 rounded-full p-2 hover:bg-black/70 transition",children:l.jsx("img",{src:YC,alt:"Previous",className:"w-6 h-6"})}),l.jsx("button",{onClick:Me,className:"absolute -right-12 top-1/2 transform -translate-y-1/2 z-10 bg-black/50 rounded-full p-2 hover:bg-black/70 transition",children:l.jsx("img",{src:QC,alt:"Next",className:"w-6 h-6"})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.slice(ee,ee+3).map((we,_)=>{const D=we&&we.maxSupply?Math.min(100,Math.round(we.minted/we.maxSupply*100)):0,q=we.activePhase?we.activePhase.price:"0",le=(()=>{if(!we.activePhase)return 0;const Se=we.phases||we.metadata?.phases||{},rt=Object.entries(Se).findIndex(([,kt])=>{const ot=Number(kt.start),Ct=Number(kt.end),nt=Math.floor(Date.now()/1e3);return ot<=nt&&nt<=Ct});if(rt>=0){const kt=`${we.address}_${rt}`;return N[kt]??we.activePhase.maxPerWallet??0}return we.activePhase.maxPerWallet??0})(),ge=C[we.address]||0,Ce=le>0&&ge>=le;return l.jsxs("div",{className:"bg-[#111] p-8 rounded-2xl text-white shadow-lg border border-zinc-800/50 h-[650px] flex flex-col",children:[l.jsx("div",{className:"relative mb-6 flex-shrink-0 h-56",children:l.jsx("img",{src:we.cover||we.firstNFTImage||"/default-cover.png",alt:we.name,className:"w-full h-full object-cover rounded-xl",onError:Se=>{console.warn(" Collection cover failed to load:",Se.target.src),we.firstNFTImage&&we.firstNFTImage!==Se.target.src?Se.target.src=we.firstNFTImage:Se.target.src="/default-cover.png"}})}),l.jsxs("div",{className:"flex justify-between items-start mb-3 flex-shrink-0 h-[72px]",children:[l.jsx("div",{className:"flex-1 mr-2",children:l.jsx(ave,{text:we.name,onClick:()=>V(`/launchpad/collection/${we.address}`)})}),l.jsx("span",{className:"text-blue-400 text-2xl flex-shrink-0",children:""})]}),l.jsx("div",{className:"mb-3 flex-shrink-0 h-[72px]",children:l.jsx(sve,{text:we.description,className:"text-base text-gray-400"})}),l.jsxs("div",{className:"flex justify-between text-base text-gray-300 mb-3 flex-shrink-0 h-6",children:[l.jsxs("span",{children:["Supply: ",we.minted," / ",we.maxSupply]}),l.jsxs("span",{className:"flex items-center gap-1",children:["Price:",l.jsx("img",{src:Ws,alt:"STT",className:"w-4 h-4"}),q," STT"]})]}),l.jsx("div",{className:"w-full h-3 bg-zinc-800 rounded-full mb-4 overflow-hidden flex-shrink-0",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-pink-500",style:{width:`${D}%`}})}),l.jsx("div",{className:"mb-4 flex-shrink-0 h-6",children:we.activePhase&&l.jsxs("p",{className:"text-base text-pink-400",children:["Ends in: ",Be(Number(we.activePhase.end)*1e3)]})}),l.jsxs("div",{className:"mt-auto flex-shrink-0",children:[c.length>1&&l.jsxs("div",{className:"mb-2 text-center",children:[l.jsxs("p",{className:"text-sm text-yellow-400",children:[" Queue: ",c.length," pending"]}),w.totalRequests>0&&l.jsxs("p",{className:"text-xs text-green-400",children:["Success Rate: ",Math.round(w.successfulMints/w.totalRequests*100),"%"]}),l.jsxs("div",{className:"mt-1",children:[l.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,w.successfulMints/Math.max(w.totalRequests,1)*100)}%`}})}),l.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Progress: ",Math.round(w.successfulMints/Math.max(w.totalRequests,1)*100),"%"]})]})]}),c.length>20&&l.jsx("div",{className:"mb-2 text-center",children:l.jsx("p",{className:"text-sm text-red-400 animate-pulse",children:" HOT SALE - High demand detected!"})}),l.jsx("button",{onClick:()=>ce(we),disabled:!we.activePhase||!we.activePhase.isPublic||we.minted>=we.maxSupply||p||h||Ce,className:`w-full py-[10px] rounded-lg font-semibold text-white transition-all duration-200 ${p||h?"bg-zinc-600 text-zinc-300 cursor-not-allowed":we.minted>=we.maxSupply||Ce?"bg-zinc-700 text-zinc-400 cursor-not-allowed":we.activePhase&&we.activePhase.isPublic?"bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] hover:opacity-90 shadow-md":"bg-zinc-700 text-zinc-400 cursor-not-allowed"}`,children:p||h?" Processing...":we.minted>=we.maxSupply||Ce?"Minted":we.activePhase&&we.activePhase.isPublic?`Mint for ${q} STT`:we.activePhase&&!we.activePhase.isPublic?"Whitelist Only":"No active phase"}),we.minted>=we.maxSupply&&l.jsx("div",{className:"mt-2 text-center",children:l.jsx("p",{className:"text-sm text-red-400",children:"Collection is sold out!"})}),Ce&&we.minted<we.maxSupply&&l.jsx("div",{className:"mt-2 text-center",children:l.jsxs("p",{className:"text-sm text-yellow-400",children:["Wallet limit reached (",ge,"/",le===0?"":le,")"]})}),le===0&&l.jsx("div",{className:"mt-2 text-center",children:l.jsx("p",{className:"text-sm text-blue-400",children:"Unlimited minting per wallet"})}),l.jsx("a",{href:`https://shannon-explorer.somnia.network/address/${we.address}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 underline mt-4 block text-center hover:text-blue-300 transition-colors",children:"View Contract"})]})]},we.address)})})]}),l.jsxs("div",{className:"mt-20 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Somnia Rewards"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"USDC"}),l.jsx("div",{className:"text-white text-sm",children:"from Somnia Network"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Karma Points"}),l.jsx("div",{className:"text-white text-sm",children:"from dreava.art"})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 p-6 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:"Roles on Discord"}),l.jsx("div",{className:"text-white text-sm",children:"from dreava.art"})]})]})]}),l.jsxs("div",{className:"mt-20 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"How to Join the Quest:"}),l.jsx("div",{className:"bg-black/40 border border-white/10 rounded-lg p-8",children:l.jsxs("ul",{className:"text-left space-y-4",children:[l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Follow Somnia and Dreava.art on Discord and Twitter"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Animate your unique PFP  creativity is highly encouraged"})]}),l.jsxs("li",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mt-2 flex-shrink-0"}),l.jsx("span",{className:"text-white",children:"Upload your animated NFT to the Dreava.art launchpad"})]})]})})]})]}),P&&M&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-md w-full animate-fadeIn",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-zinc-700",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Mint NFT"}),l.jsx("button",{onClick:ne,className:"text-zinc-400 hover:text-white transition-colors",children:l.jsx(Jn,{size:24})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("img",{src:M.cover,alt:M.name,className:"w-16 h-16 rounded-lg object-cover"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-white",children:M.name}),l.jsxs("p",{className:"text-sm text-zinc-400",children:[M.minted," / ",M.maxSupply," minted"]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Quantity"}),l.jsxs("div",{className:"flex items-center justify-between bg-zinc-800 rounded-lg p-3",children:[l.jsx("button",{onClick:()=>se(z-1),disabled:z<=1,className:"w-10 h-10 rounded-lg bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l.jsx(nD,{size:20})}),l.jsx("span",{className:"text-xl font-bold text-white px-4",children:z}),l.jsx("button",{onClick:()=>se(z+1),disabled:z>=fe(M),className:"w-10 h-10 rounded-lg bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l.jsx(rD,{size:20})})]}),l.jsxs("p",{className:"text-xs text-zinc-400 mt-2",children:["Max: ",fe(M)," per transaction"]})]}),l.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4 mb-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Price per NFT:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-5 h-5"}),l.jsxs("span",{className:"font-semibold text-white",children:[M.activePhase?.price||"0"," STT"]})]})]}),l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-zinc-400",children:"Quantity:"}),l.jsx("span",{className:"text-white",children:z})]}),l.jsx("div",{className:"border-t border-zinc-700 pt-2",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-lg font-semibold text-white",children:"Total:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("img",{src:Ws,alt:"STT",className:"w-6 h-6"}),l.jsxs("span",{className:"text-xl font-bold text-white",children:[O," STT"]})]})]})})]}),l.jsx("button",{onClick:Ie,disabled:p,className:"w-full py-3 rounded-lg bg-gradient-to-r from-[#00A3FF] to-[#FF1CF7] text-white font-semibold hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:p?" Processing...":`Mint ${z} NFT${z>1?"s":""}`})]})]})}),G&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 p-4",children:l.jsx("div",{className:"bg-zinc-900 rounded-2xl shadow-2xl max-w-md w-full animate-fadeIn",children:l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Connect Wallet"}),l.jsx("p",{className:"text-zinc-400 mb-6",children:"Please connect your wallet to mint NFTs"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>K(!1),className:"flex-1 py-2 px-4 rounded-lg bg-zinc-700 text-white hover:bg-zinc-600 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>{K(!1);const we=document.querySelector("[data-wallet-connect]");we&&we.click()},className:"flex-1 py-2 px-4 rounded-lg bg-gradient-to-r from-blue-500 to-pink-500 text-white font-semibold hover:opacity-90 transition-all duration-200",children:"Connect Wallet"})]})]})})}),$.visible&&l.jsxs("div",{className:"fixed bottom-20 right-4 bg-zinc-800 text-white p-4 rounded-lg shadow-lg max-w-xs animate-fadeIn cursor-pointer hover:opacity-100 opacity-90",children:[l.jsx("p",{className:"text-sm mb-1",children:$.message}),$.txHash&&l.jsxs("a",{href:`https://shannon-explorer.somnia.network/tx/${$.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline flex items-center gap-1 text-sm",children:[l.jsx(Kd,{size:16}),"View Transaction"]})]})]})},ove=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx(ha,{to:"/",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-6",children:" Back to Home"}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Privacy Policy"}),l.jsxs("p",{className:"text-zinc-400 text-lg",children:["Last updated: ",new Date().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-8 text-zinc-300 leading-relaxed",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Introduction"}),l.jsx("p",{children:'Dreava Art NFT Launchpad ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our NFT marketplace and related services.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Information We Collect"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.1 Personal Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"Wallet addresses and public keys"}),l.jsx("li",{children:"Email addresses (if provided)"}),l.jsx("li",{children:"Username or display names"}),l.jsx("li",{children:"Profile information and avatars"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.2 Transaction Data"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"NFT minting transactions"}),l.jsx("li",{children:"Purchase and sale history"}),l.jsx("li",{children:"Bidding and auction data"}),l.jsx("li",{children:"Gas fees and transaction hashes"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"2.3 Technical Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"IP addresses and device information"}),l.jsx("li",{children:"Browser type and version"}),l.jsx("li",{children:"Operating system"}),l.jsx("li",{children:"Usage analytics and performance data"})]})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. How We Use Your Information"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Provide and maintain our NFT marketplace services"}),l.jsx("li",{children:"Process transactions and verify ownership"}),l.jsx("li",{children:"Facilitate communication between users"}),l.jsx("li",{children:"Improve our platform and user experience"}),l.jsx("li",{children:"Comply with legal obligations and prevent fraud"}),l.jsx("li",{children:"Send important updates and notifications"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Information Sharing"}),l.jsx("p",{className:"mb-4",children:"We do not sell, trade, or rent your personal information to third parties. We may share your information in the following circumstances:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"With your explicit consent"}),l.jsx("li",{children:"To comply with legal requirements or court orders"}),l.jsx("li",{children:"To protect our rights, property, or safety"}),l.jsx("li",{children:"With service providers who assist in our operations"}),l.jsx("li",{children:"In connection with a business transfer or merger"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Blockchain Transparency"}),l.jsx("p",{children:"Please note that blockchain transactions are inherently public and transparent. Information such as wallet addresses, transaction amounts, and NFT ownership is publicly visible on the blockchain and cannot be deleted or modified."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Cookies and Tracking"}),l.jsx("p",{className:"mb-4",children:"We use cookies and similar technologies to enhance your experience:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Essential cookies for platform functionality"}),l.jsx("li",{children:"Analytics cookies to understand usage patterns"}),l.jsx("li",{children:"Preference cookies to remember your settings"}),l.jsx("li",{children:"Security cookies to protect against fraud"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Data Security"}),l.jsx("p",{children:"We implement industry-standard security measures to protect your information, including encryption, secure servers, and regular security audits. However, no method of transmission over the internet is 100% secure."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Your Rights"}),l.jsx("p",{className:"mb-4",children:"You have the following rights regarding your personal information:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Access and review your personal data"}),l.jsx("li",{children:"Request correction of inaccurate information"}),l.jsx("li",{children:"Request deletion of your personal data (where applicable)"}),l.jsx("li",{children:"Object to processing of your data"}),l.jsx("li",{children:"Data portability"}),l.jsx("li",{children:"Withdraw consent at any time"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Children's Privacy"}),l.jsx("p",{children:"Our services are not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13. If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. International Transfers"}),l.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Changes to This Policy"}),l.jsx("p",{children:'We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. Your continued use of our services after any changes constitutes acceptance of the updated policy.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Contact Us"}),l.jsx("p",{className:"mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),l.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," privacy@dreava.art"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Discord:"})," ",l.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"Join our Discord"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Twitter:"})," ",l.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"@dreava_art"})]})]})]})]})]})}),lve=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-900 text-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx(ha,{to:"/",className:"inline-flex items-center text-blue-400 hover:text-blue-300 mb-6",children:" Back to Home"}),l.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-pink-400 bg-clip-text text-transparent mb-4",children:"Terms of Service"}),l.jsxs("p",{className:"text-zinc-400 text-lg",children:["Last updated: ",new Date().toLocaleDateString()]})]}),l.jsxs("div",{className:"space-y-8 text-zinc-300 leading-relaxed",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Acceptance of Terms"}),l.jsx("p",{children:'By accessing and using Dreava Art NFT Launchpad ("the Platform"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.'})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Description of Service"}),l.jsx("p",{className:"mb-4",children:"Dreava Art NFT Launchpad is a decentralized platform that enables users to:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[l.jsx("li",{children:"Create and deploy NFT collections"}),l.jsx("li",{children:"Mint NFTs from various collections"}),l.jsx("li",{children:"Participate in whitelist and public sales"}),l.jsx("li",{children:"Manage NFT metadata and distribution"}),l.jsx("li",{children:"Interact with smart contracts on the Somnia network"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. User Accounts and Responsibilities"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"3.1 Account Creation"}),l.jsx("p",{children:"To use our services, you must connect a compatible cryptocurrency wallet. You are responsible for maintaining the security of your wallet and private keys."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"3.2 User Conduct"}),l.jsx("p",{className:"mb-2",children:"You agree not to:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"Use the platform for any illegal or unauthorized purpose"}),l.jsx("li",{children:"Violate any applicable laws or regulations"}),l.jsx("li",{children:"Infringe upon intellectual property rights"}),l.jsx("li",{children:"Attempt to gain unauthorized access to our systems"}),l.jsx("li",{children:"Interfere with or disrupt the platform's operation"}),l.jsx("li",{children:"Create or distribute harmful content or malware"})]})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. NFT Creation and Minting"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.1 Collection Creation"}),l.jsx("p",{children:"When creating NFT collections, you represent and warrant that you have all necessary rights to the content you upload and that it does not infringe on any third-party rights."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.2 Content Guidelines"}),l.jsx("p",{className:"mb-2",children:"All content must comply with our community standards:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[l.jsx("li",{children:"No explicit, violent, or harmful content"}),l.jsx("li",{children:"No copyright or trademark infringement"}),l.jsx("li",{children:"No impersonation of others"}),l.jsx("li",{children:"No spam or misleading information"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"4.3 Minting Process"}),l.jsx("p",{children:"Minting NFTs requires payment of gas fees and any applicable platform fees. All transactions are irreversible once confirmed on the blockchain."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Smart Contracts and Blockchain"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.1 Smart Contract Risks"}),l.jsx("p",{children:"Our platform interacts with smart contracts on the Somnia blockchain. While we strive for security, smart contracts may contain bugs or vulnerabilities. You acknowledge these risks and use the platform at your own discretion."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.2 Blockchain Transactions"}),l.jsx("p",{children:"All transactions are recorded on the blockchain and are publicly visible. We cannot reverse or modify blockchain transactions once they are confirmed."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"5.3 Network Issues"}),l.jsx("p",{children:"We are not responsible for network congestion, delays, or failures on the Somnia network or any other blockchain network that may affect transaction processing."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Fees and Payments"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.1 Platform Fees"}),l.jsx("p",{children:"We may charge fees for certain services, including but not limited to collection creation, whitelist management, and premium features. All fees are clearly displayed before transaction confirmation."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.2 Gas Fees"}),l.jsx("p",{children:"Users are responsible for paying gas fees required for blockchain transactions. Gas fees are determined by network conditions and are not controlled by our platform."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"6.3 Payment Methods"}),l.jsx("p",{children:"All payments must be made in STT (Somnia Token) or other supported cryptocurrencies. We do not accept traditional fiat currencies."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Intellectual Property"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"7.1 Platform Rights"}),l.jsx("p",{children:"The platform, including its design, code, and content, is owned by Dreava Art and is protected by intellectual property laws. You may not copy, modify, or distribute our platform without permission."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"7.2 User Content"}),l.jsx("p",{children:"You retain ownership of your NFT content. By using our platform, you grant us a limited license to display and promote your content as part of our services."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Privacy and Data Protection"}),l.jsx("p",{children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the platform, to understand our practices regarding the collection and use of your information."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Disclaimers and Limitations"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.1 Service Availability"}),l.jsx("p",{children:"We strive to maintain high availability but do not guarantee uninterrupted access to our services. We may temporarily suspend services for maintenance or updates."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.2 No Investment Advice"}),l.jsx("p",{children:"Our platform is not a financial advisor. NFT values are volatile and can fluctuate significantly. You should conduct your own research and consider consulting with financial professionals."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"9.3 Limitation of Liability"}),l.jsx("p",{children:"To the maximum extent permitted by law, Dreava Art shall not be liable for any indirect, incidental, special, consequential, or punitive damages arising from your use of the platform."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Indemnification"}),l.jsx("p",{children:"You agree to indemnify and hold harmless Dreava Art, its officers, directors, employees, and agents from any claims, damages, losses, or expenses arising from your use of the platform or violation of these terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Termination"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"11.1 Termination by User"}),l.jsx("p",{children:"You may stop using our services at any time. However, blockchain transactions cannot be reversed."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"11.2 Termination by Platform"}),l.jsx("p",{children:"We may terminate or suspend your access to the platform immediately, without prior notice, for conduct that we believe violates these terms or is harmful to other users or the platform."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"12. Governing Law and Disputes"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"12.1 Governing Law"}),l.jsx("p",{children:"These terms shall be governed by and construed in accordance with the laws of the jurisdiction where Dreava Art is incorporated, without regard to conflict of law principles."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"12.2 Dispute Resolution"}),l.jsx("p",{children:"Any disputes arising from these terms or your use of the platform shall be resolved through binding arbitration in accordance with the rules of the relevant arbitration association."})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"13. Changes to Terms"}),l.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify users of significant changes through the platform or other reasonable means. Your continued use of the platform after changes constitutes acceptance of the updated terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"14. Contact Information"}),l.jsx("p",{className:"mb-4",children:"If you have any questions about these Terms of Service, please contact us:"}),l.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Email:"})," legal@dreava.art"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Discord:"})," ",l.jsx("a",{href:"https://discord.gg/R24uFV3k8b",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"Join our Discord"})]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Twitter:"})," ",l.jsx("a",{href:"https://x.com/dreava_art",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"@dreava_art"})]})]})]})]})]})}),N9="/assets/IMG_6919-DMw4xPz9.MOV",k9="/assets/IMG_6924-CH2EN6pR.MOV";function cve(){const[e,t]=j.useState(!0),[n,r]=j.useState(!1);j.useEffect(()=>{sessionStorage.getItem("dreava_loaded")&&(t(!1),r(!0))},[]);const s=()=>{t(!1),r(!0),sessionStorage.setItem("dreava_loaded","true")};return l.jsx(QF,{children:l.jsx(bse,{children:l.jsx(fse,{children:l.jsxs("div",{className:"flex flex-col min-h-screen bg-black text-white relative overflow-x-hidden",children:[e&&!n&&l.jsx(vde,{onLoadingComplete:s}),l.jsx(Rm,{}),l.jsx(ode,{}),l.jsx(Ede,{enabled:localStorage.getItem("showWalletMonitor")==="true"}),l.jsx(Ade,{enabled:localStorage.getItem("showDebugLoader")==="true"}),l.jsx("div",{className:"flex-grow",children:l.jsxs(ise,{children:[l.jsx(nr,{path:"/",element:l.jsx(Kde,{})}),l.jsx(nr,{path:"/explore",element:l.jsx(Xde,{})}),l.jsx(nr,{path:"/create-nfts",element:l.jsx(jhe,{})}),l.jsx(nr,{path:"/create-dreams",element:l.jsx(kxe,{})}),l.jsx(nr,{path:"/launchpad",element:l.jsx(Cxe,{})}),l.jsx(nr,{path:"/marketplace",element:l.jsx(Exe,{})}),l.jsx(nr,{path:"/json-upload",element:l.jsx(jxe,{})}),l.jsx(nr,{path:"/dashboard",element:l.jsx(Txe,{})}),l.jsx(nr,{path:"/launchpad/active-sales",element:l.jsx(w9,{portalVideo:N9,portalHoverVideo:k9,showBaseVideoAlways:!0})}),l.jsx(nr,{path:"/active-sales",element:l.jsx(w9,{portalVideo:N9,portalHoverVideo:k9,showBaseVideoAlways:!0})}),l.jsx(nr,{path:"/manage/:address",element:l.jsx(Fxe,{})}),l.jsx(nr,{path:"/edit-phases/:address",element:l.jsx(Lxe,{})}),l.jsx(nr,{path:"/manage-wls/:address",element:l.jsx(Uxe,{})}),l.jsx(nr,{path:"/edit-nfts/:address",element:l.jsx($xe,{})}),l.jsx(nr,{path:"/launchpad/collection/:address",element:l.jsx(Yxe,{})}),l.jsx(nr,{path:"/my-nfts",element:l.jsx(tve,{})}),l.jsx(nr,{path:"/somnia-quest",element:l.jsx(ive,{})}),l.jsx(nr,{path:"/privacy",element:l.jsx(ove,{})}),l.jsx(nr,{path:"/terms",element:l.jsx(lve,{})}),l.jsx(nr,{path:"/test",element:l.jsx(Sde,{})}),l.jsx(nr,{path:"/simple",element:l.jsx(jde,{})}),l.jsx(nr,{path:"/reown-test",element:l.jsx(_de,{})})]})}),l.jsx(bde,{})]})})})})}const uve=new VR({defaultOptions:{queries:{retry:3,retryDelay:1e3,staleTime:3e4,gcTime:3e5}}});yre.createRoot(document.getElementById("root")).render(l.jsx(Ze.StrictMode,{children:l.jsx(QF,{children:l.jsx(YR,{client:uve,children:l.jsx(cve,{})})})}));export{Dk as $,St as A,Nd as B,Cr as C,$a as D,fl as E,Lc as F,xve as G,Gb as H,_m as I,nZ as J,Ox as K,HY as L,zt as M,ki as N,DW as O,pve as P,XO as Q,gve as R,fve as S,_c as T,qK as U,Vr as V,Ha as W,yve as X,Jr as Y,QS as Z,hve as _,vd as a,so as a0,We as a1,hl as a2,LV as a3,ty as a4,Gs as a5,cO as a6,uq as a7,F5 as a8,hO as a9,bl as aa,Td as ab,ur as ac,wve as ad,mve as ae,UY as af,Zwe as ag,C9 as ah,Iae as ai,bv as aj,vve as ak,Jx as b,co as c,ji as d,vi as e,ly as f,bve as g,hq as h,ho as i,j,Nm as k,l,pa as m,aR as n,ol as o,Qf as p,Yr as q,sy as r,iC as s,il as t,P9 as u,xi as v,zx as w,vc as x,bg as y,sO as z};
//# sourceMappingURL=index-BXl0OWaV.js.map
